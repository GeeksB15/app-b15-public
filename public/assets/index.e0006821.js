const wB=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),TA={},IB="/",ze=function(t,o){return!o||o.length===0?t():Promise.all(o.map(r=>{if(r=`${IB}${r}`,r in TA)return;TA[r]=!0;const a=r.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const n=document.createElement("link");if(n.rel=a?"stylesheet":wB,a||(n.as="script",n.crossOrigin=""),n.href=r,document.head.appendChild(n),a)return new Promise((s,l)=>{n.addEventListener("load",s),n.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function Ei(e,t){const o=Object.create(null),r=e.split(",");for(let a=0;a<r.length;a++)o[r[a]]=!0;return t?a=>!!o[a.toLowerCase()]:a=>!!o[a]}const Ro={},Wd=[],ri=()=>{},_1=()=>!1,Vu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),MC=e=>e.startsWith("onUpdate:"),To=Object.assign,NC=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},EB=Object.prototype.hasOwnProperty,Ao=(e,t)=>EB.call(e,t),pt=Array.isArray,Xd=e=>Df(e)==="[object Map]",qu=e=>Df(e)==="[object Set]",OA=e=>Df(e)==="[object Date]",SB=e=>Df(e)==="[object RegExp]",Kt=e=>typeof e=="function",io=e=>typeof e=="string",Qn=e=>typeof e=="symbol",jo=e=>e!==null&&typeof e=="object",FC=e=>(jo(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch),jD=Object.prototype.toString,Df=e=>jD.call(e),AB=e=>Df(e).slice(8,-1),GD=e=>Df(e)==="[object Object]",RC=e=>io(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fu=Ei(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),TB=Ei("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),jv=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},OB=/-(\w)/g,Za=jv(e=>e.replace(OB,(t,o)=>o?o.toUpperCase():"")),DB=/\B([A-Z])/g,Gi=jv(e=>e.replace(DB,"-$1").toLowerCase()),Bu=jv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yd=jv(e=>e?`on${Bu(e)}`:""),dc=(e,t)=>!Object.is(e,t),Kd=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},U1=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},z1=e=>{const t=parseFloat(e);return isNaN(t)?e:t},H1=e=>{const t=io(e)?Number(e):NaN;return isNaN(t)?e:t};let DA;const k2=()=>DA||(DA=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),PB="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",MB=Ei(PB);function Pf(e){if(pt(e)){const t={};for(let o=0;o<e.length;o++){const r=e[o],a=io(r)?WD(r):Pf(r);if(a)for(const i in a)t[i]=a[i]}return t}else if(io(e)||jo(e))return e}const NB=/;(?![^(]*\))/g,FB=/:([^]+)/,RB=/\/\*[^]*?\*\//g;function WD(e){const t={};return e.replace(RB,"").split(NB).forEach(o=>{if(o){const r=o.split(FB);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ii(e){let t="";if(io(e))t=e;else if(pt(e))for(let o=0;o<e.length;o++){const r=ii(e[o]);r&&(t+=r+" ")}else if(jo(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}function XD(e){if(!e)return null;let{class:t,style:o}=e;return t&&!io(t)&&(e.class=ii(t)),o&&(e.style=Pf(o)),e}const kB="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",VB="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",qB="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",BB=Ei(kB),LB=Ei(VB),$B=Ei(qB),UB="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zB=Ei(UB);function YD(e){return!!e||e===""}function HB(e,t){if(e.length!==t.length)return!1;let o=!0;for(let r=0;o&&r<e.length;r++)o=fc(e[r],t[r]);return o}function fc(e,t){if(e===t)return!0;let o=OA(e),r=OA(t);if(o||r)return o&&r?e.getTime()===t.getTime():!1;if(o=Qn(e),r=Qn(t),o||r)return e===t;if(o=pt(e),r=pt(t),o||r)return o&&r?HB(e,t):!1;if(o=jo(e),r=jo(t),o||r){if(!o||!r)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const n in e){const s=e.hasOwnProperty(n),l=t.hasOwnProperty(n);if(s&&!l||!s&&l||!fc(e[n],t[n]))return!1}}return String(e)===String(t)}function Gv(e,t){return e.findIndex(o=>fc(o,t))}const de=e=>io(e)?e:e==null?"":pt(e)||jo(e)&&(e.toString===jD||!Kt(e.toString))?JSON.stringify(e,KD,2):String(e),KD=(e,t)=>t&&t.__v_isRef?KD(e,t.value):Xd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[r,a],i)=>(o[wb(r,i)+" =>"]=a,o),{})}:qu(t)?{[`Set(${t.size})`]:[...t.values()].map(o=>wb(o))}:Qn(t)?wb(t):jo(t)&&!pt(t)&&!GD(t)?String(t):t,wb=(e,t="")=>{var o;return Qn(e)?`Symbol(${(o=e.description)!=null?o:t})`:e};let $i;class kC{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$i,!t&&$i&&(this.index=($i.scopes||($i.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=$i;try{return $i=this,t()}finally{$i=o}}}on(){$i=this}off(){$i=this.parent}stop(t){if(this._active){let o,r;for(o=0,r=this.effects.length;o<r;o++)this.effects[o].stop();for(o=0,r=this.cleanups.length;o<r;o++)this.cleanups[o]();if(this.scopes)for(o=0,r=this.scopes.length;o<r;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function jB(e){return new kC(e)}function QD(e,t=$i){t&&t.active&&t.effects.push(e)}function JD(){return $i}function GB(e){$i&&$i.cleanups.push(e)}const VC=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ZD=e=>(e.w&mc)>0,eP=e=>(e.n&mc)>0,WB=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=mc},XB=e=>{const{deps:t}=e;if(t.length){let o=0;for(let r=0;r<t.length;r++){const a=t[r];ZD(a)&&!eP(a)?a.delete(e):t[o++]=a,a.w&=~mc,a.n&=~mc}t.length=o}},j1=new WeakMap;let qm=0,mc=1;const V2=30;let zn;const mu=Symbol(""),q2=Symbol("");class cf{constructor(t,o=null,r){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,QD(this,r)}run(){if(!this.active)return this.fn();let t=zn,o=rc;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=zn,zn=this,rc=!0,mc=1<<++qm,qm<=V2?WB(this):PA(this),this.fn()}finally{qm<=V2&&XB(this),mc=1<<--qm,zn=this.parent,rc=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){zn===this?this.deferStop=!0:this.active&&(PA(this),this.onStop&&this.onStop(),this.active=!1)}}function PA(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}function YB(e,t){e.effect instanceof cf&&(e=e.effect.fn);const o=new cf(e);t&&(To(o,t),t.scope&&QD(o,t.scope)),(!t||!t.lazy)&&o.run();const r=o.run.bind(o);return r.effect=o,r}function KB(e){e.effect.stop()}let rc=!0;const tP=[];function Mf(){tP.push(rc),rc=!1}function Nf(){const e=tP.pop();rc=e===void 0?!0:e}function xi(e,t,o){if(rc&&zn){let r=j1.get(e);r||j1.set(e,r=new Map);let a=r.get(o);a||r.set(o,a=VC()),oP(a)}}function oP(e,t){let o=!1;qm<=V2?eP(e)||(e.n|=mc,o=!ZD(e)):o=!e.has(zn),o&&(e.add(zn),zn.deps.push(e))}function el(e,t,o,r,a,i){const n=j1.get(e);if(!n)return;let s=[];if(t==="clear")s=[...n.values()];else if(o==="length"&&pt(e)){const l=Number(r);n.forEach((u,c)=>{(c==="length"||!Qn(c)&&c>=l)&&s.push(u)})}else switch(o!==void 0&&s.push(n.get(o)),t){case"add":pt(e)?RC(o)&&s.push(n.get("length")):(s.push(n.get(mu)),Xd(e)&&s.push(n.get(q2)));break;case"delete":pt(e)||(s.push(n.get(mu)),Xd(e)&&s.push(n.get(q2)));break;case"set":Xd(e)&&s.push(n.get(mu));break}if(s.length===1)s[0]&&B2(s[0]);else{const l=[];for(const u of s)u&&l.push(...u);B2(VC(l))}}function B2(e,t){const o=pt(e)?e:[...e];for(const r of o)r.computed&&MA(r);for(const r of o)r.computed||MA(r)}function MA(e,t){(e!==zn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function QB(e,t){var o;return(o=j1.get(e))==null?void 0:o.get(t)}const JB=Ei("__proto__,__v_isRef,__isVue"),aP=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qn)),NA=ZB();function ZB(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const r=oo(this);for(let i=0,n=this.length;i<n;i++)xi(r,"get",i+"");const a=r[t](...o);return a===-1||a===!1?r[t](...o.map(oo)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){Mf();const r=oo(this)[t].apply(this,o);return Nf(),r}}),e}function eL(e){const t=oo(this);return xi(t,"has",e),t.hasOwnProperty(e)}class rP{constructor(t=!1,o=!1){this._isReadonly=t,this._shallow=o}get(t,o,r){const a=this._isReadonly,i=this._shallow;if(o==="__v_isReactive")return!a;if(o==="__v_isReadonly")return a;if(o==="__v_isShallow")return i;if(o==="__v_raw")return r===(a?i?uP:cP:i?lP:sP).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const n=pt(t);if(!a){if(n&&Ao(NA,o))return Reflect.get(NA,o,r);if(o==="hasOwnProperty")return eL}const s=Reflect.get(t,o,r);return(Qn(o)?aP.has(o):JB(o))||(a||xi(t,"get",o),i)?s:br(s)?n&&RC(o)?s:s.value:jo(s)?a?BC(s):Gn(s):s}}class iP extends rP{constructor(t=!1){super(!1,t)}set(t,o,r,a){let i=t[o];if(!this._shallow){const l=Su(i);if(!gp(r)&&!Su(r)&&(i=oo(i),r=oo(r)),!pt(t)&&br(i)&&!br(r))return l?!1:(i.value=r,!0)}const n=pt(t)&&RC(o)?Number(o)<t.length:Ao(t,o),s=Reflect.set(t,o,r,a);return t===oo(a)&&(n?dc(r,i)&&el(t,"set",o,r):el(t,"add",o,r)),s}deleteProperty(t,o){const r=Ao(t,o);t[o];const a=Reflect.deleteProperty(t,o);return a&&r&&el(t,"delete",o,void 0),a}has(t,o){const r=Reflect.has(t,o);return(!Qn(o)||!aP.has(o))&&xi(t,"has",o),r}ownKeys(t){return xi(t,"iterate",pt(t)?"length":mu),Reflect.ownKeys(t)}}class nP extends rP{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const tL=new iP,oL=new nP,aL=new iP(!0),rL=new nP(!0),qC=e=>e,Wv=e=>Reflect.getPrototypeOf(e);function Ih(e,t,o=!1,r=!1){e=e.__v_raw;const a=oo(e),i=oo(t);o||(dc(t,i)&&xi(a,"get",t),xi(a,"get",i));const{has:n}=Wv(a),s=r?qC:o?$C:_p;if(n.call(a,t))return s(e.get(t));if(n.call(a,i))return s(e.get(i));e!==a&&e.get(t)}function Eh(e,t=!1){const o=this.__v_raw,r=oo(o),a=oo(e);return t||(dc(e,a)&&xi(r,"has",e),xi(r,"has",a)),e===a?o.has(e):o.has(e)||o.has(a)}function Sh(e,t=!1){return e=e.__v_raw,!t&&xi(oo(e),"iterate",mu),Reflect.get(e,"size",e)}function FA(e){e=oo(e);const t=oo(this);return Wv(t).has.call(t,e)||(t.add(e),el(t,"add",e,e)),this}function RA(e,t){t=oo(t);const o=oo(this),{has:r,get:a}=Wv(o);let i=r.call(o,e);i||(e=oo(e),i=r.call(o,e));const n=a.call(o,e);return o.set(e,t),i?dc(t,n)&&el(o,"set",e,t):el(o,"add",e,t),this}function kA(e){const t=oo(this),{has:o,get:r}=Wv(t);let a=o.call(t,e);a||(e=oo(e),a=o.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&el(t,"delete",e,void 0),i}function VA(){const e=oo(this),t=e.size!==0,o=e.clear();return t&&el(e,"clear",void 0,void 0),o}function Ah(e,t){return function(r,a){const i=this,n=i.__v_raw,s=oo(n),l=t?qC:e?$C:_p;return!e&&xi(s,"iterate",mu),n.forEach((u,c)=>r.call(a,l(u),l(c),i))}}function Th(e,t,o){return function(...r){const a=this.__v_raw,i=oo(a),n=Xd(i),s=e==="entries"||e===Symbol.iterator&&n,l=e==="keys"&&n,u=a[e](...r),c=o?qC:t?$C:_p;return!t&&xi(i,"iterate",l?q2:mu),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:s?[c(d[0]),c(d[1])]:c(d),done:m}},[Symbol.iterator](){return this}}}}function Dl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function iL(){const e={get(i){return Ih(this,i)},get size(){return Sh(this)},has:Eh,add:FA,set:RA,delete:kA,clear:VA,forEach:Ah(!1,!1)},t={get(i){return Ih(this,i,!1,!0)},get size(){return Sh(this)},has:Eh,add:FA,set:RA,delete:kA,clear:VA,forEach:Ah(!1,!0)},o={get(i){return Ih(this,i,!0)},get size(){return Sh(this,!0)},has(i){return Eh.call(this,i,!0)},add:Dl("add"),set:Dl("set"),delete:Dl("delete"),clear:Dl("clear"),forEach:Ah(!0,!1)},r={get(i){return Ih(this,i,!0,!0)},get size(){return Sh(this,!0)},has(i){return Eh.call(this,i,!0)},add:Dl("add"),set:Dl("set"),delete:Dl("delete"),clear:Dl("clear"),forEach:Ah(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Th(i,!1,!1),o[i]=Th(i,!0,!1),t[i]=Th(i,!1,!0),r[i]=Th(i,!0,!0)}),[e,o,t,r]}const[nL,sL,lL,cL]=iL();function Xv(e,t){const o=t?e?cL:lL:e?sL:nL;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Ao(o,a)&&a in r?o:r,a,i)}const uL={get:Xv(!1,!1)},dL={get:Xv(!1,!0)},fL={get:Xv(!0,!1)},mL={get:Xv(!0,!0)},sP=new WeakMap,lP=new WeakMap,cP=new WeakMap,uP=new WeakMap;function pL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hL(e){return e.__v_skip||!Object.isExtensible(e)?0:pL(AB(e))}function Gn(e){return Su(e)?e:Kv(e,!1,tL,uL,sP)}function Yv(e){return Kv(e,!1,aL,dL,lP)}function BC(e){return Kv(e,!0,oL,fL,cP)}function vL(e){return Kv(e,!0,rL,mL,uP)}function Kv(e,t,o,r,a){if(!jo(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const n=hL(e);if(n===0)return e;const s=new Proxy(e,n===2?r:o);return a.set(e,s),s}function pu(e){return Su(e)?pu(e.__v_raw):!!(e&&e.__v_isReactive)}function Su(e){return!!(e&&e.__v_isReadonly)}function gp(e){return!!(e&&e.__v_isShallow)}function LC(e){return pu(e)||Su(e)}function oo(e){const t=e&&e.__v_raw;return t?oo(t):e}function Lu(e){return U1(e,"__v_skip",!0),e}const _p=e=>jo(e)?Gn(e):e,$C=e=>jo(e)?BC(e):e;function UC(e){rc&&zn&&(e=oo(e),oP(e.dep||(e.dep=VC())))}function Qv(e,t){e=oo(e);const o=e.dep;o&&B2(o)}function br(e){return!!(e&&e.__v_isRef===!0)}function $e(e){return fP(e,!1)}function dP(e){return fP(e,!0)}function fP(e,t){return br(e)?e:new gL(e,t)}class gL{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:oo(t),this._value=o?t:_p(t)}get value(){return UC(this),this._value}set value(t){const o=this.__v_isShallow||gp(t)||Su(t);t=o?t:oo(t),dc(t,this._rawValue)&&(this._rawValue=t,this._value=o?t:_p(t),Qv(this))}}function _L(e){Qv(e)}function tl(e){return br(e)?e.value:e}function bL(e){return Kt(e)?e():tl(e)}const yL={get:(e,t,o)=>tl(Reflect.get(e,t,o)),set:(e,t,o,r)=>{const a=e[t];return br(a)&&!br(o)?(a.value=o,!0):Reflect.set(e,t,o,r)}};function zC(e){return pu(e)?e:new Proxy(e,yL)}class CL{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:o,set:r}=t(()=>UC(this),()=>Qv(this));this._get=o,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function xL(e){return new CL(e)}function wL(e){const t=pt(e)?new Array(e.length):{};for(const o in e)t[o]=mP(e,o);return t}class IL{constructor(t,o,r){this._object=t,this._key=o,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return QB(oo(this._object),this._key)}}class EL{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function SL(e,t,o){return br(e)?e:Kt(e)?new EL(e):jo(e)&&arguments.length>1?mP(e,t,o):$e(e)}function mP(e,t,o){const r=e[t];return br(r)?r:new IL(e,t,o)}class AL{constructor(t,o,r,a){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new cf(t,()=>{this._dirty||(this._dirty=!0,Qv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=oo(this);return UC(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function TL(e,t,o=!1){let r,a;const i=Kt(e);return i?(r=e,a=ri):(r=e.get,a=e.set),new AL(r,a,i||!a,o)}function OL(e,...t){}function DL(e,t){}function ol(e,t,o,r){let a;try{a=r?e(...r):e()}catch(i){$u(i,t,o)}return a}function Ki(e,t,o,r){if(Kt(e)){const i=ol(e,t,o,r);return i&&FC(i)&&i.catch(n=>{$u(n,t,o)}),i}const a=[];for(let i=0;i<e.length;i++)a.push(Ki(e[i],t,o,r));return a}function $u(e,t,o,r=!0){const a=t?t.vnode:null;if(t){let i=t.parent;const n=t.proxy,s=o;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,n,s)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){ol(l,null,10,[e,n,s]);return}}PL(e,o,a,r)}function PL(e,t,o,r=!0){console.error(e)}let bp=!1,L2=!1;const Lr=[];let ps=0;const Qd=[];let $s=null,Zc=0;const pP=Promise.resolve();let HC=null;function Do(e){const t=HC||pP;return e?t.then(this?e.bind(this):e):t}function ML(e){let t=ps+1,o=Lr.length;for(;t<o;){const r=t+o>>>1,a=Lr[r],i=yp(a);i<e||i===e&&a.pre?t=r+1:o=r}return t}function Jv(e){(!Lr.length||!Lr.includes(e,bp&&e.allowRecurse?ps+1:ps))&&(e.id==null?Lr.push(e):Lr.splice(ML(e.id),0,e),hP())}function hP(){!bp&&!L2&&(L2=!0,HC=pP.then(vP))}function NL(e){const t=Lr.indexOf(e);t>ps&&Lr.splice(t,1)}function G1(e){pt(e)?Qd.push(...e):(!$s||!$s.includes(e,e.allowRecurse?Zc+1:Zc))&&Qd.push(e),hP()}function qA(e,t,o=bp?ps+1:0){for(;o<Lr.length;o++){const r=Lr[o];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Lr.splice(o,1),o--,r()}}}function W1(e){if(Qd.length){const t=[...new Set(Qd)];if(Qd.length=0,$s){$s.push(...t);return}for($s=t,$s.sort((o,r)=>yp(o)-yp(r)),Zc=0;Zc<$s.length;Zc++)$s[Zc]();$s=null,Zc=0}}const yp=e=>e.id==null?1/0:e.id,FL=(e,t)=>{const o=yp(e)-yp(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function vP(e){L2=!1,bp=!0,Lr.sort(FL);const t=ri;try{for(ps=0;ps<Lr.length;ps++){const o=Lr[ps];o&&o.active!==!1&&ol(o,null,14)}}finally{ps=0,Lr.length=0,W1(),bp=!1,HC=null,(Lr.length||Qd.length)&&vP()}}let Fd,Oh=[];function gP(e,t){var o,r;Fd=e,Fd?(Fd.enabled=!0,Oh.forEach(({event:a,args:i})=>Fd.emit(a,...i)),Oh=[]):typeof window!="undefined"&&window.HTMLElement&&!((r=(o=window.navigator)==null?void 0:o.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{gP(i,t)}),setTimeout(()=>{Fd||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Oh=[])},3e3)):Oh=[]}function RL(e,t,...o){if(e.isUnmounted)return;const r=e.vnode.props||Ro;let a=o;const i=t.startsWith("update:"),n=i&&t.slice(7);if(n&&n in r){const c=`${n==="modelValue"?"model":n}Modifiers`,{number:d,trim:m}=r[c]||Ro;m&&(a=o.map(f=>io(f)?f.trim():f)),d&&(a=o.map(z1))}let s,l=r[s=Yd(t)]||r[s=Yd(Za(t))];!l&&i&&(l=r[s=Yd(Gi(t))]),l&&Ki(l,e,6,a);const u=r[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Ki(u,e,6,a)}}function _P(e,t,o=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let n={},s=!1;if(!Kt(e)){const l=u=>{const c=_P(u,t,!0);c&&(s=!0,To(n,c))};!o&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(jo(e)&&r.set(e,null),null):(pt(i)?i.forEach(l=>n[l]=null):To(n,i),jo(e)&&r.set(e,n),n)}function Zv(e,t){return!e||!Vu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ao(e,t[0].toLowerCase()+t.slice(1))||Ao(e,Gi(t))||Ao(e,t))}let vr=null,eg=null;function Cp(e){const t=vr;return vr=e,eg=e&&e.type.__scopeId||null,t}function An(e){eg=e}function Tn(){eg=null}const kL=e=>w;function w(e,t=vr,o){if(!t||e._n)return e;const r=(...a)=>{r._d&&W2(-1);const i=Cp(t);let n;try{n=e(...a)}finally{Cp(i),r._d&&W2(1)}return n};return r._n=!0,r._c=!0,r._d=!0,r}function b1(e){const{type:t,vnode:o,proxy:r,withProxy:a,props:i,propsOptions:[n],slots:s,attrs:l,emit:u,render:c,renderCache:d,data:m,setupState:f,ctx:p,inheritAttrs:g}=e;let b,x;const _=Cp(e);try{if(o.shapeFlag&4){const I=a||r,S=I;b=Hi(c.call(S,I,d,i,f,m,p)),x=l}else{const I=t;b=Hi(I.length>1?I(i,{attrs:l,slots:s,emit:u}):I(i,null)),x=t.props?l:qL(l)}}catch(I){op.length=0,$u(I,e,1),b=v(Hr)}let y=b;if(x&&g!==!1){const I=Object.keys(x),{shapeFlag:S}=y;I.length&&S&7&&(n&&I.some(MC)&&(x=BL(x,n)),y=ys(y,x))}return o.dirs&&(y=ys(y),y.dirs=y.dirs?y.dirs.concat(o.dirs):o.dirs),o.transition&&(y.transition=o.transition),b=y,Cp(_),b}function VL(e){let t;for(let o=0;o<e.length;o++){const r=e[o];if(pc(r)){if(r.type!==Hr||r.children==="v-if"){if(t)return;t=r}}else return}return t}const qL=e=>{let t;for(const o in e)(o==="class"||o==="style"||Vu(o))&&((t||(t={}))[o]=e[o]);return t},BL=(e,t)=>{const o={};for(const r in e)(!MC(r)||!(r.slice(9)in t))&&(o[r]=e[r]);return o};function LL(e,t,o){const{props:r,children:a,component:i}=e,{props:n,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&l>=0){if(l&1024)return!0;if(l&16)return r?BA(r,n,u):!!n;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const m=c[d];if(n[m]!==r[m]&&!Zv(u,m))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:r===n?!1:r?n?BA(r,n,u):!0:!!n;return!1}function BA(e,t,o){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!Zv(o,i))return!0}return!1}function jC({vnode:e,parent:t},o){for(;t&&t.subTree===e;)(e=t.vnode).el=o,t=t.parent}const GC="components",$L="directives";function ke(e,t){return XC(GC,e,!0,t)||e}const bP=Symbol.for("v-ndc");function UL(e){return io(e)?XC(GC,e,!1)||e:e||bP}function WC(e){return XC($L,e)}function XC(e,t,o=!0,r=!1){const a=vr||Qa;if(a){const i=a.type;if(e===GC){const s=K2(i,!1);if(s&&(s===t||s===Za(t)||s===Bu(Za(t))))return i}const n=LA(a[e]||i[e],t)||LA(a.appContext[e],t);return!n&&r?i:n}}function LA(e,t){return e&&(e[t]||e[Za(t)]||e[Bu(Za(t))])}const yP=e=>e.__isSuspense,zL={name:"Suspense",__isSuspense:!0,process(e,t,o,r,a,i,n,s,l,u){e==null?jL(t,o,r,a,i,n,s,l,u):GL(e,t,o,r,a,n,s,l,u)},hydrate:WL,create:YC,normalize:XL},HL=zL;function xp(e,t){const o=e.props&&e.props[t];Kt(o)&&o()}function jL(e,t,o,r,a,i,n,s,l){const{p:u,o:{createElement:c}}=l,d=c("div"),m=e.suspense=YC(e,a,r,t,d,o,i,n,s,l);u(null,m.pendingBranch=e.ssContent,d,null,r,m,i,n),m.deps>0?(xp(e,"onPending"),xp(e,"onFallback"),u(null,e.ssFallback,t,o,r,null,i,n),Jd(m,e.ssFallback)):m.resolve(!1,!0)}function GL(e,t,o,r,a,i,n,s,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const m=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:b,isHydrating:x}=d;if(g)d.pendingBranch=m,Hn(m,g)?(l(g,m,d.hiddenContainer,null,a,d,i,n,s),d.deps<=0?d.resolve():b&&(l(p,f,o,r,a,null,i,n,s),Jd(d,f))):(d.pendingId++,x?(d.isHydrating=!1,d.activeBranch=g):u(g,a,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),b?(l(null,m,d.hiddenContainer,null,a,d,i,n,s),d.deps<=0?d.resolve():(l(p,f,o,r,a,null,i,n,s),Jd(d,f))):p&&Hn(m,p)?(l(p,m,o,r,a,d,i,n,s),d.resolve(!0)):(l(null,m,d.hiddenContainer,null,a,d,i,n,s),d.deps<=0&&d.resolve()));else if(p&&Hn(m,p))l(p,m,o,r,a,d,i,n,s),Jd(d,m);else if(xp(t,"onPending"),d.pendingBranch=m,d.pendingId++,l(null,m,d.hiddenContainer,null,a,d,i,n,s),d.deps<=0)d.resolve();else{const{timeout:_,pendingId:y}=d;_>0?setTimeout(()=>{d.pendingId===y&&d.fallback(f)},_):_===0&&d.fallback(f)}}function YC(e,t,o,r,a,i,n,s,l,u,c=!1){const{p:d,m,um:f,n:p,o:{parentNode:g,remove:b}}=u;let x;const _=YL(e);_&&t!=null&&t.pendingBranch&&(x=t.pendingId,t.deps++);const y=e.props?H1(e.props.timeout):void 0,I={vnode:e,parent:t,parentComponent:o,isSVG:n,container:r,hiddenContainer:a,anchor:i,deps:0,pendingId:0,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(S=!1,O=!1){const{vnode:F,activeBranch:M,pendingBranch:E,pendingId:D,effects:P,parentComponent:N,container:R}=I;let z=!1;if(I.isHydrating)I.isHydrating=!1;else if(!S){z=M&&E.transition&&E.transition.mode==="out-in",z&&(M.transition.afterLeave=()=>{D===I.pendingId&&(m(E,R,p(M),0),G1(P))});let{anchor:Q}=I;M&&(Q=p(M),f(M,N,I,!0)),z||m(E,R,Q,0)}Jd(I,E),I.pendingBranch=null,I.isInFallback=!1;let W=I.parent,j=!1;for(;W;){if(W.pendingBranch){W.effects.push(...P),j=!0;break}W=W.parent}!j&&!z&&G1(P),I.effects=[],_&&t&&t.pendingBranch&&x===t.pendingId&&(t.deps--,t.deps===0&&!O&&t.resolve()),xp(F,"onResolve")},fallback(S){if(!I.pendingBranch)return;const{vnode:O,activeBranch:F,parentComponent:M,container:E,isSVG:D}=I;xp(O,"onFallback");const P=p(F),N=()=>{!I.isInFallback||(d(null,S,E,P,M,null,D,s,l),Jd(I,S))},R=S.transition&&S.transition.mode==="out-in";R&&(F.transition.afterLeave=N),I.isInFallback=!0,f(F,M,null,!0),R||N()},move(S,O,F){I.activeBranch&&m(I.activeBranch,S,O,F),I.container=S},next(){return I.activeBranch&&p(I.activeBranch)},registerDep(S,O){const F=!!I.pendingBranch;F&&I.deps++;const M=S.vnode.el;S.asyncDep.catch(E=>{$u(E,S,0)}).then(E=>{if(S.isUnmounted||I.isUnmounted||I.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:D}=S;X2(S,E,!1),M&&(D.el=M);const P=!M&&S.subTree.el;O(S,D,g(M||S.subTree.el),M?null:p(S.subTree),I,n,l),P&&b(P),jC(S,D.el),F&&--I.deps===0&&I.resolve()})},unmount(S,O){I.isUnmounted=!0,I.activeBranch&&f(I.activeBranch,o,S,O),I.pendingBranch&&f(I.pendingBranch,o,S,O)}};return I}function WL(e,t,o,r,a,i,n,s,l){const u=t.suspense=YC(t,r,o,e.parentNode,document.createElement("div"),null,a,i,n,s,!0),c=l(e,u.pendingBranch=t.ssContent,o,u,i,n);return u.deps===0&&u.resolve(!1,!0),c}function XL(e){const{shapeFlag:t,children:o}=e,r=t&32;e.ssContent=$A(r?o.default:o),e.ssFallback=r?$A(o.fallback):v(Hr)}function $A(e){let t;if(Kt(e)){const o=Ou&&e._c;o&&(e._d=!1,$()),e=e(),o&&(e._d=!0,t=_i,WP())}return pt(e)&&(e=VL(e)),e=Hi(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(o=>o!==e)),e}function CP(e,t){t&&t.pendingBranch?pt(e)?t.effects.push(...e):t.effects.push(e):G1(e)}function Jd(e,t){e.activeBranch=t;const{vnode:o,parentComponent:r}=e,a=o.el=t.el;r&&r.subTree===o&&(r.vnode.el=a,jC(r,a))}function YL(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function KL(e,t){return Jp(e,null,t)}function xP(e,t){return Jp(e,null,{flush:"post"})}function QL(e,t){return Jp(e,null,{flush:"sync"})}const Dh={};function rt(e,t,o){return Jp(e,t,o)}function Jp(e,t,{immediate:o,deep:r,flush:a,onTrack:i,onTrigger:n}=Ro){var s;const l=JD()===((s=Qa)==null?void 0:s.scope)?Qa:null;let u,c=!1,d=!1;if(br(e)?(u=()=>e.value,c=gp(e)):pu(e)?(u=()=>e,r=!0):pt(e)?(d=!0,c=e.some(I=>pu(I)||gp(I)),u=()=>e.map(I=>{if(br(I))return I.value;if(pu(I))return au(I);if(Kt(I))return ol(I,l,2)})):Kt(e)?t?u=()=>ol(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return m&&m(),Ki(e,l,3,[f])}:u=ri,t&&r){const I=u;u=()=>au(I())}let m,f=I=>{m=_.onStop=()=>{ol(I,l,4),m=_.onStop=void 0}},p;if(df)if(f=ri,t?o&&Ki(t,l,3,[u(),d?[]:void 0,f]):u(),a==="sync"){const I=a4();p=I.__watcherHandles||(I.__watcherHandles=[])}else return ri;let g=d?new Array(e.length).fill(Dh):Dh;const b=()=>{if(!!_.active)if(t){const I=_.run();(r||c||(d?I.some((S,O)=>dc(S,g[O])):dc(I,g)))&&(m&&m(),Ki(t,l,3,[I,g===Dh?void 0:d&&g[0]===Dh?[]:g,f]),g=I)}else _.run()};b.allowRecurse=!!t;let x;a==="sync"?x=b:a==="post"?x=()=>Ir(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),x=()=>Jv(b));const _=new cf(u,x);t?o?b():g=_.run():a==="post"?Ir(_.run.bind(_),l&&l.suspense):_.run();const y=()=>{_.stop(),l&&l.scope&&NC(l.scope.effects,_)};return p&&p.push(y),y}function JL(e,t,o){const r=this.proxy,a=io(e)?e.includes(".")?wP(r,e):()=>r[e]:e.bind(r,r);let i;Kt(t)?i=t:(i=t.handler,o=t);const n=Qa;hc(this);const s=Jp(a,i.bind(r),o);return n?hc(n):ic(),s}function wP(e,t){const o=t.split(".");return()=>{let r=e;for(let a=0;a<o.length&&r;a++)r=r[o[a]];return r}}function au(e,t){if(!jo(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),br(e))au(e.value,t);else if(pt(e))for(let o=0;o<e.length;o++)au(e[o],t);else if(qu(e)||Xd(e))e.forEach(o=>{au(o,t)});else if(GD(e))for(const o in e)au(e[o],t);return e}function Te(e,t){const o=vr;if(o===null)return e;const r=ng(o)||o.proxy,a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[n,s,l,u=Ro]=t[i];n&&(Kt(n)&&(n={mounted:n,updated:n}),n.deep&&au(s),a.push({dir:n,instance:r,value:s,oldValue:void 0,arg:l,modifiers:u}))}return e}function fs(e,t,o,r){const a=e.dirs,i=t&&t.dirs;for(let n=0;n<a.length;n++){const s=a[n];i&&(s.oldValue=i[n].value);let l=s.dir[r];l&&(Mf(),Ki(l,o,8,[e.el,s,e,t]),Nf())}}const Hl=Symbol("_leaveCb"),Ph=Symbol("_enterCb");function KC(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tr(()=>{e.isMounted=!0}),wo(()=>{e.isUnmounting=!0}),e}const pn=[Function,Array],QC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pn,onEnter:pn,onAfterEnter:pn,onEnterCancelled:pn,onBeforeLeave:pn,onLeave:pn,onAfterLeave:pn,onLeaveCancelled:pn,onBeforeAppear:pn,onAppear:pn,onAfterAppear:pn,onAppearCancelled:pn},ZL={name:"BaseTransition",props:QC,setup(e,{slots:t}){const o=Ct(),r=KC();let a;return()=>{const i=t.default&&tg(t.default(),!0);if(!i||!i.length)return;let n=i[0];if(i.length>1){for(const g of i)if(g.type!==Hr){n=g;break}}const s=oo(e),{mode:l}=s;if(r.isLeaving)return Ib(n);const u=UA(n);if(!u)return Ib(n);const c=uf(u,s,r,o);Au(u,c);const d=o.subTree,m=d&&UA(d);let f=!1;const{getTransitionKey:p}=u.type;if(p){const g=p();a===void 0?a=g:g!==a&&(a=g,f=!0)}if(m&&m.type!==Hr&&(!Hn(u,m)||f)){const g=uf(m,s,r,o);if(Au(m,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,o.update.active!==!1&&o.update()},Ib(n);l==="in-out"&&u.type!==Hr&&(g.delayLeave=(b,x,_)=>{const y=EP(r,m);y[String(m.key)]=m,b[Hl]=()=>{x(),b[Hl]=void 0,delete c.delayedLeave},c.delayedLeave=_})}return n}}},IP=ZL;function EP(e,t){const{leavingVNodes:o}=e;let r=o.get(t.type);return r||(r=Object.create(null),o.set(t.type,r)),r}function uf(e,t,o,r){const{appear:a,mode:i,persisted:n=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:m,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:b,onAfterAppear:x,onAppearCancelled:_}=t,y=String(e.key),I=EP(o,e),S=(M,E)=>{M&&Ki(M,r,9,E)},O=(M,E)=>{const D=E[1];S(M,E),pt(M)?M.every(P=>P.length<=1)&&D():M.length<=1&&D()},F={mode:i,persisted:n,beforeEnter(M){let E=s;if(!o.isMounted)if(a)E=g||s;else return;M[Hl]&&M[Hl](!0);const D=I[y];D&&Hn(e,D)&&D.el[Hl]&&D.el[Hl](),S(E,[M])},enter(M){let E=l,D=u,P=c;if(!o.isMounted)if(a)E=b||l,D=x||u,P=_||c;else return;let N=!1;const R=M[Ph]=z=>{N||(N=!0,z?S(P,[M]):S(D,[M]),F.delayedLeave&&F.delayedLeave(),M[Ph]=void 0)};E?O(E,[M,R]):R()},leave(M,E){const D=String(e.key);if(M[Ph]&&M[Ph](!0),o.isUnmounting)return E();S(d,[M]);let P=!1;const N=M[Hl]=R=>{P||(P=!0,E(),R?S(p,[M]):S(f,[M]),M[Hl]=void 0,I[D]===e&&delete I[D])};I[D]=e,m?O(m,[M,N]):N()},clone(M){return uf(M,t,o,r)}};return F}function Ib(e){if(Zp(e))return e=ys(e),e.children=null,e}function UA(e){return Zp(e)?e.children?e.children[0]:void 0:e}function Au(e,t){e.shapeFlag&6&&e.component?Au(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function tg(e,t=!1,o){let r=[],a=0;for(let i=0;i<e.length;i++){let n=e[i];const s=o==null?n.key:String(o)+String(n.key!=null?n.key:i);n.type===Qe?(n.patchFlag&128&&a++,r=r.concat(tg(n.children,t,s))):(t||n.type!==Hr)&&r.push(s!=null?ys(n,{key:s}):n)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ff(e,t){return Kt(e)?(()=>To({name:e.name},t,{setup:e}))():e}const hu=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function e$(e){Kt(e)&&(e={loader:e});const{loader:t,loadingComponent:o,errorComponent:r,delay:a=200,timeout:i,suspensible:n=!0,onError:s}=e;let l=null,u,c=0;const d=()=>(c++,l=null,m()),m=()=>{let f;return l||(f=l=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),s)return new Promise((g,b)=>{s(p,()=>g(d()),()=>b(p),c+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Ff({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return u},setup(){const f=Qa;if(u)return()=>Eb(u,f);const p=_=>{l=null,$u(_,f,13,!r)};if(n&&f.suspense||df)return m().then(_=>()=>Eb(_,f)).catch(_=>(p(_),()=>r?v(r,{error:_}):null));const g=$e(!1),b=$e(),x=$e(!!a);return a&&setTimeout(()=>{x.value=!1},a),i!=null&&setTimeout(()=>{if(!g.value&&!b.value){const _=new Error(`Async component timed out after ${i}ms.`);p(_),b.value=_}},i),m().then(()=>{g.value=!0,f.parent&&Zp(f.parent.vnode)&&Jv(f.parent.update)}).catch(_=>{p(_),b.value=_}),()=>{if(g.value&&u)return Eb(u,f);if(b.value&&r)return v(r,{error:b.value});if(o&&!x.value)return v(o)}}})}function Eb(e,t){const{ref:o,props:r,children:a,ce:i}=t.vnode,n=v(e,r,a);return n.ref=o,n.ce=i,delete t.vnode.ce,n}const Zp=e=>e.type.__isKeepAlive,t$={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const o=Ct(),r=o.ctx;if(!r.renderer)return()=>{const _=t.default&&t.default();return _&&_.length===1?_[0]:_};const a=new Map,i=new Set;let n=null;const s=o.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,m=d("div");r.activate=(_,y,I,S,O)=>{const F=_.component;u(_,y,I,0,s),l(F.vnode,_,y,I,F,s,S,_.slotScopeIds,O),Ir(()=>{F.isDeactivated=!1,F.a&&Kd(F.a);const M=_.props&&_.props.onVnodeMounted;M&&vi(M,F.parent,_)},s)},r.deactivate=_=>{const y=_.component;u(_,m,null,1,s),Ir(()=>{y.da&&Kd(y.da);const I=_.props&&_.props.onVnodeUnmounted;I&&vi(I,y.parent,_),y.isDeactivated=!0},s)};function f(_){Sb(_),c(_,o,s,!0)}function p(_){a.forEach((y,I)=>{const S=K2(y.type);S&&(!_||!_(S))&&g(I)})}function g(_){const y=a.get(_);!n||!Hn(y,n)?f(y):n&&Sb(n),a.delete(_),i.delete(_)}rt(()=>[e.include,e.exclude],([_,y])=>{_&&p(I=>Bm(_,I)),y&&p(I=>!Bm(y,I))},{flush:"post",deep:!0});let b=null;const x=()=>{b!=null&&a.set(b,Ab(o.subTree))};return tr(x),t0(x),wo(()=>{a.forEach(_=>{const{subTree:y,suspense:I}=o,S=Ab(y);if(_.type===S.type&&_.key===S.key){Sb(S);const O=S.component.da;O&&Ir(O,I);return}f(_)})}),()=>{if(b=null,!t.default)return null;const _=t.default(),y=_[0];if(_.length>1)return n=null,_;if(!pc(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return n=null,y;let I=Ab(y);const S=I.type,O=K2(hu(I)?I.type.__asyncResolved||{}:S),{include:F,exclude:M,max:E}=e;if(F&&(!O||!Bm(F,O))||M&&O&&Bm(M,O))return n=I,y;const D=I.key==null?S:I.key,P=a.get(D);return I.el&&(I=ys(I),y.shapeFlag&128&&(y.ssContent=I)),b=D,P?(I.el=P.el,I.component=P.component,I.transition&&Au(I,I.transition),I.shapeFlag|=512,i.delete(D),i.add(D)):(i.add(D),E&&i.size>parseInt(E,10)&&g(i.values().next().value)),I.shapeFlag|=256,n=I,yP(y.type)?y:I}}},SP=t$;function Bm(e,t){return pt(e)?e.some(o=>Bm(o,t)):io(e)?e.split(",").includes(t):SB(e)?e.test(t):!1}function Uu(e,t){AP(e,"a",t)}function fl(e,t){AP(e,"da",t)}function AP(e,t,o=Qa){const r=e.__wdc||(e.__wdc=()=>{let a=o;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(og(t,r,o),o){let a=o.parent;for(;a&&a.parent;)Zp(a.parent.vnode)&&o$(r,t,o,a),a=a.parent}}function o$(e,t,o,r){const a=og(t,e,r,!0);Rf(()=>{NC(r[t],a)},o)}function Sb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ab(e){return e.shapeFlag&128?e.ssContent:e}function og(e,t,o=Qa,r=!1){if(o){const a=o[e]||(o[e]=[]),i=t.__weh||(t.__weh=(...n)=>{if(o.isUnmounted)return;Mf(),hc(o);const s=Ki(t,o,e,n);return ic(),Nf(),s});return r?a.unshift(i):a.push(i),i}}const ml=e=>(t,o=Qa)=>(!df||e==="sp")&&og(e,(...r)=>t(...r),o),e0=ml("bm"),tr=ml("m"),ag=ml("bu"),t0=ml("u"),wo=ml("bum"),Rf=ml("um"),TP=ml("sp"),OP=ml("rtg"),DP=ml("rtc");function PP(e,t=Qa){og("ec",e,t)}function zt(e,t,o,r){let a;const i=o&&o[r];if(pt(e)||io(e)){a=new Array(e.length);for(let n=0,s=e.length;n<s;n++)a[n]=t(e[n],n,void 0,i&&i[n])}else if(typeof e=="number"){a=new Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,i&&i[n])}else if(jo(e))if(e[Symbol.iterator])a=Array.from(e,(n,s)=>t(n,s,void 0,i&&i[s]));else{const n=Object.keys(e);a=new Array(n.length);for(let s=0,l=n.length;s<l;s++){const u=n[s];a[s]=t(e[u],u,s,i&&i[s])}}else a=[];return o&&(o[r]=a),a}function JC(e,t){for(let o=0;o<t.length;o++){const r=t[o];if(pt(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const i=r.fn(...a);return i&&(i.key=r.key),i}:r.fn)}return e}function ZC(e,t,o={},r,a){if(vr.isCE||vr.parent&&hu(vr.parent)&&vr.parent.isCE)return t!=="default"&&(o.name=t),v("slot",o,r&&r());let i=e[t];i&&i._c&&(i._d=!1),$();const n=i&&MP(i(o)),s=ue(Qe,{key:o.key||n&&n.key||`_${t}`},n||(r?r():[]),n&&e._===1?64:-2);return!a&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function MP(e){return e.some(t=>pc(t)?!(t.type===Hr||t.type===Qe&&!MP(t.children)):!0)?e:null}function a$(e,t){const o={};for(const r in e)o[t&&/[A-Z]/.test(r)?`on:${r}`:Yd(r)]=e[r];return o}const $2=e=>e?QP(e)?ng(e)||e.proxy:$2(e.parent):null,ep=To(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$2(e.parent),$root:e=>$2(e.root),$emit:e=>e.emit,$options:e=>ex(e),$forceUpdate:e=>e.f||(e.f=()=>Jv(e.update)),$nextTick:e=>e.n||(e.n=Do.bind(e.proxy)),$watch:e=>JL.bind(e)}),Tb=(e,t)=>e!==Ro&&!e.__isScriptSetup&&Ao(e,t),U2={get({_:e},t){const{ctx:o,setupState:r,data:a,props:i,accessCache:n,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const f=n[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return a[t];case 4:return o[t];case 3:return i[t]}else{if(Tb(r,t))return n[t]=1,r[t];if(a!==Ro&&Ao(a,t))return n[t]=2,a[t];if((u=e.propsOptions[0])&&Ao(u,t))return n[t]=3,i[t];if(o!==Ro&&Ao(o,t))return n[t]=4,o[t];z2&&(n[t]=0)}}const c=ep[t];let d,m;if(c)return t==="$attrs"&&xi(e,"get",t),c(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(o!==Ro&&Ao(o,t))return n[t]=4,o[t];if(m=l.config.globalProperties,Ao(m,t))return m[t]},set({_:e},t,o){const{data:r,setupState:a,ctx:i}=e;return Tb(a,t)?(a[t]=o,!0):r!==Ro&&Ao(r,t)?(r[t]=o,!0):Ao(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:r,appContext:a,propsOptions:i}},n){let s;return!!o[n]||e!==Ro&&Ao(e,n)||Tb(t,n)||(s=i[0])&&Ao(s,n)||Ao(r,n)||Ao(ep,n)||Ao(a.config.globalProperties,n)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:Ao(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}},r$=To({},U2,{get(e,t){if(t!==Symbol.unscopables)return U2.get(e,t,e)},has(e,t){return t[0]!=="_"&&!MB(t)}});function i$(){return null}function n$(){return null}function s$(e){}function l$(e){}function c$(){return null}function u$(){}function d$(e,t){return null}function f$(){return NP().slots}function m$(){return NP().attrs}function p$(e,t,o){const r=Ct();if(o&&o.local){const a=$e(e[t]);return rt(()=>e[t],i=>a.value=i),rt(a,i=>{i!==e[t]&&r.emit(`update:${t}`,i)}),a}else return{__v_isRef:!0,get value(){return e[t]},set value(a){r.emit(`update:${t}`,a)}}}function NP(){const e=Ct();return e.setupContext||(e.setupContext=t4(e))}function wp(e){return pt(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}function h$(e,t){const o=wp(e);for(const r in t){if(r.startsWith("__skip"))continue;let a=o[r];a?pt(a)||Kt(a)?a=o[r]={type:a,default:t[r]}:a.default=t[r]:a===null&&(a=o[r]={default:t[r]}),a&&t[`__skip_${r}`]&&(a.skipFactory=!0)}return o}function v$(e,t){return!e||!t?e||t:pt(e)&&pt(t)?e.concat(t):To({},wp(e),wp(t))}function g$(e,t){const o={};for(const r in e)t.includes(r)||Object.defineProperty(o,r,{enumerable:!0,get:()=>e[r]});return o}function _$(e){const t=Ct();let o=e();return ic(),FC(o)&&(o=o.catch(r=>{throw hc(t),r})),[o,()=>hc(t)]}let z2=!0;function b$(e){const t=ex(e),o=e.proxy,r=e.ctx;z2=!1,t.beforeCreate&&zA(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:n,watch:s,provide:l,inject:u,created:c,beforeMount:d,mounted:m,beforeUpdate:f,updated:p,activated:g,deactivated:b,beforeDestroy:x,beforeUnmount:_,destroyed:y,unmounted:I,render:S,renderTracked:O,renderTriggered:F,errorCaptured:M,serverPrefetch:E,expose:D,inheritAttrs:P,components:N,directives:R,filters:z}=t;if(u&&y$(u,r,null),n)for(const Q in n){const se=n[Q];Kt(se)&&(r[Q]=se.bind(o))}if(a){const Q=a.call(o,o);jo(Q)&&(e.data=Gn(Q))}if(z2=!0,i)for(const Q in i){const se=i[Q],_e=Kt(se)?se.bind(o,o):Kt(se.get)?se.get.bind(o,o):ri,Ee=!Kt(se)&&Kt(se.set)?se.set.bind(o):ri,J=X({get:_e,set:Ee});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>J.value,set:re=>J.value=re})}if(s)for(const Q in s)FP(s[Q],r,o,Q);if(l){const Q=Kt(l)?l.call(o):l;Reflect.ownKeys(Q).forEach(se=>{_s(se,Q[se])})}c&&zA(c,e,"c");function j(Q,se){pt(se)?se.forEach(_e=>Q(_e.bind(o))):se&&Q(se.bind(o))}if(j(e0,d),j(tr,m),j(ag,f),j(t0,p),j(Uu,g),j(fl,b),j(PP,M),j(DP,O),j(OP,F),j(wo,_),j(Rf,I),j(TP,E),pt(D))if(D.length){const Q=e.exposed||(e.exposed={});D.forEach(se=>{Object.defineProperty(Q,se,{get:()=>o[se],set:_e=>o[se]=_e})})}else e.exposed||(e.exposed={});S&&e.render===ri&&(e.render=S),P!=null&&(e.inheritAttrs=P),N&&(e.components=N),R&&(e.directives=R)}function y$(e,t,o=ri){pt(e)&&(e=H2(e));for(const r in e){const a=e[r];let i;jo(a)?"default"in a?i=gr(a.from||r,a.default,!0):i=gr(a.from||r):i=gr(a),br(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:n=>i.value=n}):t[r]=i}}function zA(e,t,o){Ki(pt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,o)}function FP(e,t,o,r){const a=r.includes(".")?wP(o,r):()=>o[r];if(io(e)){const i=t[e];Kt(i)&&rt(a,i)}else if(Kt(e))rt(a,e.bind(o));else if(jo(e))if(pt(e))e.forEach(i=>FP(i,t,o,r));else{const i=Kt(e.handler)?e.handler.bind(o):t[e.handler];Kt(i)&&rt(a,i,e)}}function ex(e){const t=e.type,{mixins:o,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:n}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!o&&!r?l=t:(l={},a.length&&a.forEach(u=>X1(l,u,n,!0)),X1(l,t,n)),jo(t)&&i.set(t,l),l}function X1(e,t,o,r=!1){const{mixins:a,extends:i}=t;i&&X1(e,i,o,!0),a&&a.forEach(n=>X1(e,n,o,!0));for(const n in t)if(!(r&&n==="expose")){const s=C$[n]||o&&o[n];e[n]=s?s(e[n],t[n]):t[n]}return e}const C$={data:HA,props:jA,emits:jA,methods:Lm,computed:Lm,beforeCreate:Jr,created:Jr,beforeMount:Jr,mounted:Jr,beforeUpdate:Jr,updated:Jr,beforeDestroy:Jr,beforeUnmount:Jr,destroyed:Jr,unmounted:Jr,activated:Jr,deactivated:Jr,errorCaptured:Jr,serverPrefetch:Jr,components:Lm,directives:Lm,watch:w$,provide:HA,inject:x$};function HA(e,t){return t?e?function(){return To(Kt(e)?e.call(this,this):e,Kt(t)?t.call(this,this):t)}:t:e}function x$(e,t){return Lm(H2(e),H2(t))}function H2(e){if(pt(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Jr(e,t){return e?[...new Set([].concat(e,t))]:t}function Lm(e,t){return e?To(Object.create(null),e,t):t}function jA(e,t){return e?pt(e)&&pt(t)?[...new Set([...e,...t])]:To(Object.create(null),wp(e),wp(t!=null?t:{})):t}function w$(e,t){if(!e)return t;if(!t)return e;const o=To(Object.create(null),e);for(const r in t)o[r]=Jr(e[r],t[r]);return o}function RP(){return{app:null,config:{isNativeTag:_1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let I$=0;function E$(e,t){return function(r,a=null){Kt(r)||(r=To({},r)),a!=null&&!jo(a)&&(a=null);const i=RP(),n=new WeakSet;let s=!1;const l=i.app={_uid:I$++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:i4,get config(){return i.config},set config(u){},use(u,...c){return n.has(u)||(u&&Kt(u.install)?(n.add(u),u.install(l,...c)):Kt(u)&&(n.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,d){if(!s){const m=v(r,a);return m.appContext=i,c&&t?t(m,u):e(m,u,d),s=!0,l._container=u,u.__vue_app__=l,ng(m.component)||m.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){Ip=l;try{return u()}finally{Ip=null}}};return l}}let Ip=null;function _s(e,t){if(Qa){let o=Qa.provides;const r=Qa.parent&&Qa.parent.provides;r===o&&(o=Qa.provides=Object.create(r)),o[e]=t}}function gr(e,t,o=!1){const r=Qa||vr;if(r||Ip){const a=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ip._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return o&&Kt(t)?t.call(r&&r.proxy):t}}function S$(){return!!(Qa||vr||Ip)}function A$(e,t,o,r=!1){const a={},i={};U1(i,rg,1),e.propsDefaults=Object.create(null),kP(e,t,a,i);for(const n in e.propsOptions[0])n in a||(a[n]=void 0);o?e.props=r?a:Yv(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function T$(e,t,o,r){const{props:a,attrs:i,vnode:{patchFlag:n}}=e,s=oo(a),[l]=e.propsOptions;let u=!1;if((r||n>0)&&!(n&16)){if(n&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let m=c[d];if(Zv(e.emitsOptions,m))continue;const f=t[m];if(l)if(Ao(i,m))f!==i[m]&&(i[m]=f,u=!0);else{const p=Za(m);a[p]=j2(l,s,p,f,e,!1)}else f!==i[m]&&(i[m]=f,u=!0)}}}else{kP(e,t,a,i)&&(u=!0);let c;for(const d in s)(!t||!Ao(t,d)&&((c=Gi(d))===d||!Ao(t,c)))&&(l?o&&(o[d]!==void 0||o[c]!==void 0)&&(a[d]=j2(l,s,d,void 0,e,!0)):delete a[d]);if(i!==s)for(const d in i)(!t||!Ao(t,d)&&!0)&&(delete i[d],u=!0)}u&&el(e,"set","$attrs")}function kP(e,t,o,r){const[a,i]=e.propsOptions;let n=!1,s;if(t)for(let l in t){if(fu(l))continue;const u=t[l];let c;a&&Ao(a,c=Za(l))?!i||!i.includes(c)?o[c]=u:(s||(s={}))[c]=u:Zv(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,n=!0)}if(i){const l=oo(o),u=s||Ro;for(let c=0;c<i.length;c++){const d=i[c];o[d]=j2(a,l,d,u[d],e,!Ao(u,d))}}return n}function j2(e,t,o,r,a,i){const n=e[o];if(n!=null){const s=Ao(n,"default");if(s&&r===void 0){const l=n.default;if(n.type!==Function&&!n.skipFactory&&Kt(l)){const{propsDefaults:u}=a;o in u?r=u[o]:(hc(a),r=u[o]=l.call(null,t),ic())}else r=l}n[0]&&(i&&!s?r=!1:n[1]&&(r===""||r===Gi(o))&&(r=!0))}return r}function VP(e,t,o=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const i=e.props,n={},s=[];let l=!1;if(!Kt(e)){const c=d=>{l=!0;const[m,f]=VP(d,t,!0);To(n,m),f&&s.push(...f)};!o&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return jo(e)&&r.set(e,Wd),Wd;if(pt(i))for(let c=0;c<i.length;c++){const d=Za(i[c]);GA(d)&&(n[d]=Ro)}else if(i)for(const c in i){const d=Za(c);if(GA(d)){const m=i[c],f=n[d]=pt(m)||Kt(m)?{type:m}:To({},m);if(f){const p=YA(Boolean,f.type),g=YA(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||Ao(f,"default"))&&s.push(d)}}}const u=[n,s];return jo(e)&&r.set(e,u),u}function GA(e){return e[0]!=="$"}function WA(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function XA(e,t){return WA(e)===WA(t)}function YA(e,t){return pt(t)?t.findIndex(o=>XA(o,e)):Kt(t)&&XA(t,e)?0:-1}const qP=e=>e[0]==="_"||e==="$stable",tx=e=>pt(e)?e.map(Hi):[Hi(e)],O$=(e,t,o)=>{if(t._n)return t;const r=w((...a)=>tx(t(...a)),o);return r._c=!1,r},BP=(e,t,o)=>{const r=e._ctx;for(const a in e){if(qP(a))continue;const i=e[a];if(Kt(i))t[a]=O$(a,i,r);else if(i!=null){const n=tx(i);t[a]=()=>n}}},LP=(e,t)=>{const o=tx(t);e.slots.default=()=>o},D$=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=oo(t),U1(t,"_",o)):BP(t,e.slots={})}else e.slots={},t&&LP(e,t);U1(e.slots,rg,1)},P$=(e,t,o)=>{const{vnode:r,slots:a}=e;let i=!0,n=Ro;if(r.shapeFlag&32){const s=t._;s?o&&s===1?i=!1:(To(a,t),!o&&s===1&&delete a._):(i=!t.$stable,BP(t,a)),n=t}else t&&(LP(e,t),n={default:1});if(i)for(const s in a)!qP(s)&&n[s]==null&&delete a[s]};function Y1(e,t,o,r,a=!1){if(pt(e)){e.forEach((m,f)=>Y1(m,t&&(pt(t)?t[f]:t),o,r,a));return}if(hu(r)&&!a)return;const i=r.shapeFlag&4?ng(r.component)||r.component.proxy:r.el,n=a?null:i,{i:s,r:l}=e,u=t&&t.r,c=s.refs===Ro?s.refs={}:s.refs,d=s.setupState;if(u!=null&&u!==l&&(io(u)?(c[u]=null,Ao(d,u)&&(d[u]=null)):br(u)&&(u.value=null)),Kt(l))ol(l,s,12,[n,c]);else{const m=io(l),f=br(l);if(m||f){const p=()=>{if(e.f){const g=m?Ao(d,l)?d[l]:c[l]:l.value;a?pt(g)&&NC(g,i):pt(g)?g.includes(i)||g.push(i):m?(c[l]=[i],Ao(d,l)&&(d[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else m?(c[l]=n,Ao(d,l)&&(d[l]=n)):f&&(l.value=n,e.k&&(c[e.k]=n))};n?(p.id=-1,Ir(p,o)):p()}}}let Pl=!1;const Mh=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Nh=e=>e.nodeType===8;function M$(e){const{mt:t,p:o,o:{patchProp:r,createText:a,nextSibling:i,parentNode:n,remove:s,insert:l,createComment:u}}=e,c=(y,I)=>{if(!I.hasChildNodes()){o(null,y,I),W1(),I._vnode=y;return}Pl=!1,d(I.firstChild,y,null,null,null),W1(),I._vnode=y,Pl&&console.error("Hydration completed but contains mismatches.")},d=(y,I,S,O,F,M=!1)=>{const E=Nh(y)&&y.data==="[",D=()=>g(y,I,S,O,F,E),{type:P,ref:N,shapeFlag:R,patchFlag:z}=I;let W=y.nodeType;I.el=y,z===-2&&(M=!1,I.dynamicChildren=null);let j=null;switch(P){case Tu:W!==3?I.children===""?(l(I.el=a(""),n(y),y),j=y):j=D():(y.data!==I.children&&(Pl=!0,y.data=I.children),j=i(y));break;case Hr:_(y)?(j=i(y),x(I.el=y.content.firstChild,y,S)):W!==8||E?j=D():j=i(y);break;case vu:if(E&&(y=i(y),W=y.nodeType),W===1||W===3){j=y;const Q=!I.children.length;for(let se=0;se<I.staticCount;se++)Q&&(I.children+=j.nodeType===1?j.outerHTML:j.data),se===I.staticCount-1&&(I.anchor=j),j=i(j);return E?i(j):j}else D();break;case Qe:E?j=p(y,I,S,O,F,M):j=D();break;default:if(R&1)(W!==1||I.type.toLowerCase()!==y.tagName.toLowerCase())&&!_(y)?j=D():j=m(y,I,S,O,F,M);else if(R&6){I.slotScopeIds=F;const Q=n(y);if(E?j=b(y):Nh(y)&&y.data==="teleport start"?j=b(y,y.data,"teleport end"):j=i(y),t(I,Q,null,S,O,Mh(Q),M),hu(I)){let se;E?(se=v(Qe),se.anchor=j?j.previousSibling:Q.lastChild):se=y.nodeType===3?te(""):v("div"),se.el=y,I.component.subTree=se}}else R&64?W!==8?j=D():j=I.type.hydrate(y,I,S,O,F,M,e,f):R&128&&(j=I.type.hydrate(y,I,S,O,Mh(n(y)),F,M,e,d))}return N!=null&&Y1(N,null,O,I),j},m=(y,I,S,O,F,M)=>{M=M||!!I.dynamicChildren;const{type:E,props:D,patchFlag:P,shapeFlag:N,dirs:R,transition:z}=I,W=E==="input"||E==="option";if(W||P!==-1){R&&fs(I,null,S,"created");let j=!1;if(_(y)){j=HP(O,z)&&S&&S.vnode.props&&S.vnode.props.appear;const se=y.content.firstChild;j&&z.beforeEnter(se),x(se,y,S),I.el=y=se}if(D)if(W||!M||P&48)for(const se in D)(W&&(se.endsWith("value")||se==="indeterminate")||Vu(se)&&!fu(se)||se[0]===".")&&r(y,se,null,D[se],!1,void 0,S);else D.onClick&&r(y,"onClick",null,D.onClick,!1,void 0,S);let Q;if((Q=D&&D.onVnodeBeforeMount)&&vi(Q,S,I),R&&fs(I,null,S,"beforeMount"),((Q=D&&D.onVnodeMounted)||R||j)&&CP(()=>{Q&&vi(Q,S,I),j&&z.enter(y),R&&fs(I,null,S,"mounted")},O),N&16&&!(D&&(D.innerHTML||D.textContent))){let se=f(y.firstChild,I,y,S,O,F,M);for(;se;){Pl=!0;const _e=se;se=se.nextSibling,s(_e)}}else N&8&&y.textContent!==I.children&&(Pl=!0,y.textContent=I.children)}return y.nextSibling},f=(y,I,S,O,F,M,E)=>{E=E||!!I.dynamicChildren;const D=I.children,P=D.length;for(let N=0;N<P;N++){const R=E?D[N]:D[N]=Hi(D[N]);if(y)y=d(y,R,O,F,M,E);else{if(R.type===Tu&&!R.children)continue;Pl=!0,o(null,R,S,null,O,F,Mh(S),M)}}return y},p=(y,I,S,O,F,M)=>{const{slotScopeIds:E}=I;E&&(F=F?F.concat(E):E);const D=n(y),P=f(i(y),I,D,S,O,F,M);return P&&Nh(P)&&P.data==="]"?i(I.anchor=P):(Pl=!0,l(I.anchor=u("]"),D,P),P)},g=(y,I,S,O,F,M)=>{if(Pl=!0,I.el=null,M){const P=b(y);for(;;){const N=i(y);if(N&&N!==P)s(N);else break}}const E=i(y),D=n(y);return s(y),o(null,I,D,E,S,O,Mh(D),F),E},b=(y,I="[",S="]")=>{let O=0;for(;y;)if(y=i(y),y&&Nh(y)&&(y.data===I&&O++,y.data===S)){if(O===0)return i(y);O--}return y},x=(y,I,S)=>{const O=I.parentNode;O&&O.replaceChild(y,I);let F=S;for(;F;)F.vnode.el===I&&(F.vnode.el=F.subTree.el=y),F=F.parent},_=y=>y.nodeType===1&&y.tagName.toLowerCase()==="template";return[c,d]}const Ir=CP;function $P(e){return zP(e)}function UP(e){return zP(e,M$)}function zP(e,t){const o=k2();o.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:n,createText:s,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:m,setScopeId:f=ri,insertStaticContent:p}=e,g=(L,U,ie,we=null,H=null,q=null,k=!1,Y=null,ne=!!U.dynamicChildren)=>{if(L===U)return;L&&!Hn(L,U)&&(we=he(L),re(L,H,q,!0),L=null),U.patchFlag===-2&&(ne=!1,U.dynamicChildren=null);const{type:oe,ref:Ce,shapeFlag:ve}=U;switch(oe){case Tu:b(L,U,ie,we);break;case Hr:x(L,U,ie,we);break;case vu:L==null&&_(U,ie,we,k);break;case Qe:N(L,U,ie,we,H,q,k,Y,ne);break;default:ve&1?S(L,U,ie,we,H,q,k,Y,ne):ve&6?R(L,U,ie,we,H,q,k,Y,ne):(ve&64||ve&128)&&oe.process(L,U,ie,we,H,q,k,Y,ne,fe)}Ce!=null&&H&&Y1(Ce,L&&L.ref,q,U||L,!U)},b=(L,U,ie,we)=>{if(L==null)r(U.el=s(U.children),ie,we);else{const H=U.el=L.el;U.children!==L.children&&u(H,U.children)}},x=(L,U,ie,we)=>{L==null?r(U.el=l(U.children||""),ie,we):U.el=L.el},_=(L,U,ie,we)=>{[L.el,L.anchor]=p(L.children,U,ie,we,L.el,L.anchor)},y=({el:L,anchor:U},ie,we)=>{let H;for(;L&&L!==U;)H=m(L),r(L,ie,we),L=H;r(U,ie,we)},I=({el:L,anchor:U})=>{let ie;for(;L&&L!==U;)ie=m(L),a(L),L=ie;a(U)},S=(L,U,ie,we,H,q,k,Y,ne)=>{k=k||U.type==="svg",L==null?O(U,ie,we,H,q,k,Y,ne):E(L,U,H,q,k,Y,ne)},O=(L,U,ie,we,H,q,k,Y)=>{let ne,oe;const{type:Ce,props:ve,shapeFlag:Fe,transition:Le,dirs:tt}=L;if(ne=L.el=n(L.type,q,ve&&ve.is,ve),Fe&8?c(ne,L.children):Fe&16&&M(L.children,ne,null,we,H,q&&Ce!=="foreignObject",k,Y),tt&&fs(L,null,we,"created"),F(ne,L,L.scopeId,k,we),ve){for(const It in ve)It!=="value"&&!fu(It)&&i(ne,It,null,ve[It],q,L.children,we,H,Oe);"value"in ve&&i(ne,"value",null,ve.value),(oe=ve.onVnodeBeforeMount)&&vi(oe,we,L)}tt&&fs(L,null,we,"beforeMount");const ot=HP(H,Le);ot&&Le.beforeEnter(ne),r(ne,U,ie),((oe=ve&&ve.onVnodeMounted)||ot||tt)&&Ir(()=>{oe&&vi(oe,we,L),ot&&Le.enter(ne),tt&&fs(L,null,we,"mounted")},H)},F=(L,U,ie,we,H)=>{if(ie&&f(L,ie),we)for(let q=0;q<we.length;q++)f(L,we[q]);if(H){let q=H.subTree;if(U===q){const k=H.vnode;F(L,k,k.scopeId,k.slotScopeIds,H.parent)}}},M=(L,U,ie,we,H,q,k,Y,ne=0)=>{for(let oe=ne;oe<L.length;oe++){const Ce=L[oe]=Y?jl(L[oe]):Hi(L[oe]);g(null,Ce,U,ie,we,H,q,k,Y)}},E=(L,U,ie,we,H,q,k)=>{const Y=U.el=L.el;let{patchFlag:ne,dynamicChildren:oe,dirs:Ce}=U;ne|=L.patchFlag&16;const ve=L.props||Ro,Fe=U.props||Ro;let Le;ie&&qc(ie,!1),(Le=Fe.onVnodeBeforeUpdate)&&vi(Le,ie,U,L),Ce&&fs(U,L,ie,"beforeUpdate"),ie&&qc(ie,!0);const tt=H&&U.type!=="foreignObject";if(oe?D(L.dynamicChildren,oe,Y,ie,we,tt,q):k||se(L,U,Y,null,ie,we,tt,q,!1),ne>0){if(ne&16)P(Y,U,ve,Fe,ie,we,H);else if(ne&2&&ve.class!==Fe.class&&i(Y,"class",null,Fe.class,H),ne&4&&i(Y,"style",ve.style,Fe.style,H),ne&8){const ot=U.dynamicProps;for(let It=0;It<ot.length;It++){const Zt=ot[It],vo=ve[Zt],Go=Fe[Zt];(Go!==vo||Zt==="value")&&i(Y,Zt,vo,Go,H,L.children,ie,we,Oe)}}ne&1&&L.children!==U.children&&c(Y,U.children)}else!k&&oe==null&&P(Y,U,ve,Fe,ie,we,H);((Le=Fe.onVnodeUpdated)||Ce)&&Ir(()=>{Le&&vi(Le,ie,U,L),Ce&&fs(U,L,ie,"updated")},we)},D=(L,U,ie,we,H,q,k)=>{for(let Y=0;Y<U.length;Y++){const ne=L[Y],oe=U[Y],Ce=ne.el&&(ne.type===Qe||!Hn(ne,oe)||ne.shapeFlag&70)?d(ne.el):ie;g(ne,oe,Ce,null,we,H,q,k,!0)}},P=(L,U,ie,we,H,q,k)=>{if(ie!==we){if(ie!==Ro)for(const Y in ie)!fu(Y)&&!(Y in we)&&i(L,Y,ie[Y],null,k,U.children,H,q,Oe);for(const Y in we){if(fu(Y))continue;const ne=we[Y],oe=ie[Y];ne!==oe&&Y!=="value"&&i(L,Y,oe,ne,k,U.children,H,q,Oe)}"value"in we&&i(L,"value",ie.value,we.value)}},N=(L,U,ie,we,H,q,k,Y,ne)=>{const oe=U.el=L?L.el:s(""),Ce=U.anchor=L?L.anchor:s("");let{patchFlag:ve,dynamicChildren:Fe,slotScopeIds:Le}=U;Le&&(Y=Y?Y.concat(Le):Le),L==null?(r(oe,ie,we),r(Ce,ie,we),M(U.children,ie,Ce,H,q,k,Y,ne)):ve>0&&ve&64&&Fe&&L.dynamicChildren?(D(L.dynamicChildren,Fe,ie,H,q,k,Y),(U.key!=null||H&&U===H.subTree)&&ox(L,U,!0)):se(L,U,ie,Ce,H,q,k,Y,ne)},R=(L,U,ie,we,H,q,k,Y,ne)=>{U.slotScopeIds=Y,L==null?U.shapeFlag&512?H.ctx.activate(U,ie,we,k,ne):z(U,ie,we,H,q,k,ne):W(L,U,ne)},z=(L,U,ie,we,H,q,k)=>{const Y=L.component=KP(L,we,H);if(Zp(L)&&(Y.ctx.renderer=fe),JP(Y),Y.asyncDep){if(H&&H.registerDep(Y,j),!L.el){const ne=Y.subTree=v(Hr);x(null,ne,U,ie)}return}j(Y,L,U,ie,H,q,k)},W=(L,U,ie)=>{const we=U.component=L.component;if(LL(L,U,ie))if(we.asyncDep&&!we.asyncResolved){Q(we,U,ie);return}else we.next=U,NL(we.update),we.update();else U.el=L.el,we.vnode=U},j=(L,U,ie,we,H,q,k)=>{const Y=()=>{if(L.isMounted){let{next:Ce,bu:ve,u:Fe,parent:Le,vnode:tt}=L,ot=Ce,It;qc(L,!1),Ce?(Ce.el=tt.el,Q(L,Ce,k)):Ce=tt,ve&&Kd(ve),(It=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&vi(It,Le,Ce,tt),qc(L,!0);const Zt=b1(L),vo=L.subTree;L.subTree=Zt,g(vo,Zt,d(vo.el),he(vo),L,H,q),Ce.el=Zt.el,ot===null&&jC(L,Zt.el),Fe&&Ir(Fe,H),(It=Ce.props&&Ce.props.onVnodeUpdated)&&Ir(()=>vi(It,Le,Ce,tt),H)}else{let Ce;const{el:ve,props:Fe}=U,{bm:Le,m:tt,parent:ot}=L,It=hu(U);if(qc(L,!1),Le&&Kd(Le),!It&&(Ce=Fe&&Fe.onVnodeBeforeMount)&&vi(Ce,ot,U),qc(L,!0),ve&&V){const Zt=()=>{L.subTree=b1(L),V(ve,L.subTree,L,H,null)};It?U.type.__asyncLoader().then(()=>!L.isUnmounted&&Zt()):Zt()}else{const Zt=L.subTree=b1(L);g(null,Zt,ie,we,L,H,q),U.el=Zt.el}if(tt&&Ir(tt,H),!It&&(Ce=Fe&&Fe.onVnodeMounted)){const Zt=U;Ir(()=>vi(Ce,ot,Zt),H)}(U.shapeFlag&256||ot&&hu(ot.vnode)&&ot.vnode.shapeFlag&256)&&L.a&&Ir(L.a,H),L.isMounted=!0,U=ie=we=null}},ne=L.effect=new cf(Y,()=>Jv(oe),L.scope),oe=L.update=()=>ne.run();oe.id=L.uid,qc(L,!0),oe()},Q=(L,U,ie)=>{U.component=L;const we=L.vnode.props;L.vnode=U,L.next=null,T$(L,U.props,we,ie),P$(L,U.children,ie),Mf(),qA(L),Nf()},se=(L,U,ie,we,H,q,k,Y,ne=!1)=>{const oe=L&&L.children,Ce=L?L.shapeFlag:0,ve=U.children,{patchFlag:Fe,shapeFlag:Le}=U;if(Fe>0){if(Fe&128){Ee(oe,ve,ie,we,H,q,k,Y,ne);return}else if(Fe&256){_e(oe,ve,ie,we,H,q,k,Y,ne);return}}Le&8?(Ce&16&&Oe(oe,H,q),ve!==oe&&c(ie,ve)):Ce&16?Le&16?Ee(oe,ve,ie,we,H,q,k,Y,ne):Oe(oe,H,q,!0):(Ce&8&&c(ie,""),Le&16&&M(ve,ie,we,H,q,k,Y,ne))},_e=(L,U,ie,we,H,q,k,Y,ne)=>{L=L||Wd,U=U||Wd;const oe=L.length,Ce=U.length,ve=Math.min(oe,Ce);let Fe;for(Fe=0;Fe<ve;Fe++){const Le=U[Fe]=ne?jl(U[Fe]):Hi(U[Fe]);g(L[Fe],Le,ie,null,H,q,k,Y,ne)}oe>Ce?Oe(L,H,q,!0,!1,ve):M(U,ie,we,H,q,k,Y,ne,ve)},Ee=(L,U,ie,we,H,q,k,Y,ne)=>{let oe=0;const Ce=U.length;let ve=L.length-1,Fe=Ce-1;for(;oe<=ve&&oe<=Fe;){const Le=L[oe],tt=U[oe]=ne?jl(U[oe]):Hi(U[oe]);if(Hn(Le,tt))g(Le,tt,ie,null,H,q,k,Y,ne);else break;oe++}for(;oe<=ve&&oe<=Fe;){const Le=L[ve],tt=U[Fe]=ne?jl(U[Fe]):Hi(U[Fe]);if(Hn(Le,tt))g(Le,tt,ie,null,H,q,k,Y,ne);else break;ve--,Fe--}if(oe>ve){if(oe<=Fe){const Le=Fe+1,tt=Le<Ce?U[Le].el:we;for(;oe<=Fe;)g(null,U[oe]=ne?jl(U[oe]):Hi(U[oe]),ie,tt,H,q,k,Y,ne),oe++}}else if(oe>Fe)for(;oe<=ve;)re(L[oe],H,q,!0),oe++;else{const Le=oe,tt=oe,ot=new Map;for(oe=tt;oe<=Fe;oe++){const Lt=U[oe]=ne?jl(U[oe]):Hi(U[oe]);Lt.key!=null&&ot.set(Lt.key,oe)}let It,Zt=0;const vo=Fe-tt+1;let Go=!1,Ta=0;const Ze=new Array(vo);for(oe=0;oe<vo;oe++)Ze[oe]=0;for(oe=Le;oe<=ve;oe++){const Lt=L[oe];if(Zt>=vo){re(Lt,H,q,!0);continue}let ao;if(Lt.key!=null)ao=ot.get(Lt.key);else for(It=tt;It<=Fe;It++)if(Ze[It-tt]===0&&Hn(Lt,U[It])){ao=It;break}ao===void 0?re(Lt,H,q,!0):(Ze[ao-tt]=oe+1,ao>=Ta?Ta=ao:Go=!0,g(Lt,U[ao],ie,null,H,q,k,Y,ne),Zt++)}const xt=Go?N$(Ze):Wd;for(It=xt.length-1,oe=vo-1;oe>=0;oe--){const Lt=tt+oe,ao=U[Lt],ko=Lt+1<Ce?U[Lt+1].el:we;Ze[oe]===0?g(null,ao,ie,ko,H,q,k,Y,ne):Go&&(It<0||oe!==xt[It]?J(ao,ie,ko,2):It--)}}},J=(L,U,ie,we,H=null)=>{const{el:q,type:k,transition:Y,children:ne,shapeFlag:oe}=L;if(oe&6){J(L.component.subTree,U,ie,we);return}if(oe&128){L.suspense.move(U,ie,we);return}if(oe&64){k.move(L,U,ie,fe);return}if(k===Qe){r(q,U,ie);for(let ve=0;ve<ne.length;ve++)J(ne[ve],U,ie,we);r(L.anchor,U,ie);return}if(k===vu){y(L,U,ie);return}if(we!==2&&oe&1&&Y)if(we===0)Y.beforeEnter(q),r(q,U,ie),Ir(()=>Y.enter(q),H);else{const{leave:ve,delayLeave:Fe,afterLeave:Le}=Y,tt=()=>r(q,U,ie),ot=()=>{ve(q,()=>{tt(),Le&&Le()})};Fe?Fe(q,tt,ot):ot()}else r(q,U,ie)},re=(L,U,ie,we=!1,H=!1)=>{const{type:q,props:k,ref:Y,children:ne,dynamicChildren:oe,shapeFlag:Ce,patchFlag:ve,dirs:Fe}=L;if(Y!=null&&Y1(Y,null,ie,L,!0),Ce&256){U.ctx.deactivate(L);return}const Le=Ce&1&&Fe,tt=!hu(L);let ot;if(tt&&(ot=k&&k.onVnodeBeforeUnmount)&&vi(ot,U,L),Ce&6)De(L.component,ie,we);else{if(Ce&128){L.suspense.unmount(ie,we);return}Le&&fs(L,null,U,"beforeUnmount"),Ce&64?L.type.remove(L,U,ie,H,fe,we):oe&&(q!==Qe||ve>0&&ve&64)?Oe(oe,U,ie,!1,!0):(q===Qe&&ve&384||!H&&Ce&16)&&Oe(ne,U,ie),we&&ye(L)}(tt&&(ot=k&&k.onVnodeUnmounted)||Le)&&Ir(()=>{ot&&vi(ot,U,L),Le&&fs(L,null,U,"unmounted")},ie)},ye=L=>{const{type:U,el:ie,anchor:we,transition:H}=L;if(U===Qe){ge(ie,we);return}if(U===vu){I(L);return}const q=()=>{a(ie),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(L.shapeFlag&1&&H&&!H.persisted){const{leave:k,delayLeave:Y}=H,ne=()=>k(ie,q);Y?Y(L.el,q,ne):ne()}else q()},ge=(L,U)=>{let ie;for(;L!==U;)ie=m(L),a(L),L=ie;a(U)},De=(L,U,ie)=>{const{bum:we,scope:H,update:q,subTree:k,um:Y}=L;we&&Kd(we),H.stop(),q&&(q.active=!1,re(k,L,U,ie)),Y&&Ir(Y,U),Ir(()=>{L.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},Oe=(L,U,ie,we=!1,H=!1,q=0)=>{for(let k=q;k<L.length;k++)re(L[k],U,ie,we,H)},he=L=>L.shapeFlag&6?he(L.component.subTree):L.shapeFlag&128?L.suspense.next():m(L.anchor||L.el),Me=(L,U,ie)=>{L==null?U._vnode&&re(U._vnode,null,null,!0):g(U._vnode||null,L,U,null,null,null,ie),qA(),W1(),U._vnode=L},fe={p:g,um:re,m:J,r:ye,mt:z,mc:M,pc:se,pbc:D,n:he,o:e};let G,V;return t&&([G,V]=t(fe)),{render:Me,hydrate:G,createApp:E$(Me,G)}}function qc({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function HP(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ox(e,t,o=!1){const r=e.children,a=t.children;if(pt(r)&&pt(a))for(let i=0;i<r.length;i++){const n=r[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=jl(a[i]),s.el=n.el),o||ox(n,s)),s.type===Tu&&(s.el=n.el)}}function N$(e){const t=e.slice(),o=[0];let r,a,i,n,s;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(a=o[o.length-1],e[a]<u){t[r]=a,o.push(r);continue}for(i=0,n=o.length-1;i<n;)s=i+n>>1,e[o[s]]<u?i=s+1:n=s;u<e[o[i]]&&(i>0&&(t[r]=o[i-1]),o[i]=r)}}for(i=o.length,n=o[i-1];i-- >0;)o[i]=n,n=t[n];return o}const F$=e=>e.__isTeleport,tp=e=>e&&(e.disabled||e.disabled===""),KA=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,G2=(e,t)=>{const o=e&&e.to;return io(o)?t?t(o):null:o},R$={name:"Teleport",__isTeleport:!0,process(e,t,o,r,a,i,n,s,l,u){const{mc:c,pc:d,pbc:m,o:{insert:f,querySelector:p,createText:g,createComment:b}}=u,x=tp(t.props);let{shapeFlag:_,children:y,dynamicChildren:I}=t;if(e==null){const S=t.el=g(""),O=t.anchor=g("");f(S,o,r),f(O,o,r);const F=t.target=G2(t.props,p),M=t.targetAnchor=g("");F&&(f(M,F),n=n||KA(F));const E=(D,P)=>{_&16&&c(y,D,P,a,i,n,s,l)};x?E(o,O):F&&E(F,M)}else{t.el=e.el;const S=t.anchor=e.anchor,O=t.target=e.target,F=t.targetAnchor=e.targetAnchor,M=tp(e.props),E=M?o:O,D=M?S:F;if(n=n||KA(O),I?(m(e.dynamicChildren,I,E,a,i,n,s),ox(e,t,!0)):l||d(e,t,E,D,a,i,n,s,!1),x)M?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Fh(t,o,S,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const P=t.target=G2(t.props,p);P&&Fh(t,P,null,u,0)}else M&&Fh(t,O,F,u,1)}GP(t)},remove(e,t,o,r,{um:a,o:{remove:i}},n){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:d,props:m}=e;if(d&&i(c),n&&i(u),s&16){const f=n||!tp(m);for(let p=0;p<l.length;p++){const g=l[p];a(g,t,o,f,!!g.dynamicChildren)}}},move:Fh,hydrate:k$};function Fh(e,t,o,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,o);const{el:n,anchor:s,shapeFlag:l,children:u,props:c}=e,d=i===2;if(d&&r(n,t,o),(!d||tp(c))&&l&16)for(let m=0;m<u.length;m++)a(u[m],t,o,2);d&&r(s,t,o)}function k$(e,t,o,r,a,i,{o:{nextSibling:n,parentNode:s,querySelector:l}},u){const c=t.target=G2(t.props,l);if(c){const d=c._lpa||c.firstChild;if(t.shapeFlag&16)if(tp(t.props))t.anchor=u(n(e),t,s(e),o,r,a,i),t.targetAnchor=d;else{t.anchor=n(e);let m=d;for(;m;)if(m=n(m),m&&m.nodeType===8&&m.data==="teleport anchor"){t.targetAnchor=m,c._lpa=t.targetAnchor&&n(t.targetAnchor);break}u(d,t,c,o,r,a,i)}GP(t)}return t.anchor&&n(t.anchor)}const jP=R$;function GP(e){const t=e.ctx;if(t&&t.ut){let o=e.children[0].el;for(;o&&o!==e.targetAnchor;)o.nodeType===1&&o.setAttribute("data-v-owner",t.uid),o=o.nextSibling;t.ut()}}const Qe=Symbol.for("v-fgt"),Tu=Symbol.for("v-txt"),Hr=Symbol.for("v-cmt"),vu=Symbol.for("v-stc"),op=[];let _i=null;function $(e=!1){op.push(_i=e?null:[])}function WP(){op.pop(),_i=op[op.length-1]||null}let Ou=1;function W2(e){Ou+=e}function XP(e){return e.dynamicChildren=Ou>0?_i||Wd:null,WP(),Ou>0&&_i&&_i.push(e),e}function be(e,t,o,r,a,i){return XP(A(e,t,o,r,a,i,!0))}function ue(e,t,o,r,a){return XP(v(e,t,o,r,a,!0))}function pc(e){return e?e.__v_isVNode===!0:!1}function Hn(e,t){return e.type===t.type&&e.key===t.key}function V$(e){}const rg="__vInternal",YP=({key:e})=>e!=null?e:null,y1=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?io(e)||br(e)||Kt(e)?{i:vr,r:e,k:t,f:!!o}:e:null);function A(e,t=null,o=null,r=0,a=null,i=e===Qe?0:1,n=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&YP(t),ref:t&&y1(t),scopeId:eg,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:vr};return s?(rx(l,o),i&128&&e.normalize(l)):o&&(l.shapeFlag|=io(o)?8:16),Ou>0&&!n&&_i&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&_i.push(l),l}const v=q$;function q$(e,t=null,o=null,r=0,a=null,i=!1){if((!e||e===bP)&&(e=Hr),pc(e)){const s=ys(e,t,!0);return o&&rx(s,o),Ou>0&&!i&&_i&&(s.shapeFlag&6?_i[_i.indexOf(e)]=s:_i.push(s)),s.patchFlag|=-2,s}if(j$(e)&&(e=e.__vccOpts),t){t=ax(t);let{class:s,style:l}=t;s&&!io(s)&&(t.class=ii(s)),jo(l)&&(LC(l)&&!pt(l)&&(l=To({},l)),t.style=Pf(l))}const n=io(e)?1:yP(e)?128:F$(e)?64:jo(e)?4:Kt(e)?2:0;return A(e,t,o,r,a,n,i,!0)}function ax(e){return e?LC(e)||rg in e?To({},e):e:null}function ys(e,t,o=!1){const{props:r,ref:a,patchFlag:i,children:n}=e,s=t?ig(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&YP(s),ref:t&&t.ref?o&&a?pt(a)?a.concat(y1(t)):[a,y1(t)]:y1(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:n,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ys(e.ssContent),ssFallback:e.ssFallback&&ys(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function te(e=" ",t=0){return v(Tu,null,e,t)}function B$(e,t){const o=v(vu,null,e);return o.staticCount=t,o}function ce(e="",t=!1){return t?($(),ue(Hr,null,e)):v(Hr,null,e)}function Hi(e){return e==null||typeof e=="boolean"?v(Hr):pt(e)?v(Qe,null,e.slice()):typeof e=="object"?jl(e):v(Tu,null,String(e))}function jl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ys(e)}function rx(e,t){let o=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(pt(t))o=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),rx(e,a()),a._c&&(a._d=!0));return}else{o=32;const a=t._;!a&&!(rg in t)?t._ctx=vr:a===3&&vr&&(vr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Kt(t)?(t={default:t,_ctx:vr},o=32):(t=String(t),r&64?(o=16,t=[te(t)]):o=8);e.children=t,e.shapeFlag|=o}function ig(...e){const t={};for(let o=0;o<e.length;o++){const r=e[o];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=ii([t.class,r.class]));else if(a==="style")t.style=Pf([t.style,r.style]);else if(Vu(a)){const i=t[a],n=r[a];n&&i!==n&&!(pt(i)&&i.includes(n))&&(t[a]=i?[].concat(i,n):n)}else a!==""&&(t[a]=r[a])}return t}function vi(e,t,o,r=null){Ki(e,t,7,[o,r])}const L$=RP();let $$=0;function KP(e,t,o){const r=e.type,a=(t?t.appContext:e.appContext)||L$,i={uid:$$++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new kC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:VP(r,a),emitsOptions:_P(r,a),emit:null,emitted:null,propsDefaults:Ro,inheritAttrs:r.inheritAttrs,ctx:Ro,data:Ro,props:Ro,attrs:Ro,slots:Ro,refs:Ro,setupState:Ro,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=RL.bind(null,i),e.ce&&e.ce(i),i}let Qa=null;const Ct=()=>Qa||vr;let ix,md,QA="__VUE_INSTANCE_SETTERS__";(md=k2()[QA])||(md=k2()[QA]=[]),md.push(e=>Qa=e),ix=e=>{md.length>1?md.forEach(t=>t(e)):md[0](e)};const hc=e=>{ix(e),e.scope.on()},ic=()=>{Qa&&Qa.scope.off(),ix(null)};function QP(e){return e.vnode.shapeFlag&4}let df=!1;function JP(e,t=!1){df=t;const{props:o,children:r}=e.vnode,a=QP(e);A$(e,o,a,t),D$(e,r);const i=a?U$(e,t):void 0;return df=!1,i}function U$(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=Lu(new Proxy(e.ctx,U2));const{setup:r}=o;if(r){const a=e.setupContext=r.length>1?t4(e):null;hc(e),Mf();const i=ol(r,e,0,[e.props,a]);if(Nf(),ic(),FC(i)){if(i.then(ic,ic),t)return i.then(n=>{X2(e,n,t)}).catch(n=>{$u(n,e,0)});e.asyncDep=i}else X2(e,i,t)}else e4(e,t)}function X2(e,t,o){Kt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:jo(t)&&(e.setupState=zC(t)),e4(e,o)}let K1,Y2;function ZP(e){K1=e,Y2=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,r$))}}const z$=()=>!K1;function e4(e,t,o){const r=e.type;if(!e.render){if(!t&&K1&&!r.render){const a=r.template||ex(e).template;if(a){const{isCustomElement:i,compilerOptions:n}=e.appContext.config,{delimiters:s,compilerOptions:l}=r,u=To(To({isCustomElement:i,delimiters:s},n),l);r.render=K1(a,u)}}e.render=r.render||ri,Y2&&Y2(e)}{hc(e),Mf();try{b$(e)}finally{Nf(),ic()}}}function H$(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,o){return xi(e,"get","$attrs"),t[o]}}))}function t4(e){const t=o=>{e.exposed=o||{}};return{get attrs(){return H$(e)},slots:e.slots,emit:e.emit,expose:t}}function ng(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(zC(Lu(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in ep)return ep[o](e)},has(t,o){return o in t||o in ep}}))}function K2(e,t=!0){return Kt(e)?e.displayName||e.name:e.name||t&&e.__name}function j$(e){return Kt(e)&&"__vccOpts"in e}const X=(e,t)=>TL(e,t,df);function ee(e,t,o){const r=arguments.length;return r===2?jo(t)&&!pt(t)?pc(t)?v(e,null,[t]):v(e,t):v(e,null,t):(r>3?o=Array.prototype.slice.call(arguments,2):r===3&&pc(o)&&(o=[o]),v(e,t,o))}const o4=Symbol.for("v-scx"),a4=()=>gr(o4);function G$(){}function W$(e,t,o,r){const a=o[r];if(a&&r4(a,e))return a;const i=t();return i.memo=e.slice(),o[r]=i}function r4(e,t){const o=e.memo;if(o.length!=t.length)return!1;for(let r=0;r<o.length;r++)if(dc(o[r],t[r]))return!1;return Ou>0&&_i&&_i.push(e),!0}const i4="3.3.13",X$={createComponentInstance:KP,setupComponent:JP,renderComponentRoot:b1,setCurrentRenderingInstance:Cp,isVNode:pc,normalizeVNode:Hi},Y$=X$,K$=null,Q$=null,J$="http://www.w3.org/2000/svg",eu=typeof document!="undefined"?document:null,JA=eu&&eu.createElement("template"),Z$={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,r)=>{const a=t?eu.createElementNS(J$,e):eu.createElement(e,o?{is:o}:void 0);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>eu.createTextNode(e),createComment:e=>eu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>eu.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,r,a,i){const n=o?o.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),o),!(a===i||!(a=a.nextSibling)););else{JA.innerHTML=r?`<svg>${e}</svg>`:e;const s=JA.content;if(r){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,o)}return[n?n.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},Ml="transition",vm="animation",ff=Symbol("_vtc"),wi=(e,{slots:t})=>ee(IP,s4(e),t);wi.displayName="Transition";const n4={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},eU=wi.props=To({},QC,n4),Bc=(e,t=[])=>{pt(e)?e.forEach(o=>o(...t)):e&&e(...t)},ZA=e=>e?pt(e)?e.some(t=>t.length>1):e.length>1:!1;function s4(e){const t={};for(const N in e)N in n4||(t[N]=e[N]);if(e.css===!1)return t;const{name:o="v",type:r,duration:a,enterFromClass:i=`${o}-enter-from`,enterActiveClass:n=`${o}-enter-active`,enterToClass:s=`${o}-enter-to`,appearFromClass:l=i,appearActiveClass:u=n,appearToClass:c=s,leaveFromClass:d=`${o}-leave-from`,leaveActiveClass:m=`${o}-leave-active`,leaveToClass:f=`${o}-leave-to`}=e,p=tU(a),g=p&&p[0],b=p&&p[1],{onBeforeEnter:x,onEnter:_,onEnterCancelled:y,onLeave:I,onLeaveCancelled:S,onBeforeAppear:O=x,onAppear:F=_,onAppearCancelled:M=y}=t,E=(N,R,z)=>{Ll(N,R?c:s),Ll(N,R?u:n),z&&z()},D=(N,R)=>{N._isLeaving=!1,Ll(N,d),Ll(N,f),Ll(N,m),R&&R()},P=N=>(R,z)=>{const W=N?F:_,j=()=>E(R,N,z);Bc(W,[R,j]),eT(()=>{Ll(R,N?l:i),Ls(R,N?c:s),ZA(W)||tT(R,r,g,j)})};return To(t,{onBeforeEnter(N){Bc(x,[N]),Ls(N,i),Ls(N,n)},onBeforeAppear(N){Bc(O,[N]),Ls(N,l),Ls(N,u)},onEnter:P(!1),onAppear:P(!0),onLeave(N,R){N._isLeaving=!0;const z=()=>D(N,R);Ls(N,d),c4(),Ls(N,m),eT(()=>{!N._isLeaving||(Ll(N,d),Ls(N,f),ZA(I)||tT(N,r,b,z))}),Bc(I,[N,z])},onEnterCancelled(N){E(N,!1),Bc(y,[N])},onAppearCancelled(N){E(N,!0),Bc(M,[N])},onLeaveCancelled(N){D(N),Bc(S,[N])}})}function tU(e){if(e==null)return null;if(jo(e))return[Ob(e.enter),Ob(e.leave)];{const t=Ob(e);return[t,t]}}function Ob(e){return H1(e)}function Ls(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e[ff]||(e[ff]=new Set)).add(t)}function Ll(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const o=e[ff];o&&(o.delete(t),o.size||(e[ff]=void 0))}function eT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let oU=0;function tT(e,t,o,r){const a=e._endId=++oU,i=()=>{a===e._endId&&r()};if(o)return setTimeout(i,o);const{type:n,timeout:s,propCount:l}=l4(e,t);if(!n)return r();const u=n+"end";let c=0;const d=()=>{e.removeEventListener(u,m),i()},m=f=>{f.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},s+1),e.addEventListener(u,m)}function l4(e,t){const o=window.getComputedStyle(e),r=p=>(o[p]||"").split(", "),a=r(`${Ml}Delay`),i=r(`${Ml}Duration`),n=oT(a,i),s=r(`${vm}Delay`),l=r(`${vm}Duration`),u=oT(s,l);let c=null,d=0,m=0;t===Ml?n>0&&(c=Ml,d=n,m=i.length):t===vm?u>0&&(c=vm,d=u,m=l.length):(d=Math.max(n,u),c=d>0?n>u?Ml:vm:null,m=c?c===Ml?i.length:l.length:0);const f=c===Ml&&/\b(transform|all)(,|$)/.test(r(`${Ml}Property`).toString());return{type:c,timeout:d,propCount:m,hasTransform:f}}function oT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,r)=>aT(o)+aT(e[r])))}function aT(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function c4(){return document.body.offsetHeight}function aU(e,t,o){const r=e[ff];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const nx=Symbol("_vod"),Io={beforeMount(e,{value:t},{transition:o}){e[nx]=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):gm(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:r}){!t!=!o&&(r?t?(r.beforeEnter(e),gm(e,!0),r.enter(e)):r.leave(e,()=>{gm(e,!1)}):gm(e,t))},beforeUnmount(e,{value:t}){gm(e,t)}};function gm(e,t){e.style.display=t?e[nx]:"none"}function rU(){Io.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const u4=Symbol("");function iU(e){const t=Ct();if(!t)return;const o=t.ut=(a=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>J2(i,a))},r=()=>{const a=e(t.proxy);Q2(t.subTree,a),o(a)};xP(r),tr(()=>{const a=new MutationObserver(r);a.observe(t.subTree.el.parentNode,{childList:!0}),Rf(()=>a.disconnect())})}function Q2(e,t){if(e.shapeFlag&128){const o=e.suspense;e=o.activeBranch,o.pendingBranch&&!o.isHydrating&&o.effects.push(()=>{Q2(o.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)J2(e.el,t);else if(e.type===Qe)e.children.forEach(o=>Q2(o,t));else if(e.type===vu){let{el:o,anchor:r}=e;for(;o&&(J2(o,t),o!==r);)o=o.nextSibling}}function J2(e,t){if(e.nodeType===1){const o=e.style;let r="";for(const a in t)o.setProperty(`--${a}`,t[a]),r+=`--${a}: ${t[a]};`;o[u4]=r}}function nU(e,t,o){const r=e.style,a=io(o);if(o&&!a){if(t&&!io(t))for(const i in t)o[i]==null&&Z2(r,i,"");for(const i in o)Z2(r,i,o[i])}else{const i=r.display;if(a){if(t!==o){const n=r[u4];n&&(o+=";"+n),r.cssText=o}}else t&&e.removeAttribute("style");nx in e&&(r.display=i)}}const rT=/\s*!important$/;function Z2(e,t,o){if(pt(o))o.forEach(r=>Z2(e,t,r));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const r=sU(e,t);rT.test(o)?e.setProperty(Gi(r),o.replace(rT,""),"important"):e[r]=o}}const iT=["Webkit","Moz","ms"],Db={};function sU(e,t){const o=Db[t];if(o)return o;let r=Za(t);if(r!=="filter"&&r in e)return Db[t]=r;r=Bu(r);for(let a=0;a<iT.length;a++){const i=iT[a]+r;if(i in e)return Db[t]=i}return t}const nT="http://www.w3.org/1999/xlink";function lU(e,t,o,r,a){if(r&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(nT,t.slice(6,t.length)):e.setAttributeNS(nT,t,o);else{const i=zB(t);o==null||i&&!YD(o)?e.removeAttribute(t):e.setAttribute(t,i?"":o)}}function cU(e,t,o,r,a,i,n){if(t==="innerHTML"||t==="textContent"){r&&n(r,a,i),e[t]=o==null?"":o;return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=o;const u=s==="OPTION"?e.getAttribute("value"):e.value,c=o==null?"":o;u!==c&&(e.value=c),o==null&&e.removeAttribute(t);return}let l=!1;if(o===""||o==null){const u=typeof e[t];u==="boolean"?o=YD(o):o==null&&u==="string"?(o="",l=!0):u==="number"&&(o=0,l=!0)}try{e[t]=o}catch{}l&&e.removeAttribute(t)}function Gs(e,t,o,r){e.addEventListener(t,o,r)}function uU(e,t,o,r){e.removeEventListener(t,o,r)}const sT=Symbol("_vei");function dU(e,t,o,r,a=null){const i=e[sT]||(e[sT]={}),n=i[t];if(r&&n)n.value=r;else{const[s,l]=fU(t);if(r){const u=i[t]=hU(r,a);Gs(e,s,u,l)}else n&&(uU(e,s,n,l),i[t]=void 0)}}const lT=/(?:Once|Passive|Capture)$/;function fU(e){let t;if(lT.test(e)){t={};let r;for(;r=e.match(lT);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gi(e.slice(2)),t]}let Pb=0;const mU=Promise.resolve(),pU=()=>Pb||(mU.then(()=>Pb=0),Pb=Date.now());function hU(e,t){const o=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=o.attached)return;Ki(vU(r,o.value),t,5,[r])};return o.value=e,o.attached=pU(),o}function vU(e,t){if(pt(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const cT=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gU=(e,t,o,r,a=!1,i,n,s,l)=>{t==="class"?aU(e,r,a):t==="style"?nU(e,o,r):Vu(t)?MC(t)||dU(e,t,o,r,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_U(e,t,r,a))?cU(e,t,r,i,n,s,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),lU(e,t,r,a))};function _U(e,t,o,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&cT(t)&&Kt(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return cT(t)&&io(o)?!1:t in e}/*! #__NO_SIDE_EFFECTS__ */function d4(e,t){const o=Ff(e);class r extends sg{constructor(i){super(o,i,t)}}return r.def=o,r}/*! #__NO_SIDE_EFFECTS__ */const bU=e=>d4(e,w4),yU=typeof HTMLElement!="undefined"?HTMLElement:class{};class sg extends yU{constructor(t,o={},r){super(),this._def=t,this._props=o,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Do(()=>{this._connected||(ey(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const a of r)this._setAttr(a.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,a=!1)=>{const{props:i,styles:n}=r;let s;if(i&&!pt(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=H1(this._props[l])),(s||(s=Object.create(null)))[Za(l)]=!0)}this._numberProps=s,a&&this._resolveProps(r),this._applyStyles(n),this._update()},o=this._def.__asyncLoader;o?o().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:o}=t,r=pt(o)?o:Object.keys(o||{});for(const a of Object.keys(this))a[0]!=="_"&&r.includes(a)&&this._setProp(a,this[a],!0,!1);for(const a of r.map(Za))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(i){this._setProp(a,i)}})}_setAttr(t){let o=this.getAttribute(t);const r=Za(t);this._numberProps&&this._numberProps[r]&&(o=H1(o)),this._setProp(r,o,!1)}_getProp(t){return this._props[t]}_setProp(t,o,r=!0,a=!0){o!==this._props[t]&&(this._props[t]=o,a&&this._instance&&this._update(),r&&(o===!0?this.setAttribute(Gi(t),""):typeof o=="string"||typeof o=="number"?this.setAttribute(Gi(t),o+""):o||this.removeAttribute(Gi(t))))}_update(){ey(this._createVNode(),this.shadowRoot)}_createVNode(){const t=v(this._def,To({},this._props));return this._instance||(t.ce=o=>{this._instance=o,o.isCE=!0;const r=(i,n)=>{this.dispatchEvent(new CustomEvent(i,{detail:n}))};o.emit=(i,...n)=>{r(i,n),Gi(i)!==i&&r(Gi(i),n)};let a=this;for(;a=a&&(a.parentNode||a.host);)if(a instanceof sg){o.parent=a._instance,o.provides=a._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(o=>{const r=document.createElement("style");r.textContent=o,this.shadowRoot.appendChild(r)})}}function CU(e="$style"){{const t=Ct();if(!t)return Ro;const o=t.type.__cssModules;if(!o)return Ro;const r=o[e];return r||Ro}}const f4=new WeakMap,m4=new WeakMap,Q1=Symbol("_moveCb"),uT=Symbol("_enterCb"),p4={name:"TransitionGroup",props:To({},eU,{tag:String,moveClass:String}),setup(e,{slots:t}){const o=Ct(),r=KC();let a,i;return t0(()=>{if(!a.length)return;const n=e.moveClass||`${e.name||"v"}-move`;if(!SU(a[0].el,o.vnode.el,n))return;a.forEach(wU),a.forEach(IU);const s=a.filter(EU);c4(),s.forEach(l=>{const u=l.el,c=u.style;Ls(u,n),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Q1]=m=>{m&&m.target!==u||(!m||/transform$/.test(m.propertyName))&&(u.removeEventListener("transitionend",d),u[Q1]=null,Ll(u,n))};u.addEventListener("transitionend",d)})}),()=>{const n=oo(e),s=s4(n);let l=n.tag||Qe;a=i,i=t.default?tg(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Au(c,uf(c,s,r,o))}if(a)for(let u=0;u<a.length;u++){const c=a[u];Au(c,uf(c,s,r,o)),f4.set(c,c.el.getBoundingClientRect())}return v(l,null,i)}}},xU=e=>delete e.mode;p4.props;const h4=p4;function wU(e){const t=e.el;t[Q1]&&t[Q1](),t[uT]&&t[uT]()}function IU(e){m4.set(e,e.el.getBoundingClientRect())}function EU(e){const t=f4.get(e),o=m4.get(e),r=t.left-o.left,a=t.top-o.top;if(r||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${a}px)`,i.transitionDuration="0s",e}}function SU(e,t,o){const r=e.cloneNode(),a=e[ff];a&&a.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),o.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:n}=l4(r);return i.removeChild(r),n}const vc=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pt(t)?o=>Kd(t,o):t};function AU(e){e.target.composing=!0}function dT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const In=Symbol("_assign"),J1={created(e,{modifiers:{lazy:t,trim:o,number:r}},a){e[In]=vc(a);const i=r||a.props&&a.props.type==="number";Gs(e,t?"change":"input",n=>{if(n.target.composing)return;let s=e.value;o&&(s=s.trim()),i&&(s=z1(s)),e[In](s)}),o&&Gs(e,"change",()=>{e.value=e.value.trim()}),t||(Gs(e,"compositionstart",AU),Gs(e,"compositionend",dT),Gs(e,"change",dT))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:o,trim:r,number:a}},i){if(e[In]=vc(i),e.composing)return;const n=a||e.type==="number"?z1(e.value):e.value,s=t==null?"":t;n!==s&&(document.activeElement===e&&e.type!=="range"&&(o||r&&e.value.trim()===s)||(e.value=s))}},Zr={deep:!0,created(e,t,o){e[In]=vc(o),Gs(e,"change",()=>{const r=e._modelValue,a=mf(e),i=e.checked,n=e[In];if(pt(r)){const s=Gv(r,a),l=s!==-1;if(i&&!l)n(r.concat(a));else if(!i&&l){const u=[...r];u.splice(s,1),n(u)}}else if(qu(r)){const s=new Set(r);i?s.add(a):s.delete(a),n(s)}else n(g4(e,i))})},mounted:fT,beforeUpdate(e,t,o){e[In]=vc(o),fT(e,t,o)}};function fT(e,{value:t,oldValue:o},r){e._modelValue=t,pt(t)?e.checked=Gv(t,r.props.value)>-1:qu(t)?e.checked=t.has(r.props.value):t!==o&&(e.checked=fc(t,g4(e,!0)))}const sx={created(e,{value:t},o){e.checked=fc(t,o.props.value),e[In]=vc(o),Gs(e,"change",()=>{e[In](mf(e))})},beforeUpdate(e,{value:t,oldValue:o},r){e[In]=vc(r),t!==o&&(e.checked=fc(t,r.props.value))}},v4={deep:!0,created(e,{value:t,modifiers:{number:o}},r){const a=qu(t);Gs(e,"change",()=>{const i=Array.prototype.filter.call(e.options,n=>n.selected).map(n=>o?z1(mf(n)):mf(n));e[In](e.multiple?a?new Set(i):i:i[0])}),e[In]=vc(r)},mounted(e,{value:t}){mT(e,t)},beforeUpdate(e,t,o){e[In]=vc(o)},updated(e,{value:t}){mT(e,t)}};function mT(e,t){const o=e.multiple;if(!(o&&!pt(t)&&!qu(t))){for(let r=0,a=e.options.length;r<a;r++){const i=e.options[r],n=mf(i);if(o)pt(t)?i.selected=Gv(t,n)>-1:i.selected=t.has(n);else if(fc(mf(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function mf(e){return"_value"in e?e._value:e.value}function g4(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const _4={created(e,t,o){Rh(e,t,o,null,"created")},mounted(e,t,o){Rh(e,t,o,null,"mounted")},beforeUpdate(e,t,o,r){Rh(e,t,o,r,"beforeUpdate")},updated(e,t,o,r){Rh(e,t,o,r,"updated")}};function b4(e,t){switch(e){case"SELECT":return v4;case"TEXTAREA":return J1;default:switch(t){case"checkbox":return Zr;case"radio":return sx;default:return J1}}}function Rh(e,t,o,r,a){const n=b4(e.tagName,o.props&&o.props.type)[a];n&&n(e,t,o,r)}function TU(){J1.getSSRProps=({value:e})=>({value:e}),sx.getSSRProps=({value:e},t)=>{if(t.props&&fc(t.props.value,e))return{checked:!0}},Zr.getSSRProps=({value:e},t)=>{if(pt(e)){if(t.props&&Gv(e,t.props.value)>-1)return{checked:!0}}else if(qu(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},_4.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const o=b4(t.type.toUpperCase(),t.props&&t.props.type);if(o.getSSRProps)return o.getSSRProps(e,t)}}const OU=["ctrl","shift","alt","meta"],DU={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>OU.some(o=>e[`${o}Key`]&&!t.includes(o))},st=(e,t)=>{const o=e._withMods||(e._withMods={}),r=t.join(".");return o[r]||(o[r]=(a,...i)=>{for(let n=0;n<t.length;n++){const s=DU[t[n]];if(s&&s(a,t))return}return e(a,...i)})},PU={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zi=(e,t)=>{const o=e._withKeys||(e._withKeys={}),r=t.join(".");return o[r]||(o[r]=a=>{if(!("key"in a))return;const i=Gi(a.key);if(t.some(n=>n===i||PU[n]===i))return e(a)})},y4=To({patchProp:gU},Z$);let ap,pT=!1;function C4(){return ap||(ap=$P(y4))}function x4(){return ap=pT?ap:UP(y4),pT=!0,ap}const ey=(...e)=>{C4().render(...e)},w4=(...e)=>{x4().hydrate(...e)},lg=(...e)=>{const t=C4().createApp(...e),{mount:o}=t;return t.mount=r=>{const a=I4(r);if(!a)return;const i=t._component;!Kt(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const n=o(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),n},t},MU=(...e)=>{const t=x4().createApp(...e),{mount:o}=t;return t.mount=r=>{const a=I4(r);if(a)return o(a,!0,a instanceof SVGElement)},t};function I4(e){return io(e)?document.querySelector(e):e}let hT=!1;const NU=()=>{hT||(hT=!0,TU(),rU())};var FU=Object.freeze(Object.defineProperty({__proto__:null,Transition:wi,TransitionGroup:h4,VueElement:sg,createApp:lg,createSSRApp:MU,defineCustomElement:d4,defineSSRCustomElement:bU,hydrate:w4,initDirectivesForSSR:NU,render:ey,useCssModule:CU,useCssVars:iU,vModelCheckbox:Zr,vModelDynamic:_4,vModelRadio:sx,vModelSelect:v4,vModelText:J1,vShow:Io,withKeys:Zi,withModifiers:st,EffectScope:kC,ReactiveEffect:cf,customRef:xL,effect:YB,effectScope:jB,getCurrentScope:JD,isProxy:LC,isReactive:pu,isReadonly:Su,isRef:br,isShallow:gp,markRaw:Lu,onScopeDispose:GB,proxyRefs:zC,reactive:Gn,readonly:BC,ref:$e,shallowReactive:Yv,shallowReadonly:vL,shallowRef:dP,stop:KB,toRaw:oo,toRef:SL,toRefs:wL,toValue:bL,triggerRef:_L,unref:tl,camelize:Za,capitalize:Bu,normalizeClass:ii,normalizeProps:XD,normalizeStyle:Pf,toDisplayString:de,toHandlerKey:Yd,BaseTransition:IP,BaseTransitionPropsValidators:QC,Comment:Hr,Fragment:Qe,KeepAlive:SP,Static:vu,Suspense:HL,Teleport:jP,Text:Tu,assertNumber:DL,callWithAsyncErrorHandling:Ki,callWithErrorHandling:ol,cloneVNode:ys,compatUtils:Q$,computed:X,createBlock:ue,createCommentVNode:ce,createElementBlock:be,createElementVNode:A,createHydrationRenderer:UP,createPropsRestProxy:g$,createRenderer:$P,createSlots:JC,createStaticVNode:B$,createTextVNode:te,createVNode:v,defineAsyncComponent:e$,defineComponent:Ff,defineEmits:n$,defineExpose:s$,defineModel:u$,defineOptions:l$,defineProps:i$,defineSlots:c$,get devtools(){return Fd},getCurrentInstance:Ct,getTransitionRawChildren:tg,guardReactiveProps:ax,h:ee,handleError:$u,hasInjectionContext:S$,initCustomFormatter:G$,inject:gr,isMemoSame:r4,isRuntimeOnly:z$,isVNode:pc,mergeDefaults:h$,mergeModels:v$,mergeProps:ig,nextTick:Do,onActivated:Uu,onBeforeMount:e0,onBeforeUnmount:wo,onBeforeUpdate:ag,onDeactivated:fl,onErrorCaptured:PP,onMounted:tr,onRenderTracked:DP,onRenderTriggered:OP,onServerPrefetch:TP,onUnmounted:Rf,onUpdated:t0,openBlock:$,popScopeId:Tn,provide:_s,pushScopeId:An,queuePostFlushCb:G1,registerRuntimeCompiler:ZP,renderList:zt,renderSlot:ZC,resolveComponent:ke,resolveDirective:WC,resolveDynamicComponent:UL,resolveFilter:K$,resolveTransitionHooks:uf,setBlockTracking:W2,setDevtoolsHook:gP,setTransitionHooks:Au,ssrContextKey:o4,ssrUtils:Y$,toHandlers:a$,transformVNodeArgs:V$,useAttrs:m$,useModel:p$,useSSRContext:a4,useSlots:f$,useTransitionState:KC,version:i4,warn:OL,watch:rt,watchEffect:KL,watchPostEffect:xP,watchSyncEffect:QL,withAsyncContext:_$,withCtx:w,withDefaults:d$,withDirectives:Te,withMemo:W$,withScopeId:kL},Symbol.toStringTag,{value:"Module"}));function Wi(e,t,o,r){return Object.defineProperty(e,t,{get:o,set:r,enumerable:!0}),e}function E4(e,t){for(const o in t)Wi(e,o,t[o]);return e}const Jn=$e(!1);let cg;function RU(e,t){const o=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:o[5]||o[3]||o[1]||"",version:o[2]||o[4]||"0",versionNumber:o[4]||o[2]||"0",platform:t[0]||""}}function kU(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const S4="ontouchstart"in window||window.navigator.maxTouchPoints>0;function VU(e){cg={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function qU(e){const t=e.toLowerCase(),o=kU(t),r=RU(t,o),a={};r.browser&&(a[r.browser]=!0,a.version=r.version,a.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(a[r.platform]=!0);const i=a.android||a.ios||a.bb||a.blackberry||a.ipad||a.iphone||a.ipod||a.kindle||a.playbook||a.silk||a["windows phone"];return i===!0||t.indexOf("mobile")>-1?(a.mobile=!0,a.edga||a.edgios?(a.edge=!0,r.browser="edge"):a.crios?(a.chrome=!0,r.browser="chrome"):a.fxios&&(a.firefox=!0,r.browser="firefox")):a.desktop=!0,(a.ipod||a.ipad||a.iphone)&&(a.ios=!0),a["windows phone"]&&(a.winphone=!0,delete a["windows phone"]),(a.chrome||a.opr||a.safari||a.vivaldi||a.mobile===!0&&a.ios!==!0&&i!==!0)&&(a.webkit=!0),a.edg&&(r.browser="edgechromium",a.edgeChromium=!0),(a.safari&&a.blackberry||a.bb)&&(r.browser="blackberry",a.blackberry=!0),a.safari&&a.playbook&&(r.browser="playbook",a.playbook=!0),a.opr&&(r.browser="opera",a.opera=!0),a.safari&&a.android&&(r.browser="android",a.android=!0),a.safari&&a.kindle&&(r.browser="kindle",a.kindle=!0),a.safari&&a.silk&&(r.browser="silk",a.silk=!0),a.vivaldi&&(r.browser="vivaldi",a.vivaldi=!0),a.name=r.browser,a.platform=r.platform,t.indexOf("electron")>-1?a.electron=!0:document.location.href.indexOf("-extension://")>-1?a.bex=!0:(window.Capacitor!==void 0?(a.capacitor=!0,a.nativeMobile=!0,a.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(a.cordova=!0,a.nativeMobile=!0,a.nativeMobileWrapper="cordova"),S4===!0&&a.mac===!0&&(a.desktop===!0&&a.safari===!0||a.nativeMobile===!0&&a.android!==!0&&a.ios!==!0&&a.ipad!==!0)&&VU(a)),a}const vT=navigator.userAgent||navigator.vendor||window.opera,BU={has:{touch:!1,webStorage:!1},within:{iframe:!1}},po={userAgent:vT,is:qU(vT),has:{touch:S4},within:{iframe:window.self!==window.top}},Z1={install(e){const{$q:t}=e;Jn.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,po),Jn.value=!1,cg=void 0}),t.platform=Gn(this)):t.platform=this}};{let e;Wi(po.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),po.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),Jn.value===!0?Object.assign(Z1,po,cg,BU):Object.assign(Z1,po)}var o0=(e,t)=>{const o=Gn(e);for(const r in e)Wi(t,r,()=>o[r],a=>{o[r]=a});return t};const Pa={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(Pa,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function Zn(){}function lx(e){return e.button===0}function es(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function LU(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let o=e.target;for(;o;){if(t.push(o),o.tagName==="HTML")return t.push(document),t.push(window),t;o=o.parentElement}}function ti(e){e.stopPropagation()}function oi(e){e.cancelable!==!1&&e.preventDefault()}function bo(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function Zd(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const o=t===!0?r=>{r.__dragPrevented=!0,r.addEventListener("dragstart",oi,Pa.notPassiveCapture)}:r=>{delete r.__dragPrevented,r.removeEventListener("dragstart",oi,Pa.notPassiveCapture)};e.querySelectorAll("a, img").forEach(o)}function sr(e,t,o){const r=`__q_${t}_evt`;e[r]=e[r]!==void 0?e[r].concat(o):o,o.forEach(a=>{a[0].addEventListener(a[1],e[a[2]],Pa[a[3]])})}function Qi(e,t){const o=`__q_${t}_evt`;e[o]!==void 0&&(e[o].forEach(r=>{r[0].removeEventListener(r[1],e[r[2]],Pa[r[3]])}),e[o]=void 0)}function cx(e,t=250,o){let r=null;function a(){const i=arguments,n=()=>{r=null,o!==!0&&e.apply(this,i)};r!==null?clearTimeout(r):o===!0&&e.apply(this,i),r=setTimeout(n,t)}return a.cancel=()=>{r!==null&&clearTimeout(r)},a}const Mb=["sm","md","lg","xl"],{passive:gT}=Pa;var A4=o0({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:Zn,setDebounce:Zn,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:o}=window,r=o||window,a=document.scrollingElement||document.documentElement,i=o===void 0||po.is.mobile===!0?()=>[Math.max(window.innerWidth,a.clientWidth),Math.max(window.innerHeight,a.clientHeight)]:()=>[o.width*o.scale+window.innerWidth-a.clientWidth,o.height*o.scale+window.innerHeight-a.clientHeight],n=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=d=>{const[m,f]=i();if(f!==this.height&&(this.height=f),m!==this.width)this.width=m;else if(d!==!0)return;let p=this.sizes;this.gt.xs=m>=p.sm,this.gt.sm=m>=p.md,this.gt.md=m>=p.lg,this.gt.lg=m>=p.xl,this.lt.sm=m<p.sm,this.lt.md=m<p.md,this.lt.lg=m<p.lg,this.lt.xl=m<p.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,p=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",p!==this.name&&(n===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${p}`)),this.name=p)};let s,l={},u=16;this.setSizes=d=>{Mb.forEach(m=>{d[m]!==void 0&&(l[m]=d[m])})},this.setDebounce=d=>{u=d};const c=()=>{const d=getComputedStyle(document.body);d.getPropertyValue("--q-size-sm")&&Mb.forEach(m=>{this.sizes[m]=parseInt(d.getPropertyValue(`--q-size-${m}`),10)}),this.setSizes=m=>{Mb.forEach(f=>{m[f]&&(this.sizes[f]=m[f])}),this.__update(!0)},this.setDebounce=m=>{s!==void 0&&r.removeEventListener("resize",s,gT),s=m>0?cx(this.__update,m):this.__update,r.addEventListener("resize",s,gT)},this.setDebounce(u),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),n===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Jn.value===!0?t.push(c):c()}});const kr=o0({isActive:!1,mode:!1},{__media:void 0,set(e){kr.mode=e,e==="auto"?(kr.__media===void 0&&(kr.__media=window.matchMedia("(prefers-color-scheme: dark)"),kr.__updateMedia=()=>{kr.set("auto")},kr.__media.addListener(kr.__updateMedia)),e=kr.__media.matches):kr.__media!==void 0&&(kr.__media.removeListener(kr.__updateMedia),kr.__media=void 0),kr.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){kr.set(kr.isActive===!1)},install({$q:e,onSSRHydrated:t,ssrContext:o}){const{dark:r}=e.config;if(e.dark=this,this.__installed===!0&&r===void 0)return;this.isActive=r===!0;const a=r!==void 0?r:!1;if(Jn.value===!0){const i=s=>{this.__fromSSR=s},n=this.set;this.set=i,i(a),t.push(()=>{this.set=n,this.set(this.__fromSSR)})}else this.set(a)}}),T4=()=>!0;function $U(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function UU(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function zU(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return T4;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter($U).map(UU)),()=>t.includes(window.location.hash)}var Ep={__history:[],add:Zn,remove:Zn,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:o}=po.is;if(t!==!0&&o!==!0)return;const r=e.config[t===!0?"cordova":"capacitor"];if(r!==void 0&&r.backButton===!1||o===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=n=>{n.condition===void 0&&(n.condition=T4),this.__history.push(n)},this.remove=n=>{const s=this.__history.indexOf(n);s>=0&&this.__history.splice(s,1)};const a=zU(Object.assign({backButtonExit:!0},r)),i=()=>{if(this.__history.length){const n=this.__history[this.__history.length-1];n.condition()===!0&&(this.__history.pop(),n.handler())}else a()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",i,!1)}):window.Capacitor.Plugins.App.addListener("backButton",i)}},ty={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,o)=>e+"-"+t+" of "+o,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function _T(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,o)=>o===0?t.toLowerCase():o>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const Ui=o0({__langPack:{}},{getLocale:_T,set(e=ty,t){const o={...e,rtl:e.rtl===!0,getLocale:_T};{if(o.set=Ui.set,Ui.__langConfig===void 0||Ui.__langConfig.noHtmlAttrs!==!0){const r=document.documentElement;r.setAttribute("dir",o.rtl===!0?"rtl":"ltr"),r.setAttribute("lang",o.isoName)}Object.assign(Ui.__langPack,o),Ui.props=o,Ui.isoName=o.isoName,Ui.nativeName=o.nativeName}},install({$q:e,lang:t,ssrContext:o}){e.lang=Ui.__langPack,Ui.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):this.set(t||ty)}});function HU(e,t,o=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(typeof t!="string")throw new TypeError("Expected a string as value");if(!(o instanceof Element))throw new TypeError("Expected a DOM element");o.style.setProperty(`--q-${e}`,t)}let O4=!1;function jU(e){O4=e.isComposing===!0}function ug(e){return O4===!0||e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function En(e,t){return ug(e)===!0?!1:[].concat(t).includes(e.keyCode)}function D4(e){if(e.ios===!0)return"ios";if(e.android===!0)return"android"}function GU({is:e,has:t,within:o},r){const a=[e.desktop===!0?"desktop":"mobile",`${t.touch===!1?"no-":""}touch`];if(e.mobile===!0){const i=D4(e);i!==void 0&&a.push("platform-"+i)}if(e.nativeMobile===!0){const i=e.nativeMobileWrapper;a.push(i),a.push("native-mobile"),e.ios===!0&&(r[i]===void 0||r[i].iosStatusBarPadding!==!1)&&a.push("q-ios-padding")}else e.electron===!0?a.push("electron"):e.bex===!0&&a.push("bex");return o.iframe===!0&&a.push("within-iframe"),a}function WU(){const{is:e}=po,t=document.body.className,o=new Set(t.replace(/ {2}/g," ").split(" "));if(cg!==void 0)o.delete("desktop"),o.add("platform-ios"),o.add("mobile");else if(e.nativeMobile!==!0&&e.electron!==!0&&e.bex!==!0){if(e.desktop===!0)o.delete("mobile"),o.delete("platform-ios"),o.delete("platform-android"),o.add("desktop");else if(e.mobile===!0){o.delete("desktop"),o.add("mobile");const a=D4(e);a!==void 0?(o.add(`platform-${a}`),o.delete(`platform-${a==="ios"?"android":"ios"}`)):(o.delete("platform-ios"),o.delete("platform-android"))}}po.has.touch===!0&&(o.delete("no-touch"),o.add("touch")),po.within.iframe===!0&&o.add("within-iframe");const r=Array.from(o).join(" ");t!==r&&(document.body.className=r)}function XU(e){for(const t in e)HU(t,e[t])}var YU={install(e){if(this.__installed!==!0){if(Jn.value===!0)WU();else{const{$q:t}=e;t.config.brand!==void 0&&XU(t.config.brand);const o=GU(po,t.config);document.body.classList.add.apply(document.body.classList,o)}po.is.ios===!0&&document.body.addEventListener("touchstart",Zn),window.addEventListener("keydown",jU,!0)}}},KU={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const ev=o0({iconMapFn:null,__icons:{}},{set(e,t){const o={...e,rtl:e.rtl===!0};o.set=ev.set,Object.assign(ev.__icons,o)},install({$q:e,iconSet:t,ssrContext:o}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,Wi(e,"iconMapFn",()=>this.iconMapFn,r=>{this.iconMapFn=r}),this.__installed===!0?t!==void 0&&this.set(t):this.set(t||KU)}}),QU="_q_",kf="_q_l_",P4="_q_pc_",M4="_q_fo_",N4="_q_tabs_",JU="_q_u_",qa=()=>{},tv={};let F4=!1;function ZU(){F4=!0}function Ws(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let o,r;if(e.constructor===Array){if(o=e.length,o!==t.length)return!1;for(r=o;r--!==0;)if(Ws(e[r],t[r])!==!0)return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let i=e.entries();for(r=i.next();r.done!==!0;){if(t.has(r.value[0])!==!0)return!1;r=i.next()}for(i=e.entries(),r=i.next();r.done!==!0;){if(Ws(r.value[1],t.get(r.value[0]))!==!0)return!1;r=i.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const i=e.entries();for(r=i.next();r.done!==!0;){if(t.has(r.value[0])!==!0)return!1;r=i.next()}return!0}if(e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(o=e.length,o!==t.length)return!1;for(r=o;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const a=Object.keys(e).filter(i=>e[i]!==void 0);if(o=a.length,o!==Object.keys(t).filter(i=>t[i]!==void 0).length)return!1;for(r=o;r--!==0;){const i=a[r];if(Ws(e[i],t[i])!==!0)return!1}return!0}return e!==e&&t!==t}function Ar(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}function ov(e){return Object.prototype.toString.call(e)==="[object Date]"}function av(e){return typeof e=="number"&&isFinite(e)}const bT=[Z1,YU,kr,A4,Ep,Ui,ev];function ux(e,t){const o=lg(e);o.config.globalProperties=t.config.globalProperties;const{reload:r,...a}=t._context;return Object.assign(o._context,a),o}function yT(e,t){t.forEach(o=>{o.install(e),o.__installed=!0})}function ez(e,t,o){e.config.globalProperties.$q=o.$q,e.provide(QU,o.$q),yT(o,bT),t.components!==void 0&&Object.values(t.components).forEach(r=>{Ar(r)===!0&&r.name!==void 0&&e.component(r.name,r)}),t.directives!==void 0&&Object.values(t.directives).forEach(r=>{Ar(r)===!0&&r.name!==void 0&&e.directive(r.name,r)}),t.plugins!==void 0&&yT(o,Object.values(t.plugins).filter(r=>typeof r.install=="function"&&bT.includes(r)===!1)),Jn.value===!0&&(o.$q.onSSRHydrated=()=>{o.onSSRHydrated.forEach(r=>{r()}),o.$q.onSSRHydrated=()=>{}})}var tz=function(e,t={}){const o={version:"2.14.2"};F4===!1?(t.config!==void 0&&Object.assign(tv,t.config),o.config={...tv},ZU()):o.config=t.config||{},ez(e,t,{parentApp:e,$q:o,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},oz={version:"2.14.2",install:tz,lang:Ui,iconSet:ev};const At=e=>Lu(Ff(e)),a0=e=>Lu(e);function oy(e,t){const o=e.style;for(const r in t)o[r]=t[r]}function az(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=tl(e);if(t)return t.$el||t}function R4(e,t){if(e==null||e.contains(t)===!0)return!0;for(let o=e.nextElementSibling;o!==null;o=o.nextElementSibling)if(o.contains(t))return!0;return!1}const rz=[null,document,document.body,document.scrollingElement,document.documentElement];function dg(e,t){let o=az(t);if(o===void 0){if(e==null)return window;o=e.closest(".scroll,.scroll-y,.overflow-auto")}return rz.includes(o)?window:o}function dx(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function fx(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function k4(e,t,o=0){const r=arguments[3]===void 0?performance.now():arguments[3],a=dx(e);if(o<=0){a!==t&&ay(e,t);return}requestAnimationFrame(i=>{const n=i-r,s=a+(t-a)/Math.max(n,o)*n;ay(e,s),s!==t&&k4(e,t,o-n,i)})}function V4(e,t,o=0){const r=arguments[3]===void 0?performance.now():arguments[3],a=fx(e);if(o<=0){a!==t&&ry(e,t);return}requestAnimationFrame(i=>{const n=i-r,s=a+(t-a)/Math.max(n,o)*n;ry(e,s),s!==t&&V4(e,t,o-n,i)})}function ay(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function ry(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function u6e(e,t,o){if(o){k4(e,t,o);return}ay(e,t)}function d6e(e,t,o){if(o){V4(e,t,o);return}ry(e,t)}let kh;function C1(){if(kh!==void 0)return kh;const e=document.createElement("p"),t=document.createElement("div");oy(e,{width:"100%",height:"200px"}),oy(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const o=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return o===r&&(r=t.clientWidth),t.remove(),kh=o-r,kh}function iz(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const{passive:CT}=Pa,nz=["both","horizontal","vertical"];var sz=At({name:"QScrollObserver",props:{axis:{type:String,validator:e=>nz.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r=null,a,i;rt(()=>e.scrollTarget,()=>{l(),s()});function n(){r!==null&&r();const d=Math.max(0,dx(a)),m=fx(a),f={top:d-o.position.top,left:m-o.position.left};if(e.axis==="vertical"&&f.top===0||e.axis==="horizontal"&&f.left===0)return;const p=Math.abs(f.top)>=Math.abs(f.left)?f.top<0?"up":"down":f.left<0?"left":"right";o.position={top:d,left:m},o.directionChanged=o.direction!==p,o.delta=f,o.directionChanged===!0&&(o.direction=p,o.inflectionPoint=o.position),t("scroll",{...o})}function s(){a=dg(i,e.scrollTarget),a.addEventListener("scroll",u,CT),u(!0)}function l(){a!==void 0&&(a.removeEventListener("scroll",u,CT),a=void 0)}function u(d){if(d===!0||e.debounce===0||e.debounce==="0")n();else if(r===null){const[m,f]=e.debounce?[setTimeout(n,e.debounce),clearTimeout]:[requestAnimationFrame(n),cancelAnimationFrame];r=()=>{f(m),r=null}}}const{proxy:c}=Ct();return rt(()=>c.$q.lang.rtl,n),tr(()=>{i=c.$el.parentNode,s()}),wo(()=>{r!==null&&r(),l()}),Object.assign(c,{trigger:u,getPosition:()=>o}),Zn}});function lz(){const e=$e(!Jn.value);return e.value===!1&&tr(()=>{e.value=!0}),e}const q4=typeof ResizeObserver!="undefined",xT=q4===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var ni=At({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let o=null,r,a={width:-1,height:-1};function i(l){l===!0||e.debounce===0||e.debounce==="0"?n():o===null&&(o=setTimeout(n,e.debounce))}function n(){if(o!==null&&(clearTimeout(o),o=null),r){const{offsetWidth:l,offsetHeight:u}=r;(l!==a.width||u!==a.height)&&(a={width:l,height:u},t("resize",a))}}const{proxy:s}=Ct();if(s.trigger=i,q4===!0){let l;const u=c=>{r=s.$el.parentNode,r?(l=new ResizeObserver(i),l.observe(r),n()):c!==!0&&Do(()=>{u(!0)})};return tr(()=>{u()}),wo(()=>{o!==null&&clearTimeout(o),l!==void 0&&(l.disconnect!==void 0?l.disconnect():r&&l.unobserve(r))}),Zn}else{let c=function(){o!==null&&(clearTimeout(o),o=null),u!==void 0&&(u.removeEventListener!==void 0&&u.removeEventListener("resize",i,Pa.passive),u=void 0)},d=function(){c(),r&&r.contentDocument&&(u=r.contentDocument.defaultView,u.addEventListener("resize",i,Pa.passive),n())};const l=lz();let u;return tr(()=>{Do(()=>{r=s.$el,r&&d()})}),wo(c),()=>{if(l.value===!0)return ee("object",{style:xT.style,tabindex:-1,type:"text/html",data:xT.url,"aria-hidden":"true",onLoad:d})}}}});function ho(e,t){return e!==void 0&&e()||t}function mx(e,t){if(e!==void 0){const o=e();if(o!=null)return o.slice()}return t}function bi(e,t){return e!==void 0?t.concat(e()):t}function px(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function Sp(e,t,o,r,a,i){t.key=r+a;const n=ee(e,t,o);return a===!0?Te(n,i()):n}var Jo=At({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:o}){const{proxy:{$q:r}}=Ct(),a=$e(null),i=$e(r.screen.height),n=$e(e.container===!0?0:r.screen.width),s=$e({position:0,direction:"down",inflectionPoint:0}),l=$e(0),u=$e(Jn.value===!0?0:C1()),c=X(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),d=X(()=>e.container===!1?{minHeight:r.screen.height+"px"}:null),m=X(()=>u.value!==0?{[r.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),f=X(()=>u.value!==0?{[r.lang.rtl===!0?"right":"left"]:0,[r.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function p(I){if(e.container===!0||document.qScrollPrevented!==!0){const S={position:I.position.top,direction:I.direction,directionChanged:I.directionChanged,inflectionPoint:I.inflectionPoint.top,delta:I.delta.top};s.value=S,e.onScroll!==void 0&&o("scroll",S)}}function g(I){const{height:S,width:O}=I;let F=!1;i.value!==S&&(F=!0,i.value=S,e.onScrollHeight!==void 0&&o("scrollHeight",S),x()),n.value!==O&&(F=!0,n.value=O),F===!0&&e.onResize!==void 0&&o("resize",I)}function b({height:I}){l.value!==I&&(l.value=I,x())}function x(){if(e.container===!0){const I=i.value>l.value?C1():0;u.value!==I&&(u.value=I)}}let _=null;const y={instances:{},view:X(()=>e.view),isContainer:X(()=>e.container),rootRef:a,height:i,containerHeight:l,scrollbarWidth:u,totalWidth:X(()=>n.value+u.value),rows:X(()=>{const I=e.view.toLowerCase().split(" ");return{top:I[0].split(""),middle:I[1].split(""),bottom:I[2].split("")}}),header:Gn({size:0,offset:0,space:!1}),right:Gn({size:300,offset:0,space:!1}),footer:Gn({size:0,offset:0,space:!1}),left:Gn({size:300,offset:0,space:!1}),scroll:s,animate(){_!==null?clearTimeout(_):document.body.classList.add("q-body--layout-animate"),_=setTimeout(()=>{_=null,document.body.classList.remove("q-body--layout-animate")},155)},update(I,S,O){y[I][S]=O}};if(_s(kf,y),C1()>0){let O=function(){I=null,S.classList.remove("hide-scrollbar")},F=function(){if(I===null){if(S.scrollHeight>r.screen.height)return;S.classList.add("hide-scrollbar")}else clearTimeout(I);I=setTimeout(O,300)},M=function(E){I!==null&&E==="remove"&&(clearTimeout(I),O()),window[`${E}EventListener`]("resize",F)},I=null;const S=document.body;rt(()=>e.container!==!0?"add":"remove",M),e.container!==!0&&M("add"),Rf(()=>{M("remove")})}return()=>{const I=bi(t.default,[ee(sz,{onScroll:p}),ee(ni,{onResize:g})]),S=ee("div",{class:c.value,style:d.value,ref:e.container===!0?void 0:a,tabindex:-1},I);return e.container===!0?ee("div",{class:"q-layout-container overflow-hidden",ref:a},[ee(ni,{onResize:b}),ee("div",{class:"absolute-full",style:m.value},[ee("div",{class:"scroll",style:f.value},[S])])]):S}}});async function Cc(e){await $utils.geeksApi({upinsert:{funcao:"457753C9-2EFA-46CD-8106-6910BAF27052",data:e}})}async function cz(e){const{cpf:t}=e!=null?e:{};return(await $utils.geeksApi({ler:{funcao:"143621B4-8B65-41C3-9FDC-339F7A220834",chave:t}})).data.ler}async function uz(e){const{id:t,cpf:o,nome:r,cor:a}=e!=null?e:{},i={};i[o]={},i[o].agenda={},i[o].agenda[t]={nome:r,cor:a},await Cc(i)}async function dz(e){const{id:t,cpf:o}=e!=null?e:{},r={};delete e.id,delete e.cpf,r[o]={},r[o].agenda={},r[o].agenda[t]=e,await Cc(r)}async function fz(e){const{cpf:t,id:o}=e!=null?e:{},r={};r[t]={},r[t].agenda={},r[t].agenda[o]=null,await Cc(r)}async function mz(e){const{cpfAgenda:t,id:o,cpfAssinante:r,nome:a}=e!=null?e:{},i={};i[r]={assinante:{}},i[r].assinante[t]={},i[r].assinante[t][o]={nome:a,visivel:!0},await $db.agenda.compartilhar({cpf:t,id:o,cpfConvidado:r,permissao:"Solicitando"}),await Cc(i)}async function pz(e){const{cpfAgenda:t,id:o,cpfAssinante:r,nome:a}=e!=null?e:{},i={};i[r]={assinante:{}},i[r].assinante[t]=null,await Cc(i)}async function hz(e){const{cpf:t,id:o,cpfConvidado:r,permissao:a}=e!=null?e:{},i={};delete e.id,delete e.cpf,i[t]={},i[t].agenda={},i[t].agenda[o]={convidado:{}},i[t].agenda[o].convidado[r]=e,await Cc(i)}async function vz(e){const{cpf:t,id:o,convidado:r,nome:a,visivel:i,cor:n}=e!=null?e:{},s={};delete e.id,delete e.cpf,s[t]={},s[t].agenda={},s[t].agenda[o]={nome:a,visivel:i,cor:n,convidado:{}};for(let l=0;l<r.length;l++)r[l].permissao!=="remover"&&(s[t].agenda[o].convidado[r[l].cpfConvidado]=r[l]),r[l].permissao==="remover"&&(s[t].agenda[o].convidado[r[l].cpfConvidado]=null);await Cc(s)}async function gz({cpf:e}){return(await $utils.geeksApi({usuario:{funcao:"AEC2D51E-F033-48B8-9BB5-04D925012714",cpf:e}})).data.usuario}const _z=["#8E24AA","#AD1457","#3F51B5","#D50000","#795548","#D81B60","#0B8043","#616161","#9E69AF","#F4511E","#4285F4","#EF6C00","#009688","#7986CB","#039BE5","#F09300","#E67C73","#7CB342","#33B679","#C0CA33","#F6BF26","#E4C441","#B39DDB","#A79B8E"];var bz={coresDeBase:_z,ler:cz,assinar:mz,compartilhar:hz,criar:uz,excluir:fz,gravar:dz,excluirAssinatura:pz,gerenciarCompartilhamentos:vz,upinsert:Cc,usuarioConsulta:gz};const wT=["idTabelaMaster","tabelaMaster"];var yz={gravar:async e=>{if(e=$utils.compactarObjeto(e),!Object.keys(e.original||{}).length)await $erp().arquivo.put(e.atual),await $utils.sincronismoEnviar("adicionar","arquivo",e.atual.id,e.atual);else{const t=$utils.diferencaObjetos(e.original,e.atual);Object.keys(t).length&&(await $erp().arquivo.update(e.atual.id,t),await $utils.sincronismoEnviar("atualizar","arquivo",e.atual.id,t))}},ler:async function(e){var a,i;let t=[],o=[],r;try{o=(a=await this.lerOffline(e))!=null?a:[],t=(i=await this.lerOnline(e))!=null?i:[]}catch(n){console.error(n)}return r=t.filter(n=>!o.find(s=>s.id===n.id)),o.concat(r)},lerOnline:async e=>{var a,i,n;const t=(a=e==null?void 0:e.filtros)!=null?a:{},o=(i=e==null?void 0:e.campos)!=null?i:["id","nome"],r=await $utils.geeksApi({listarArquivo:{funcao:"E6D1789B-D368-4DE8-A740-E8A4A1714D94",tabela:"arquivo",campos:o,filtros:t,indices:wT}});return(n=r==null?void 0:r.data)==null?void 0:n.listarArquivo},lerOffline:async e=>{var a;const t=(a=e==null?void 0:e.filtros)!=null?a:{},o={};let r=$erp().arquivo;if(t.id)return r.get(t.id);delete t.id;for(const i of wT)!t[i]||(o[i]=t[i]);return Object.keys(t).length>=1&&Object.keys(o).length===0?[]:(Object.keys(o).length>=1&&(r=r.where(o)),r.toArray())},removeOnline:async e=>{for(const t of e)try{await $utils.geeksApi({hibrido:{funcao:"A6A9685B-CA40-4FCD-A430-40EF58EDE407",tabela:"arquivo",id:t.id}})}catch(o){console.error(o)}},removeOffline:async e=>{for(const t of e)await $erp().arquivo.delete(t.id),await $utils.sincronismoEnviar("remover","arquivo",t.id)},remove:async function(e){await this.removeOffline(e)}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xo=function(){return xo=Object.assign||function(t){for(var o,r=1,a=arguments.length;r<a;r++){o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},xo.apply(this,arguments)};function iy(e,t,o){if(o||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var da=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,er=Object.keys,Ur=Array.isArray;typeof Promise!="undefined"&&!da.Promise&&(da.Promise=Promise);function si(e,t){return typeof t!="object"||er(t).forEach(function(o){e[o]=t[o]}),e}var Ap=Object.getPrototypeOf,Cz={}.hasOwnProperty;function en(e,t){return Cz.call(e,t)}function pf(e,t){typeof t=="function"&&(t=t(Ap(e))),(typeof Reflect=="undefined"?er:Reflect.ownKeys)(t).forEach(function(o){sl(e,o,t[o])})}var B4=Object.defineProperty;function sl(e,t,o,r){B4(e,t,si(o&&en(o,"get")&&typeof o.get=="function"?{get:o.get,set:o.set,configurable:!0}:{value:o,configurable:!0,writable:!0},r))}function Vf(e){return{from:function(t){return e.prototype=Object.create(t.prototype),sl(e.prototype,"constructor",e),{extend:pf.bind(null,e.prototype)}}}}var xz=Object.getOwnPropertyDescriptor;function hx(e,t){var o=xz(e,t),r;return o||(r=Ap(e))&&hx(r,t)}var wz=[].slice;function fg(e,t,o){return wz.call(e,t,o)}function L4(e,t){return t(e)}function $m(e){if(!e)throw new Error("Assertion Failed")}function $4(e){da.setImmediate?setImmediate(e):setTimeout(e,0)}function U4(e,t){return e.reduce(function(o,r,a){var i=t(r,a);return i&&(o[i[0]]=i[1]),o},{})}function Iz(e,t,o){try{e.apply(null,o)}catch(r){t&&t(r)}}function al(e,t){if(en(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var o=[],r=0,a=t.length;r<a;++r){var i=al(e,t[r]);o.push(i)}return o}var n=t.indexOf(".");if(n!==-1){var s=e[t.substr(0,n)];return s===void 0?void 0:al(s,t.substr(n+1))}}function Xn(e,t,o){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){$m(typeof o!="string"&&"length"in o);for(var r=0,a=t.length;r<a;++r)Xn(e,t[r],o[r])}else{var i=t.indexOf(".");if(i!==-1){var n=t.substr(0,i),s=t.substr(i+1);if(s==="")o===void 0?Ur(e)&&!isNaN(parseInt(n))?e.splice(n,1):delete e[n]:e[n]=o;else{var l=e[n];(!l||!en(e,n))&&(l=e[n]={}),Xn(l,s,o)}}else o===void 0?Ur(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=o}}function Ez(e,t){typeof t=="string"?Xn(e,t,void 0):"length"in t&&[].map.call(t,function(o){Xn(e,o,void 0)})}function z4(e){var t={};for(var o in e)en(e,o)&&(t[o]=e[o]);return t}var Sz=[].concat;function H4(e){return Sz.apply([],e)}var j4="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(H4([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return da[e]}),Az=j4.map(function(e){return da[e]});U4(j4,function(e){return[e,!0]});var Gl=null;function r0(e){Gl=typeof WeakMap!="undefined"&&new WeakMap;var t=ny(e);return Gl=null,t}function ny(e){if(!e||typeof e!="object")return e;var t=Gl&&Gl.get(e);if(t)return t;if(Ur(e)){t=[],Gl&&Gl.set(e,t);for(var o=0,r=e.length;o<r;++o)t.push(ny(e[o]))}else if(Az.indexOf(e.constructor)>=0)t=e;else{var a=Ap(e);t=a===Object.prototype?{}:Object.create(a),Gl&&Gl.set(e,t);for(var i in e)en(e,i)&&(t[i]=ny(e[i]))}return t}var Tz={}.toString;function sy(e){return Tz.call(e).slice(8,-1)}var ly=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",Oz=typeof ly=="symbol"?function(e){var t;return e!=null&&(t=e[ly])&&t.apply(e)}:function(){return null},Rd={};function Xs(e){var t,o,r,a;if(arguments.length===1){if(Ur(e))return e.slice();if(this===Rd&&typeof e=="string")return[e];if(a=Oz(e)){for(o=[];r=a.next(),!r.done;)o.push(r.value);return o}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(o=new Array(t);t--;)o[t]=e[t];return o}return[e]}for(t=arguments.length,o=new Array(t);t--;)o[t]=arguments[t];return o}var vx=typeof Symbol!="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},xs=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function G4(e,t){xs=e,W4=t}var W4=function(){return!0},Dz=!new Error("").stack;function zu(){if(Dz)try{throw zu.arguments,new Error}catch(e){return e}return new Error}function cy(e,t){var o=e.stack;return o?(t=t||0,o.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),o.split(`
`).slice(t).filter(W4).map(function(r){return`
`+r}).join("")):""}var Pz=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],X4=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],gx=Pz.concat(X4),Mz={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function qf(e,t){this._e=zu(),this.name=e,this.message=t}Vf(qf).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+cy(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Y4(e,t){return e+". Errors: "+Object.keys(t).map(function(o){return t[o].toString()}).filter(function(o,r,a){return a.indexOf(o)===r}).join(`
`)}function rv(e,t,o,r){this._e=zu(),this.failures=t,this.failedKeys=r,this.successCount=o,this.message=Y4(e,t)}Vf(rv).from(qf);function rp(e,t){this._e=zu(),this.name="BulkError",this.failures=Object.keys(t).map(function(o){return t[o]}),this.failuresByPos=t,this.message=Y4(e,t)}Vf(rp).from(qf);var _x=gx.reduce(function(e,t){return e[t]=t+"Error",e},{}),Nz=qf,Yt=gx.reduce(function(e,t){var o=t+"Error";function r(a,i){this._e=zu(),this.name=o,a?typeof a=="string"?(this.message=""+a+(i?`
 `+i:""),this.inner=i||null):typeof a=="object"&&(this.message=a.name+" "+a.message,this.inner=a):(this.message=Mz[t]||o,this.inner=null)}return Vf(r).from(Nz),e[t]=r,e},{});Yt.Syntax=SyntaxError;Yt.Type=TypeError;Yt.Range=RangeError;var IT=X4.reduce(function(e,t){return e[t+"Error"]=Yt[t],e},{});function Fz(e,t){if(!e||e instanceof qf||e instanceof TypeError||e instanceof SyntaxError||!e.name||!IT[e.name])return e;var o=new IT[e.name](t||e.message,e);return"stack"in e&&sl(o,"stack",{get:function(){return this.inner.stack}}),o}var mg=gx.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Yt[t]),e},{});mg.ModifyError=rv;mg.DexieError=qf;mg.BulkError=rp;function ta(){}function i0(e){return e}function Rz(e,t){return e==null||e===i0?t:function(o){return t(e(o))}}function Du(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function kz(e,t){return e===ta?t:function(){var o=e.apply(this,arguments);o!==void 0&&(arguments[0]=o);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Du(r,this.onsuccess):r),a&&(this.onerror=this.onerror?Du(a,this.onerror):a),i!==void 0?i:o}}function Vz(e,t){return e===ta?t:function(){e.apply(this,arguments);var o=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?Du(o,this.onsuccess):o),r&&(this.onerror=this.onerror?Du(r,this.onerror):r)}}function qz(e,t){return e===ta?t:function(o){var r=e.apply(this,arguments);si(o,r);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var n=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?Du(a,this.onsuccess):a),i&&(this.onerror=this.onerror?Du(i,this.onerror):i),r===void 0?n===void 0?void 0:n:si(r,n)}}function Bz(e,t){return e===ta?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function bx(e,t){return e===ta?t:function(){var o=e.apply(this,arguments);if(o&&typeof o.then=="function"){for(var r=this,a=arguments.length,i=new Array(a);a--;)i[a]=arguments[a];return o.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}var Tp={},Lz=100,$z=20,K4=100,yx=typeof Promise=="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[e,Ap(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ap(t),e]}(),uy=yx[0],iv=yx[1],dy=yx[2],Q4=iv&&iv.then,x1=uy&&uy.constructor,Cx=!!dy,fy=!1,Uz=dy?function(){dy.then(Vh)}:da.setImmediate?setImmediate.bind(null,Vh):da.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Vh(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Vh,0)},Op=function(e,t){Um.push([e,t]),nv&&(Uz(),nv=!1)},my=!0,nv=!0,gu=[],w1=[],py=null,hy=i0,ef={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:AT,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{AT(e[0],e[1])}catch{}})}},kt=ef,Um=[],_u=0,I1=[];function bt(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ta,this._lib=!1;var t=this._PSD=kt;if(xs&&(this._stackHolder=zu(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Tp)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&gy(this,this._value);return}this._state=null,this._value=null,++t.ref,Z4(this,e)}var vy={get:function(){var e=kt,t=sv;function o(r,a){var i=this,n=!e.global&&(e!==kt||t!==sv),s=n&&!ll(),l=new bt(function(u,c){xx(i,new J4(cv(r,e,n,s),cv(a,e,n,s),u,c,e))});return xs&&o9(l,this),l}return o.prototype=Tp,o},set:function(e){sl(this,"then",e&&e.prototype===Tp?vy:{get:function(){return e},set:vy.set})}};pf(bt.prototype,{then:vy,_then:function(e,t){xx(this,new J4(null,null,e,t,kt))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],o=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?o(r):E1(r)}):this.then(null,function(r){return r&&r.name===t?o(r):E1(r)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),E1(t)})},stack:{get:function(){if(this._stack)return this._stack;try{fy=!0;var e=t9(this,[],$z),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{fy=!1}}},timeout:function(e,t){var o=this;return e<1/0?new bt(function(r,a){var i=setTimeout(function(){return a(new Yt.Timeout(t))},e);o.then(r,a).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&sl(bt.prototype,Symbol.toStringTag,"Dexie.Promise");ef.env=a9();function J4(e,t,o,r,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=o,this.reject=r,this.psd=a}pf(bt,{all:function(){var e=Xs.apply(null,arguments).map(lv);return new bt(function(t,o){e.length===0&&t([]);var r=e.length;e.forEach(function(a,i){return bt.resolve(a).then(function(n){e[i]=n,--r||t(e)},o)})})},resolve:function(e){if(e instanceof bt)return e;if(e&&typeof e.then=="function")return new bt(function(o,r){e.then(o,r)});var t=new bt(Tp,!0,e);return o9(t,py),t},reject:E1,race:function(){var e=Xs.apply(null,arguments).map(lv);return new bt(function(t,o){e.map(function(r){return bt.resolve(r).then(t,o)})})},PSD:{get:function(){return kt},set:function(e){return kt=e}},totalEchoes:{get:function(){return sv}},newPSD:gc,usePSD:Lf,scheduler:{get:function(){return Op},set:function(e){Op=e}},rejectionMapper:{get:function(){return hy},set:function(e){hy=e}},follow:function(e,t){return new bt(function(o,r){return gc(function(a,i){var n=kt;n.unhandleds=[],n.onunhandled=i,n.finalize=Du(function(){var s=this;Hz(function(){s.unhandleds.length===0?a():i(s.unhandleds[0])})},n.finalize),e()},t,o,r)})}});x1&&(x1.allSettled&&sl(bt,"allSettled",function(){var e=Xs.apply(null,arguments).map(lv);return new bt(function(t){e.length===0&&t([]);var o=e.length,r=new Array(o);e.forEach(function(a,i){return bt.resolve(a).then(function(n){return r[i]={status:"fulfilled",value:n}},function(n){return r[i]={status:"rejected",reason:n}}).then(function(){return--o||t(r)})})})}),x1.any&&typeof AggregateError!="undefined"&&sl(bt,"any",function(){var e=Xs.apply(null,arguments).map(lv);return new bt(function(t,o){e.length===0&&o(new AggregateError([]));var r=e.length,a=new Array(r);e.forEach(function(i,n){return bt.resolve(i).then(function(s){return t(s)},function(s){a[n]=s,--r||o(new AggregateError(a))})})})}));function Z4(e,t){try{t(function(o){if(e._state===null){if(o===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&n0();o&&typeof o.then=="function"?Z4(e,function(a,i){o instanceof bt?o._then(a,i):o.then(a,i)}):(e._state=!0,e._value=o,e9(e)),r&&s0()}},gy.bind(null,e))}catch(o){gy(e,o)}}function gy(e,t){if(w1.push(t),e._state===null){var o=e._lib&&n0();t=hy(t),e._state=!1,e._value=t,xs&&t!==null&&typeof t=="object"&&!t._promise&&Iz(function(){var r=hx(t,"stack");t._promise=e,sl(t,"stack",{get:function(){return fy?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),jz(e),e9(e),o&&s0()}}function e9(e){var t=e._listeners;e._listeners=[];for(var o=0,r=t.length;o<r;++o)xx(e,t[o]);var a=e._PSD;--a.ref||a.finalize(),_u===0&&(++_u,Op(function(){--_u===0&&wx()},[]))}function xx(e,t){if(e._state===null){e._listeners.push(t);return}var o=e._state?t.onFulfilled:t.onRejected;if(o===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++_u,Op(zz,[o,e,t])}function zz(e,t,o){try{py=t;var r,a=t._value;t._state?r=e(a):(w1.length&&(w1=[]),r=e(a),w1.indexOf(a)===-1&&Gz(t)),o.resolve(r)}catch(i){o.reject(i)}finally{py=null,--_u===0&&wx(),--o.psd.ref||o.psd.finalize()}}function t9(e,t,o){if(t.length===o)return t;var r="";if(e._state===!1){var a=e._value,i,n;a!=null?(i=a.name||"Error",n=a.message||a,r=cy(a,0)):(i=a,n=""),t.push(i+(n?": "+n:"")+r)}return xs&&(r=cy(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&t9(e._prev,t,o)),t}function o9(e,t){var o=t?t._numPrev+1:0;o<Lz&&(e._prev=t,e._numPrev=o)}function Vh(){n0()&&s0()}function n0(){var e=my;return my=!1,nv=!1,e}function s0(){var e,t,o;do for(;Um.length>0;)for(e=Um,Um=[],o=e.length,t=0;t<o;++t){var r=e[t];r[0].apply(null,r[1])}while(Um.length>0);my=!0,nv=!0}function wx(){var e=gu;gu=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=I1.slice(0),o=t.length;o;)t[--o]()}function Hz(e){function t(){e(),I1.splice(I1.indexOf(t),1)}I1.push(t),++_u,Op(function(){--_u===0&&wx()},[])}function jz(e){gu.some(function(t){return t._value===e._value})||gu.push(e)}function Gz(e){for(var t=gu.length;t;)if(gu[--t]._value===e._value){gu.splice(t,1);return}}function E1(e){return new bt(Tp,!1,e)}function ba(e,t){var o=kt;return function(){var r=n0(),a=kt;try{return _c(o,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{_c(a,!1),r&&s0()}}}var $r={awaits:0,echoes:0,id:0},Wz=0,S1=[],Nb=0,sv=0,Xz=0;function gc(e,t,o,r){var a=kt,i=Object.create(a);i.parent=a,i.ref=0,i.global=!1,i.id=++Xz;var n=ef.env;i.env=Cx?{Promise:bt,PromiseProp:{value:bt,configurable:!0,writable:!0},all:bt.all,race:bt.race,allSettled:bt.allSettled,any:bt.any,resolve:bt.resolve,reject:bt.reject,nthen:ET(n.nthen,i),gthen:ET(n.gthen,i)}:{},t&&si(i,t),++a.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Lf(i,e,o,r);return i.ref===0&&i.finalize(),s}function Bf(){return $r.id||($r.id=++Wz),++$r.awaits,$r.echoes+=K4,$r.id}function ll(){return $r.awaits?(--$r.awaits===0&&($r.id=0),$r.echoes=$r.awaits*K4,!0):!1}(""+Q4).indexOf("[native code]")===-1&&(Bf=ll=ta);function lv(e){return $r.echoes&&e&&e.constructor===x1?(Bf(),e.then(function(t){return ll(),t},function(t){return ll(),ur(t)})):e}function Yz(e){++sv,(!$r.echoes||--$r.echoes===0)&&($r.echoes=$r.id=0),S1.push(kt),_c(e,!0)}function Kz(){var e=S1[S1.length-1];S1.pop(),_c(e,!1)}function _c(e,t){var o=kt;if((t?$r.echoes&&(!Nb++||e!==kt):Nb&&(!--Nb||e!==kt))&&r9(t?Yz.bind(null,e):Kz),e!==kt&&(kt=e,o===ef&&(ef.env=a9()),Cx)){var r=ef.env.Promise,a=e.env;iv.then=a.nthen,r.prototype.then=a.gthen,(o.global||e.global)&&(Object.defineProperty(da,"Promise",a.PromiseProp),r.all=a.all,r.race=a.race,r.resolve=a.resolve,r.reject=a.reject,a.allSettled&&(r.allSettled=a.allSettled),a.any&&(r.any=a.any))}}function a9(){var e=da.Promise;return Cx?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(da,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:iv.then,gthen:e.prototype.then}:{}}function Lf(e,t,o,r,a){var i=kt;try{return _c(e,!0),t(o,r,a)}finally{_c(i,!1)}}function r9(e){Q4.call(uy,e)}function cv(e,t,o,r){return typeof e!="function"?e:function(){var a=kt;o&&Bf(),_c(t,!0);try{return e.apply(this,arguments)}finally{_c(a,!1),r&&r9(ll)}}}function ET(e,t){return function(o,r){return e.call(this,cv(o,t),cv(r,t))}}var ST="unhandledrejection";function AT(e,t){var o;try{o=t.onuncatched(e)}catch{}if(o!==!1)try{var r,a={promise:t,reason:e};if(da.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(ST,!0,!0),si(r,a)):da.CustomEvent&&(r=new CustomEvent(ST,{detail:a}),si(r,a)),r&&da.dispatchEvent&&(dispatchEvent(r),!da.PromiseRejectionEvent&&da.onunhandledrejection))try{da.onunhandledrejection(r)}catch{}xs&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var ur=bt.reject;function _y(e,t,o,r){if(!e.idbdb||!e._state.openComplete&&!kt.letThrough&&!e._vip){if(e._state.openComplete)return ur(new Yt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ur(new Yt.DatabaseClosed);e.open().catch(ta)}return e._state.dbReadyPromise.then(function(){return _y(e,t,o,r)})}else{var a=e._createTransaction(t,o,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===_x.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return _y(e,t,o,r)})):ur(i)}return a._promise(t,function(i,n){return gc(function(){return kt.trans=a,r(i,n,a)})}).then(function(i){return a._completion.then(function(){return i})})}}var TT="3.2.4",ru=String.fromCharCode(65535),by=-1/0,ks="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",i9="String expected.",ip=[],pg=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Qz=pg,Jz=pg,n9=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},hg="__dbnames",Fb="readonly",Rb="readwrite";function Pu(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var s9={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qh(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=r0(t),delete t[e]),t}:function(t){return t}}var Zz=function(){function e(){}return e.prototype._trans=function(t,o,r){var a=this._tx||kt.trans,i=this.name;function n(l,u,c){if(!c.schema[i])throw new Yt.NotFound("Table "+i+" not part of transaction");return o(c.idbtrans,c)}var s=n0();try{return a&&a.db===this.db?a===kt.trans?a._promise(t,n,r):gc(function(){return a._promise(t,n,r)},{trans:a,transless:kt.transless||kt}):_y(this.db,t,[this.name],n)}finally{s&&s0()}},e.prototype.get=function(t,o){var r=this;return t&&t.constructor===Object?this.where(t).first(o):this._trans("readonly",function(a){return r.core.get({trans:a,key:t}).then(function(i){return r.hook.reading.fire(i)})}).then(o)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Ur(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var o=er(t);if(o.length===1)return this.where(o[0]).equals(t[o[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&o.every(function(d){return c.keyPath.indexOf(d)>=0})&&c.keyPath.every(function(d){return o.indexOf(d)>=0})})[0];if(r&&this.db._maxKey!==ru)return this.where(r.name).equals(r.keyPath.map(function(c){return t[c]}));!r&&xs&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+o.join("+")+"]"));var a=this.schema.idxByName,i=this.db._deps.indexedDB;function n(c,d){try{return i.cmp(c,d)===0}catch{return!1}}var s=o.reduce(function(c,d){var m=c[0],f=c[1],p=a[d],g=t[d];return[m||p,m||!p?Pu(f,p&&p.multi?function(b){var x=al(b,d);return Ur(x)&&x.some(function(_){return n(g,_)})}:function(b){return n(g,al(b,d))}):f]},[null,null]),l=s[0],u=s[1];return l?this.where(l.name).equals(t[l.keyPath]).filter(u):r?this.filter(u):this.where(o).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,Ur(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var o=function(r){if(!r)return r;var a=Object.create(t.prototype);for(var i in r)if(en(r,i))try{a[i]=r[i]}catch{}return a};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),t},e.prototype.defineClass=function(){function t(o){si(this,o)}return this.mapToClass(t)},e.prototype.add=function(t,o){var r=this,a=this.schema.primKey,i=a.auto,n=a.keyPath,s=t;return n&&i&&(s=qh(n)(t)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"add",keys:o!=null?[o]:null,values:[s]})}).then(function(l){return l.numFailures?bt.reject(l.failures[0]):l.lastResult}).then(function(l){if(n)try{Xn(t,n,l)}catch{}return l})},e.prototype.update=function(t,o){if(typeof t=="object"&&!Ur(t)){var r=al(t,this.schema.primKey.keyPath);if(r===void 0)return ur(new Yt.InvalidArgument("Given object does not contain its primary key"));try{typeof o!="function"?er(o).forEach(function(a){Xn(t,a,o[a])}):o(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(o)}else return this.where(":id").equals(t).modify(o)},e.prototype.put=function(t,o){var r=this,a=this.schema.primKey,i=a.auto,n=a.keyPath,s=t;return n&&i&&(s=qh(n)(t)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"put",values:[s],keys:o!=null?[o]:null})}).then(function(l){return l.numFailures?bt.reject(l.failures[0]):l.lastResult}).then(function(l){if(n)try{Xn(t,n,l)}catch{}return l})},e.prototype.delete=function(t){var o=this;return this._trans("readwrite",function(r){return o.core.mutate({trans:r,type:"delete",keys:[t]})}).then(function(r){return r.numFailures?bt.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(o){return t.core.mutate({trans:o,type:"deleteRange",range:s9})}).then(function(o){return o.numFailures?bt.reject(o.failures[0]):void 0})},e.prototype.bulkGet=function(t){var o=this;return this._trans("readonly",function(r){return o.core.getMany({keys:t,trans:r}).then(function(a){return a.map(function(i){return o.hook.reading.fire(i)})})})},e.prototype.bulkAdd=function(t,o,r){var a=this,i=Array.isArray(o)?o:void 0;r=r||(i?void 0:o);var n=r?r.allKeys:void 0;return this._trans("readwrite",function(s){var l=a.schema.primKey,u=l.auto,c=l.keyPath;if(c&&i)throw new Yt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Yt.InvalidArgument("Arguments objects and keys must have the same length");var d=t.length,m=c&&u?t.map(qh(c)):t;return a.core.mutate({trans:s,type:"add",keys:i,values:m,wantResults:n}).then(function(f){var p=f.numFailures,g=f.results,b=f.lastResult,x=f.failures,_=n?g:b;if(p===0)return _;throw new rp(a.name+".bulkAdd(): "+p+" of "+d+" operations failed",x)})})},e.prototype.bulkPut=function(t,o,r){var a=this,i=Array.isArray(o)?o:void 0;r=r||(i?void 0:o);var n=r?r.allKeys:void 0;return this._trans("readwrite",function(s){var l=a.schema.primKey,u=l.auto,c=l.keyPath;if(c&&i)throw new Yt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Yt.InvalidArgument("Arguments objects and keys must have the same length");var d=t.length,m=c&&u?t.map(qh(c)):t;return a.core.mutate({trans:s,type:"put",keys:i,values:m,wantResults:n}).then(function(f){var p=f.numFailures,g=f.results,b=f.lastResult,x=f.failures,_=n?g:b;if(p===0)return _;throw new rp(a.name+".bulkPut(): "+p+" of "+d+" operations failed",x)})})},e.prototype.bulkDelete=function(t){var o=this,r=t.length;return this._trans("readwrite",function(a){return o.core.mutate({trans:a,type:"delete",keys:t})}).then(function(a){var i=a.numFailures,n=a.lastResult,s=a.failures;if(i===0)return n;throw new rp(o.name+".bulkDelete(): "+i+" of "+r+" operations failed",s)})},e}();function l0(e){var t={},o=function(s,l){if(l){for(var u=arguments.length,c=new Array(u-1);--u;)c[u-1]=arguments[u];return t[s].subscribe.apply(null,c),e}else if(typeof s=="string")return t[s]};o.addEventType=i;for(var r=1,a=arguments.length;r<a;++r)i(arguments[r]);return o;function i(s,l,u){if(typeof s=="object")return n(s);l||(l=Bz),u||(u=ta);var c={subscribers:[],fire:u,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=l(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(m){return m!==d}),c.fire=c.subscribers.reduce(l,u)}};return t[s]=o[s]=c,c}function n(s){er(s).forEach(function(l){var u=s[l];if(Ur(u))i(l,s[l][0],s[l][1]);else if(u==="asap")var c=i(l,i0,function(){for(var m=arguments.length,f=new Array(m);m--;)f[m]=arguments[m];c.subscribers.forEach(function(p){$4(function(){p.apply(null,f)})})});else throw new Yt.InvalidArgument("Invalid event config")})}}function c0(e,t){return Vf(t).from({prototype:e}),t}function eH(e){return c0(Zz.prototype,function(o,r,a){this.db=e,this._tx=a,this.name=o,this.schema=r,this.hook=e._allTables[o]?e._allTables[o].hook:l0(null,{creating:[kz,ta],reading:[Rz,i0],updating:[qz,ta],deleting:[Vz,ta]})})}function pd(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function kb(e,t){e.filter=Pu(e.filter,t)}function Vb(e,t,o){var r=e.replayFilter;e.replayFilter=r?function(){return Pu(r(),t())}:t,e.justLimit=o&&!r}function tH(e,t){e.isMatch=Pu(e.isMatch,t)}function A1(e,t){if(e.isPrimKey)return t.primaryKey;var o=t.getIndexByKeyPath(e.index);if(!o)throw new Yt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return o}function OT(e,t,o){var r=A1(e,t.schema);return t.openCursor({trans:o,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Bh(e,t,o,r){var a=e.replayFilter?Pu(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},n=function(s,l,u){if(!a||a(l,u,function(m){return l.stop(m)},function(m){return l.fail(m)})){var c=l.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),en(i,d)||(i[d]=!0,t(s,l,u))}};return Promise.all([e.or._iterate(n,o),DT(OT(e,r,o),e.algorithm,n,!e.keysOnly&&e.valueMapper)])}else return DT(OT(e,r,o),Pu(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function DT(e,t,o,r){var a=r?function(n,s,l){return o(r(n),s,l)}:o,i=ba(a);return e.then(function(n){if(n)return n.start(function(){var s=function(){return n.continue()};(!t||t(n,function(l){return s=l},function(l){n.stop(l),s=ta},function(l){n.fail(l),s=ta}))&&i(n.value,n,function(l){return s=l}),s()})})}function ai(e,t){try{var o=PT(e),r=PT(t);if(o!==r)return o==="Array"?1:r==="Array"?-1:o==="binary"?1:r==="binary"?-1:o==="string"?1:r==="string"?-1:o==="Date"?1:r!=="Date"?NaN:-1;switch(o){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return aH(MT(e),MT(t));case"Array":return oH(e,t)}}catch{}return NaN}function oH(e,t){for(var o=e.length,r=t.length,a=o<r?o:r,i=0;i<a;++i){var n=ai(e[i],t[i]);if(n!==0)return n}return o===r?0:o<r?-1:1}function aH(e,t){for(var o=e.length,r=t.length,a=o<r?o:r,i=0;i<a;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return o===r?0:o<r?-1:1}function PT(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var o=sy(e);return o==="ArrayBuffer"?"binary":o}function MT(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var rH=function(){function e(){}return e.prototype._read=function(t,o){var r=this._ctx;return r.error?r.table._trans(null,ur.bind(null,r.error)):r.table._trans("readonly",t).then(o)},e.prototype._write=function(t){var o=this._ctx;return o.error?o.table._trans(null,ur.bind(null,o.error)):o.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var o=this._ctx;o.algorithm=Pu(o.algorithm,t)},e.prototype._iterate=function(t,o){return Bh(this._ctx,t,o,this._ctx.table.core)},e.prototype.clone=function(t){var o=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&si(r,t),o._ctx=r,o},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var o=this._ctx;return this._read(function(r){return Bh(o,t,r,o.table.core)})},e.prototype.count=function(t){var o=this;return this._read(function(r){var a=o._ctx,i=a.table.core;if(pd(a,!0))return i.count({trans:r,query:{index:A1(a,i.schema),range:a.range}}).then(function(s){return Math.min(s,a.limit)});var n=0;return Bh(a,function(){return++n,!1},r,i).then(function(){return n})}).then(t)},e.prototype.sortBy=function(t,o){var r=t.split(".").reverse(),a=r[0],i=r.length-1;function n(u,c){return c?n(u[r[c]],c-1):u[a]}var s=this._ctx.dir==="next"?1:-1;function l(u,c){var d=n(u,i),m=n(c,i);return d<m?-s:d>m?s:0}return this.toArray(function(u){return u.sort(l)}).then(o)},e.prototype.toArray=function(t){var o=this;return this._read(function(r){var a=o._ctx;if(a.dir==="next"&&pd(a,!0)&&a.limit>0){var i=a.valueMapper,n=A1(a,a.table.core.schema);return a.table.core.query({trans:r,limit:a.limit,values:!0,query:{index:n,range:a.range}}).then(function(l){var u=l.result;return i?u.map(i):u})}else{var s=[];return Bh(a,function(l){return s.push(l)},r,a.table.core).then(function(){return s})}},t)},e.prototype.offset=function(t){var o=this._ctx;return t<=0?this:(o.offset+=t,pd(o)?Vb(o,function(){var r=t;return function(a,i){return r===0?!0:r===1?(--r,!1):(i(function(){a.advance(r),r=0}),!1)}}):Vb(o,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Vb(this._ctx,function(){var o=t;return function(r,a,i){return--o<=0&&a(i),o>=0}},!0),this},e.prototype.until=function(t,o){return kb(this._ctx,function(r,a,i){return t(r.value)?(a(i),o):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(o){return o[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return kb(this._ctx,function(o){return t(o.value)}),tH(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(r,a){t(a.key,a)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(r,a){t(a.primaryKey,a)})},e.prototype.keys=function(t){var o=this._ctx;o.keysOnly=!o.isMatch;var r=[];return this.each(function(a,i){r.push(i.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var o=this._ctx;if(o.dir==="next"&&pd(o,!0)&&o.limit>0)return this._read(function(a){var i=A1(o,o.table.core.schema);return o.table.core.query({trans:a,values:!1,limit:o.limit,query:{index:i,range:o.range}})}).then(function(a){var i=a.result;return i}).then(t);o.keysOnly=!o.isMatch;var r=[];return this.each(function(a,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(o){return o[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,o=t.index&&t.table.schema.idxByName[t.index];if(!o||!o.multi)return this;var r={};return kb(this._ctx,function(a){var i=a.primaryKey.toString(),n=en(r,i);return r[i]=!0,!n}),this},e.prototype.modify=function(t){var o=this,r=this._ctx;return this._write(function(a){var i;if(typeof t=="function")i=t;else{var n=er(t),s=n.length;i=function(x){for(var _=!1,y=0;y<s;++y){var I=n[y],S=t[I];al(x,I)!==S&&(Xn(x,I,S),_=!0)}return _}}var l=r.table.core,u=l.schema.primaryKey,c=u.outbound,d=u.extractKey,m=o.db._options.modifyChunkSize||200,f=[],p=0,g=[],b=function(x,_){var y=_.failures,I=_.numFailures;p+=x-I;for(var S=0,O=er(y);S<O.length;S++){var F=O[S];f.push(y[F])}};return o.clone().primaryKeys().then(function(x){var _=function(y){var I=Math.min(m,x.length-y);return l.getMany({trans:a,keys:x.slice(y,y+I),cache:"immutable"}).then(function(S){for(var O=[],F=[],M=c?[]:null,E=[],D=0;D<I;++D){var P=S[D],N={value:r0(P),primKey:x[y+D]};i.call(N,N.value,N)!==!1&&(N.value==null?E.push(x[y+D]):!c&&ai(d(P),d(N.value))!==0?(E.push(x[y+D]),O.push(N.value)):(F.push(N.value),c&&M.push(x[y+D])))}var R=pd(r)&&r.limit===1/0&&(typeof t!="function"||t===qb)&&{index:r.index,range:r.range};return Promise.resolve(O.length>0&&l.mutate({trans:a,type:"add",values:O}).then(function(z){for(var W in z.failures)E.splice(parseInt(W),1);b(O.length,z)})).then(function(){return(F.length>0||R&&typeof t=="object")&&l.mutate({trans:a,type:"put",keys:M,values:F,criteria:R,changeSpec:typeof t!="function"&&t}).then(function(z){return b(F.length,z)})}).then(function(){return(E.length>0||R&&t===qb)&&l.mutate({trans:a,type:"delete",keys:E,criteria:R}).then(function(z){return b(E.length,z)})}).then(function(){return x.length>y+I&&_(y+m)})})};return _(0).then(function(){if(f.length>0)throw new rv("Error modifying one or more objects",f,p,g);return x.length})})})},e.prototype.delete=function(){var t=this._ctx,o=t.range;return pd(t)&&(t.isPrimKey&&!Jz||o.type===3)?this._write(function(r){var a=t.table.core.schema.primaryKey,i=o;return t.table.core.count({trans:r,query:{index:a,range:i}}).then(function(n){return t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(function(s){var l=s.failures;s.lastResult,s.results;var u=s.numFailures;if(u)throw new rv("Could not delete some values",Object.keys(l).map(function(c){return l[c]}),n-u);return n-u})})}):this.modify(qb)},e}(),qb=function(e,t){return t.value=null};function iH(e){return c0(rH.prototype,function(o,r){this.db=e;var a=s9,i=null;if(r)try{a=r()}catch(u){i=u}var n=o._ctx,s=n.table,l=s.hook.reading.fire;this._ctx={table:s,index:n.index,isPrimKey:!n.index||s.schema.primKey.keyPath&&n.index===s.schema.primKey.name,range:a,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:n.or,valueMapper:l!==i0?l:null}})}function nH(e,t){return e<t?-1:e===t?0:1}function sH(e,t){return e>t?-1:e===t?0:1}function qi(e,t,o){var r=e instanceof c9?new e.Collection(e):e;return r._ctx.error=o?new o(t):new TypeError(t),r}function hd(e){return new e.Collection(e,function(){return l9("")}).limit(0)}function lH(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function cH(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function uH(e,t,o,r,a,i){for(var n=Math.min(e.length,r.length),s=-1,l=0;l<n;++l){var u=t[l];if(u!==r[l])return a(e[l],o[l])<0?e.substr(0,l)+o[l]+o.substr(l+1):a(e[l],r[l])<0?e.substr(0,l)+r[l]+o.substr(l+1):s>=0?e.substr(0,s)+t[s]+o.substr(s+1):null;a(e[l],u)<0&&(s=l)}return n<r.length&&i==="next"?e+o.substr(e.length):n<e.length&&i==="prev"?e.substr(0,o.length):s<0?null:e.substr(0,s)+r[s]+o.substr(s+1)}function Lh(e,t,o,r){var a,i,n,s,l,u,c,d=o.length;if(!o.every(function(g){return typeof g=="string"}))return qi(e,i9);function m(g){a=lH(g),i=cH(g),n=g==="next"?nH:sH;var b=o.map(function(x){return{lower:i(x),upper:a(x)}}).sort(function(x,_){return n(x.lower,_.lower)});s=b.map(function(x){return x.upper}),l=b.map(function(x){return x.lower}),u=g,c=g==="next"?"":r}m("next");var f=new e.Collection(e,function(){return $l(s[0],l[d-1]+r)});f._ondirectionchange=function(g){m(g)};var p=0;return f._addAlgorithm(function(g,b,x){var _=g.key;if(typeof _!="string")return!1;var y=i(_);if(t(y,l,p))return!0;for(var I=null,S=p;S<d;++S){var O=uH(_,y,s[S],l[S],n,u);O===null&&I===null?p=S+1:(I===null||n(I,O)>0)&&(I=O)}return b(I!==null?function(){g.continue(I+c)}:x),!1}),f}function $l(e,t,o,r){return{type:2,lower:e,upper:t,lowerOpen:o,upperOpen:r}}function l9(e){return{type:1,lower:e,upper:e}}var c9=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,o,r,a){r=r!==!1,a=a===!0;try{return this._cmp(t,o)>0||this._cmp(t,o)===0&&(r||a)&&!(r&&a)?hd(this):new this.Collection(this,function(){return $l(t,o,!r,!a)})}catch{return qi(this,ks)}},e.prototype.equals=function(t){return t==null?qi(this,ks):new this.Collection(this,function(){return l9(t)})},e.prototype.above=function(t){return t==null?qi(this,ks):new this.Collection(this,function(){return $l(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?qi(this,ks):new this.Collection(this,function(){return $l(t,void 0,!1)})},e.prototype.below=function(t){return t==null?qi(this,ks):new this.Collection(this,function(){return $l(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?qi(this,ks):new this.Collection(this,function(){return $l(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?qi(this,i9):this.between(t,t+ru,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):Lh(this,function(o,r){return o.indexOf(r[0])===0},[t],ru)},e.prototype.equalsIgnoreCase=function(t){return Lh(this,function(o,r){return o===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=Xs.apply(Rd,arguments);return t.length===0?hd(this):Lh(this,function(o,r){return r.indexOf(o)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=Xs.apply(Rd,arguments);return t.length===0?hd(this):Lh(this,function(o,r){return r.some(function(a){return o.indexOf(a)===0})},t,ru)},e.prototype.anyOf=function(){var t=this,o=Xs.apply(Rd,arguments),r=this._cmp;try{o.sort(r)}catch{return qi(this,ks)}if(o.length===0)return hd(this);var a=new this.Collection(this,function(){return $l(o[0],o[o.length-1])});a._ondirectionchange=function(n){r=n==="next"?t._ascending:t._descending,o.sort(r)};var i=0;return a._addAlgorithm(function(n,s,l){for(var u=n.key;r(u,o[i])>0;)if(++i,i===o.length)return s(l),!1;return r(u,o[i])===0?!0:(s(function(){n.continue(o[i])}),!1)}),a},e.prototype.notEqual=function(t){return this.inAnyRange([[by,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=Xs.apply(Rd,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return qi(this,ks)}var o=t.reduce(function(r,a){return r?r.concat([[r[r.length-1][1],a]]):[[by,a]]},null);return o.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,o){var r=this,a=this._cmp,i=this._ascending,n=this._descending,s=this._min,l=this._max;if(t.length===0)return hd(this);if(!t.every(function(S){return S[0]!==void 0&&S[1]!==void 0&&i(S[0],S[1])<=0}))return qi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Yt.InvalidArgument);var u=!o||o.includeLowers!==!1,c=o&&o.includeUppers===!0;function d(S,O){for(var F=0,M=S.length;F<M;++F){var E=S[F];if(a(O[0],E[1])<0&&a(O[1],E[0])>0){E[0]=s(E[0],O[0]),E[1]=l(E[1],O[1]);break}}return F===M&&S.push(O),S}var m=i;function f(S,O){return m(S[0],O[0])}var p;try{p=t.reduce(d,[]),p.sort(f)}catch{return qi(this,ks)}var g=0,b=c?function(S){return i(S,p[g][1])>0}:function(S){return i(S,p[g][1])>=0},x=u?function(S){return n(S,p[g][0])>0}:function(S){return n(S,p[g][0])>=0};function _(S){return!b(S)&&!x(S)}var y=b,I=new this.Collection(this,function(){return $l(p[0][0],p[p.length-1][1],!u,!c)});return I._ondirectionchange=function(S){S==="next"?(y=b,m=i):(y=x,m=n),p.sort(f)},I._addAlgorithm(function(S,O,F){for(var M=S.key;y(M);)if(++g,g===p.length)return O(F),!1;return _(M)?!0:(r._cmp(M,p[g][1])===0||r._cmp(M,p[g][0])===0||O(function(){m===i?S.continue(p[g][0]):S.continue(p[g][1])}),!1)}),I},e.prototype.startsWithAnyOf=function(){var t=Xs.apply(Rd,arguments);return t.every(function(o){return typeof o=="string"})?t.length===0?hd(this):this.inAnyRange(t.map(function(o){return[o,o+ru]})):qi(this,"startsWithAnyOf() only works with strings")},e}();function dH(e){return c0(c9.prototype,function(o,r,a){this.db=e,this._ctx={table:o,index:r===":id"?null:r,or:a};var i=e._deps.indexedDB;if(!i)throw new Yt.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(n,s){return i.cmp(s,n)},this._max=function(n,s){return i.cmp(n,s)>0?n:s},this._min=function(n,s){return i.cmp(n,s)<0?n:s},this._IDBKeyRange=e._deps.IDBKeyRange})}function ms(e){return ba(function(t){return Dp(t),e(t.target.error),!1})}function Dp(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Pp="storagemutated",Jl="x-storagemutated-1",bc=l0(null,Pp),fH=function(){function e(){}return e.prototype._lock=function(){return $m(!kt.global),++this._reculock,this._reculock===1&&!kt.global&&(kt.lockOwnerFor=this),this},e.prototype._unlock=function(){if($m(!kt.global),--this._reculock===0)for(kt.global||(kt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Lf(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&kt.lockOwnerFor!==this},e.prototype.create=function(t){var o=this;if(!this.mode)return this;var r=this.db.idbdb,a=this.db._state.dbOpenError;if($m(!this.idbtrans),!t&&!r)switch(a&&a.name){case"DatabaseClosedError":throw new Yt.DatabaseClosed(a);case"MissingAPIError":throw new Yt.MissingAPI(a.message,a);default:throw new Yt.OpenFailed(a)}if(!this.active)throw new Yt.TransactionInactive;return $m(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=ba(function(i){Dp(i),o._reject(t.error)}),t.onabort=ba(function(i){Dp(i),o.active&&o._reject(new Yt.Abort(t.error)),o.active=!1,o.on("abort").fire(i)}),t.oncomplete=ba(function(){o.active=!1,o._resolve(),"mutatedParts"in t&&bc.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,o,r){var a=this;if(t==="readwrite"&&this.mode!=="readwrite")return ur(new Yt.ReadOnly("Transaction is readonly"));if(!this.active)return ur(new Yt.TransactionInactive);if(this._locked())return new bt(function(n,s){a._blockedFuncs.push([function(){a._promise(t,o,r).then(n,s)},kt])});if(r)return gc(function(){var n=new bt(function(s,l){a._lock();var u=o(s,l,a);u&&u.then&&u.then(s,l)});return n.finally(function(){return a._unlock()}),n._lib=!0,n});var i=new bt(function(n,s){var l=o(n,s,a);l&&l.then&&l.then(n,s)});return i._lib=!0,i},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var o=this._root(),r=bt.resolve(t);if(o._waitingFor)o._waitingFor=o._waitingFor.then(function(){return r});else{o._waitingFor=r,o._waitingQueue=[];var a=o.idbtrans.objectStore(o.storeNames[0]);(function n(){for(++o._spinCount;o._waitingQueue.length;)o._waitingQueue.shift()();o._waitingFor&&(a.get(-1/0).onsuccess=n)})()}var i=o._waitingFor;return new bt(function(n,s){r.then(function(l){return o._waitingQueue.push(ba(n.bind(null,l)))},function(l){return o._waitingQueue.push(ba(s.bind(null,l)))}).finally(function(){o._waitingFor===i&&(o._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Yt.Abort))},e.prototype.table=function(t){var o=this._memoizedTables||(this._memoizedTables={});if(en(o,t))return o[t];var r=this.schema[t];if(!r)throw new Yt.NotFound("Table "+t+" not part of transaction");var a=new this.db.Table(t,r,this);return a.core=this.db.core.table(t),o[t]=a,a},e}();function mH(e){return c0(fH.prototype,function(o,r,a,i,n){var s=this;this.db=e,this.mode=o,this.storeNames=r,this.schema=a,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=l0(this,"complete","error","abort"),this.parent=n||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new bt(function(l,u){s._resolve=l,s._reject=u}),this._completion.then(function(){s.active=!1,s.on.complete.fire()},function(l){var u=s.active;return s.active=!1,s.on.error.fire(l),s.parent?s.parent._reject(l):u&&s.idbtrans&&s.idbtrans.abort(),ur(l)})})}function yy(e,t,o,r,a,i,n){return{name:e,keyPath:t,unique:o,multi:r,auto:a,compound:i,src:(o&&!n?"&":"")+(r?"*":"")+(a?"++":"")+u9(t)}}function u9(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function d9(e,t,o){return{name:e,primKey:t,indexes:o,mappedClass:null,idxByName:U4(o,function(r){return[r.name,r]})}}function pH(e){return e.length===1?e[0]:e}var Mp=function(e){try{return e.only([[]]),Mp=function(){return[[]]},[[]]}catch{return Mp=function(){return ru},ru}};function Cy(e){return e==null?function(){}:typeof e=="string"?hH(e):function(t){return al(t,e)}}function hH(e){var t=e.split(".");return t.length===1?function(o){return o[e]}:function(o){return al(o,e)}}function NT(e){return[].slice.call(e)}var vH=0;function np(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function gH(e,t,o){function r(d,m){var f=NT(d.objectStoreNames);return{schema:{name:d.name,tables:f.map(function(p){return m.objectStore(p)}).map(function(p){var g=p.keyPath,b=p.autoIncrement,x=Ur(g),_=g==null,y={},I={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_,compound:x,keyPath:g,autoIncrement:b,unique:!0,extractKey:Cy(g)},indexes:NT(p.indexNames).map(function(S){return p.index(S)}).map(function(S){var O=S.name,F=S.unique,M=S.multiEntry,E=S.keyPath,D=Ur(E),P={name:O,compound:D,keyPath:E,unique:F,multiEntry:M,extractKey:Cy(E)};return y[np(E)]=P,P}),getIndexByKeyPath:function(S){return y[np(S)]}};return y[":id"]=I.primaryKey,g!=null&&(y[np(g)]=I.primaryKey),I})},hasGetAll:f.length>0&&"getAll"in m.objectStore(f[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function a(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var m=d.lower,f=d.upper,p=d.lowerOpen,g=d.upperOpen,b=m===void 0?f===void 0?null:t.upperBound(f,!!g):f===void 0?t.lowerBound(m,!!p):t.bound(m,f,!!p,!!g);return b}function i(d){var m=d.name;function f(b){var x=b.trans,_=b.type,y=b.keys,I=b.values,S=b.range;return new Promise(function(O,F){O=ba(O);var M=x.objectStore(m),E=M.keyPath==null,D=_==="put"||_==="add";if(!D&&_!=="delete"&&_!=="deleteRange")throw new Error("Invalid operation type: "+_);var P=(y||I||{length:1}).length;if(y&&I&&y.length!==I.length)throw new Error("Given keys array must have same length as given values array.");if(P===0)return O({numFailures:0,failures:{},results:[],lastResult:void 0});var N,R=[],z=[],W=0,j=function(re){++W,Dp(re)};if(_==="deleteRange"){if(S.type===4)return O({numFailures:W,failures:z,results:[],lastResult:void 0});S.type===3?R.push(N=M.clear()):R.push(N=M.delete(a(S)))}else{var Q=D?E?[I,y]:[I,null]:[y,null],se=Q[0],_e=Q[1];if(D)for(var Ee=0;Ee<P;++Ee)R.push(N=_e&&_e[Ee]!==void 0?M[_](se[Ee],_e[Ee]):M[_](se[Ee])),N.onerror=j;else for(var Ee=0;Ee<P;++Ee)R.push(N=M[_](se[Ee])),N.onerror=j}var J=function(re){var ye=re.target.result;R.forEach(function(ge,De){return ge.error!=null&&(z[De]=ge.error)}),O({numFailures:W,failures:z,results:_==="delete"?y:R.map(function(ge){return ge.result}),lastResult:ye})};N.onerror=function(re){j(re),J(re)},N.onsuccess=J})}function p(b){var x=b.trans,_=b.values,y=b.query,I=b.reverse,S=b.unique;return new Promise(function(O,F){O=ba(O);var M=y.index,E=y.range,D=x.objectStore(m),P=M.isPrimaryKey?D:D.index(M.name),N=I?S?"prevunique":"prev":S?"nextunique":"next",R=_||!("openKeyCursor"in P)?P.openCursor(a(E),N):P.openKeyCursor(a(E),N);R.onerror=ms(F),R.onsuccess=ba(function(z){var W=R.result;if(!W){O(null);return}W.___id=++vH,W.done=!1;var j=W.continue.bind(W),Q=W.continuePrimaryKey;Q&&(Q=Q.bind(W));var se=W.advance.bind(W),_e=function(){throw new Error("Cursor not started")},Ee=function(){throw new Error("Cursor not stopped")};W.trans=x,W.stop=W.continue=W.continuePrimaryKey=W.advance=_e,W.fail=ba(F),W.next=function(){var J=this,re=1;return this.start(function(){return re--?J.continue():J.stop()}).then(function(){return J})},W.start=function(J){var re=new Promise(function(ge,De){ge=ba(ge),R.onerror=ms(De),W.fail=De,W.stop=function(Oe){W.stop=W.continue=W.continuePrimaryKey=W.advance=Ee,ge(Oe)}}),ye=function(){if(R.result)try{J()}catch(ge){W.fail(ge)}else W.done=!0,W.start=function(){throw new Error("Cursor behind last entry")},W.stop()};return R.onsuccess=ba(function(ge){R.onsuccess=ye,ye()}),W.continue=j,W.continuePrimaryKey=Q,W.advance=se,ye(),re},O(W)},F)})}function g(b){return function(x){return new Promise(function(_,y){_=ba(_);var I=x.trans,S=x.values,O=x.limit,F=x.query,M=O===1/0?void 0:O,E=F.index,D=F.range,P=I.objectStore(m),N=E.isPrimaryKey?P:P.index(E.name),R=a(D);if(O===0)return _({result:[]});if(b){var z=S?N.getAll(R,M):N.getAllKeys(R,M);z.onsuccess=function(se){return _({result:se.target.result})},z.onerror=ms(y)}else{var W=0,j=S||!("openKeyCursor"in N)?N.openCursor(R):N.openKeyCursor(R),Q=[];j.onsuccess=function(se){var _e=j.result;if(!_e)return _({result:Q});if(Q.push(S?_e.value:_e.primaryKey),++W===O)return _({result:Q});_e.continue()},j.onerror=ms(y)}})}}return{name:m,schema:d,mutate:f,getMany:function(b){var x=b.trans,_=b.keys;return new Promise(function(y,I){y=ba(y);for(var S=x.objectStore(m),O=_.length,F=new Array(O),M=0,E=0,D,P=function(W){var j=W.target;(F[j._pos]=j.result)!=null,++E===M&&y(F)},N=ms(I),R=0;R<O;++R){var z=_[R];z!=null&&(D=S.get(_[R]),D._pos=R,D.onsuccess=P,D.onerror=N,++M)}M===0&&y(F)})},get:function(b){var x=b.trans,_=b.key;return new Promise(function(y,I){y=ba(y);var S=x.objectStore(m),O=S.get(_);O.onsuccess=function(F){return y(F.target.result)},O.onerror=ms(I)})},query:g(l),openCursor:p,count:function(b){var x=b.query,_=b.trans,y=x.index,I=x.range;return new Promise(function(S,O){var F=_.objectStore(m),M=y.isPrimaryKey?F:F.index(y.name),E=a(I),D=E?M.count(E):M.count();D.onsuccess=ba(function(P){return S(P.target.result)}),D.onerror=ms(O)})}}}var n=r(e,o),s=n.schema,l=n.hasGetAll,u=s.tables.map(function(d){return i(d)}),c={};return u.forEach(function(d){return c[d.name]=d}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(d){var m=c[d];if(!m)throw new Error("Table '"+d+"' not found");return c[d]},MIN_KEY:-1/0,MAX_KEY:Mp(t),schema:s}}function _H(e,t){return t.reduce(function(o,r){var a=r.create;return xo(xo({},o),a(o))},e)}function bH(e,t,o,r){var a=o.IDBKeyRange;o.indexedDB;var i=_H(gH(t,a,r),e.dbcore);return{dbcore:i}}function Ix(e,t){var o=e._novip,r=t.db,a=bH(o._middlewares,r,o._deps,t);o.core=a.dbcore,o.tables.forEach(function(i){var n=i.name;o.core.schema.tables.some(function(s){return s.name===n})&&(i.core=o.core.table(n),o[n]instanceof o.Table&&(o[n].core=i.core))})}function uv(e,t,o,r){var a=e._novip;o.forEach(function(i){var n=r[i];t.forEach(function(s){var l=hx(s,i);(!l||"value"in l&&l.value===void 0)&&(s===a.Transaction.prototype||s instanceof a.Transaction?sl(s,i,{get:function(){return this.table(i)},set:function(u){B4(this,i,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):s[i]=new a.Table(i,n))})})}function xy(e,t){var o=e._novip;t.forEach(function(r){for(var a in r)r[a]instanceof o.Table&&delete r[a]})}function yH(e,t){return e._cfg.version-t._cfg.version}function CH(e,t,o,r){var a=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,a);i.create(o),i._completion.catch(r);var n=i._reject.bind(i),s=kt.transless||kt;gc(function(){kt.trans=i,kt.transless=s,t===0?(er(a).forEach(function(l){Ex(o,l,a[l].primKey,a[l].indexes)}),Ix(e,o),bt.follow(function(){return e.on.populate.fire(i)}).catch(n)):xH(e,t,i,o).catch(n)})}function xH(e,t,o,r){var a=e._novip,i=[],n=a._versions,s=a._dbSchema=Sx(a,a.idbdb,r),l=!1,u=n.filter(function(d){return d._cfg.version>=t});u.forEach(function(d){i.push(function(){var m=s,f=d._cfg.dbschema;Iy(a,m,r),Iy(a,f,r),s=a._dbSchema=f;var p=f9(m,f);p.add.forEach(function(I){Ex(r,I[0],I[1].primKey,I[1].indexes)}),p.change.forEach(function(I){if(I.recreate)throw new Yt.Upgrade("Not yet support for changing primary key");var S=r.objectStore(I.name);I.add.forEach(function(O){return wy(S,O)}),I.change.forEach(function(O){S.deleteIndex(O.name),wy(S,O)}),I.del.forEach(function(O){return S.deleteIndex(O)})});var g=d._cfg.contentUpgrade;if(g&&d._cfg.version>t){Ix(a,r),o._memoizedTables={},l=!0;var b=z4(f);p.del.forEach(function(I){b[I]=m[I]}),xy(a,[a.Transaction.prototype]),uv(a,[a.Transaction.prototype],er(b),b),o.schema=b;var x=vx(g);x&&Bf();var _,y=bt.follow(function(){if(_=g(o),_&&x){var I=ll.bind(null,null);_.then(I,I)}});return _&&typeof _.then=="function"?bt.resolve(_):y.then(function(){return _})}}),i.push(function(m){if(!l||!Qz){var f=d._cfg.dbschema;IH(f,m)}xy(a,[a.Transaction.prototype]),uv(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),o.schema=a._dbSchema})});function c(){return i.length?bt.resolve(i.shift()(o.idbtrans)).then(c):bt.resolve()}return c().then(function(){wH(s,r)})}function f9(e,t){var o={del:[],add:[],change:[]},r;for(r in e)t[r]||o.del.push(r);for(r in t){var a=e[r],i=t[r];if(!a)o.add.push([r,i]);else{var n={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||a.primKey.auto!==i.primKey.auto&&!pg)n.recreate=!0,o.change.push(n);else{var s=a.idxByName,l=i.idxByName,u=void 0;for(u in s)l[u]||n.del.push(u);for(u in l){var c=s[u],d=l[u];c?c.src!==d.src&&n.change.push(d):n.add.push(d)}(n.del.length>0||n.add.length>0||n.change.length>0)&&o.change.push(n)}}}return o}function Ex(e,t,o,r){var a=e.db.createObjectStore(t,o.keyPath?{keyPath:o.keyPath,autoIncrement:o.auto}:{autoIncrement:o.auto});return r.forEach(function(i){return wy(a,i)}),a}function wH(e,t){er(e).forEach(function(o){t.db.objectStoreNames.contains(o)||Ex(t,o,e[o].primKey,e[o].indexes)})}function IH(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(o){return e[o]==null&&t.db.deleteObjectStore(o)})}function wy(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Sx(e,t,o){var r={},a=fg(t.objectStoreNames,0);return a.forEach(function(i){for(var n=o.objectStore(i),s=n.keyPath,l=yy(u9(s),s||"",!1,!1,!!n.autoIncrement,s&&typeof s!="string",!0),u=[],c=0;c<n.indexNames.length;++c){var d=n.index(n.indexNames[c]);s=d.keyPath;var m=yy(d.name,s,!!d.unique,!!d.multiEntry,!1,s&&typeof s!="string",!1);u.push(m)}r[i]=d9(i,l,u)}),r}function EH(e,t,o){var r=e._novip;r.verno=t.version/10;var a=r._dbSchema=Sx(r,t,o);r._storeNames=fg(t.objectStoreNames,0),uv(r,[r._allTables],er(a),a)}function SH(e,t){var o=Sx(e,e.idbdb,t),r=f9(o,e._dbSchema);return!(r.add.length||r.change.some(function(a){return a.add.length||a.change.length}))}function Iy(e,t,o){for(var r=e._novip,a=o.db.objectStoreNames,i=0;i<a.length;++i){var n=a[i],s=o.objectStore(n);r._hasGetAll="getAll"in s;for(var l=0;l<s.indexNames.length;++l){var u=s.indexNames[l],c=s.index(u).keyPath,d=typeof c=="string"?c:"["+fg(c).join("+")+"]";if(t[n]){var m=t[n].idxByName[d];m&&(m.name=u,delete t[n].idxByName[d],t[n].idxByName[u]=m)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&da.WorkerGlobalScope&&da instanceof da.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function AH(e){return e.split(",").map(function(t,o){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),a=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return yy(r,a||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Ur(a),o===0)})}var TH=function(){function e(){}return e.prototype._parseStoresSpec=function(t,o){er(t).forEach(function(r){if(t[r]!==null){var a=AH(t[r]),i=a.shift();if(i.multi)throw new Yt.Schema("Primary key cannot be multi-valued");a.forEach(function(n){if(n.auto)throw new Yt.Schema("Only primary key can be marked as autoIncrement (++)");if(!n.keyPath)throw new Yt.Schema("Index must have a name and cannot be an empty string")}),o[r]=d9(r,i,a)}})},e.prototype.stores=function(t){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?si(this._cfg.storesSource,t):t;var r=o._versions,a={},i={};return r.forEach(function(n){si(a,n._cfg.storesSource),i=n._cfg.dbschema={},n._parseStoresSpec(a,i)}),o._dbSchema=i,xy(o,[o._allTables,o,o.Transaction.prototype]),uv(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],er(i),i),o._storeNames=er(i),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=bx(this._cfg.contentUpgrade||ta,t),this},e}();function OH(e){return c0(TH.prototype,function(o){this.db=e,this._cfg={version:o,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Ax(e,t){var o=e._dbNamesDB;return o||(o=e._dbNamesDB=new Mu(hg,{addons:[],indexedDB:e,IDBKeyRange:t}),o.version(1).stores({dbnames:"name"})),o.table("dbnames")}function Tx(e){return e&&typeof e.databases=="function"}function DH(e){var t=e.indexedDB,o=e.IDBKeyRange;return Tx(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(a){return a.name}).filter(function(a){return a!==hg})}):Ax(t,o).toCollection().primaryKeys()}function PH(e,t){var o=e.indexedDB,r=e.IDBKeyRange;!Tx(o)&&t!==hg&&Ax(o,r).put({name:t}).catch(ta)}function MH(e,t){var o=e.indexedDB,r=e.IDBKeyRange;!Tx(o)&&t!==hg&&Ax(o,r).delete(t).catch(ta)}function Ey(e){return gc(function(){return kt.letThrough=!0,e()})}function NH(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(o){var r=function(){return indexedDB.databases().finally(o)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function FH(e){var t=e._state,o=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?ur(t.dbOpenError):e});xs&&(t.openCanceller._stackHolder=zu()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function a(){if(t.openCanceller!==r)throw new Yt.DatabaseClosed("db.open() was cancelled")}var i=t.dbReadyResolve,n=null,s=!1;return bt.race([r,(typeof navigator=="undefined"?bt.resolve():NH()).then(function(){return new bt(function(l,u){if(a(),!o)throw new Yt.MissingAPI;var c=e.name,d=t.autoSchema?o.open(c):o.open(c,Math.round(e.verno*10));if(!d)throw new Yt.MissingAPI;d.onerror=ms(u),d.onblocked=ba(e._fireOnBlocked),d.onupgradeneeded=ba(function(m){if(n=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=Dp,n.abort(),d.result.close();var f=o.deleteDatabase(c);f.onsuccess=f.onerror=ba(function(){u(new Yt.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{n.onerror=ms(u);var p=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;s=p<1,e._novip.idbdb=d.result,CH(e,p/10,n,u)}},u),d.onsuccess=ba(function(){n=null;var m=e._novip.idbdb=d.result,f=fg(m.objectStoreNames);if(f.length>0)try{var p=m.transaction(pH(f),"readonly");t.autoSchema?EH(e,m,p):(Iy(e,e._dbSchema,p),SH(e,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ix(e,p)}catch{}ip.push(e),m.onversionchange=ba(function(g){t.vcFired=!0,e.on("versionchange").fire(g)}),m.onclose=ba(function(g){e.on("close").fire(g)}),s&&PH(e._deps,c),l()},u)})})]).then(function(){return a(),t.onReadyBeingFired=[],bt.resolve(Ey(function(){return e.on.ready.fire(e.vip)})).then(function l(){if(t.onReadyBeingFired.length>0){var u=t.onReadyBeingFired.reduce(bx,ta);return t.onReadyBeingFired=[],bt.resolve(Ey(function(){return u(e.vip)})).then(l)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(l){t.dbOpenError=l;try{n&&n.abort()}catch{}return r===t.openCanceller&&e._close(),ur(l)}).finally(function(){t.openComplete=!0,i()})}function Sy(e){var t=function(n){return e.next(n)},o=function(n){return e.throw(n)},r=i(t),a=i(o);function i(n){return function(s){var l=n(s),u=l.value;return l.done?u:!u||typeof u.then!="function"?Ur(u)?Promise.all(u).then(r,a):r(u):u.then(r,a)}}return i(t)()}function RH(e,t,o){var r=arguments.length;if(r<2)throw new Yt.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];o=a.pop();var i=H4(a);return[e,i,o]}function m9(e,t,o,r,a){return bt.resolve().then(function(){var i=kt.transless||kt,n=e._createTransaction(t,o,e._dbSchema,r),s={trans:n,transless:i};if(r)n.idbtrans=r.idbtrans;else try{n.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===_x.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return m9(e,t,o,null,a)})):ur(d)}var l=vx(a);l&&Bf();var u,c=bt.follow(function(){if(u=a.call(n,n),u)if(l){var d=ll.bind(null,null);u.then(d,d)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Sy(u))},s);return(u&&typeof u.then=="function"?bt.resolve(u).then(function(d){return n.active?d:ur(new Yt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return u})).then(function(d){return r&&n._resolve(),n._completion.then(function(){return d})}).catch(function(d){return n._reject(d),ur(d)})})}function $h(e,t,o){for(var r=Ur(e)?e.slice():[e],a=0;a<o;++a)r.push(t);return r}function kH(e){return xo(xo({},e),{table:function(t){var o=e.table(t),r=o.schema,a={},i=[];function n(g,b,x){var _=np(g),y=a[_]=a[_]||[],I=g==null?0:typeof g=="string"?1:g.length,S=b>0,O=xo(xo({},x),{isVirtual:S,keyTail:b,keyLength:I,extractKey:Cy(g),unique:!S&&x.unique});if(y.push(O),O.isPrimaryKey||i.push(O),I>1){var F=I===2?g[0]:g.slice(0,I-1);n(F,b+1,x)}return y.sort(function(M,E){return M.keyTail-E.keyTail}),O}var s=n(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[s];for(var l=0,u=r.indexes;l<u.length;l++){var c=u[l];n(c.keyPath,0,c)}function d(g){var b=a[np(g)];return b&&b[0]}function m(g,b){return{type:g.type===1?2:g.type,lower:$h(g.lower,g.lowerOpen?e.MAX_KEY:e.MIN_KEY,b),lowerOpen:!0,upper:$h(g.upper,g.upperOpen?e.MIN_KEY:e.MAX_KEY,b),upperOpen:!0}}function f(g){var b=g.query.index;return b.isVirtual?xo(xo({},g),{query:{index:b,range:m(g.query.range,b.keyTail)}}):g}var p=xo(xo({},o),{schema:xo(xo({},r),{primaryKey:s,indexes:i,getIndexByKeyPath:d}),count:function(g){return o.count(f(g))},query:function(g){return o.query(f(g))},openCursor:function(g){var b=g.query.index,x=b.keyTail,_=b.isVirtual,y=b.keyLength;if(!_)return o.openCursor(g);function I(S){function O(M){M!=null?S.continue($h(M,g.reverse?e.MAX_KEY:e.MIN_KEY,x)):g.unique?S.continue(S.key.slice(0,y).concat(g.reverse?e.MIN_KEY:e.MAX_KEY,x)):S.continue()}var F=Object.create(S,{continue:{value:O},continuePrimaryKey:{value:function(M,E){S.continuePrimaryKey($h(M,e.MAX_KEY,x),E)}},primaryKey:{get:function(){return S.primaryKey}},key:{get:function(){var M=S.key;return y===1?M[0]:M.slice(0,y)}},value:{get:function(){return S.value}}});return F}return o.openCursor(f(g)).then(function(S){return S&&I(S)})}});return p}})}var VH={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:kH};function Ox(e,t,o,r){return o=o||{},r=r||"",er(e).forEach(function(a){if(!en(t,a))o[r+a]=void 0;else{var i=e[a],n=t[a];if(typeof i=="object"&&typeof n=="object"&&i&&n){var s=sy(i),l=sy(n);s!==l?o[r+a]=t[a]:s==="Object"?Ox(i,n,o,r+a+"."):i!==n&&(o[r+a]=t[a])}else i!==n&&(o[r+a]=t[a])}}),er(t).forEach(function(a){en(e,a)||(o[r+a]=t[a])}),o}function qH(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var BH={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return xo(xo({},e),{table:function(t){var o=e.table(t),r=o.schema.primaryKey,a=xo(xo({},o),{mutate:function(i){var n=kt.trans,s=n.table(t).hook,l=s.deleting,u=s.creating,c=s.updating;switch(i.type){case"add":if(u.fire===ta)break;return n._promise("readwrite",function(){return d(i)},!0);case"put":if(u.fire===ta&&c.fire===ta)break;return n._promise("readwrite",function(){return d(i)},!0);case"delete":if(l.fire===ta)break;return n._promise("readwrite",function(){return d(i)},!0);case"deleteRange":if(l.fire===ta)break;return n._promise("readwrite",function(){return m(i)},!0)}return o.mutate(i);function d(p){var g=kt.trans,b=p.keys||qH(r,p);if(!b)throw new Error("Keys missing");return p=p.type==="add"||p.type==="put"?xo(xo({},p),{keys:b}):xo({},p),p.type!=="delete"&&(p.values=iy([],p.values,!0)),p.keys&&(p.keys=iy([],p.keys,!0)),LH(o,p,b).then(function(x){var _=b.map(function(y,I){var S=x[I],O={onerror:null,onsuccess:null};if(p.type==="delete")l.fire.call(O,y,S,g);else if(p.type==="add"||S===void 0){var F=u.fire.call(O,y,p.values[I],g);y==null&&F!=null&&(y=F,p.keys[I]=y,r.outbound||Xn(p.values[I],r.keyPath,y))}else{var M=Ox(S,p.values[I]),E=c.fire.call(O,M,y,S,g);if(E){var D=p.values[I];Object.keys(E).forEach(function(P){en(D,P)?D[P]=E[P]:Xn(D,P,E[P])})}}return O});return o.mutate(p).then(function(y){for(var I=y.failures,S=y.results,O=y.numFailures,F=y.lastResult,M=0;M<b.length;++M){var E=S?S[M]:b[M],D=_[M];E==null?D.onerror&&D.onerror(I[M]):D.onsuccess&&D.onsuccess(p.type==="put"&&x[M]?p.values[M]:E)}return{failures:I,results:S,numFailures:O,lastResult:F}}).catch(function(y){return _.forEach(function(I){return I.onerror&&I.onerror(y)}),Promise.reject(y)})})}function m(p){return f(p.trans,p.range,1e4)}function f(p,g,b){return o.query({trans:p,values:!1,query:{index:r,range:g},limit:b}).then(function(x){var _=x.result;return d({type:"delete",keys:_,trans:p}).then(function(y){return y.numFailures>0?Promise.reject(y.failures[0]):_.length<b?{failures:[],numFailures:0,lastResult:void 0}:f(p,xo(xo({},g),{lower:_[_.length-1],lowerOpen:!0}),b)})})}}});return a}})}};function LH(e,t,o){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:o,cache:"immutable"})}function p9(e,t,o){try{if(!t||t.keys.length<e.length)return null;for(var r=[],a=0,i=0;a<t.keys.length&&i<e.length;++a)ai(t.keys[a],e[i])===0&&(r.push(o?r0(t.values[a]):t.values[a]),++i);return r.length===e.length?r:null}catch{return null}}var $H={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var o=e.table(t);return xo(xo({},o),{getMany:function(r){if(!r.cache)return o.getMany(r);var a=p9(r.keys,r.trans._cache,r.cache==="clone");return a?bt.resolve(a):o.getMany(r).then(function(i){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?r0(i):i},i})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),o.mutate(r)}})}}}},Bb;function Dx(e){return!("from"in e)}var js=function(e,t){if(this)si(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var o=new js;return e&&"d"in e&&si(o,e),o}};pf(js.prototype,(Bb={add:function(e){return dv(this,e),this},addKey:function(e){return Np(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(o){return Np(t,o,o)}),this}},Bb[ly]=function(){return Ay(this)},Bb));function Np(e,t,o){var r=ai(t,o);if(!isNaN(r)){if(r>0)throw RangeError();if(Dx(e))return si(e,{from:t,to:o,d:1});var a=e.l,i=e.r;if(ai(o,e.from)<0)return a?Np(a,t,o):e.l={from:t,to:o,d:1,l:null,r:null},FT(e);if(ai(t,e.to)>0)return i?Np(i,t,o):e.r={from:t,to:o,d:1,l:null,r:null},FT(e);ai(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),ai(o,e.to)>0&&(e.to=o,e.r=null,e.d=e.l?e.l.d+1:1);var n=!e.r;a&&!e.l&&dv(e,a),i&&n&&dv(e,i)}}function dv(e,t){function o(r,a){var i=a.from,n=a.to,s=a.l,l=a.r;Np(r,i,n),s&&o(r,s),l&&o(r,l)}Dx(t)||o(e,t)}function UH(e,t){var o=Ay(t),r=o.next();if(r.done)return!1;for(var a=r.value,i=Ay(e),n=i.next(a.from),s=n.value;!r.done&&!n.done;){if(ai(s.from,a.to)<=0&&ai(s.to,a.from)>=0)return!0;ai(a.from,s.from)<0?a=(r=o.next(s.from)).value:s=(n=i.next(a.from)).value}return!1}function Ay(e){var t=Dx(e)?null:{s:0,n:e};return{next:function(o){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&ai(o,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||ai(o,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function FT(e){var t,o,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((o=e.l)===null||o===void 0?void 0:o.d)||0),a=r>1?"r":r<-1?"l":"";if(a){var i=a==="r"?"l":"r",n=xo({},e),s=e[a];e.from=s.from,e.to=s.to,e[a]=s[a],n[a]=s[i],e[i]=n,n.d=RT(n)}e.d=RT(e)}function RT(e){var t=e.r,o=e.l;return(t?o?Math.max(t.d,o.d):t.d:o?o.d:0)+1}var zH={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,o=new js(e.MIN_KEY,e.MAX_KEY);return xo(xo({},e),{table:function(r){var a=e.table(r),i=a.schema,n=i.primaryKey,s=n.extractKey,l=n.outbound,u=xo(xo({},a),{mutate:function(m){var f=m.trans,p=f.mutatedParts||(f.mutatedParts={}),g=function(F){var M="idb://"+t+"/"+r+"/"+F;return p[M]||(p[M]=new js)},b=g(""),x=g(":dels"),_=m.type,y=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[[],m.values]:[],I=y[0],S=y[1],O=m.trans._cache;return a.mutate(m).then(function(F){if(Ur(I)){_!=="delete"&&(I=F.results),b.addKeys(I);var M=p9(I,O);!M&&_!=="add"&&x.addKeys(I),(M||S)&&HH(g,i,M,S)}else if(I){var E={from:I.lower,to:I.upper};x.add(E),b.add(E)}else b.add(o),x.add(o),i.indexes.forEach(function(D){return g(D.name).add(o)});return F})}}),c=function(m){var f,p,g=m.query,b=g.index,x=g.range;return[b,new js((f=x.lower)!==null&&f!==void 0?f:e.MIN_KEY,(p=x.upper)!==null&&p!==void 0?p:e.MAX_KEY)]},d={get:function(m){return[n,new js(m.key)]},getMany:function(m){return[n,new js().addKeys(m.keys)]},count:c,query:c,openCursor:c};return er(d).forEach(function(m){u[m]=function(f){var p=kt.subscr;if(p){var g=function(O){var F="idb://"+t+"/"+r+"/"+O;return p[F]||(p[F]=new js)},b=g(""),x=g(":dels"),_=d[m](f),y=_[0],I=_[1];if(g(y.name||"").add(I),!y.isPrimaryKey)if(m==="count")x.add(o);else{var S=m==="query"&&l&&f.values&&a.query(xo(xo({},f),{values:!1}));return a[m].apply(this,arguments).then(function(O){if(m==="query"){if(l&&f.values)return S.then(function(D){var P=D.result;return b.addKeys(P),O});var F=f.values?O.result.map(s):O.result;f.values?b.addKeys(F):x.addKeys(F)}else if(m==="openCursor"){var M=O,E=f.values;return M&&Object.create(M,{key:{get:function(){return x.addKey(M.primaryKey),M.key}},primaryKey:{get:function(){var D=M.primaryKey;return x.addKey(D),D}},value:{get:function(){return E&&b.addKey(M.primaryKey),M.value}}})}return O})}}return a[m].apply(this,arguments)}}),u}})}};function HH(e,t,o,r){function a(i){var n=e(i.name||"");function s(u){return u!=null?i.extractKey(u):null}var l=function(u){return i.multiEntry&&Ur(u)?u.forEach(function(c){return n.addKey(c)}):n.addKey(u)};(o||r).forEach(function(u,c){var d=o&&s(o[c]),m=r&&s(r[c]);ai(d,m)!==0&&(d!=null&&l(d),m!=null&&l(m))})}t.indexes.forEach(a)}var Mu=function(){function e(t,o){var r=this;this._middlewares={},this.verno=0;var a=e.dependencies;this._options=o=xo({addons:e.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange};var i=o.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var n={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ta,dbReadyPromise:null,cancelOpen:ta,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};n.dbReadyPromise=new bt(function(s){n.dbReadyResolve=s}),n.openCanceller=new bt(function(s,l){n.cancelOpen=l}),this._state=n,this.name=t,this.on=l0(this,"populate","blocked","versionchange","close",{ready:[bx,ta]}),this.on.ready.subscribe=L4(this.on.ready.subscribe,function(s){return function(l,u){e.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||bt.resolve().then(l),u&&s(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&s(l);else{s(l);var d=r;u||s(function m(){d.on.ready.unsubscribe(l),d.on.ready.unsubscribe(m)})}})}}),this.Collection=iH(this),this.Table=eH(this),this.Transaction=mH(this),this.Version=OH(this),this.WhereClause=dH(this),this.on("versionchange",function(s){s.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(s){!s.newVersion||s.newVersion<s.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+s.oldVersion/10)}),this._maxKey=Mp(o.IDBKeyRange),this._createTransaction=function(s,l,u,c){return new r.Transaction(s,l,u,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(s){r.on("blocked").fire(s),ip.filter(function(l){return l.name===r.name&&l!==r&&!l._state.vcFired}).map(function(l){return l.on("versionchange").fire(s)})},this.use(VH),this.use(BH),this.use(zH),this.use($H),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(function(s){return s(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new Yt.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new Yt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var o=this._versions,r=o.filter(function(a){return a._cfg.version===t})[0];return r||(r=new this.Version(t),o.push(r),o.sort(yH),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var o=this;return this.idbdb&&(this._state.openComplete||kt.letThrough||this._vip)?t():new bt(function(r,a){if(o._state.openComplete)return a(new Yt.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._options.autoOpen){a(new Yt.DatabaseClosed);return}o.open().catch(ta)}o._state.dbReadyPromise.then(r,a)}).then(t)},e.prototype.use=function(t){var o=t.stack,r=t.create,a=t.level,i=t.name;i&&this.unuse({stack:o,name:i});var n=this._middlewares[o]||(this._middlewares[o]=[]);return n.push({stack:o,create:r,level:a==null?10:a,name:i}),n.sort(function(s,l){return s.level-l.level}),this},e.prototype.unuse=function(t){var o=t.stack,r=t.name,a=t.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(i){return a?i.create!==a:r?i.name!==r:!1})),this},e.prototype.open=function(){return FH(this)},e.prototype._close=function(){var t=this._state,o=ip.indexOf(this);if(o>=0&&ip.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new bt(function(r){t.dbReadyResolve=r}),t.openCanceller=new bt(function(r,a){t.cancelOpen=a})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Yt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,o=arguments.length>0,r=this._state;return new bt(function(a,i){var n=function(){t.close();var s=t._deps.indexedDB.deleteDatabase(t.name);s.onsuccess=ba(function(){MH(t._deps,t.name),a()}),s.onerror=ms(i),s.onblocked=t._fireOnBlocked};if(o)throw new Yt.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(n):n()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return er(this._allTables).map(function(o){return t._allTables[o]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=RH.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,o,r){var a=this,i=kt.trans;(!i||i.db!==this||t.indexOf("!")!==-1)&&(i=null);var n=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var s,l;try{if(l=o.map(function(c){var d=c instanceof a.Table?c.name:c;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===Fb)s=Fb;else if(t=="rw"||t==Rb)s=Rb;else throw new Yt.InvalidArgument("Invalid transaction mode: "+t);if(i){if(i.mode===Fb&&s===Rb)if(n)i=null;else throw new Yt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&l.forEach(function(c){if(i&&i.storeNames.indexOf(c)===-1)if(n)i=null;else throw new Yt.SubTransaction("Table "+c+" not included in parent transaction.")}),n&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,function(d,m){m(c)}):ur(c)}var u=m9.bind(null,this,s,l,i,r);return i?i._promise(s,u,"lock"):kt.trans?Lf(kt.transless,function(){return a._whenReady(u)}):this._whenReady(u)},e.prototype.table=function(t){if(!en(this._allTables,t))throw new Yt.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),jH=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",GH=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,o,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:o,complete:r}:t)},e.prototype[jH]=function(){return this},e}();function h9(e,t){return er(t).forEach(function(o){var r=e[o]||(e[o]=new js);dv(r,t[o])}),e}function WH(e){var t=!1,o=void 0,r=new GH(function(a){var i=vx(e);function n(b){i&&Bf();var x=function(){return gc(e,{subscr:b,trans:null})},_=kt.trans?Lf(kt.transless,x):x();return i&&_.then(ll,ll),_}var s=!1,l={},u={},c={get closed(){return s},unsubscribe:function(){s=!0,bc.storagemutated.unsubscribe(p)}};a.start&&a.start(c);var d=!1,m=!1;function f(){return er(u).some(function(b){return l[b]&&UH(l[b],u[b])})}var p=function(b){h9(l,b),f()&&g()},g=function(){if(!(d||s)){l={};var b={},x=n(b);m||(bc(Pp,p),m=!0),d=!0,Promise.resolve(x).then(function(_){t=!0,o=_,d=!1,!s&&(f()?g():(l={},u=b,a.next&&a.next(_)))},function(_){d=!1,t=!1,a.error&&a.error(_),c.unsubscribe()})}};return g(),c});return r.hasValue=function(){return t},r.getValue=function(){return o},r}var Ty;try{Ty={indexedDB:da.indexedDB||da.mozIndexedDB||da.webkitIndexedDB||da.msIndexedDB,IDBKeyRange:da.IDBKeyRange||da.webkitIDBKeyRange}}catch{Ty={indexedDB:null,IDBKeyRange:null}}var tu=Mu;pf(tu,xo(xo({},mg),{delete:function(e){var t=new tu(e,{addons:[]});return t.delete()},exists:function(e){return new tu(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return DH(tu.dependencies).then(e)}catch{return ur(new Yt.MissingAPI)}},defineClass:function(){function e(t){si(this,t)}return e},ignoreTransaction:function(e){return kt.trans?Lf(kt.transless,e):e()},vip:Ey,async:function(e){return function(){try{var t=Sy(e.apply(this,arguments));return!t||typeof t.then!="function"?bt.resolve(t):t}catch(o){return ur(o)}}},spawn:function(e,t,o){try{var r=Sy(e.apply(o,t||[]));return!r||typeof r.then!="function"?bt.resolve(r):r}catch(a){return ur(a)}},currentTransaction:{get:function(){return kt.trans||null}},waitFor:function(e,t){var o=bt.resolve(typeof e=="function"?tu.ignoreTransaction(e):e).timeout(t||6e4);return kt.trans?kt.trans.waitFor(o):o},Promise:bt,debug:{get:function(){return xs},set:function(e){G4(e,e==="dexie"?function(){return!0}:n9)}},derive:Vf,extend:si,props:pf,override:L4,Events:l0,on:bc,liveQuery:WH,extendObservabilitySet:h9,getByKeyPath:al,setByKeyPath:Xn,delByKeyPath:Ez,shallowClone:z4,deepClone:r0,getObjectDiff:Ox,cmp:ai,asap:$4,minKey:by,addons:[],connections:ip,errnames:_x,dependencies:Ty,semVer:TT,version:TT.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,o){return e+t/Math.pow(10,o*2)})}));tu.maxKey=Mp(tu.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(bc(Pp,function(e){if(!Ys){var t;pg?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Jl,!0,!0,e)):t=new CustomEvent(Jl,{detail:e}),Ys=!0,dispatchEvent(t),Ys=!1}}),addEventListener(Jl,function(e){var t=e.detail;Ys||fv(t)}));function fv(e){var t=Ys;try{Ys=!0,bc.storagemutated.fire(e)}finally{Ys=t}}var Ys=!1;if(typeof BroadcastChannel!="undefined"){var Uh=new BroadcastChannel(Jl);typeof Uh.unref=="function"&&Uh.unref(),bc(Pp,function(e){Ys||Uh.postMessage(e)}),Uh.onmessage=function(e){e.data&&fv(e.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){bc(Pp,function(e){try{Ys||(typeof localStorage!="undefined"&&localStorage.setItem(Jl,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&iy([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:Jl,changedParts:e})}))}catch{}}),typeof addEventListener!="undefined"&&addEventListener("storage",function(e){if(e.key===Jl){var t=JSON.parse(e.newValue);t&&fv(t.changedParts)}});var kT=self.document&&navigator.serviceWorker;kT&&kT.addEventListener("message",XH)}function XH(e){var t=e.data;t&&t.type===Jl&&fv(t.changedParts)}bt.rejectionMapper=Fz;G4(xs,n9);let VT=Number(localStorage.getItem("logarDexieTrace"))||0;class qT{constructor(t){this.dexie=t,this.dexieOrigin=t,this.log=""}logArgs(t,o,r=!0){this.log&&(this.log+=`.${t}(${o.map(a=>JSON.stringify(a)).join(",")})`,r&&(console.log(this.log),VT&&(console.trace(),VT--)))}filter(){return this.logArgs("filter",[...arguments],!1),this.dexie=this.dexie.filter(...arguments),this}anyOf(){return this.logArgs("anyOf",[...arguments],!1),this.dexie=this.dexie.anyOf(...arguments),this}where(){return this.logArgs("where",[...arguments],!1),this.dexie=this.dexie.where(...arguments),this}equals(){return this.logArgs("equals",[...arguments],!1),this.dexie=this.dexie.equals(...arguments),this}between(){return this.logArgs("between",[...arguments],!1),this.dexie=this.dexie.between(...arguments),this}below(){return this.logArgs("below",[...arguments],!1),this.dexie=this.dexie.below(...arguments),this}offset(){return this.logArgs("offset",[...arguments],!1),this.dexie=this.dexie.offset(...arguments),this}limit(){return this.logArgs("limit",[...arguments],!1),this.dexie=this.dexie.limit(...arguments),this}isOpen(){this.logArgs("isOpen",[...arguments]);const t=this.dexie.isOpen(...arguments);return this.dexie=this.dexieOrigin,t}count(){this.logArgs("count",[...arguments]);const t=this.dexie.count(...arguments);return this.dexie=this.dexieOrigin,t}delete(){this.logArgs("delete",[...arguments]);const t=this.dexie.delete(...arguments);return this.dexie=this.dexieOrigin,t}each(){this.logArgs("each",[...arguments]);const t=this.dexie.each(...arguments);return this.dexie=this.dexieOrigin,t}toArray(){this.logArgs("toArray",[...arguments]);const t=this.dexie.toArray(...arguments);return this.dexie=this.dexieOrigin,t}sortBy(){this.logArgs("sortBy",[...arguments]);const t=this.dexie.sortBy(...arguments);return this.dexie=this.dexieOrigin,t}first(){this.logArgs("first",[...arguments]);const t=this.dexie.first(...arguments);return this.dexie=this.dexieOrigin,t}last(){this.logArgs("last",[...arguments]);const t=this.dexie.last(...arguments);return this.dexie=this.dexieOrigin,t}get(){this.logArgs("get",[...arguments]);const t=this.dexie.get(...arguments);return this.dexie=this.dexieOrigin,t}add(){this.logArgs("add",[...arguments]);const t=this.dexie.add(...arguments);return this.dexie=this.dexieOrigin,t}put(){this.logArgs("put",[...arguments]);const t=this.dexie.put(...arguments);return this.dexie=this.dexieOrigin,t}update(){this.logArgs("update",[...arguments]);const t=this.dexie.update(...arguments);return this.dexie=this.dexieOrigin,t}get _allTables(){return this.dexie._allTables}get NFe(){return this.log+="dexie NFe",this.dexie=this.dexie.NFe,this}get NFeHist(){return this.log+="dexie NFeHist",this.dexie=this.dexie.NFeHist,this}get _cidade(){return this.log+="dexie _cidade",this.dexie=this.dexie._cidade,this}get _ncm(){return this.log+="dexie _ncm",this.dexie=this.dexie._ncm,this}get caixa(){return this.dexie=this.dexie.caixa,this}get cest(){return this.log+="dexie cest",this.dexie=this.dexie.cest,this}get cfop(){return this.log+="dexie cfop",this.dexie=this.dexie.cfop,this}get clienteSistema(){return this.log+="dexie clienteSistema",this.dexie=this.dexie.clienteSistema,this}get configuracoes(){return this.dexie=this.dexie.configuracoes,this}get contato(){return this.dexie=this.dexie.contato,this}get contatoAnotacao(){return this.dexie=this.dexie.contatoAnotacao,this}get contatoConsulta(){return this.dexie=this.dexie.contatoConsulta,this}get contatoEndereco(){return this.dexie=this.dexie.contatoEndereco,this}get contatoFilho(){return this.dexie=this.dexie.contatoFilho,this}get contatoGrupo(){return this.dexie=this.dexie.contatoGrupo,this}get contatoRedeSocial(){return this.dexie=this.dexie.contatoRedeSocial,this}get contatoTelefone(){return this.dexie=this.dexie.contatoTelefone,this}get documento(){return this.log+="dexie documento",this.dexie=this.dexie.documento,this}get documentoCondicaoPagamento(){return this.log+="dexie documentoCondicaoPagamento",this.dexie=this.dexie.documentoCondicaoPagamento,this}get documentoContato(){return this.log+="dexie documentoContato",this.dexie=this.dexie.documentoContato,this}get documentoItem(){return this.log+="dexie documentoItem",this.dexie=this.dexie.documentoItem,this}get documentoSat(){return this.log+="dexie documentoSat",this.dexie=this.dexie.documentoSat,this}get empresa(){return this.dexie=this.dexie.empresa,this}get estoqueSaldoProdutoEmpresa(){return this.log+="dexie estoqueSaldoProdutoEmpresa",this.dexie=this.dexie.estoqueSaldoProdutoEmpresa,this}get financeiroCentroCusto(){return this.log+="dexie financeiroCentroCusto",this.dexie=this.dexie.financeiroCentroCusto,this}get financeiroPlanoConta(){return this.log+="dexie financeiroPlanoConta",this.dexie=this.dexie.financeiroPlanoConta,this}get financeiroTitulo(){return this.log+="dexie financeiroTitulo",this.dexie=this.dexie.financeiroTitulo,this}get formaPagamento(){return this.dexie=this.dexie.formaPagamento,this}get impostoConfiguracao(){return this.log+="dexie impostoConfiguracao",this.dexie=this.dexie.impostoConfiguracao,this}get impostoParametro(){return this.log+="dexie impostoParametro",this.dexie=this.dexie.impostoParametro,this}get impostoParametroTipo(){return this.log+="dexie impostoParametroTipo",this.dexie=this.dexie.impostoParametroTipo,this}get item(){return this.dexie=this.dexie.item,this}get itemComposicao(){return this.log+="dexie itemComposicao",this.dexie=this.dexie.itemComposicao,this}get itemFornecedor(){return this.log+="dexie itemFornecedor",this.dexie=this.dexie.itemFornecedor,this}get itemProducaoFase(){return this.log+="dexie itemProducaoFase",this.dexie=this.dexie.itemProducaoFase,this}get itemQualidade(){return this.log+="dexie itemQualidade",this.dexie=this.dexie.itemQualidade,this}get itemTabelaPreco(){return this.dexie=this.dexie.itemTabelaPreco,this}get nfeIbpt(){return this.log+="dexie nfeIbpt",this.dexie=this.dexie.nfeIbpt,this}get sincronismoFila(){return this.dexie=this.dexie.sincronismoFila,this}get usuario(){return this.log+="dexie usuario",this.dexie=this.dexie.usuario,this}get documentoOperacao(){return this.dexie=this.dexie.documentoOperacao,this}get documentoStatus(){return this.log+="dexie documentoStatus",this.dexie=this.dexie.documentoStatus,this}get documentoEndereco(){return this.log+="dexie documentoEndereco",this.dexie=this.dexie.documentoEndereco,this}get financeiroMovimentacao(){return this.log+="dexie financeiroMovimentacao",this.dexie=this.dexie.financeiroMovimentacao,this}get financeiroMovimentacaoN(){return this.log+="dexie financeiroMovimentacaoN",this.dexie=this.dexie.financeiroMovimentacaoN,this}get perfilContabilItem(){return this.log+="dexie perfilContabilItem",this.dexie=this.dexie.perfilContabilItem,this}get arquivo(){return this.dexie=this.dexie.arquivo,this}get perfilContabil(){return this.log+="dexie perfilContabil",this.dexie=this.dexie.perfilContabil,this}get contatoCreditoExtrato(){return this.log+="dexie contatoCreditoExtrato",this.dexie=this.dexie.contatoCreditoExtrato,this}get financeiroRenegociacao(){return this.log+="dexie financeiroRenegociacao",this.dexie=this.dexie.financeiroRenegociacao,this}get _banco(){return this.log+="dexie _banco",this.dexie=this.dexie._banco,this}get financeiroBoleto(){return this.log+="dexie financeiroBoleto",this.dexie=this.dexie.financeiroBoleto,this}get financeiroBanco(){return this.log+="dexie financeiroBanco",this.dexie=this.dexie.financeiroBanco,this}get financeiroBoletoTitulo(){return this.log+="dexie financeiroBoletoTitulo",this.dexie=this.dexie.financeiroBoletoTitulo,this}get caixaConsolidacao(){return this.log+="dexie caixaConsolidacao",this.dexie=this.dexie.caixaConsolidacao,this}get caixaConsolidacao2(){return this.log+="dexie caixaConsolidacao2",this.dexie=this.dexie.caixaConsolidacao2,this}get dispositivoCliente(){return this.log+="dexie dispositivoCliente",this.dexie=this.dexie.dispositivoCliente,this}get documentoFiscalEletronico(){return this.log+="dexie documentoFiscalEletronico",this.dexie=this.dexie.documentoFiscalEletronico,this}get documentoFiscalEletronicoXml(){return this.log+="dexie documentoFiscalEletronicoXml",this.dexie=this.dexie.documentoFiscalEletronicoXml,this}get documentoFiscalEletronicoErro(){return this.log+="dexie documentoFiscalEletronicoErro",this.dexie=this.dexie.documentoFiscalEletronicoErro,this}get aliquotaSimples(){return this.log+="dexie aliquotaSimples",this.dexie=this.dexie.aliquotaSimples,this}get configuracaoImposto(){return this.log+="dexie configuracaoImposto",this.dexie=this.dexie.configuracaoImposto,this}get json(){return this.log+="dexie json",this.dexie=this.dexie.json,this}get equipamento(){return this.log+="dexie equipamento",this.dexie=this.dexie.equipamento,this}get eCommerce(){return this.log+="dexie eCommerce",this.dexie=this.dexie.eCommerce,this}get itemECommerce(){return this.log+="dexie itemECommerce",this.dexie=this.dexie.itemECommerce,this}get itemEspecificacao(){return this.log+="dexie itemEspecificacao",this.dexie=this.dexie.itemEspecificacao,this}get contatoEspecificacao(){return this.log+="dexie contatoEspecificacao",this.dexie=this.dexie.contatoEspecificacao,this}get itemEstoqueMinimo(){return this.log+="dexie itemEstoqueMinimo",this.dexie=this.dexie.itemEstoqueMinimo,this}get sistemaUsoLog(){return this.dexie=this.dexie.sistemaUsoLog,this}get documentoXML(){return this.log+="dexie documentoXML",this.dexie=this.dexie.documentoXML,this}get tarefa(){return this.log+="dexie tarefa",this.dexie=this.dexie.tarefa,this}get etiqueta(){return this.log+="dexie etiqueta",this.dexie=this.dexie.etiqueta,this}}const BT=localStorage.getItem("logarDexie")==="true",Nl={};function Z(e,t){if(t==="delete")if(Nl[e]){const r=Nl[e];return delete Nl[e],r.delete()}else return Mu.delete(e);if((!e||typeof e!="string")&&(e=localStorage.getItem("bancoDeDados")),!e)throw new Error("N\xE3o foi poss\xEDvel encontrar um banco de dados.");if(Nl[e])return BT?new qT(Nl[e]):Nl[e];const o=new Mu(e);return o.version(1).stores({NFe:"&id",NFeHist:"&id",_cidade:"&id",_ncm:"&id, ncm",caixa:"&id",cest:"&id",cfop:"&id",clienteSistema:"&id",configuracoes:"&id",contato:"&id",contatoAnotacao:"&id, idContato",contatoConsulta:"&id, idContato",contatoEndereco:"&id, idContato",contatoFilho:"&id, idContato, idContatoRelacionado",contatoGrupo:"&id, idContato",contatoRedeSocial:"&id, idContato",contatoTelefone:"&id, idContato",documento:"&id, idContato, idFatura, idDocumentoAdicional, tipo",documentoCondicaoPagamento:"&id, idDocumento",documentoContato:"&id, idDocumento",documentoItem:"&id, idDocumento, idDocumentoAdicional",documentoSat:"&id, idDocumento",empresa:"&id",estoqueSaldoProdutoEmpresa:"&id, idItem",financeiroCentroCusto:"&id",financeiroPlanoConta:"&id",financeiroTitulo:"&id, idContato",formaPagamento:"&id",impostoConfiguracao:"&id, idNcm",impostoParametro:"&id, cod, idImpParamTipo",impostoParametroTipo:"&id, cod",item:"&id",itemComposicao:"&id, idItem",itemFornecedor:"&id, idItem",itemProducaoFase:"&id, idItem",itemQualidade:"&id, idItem",itemTabelaPreco:"&id",nfeIbpt:"&id, codigo",sincronismoFila:"&id",usuario:"&id"}),o.version(2).stores({NFe:"&id",NFeHist:"&id",_cidade:"&id",_ncm:"&id, ncm",caixa:"&id",cest:"&id",cfop:"&id",clienteSistema:"&id",configuracoes:"&id",contato:"&id",contatoAnotacao:"&id, idContato",contatoConsulta:"&id, idContato",contatoEndereco:"&id, idContato",contatoFilho:"&id, idContato, idContatoRelacionado",contatoGrupo:"&id, idContato",contatoRedeSocial:"&id, idContato",contatoTelefone:"&id, idContato",documento:"&id, idContato, idFatura, idDocumentoAdicional, tipo",documentoCondicaoPagamento:"&id, idDocumento",documentoContato:"&id, idDocumento",documentoItem:"&id, idDocumento, idDocumentoAdicional",documentoOperacao:"&id",documentoSat:"&id, idDocumento",empresa:"&id",estoqueSaldoProdutoEmpresa:"&id, idItem",financeiroCentroCusto:"&id",financeiroPlanoConta:"&id",financeiroTitulo:"&id, idContato",formaPagamento:"&id",impostoConfiguracao:"&id, idNcm",impostoParametro:"&id, cod, idImpParamTipo",impostoParametroTipo:"&id, cod",item:"&id",itemComposicao:"&id, idItem",itemFornecedor:"&id, idItem",itemProducaoFase:"&id, idItem",itemQualidade:"&id, idItem",itemTabelaPreco:"&id",nfeIbpt:"&id, codigo",sincronismoFila:"&id",usuario:"&id"}),o.version(3).stores({documentoStatus:"&id, idDocumento, idDocumentoCaixa, idDocumentoItem, idContatoResponsavel, idUsuarioAlterou"}),o.version(4).stores({documentoEndereco:"&id, idDocumento, idContato"}),o.version(5).stores({financeiroMovimentacao:"&id"}),o.version(6).stores({configuracoes:"&id, nome"}),o.version(7).stores({financeiroMovimentacaoN:"&id"}),o.version(8).stores({perfilContabilItem:"&id"}),o.version(9).stores({arquivo:"&id"}),o.version(10).stores({perfilContabil:"&id"}),o.version(11).stores({contatoCreditoExtrato:"&id"}),o.version(12).stores({financeiroRenegociacao:"&id, idFinanceiroTitulo, idFinanceiroMovimentacaoN"}),o.version(13).stores({financeiroTitulo:"&id, idContato, documentoId"}),o.version(14).stores({financeiroMovimentacao:"&id, idDocumentoCaixa"}),o.version(15).stores({_banco:"&id",financeiroBoleto:"&id, idEmpresa, idContato, idFinanceiroBanco, idFinanceiroRemessaLote, idNaoPagoMovimentacaoN",financeiroBanco:"&id, idEmpresa, idBanco, idFinanceiroPlanoConta"}),o.version(15).stores({financeiroBoletoTitulo:"&id, idFinanceiroBoleto, idFinanceiroTitulo"}),o.version(16).stores({impostoParametro:"&id, cod, idImpParamTipo, impParamTipoCod"}),o.version(17).stores({caixaConsolidacao:"&id, idDocumento, idDocumentoCaixa, idDocumentoStatus, idFormaPagamento, idTitulo"}),o.version(18).stores({documentoSat:"&id, idDocumento"}),o.version(19).stores({financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao",caixaConsolidacao2:"&id, idDocumentoCaixa, idDocumentoStatus, tabela, idTabela"}),o.version(20).stores({contatoCreditoExtrato:"&id, idContato",financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao, idFatura, idFinanceiroBoleto"}),o.version(21).stores({documentoContato:"&id, idDocumento, idContato"}),o.version(22).stores({documentoCondicaoPagamento:"&id, idDocumento, idDocumentoCaixa, idFinanceiroTitulo"}),o.version(23).stores({contato:"&id, idUsuario"}),o.version(24).stores({contato:"&id, idUsuario, codigoUsuario"}),o.version(25).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, tipo"}),o.version(26).stores({empresa:"&id, idContato"}),o.version(27).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo"}),o.version(28).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta"}),o.version(29).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, tipo, [tipo+idContato]"}),o.version(30).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato]"}),o.version(31).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato], [tipo+documentoId]"}),o.version(32).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, tipoItem"}),o.version(33).stores({item:"&id, armacaoMaterial"}),o.version(34).stores({item:"&id, tipo"}),o.version(35).stores({arquivo:"&id, idTabelaMaster, tabelaMaster, [idTabelaMaster+tabelaMaster]"}),o.version(36).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, [idDocumentoCaixa+idFinanceiroPlanoConta]"}),o.version(37).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo]"}),o.version(38).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo]"}),o.version(39).stores({cfop:"&id, codigoCfop"}),o.version(40).stores({perfilContabilItem:"&id, idPerfilContabil, idCfop"}),o.version(41).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),o.version(42).stores({perfilContabilItem:"&id, idPerfilContabil, idCfop, [idPerfilContabil+idCfop]"}),o.version(43).stores({estoqueSaldoProdutoEmpresa:"&id, idItem, idEmpresa, tipoEstoque, [idItem+idEmpresa+tipoEstoque]"}),o.version(44).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),o.version(45).stores({caixa:"&id, idEmpresa"}),o.version(46).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo]"}),o.version(47).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status]"}),o.version(48).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status]"}),o.version(49).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato"}),o.version(50).stores({sincronismoFila:"++_ordem, &id"}),o.version(51).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem"}),o.version(52).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem, [idDocumento+idItem]"}),o.version(53).stores({financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao, idFatura, idFinanceiroBoleto, [idFatura+idDocumentoCaixa], [documentoId+idDocumentoCaixa]"}),o.version(54).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo], [idDocumentoCaixa+documentoId]"}),o.version(55).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura]"}),o.version(56).stores({dispositivoCliente:"&id"}),o.version(57).stores({item:"&id, tipo, ativo"}),o.version(58).stores({documentoItem:"&id, idDocumento, idDocumentoAdicional, idItem, tipoItem, [idDocumento+idItem], [idDocumento+tipoItem]"}),o.version(59).stores({financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo], [idDocumentoCaixa+documentoId], [idDocumentoCaixa+documentoTipo]"}),o.version(60).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo]"}),o.version(61).stores({_cidade:"&id, ativo"}),o.version(62).stores({itemTabelaPreco:"&id, idEmpresa"}),o.version(63).stores({financeiroPlanoConta:"&id, codigoFinanceiroPlanoConta"}),o.version(64).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie+nNF]",documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico",documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico"}),o.version(65).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie]"}),o.version(66).stores({documentoFiscalEletronico:"&id, idDocumento, tpAmb, cpFCnpjEmitente, mod, serie, nNF, [tpAmb+cpFCnpjEmitente+mod+serie], [idDocumento+situacao]",documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico, [idDocumentoFiscalEletronico+status+situacao]"}),o.version(69).stores({documentoFiscalEletronico:"&id, idDocumento, [idDocumento+situacao]"}),o.version(70).stores({documentoFiscalEletronico:"&id, idDocumento, [idDocumento+situacao], [tpAmb+cpfCnpjEmitente+mod+serie]"}),o.version(71).stores({documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico, [idDocumentoFiscalEletronico+status+situacao], [idDocumentoFiscalEletronico+operacao]"}),o.version(72).stores({_cidade:"&id, cidadeCodIbge"}),o.version(73).stores({documentoOperacao:"&id, codigoDocumentoOperacao"}),o.version(74).stores({cfop:"&id, codigoCfop, cfop"}),o.version(75).stores({documentoOperacao:"&id, codigoDocumentoOperacao, idCfop"}),o.version(76).stores({item:"&id, tipo, ativo, ncm"}),o.version(77).stores({nfeIbpt:"&id, codigo, [codigo+idContato]"}),o.version(78).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador]"}),o.version(79).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato, segmento"}),o.version(80).stores({contato:"&id, idUsuario, codigoUsuario, codigoContato, segmento, numeroDocumentoNacional"}),o.version(81).stores({documentoFiscalEletronico:"&id, idDocumento, tipo, [idDocumento+situacao], [tpAmb+cpfCnpjEmitente+mod+serie]"}),o.version(82).stores({aliquotaSimples:"&id, idEmpresa"}),o.version(83).stores({contatoGrupo:"&id, idContato, descricao"}),o.version(84).stores({configuracaoImposto:"&id"}),o.version(85).stores({financeiroBoleto:"&id, idFinanceiroBanco, nossoNumero"}),o.version(86).stores({json:"&id, descricao, referencia, [descricao+referencia]"}),o.version(87).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador]"}),o.version(88).stores({documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico, [tpAmb+cpfCnpjEmitente+mod+serie+nNF+situacao]"}),o.version(89).stores({equipamento:"&id, idItem, idContato"}),o.version(90).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador], idEquipamento"}),o.version(91).stores({itemTabelaPreco:"&id, idEmpresa, idItem, tipo"}),o.version(92).stores({documentoFiscalEletronicoErro:"&id, idDocumento, idDocumentoFiscalEletronico, chNFe, [tpAmb+cpfCnpjEmitente+mod+serie+nNF+situacao]"}),o.version(93).stores({documentoFiscalEletronico:"&id, idDocumento, tipo, situacao, [tipo+situacao], [idDocumento+situacao], [tpAmb+cpfCnpjEmitente+mod+serie]"}),o.version(94).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, dataHoraEmissao, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador], idEquipamento",financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao, idFatura, idFinanceiroBoleto, dataEmissao, [idFatura+idDocumentoCaixa], [documentoId+idDocumentoCaixa]",financeiroMovimentacao:"&id, idDocumentoCaixa, idFinanceiroPlanoConta, idFinanceiroMovimentacaoN, documentoId, documentoTipo, dataEmissao, [idDocumentoCaixa+idFinanceiroPlanoConta], [documentoId+documentoTipo], [idDocumentoCaixa+documentoId], [idDocumentoCaixa+documentoTipo]"}),o.version(95).stores({eCommerce:"&id",itemECommerce:"&id, idItem, idECommerce, idItemNoECommerce, [idItem+idECommerce]"}),o.version(96).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, dataHoraEmissao, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador], idEquipamento, [tipo+operacao+status]"}),o.version(97).stores({itemEspecificacao:"&id, idItem"}),o.version(98).stores({contatoEspecificacao:"&id, idContato",itemEstoqueMinimo:"&id, idItem, idEmpresa"}),o.version(99).stores({sistemaUsoLog:"&id"}),o.version(100).stores({documentoXML:"&id, idDocumento, xmlAux, xmlData, enviarLoteRpsResposta, consultarSituacaoLoteRpsResposta, consultarNfseRpsResposta"}),o.version(101).stores({documento:"&id, idContato, idFatura, idDocumentoAdicional, idContatoVendedor, idContatoDigitador, idEmpresa, documentoId, tipo, status, dataHoraEmissao, [tipo+idEmpresa], [tipo+idEmpresa+dataHoraEmissao], [tipo+idEmpresa+dataHoraFinalizado], [tipo+idContato+dataHoraEmissao], [tipo+idContato+dataHoraFinalizado], [tipo+status], [tipo+status+idEmpresa], [tipo+idContato], [tipo+documentoId], [idContato+idEmpresa+tipo], [idContato+idEmpresa+tipo+status], [idContato+tipo+status], [tipo+idFatura], [tipo+documentoId+documentoTipo], [tipo+idContatoVendedor], [tipo+idContatoDigitador], idEquipamento, [tipo+operacao+status], [tipo+operacao]"}),o.version(102).stores({documentoFiscalEletronicoXml:"&id, idDocumento, idDocumentoFiscalEletronico, situacao, [idDocumentoFiscalEletronico+status+situacao], [idDocumentoFiscalEletronico+operacao]"}),o.version(103).stores({tarefa:"&id"}),o.version(104).stores({etiqueta:"&id, idItem, cpfUsuarioLogado"}),o.version(105).stores({financeiroTitulo:"&id, idContato, documentoId, idDocumentoCaixa, idDocumentoCaixaLiquidacao, idFatura, idFinanceiroBoleto, dataEmissao, dataPagamento, [idFatura+idDocumentoCaixa], [documentoId+idDocumentoCaixa]"}),Nl[e]=o,BT?new qT(Nl[e]):o}const Pt=new Mu("plataforma");Pt.version(1).stores({clienteSistema:"&id",empresa:"&id",empresaUsuarioPermissao:"&id",grupo:"&id",grupoPermissao:"&id",objeto:"&id",sistema:"&id",sistemaObjeto:"&id",usuario:"&id, cpf",usuarioPermissao:"&id",usuarioPermissaoSistema:"&id",sincronismo:"&bancoDeDados",sincronismoFila:"&id"});Pt.version(2).stores({empresaUsuarioPermissao:"&id, idEmpresa, idUsuario, [idEmpresa+idUsuario]"});Pt.version(3).stores({usuario:"&id, codigoUsuario"});Pt.version(4).stores({usuario:"&id, cpf, codigoUsuario"});Pt.version(5).stores({empresa:"&id, codigoClienteSistema"});Pt.version(6).stores({empresaUsuarioPermissao:"&id, idEmpresa, idUsuario, codigoEmpresa, codigoUsuario, [idEmpresa+idUsuario], [codigoEmpresa+codigoUsuario]"});Pt.version(7).stores({contato:"&id"});Pt.version(8).stores({login:"&id"});Pt.version(9).stores({login:"&id, cpf"});Pt.version(10).stores({empresa:"&id, codigoClienteSistema, idContato"});Pt.version(11).stores({empresa:"&id, codigoClienteSistema, idContato, codigoContato"});Pt.version(12).stores({objeto:"&id, nomeObjeto",sistemaObjeto:"&id, idObjeto"});Pt.version(13).stores({sistemaObjeto:"&id, idObjeto, [idPai+idSistema]"});const YH={grava:()=>{},le:async e=>(e=e||{},"id"in e?e.id?await Z()._banco.get(e.id)||{}:{}:await Z()._banco.toArray()||[])},us={},Lc={};var KH={get(e){return us[e]===void 0&&(us[e]=localStorage.getItem(e)||""),us[e]},getJson(e,t=!1){if(us[e]===void 0){const o=localStorage.getItem(e);if(t)try{Lc[e]=o?atob(o):"{}"}catch(r){Lc[e]="{}",console.error(`Erro de base64 com formado invalido
`,r.stack)}else Lc[e]=o||"{}";try{us[e]=JSON.parse(Lc[e])}catch(r){Lc[e]="{}",us[e]={},console.error(`Erro no JSON.parse
`,r.stack)}}return us[e]},set(e,t){us[e]!==t&&(us[e]=t,localStorage.setItem(e,t))},setJson(e,t,o=!1){const r=JSON.stringify(t);Lc[e]!==r&&(Lc[e]=r,us[e]=JSON.parse(r),localStorage.setItem(e,o?btoa(r):r))}},Ht=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function QH(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JH(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}),t}function ZH(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ca={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var o,r="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,m=2,f=4,p=1,g=2,b=1,x=2,_=4,y=8,I=16,S=32,O=64,F=128,M=256,E=512,D=30,P="...",N=800,R=16,z=1,W=2,j=3,Q=1/0,se=9007199254740991,_e=17976931348623157e292,Ee=0/0,J=4294967295,re=J-1,ye=J>>>1,ge=[["ary",F],["bind",b],["bindKey",x],["curry",y],["curryRight",I],["flip",E],["partial",S],["partialRight",O],["rearg",M]],De="[object Arguments]",Oe="[object Array]",he="[object AsyncFunction]",Me="[object Boolean]",fe="[object Date]",G="[object DOMException]",V="[object Error]",L="[object Function]",U="[object GeneratorFunction]",ie="[object Map]",we="[object Number]",H="[object Null]",q="[object Object]",k="[object Promise]",Y="[object Proxy]",ne="[object RegExp]",oe="[object Set]",Ce="[object String]",ve="[object Symbol]",Fe="[object Undefined]",Le="[object WeakMap]",tt="[object WeakSet]",ot="[object ArrayBuffer]",It="[object DataView]",Zt="[object Float32Array]",vo="[object Float64Array]",Go="[object Int8Array]",Ta="[object Int16Array]",Ze="[object Int32Array]",xt="[object Uint8Array]",Lt="[object Uint8ClampedArray]",ao="[object Uint16Array]",ko="[object Uint32Array]",Mr=/\b__p \+= '';/g,Oi=/\b(__p \+=) '' \+/g,ns=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tc=/&(?:amp|lt|gt|quot|#39);/g,Ku=/[&<>"']/g,Jf=RegExp(Tc.source),Qu=RegExp(Ku.source),He=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,Vt=/<%=([\s\S]+?)%>/g,Xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eo=/^\w*$/,ia=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wo=/[\\^$.*+?()[\]{}|]/g,Di=RegExp(Wo.source),Ua=/^\s+/,gl=/\s/,_l=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zf=/\{\n\/\* \[wrapped with (.+)\] \*/,u_=/,? & /,d_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bl=/[()=,{}\[\]\/\s]/,yl=/\\(\\)?/g,Es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ss=/\w*$/,em=/^[-+]0x[0-9a-f]+$/i,f_=/^0b[01]+$/i,F0=/^\[object .+?Constructor\]$/,R0=/^0o[0-7]+$/i,k0=/^(?:0|[1-9]\d*)$/,V0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,mt=/['\n\r\u2028\u2029\\]/g,ct="\\ud800-\\udfff",Jt="\\u0300-\\u036f",Xo="\\ufe20-\\ufe2f",Bo="\\u20d0-\\u20ff",za=Jt+Xo+Bo,ha="\\u2700-\\u27bf",Ju="a-z\\xdf-\\xf6\\xf8-\\xff",_5="\\xac\\xb1\\xd7\\xf7",b5="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",y5="\\u2000-\\u206f",C5=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nE="A-Z\\xc0-\\xd6\\xd8-\\xde",sE="\\ufe0e\\ufe0f",lE=_5+b5+y5+C5,m_="['\u2019]",x5="["+ct+"]",cE="["+lE+"]",q0="["+za+"]",uE="\\d+",w5="["+ha+"]",dE="["+Ju+"]",fE="[^"+ct+lE+uE+ha+Ju+nE+"]",p_="\\ud83c[\\udffb-\\udfff]",I5="(?:"+q0+"|"+p_+")",mE="[^"+ct+"]",h_="(?:\\ud83c[\\udde6-\\uddff]){2}",v_="[\\ud800-\\udbff][\\udc00-\\udfff]",Zu="["+nE+"]",pE="\\u200d",hE="(?:"+dE+"|"+fE+")",E5="(?:"+Zu+"|"+fE+")",vE="(?:"+m_+"(?:d|ll|m|re|s|t|ve))?",gE="(?:"+m_+"(?:D|LL|M|RE|S|T|VE))?",_E=I5+"?",bE="["+sE+"]?",S5="(?:"+pE+"(?:"+[mE,h_,v_].join("|")+")"+bE+_E+")*",A5="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",T5="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yE=bE+_E+S5,O5="(?:"+[w5,h_,v_].join("|")+")"+yE,D5="(?:"+[mE+q0+"?",q0,h_,v_,x5].join("|")+")",P5=RegExp(m_,"g"),M5=RegExp(q0,"g"),g_=RegExp(p_+"(?="+p_+")|"+D5+yE,"g"),N5=RegExp([Zu+"?"+dE+"+"+vE+"(?="+[cE,Zu,"$"].join("|")+")",E5+"+"+gE+"(?="+[cE,Zu+hE,"$"].join("|")+")",Zu+"?"+hE+"+"+vE,Zu+"+"+gE,T5,A5,uE,O5].join("|"),"g"),F5=RegExp("["+pE+ct+za+sE+"]"),R5=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,k5=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],V5=-1,na={};na[Zt]=na[vo]=na[Go]=na[Ta]=na[Ze]=na[xt]=na[Lt]=na[ao]=na[ko]=!0,na[De]=na[Oe]=na[ot]=na[Me]=na[It]=na[fe]=na[V]=na[L]=na[ie]=na[we]=na[q]=na[ne]=na[oe]=na[Ce]=na[Le]=!1;var oa={};oa[De]=oa[Oe]=oa[ot]=oa[It]=oa[Me]=oa[fe]=oa[Zt]=oa[vo]=oa[Go]=oa[Ta]=oa[Ze]=oa[ie]=oa[we]=oa[q]=oa[ne]=oa[oe]=oa[Ce]=oa[ve]=oa[xt]=oa[Lt]=oa[ao]=oa[ko]=!0,oa[V]=oa[L]=oa[Le]=!1;var q5={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},B5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},L5={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$5={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},U5=parseFloat,z5=parseInt,CE=typeof Ht=="object"&&Ht&&Ht.Object===Object&&Ht,H5=typeof self=="object"&&self&&self.Object===Object&&self,yr=CE||H5||Function("return this")(),__=t&&!t.nodeType&&t,Oc=__&&!0&&e&&!e.nodeType&&e,xE=Oc&&Oc.exports===__,b_=xE&&CE.process,nn=function(){try{var Pe=Oc&&Oc.require&&Oc.require("util").types;return Pe||b_&&b_.binding&&b_.binding("util")}catch{}}(),wE=nn&&nn.isArrayBuffer,IE=nn&&nn.isDate,EE=nn&&nn.isMap,SE=nn&&nn.isRegExp,AE=nn&&nn.isSet,TE=nn&&nn.isTypedArray;function Pi(Pe,Ge,qe){switch(qe.length){case 0:return Pe.call(Ge);case 1:return Pe.call(Ge,qe[0]);case 2:return Pe.call(Ge,qe[0],qe[1]);case 3:return Pe.call(Ge,qe[0],qe[1],qe[2])}return Pe.apply(Ge,qe)}function j5(Pe,Ge,qe,gt){for(var to=-1,No=Pe==null?0:Pe.length;++to<No;){var ar=Pe[to];Ge(gt,ar,qe(ar),Pe)}return gt}function sn(Pe,Ge){for(var qe=-1,gt=Pe==null?0:Pe.length;++qe<gt&&Ge(Pe[qe],qe,Pe)!==!1;);return Pe}function G5(Pe,Ge){for(var qe=Pe==null?0:Pe.length;qe--&&Ge(Pe[qe],qe,Pe)!==!1;);return Pe}function OE(Pe,Ge){for(var qe=-1,gt=Pe==null?0:Pe.length;++qe<gt;)if(!Ge(Pe[qe],qe,Pe))return!1;return!0}function Cl(Pe,Ge){for(var qe=-1,gt=Pe==null?0:Pe.length,to=0,No=[];++qe<gt;){var ar=Pe[qe];Ge(ar,qe,Pe)&&(No[to++]=ar)}return No}function B0(Pe,Ge){var qe=Pe==null?0:Pe.length;return!!qe&&ed(Pe,Ge,0)>-1}function y_(Pe,Ge,qe){for(var gt=-1,to=Pe==null?0:Pe.length;++gt<to;)if(qe(Ge,Pe[gt]))return!0;return!1}function va(Pe,Ge){for(var qe=-1,gt=Pe==null?0:Pe.length,to=Array(gt);++qe<gt;)to[qe]=Ge(Pe[qe],qe,Pe);return to}function xl(Pe,Ge){for(var qe=-1,gt=Ge.length,to=Pe.length;++qe<gt;)Pe[to+qe]=Ge[qe];return Pe}function C_(Pe,Ge,qe,gt){var to=-1,No=Pe==null?0:Pe.length;for(gt&&No&&(qe=Pe[++to]);++to<No;)qe=Ge(qe,Pe[to],to,Pe);return qe}function W5(Pe,Ge,qe,gt){var to=Pe==null?0:Pe.length;for(gt&&to&&(qe=Pe[--to]);to--;)qe=Ge(qe,Pe[to],to,Pe);return qe}function x_(Pe,Ge){for(var qe=-1,gt=Pe==null?0:Pe.length;++qe<gt;)if(Ge(Pe[qe],qe,Pe))return!0;return!1}var X5=w_("length");function Y5(Pe){return Pe.split("")}function K5(Pe){return Pe.match(d_)||[]}function DE(Pe,Ge,qe){var gt;return qe(Pe,function(to,No,ar){if(Ge(to,No,ar))return gt=No,!1}),gt}function L0(Pe,Ge,qe,gt){for(var to=Pe.length,No=qe+(gt?1:-1);gt?No--:++No<to;)if(Ge(Pe[No],No,Pe))return No;return-1}function ed(Pe,Ge,qe){return Ge===Ge?l6(Pe,Ge,qe):L0(Pe,PE,qe)}function Q5(Pe,Ge,qe,gt){for(var to=qe-1,No=Pe.length;++to<No;)if(gt(Pe[to],Ge))return to;return-1}function PE(Pe){return Pe!==Pe}function ME(Pe,Ge){var qe=Pe==null?0:Pe.length;return qe?E_(Pe,Ge)/qe:Ee}function w_(Pe){return function(Ge){return Ge==null?o:Ge[Pe]}}function I_(Pe){return function(Ge){return Pe==null?o:Pe[Ge]}}function NE(Pe,Ge,qe,gt,to){return to(Pe,function(No,ar,ea){qe=gt?(gt=!1,No):Ge(qe,No,ar,ea)}),qe}function J5(Pe,Ge){var qe=Pe.length;for(Pe.sort(Ge);qe--;)Pe[qe]=Pe[qe].value;return Pe}function E_(Pe,Ge){for(var qe,gt=-1,to=Pe.length;++gt<to;){var No=Ge(Pe[gt]);No!==o&&(qe=qe===o?No:qe+No)}return qe}function S_(Pe,Ge){for(var qe=-1,gt=Array(Pe);++qe<Pe;)gt[qe]=Ge(qe);return gt}function Z5(Pe,Ge){return va(Ge,function(qe){return[qe,Pe[qe]]})}function FE(Pe){return Pe&&Pe.slice(0,qE(Pe)+1).replace(Ua,"")}function Mi(Pe){return function(Ge){return Pe(Ge)}}function A_(Pe,Ge){return va(Ge,function(qe){return Pe[qe]})}function tm(Pe,Ge){return Pe.has(Ge)}function RE(Pe,Ge){for(var qe=-1,gt=Pe.length;++qe<gt&&ed(Ge,Pe[qe],0)>-1;);return qe}function kE(Pe,Ge){for(var qe=Pe.length;qe--&&ed(Ge,Pe[qe],0)>-1;);return qe}function e6(Pe,Ge){for(var qe=Pe.length,gt=0;qe--;)Pe[qe]===Ge&&++gt;return gt}var t6=I_(q5),o6=I_(B5);function a6(Pe){return"\\"+$5[Pe]}function r6(Pe,Ge){return Pe==null?o:Pe[Ge]}function td(Pe){return F5.test(Pe)}function i6(Pe){return R5.test(Pe)}function n6(Pe){for(var Ge,qe=[];!(Ge=Pe.next()).done;)qe.push(Ge.value);return qe}function T_(Pe){var Ge=-1,qe=Array(Pe.size);return Pe.forEach(function(gt,to){qe[++Ge]=[to,gt]}),qe}function VE(Pe,Ge){return function(qe){return Pe(Ge(qe))}}function wl(Pe,Ge){for(var qe=-1,gt=Pe.length,to=0,No=[];++qe<gt;){var ar=Pe[qe];(ar===Ge||ar===c)&&(Pe[qe]=c,No[to++]=qe)}return No}function $0(Pe){var Ge=-1,qe=Array(Pe.size);return Pe.forEach(function(gt){qe[++Ge]=gt}),qe}function s6(Pe){var Ge=-1,qe=Array(Pe.size);return Pe.forEach(function(gt){qe[++Ge]=[gt,gt]}),qe}function l6(Pe,Ge,qe){for(var gt=qe-1,to=Pe.length;++gt<to;)if(Pe[gt]===Ge)return gt;return-1}function c6(Pe,Ge,qe){for(var gt=qe+1;gt--;)if(Pe[gt]===Ge)return gt;return gt}function od(Pe){return td(Pe)?d6(Pe):X5(Pe)}function Nn(Pe){return td(Pe)?f6(Pe):Y5(Pe)}function qE(Pe){for(var Ge=Pe.length;Ge--&&gl.test(Pe.charAt(Ge)););return Ge}var u6=I_(L5);function d6(Pe){for(var Ge=g_.lastIndex=0;g_.test(Pe);)++Ge;return Ge}function f6(Pe){return Pe.match(g_)||[]}function m6(Pe){return Pe.match(N5)||[]}var p6=function Pe(Ge){Ge=Ge==null?yr:ad.defaults(yr.Object(),Ge,ad.pick(yr,k5));var qe=Ge.Array,gt=Ge.Date,to=Ge.Error,No=Ge.Function,ar=Ge.Math,ea=Ge.Object,O_=Ge.RegExp,h6=Ge.String,ln=Ge.TypeError,U0=qe.prototype,v6=No.prototype,rd=ea.prototype,z0=Ge["__core-js_shared__"],H0=v6.toString,Lo=rd.hasOwnProperty,g6=0,BE=function(){var h=/[^.]+$/.exec(z0&&z0.keys&&z0.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),j0=rd.toString,_6=H0.call(ea),b6=yr._,y6=O_("^"+H0.call(Lo).replace(Wo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G0=xE?Ge.Buffer:o,Il=Ge.Symbol,W0=Ge.Uint8Array,LE=G0?G0.allocUnsafe:o,X0=VE(ea.getPrototypeOf,ea),$E=ea.create,UE=rd.propertyIsEnumerable,Y0=U0.splice,zE=Il?Il.isConcatSpreadable:o,om=Il?Il.iterator:o,Dc=Il?Il.toStringTag:o,K0=function(){try{var h=Rc(ea,"defineProperty");return h({},"",{}),h}catch{}}(),C6=Ge.clearTimeout!==yr.clearTimeout&&Ge.clearTimeout,x6=gt&&gt.now!==yr.Date.now&&gt.now,w6=Ge.setTimeout!==yr.setTimeout&&Ge.setTimeout,Q0=ar.ceil,J0=ar.floor,D_=ea.getOwnPropertySymbols,I6=G0?G0.isBuffer:o,HE=Ge.isFinite,E6=U0.join,S6=VE(ea.keys,ea),rr=ar.max,Nr=ar.min,A6=gt.now,T6=Ge.parseInt,jE=ar.random,O6=U0.reverse,P_=Rc(Ge,"DataView"),am=Rc(Ge,"Map"),M_=Rc(Ge,"Promise"),id=Rc(Ge,"Set"),rm=Rc(Ge,"WeakMap"),im=Rc(ea,"create"),Z0=rm&&new rm,nd={},D6=kc(P_),P6=kc(am),M6=kc(M_),N6=kc(id),F6=kc(rm),eh=Il?Il.prototype:o,nm=eh?eh.valueOf:o,GE=eh?eh.toString:o;function ae(h){if(Oa(h)&&!ro(h)&&!(h instanceof go)){if(h instanceof cn)return h;if(Lo.call(h,"__wrapped__"))return WS(h)}return new cn(h)}var sd=function(){function h(){}return function(C){if(!wa(C))return{};if($E)return $E(C);h.prototype=C;var T=new h;return h.prototype=o,T}}();function th(){}function cn(h,C){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!C,this.__index__=0,this.__values__=o}ae.templateSettings={escape:He,evaluate:vt,interpolate:Vt,variable:"",imports:{_:ae}},ae.prototype=th.prototype,ae.prototype.constructor=ae,cn.prototype=sd(th.prototype),cn.prototype.constructor=cn;function go(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function R6(){var h=new go(this.__wrapped__);return h.__actions__=ci(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=ci(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=ci(this.__views__),h}function k6(){if(this.__filtered__){var h=new go(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function V6(){var h=this.__wrapped__.value(),C=this.__dir__,T=ro(h),B=C<0,K=T?h.length:0,le=YR(0,K,this.__views__),xe=le.start,Ae=le.end,Ne=Ae-xe,Ye=B?Ae:xe-1,Ke=this.__iteratees__,et=Ke.length,dt=0,St=Nr(Ne,this.__takeCount__);if(!T||!B&&K==Ne&&St==Ne)return vS(h,this.__actions__);var $t=[];e:for(;Ne--&&dt<St;){Ye+=C;for(var lo=-1,Ut=h[Ye];++lo<et;){var fo=Ke[lo],Co=fo.iteratee,Ri=fo.type,Yr=Co(Ut);if(Ri==W)Ut=Yr;else if(!Yr){if(Ri==z)continue e;break e}}$t[dt++]=Ut}return $t}go.prototype=sd(th.prototype),go.prototype.constructor=go;function Pc(h){var C=-1,T=h==null?0:h.length;for(this.clear();++C<T;){var B=h[C];this.set(B[0],B[1])}}function q6(){this.__data__=im?im(null):{},this.size=0}function B6(h){var C=this.has(h)&&delete this.__data__[h];return this.size-=C?1:0,C}function L6(h){var C=this.__data__;if(im){var T=C[h];return T===l?o:T}return Lo.call(C,h)?C[h]:o}function $6(h){var C=this.__data__;return im?C[h]!==o:Lo.call(C,h)}function U6(h,C){var T=this.__data__;return this.size+=this.has(h)?0:1,T[h]=im&&C===o?l:C,this}Pc.prototype.clear=q6,Pc.prototype.delete=B6,Pc.prototype.get=L6,Pc.prototype.has=$6,Pc.prototype.set=U6;function As(h){var C=-1,T=h==null?0:h.length;for(this.clear();++C<T;){var B=h[C];this.set(B[0],B[1])}}function z6(){this.__data__=[],this.size=0}function H6(h){var C=this.__data__,T=oh(C,h);if(T<0)return!1;var B=C.length-1;return T==B?C.pop():Y0.call(C,T,1),--this.size,!0}function j6(h){var C=this.__data__,T=oh(C,h);return T<0?o:C[T][1]}function G6(h){return oh(this.__data__,h)>-1}function W6(h,C){var T=this.__data__,B=oh(T,h);return B<0?(++this.size,T.push([h,C])):T[B][1]=C,this}As.prototype.clear=z6,As.prototype.delete=H6,As.prototype.get=j6,As.prototype.has=G6,As.prototype.set=W6;function Ts(h){var C=-1,T=h==null?0:h.length;for(this.clear();++C<T;){var B=h[C];this.set(B[0],B[1])}}function X6(){this.size=0,this.__data__={hash:new Pc,map:new(am||As),string:new Pc}}function Y6(h){var C=ph(this,h).delete(h);return this.size-=C?1:0,C}function K6(h){return ph(this,h).get(h)}function Q6(h){return ph(this,h).has(h)}function J6(h,C){var T=ph(this,h),B=T.size;return T.set(h,C),this.size+=T.size==B?0:1,this}Ts.prototype.clear=X6,Ts.prototype.delete=Y6,Ts.prototype.get=K6,Ts.prototype.has=Q6,Ts.prototype.set=J6;function Mc(h){var C=-1,T=h==null?0:h.length;for(this.__data__=new Ts;++C<T;)this.add(h[C])}function Z6(h){return this.__data__.set(h,l),this}function eR(h){return this.__data__.has(h)}Mc.prototype.add=Mc.prototype.push=Z6,Mc.prototype.has=eR;function Fn(h){var C=this.__data__=new As(h);this.size=C.size}function tR(){this.__data__=new As,this.size=0}function oR(h){var C=this.__data__,T=C.delete(h);return this.size=C.size,T}function aR(h){return this.__data__.get(h)}function rR(h){return this.__data__.has(h)}function iR(h,C){var T=this.__data__;if(T instanceof As){var B=T.__data__;if(!am||B.length<a-1)return B.push([h,C]),this.size=++T.size,this;T=this.__data__=new Ts(B)}return T.set(h,C),this.size=T.size,this}Fn.prototype.clear=tR,Fn.prototype.delete=oR,Fn.prototype.get=aR,Fn.prototype.has=rR,Fn.prototype.set=iR;function WE(h,C){var T=ro(h),B=!T&&Vc(h),K=!T&&!B&&Ol(h),le=!T&&!B&&!K&&dd(h),xe=T||B||K||le,Ae=xe?S_(h.length,h6):[],Ne=Ae.length;for(var Ye in h)(C||Lo.call(h,Ye))&&!(xe&&(Ye=="length"||K&&(Ye=="offset"||Ye=="parent")||le&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||Ms(Ye,Ne)))&&Ae.push(Ye);return Ae}function XE(h){var C=h.length;return C?h[z_(0,C-1)]:o}function nR(h,C){return hh(ci(h),Nc(C,0,h.length))}function sR(h){return hh(ci(h))}function N_(h,C,T){(T!==o&&!Rn(h[C],T)||T===o&&!(C in h))&&Os(h,C,T)}function sm(h,C,T){var B=h[C];(!(Lo.call(h,C)&&Rn(B,T))||T===o&&!(C in h))&&Os(h,C,T)}function oh(h,C){for(var T=h.length;T--;)if(Rn(h[T][0],C))return T;return-1}function lR(h,C,T,B){return El(h,function(K,le,xe){C(B,K,T(K),xe)}),B}function YE(h,C){return h&&ls(C,fr(C),h)}function cR(h,C){return h&&ls(C,di(C),h)}function Os(h,C,T){C=="__proto__"&&K0?K0(h,C,{configurable:!0,enumerable:!0,value:T,writable:!0}):h[C]=T}function F_(h,C){for(var T=-1,B=C.length,K=qe(B),le=h==null;++T<B;)K[T]=le?o:pb(h,C[T]);return K}function Nc(h,C,T){return h===h&&(T!==o&&(h=h<=T?h:T),C!==o&&(h=h>=C?h:C)),h}function un(h,C,T,B,K,le){var xe,Ae=C&d,Ne=C&m,Ye=C&f;if(T&&(xe=K?T(h,B,K,le):T(h)),xe!==o)return xe;if(!wa(h))return h;var Ke=ro(h);if(Ke){if(xe=QR(h),!Ae)return ci(h,xe)}else{var et=Fr(h),dt=et==L||et==U;if(Ol(h))return bS(h,Ae);if(et==q||et==De||dt&&!K){if(xe=Ne||dt?{}:qS(h),!Ae)return Ne?LR(h,cR(xe,h)):BR(h,YE(xe,h))}else{if(!oa[et])return K?h:{};xe=JR(h,et,Ae)}}le||(le=new Fn);var St=le.get(h);if(St)return St;le.set(h,xe),mA(h)?h.forEach(function(Ut){xe.add(un(Ut,C,T,Ut,h,le))}):dA(h)&&h.forEach(function(Ut,fo){xe.set(fo,un(Ut,C,T,fo,h,le))});var $t=Ye?Ne?eb:Z_:Ne?di:fr,lo=Ke?o:$t(h);return sn(lo||h,function(Ut,fo){lo&&(fo=Ut,Ut=h[fo]),sm(xe,fo,un(Ut,C,T,fo,h,le))}),xe}function uR(h){var C=fr(h);return function(T){return KE(T,h,C)}}function KE(h,C,T){var B=T.length;if(h==null)return!B;for(h=ea(h);B--;){var K=T[B],le=C[K],xe=h[K];if(xe===o&&!(K in h)||!le(xe))return!1}return!0}function QE(h,C,T){if(typeof h!="function")throw new ln(n);return pm(function(){h.apply(o,T)},C)}function lm(h,C,T,B){var K=-1,le=B0,xe=!0,Ae=h.length,Ne=[],Ye=C.length;if(!Ae)return Ne;T&&(C=va(C,Mi(T))),B?(le=y_,xe=!1):C.length>=a&&(le=tm,xe=!1,C=new Mc(C));e:for(;++K<Ae;){var Ke=h[K],et=T==null?Ke:T(Ke);if(Ke=B||Ke!==0?Ke:0,xe&&et===et){for(var dt=Ye;dt--;)if(C[dt]===et)continue e;Ne.push(Ke)}else le(C,et,B)||Ne.push(Ke)}return Ne}var El=IS(ss),JE=IS(k_,!0);function dR(h,C){var T=!0;return El(h,function(B,K,le){return T=!!C(B,K,le),T}),T}function ah(h,C,T){for(var B=-1,K=h.length;++B<K;){var le=h[B],xe=C(le);if(xe!=null&&(Ae===o?xe===xe&&!Fi(xe):T(xe,Ae)))var Ae=xe,Ne=le}return Ne}function fR(h,C,T,B){var K=h.length;for(T=no(T),T<0&&(T=-T>K?0:K+T),B=B===o||B>K?K:no(B),B<0&&(B+=K),B=T>B?0:hA(B);T<B;)h[T++]=C;return h}function ZE(h,C){var T=[];return El(h,function(B,K,le){C(B,K,le)&&T.push(B)}),T}function Cr(h,C,T,B,K){var le=-1,xe=h.length;for(T||(T=ek),K||(K=[]);++le<xe;){var Ae=h[le];C>0&&T(Ae)?C>1?Cr(Ae,C-1,T,B,K):xl(K,Ae):B||(K[K.length]=Ae)}return K}var R_=ES(),eS=ES(!0);function ss(h,C){return h&&R_(h,C,fr)}function k_(h,C){return h&&eS(h,C,fr)}function rh(h,C){return Cl(C,function(T){return Ns(h[T])})}function Fc(h,C){C=Al(C,h);for(var T=0,B=C.length;h!=null&&T<B;)h=h[cs(C[T++])];return T&&T==B?h:o}function tS(h,C,T){var B=C(h);return ro(h)?B:xl(B,T(h))}function Wr(h){return h==null?h===o?Fe:H:Dc&&Dc in ea(h)?XR(h):sk(h)}function V_(h,C){return h>C}function mR(h,C){return h!=null&&Lo.call(h,C)}function pR(h,C){return h!=null&&C in ea(h)}function hR(h,C,T){return h>=Nr(C,T)&&h<rr(C,T)}function q_(h,C,T){for(var B=T?y_:B0,K=h[0].length,le=h.length,xe=le,Ae=qe(le),Ne=1/0,Ye=[];xe--;){var Ke=h[xe];xe&&C&&(Ke=va(Ke,Mi(C))),Ne=Nr(Ke.length,Ne),Ae[xe]=!T&&(C||K>=120&&Ke.length>=120)?new Mc(xe&&Ke):o}Ke=h[0];var et=-1,dt=Ae[0];e:for(;++et<K&&Ye.length<Ne;){var St=Ke[et],$t=C?C(St):St;if(St=T||St!==0?St:0,!(dt?tm(dt,$t):B(Ye,$t,T))){for(xe=le;--xe;){var lo=Ae[xe];if(!(lo?tm(lo,$t):B(h[xe],$t,T)))continue e}dt&&dt.push($t),Ye.push(St)}}return Ye}function vR(h,C,T,B){return ss(h,function(K,le,xe){C(B,T(K),le,xe)}),B}function cm(h,C,T){C=Al(C,h),h=US(h,C);var B=h==null?h:h[cs(fn(C))];return B==null?o:Pi(B,h,T)}function oS(h){return Oa(h)&&Wr(h)==De}function gR(h){return Oa(h)&&Wr(h)==ot}function _R(h){return Oa(h)&&Wr(h)==fe}function um(h,C,T,B,K){return h===C?!0:h==null||C==null||!Oa(h)&&!Oa(C)?h!==h&&C!==C:bR(h,C,T,B,um,K)}function bR(h,C,T,B,K,le){var xe=ro(h),Ae=ro(C),Ne=xe?Oe:Fr(h),Ye=Ae?Oe:Fr(C);Ne=Ne==De?q:Ne,Ye=Ye==De?q:Ye;var Ke=Ne==q,et=Ye==q,dt=Ne==Ye;if(dt&&Ol(h)){if(!Ol(C))return!1;xe=!0,Ke=!1}if(dt&&!Ke)return le||(le=new Fn),xe||dd(h)?RS(h,C,T,B,K,le):GR(h,C,Ne,T,B,K,le);if(!(T&p)){var St=Ke&&Lo.call(h,"__wrapped__"),$t=et&&Lo.call(C,"__wrapped__");if(St||$t){var lo=St?h.value():h,Ut=$t?C.value():C;return le||(le=new Fn),K(lo,Ut,T,B,le)}}return dt?(le||(le=new Fn),WR(h,C,T,B,K,le)):!1}function yR(h){return Oa(h)&&Fr(h)==ie}function B_(h,C,T,B){var K=T.length,le=K,xe=!B;if(h==null)return!le;for(h=ea(h);K--;){var Ae=T[K];if(xe&&Ae[2]?Ae[1]!==h[Ae[0]]:!(Ae[0]in h))return!1}for(;++K<le;){Ae=T[K];var Ne=Ae[0],Ye=h[Ne],Ke=Ae[1];if(xe&&Ae[2]){if(Ye===o&&!(Ne in h))return!1}else{var et=new Fn;if(B)var dt=B(Ye,Ke,Ne,h,C,et);if(!(dt===o?um(Ke,Ye,p|g,B,et):dt))return!1}}return!0}function aS(h){if(!wa(h)||ok(h))return!1;var C=Ns(h)?y6:F0;return C.test(kc(h))}function CR(h){return Oa(h)&&Wr(h)==ne}function xR(h){return Oa(h)&&Fr(h)==oe}function wR(h){return Oa(h)&&Ch(h.length)&&!!na[Wr(h)]}function rS(h){return typeof h=="function"?h:h==null?fi:typeof h=="object"?ro(h)?sS(h[0],h[1]):nS(h):SA(h)}function L_(h){if(!mm(h))return S6(h);var C=[];for(var T in ea(h))Lo.call(h,T)&&T!="constructor"&&C.push(T);return C}function IR(h){if(!wa(h))return nk(h);var C=mm(h),T=[];for(var B in h)B=="constructor"&&(C||!Lo.call(h,B))||T.push(B);return T}function $_(h,C){return h<C}function iS(h,C){var T=-1,B=ui(h)?qe(h.length):[];return El(h,function(K,le,xe){B[++T]=C(K,le,xe)}),B}function nS(h){var C=ob(h);return C.length==1&&C[0][2]?LS(C[0][0],C[0][1]):function(T){return T===h||B_(T,h,C)}}function sS(h,C){return rb(h)&&BS(C)?LS(cs(h),C):function(T){var B=pb(T,h);return B===o&&B===C?hb(T,h):um(C,B,p|g)}}function ih(h,C,T,B,K){h!==C&&R_(C,function(le,xe){if(K||(K=new Fn),wa(le))ER(h,C,xe,T,ih,B,K);else{var Ae=B?B(nb(h,xe),le,xe+"",h,C,K):o;Ae===o&&(Ae=le),N_(h,xe,Ae)}},di)}function ER(h,C,T,B,K,le,xe){var Ae=nb(h,T),Ne=nb(C,T),Ye=xe.get(Ne);if(Ye){N_(h,T,Ye);return}var Ke=le?le(Ae,Ne,T+"",h,C,xe):o,et=Ke===o;if(et){var dt=ro(Ne),St=!dt&&Ol(Ne),$t=!dt&&!St&&dd(Ne);Ke=Ne,dt||St||$t?ro(Ae)?Ke=Ae:Fa(Ae)?Ke=ci(Ae):St?(et=!1,Ke=bS(Ne,!0)):$t?(et=!1,Ke=yS(Ne,!0)):Ke=[]:hm(Ne)||Vc(Ne)?(Ke=Ae,Vc(Ae)?Ke=vA(Ae):(!wa(Ae)||Ns(Ae))&&(Ke=qS(Ne))):et=!1}et&&(xe.set(Ne,Ke),K(Ke,Ne,B,le,xe),xe.delete(Ne)),N_(h,T,Ke)}function lS(h,C){var T=h.length;if(!!T)return C+=C<0?T:0,Ms(C,T)?h[C]:o}function cS(h,C,T){C.length?C=va(C,function(le){return ro(le)?function(xe){return Fc(xe,le.length===1?le[0]:le)}:le}):C=[fi];var B=-1;C=va(C,Mi(qt()));var K=iS(h,function(le,xe,Ae){var Ne=va(C,function(Ye){return Ye(le)});return{criteria:Ne,index:++B,value:le}});return J5(K,function(le,xe){return qR(le,xe,T)})}function SR(h,C){return uS(h,C,function(T,B){return hb(h,B)})}function uS(h,C,T){for(var B=-1,K=C.length,le={};++B<K;){var xe=C[B],Ae=Fc(h,xe);T(Ae,xe)&&dm(le,Al(xe,h),Ae)}return le}function AR(h){return function(C){return Fc(C,h)}}function U_(h,C,T,B){var K=B?Q5:ed,le=-1,xe=C.length,Ae=h;for(h===C&&(C=ci(C)),T&&(Ae=va(h,Mi(T)));++le<xe;)for(var Ne=0,Ye=C[le],Ke=T?T(Ye):Ye;(Ne=K(Ae,Ke,Ne,B))>-1;)Ae!==h&&Y0.call(Ae,Ne,1),Y0.call(h,Ne,1);return h}function dS(h,C){for(var T=h?C.length:0,B=T-1;T--;){var K=C[T];if(T==B||K!==le){var le=K;Ms(K)?Y0.call(h,K,1):G_(h,K)}}return h}function z_(h,C){return h+J0(jE()*(C-h+1))}function TR(h,C,T,B){for(var K=-1,le=rr(Q0((C-h)/(T||1)),0),xe=qe(le);le--;)xe[B?le:++K]=h,h+=T;return xe}function H_(h,C){var T="";if(!h||C<1||C>se)return T;do C%2&&(T+=h),C=J0(C/2),C&&(h+=h);while(C);return T}function co(h,C){return sb($S(h,C,fi),h+"")}function OR(h){return XE(fd(h))}function DR(h,C){var T=fd(h);return hh(T,Nc(C,0,T.length))}function dm(h,C,T,B){if(!wa(h))return h;C=Al(C,h);for(var K=-1,le=C.length,xe=le-1,Ae=h;Ae!=null&&++K<le;){var Ne=cs(C[K]),Ye=T;if(Ne==="__proto__"||Ne==="constructor"||Ne==="prototype")return h;if(K!=xe){var Ke=Ae[Ne];Ye=B?B(Ke,Ne,Ae):o,Ye===o&&(Ye=wa(Ke)?Ke:Ms(C[K+1])?[]:{})}sm(Ae,Ne,Ye),Ae=Ae[Ne]}return h}var fS=Z0?function(h,C){return Z0.set(h,C),h}:fi,PR=K0?function(h,C){return K0(h,"toString",{configurable:!0,enumerable:!1,value:gb(C),writable:!0})}:fi;function MR(h){return hh(fd(h))}function dn(h,C,T){var B=-1,K=h.length;C<0&&(C=-C>K?0:K+C),T=T>K?K:T,T<0&&(T+=K),K=C>T?0:T-C>>>0,C>>>=0;for(var le=qe(K);++B<K;)le[B]=h[B+C];return le}function NR(h,C){var T;return El(h,function(B,K,le){return T=C(B,K,le),!T}),!!T}function nh(h,C,T){var B=0,K=h==null?B:h.length;if(typeof C=="number"&&C===C&&K<=ye){for(;B<K;){var le=B+K>>>1,xe=h[le];xe!==null&&!Fi(xe)&&(T?xe<=C:xe<C)?B=le+1:K=le}return K}return j_(h,C,fi,T)}function j_(h,C,T,B){var K=0,le=h==null?0:h.length;if(le===0)return 0;C=T(C);for(var xe=C!==C,Ae=C===null,Ne=Fi(C),Ye=C===o;K<le;){var Ke=J0((K+le)/2),et=T(h[Ke]),dt=et!==o,St=et===null,$t=et===et,lo=Fi(et);if(xe)var Ut=B||$t;else Ye?Ut=$t&&(B||dt):Ae?Ut=$t&&dt&&(B||!St):Ne?Ut=$t&&dt&&!St&&(B||!lo):St||lo?Ut=!1:Ut=B?et<=C:et<C;Ut?K=Ke+1:le=Ke}return Nr(le,re)}function mS(h,C){for(var T=-1,B=h.length,K=0,le=[];++T<B;){var xe=h[T],Ae=C?C(xe):xe;if(!T||!Rn(Ae,Ne)){var Ne=Ae;le[K++]=xe===0?0:xe}}return le}function pS(h){return typeof h=="number"?h:Fi(h)?Ee:+h}function Ni(h){if(typeof h=="string")return h;if(ro(h))return va(h,Ni)+"";if(Fi(h))return GE?GE.call(h):"";var C=h+"";return C=="0"&&1/h==-Q?"-0":C}function Sl(h,C,T){var B=-1,K=B0,le=h.length,xe=!0,Ae=[],Ne=Ae;if(T)xe=!1,K=y_;else if(le>=a){var Ye=C?null:HR(h);if(Ye)return $0(Ye);xe=!1,K=tm,Ne=new Mc}else Ne=C?[]:Ae;e:for(;++B<le;){var Ke=h[B],et=C?C(Ke):Ke;if(Ke=T||Ke!==0?Ke:0,xe&&et===et){for(var dt=Ne.length;dt--;)if(Ne[dt]===et)continue e;C&&Ne.push(et),Ae.push(Ke)}else K(Ne,et,T)||(Ne!==Ae&&Ne.push(et),Ae.push(Ke))}return Ae}function G_(h,C){return C=Al(C,h),h=US(h,C),h==null||delete h[cs(fn(C))]}function hS(h,C,T,B){return dm(h,C,T(Fc(h,C)),B)}function sh(h,C,T,B){for(var K=h.length,le=B?K:-1;(B?le--:++le<K)&&C(h[le],le,h););return T?dn(h,B?0:le,B?le+1:K):dn(h,B?le+1:0,B?K:le)}function vS(h,C){var T=h;return T instanceof go&&(T=T.value()),C_(C,function(B,K){return K.func.apply(K.thisArg,xl([B],K.args))},T)}function W_(h,C,T){var B=h.length;if(B<2)return B?Sl(h[0]):[];for(var K=-1,le=qe(B);++K<B;)for(var xe=h[K],Ae=-1;++Ae<B;)Ae!=K&&(le[K]=lm(le[K]||xe,h[Ae],C,T));return Sl(Cr(le,1),C,T)}function gS(h,C,T){for(var B=-1,K=h.length,le=C.length,xe={};++B<K;){var Ae=B<le?C[B]:o;T(xe,h[B],Ae)}return xe}function X_(h){return Fa(h)?h:[]}function Y_(h){return typeof h=="function"?h:fi}function Al(h,C){return ro(h)?h:rb(h,C)?[h]:GS(Vo(h))}var FR=co;function Tl(h,C,T){var B=h.length;return T=T===o?B:T,!C&&T>=B?h:dn(h,C,T)}var _S=C6||function(h){return yr.clearTimeout(h)};function bS(h,C){if(C)return h.slice();var T=h.length,B=LE?LE(T):new h.constructor(T);return h.copy(B),B}function K_(h){var C=new h.constructor(h.byteLength);return new W0(C).set(new W0(h)),C}function RR(h,C){var T=C?K_(h.buffer):h.buffer;return new h.constructor(T,h.byteOffset,h.byteLength)}function kR(h){var C=new h.constructor(h.source,Ss.exec(h));return C.lastIndex=h.lastIndex,C}function VR(h){return nm?ea(nm.call(h)):{}}function yS(h,C){var T=C?K_(h.buffer):h.buffer;return new h.constructor(T,h.byteOffset,h.length)}function CS(h,C){if(h!==C){var T=h!==o,B=h===null,K=h===h,le=Fi(h),xe=C!==o,Ae=C===null,Ne=C===C,Ye=Fi(C);if(!Ae&&!Ye&&!le&&h>C||le&&xe&&Ne&&!Ae&&!Ye||B&&xe&&Ne||!T&&Ne||!K)return 1;if(!B&&!le&&!Ye&&h<C||Ye&&T&&K&&!B&&!le||Ae&&T&&K||!xe&&K||!Ne)return-1}return 0}function qR(h,C,T){for(var B=-1,K=h.criteria,le=C.criteria,xe=K.length,Ae=T.length;++B<xe;){var Ne=CS(K[B],le[B]);if(Ne){if(B>=Ae)return Ne;var Ye=T[B];return Ne*(Ye=="desc"?-1:1)}}return h.index-C.index}function xS(h,C,T,B){for(var K=-1,le=h.length,xe=T.length,Ae=-1,Ne=C.length,Ye=rr(le-xe,0),Ke=qe(Ne+Ye),et=!B;++Ae<Ne;)Ke[Ae]=C[Ae];for(;++K<xe;)(et||K<le)&&(Ke[T[K]]=h[K]);for(;Ye--;)Ke[Ae++]=h[K++];return Ke}function wS(h,C,T,B){for(var K=-1,le=h.length,xe=-1,Ae=T.length,Ne=-1,Ye=C.length,Ke=rr(le-Ae,0),et=qe(Ke+Ye),dt=!B;++K<Ke;)et[K]=h[K];for(var St=K;++Ne<Ye;)et[St+Ne]=C[Ne];for(;++xe<Ae;)(dt||K<le)&&(et[St+T[xe]]=h[K++]);return et}function ci(h,C){var T=-1,B=h.length;for(C||(C=qe(B));++T<B;)C[T]=h[T];return C}function ls(h,C,T,B){var K=!T;T||(T={});for(var le=-1,xe=C.length;++le<xe;){var Ae=C[le],Ne=B?B(T[Ae],h[Ae],Ae,T,h):o;Ne===o&&(Ne=h[Ae]),K?Os(T,Ae,Ne):sm(T,Ae,Ne)}return T}function BR(h,C){return ls(h,ab(h),C)}function LR(h,C){return ls(h,kS(h),C)}function lh(h,C){return function(T,B){var K=ro(T)?j5:lR,le=C?C():{};return K(T,h,qt(B,2),le)}}function ld(h){return co(function(C,T){var B=-1,K=T.length,le=K>1?T[K-1]:o,xe=K>2?T[2]:o;for(le=h.length>3&&typeof le=="function"?(K--,le):o,xe&&Xr(T[0],T[1],xe)&&(le=K<3?o:le,K=1),C=ea(C);++B<K;){var Ae=T[B];Ae&&h(C,Ae,B,le)}return C})}function IS(h,C){return function(T,B){if(T==null)return T;if(!ui(T))return h(T,B);for(var K=T.length,le=C?K:-1,xe=ea(T);(C?le--:++le<K)&&B(xe[le],le,xe)!==!1;);return T}}function ES(h){return function(C,T,B){for(var K=-1,le=ea(C),xe=B(C),Ae=xe.length;Ae--;){var Ne=xe[h?Ae:++K];if(T(le[Ne],Ne,le)===!1)break}return C}}function $R(h,C,T){var B=C&b,K=fm(h);function le(){var xe=this&&this!==yr&&this instanceof le?K:h;return xe.apply(B?T:this,arguments)}return le}function SS(h){return function(C){C=Vo(C);var T=td(C)?Nn(C):o,B=T?T[0]:C.charAt(0),K=T?Tl(T,1).join(""):C.slice(1);return B[h]()+K}}function cd(h){return function(C){return C_(IA(wA(C).replace(P5,"")),h,"")}}function fm(h){return function(){var C=arguments;switch(C.length){case 0:return new h;case 1:return new h(C[0]);case 2:return new h(C[0],C[1]);case 3:return new h(C[0],C[1],C[2]);case 4:return new h(C[0],C[1],C[2],C[3]);case 5:return new h(C[0],C[1],C[2],C[3],C[4]);case 6:return new h(C[0],C[1],C[2],C[3],C[4],C[5]);case 7:return new h(C[0],C[1],C[2],C[3],C[4],C[5],C[6])}var T=sd(h.prototype),B=h.apply(T,C);return wa(B)?B:T}}function UR(h,C,T){var B=fm(h);function K(){for(var le=arguments.length,xe=qe(le),Ae=le,Ne=ud(K);Ae--;)xe[Ae]=arguments[Ae];var Ye=le<3&&xe[0]!==Ne&&xe[le-1]!==Ne?[]:wl(xe,Ne);if(le-=Ye.length,le<T)return PS(h,C,ch,K.placeholder,o,xe,Ye,o,o,T-le);var Ke=this&&this!==yr&&this instanceof K?B:h;return Pi(Ke,this,xe)}return K}function AS(h){return function(C,T,B){var K=ea(C);if(!ui(C)){var le=qt(T,3);C=fr(C),T=function(Ae){return le(K[Ae],Ae,K)}}var xe=h(C,T,B);return xe>-1?K[le?C[xe]:xe]:o}}function TS(h){return Ps(function(C){var T=C.length,B=T,K=cn.prototype.thru;for(h&&C.reverse();B--;){var le=C[B];if(typeof le!="function")throw new ln(n);if(K&&!xe&&mh(le)=="wrapper")var xe=new cn([],!0)}for(B=xe?B:T;++B<T;){le=C[B];var Ae=mh(le),Ne=Ae=="wrapper"?tb(le):o;Ne&&ib(Ne[0])&&Ne[1]==(F|y|S|M)&&!Ne[4].length&&Ne[9]==1?xe=xe[mh(Ne[0])].apply(xe,Ne[3]):xe=le.length==1&&ib(le)?xe[Ae]():xe.thru(le)}return function(){var Ye=arguments,Ke=Ye[0];if(xe&&Ye.length==1&&ro(Ke))return xe.plant(Ke).value();for(var et=0,dt=T?C[et].apply(this,Ye):Ke;++et<T;)dt=C[et].call(this,dt);return dt}})}function ch(h,C,T,B,K,le,xe,Ae,Ne,Ye){var Ke=C&F,et=C&b,dt=C&x,St=C&(y|I),$t=C&E,lo=dt?o:fm(h);function Ut(){for(var fo=arguments.length,Co=qe(fo),Ri=fo;Ri--;)Co[Ri]=arguments[Ri];if(St)var Yr=ud(Ut),ki=e6(Co,Yr);if(B&&(Co=xS(Co,B,K,St)),le&&(Co=wS(Co,le,xe,St)),fo-=ki,St&&fo<Ye){var Ra=wl(Co,Yr);return PS(h,C,ch,Ut.placeholder,T,Co,Ra,Ae,Ne,Ye-fo)}var kn=et?T:this,Rs=dt?kn[h]:h;return fo=Co.length,Ae?Co=lk(Co,Ae):$t&&fo>1&&Co.reverse(),Ke&&Ne<fo&&(Co.length=Ne),this&&this!==yr&&this instanceof Ut&&(Rs=lo||fm(Rs)),Rs.apply(kn,Co)}return Ut}function OS(h,C){return function(T,B){return vR(T,h,C(B),{})}}function uh(h,C){return function(T,B){var K;if(T===o&&B===o)return C;if(T!==o&&(K=T),B!==o){if(K===o)return B;typeof T=="string"||typeof B=="string"?(T=Ni(T),B=Ni(B)):(T=pS(T),B=pS(B)),K=h(T,B)}return K}}function Q_(h){return Ps(function(C){return C=va(C,Mi(qt())),co(function(T){var B=this;return h(C,function(K){return Pi(K,B,T)})})})}function dh(h,C){C=C===o?" ":Ni(C);var T=C.length;if(T<2)return T?H_(C,h):C;var B=H_(C,Q0(h/od(C)));return td(C)?Tl(Nn(B),0,h).join(""):B.slice(0,h)}function zR(h,C,T,B){var K=C&b,le=fm(h);function xe(){for(var Ae=-1,Ne=arguments.length,Ye=-1,Ke=B.length,et=qe(Ke+Ne),dt=this&&this!==yr&&this instanceof xe?le:h;++Ye<Ke;)et[Ye]=B[Ye];for(;Ne--;)et[Ye++]=arguments[++Ae];return Pi(dt,K?T:this,et)}return xe}function DS(h){return function(C,T,B){return B&&typeof B!="number"&&Xr(C,T,B)&&(T=B=o),C=Fs(C),T===o?(T=C,C=0):T=Fs(T),B=B===o?C<T?1:-1:Fs(B),TR(C,T,B,h)}}function fh(h){return function(C,T){return typeof C=="string"&&typeof T=="string"||(C=mn(C),T=mn(T)),h(C,T)}}function PS(h,C,T,B,K,le,xe,Ae,Ne,Ye){var Ke=C&y,et=Ke?xe:o,dt=Ke?o:xe,St=Ke?le:o,$t=Ke?o:le;C|=Ke?S:O,C&=~(Ke?O:S),C&_||(C&=~(b|x));var lo=[h,C,K,St,et,$t,dt,Ae,Ne,Ye],Ut=T.apply(o,lo);return ib(h)&&zS(Ut,lo),Ut.placeholder=B,HS(Ut,h,C)}function J_(h){var C=ar[h];return function(T,B){if(T=mn(T),B=B==null?0:Nr(no(B),292),B&&HE(T)){var K=(Vo(T)+"e").split("e"),le=C(K[0]+"e"+(+K[1]+B));return K=(Vo(le)+"e").split("e"),+(K[0]+"e"+(+K[1]-B))}return C(T)}}var HR=id&&1/$0(new id([,-0]))[1]==Q?function(h){return new id(h)}:yb;function MS(h){return function(C){var T=Fr(C);return T==ie?T_(C):T==oe?s6(C):Z5(C,h(C))}}function Ds(h,C,T,B,K,le,xe,Ae){var Ne=C&x;if(!Ne&&typeof h!="function")throw new ln(n);var Ye=B?B.length:0;if(Ye||(C&=~(S|O),B=K=o),xe=xe===o?xe:rr(no(xe),0),Ae=Ae===o?Ae:no(Ae),Ye-=K?K.length:0,C&O){var Ke=B,et=K;B=K=o}var dt=Ne?o:tb(h),St=[h,C,T,B,K,Ke,et,le,xe,Ae];if(dt&&ik(St,dt),h=St[0],C=St[1],T=St[2],B=St[3],K=St[4],Ae=St[9]=St[9]===o?Ne?0:h.length:rr(St[9]-Ye,0),!Ae&&C&(y|I)&&(C&=~(y|I)),!C||C==b)var $t=$R(h,C,T);else C==y||C==I?$t=UR(h,C,Ae):(C==S||C==(b|S))&&!K.length?$t=zR(h,C,T,B):$t=ch.apply(o,St);var lo=dt?fS:zS;return HS(lo($t,St),h,C)}function NS(h,C,T,B){return h===o||Rn(h,rd[T])&&!Lo.call(B,T)?C:h}function FS(h,C,T,B,K,le){return wa(h)&&wa(C)&&(le.set(C,h),ih(h,C,o,FS,le),le.delete(C)),h}function jR(h){return hm(h)?o:h}function RS(h,C,T,B,K,le){var xe=T&p,Ae=h.length,Ne=C.length;if(Ae!=Ne&&!(xe&&Ne>Ae))return!1;var Ye=le.get(h),Ke=le.get(C);if(Ye&&Ke)return Ye==C&&Ke==h;var et=-1,dt=!0,St=T&g?new Mc:o;for(le.set(h,C),le.set(C,h);++et<Ae;){var $t=h[et],lo=C[et];if(B)var Ut=xe?B(lo,$t,et,C,h,le):B($t,lo,et,h,C,le);if(Ut!==o){if(Ut)continue;dt=!1;break}if(St){if(!x_(C,function(fo,Co){if(!tm(St,Co)&&($t===fo||K($t,fo,T,B,le)))return St.push(Co)})){dt=!1;break}}else if(!($t===lo||K($t,lo,T,B,le))){dt=!1;break}}return le.delete(h),le.delete(C),dt}function GR(h,C,T,B,K,le,xe){switch(T){case It:if(h.byteLength!=C.byteLength||h.byteOffset!=C.byteOffset)return!1;h=h.buffer,C=C.buffer;case ot:return!(h.byteLength!=C.byteLength||!le(new W0(h),new W0(C)));case Me:case fe:case we:return Rn(+h,+C);case V:return h.name==C.name&&h.message==C.message;case ne:case Ce:return h==C+"";case ie:var Ae=T_;case oe:var Ne=B&p;if(Ae||(Ae=$0),h.size!=C.size&&!Ne)return!1;var Ye=xe.get(h);if(Ye)return Ye==C;B|=g,xe.set(h,C);var Ke=RS(Ae(h),Ae(C),B,K,le,xe);return xe.delete(h),Ke;case ve:if(nm)return nm.call(h)==nm.call(C)}return!1}function WR(h,C,T,B,K,le){var xe=T&p,Ae=Z_(h),Ne=Ae.length,Ye=Z_(C),Ke=Ye.length;if(Ne!=Ke&&!xe)return!1;for(var et=Ne;et--;){var dt=Ae[et];if(!(xe?dt in C:Lo.call(C,dt)))return!1}var St=le.get(h),$t=le.get(C);if(St&&$t)return St==C&&$t==h;var lo=!0;le.set(h,C),le.set(C,h);for(var Ut=xe;++et<Ne;){dt=Ae[et];var fo=h[dt],Co=C[dt];if(B)var Ri=xe?B(Co,fo,dt,C,h,le):B(fo,Co,dt,h,C,le);if(!(Ri===o?fo===Co||K(fo,Co,T,B,le):Ri)){lo=!1;break}Ut||(Ut=dt=="constructor")}if(lo&&!Ut){var Yr=h.constructor,ki=C.constructor;Yr!=ki&&"constructor"in h&&"constructor"in C&&!(typeof Yr=="function"&&Yr instanceof Yr&&typeof ki=="function"&&ki instanceof ki)&&(lo=!1)}return le.delete(h),le.delete(C),lo}function Ps(h){return sb($S(h,o,KS),h+"")}function Z_(h){return tS(h,fr,ab)}function eb(h){return tS(h,di,kS)}var tb=Z0?function(h){return Z0.get(h)}:yb;function mh(h){for(var C=h.name+"",T=nd[C],B=Lo.call(nd,C)?T.length:0;B--;){var K=T[B],le=K.func;if(le==null||le==h)return K.name}return C}function ud(h){var C=Lo.call(ae,"placeholder")?ae:h;return C.placeholder}function qt(){var h=ae.iteratee||_b;return h=h===_b?rS:h,arguments.length?h(arguments[0],arguments[1]):h}function ph(h,C){var T=h.__data__;return tk(C)?T[typeof C=="string"?"string":"hash"]:T.map}function ob(h){for(var C=fr(h),T=C.length;T--;){var B=C[T],K=h[B];C[T]=[B,K,BS(K)]}return C}function Rc(h,C){var T=r6(h,C);return aS(T)?T:o}function XR(h){var C=Lo.call(h,Dc),T=h[Dc];try{h[Dc]=o;var B=!0}catch{}var K=j0.call(h);return B&&(C?h[Dc]=T:delete h[Dc]),K}var ab=D_?function(h){return h==null?[]:(h=ea(h),Cl(D_(h),function(C){return UE.call(h,C)}))}:Cb,kS=D_?function(h){for(var C=[];h;)xl(C,ab(h)),h=X0(h);return C}:Cb,Fr=Wr;(P_&&Fr(new P_(new ArrayBuffer(1)))!=It||am&&Fr(new am)!=ie||M_&&Fr(M_.resolve())!=k||id&&Fr(new id)!=oe||rm&&Fr(new rm)!=Le)&&(Fr=function(h){var C=Wr(h),T=C==q?h.constructor:o,B=T?kc(T):"";if(B)switch(B){case D6:return It;case P6:return ie;case M6:return k;case N6:return oe;case F6:return Le}return C});function YR(h,C,T){for(var B=-1,K=T.length;++B<K;){var le=T[B],xe=le.size;switch(le.type){case"drop":h+=xe;break;case"dropRight":C-=xe;break;case"take":C=Nr(C,h+xe);break;case"takeRight":h=rr(h,C-xe);break}}return{start:h,end:C}}function KR(h){var C=h.match(Zf);return C?C[1].split(u_):[]}function VS(h,C,T){C=Al(C,h);for(var B=-1,K=C.length,le=!1;++B<K;){var xe=cs(C[B]);if(!(le=h!=null&&T(h,xe)))break;h=h[xe]}return le||++B!=K?le:(K=h==null?0:h.length,!!K&&Ch(K)&&Ms(xe,K)&&(ro(h)||Vc(h)))}function QR(h){var C=h.length,T=new h.constructor(C);return C&&typeof h[0]=="string"&&Lo.call(h,"index")&&(T.index=h.index,T.input=h.input),T}function qS(h){return typeof h.constructor=="function"&&!mm(h)?sd(X0(h)):{}}function JR(h,C,T){var B=h.constructor;switch(C){case ot:return K_(h);case Me:case fe:return new B(+h);case It:return RR(h,T);case Zt:case vo:case Go:case Ta:case Ze:case xt:case Lt:case ao:case ko:return yS(h,T);case ie:return new B;case we:case Ce:return new B(h);case ne:return kR(h);case oe:return new B;case ve:return VR(h)}}function ZR(h,C){var T=C.length;if(!T)return h;var B=T-1;return C[B]=(T>1?"& ":"")+C[B],C=C.join(T>2?", ":" "),h.replace(_l,`{
/* [wrapped with `+C+`] */
`)}function ek(h){return ro(h)||Vc(h)||!!(zE&&h&&h[zE])}function Ms(h,C){var T=typeof h;return C=C==null?se:C,!!C&&(T=="number"||T!="symbol"&&k0.test(h))&&h>-1&&h%1==0&&h<C}function Xr(h,C,T){if(!wa(T))return!1;var B=typeof C;return(B=="number"?ui(T)&&Ms(C,T.length):B=="string"&&C in T)?Rn(T[C],h):!1}function rb(h,C){if(ro(h))return!1;var T=typeof h;return T=="number"||T=="symbol"||T=="boolean"||h==null||Fi(h)?!0:eo.test(h)||!Xt.test(h)||C!=null&&h in ea(C)}function tk(h){var C=typeof h;return C=="string"||C=="number"||C=="symbol"||C=="boolean"?h!=="__proto__":h===null}function ib(h){var C=mh(h),T=ae[C];if(typeof T!="function"||!(C in go.prototype))return!1;if(h===T)return!0;var B=tb(T);return!!B&&h===B[0]}function ok(h){return!!BE&&BE in h}var ak=z0?Ns:xb;function mm(h){var C=h&&h.constructor,T=typeof C=="function"&&C.prototype||rd;return h===T}function BS(h){return h===h&&!wa(h)}function LS(h,C){return function(T){return T==null?!1:T[h]===C&&(C!==o||h in ea(T))}}function rk(h){var C=bh(h,function(B){return T.size===u&&T.clear(),B}),T=C.cache;return C}function ik(h,C){var T=h[1],B=C[1],K=T|B,le=K<(b|x|F),xe=B==F&&T==y||B==F&&T==M&&h[7].length<=C[8]||B==(F|M)&&C[7].length<=C[8]&&T==y;if(!(le||xe))return h;B&b&&(h[2]=C[2],K|=T&b?0:_);var Ae=C[3];if(Ae){var Ne=h[3];h[3]=Ne?xS(Ne,Ae,C[4]):Ae,h[4]=Ne?wl(h[3],c):C[4]}return Ae=C[5],Ae&&(Ne=h[5],h[5]=Ne?wS(Ne,Ae,C[6]):Ae,h[6]=Ne?wl(h[5],c):C[6]),Ae=C[7],Ae&&(h[7]=Ae),B&F&&(h[8]=h[8]==null?C[8]:Nr(h[8],C[8])),h[9]==null&&(h[9]=C[9]),h[0]=C[0],h[1]=K,h}function nk(h){var C=[];if(h!=null)for(var T in ea(h))C.push(T);return C}function sk(h){return j0.call(h)}function $S(h,C,T){return C=rr(C===o?h.length-1:C,0),function(){for(var B=arguments,K=-1,le=rr(B.length-C,0),xe=qe(le);++K<le;)xe[K]=B[C+K];K=-1;for(var Ae=qe(C+1);++K<C;)Ae[K]=B[K];return Ae[C]=T(xe),Pi(h,this,Ae)}}function US(h,C){return C.length<2?h:Fc(h,dn(C,0,-1))}function lk(h,C){for(var T=h.length,B=Nr(C.length,T),K=ci(h);B--;){var le=C[B];h[B]=Ms(le,T)?K[le]:o}return h}function nb(h,C){if(!(C==="constructor"&&typeof h[C]=="function")&&C!="__proto__")return h[C]}var zS=jS(fS),pm=w6||function(h,C){return yr.setTimeout(h,C)},sb=jS(PR);function HS(h,C,T){var B=C+"";return sb(h,ZR(B,ck(KR(B),T)))}function jS(h){var C=0,T=0;return function(){var B=A6(),K=R-(B-T);if(T=B,K>0){if(++C>=N)return arguments[0]}else C=0;return h.apply(o,arguments)}}function hh(h,C){var T=-1,B=h.length,K=B-1;for(C=C===o?B:C;++T<C;){var le=z_(T,K),xe=h[le];h[le]=h[T],h[T]=xe}return h.length=C,h}var GS=rk(function(h){var C=[];return h.charCodeAt(0)===46&&C.push(""),h.replace(ia,function(T,B,K,le){C.push(K?le.replace(yl,"$1"):B||T)}),C});function cs(h){if(typeof h=="string"||Fi(h))return h;var C=h+"";return C=="0"&&1/h==-Q?"-0":C}function kc(h){if(h!=null){try{return H0.call(h)}catch{}try{return h+""}catch{}}return""}function ck(h,C){return sn(ge,function(T){var B="_."+T[0];C&T[1]&&!B0(h,B)&&h.push(B)}),h.sort()}function WS(h){if(h instanceof go)return h.clone();var C=new cn(h.__wrapped__,h.__chain__);return C.__actions__=ci(h.__actions__),C.__index__=h.__index__,C.__values__=h.__values__,C}function uk(h,C,T){(T?Xr(h,C,T):C===o)?C=1:C=rr(no(C),0);var B=h==null?0:h.length;if(!B||C<1)return[];for(var K=0,le=0,xe=qe(Q0(B/C));K<B;)xe[le++]=dn(h,K,K+=C);return xe}function dk(h){for(var C=-1,T=h==null?0:h.length,B=0,K=[];++C<T;){var le=h[C];le&&(K[B++]=le)}return K}function fk(){var h=arguments.length;if(!h)return[];for(var C=qe(h-1),T=arguments[0],B=h;B--;)C[B-1]=arguments[B];return xl(ro(T)?ci(T):[T],Cr(C,1))}var mk=co(function(h,C){return Fa(h)?lm(h,Cr(C,1,Fa,!0)):[]}),pk=co(function(h,C){var T=fn(C);return Fa(T)&&(T=o),Fa(h)?lm(h,Cr(C,1,Fa,!0),qt(T,2)):[]}),hk=co(function(h,C){var T=fn(C);return Fa(T)&&(T=o),Fa(h)?lm(h,Cr(C,1,Fa,!0),o,T):[]});function vk(h,C,T){var B=h==null?0:h.length;return B?(C=T||C===o?1:no(C),dn(h,C<0?0:C,B)):[]}function gk(h,C,T){var B=h==null?0:h.length;return B?(C=T||C===o?1:no(C),C=B-C,dn(h,0,C<0?0:C)):[]}function _k(h,C){return h&&h.length?sh(h,qt(C,3),!0,!0):[]}function bk(h,C){return h&&h.length?sh(h,qt(C,3),!0):[]}function yk(h,C,T,B){var K=h==null?0:h.length;return K?(T&&typeof T!="number"&&Xr(h,C,T)&&(T=0,B=K),fR(h,C,T,B)):[]}function XS(h,C,T){var B=h==null?0:h.length;if(!B)return-1;var K=T==null?0:no(T);return K<0&&(K=rr(B+K,0)),L0(h,qt(C,3),K)}function YS(h,C,T){var B=h==null?0:h.length;if(!B)return-1;var K=B-1;return T!==o&&(K=no(T),K=T<0?rr(B+K,0):Nr(K,B-1)),L0(h,qt(C,3),K,!0)}function KS(h){var C=h==null?0:h.length;return C?Cr(h,1):[]}function Ck(h){var C=h==null?0:h.length;return C?Cr(h,Q):[]}function xk(h,C){var T=h==null?0:h.length;return T?(C=C===o?1:no(C),Cr(h,C)):[]}function wk(h){for(var C=-1,T=h==null?0:h.length,B={};++C<T;){var K=h[C];B[K[0]]=K[1]}return B}function QS(h){return h&&h.length?h[0]:o}function Ik(h,C,T){var B=h==null?0:h.length;if(!B)return-1;var K=T==null?0:no(T);return K<0&&(K=rr(B+K,0)),ed(h,C,K)}function Ek(h){var C=h==null?0:h.length;return C?dn(h,0,-1):[]}var Sk=co(function(h){var C=va(h,X_);return C.length&&C[0]===h[0]?q_(C):[]}),Ak=co(function(h){var C=fn(h),T=va(h,X_);return C===fn(T)?C=o:T.pop(),T.length&&T[0]===h[0]?q_(T,qt(C,2)):[]}),Tk=co(function(h){var C=fn(h),T=va(h,X_);return C=typeof C=="function"?C:o,C&&T.pop(),T.length&&T[0]===h[0]?q_(T,o,C):[]});function Ok(h,C){return h==null?"":E6.call(h,C)}function fn(h){var C=h==null?0:h.length;return C?h[C-1]:o}function Dk(h,C,T){var B=h==null?0:h.length;if(!B)return-1;var K=B;return T!==o&&(K=no(T),K=K<0?rr(B+K,0):Nr(K,B-1)),C===C?c6(h,C,K):L0(h,PE,K,!0)}function Pk(h,C){return h&&h.length?lS(h,no(C)):o}var Mk=co(JS);function JS(h,C){return h&&h.length&&C&&C.length?U_(h,C):h}function Nk(h,C,T){return h&&h.length&&C&&C.length?U_(h,C,qt(T,2)):h}function Fk(h,C,T){return h&&h.length&&C&&C.length?U_(h,C,o,T):h}var Rk=Ps(function(h,C){var T=h==null?0:h.length,B=F_(h,C);return dS(h,va(C,function(K){return Ms(K,T)?+K:K}).sort(CS)),B});function kk(h,C){var T=[];if(!(h&&h.length))return T;var B=-1,K=[],le=h.length;for(C=qt(C,3);++B<le;){var xe=h[B];C(xe,B,h)&&(T.push(xe),K.push(B))}return dS(h,K),T}function lb(h){return h==null?h:O6.call(h)}function Vk(h,C,T){var B=h==null?0:h.length;return B?(T&&typeof T!="number"&&Xr(h,C,T)?(C=0,T=B):(C=C==null?0:no(C),T=T===o?B:no(T)),dn(h,C,T)):[]}function qk(h,C){return nh(h,C)}function Bk(h,C,T){return j_(h,C,qt(T,2))}function Lk(h,C){var T=h==null?0:h.length;if(T){var B=nh(h,C);if(B<T&&Rn(h[B],C))return B}return-1}function $k(h,C){return nh(h,C,!0)}function Uk(h,C,T){return j_(h,C,qt(T,2),!0)}function zk(h,C){var T=h==null?0:h.length;if(T){var B=nh(h,C,!0)-1;if(Rn(h[B],C))return B}return-1}function Hk(h){return h&&h.length?mS(h):[]}function jk(h,C){return h&&h.length?mS(h,qt(C,2)):[]}function Gk(h){var C=h==null?0:h.length;return C?dn(h,1,C):[]}function Wk(h,C,T){return h&&h.length?(C=T||C===o?1:no(C),dn(h,0,C<0?0:C)):[]}function Xk(h,C,T){var B=h==null?0:h.length;return B?(C=T||C===o?1:no(C),C=B-C,dn(h,C<0?0:C,B)):[]}function Yk(h,C){return h&&h.length?sh(h,qt(C,3),!1,!0):[]}function Kk(h,C){return h&&h.length?sh(h,qt(C,3)):[]}var Qk=co(function(h){return Sl(Cr(h,1,Fa,!0))}),Jk=co(function(h){var C=fn(h);return Fa(C)&&(C=o),Sl(Cr(h,1,Fa,!0),qt(C,2))}),Zk=co(function(h){var C=fn(h);return C=typeof C=="function"?C:o,Sl(Cr(h,1,Fa,!0),o,C)});function eV(h){return h&&h.length?Sl(h):[]}function tV(h,C){return h&&h.length?Sl(h,qt(C,2)):[]}function oV(h,C){return C=typeof C=="function"?C:o,h&&h.length?Sl(h,o,C):[]}function cb(h){if(!(h&&h.length))return[];var C=0;return h=Cl(h,function(T){if(Fa(T))return C=rr(T.length,C),!0}),S_(C,function(T){return va(h,w_(T))})}function ZS(h,C){if(!(h&&h.length))return[];var T=cb(h);return C==null?T:va(T,function(B){return Pi(C,o,B)})}var aV=co(function(h,C){return Fa(h)?lm(h,C):[]}),rV=co(function(h){return W_(Cl(h,Fa))}),iV=co(function(h){var C=fn(h);return Fa(C)&&(C=o),W_(Cl(h,Fa),qt(C,2))}),nV=co(function(h){var C=fn(h);return C=typeof C=="function"?C:o,W_(Cl(h,Fa),o,C)}),sV=co(cb);function lV(h,C){return gS(h||[],C||[],sm)}function cV(h,C){return gS(h||[],C||[],dm)}var uV=co(function(h){var C=h.length,T=C>1?h[C-1]:o;return T=typeof T=="function"?(h.pop(),T):o,ZS(h,T)});function eA(h){var C=ae(h);return C.__chain__=!0,C}function dV(h,C){return C(h),h}function vh(h,C){return C(h)}var fV=Ps(function(h){var C=h.length,T=C?h[0]:0,B=this.__wrapped__,K=function(le){return F_(le,h)};return C>1||this.__actions__.length||!(B instanceof go)||!Ms(T)?this.thru(K):(B=B.slice(T,+T+(C?1:0)),B.__actions__.push({func:vh,args:[K],thisArg:o}),new cn(B,this.__chain__).thru(function(le){return C&&!le.length&&le.push(o),le}))});function mV(){return eA(this)}function pV(){return new cn(this.value(),this.__chain__)}function hV(){this.__values__===o&&(this.__values__=pA(this.value()));var h=this.__index__>=this.__values__.length,C=h?o:this.__values__[this.__index__++];return{done:h,value:C}}function vV(){return this}function gV(h){for(var C,T=this;T instanceof th;){var B=WS(T);B.__index__=0,B.__values__=o,C?K.__wrapped__=B:C=B;var K=B;T=T.__wrapped__}return K.__wrapped__=h,C}function _V(){var h=this.__wrapped__;if(h instanceof go){var C=h;return this.__actions__.length&&(C=new go(this)),C=C.reverse(),C.__actions__.push({func:vh,args:[lb],thisArg:o}),new cn(C,this.__chain__)}return this.thru(lb)}function bV(){return vS(this.__wrapped__,this.__actions__)}var yV=lh(function(h,C,T){Lo.call(h,T)?++h[T]:Os(h,T,1)});function CV(h,C,T){var B=ro(h)?OE:dR;return T&&Xr(h,C,T)&&(C=o),B(h,qt(C,3))}function xV(h,C){var T=ro(h)?Cl:ZE;return T(h,qt(C,3))}var wV=AS(XS),IV=AS(YS);function EV(h,C){return Cr(gh(h,C),1)}function SV(h,C){return Cr(gh(h,C),Q)}function AV(h,C,T){return T=T===o?1:no(T),Cr(gh(h,C),T)}function tA(h,C){var T=ro(h)?sn:El;return T(h,qt(C,3))}function oA(h,C){var T=ro(h)?G5:JE;return T(h,qt(C,3))}var TV=lh(function(h,C,T){Lo.call(h,T)?h[T].push(C):Os(h,T,[C])});function OV(h,C,T,B){h=ui(h)?h:fd(h),T=T&&!B?no(T):0;var K=h.length;return T<0&&(T=rr(K+T,0)),xh(h)?T<=K&&h.indexOf(C,T)>-1:!!K&&ed(h,C,T)>-1}var DV=co(function(h,C,T){var B=-1,K=typeof C=="function",le=ui(h)?qe(h.length):[];return El(h,function(xe){le[++B]=K?Pi(C,xe,T):cm(xe,C,T)}),le}),PV=lh(function(h,C,T){Os(h,T,C)});function gh(h,C){var T=ro(h)?va:iS;return T(h,qt(C,3))}function MV(h,C,T,B){return h==null?[]:(ro(C)||(C=C==null?[]:[C]),T=B?o:T,ro(T)||(T=T==null?[]:[T]),cS(h,C,T))}var NV=lh(function(h,C,T){h[T?0:1].push(C)},function(){return[[],[]]});function FV(h,C,T){var B=ro(h)?C_:NE,K=arguments.length<3;return B(h,qt(C,4),T,K,El)}function RV(h,C,T){var B=ro(h)?W5:NE,K=arguments.length<3;return B(h,qt(C,4),T,K,JE)}function kV(h,C){var T=ro(h)?Cl:ZE;return T(h,yh(qt(C,3)))}function VV(h){var C=ro(h)?XE:OR;return C(h)}function qV(h,C,T){(T?Xr(h,C,T):C===o)?C=1:C=no(C);var B=ro(h)?nR:DR;return B(h,C)}function BV(h){var C=ro(h)?sR:MR;return C(h)}function LV(h){if(h==null)return 0;if(ui(h))return xh(h)?od(h):h.length;var C=Fr(h);return C==ie||C==oe?h.size:L_(h).length}function $V(h,C,T){var B=ro(h)?x_:NR;return T&&Xr(h,C,T)&&(C=o),B(h,qt(C,3))}var UV=co(function(h,C){if(h==null)return[];var T=C.length;return T>1&&Xr(h,C[0],C[1])?C=[]:T>2&&Xr(C[0],C[1],C[2])&&(C=[C[0]]),cS(h,Cr(C,1),[])}),_h=x6||function(){return yr.Date.now()};function zV(h,C){if(typeof C!="function")throw new ln(n);return h=no(h),function(){if(--h<1)return C.apply(this,arguments)}}function aA(h,C,T){return C=T?o:C,C=h&&C==null?h.length:C,Ds(h,F,o,o,o,o,C)}function rA(h,C){var T;if(typeof C!="function")throw new ln(n);return h=no(h),function(){return--h>0&&(T=C.apply(this,arguments)),h<=1&&(C=o),T}}var ub=co(function(h,C,T){var B=b;if(T.length){var K=wl(T,ud(ub));B|=S}return Ds(h,B,C,T,K)}),iA=co(function(h,C,T){var B=b|x;if(T.length){var K=wl(T,ud(iA));B|=S}return Ds(C,B,h,T,K)});function nA(h,C,T){C=T?o:C;var B=Ds(h,y,o,o,o,o,o,C);return B.placeholder=nA.placeholder,B}function sA(h,C,T){C=T?o:C;var B=Ds(h,I,o,o,o,o,o,C);return B.placeholder=sA.placeholder,B}function lA(h,C,T){var B,K,le,xe,Ae,Ne,Ye=0,Ke=!1,et=!1,dt=!0;if(typeof h!="function")throw new ln(n);C=mn(C)||0,wa(T)&&(Ke=!!T.leading,et="maxWait"in T,le=et?rr(mn(T.maxWait)||0,C):le,dt="trailing"in T?!!T.trailing:dt);function St(Ra){var kn=B,Rs=K;return B=K=o,Ye=Ra,xe=h.apply(Rs,kn),xe}function $t(Ra){return Ye=Ra,Ae=pm(fo,C),Ke?St(Ra):xe}function lo(Ra){var kn=Ra-Ne,Rs=Ra-Ye,AA=C-kn;return et?Nr(AA,le-Rs):AA}function Ut(Ra){var kn=Ra-Ne,Rs=Ra-Ye;return Ne===o||kn>=C||kn<0||et&&Rs>=le}function fo(){var Ra=_h();if(Ut(Ra))return Co(Ra);Ae=pm(fo,lo(Ra))}function Co(Ra){return Ae=o,dt&&B?St(Ra):(B=K=o,xe)}function Ri(){Ae!==o&&_S(Ae),Ye=0,B=Ne=K=Ae=o}function Yr(){return Ae===o?xe:Co(_h())}function ki(){var Ra=_h(),kn=Ut(Ra);if(B=arguments,K=this,Ne=Ra,kn){if(Ae===o)return $t(Ne);if(et)return _S(Ae),Ae=pm(fo,C),St(Ne)}return Ae===o&&(Ae=pm(fo,C)),xe}return ki.cancel=Ri,ki.flush=Yr,ki}var HV=co(function(h,C){return QE(h,1,C)}),jV=co(function(h,C,T){return QE(h,mn(C)||0,T)});function GV(h){return Ds(h,E)}function bh(h,C){if(typeof h!="function"||C!=null&&typeof C!="function")throw new ln(n);var T=function(){var B=arguments,K=C?C.apply(this,B):B[0],le=T.cache;if(le.has(K))return le.get(K);var xe=h.apply(this,B);return T.cache=le.set(K,xe)||le,xe};return T.cache=new(bh.Cache||Ts),T}bh.Cache=Ts;function yh(h){if(typeof h!="function")throw new ln(n);return function(){var C=arguments;switch(C.length){case 0:return!h.call(this);case 1:return!h.call(this,C[0]);case 2:return!h.call(this,C[0],C[1]);case 3:return!h.call(this,C[0],C[1],C[2])}return!h.apply(this,C)}}function WV(h){return rA(2,h)}var XV=FR(function(h,C){C=C.length==1&&ro(C[0])?va(C[0],Mi(qt())):va(Cr(C,1),Mi(qt()));var T=C.length;return co(function(B){for(var K=-1,le=Nr(B.length,T);++K<le;)B[K]=C[K].call(this,B[K]);return Pi(h,this,B)})}),db=co(function(h,C){var T=wl(C,ud(db));return Ds(h,S,o,C,T)}),cA=co(function(h,C){var T=wl(C,ud(cA));return Ds(h,O,o,C,T)}),YV=Ps(function(h,C){return Ds(h,M,o,o,o,C)});function KV(h,C){if(typeof h!="function")throw new ln(n);return C=C===o?C:no(C),co(h,C)}function QV(h,C){if(typeof h!="function")throw new ln(n);return C=C==null?0:rr(no(C),0),co(function(T){var B=T[C],K=Tl(T,0,C);return B&&xl(K,B),Pi(h,this,K)})}function JV(h,C,T){var B=!0,K=!0;if(typeof h!="function")throw new ln(n);return wa(T)&&(B="leading"in T?!!T.leading:B,K="trailing"in T?!!T.trailing:K),lA(h,C,{leading:B,maxWait:C,trailing:K})}function ZV(h){return aA(h,1)}function e7(h,C){return db(Y_(C),h)}function t7(){if(!arguments.length)return[];var h=arguments[0];return ro(h)?h:[h]}function o7(h){return un(h,f)}function a7(h,C){return C=typeof C=="function"?C:o,un(h,f,C)}function r7(h){return un(h,d|f)}function i7(h,C){return C=typeof C=="function"?C:o,un(h,d|f,C)}function n7(h,C){return C==null||KE(h,C,fr(C))}function Rn(h,C){return h===C||h!==h&&C!==C}var s7=fh(V_),l7=fh(function(h,C){return h>=C}),Vc=oS(function(){return arguments}())?oS:function(h){return Oa(h)&&Lo.call(h,"callee")&&!UE.call(h,"callee")},ro=qe.isArray,c7=wE?Mi(wE):gR;function ui(h){return h!=null&&Ch(h.length)&&!Ns(h)}function Fa(h){return Oa(h)&&ui(h)}function u7(h){return h===!0||h===!1||Oa(h)&&Wr(h)==Me}var Ol=I6||xb,d7=IE?Mi(IE):_R;function f7(h){return Oa(h)&&h.nodeType===1&&!hm(h)}function m7(h){if(h==null)return!0;if(ui(h)&&(ro(h)||typeof h=="string"||typeof h.splice=="function"||Ol(h)||dd(h)||Vc(h)))return!h.length;var C=Fr(h);if(C==ie||C==oe)return!h.size;if(mm(h))return!L_(h).length;for(var T in h)if(Lo.call(h,T))return!1;return!0}function p7(h,C){return um(h,C)}function h7(h,C,T){T=typeof T=="function"?T:o;var B=T?T(h,C):o;return B===o?um(h,C,o,T):!!B}function fb(h){if(!Oa(h))return!1;var C=Wr(h);return C==V||C==G||typeof h.message=="string"&&typeof h.name=="string"&&!hm(h)}function v7(h){return typeof h=="number"&&HE(h)}function Ns(h){if(!wa(h))return!1;var C=Wr(h);return C==L||C==U||C==he||C==Y}function uA(h){return typeof h=="number"&&h==no(h)}function Ch(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=se}function wa(h){var C=typeof h;return h!=null&&(C=="object"||C=="function")}function Oa(h){return h!=null&&typeof h=="object"}var dA=EE?Mi(EE):yR;function g7(h,C){return h===C||B_(h,C,ob(C))}function _7(h,C,T){return T=typeof T=="function"?T:o,B_(h,C,ob(C),T)}function b7(h){return fA(h)&&h!=+h}function y7(h){if(ak(h))throw new to(i);return aS(h)}function C7(h){return h===null}function x7(h){return h==null}function fA(h){return typeof h=="number"||Oa(h)&&Wr(h)==we}function hm(h){if(!Oa(h)||Wr(h)!=q)return!1;var C=X0(h);if(C===null)return!0;var T=Lo.call(C,"constructor")&&C.constructor;return typeof T=="function"&&T instanceof T&&H0.call(T)==_6}var mb=SE?Mi(SE):CR;function w7(h){return uA(h)&&h>=-se&&h<=se}var mA=AE?Mi(AE):xR;function xh(h){return typeof h=="string"||!ro(h)&&Oa(h)&&Wr(h)==Ce}function Fi(h){return typeof h=="symbol"||Oa(h)&&Wr(h)==ve}var dd=TE?Mi(TE):wR;function I7(h){return h===o}function E7(h){return Oa(h)&&Fr(h)==Le}function S7(h){return Oa(h)&&Wr(h)==tt}var A7=fh($_),T7=fh(function(h,C){return h<=C});function pA(h){if(!h)return[];if(ui(h))return xh(h)?Nn(h):ci(h);if(om&&h[om])return n6(h[om]());var C=Fr(h),T=C==ie?T_:C==oe?$0:fd;return T(h)}function Fs(h){if(!h)return h===0?h:0;if(h=mn(h),h===Q||h===-Q){var C=h<0?-1:1;return C*_e}return h===h?h:0}function no(h){var C=Fs(h),T=C%1;return C===C?T?C-T:C:0}function hA(h){return h?Nc(no(h),0,J):0}function mn(h){if(typeof h=="number")return h;if(Fi(h))return Ee;if(wa(h)){var C=typeof h.valueOf=="function"?h.valueOf():h;h=wa(C)?C+"":C}if(typeof h!="string")return h===0?h:+h;h=FE(h);var T=f_.test(h);return T||R0.test(h)?z5(h.slice(2),T?2:8):em.test(h)?Ee:+h}function vA(h){return ls(h,di(h))}function O7(h){return h?Nc(no(h),-se,se):h===0?h:0}function Vo(h){return h==null?"":Ni(h)}var D7=ld(function(h,C){if(mm(C)||ui(C)){ls(C,fr(C),h);return}for(var T in C)Lo.call(C,T)&&sm(h,T,C[T])}),gA=ld(function(h,C){ls(C,di(C),h)}),wh=ld(function(h,C,T,B){ls(C,di(C),h,B)}),P7=ld(function(h,C,T,B){ls(C,fr(C),h,B)}),M7=Ps(F_);function N7(h,C){var T=sd(h);return C==null?T:YE(T,C)}var F7=co(function(h,C){h=ea(h);var T=-1,B=C.length,K=B>2?C[2]:o;for(K&&Xr(C[0],C[1],K)&&(B=1);++T<B;)for(var le=C[T],xe=di(le),Ae=-1,Ne=xe.length;++Ae<Ne;){var Ye=xe[Ae],Ke=h[Ye];(Ke===o||Rn(Ke,rd[Ye])&&!Lo.call(h,Ye))&&(h[Ye]=le[Ye])}return h}),R7=co(function(h){return h.push(o,FS),Pi(_A,o,h)});function k7(h,C){return DE(h,qt(C,3),ss)}function V7(h,C){return DE(h,qt(C,3),k_)}function q7(h,C){return h==null?h:R_(h,qt(C,3),di)}function B7(h,C){return h==null?h:eS(h,qt(C,3),di)}function L7(h,C){return h&&ss(h,qt(C,3))}function $7(h,C){return h&&k_(h,qt(C,3))}function U7(h){return h==null?[]:rh(h,fr(h))}function z7(h){return h==null?[]:rh(h,di(h))}function pb(h,C,T){var B=h==null?o:Fc(h,C);return B===o?T:B}function H7(h,C){return h!=null&&VS(h,C,mR)}function hb(h,C){return h!=null&&VS(h,C,pR)}var j7=OS(function(h,C,T){C!=null&&typeof C.toString!="function"&&(C=j0.call(C)),h[C]=T},gb(fi)),G7=OS(function(h,C,T){C!=null&&typeof C.toString!="function"&&(C=j0.call(C)),Lo.call(h,C)?h[C].push(T):h[C]=[T]},qt),W7=co(cm);function fr(h){return ui(h)?WE(h):L_(h)}function di(h){return ui(h)?WE(h,!0):IR(h)}function X7(h,C){var T={};return C=qt(C,3),ss(h,function(B,K,le){Os(T,C(B,K,le),B)}),T}function Y7(h,C){var T={};return C=qt(C,3),ss(h,function(B,K,le){Os(T,K,C(B,K,le))}),T}var K7=ld(function(h,C,T){ih(h,C,T)}),_A=ld(function(h,C,T,B){ih(h,C,T,B)}),Q7=Ps(function(h,C){var T={};if(h==null)return T;var B=!1;C=va(C,function(le){return le=Al(le,h),B||(B=le.length>1),le}),ls(h,eb(h),T),B&&(T=un(T,d|m|f,jR));for(var K=C.length;K--;)G_(T,C[K]);return T});function J7(h,C){return bA(h,yh(qt(C)))}var Z7=Ps(function(h,C){return h==null?{}:SR(h,C)});function bA(h,C){if(h==null)return{};var T=va(eb(h),function(B){return[B]});return C=qt(C),uS(h,T,function(B,K){return C(B,K[0])})}function eq(h,C,T){C=Al(C,h);var B=-1,K=C.length;for(K||(K=1,h=o);++B<K;){var le=h==null?o:h[cs(C[B])];le===o&&(B=K,le=T),h=Ns(le)?le.call(h):le}return h}function tq(h,C,T){return h==null?h:dm(h,C,T)}function oq(h,C,T,B){return B=typeof B=="function"?B:o,h==null?h:dm(h,C,T,B)}var yA=MS(fr),CA=MS(di);function aq(h,C,T){var B=ro(h),K=B||Ol(h)||dd(h);if(C=qt(C,4),T==null){var le=h&&h.constructor;K?T=B?new le:[]:wa(h)?T=Ns(le)?sd(X0(h)):{}:T={}}return(K?sn:ss)(h,function(xe,Ae,Ne){return C(T,xe,Ae,Ne)}),T}function rq(h,C){return h==null?!0:G_(h,C)}function iq(h,C,T){return h==null?h:hS(h,C,Y_(T))}function nq(h,C,T,B){return B=typeof B=="function"?B:o,h==null?h:hS(h,C,Y_(T),B)}function fd(h){return h==null?[]:A_(h,fr(h))}function sq(h){return h==null?[]:A_(h,di(h))}function lq(h,C,T){return T===o&&(T=C,C=o),T!==o&&(T=mn(T),T=T===T?T:0),C!==o&&(C=mn(C),C=C===C?C:0),Nc(mn(h),C,T)}function cq(h,C,T){return C=Fs(C),T===o?(T=C,C=0):T=Fs(T),h=mn(h),hR(h,C,T)}function uq(h,C,T){if(T&&typeof T!="boolean"&&Xr(h,C,T)&&(C=T=o),T===o&&(typeof C=="boolean"?(T=C,C=o):typeof h=="boolean"&&(T=h,h=o)),h===o&&C===o?(h=0,C=1):(h=Fs(h),C===o?(C=h,h=0):C=Fs(C)),h>C){var B=h;h=C,C=B}if(T||h%1||C%1){var K=jE();return Nr(h+K*(C-h+U5("1e-"+((K+"").length-1))),C)}return z_(h,C)}var dq=cd(function(h,C,T){return C=C.toLowerCase(),h+(T?xA(C):C)});function xA(h){return vb(Vo(h).toLowerCase())}function wA(h){return h=Vo(h),h&&h.replace(V0,t6).replace(M5,"")}function fq(h,C,T){h=Vo(h),C=Ni(C);var B=h.length;T=T===o?B:Nc(no(T),0,B);var K=T;return T-=C.length,T>=0&&h.slice(T,K)==C}function mq(h){return h=Vo(h),h&&Qu.test(h)?h.replace(Ku,o6):h}function pq(h){return h=Vo(h),h&&Di.test(h)?h.replace(Wo,"\\$&"):h}var hq=cd(function(h,C,T){return h+(T?"-":"")+C.toLowerCase()}),vq=cd(function(h,C,T){return h+(T?" ":"")+C.toLowerCase()}),gq=SS("toLowerCase");function _q(h,C,T){h=Vo(h),C=no(C);var B=C?od(h):0;if(!C||B>=C)return h;var K=(C-B)/2;return dh(J0(K),T)+h+dh(Q0(K),T)}function bq(h,C,T){h=Vo(h),C=no(C);var B=C?od(h):0;return C&&B<C?h+dh(C-B,T):h}function yq(h,C,T){h=Vo(h),C=no(C);var B=C?od(h):0;return C&&B<C?dh(C-B,T)+h:h}function Cq(h,C,T){return T||C==null?C=0:C&&(C=+C),T6(Vo(h).replace(Ua,""),C||0)}function xq(h,C,T){return(T?Xr(h,C,T):C===o)?C=1:C=no(C),H_(Vo(h),C)}function wq(){var h=arguments,C=Vo(h[0]);return h.length<3?C:C.replace(h[1],h[2])}var Iq=cd(function(h,C,T){return h+(T?"_":"")+C.toLowerCase()});function Eq(h,C,T){return T&&typeof T!="number"&&Xr(h,C,T)&&(C=T=o),T=T===o?J:T>>>0,T?(h=Vo(h),h&&(typeof C=="string"||C!=null&&!mb(C))&&(C=Ni(C),!C&&td(h))?Tl(Nn(h),0,T):h.split(C,T)):[]}var Sq=cd(function(h,C,T){return h+(T?" ":"")+vb(C)});function Aq(h,C,T){return h=Vo(h),T=T==null?0:Nc(no(T),0,h.length),C=Ni(C),h.slice(T,T+C.length)==C}function Tq(h,C,T){var B=ae.templateSettings;T&&Xr(h,C,T)&&(C=o),h=Vo(h),C=wh({},C,B,NS);var K=wh({},C.imports,B.imports,NS),le=fr(K),xe=A_(K,le),Ae,Ne,Ye=0,Ke=C.interpolate||Se,et="__p += '",dt=O_((C.escape||Se).source+"|"+Ke.source+"|"+(Ke===Vt?Es:Se).source+"|"+(C.evaluate||Se).source+"|$","g"),St="//# sourceURL="+(Lo.call(C,"sourceURL")?(C.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++V5+"]")+`
`;h.replace(dt,function(Ut,fo,Co,Ri,Yr,ki){return Co||(Co=Ri),et+=h.slice(Ye,ki).replace(mt,a6),fo&&(Ae=!0,et+=`' +
__e(`+fo+`) +
'`),Yr&&(Ne=!0,et+=`';
`+Yr+`;
__p += '`),Co&&(et+=`' +
((__t = (`+Co+`)) == null ? '' : __t) +
'`),Ye=ki+Ut.length,Ut}),et+=`';
`;var $t=Lo.call(C,"variable")&&C.variable;if(!$t)et=`with (obj) {
`+et+`
}
`;else if(bl.test($t))throw new to(s);et=(Ne?et.replace(Mr,""):et).replace(Oi,"$1").replace(ns,"$1;"),et="function("+($t||"obj")+`) {
`+($t?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ae?", __e = _.escape":"")+(Ne?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var lo=EA(function(){return No(le,St+"return "+et).apply(o,xe)});if(lo.source=et,fb(lo))throw lo;return lo}function Oq(h){return Vo(h).toLowerCase()}function Dq(h){return Vo(h).toUpperCase()}function Pq(h,C,T){if(h=Vo(h),h&&(T||C===o))return FE(h);if(!h||!(C=Ni(C)))return h;var B=Nn(h),K=Nn(C),le=RE(B,K),xe=kE(B,K)+1;return Tl(B,le,xe).join("")}function Mq(h,C,T){if(h=Vo(h),h&&(T||C===o))return h.slice(0,qE(h)+1);if(!h||!(C=Ni(C)))return h;var B=Nn(h),K=kE(B,Nn(C))+1;return Tl(B,0,K).join("")}function Nq(h,C,T){if(h=Vo(h),h&&(T||C===o))return h.replace(Ua,"");if(!h||!(C=Ni(C)))return h;var B=Nn(h),K=RE(B,Nn(C));return Tl(B,K).join("")}function Fq(h,C){var T=D,B=P;if(wa(C)){var K="separator"in C?C.separator:K;T="length"in C?no(C.length):T,B="omission"in C?Ni(C.omission):B}h=Vo(h);var le=h.length;if(td(h)){var xe=Nn(h);le=xe.length}if(T>=le)return h;var Ae=T-od(B);if(Ae<1)return B;var Ne=xe?Tl(xe,0,Ae).join(""):h.slice(0,Ae);if(K===o)return Ne+B;if(xe&&(Ae+=Ne.length-Ae),mb(K)){if(h.slice(Ae).search(K)){var Ye,Ke=Ne;for(K.global||(K=O_(K.source,Vo(Ss.exec(K))+"g")),K.lastIndex=0;Ye=K.exec(Ke);)var et=Ye.index;Ne=Ne.slice(0,et===o?Ae:et)}}else if(h.indexOf(Ni(K),Ae)!=Ae){var dt=Ne.lastIndexOf(K);dt>-1&&(Ne=Ne.slice(0,dt))}return Ne+B}function Rq(h){return h=Vo(h),h&&Jf.test(h)?h.replace(Tc,u6):h}var kq=cd(function(h,C,T){return h+(T?" ":"")+C.toUpperCase()}),vb=SS("toUpperCase");function IA(h,C,T){return h=Vo(h),C=T?o:C,C===o?i6(h)?m6(h):K5(h):h.match(C)||[]}var EA=co(function(h,C){try{return Pi(h,o,C)}catch(T){return fb(T)?T:new to(T)}}),Vq=Ps(function(h,C){return sn(C,function(T){T=cs(T),Os(h,T,ub(h[T],h))}),h});function qq(h){var C=h==null?0:h.length,T=qt();return h=C?va(h,function(B){if(typeof B[1]!="function")throw new ln(n);return[T(B[0]),B[1]]}):[],co(function(B){for(var K=-1;++K<C;){var le=h[K];if(Pi(le[0],this,B))return Pi(le[1],this,B)}})}function Bq(h){return uR(un(h,d))}function gb(h){return function(){return h}}function Lq(h,C){return h==null||h!==h?C:h}var Uq=TS(),zq=TS(!0);function fi(h){return h}function _b(h){return rS(typeof h=="function"?h:un(h,d))}function Hq(h){return nS(un(h,d))}function jq(h,C){return sS(h,un(C,d))}var Gq=co(function(h,C){return function(T){return cm(T,h,C)}}),Wq=co(function(h,C){return function(T){return cm(h,T,C)}});function bb(h,C,T){var B=fr(C),K=rh(C,B);T==null&&!(wa(C)&&(K.length||!B.length))&&(T=C,C=h,h=this,K=rh(C,fr(C)));var le=!(wa(T)&&"chain"in T)||!!T.chain,xe=Ns(h);return sn(K,function(Ae){var Ne=C[Ae];h[Ae]=Ne,xe&&(h.prototype[Ae]=function(){var Ye=this.__chain__;if(le||Ye){var Ke=h(this.__wrapped__),et=Ke.__actions__=ci(this.__actions__);return et.push({func:Ne,args:arguments,thisArg:h}),Ke.__chain__=Ye,Ke}return Ne.apply(h,xl([this.value()],arguments))})}),h}function Xq(){return yr._===this&&(yr._=b6),this}function yb(){}function Yq(h){return h=no(h),co(function(C){return lS(C,h)})}var Kq=Q_(va),Qq=Q_(OE),Jq=Q_(x_);function SA(h){return rb(h)?w_(cs(h)):AR(h)}function Zq(h){return function(C){return h==null?o:Fc(h,C)}}var eB=DS(),tB=DS(!0);function Cb(){return[]}function xb(){return!1}function oB(){return{}}function aB(){return""}function rB(){return!0}function iB(h,C){if(h=no(h),h<1||h>se)return[];var T=J,B=Nr(h,J);C=qt(C),h-=J;for(var K=S_(B,C);++T<h;)C(T);return K}function nB(h){return ro(h)?va(h,cs):Fi(h)?[h]:ci(GS(Vo(h)))}function sB(h){var C=++g6;return Vo(h)+C}var lB=uh(function(h,C){return h+C},0),cB=J_("ceil"),uB=uh(function(h,C){return h/C},1),dB=J_("floor");function fB(h){return h&&h.length?ah(h,fi,V_):o}function mB(h,C){return h&&h.length?ah(h,qt(C,2),V_):o}function pB(h){return ME(h,fi)}function hB(h,C){return ME(h,qt(C,2))}function vB(h){return h&&h.length?ah(h,fi,$_):o}function gB(h,C){return h&&h.length?ah(h,qt(C,2),$_):o}var _B=uh(function(h,C){return h*C},1),bB=J_("round"),yB=uh(function(h,C){return h-C},0);function CB(h){return h&&h.length?E_(h,fi):0}function xB(h,C){return h&&h.length?E_(h,qt(C,2)):0}return ae.after=zV,ae.ary=aA,ae.assign=D7,ae.assignIn=gA,ae.assignInWith=wh,ae.assignWith=P7,ae.at=M7,ae.before=rA,ae.bind=ub,ae.bindAll=Vq,ae.bindKey=iA,ae.castArray=t7,ae.chain=eA,ae.chunk=uk,ae.compact=dk,ae.concat=fk,ae.cond=qq,ae.conforms=Bq,ae.constant=gb,ae.countBy=yV,ae.create=N7,ae.curry=nA,ae.curryRight=sA,ae.debounce=lA,ae.defaults=F7,ae.defaultsDeep=R7,ae.defer=HV,ae.delay=jV,ae.difference=mk,ae.differenceBy=pk,ae.differenceWith=hk,ae.drop=vk,ae.dropRight=gk,ae.dropRightWhile=_k,ae.dropWhile=bk,ae.fill=yk,ae.filter=xV,ae.flatMap=EV,ae.flatMapDeep=SV,ae.flatMapDepth=AV,ae.flatten=KS,ae.flattenDeep=Ck,ae.flattenDepth=xk,ae.flip=GV,ae.flow=Uq,ae.flowRight=zq,ae.fromPairs=wk,ae.functions=U7,ae.functionsIn=z7,ae.groupBy=TV,ae.initial=Ek,ae.intersection=Sk,ae.intersectionBy=Ak,ae.intersectionWith=Tk,ae.invert=j7,ae.invertBy=G7,ae.invokeMap=DV,ae.iteratee=_b,ae.keyBy=PV,ae.keys=fr,ae.keysIn=di,ae.map=gh,ae.mapKeys=X7,ae.mapValues=Y7,ae.matches=Hq,ae.matchesProperty=jq,ae.memoize=bh,ae.merge=K7,ae.mergeWith=_A,ae.method=Gq,ae.methodOf=Wq,ae.mixin=bb,ae.negate=yh,ae.nthArg=Yq,ae.omit=Q7,ae.omitBy=J7,ae.once=WV,ae.orderBy=MV,ae.over=Kq,ae.overArgs=XV,ae.overEvery=Qq,ae.overSome=Jq,ae.partial=db,ae.partialRight=cA,ae.partition=NV,ae.pick=Z7,ae.pickBy=bA,ae.property=SA,ae.propertyOf=Zq,ae.pull=Mk,ae.pullAll=JS,ae.pullAllBy=Nk,ae.pullAllWith=Fk,ae.pullAt=Rk,ae.range=eB,ae.rangeRight=tB,ae.rearg=YV,ae.reject=kV,ae.remove=kk,ae.rest=KV,ae.reverse=lb,ae.sampleSize=qV,ae.set=tq,ae.setWith=oq,ae.shuffle=BV,ae.slice=Vk,ae.sortBy=UV,ae.sortedUniq=Hk,ae.sortedUniqBy=jk,ae.split=Eq,ae.spread=QV,ae.tail=Gk,ae.take=Wk,ae.takeRight=Xk,ae.takeRightWhile=Yk,ae.takeWhile=Kk,ae.tap=dV,ae.throttle=JV,ae.thru=vh,ae.toArray=pA,ae.toPairs=yA,ae.toPairsIn=CA,ae.toPath=nB,ae.toPlainObject=vA,ae.transform=aq,ae.unary=ZV,ae.union=Qk,ae.unionBy=Jk,ae.unionWith=Zk,ae.uniq=eV,ae.uniqBy=tV,ae.uniqWith=oV,ae.unset=rq,ae.unzip=cb,ae.unzipWith=ZS,ae.update=iq,ae.updateWith=nq,ae.values=fd,ae.valuesIn=sq,ae.without=aV,ae.words=IA,ae.wrap=e7,ae.xor=rV,ae.xorBy=iV,ae.xorWith=nV,ae.zip=sV,ae.zipObject=lV,ae.zipObjectDeep=cV,ae.zipWith=uV,ae.entries=yA,ae.entriesIn=CA,ae.extend=gA,ae.extendWith=wh,bb(ae,ae),ae.add=lB,ae.attempt=EA,ae.camelCase=dq,ae.capitalize=xA,ae.ceil=cB,ae.clamp=lq,ae.clone=o7,ae.cloneDeep=r7,ae.cloneDeepWith=i7,ae.cloneWith=a7,ae.conformsTo=n7,ae.deburr=wA,ae.defaultTo=Lq,ae.divide=uB,ae.endsWith=fq,ae.eq=Rn,ae.escape=mq,ae.escapeRegExp=pq,ae.every=CV,ae.find=wV,ae.findIndex=XS,ae.findKey=k7,ae.findLast=IV,ae.findLastIndex=YS,ae.findLastKey=V7,ae.floor=dB,ae.forEach=tA,ae.forEachRight=oA,ae.forIn=q7,ae.forInRight=B7,ae.forOwn=L7,ae.forOwnRight=$7,ae.get=pb,ae.gt=s7,ae.gte=l7,ae.has=H7,ae.hasIn=hb,ae.head=QS,ae.identity=fi,ae.includes=OV,ae.indexOf=Ik,ae.inRange=cq,ae.invoke=W7,ae.isArguments=Vc,ae.isArray=ro,ae.isArrayBuffer=c7,ae.isArrayLike=ui,ae.isArrayLikeObject=Fa,ae.isBoolean=u7,ae.isBuffer=Ol,ae.isDate=d7,ae.isElement=f7,ae.isEmpty=m7,ae.isEqual=p7,ae.isEqualWith=h7,ae.isError=fb,ae.isFinite=v7,ae.isFunction=Ns,ae.isInteger=uA,ae.isLength=Ch,ae.isMap=dA,ae.isMatch=g7,ae.isMatchWith=_7,ae.isNaN=b7,ae.isNative=y7,ae.isNil=x7,ae.isNull=C7,ae.isNumber=fA,ae.isObject=wa,ae.isObjectLike=Oa,ae.isPlainObject=hm,ae.isRegExp=mb,ae.isSafeInteger=w7,ae.isSet=mA,ae.isString=xh,ae.isSymbol=Fi,ae.isTypedArray=dd,ae.isUndefined=I7,ae.isWeakMap=E7,ae.isWeakSet=S7,ae.join=Ok,ae.kebabCase=hq,ae.last=fn,ae.lastIndexOf=Dk,ae.lowerCase=vq,ae.lowerFirst=gq,ae.lt=A7,ae.lte=T7,ae.max=fB,ae.maxBy=mB,ae.mean=pB,ae.meanBy=hB,ae.min=vB,ae.minBy=gB,ae.stubArray=Cb,ae.stubFalse=xb,ae.stubObject=oB,ae.stubString=aB,ae.stubTrue=rB,ae.multiply=_B,ae.nth=Pk,ae.noConflict=Xq,ae.noop=yb,ae.now=_h,ae.pad=_q,ae.padEnd=bq,ae.padStart=yq,ae.parseInt=Cq,ae.random=uq,ae.reduce=FV,ae.reduceRight=RV,ae.repeat=xq,ae.replace=wq,ae.result=eq,ae.round=bB,ae.runInContext=Pe,ae.sample=VV,ae.size=LV,ae.snakeCase=Iq,ae.some=$V,ae.sortedIndex=qk,ae.sortedIndexBy=Bk,ae.sortedIndexOf=Lk,ae.sortedLastIndex=$k,ae.sortedLastIndexBy=Uk,ae.sortedLastIndexOf=zk,ae.startCase=Sq,ae.startsWith=Aq,ae.subtract=yB,ae.sum=CB,ae.sumBy=xB,ae.template=Tq,ae.times=iB,ae.toFinite=Fs,ae.toInteger=no,ae.toLength=hA,ae.toLower=Oq,ae.toNumber=mn,ae.toSafeInteger=O7,ae.toString=Vo,ae.toUpper=Dq,ae.trim=Pq,ae.trimEnd=Mq,ae.trimStart=Nq,ae.truncate=Fq,ae.unescape=Rq,ae.uniqueId=sB,ae.upperCase=kq,ae.upperFirst=vb,ae.each=tA,ae.eachRight=oA,ae.first=QS,bb(ae,function(){var h={};return ss(ae,function(C,T){Lo.call(ae.prototype,T)||(h[T]=C)}),h}(),{chain:!1}),ae.VERSION=r,sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){ae[h].placeholder=ae}),sn(["drop","take"],function(h,C){go.prototype[h]=function(T){T=T===o?1:rr(no(T),0);var B=this.__filtered__&&!C?new go(this):this.clone();return B.__filtered__?B.__takeCount__=Nr(T,B.__takeCount__):B.__views__.push({size:Nr(T,J),type:h+(B.__dir__<0?"Right":"")}),B},go.prototype[h+"Right"]=function(T){return this.reverse()[h](T).reverse()}}),sn(["filter","map","takeWhile"],function(h,C){var T=C+1,B=T==z||T==j;go.prototype[h]=function(K){var le=this.clone();return le.__iteratees__.push({iteratee:qt(K,3),type:T}),le.__filtered__=le.__filtered__||B,le}}),sn(["head","last"],function(h,C){var T="take"+(C?"Right":"");go.prototype[h]=function(){return this[T](1).value()[0]}}),sn(["initial","tail"],function(h,C){var T="drop"+(C?"":"Right");go.prototype[h]=function(){return this.__filtered__?new go(this):this[T](1)}}),go.prototype.compact=function(){return this.filter(fi)},go.prototype.find=function(h){return this.filter(h).head()},go.prototype.findLast=function(h){return this.reverse().find(h)},go.prototype.invokeMap=co(function(h,C){return typeof h=="function"?new go(this):this.map(function(T){return cm(T,h,C)})}),go.prototype.reject=function(h){return this.filter(yh(qt(h)))},go.prototype.slice=function(h,C){h=no(h);var T=this;return T.__filtered__&&(h>0||C<0)?new go(T):(h<0?T=T.takeRight(-h):h&&(T=T.drop(h)),C!==o&&(C=no(C),T=C<0?T.dropRight(-C):T.take(C-h)),T)},go.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},go.prototype.toArray=function(){return this.take(J)},ss(go.prototype,function(h,C){var T=/^(?:filter|find|map|reject)|While$/.test(C),B=/^(?:head|last)$/.test(C),K=ae[B?"take"+(C=="last"?"Right":""):C],le=B||/^find/.test(C);!K||(ae.prototype[C]=function(){var xe=this.__wrapped__,Ae=B?[1]:arguments,Ne=xe instanceof go,Ye=Ae[0],Ke=Ne||ro(xe),et=function(fo){var Co=K.apply(ae,xl([fo],Ae));return B&&dt?Co[0]:Co};Ke&&T&&typeof Ye=="function"&&Ye.length!=1&&(Ne=Ke=!1);var dt=this.__chain__,St=!!this.__actions__.length,$t=le&&!dt,lo=Ne&&!St;if(!le&&Ke){xe=lo?xe:new go(this);var Ut=h.apply(xe,Ae);return Ut.__actions__.push({func:vh,args:[et],thisArg:o}),new cn(Ut,dt)}return $t&&lo?h.apply(this,Ae):(Ut=this.thru(et),$t?B?Ut.value()[0]:Ut.value():Ut)})}),sn(["pop","push","shift","sort","splice","unshift"],function(h){var C=U0[h],T=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",B=/^(?:pop|shift)$/.test(h);ae.prototype[h]=function(){var K=arguments;if(B&&!this.__chain__){var le=this.value();return C.apply(ro(le)?le:[],K)}return this[T](function(xe){return C.apply(ro(xe)?xe:[],K)})}}),ss(go.prototype,function(h,C){var T=ae[C];if(T){var B=T.name+"";Lo.call(nd,B)||(nd[B]=[]),nd[B].push({name:C,func:T})}}),nd[ch(o,x).name]=[{name:"wrapper",func:o}],go.prototype.clone=R6,go.prototype.reverse=k6,go.prototype.value=V6,ae.prototype.at=fV,ae.prototype.chain=mV,ae.prototype.commit=pV,ae.prototype.next=hV,ae.prototype.plant=gV,ae.prototype.reverse=_V,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=bV,ae.prototype.first=ae.prototype.head,om&&(ae.prototype[om]=vV),ae},ad=p6();Oc?((Oc.exports=ad)._=ad,__._=ad):yr._=ad}).call(Ht)})(ca,ca.exports);var vd=ca.exports;async function kd(e,t){t.id=Ft(),await Z()[e].add(t),await Je("adicionar",e,t.id,t)}const ej=function(e,t){return e.reduce(function(o,r){return(o[r[t]]=o[r[t]]||[]).push(r),o},{})};function tj(e){if(!e)throw new Error("\xC9 necess\xE1rio fornecer um endere\xE7o.");const t=e.toLowerCase();let o="link";const r={facebook:["facebook.com","fb.com","fb.me"],instagram:["instagram.com","instagr.am"],linkedin:["linkedin.com"],pinterest:["pinterest.com"],tumblr:["tumblr.com"],twitter:["twitter.com"],vimeo:["vimeo.com"],youtube:["youtube.com","youtu.be"]};try{e=new URL(t)||{};for(const a in r)if(r[a].find(n=>e.hostname.includes(n))){o=a;break}return{link:t,tipo:o}}catch{throw new Error("Insira um endere\xE7o v\xE1lido.")}}function Wa(e=0,t=2){const o=e<0?-1:1;return o*$lodash.round(o*e,t)}function oj(e){if(e>0&&e<=.05)return .05;if(e>.05&&e<=.1)return .1;if(e>.1&&e<=.25)return .25;if(e>.25&&e<=.5)return .5;if(e>.5&&e<=1)return 1}function aj(e=0,t=0,o=2){if(!Number.isFinite(e))throw new Error("First argument is not a valid number");if(!Number.isFinite(t))throw new Error("Second argument is not a valid number");if(!Number.isInteger(o))throw new Error("Third argument is not an integer");if(!t)return e;let r,a;return t=oj(t),e=Wa(e,o),r=Math.trunc(e),a=Wa(e-r,o),Wa(r+t*Math.floor(a/t),o)}function rj(e){if(e>0&&e<=.01)return .01;if(e>.01&&e<=.05)return .05;if(e>.05&&e<=.1)return .1;if(e>.1&&e<=.25)return .25;if(e>.25&&e<=.5)return .5;if(e>.5&&e<=1)return 1}function Oy(e=0,t=0,o=2){if(!Number.isFinite(e))throw new Error("First argument is not a valid number");if(!Number.isFinite(t))throw new Error("Second argument is not a valid number");if(!Number.isInteger(o))throw new Error("Third argument is not an integer");if(!t)return e;let r,a;return t=rj(t),e=Wa(e,o),r=Math.trunc(e),a=Wa(e-r,o),Wa(r+t*Math.ceil(a/t),o)}var ij=["ColorMix","Demo_Ricardo","Diamond","DisfiBA","ElisPedreira","GeeksWeb","Matesto4x4SP","MesquitaMaquinas","PGNegociosSP","Presence","x_carlos_bb"];const nj={"-":"+",_:"/"},sj={"+":"-","/":"_","=":""};var lj={decodeFromUrl(e){return e.replace(/[-_.]/g,t=>nj[t]),e=e+"===".slice((e.length+3)%4),atob(e)},decode(e){return atob(e)},encode(e){return btoa(e)},encodeToUrl(e){return e=btoa(e),e.replace(/[+/=]/g,t=>sj[t])}};function cj(e){return new Promise(t=>{const o=new FileReader;o.onloadend=()=>t(o.result),o.readAsDataURL(e)})}var Px={exports:{}},v9=function(t,o){return function(){for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];return t.apply(o,a)}},uj=v9,Hu=Object.prototype.toString;function Mx(e){return Hu.call(e)==="[object Array]"}function Dy(e){return typeof e=="undefined"}function dj(e){return e!==null&&!Dy(e)&&e.constructor!==null&&!Dy(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function fj(e){return Hu.call(e)==="[object ArrayBuffer]"}function mj(e){return typeof FormData!="undefined"&&e instanceof FormData}function pj(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function hj(e){return typeof e=="string"}function vj(e){return typeof e=="number"}function g9(e){return e!==null&&typeof e=="object"}function T1(e){if(Hu.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function gj(e){return Hu.call(e)==="[object Date]"}function _j(e){return Hu.call(e)==="[object File]"}function bj(e){return Hu.call(e)==="[object Blob]"}function _9(e){return Hu.call(e)==="[object Function]"}function yj(e){return g9(e)&&_9(e.pipe)}function Cj(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function xj(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function wj(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Nx(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),Mx(e))for(var o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function Py(){var e={};function t(a,i){T1(e[i])&&T1(a)?e[i]=Py(e[i],a):T1(a)?e[i]=Py({},a):Mx(a)?e[i]=a.slice():e[i]=a}for(var o=0,r=arguments.length;o<r;o++)Nx(arguments[o],t);return e}function Ij(e,t,o){return Nx(t,function(a,i){o&&typeof a=="function"?e[i]=uj(a,o):e[i]=a}),e}function Ej(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var on={isArray:Mx,isArrayBuffer:fj,isBuffer:dj,isFormData:mj,isArrayBufferView:pj,isString:hj,isNumber:vj,isObject:g9,isPlainObject:T1,isUndefined:Dy,isDate:gj,isFile:_j,isBlob:bj,isFunction:_9,isStream:yj,isURLSearchParams:Cj,isStandardBrowserEnv:wj,forEach:Nx,merge:Py,extend:Ij,trim:xj,stripBOM:Ej},gd=on;function LT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var b9=function(t,o,r){if(!o)return t;var a;if(r)a=r(o);else if(gd.isURLSearchParams(o))a=o.toString();else{var i=[];gd.forEach(o,function(l,u){l===null||typeof l=="undefined"||(gd.isArray(l)?u=u+"[]":l=[l],gd.forEach(l,function(d){gd.isDate(d)?d=d.toISOString():gd.isObject(d)&&(d=JSON.stringify(d)),i.push(LT(u)+"="+LT(d))}))}),a=i.join("&")}if(a){var n=t.indexOf("#");n!==-1&&(t=t.slice(0,n)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},Sj=on;function vg(){this.handlers=[]}vg.prototype.use=function(t,o,r){return this.handlers.push({fulfilled:t,rejected:o,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};vg.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};vg.prototype.forEach=function(t){Sj.forEach(this.handlers,function(r){r!==null&&t(r)})};var Aj=vg,Tj=on,Oj=function(t,o){Tj.forEach(t,function(a,i){i!==o&&i.toUpperCase()===o.toUpperCase()&&(t[o]=a,delete t[i])})},y9=function(t,o,r,a,i){return t.config=o,r&&(t.code=r),t.request=a,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},Dj=y9,C9=function(t,o,r,a,i){var n=new Error(t);return Dj(n,o,r,a,i)},Pj=C9,Mj=function(t,o,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):o(Pj("Request failed with status code "+r.status,r.config,null,r.request,r))},zh=on,Nj=zh.isStandardBrowserEnv()?function(){return{write:function(o,r,a,i,n,s){var l=[];l.push(o+"="+encodeURIComponent(r)),zh.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),zh.isString(i)&&l.push("path="+i),zh.isString(n)&&l.push("domain="+n),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(o){var r=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Fj=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},Rj=function(t,o){return o?t.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):t},kj=Fj,Vj=Rj,qj=function(t,o){return t&&!kj(o)?Vj(t,o):o},Lb=on,Bj=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Lj=function(t){var o={},r,a,i;return t&&Lb.forEach(t.split(`
`),function(s){if(i=s.indexOf(":"),r=Lb.trim(s.substr(0,i)).toLowerCase(),a=Lb.trim(s.substr(i+1)),r){if(o[r]&&Bj.indexOf(r)>=0)return;r==="set-cookie"?o[r]=(o[r]?o[r]:[]).concat([a]):o[r]=o[r]?o[r]+", "+a:a}}),o},$T=on,$j=$T.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),r;function a(i){var n=i;return t&&(o.setAttribute("href",n),n=o.href),o.setAttribute("href",n),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(n){var s=$T.isString(n)?a(n):n;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}(),Hh=on,Uj=Mj,zj=Nj,Hj=b9,jj=qj,Gj=Lj,Wj=$j,$b=C9,UT=function(t){return new Promise(function(r,a){var i=t.data,n=t.headers,s=t.responseType;Hh.isFormData(i)&&delete n["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",c=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";n.Authorization="Basic "+btoa(u+":"+c)}var d=jj(t.baseURL,t.url);l.open(t.method.toUpperCase(),Hj(d,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function m(){if(!!l){var p="getAllResponseHeaders"in l?Gj(l.getAllResponseHeaders()):null,g=!s||s==="text"||s==="json"?l.responseText:l.response,b={data:g,status:l.status,statusText:l.statusText,headers:p,config:t,request:l};Uj(r,a,b),l=null}}if("onloadend"in l?l.onloadend=m:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(m)},l.onabort=function(){!l||(a($b("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){a($b("Network Error",t,null,l)),l=null},l.ontimeout=function(){var g="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),a($b(g,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},Hh.isStandardBrowserEnv()){var f=(t.withCredentials||Wj(d))&&t.xsrfCookieName?zj.read(t.xsrfCookieName):void 0;f&&(n[t.xsrfHeaderName]=f)}"setRequestHeader"in l&&Hh.forEach(n,function(g,b){typeof i=="undefined"&&b.toLowerCase()==="content-type"?delete n[b]:l.setRequestHeader(b,g)}),Hh.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&s!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(g){!l||(l.abort(),a(g),l=null)}),i||(i=null),l.send(i)})},Er=on,zT=Oj,Xj=y9,Yj={"Content-Type":"application/x-www-form-urlencoded"};function HT(e,t){!Er.isUndefined(e)&&Er.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Kj(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=UT),e}function Qj(e,t,o){if(Er.isString(e))try{return(t||JSON.parse)(e),Er.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(o||JSON.stringify)(e)}var gg={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Kj(),transformRequest:[function(t,o){return zT(o,"Accept"),zT(o,"Content-Type"),Er.isFormData(t)||Er.isArrayBuffer(t)||Er.isBuffer(t)||Er.isStream(t)||Er.isFile(t)||Er.isBlob(t)?t:Er.isArrayBufferView(t)?t.buffer:Er.isURLSearchParams(t)?(HT(o,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Er.isObject(t)||o&&o["Content-Type"]==="application/json"?(HT(o,"application/json"),Qj(t)):t}],transformResponse:[function(t){var o=this.transitional,r=o&&o.silentJSONParsing,a=o&&o.forcedJSONParsing,i=!r&&this.responseType==="json";if(i||a&&Er.isString(t)&&t.length)try{return JSON.parse(t)}catch(n){if(i)throw n.name==="SyntaxError"?Xj(n,this,"E_JSON_PARSE"):n}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};gg.headers={common:{Accept:"application/json, text/plain, */*"}};Er.forEach(["delete","get","head"],function(t){gg.headers[t]={}});Er.forEach(["post","put","patch"],function(t){gg.headers[t]=Er.merge(Yj)});var Fx=gg,Jj=on,Zj=Fx,eG=function(t,o,r){var a=this||Zj;return Jj.forEach(r,function(n){t=n.call(a,t,o)}),t},x9=function(t){return!!(t&&t.__CANCEL__)},jT=on,Ub=eG,tG=x9,oG=Fx;function zb(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var aG=function(t){zb(t),t.headers=t.headers||{},t.data=Ub.call(t,t.data,t.headers,t.transformRequest),t.headers=jT.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),jT.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var o=t.adapter||oG.adapter;return o(t).then(function(a){return zb(t),a.data=Ub.call(t,a.data,a.headers,t.transformResponse),a},function(a){return tG(a)||(zb(t),a&&a.response&&(a.response.data=Ub.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},Rr=on,w9=function(t,o){o=o||{};var r={},a=["url","method","data"],i=["headers","auth","proxy","params"],n=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(m,f){return Rr.isPlainObject(m)&&Rr.isPlainObject(f)?Rr.merge(m,f):Rr.isPlainObject(f)?Rr.merge({},f):Rr.isArray(f)?f.slice():f}function u(m){Rr.isUndefined(o[m])?Rr.isUndefined(t[m])||(r[m]=l(void 0,t[m])):r[m]=l(t[m],o[m])}Rr.forEach(a,function(f){Rr.isUndefined(o[f])||(r[f]=l(void 0,o[f]))}),Rr.forEach(i,u),Rr.forEach(n,function(f){Rr.isUndefined(o[f])?Rr.isUndefined(t[f])||(r[f]=l(void 0,t[f])):r[f]=l(void 0,o[f])}),Rr.forEach(s,function(f){f in o?r[f]=l(t[f],o[f]):f in t&&(r[f]=l(void 0,t[f]))});var c=a.concat(i).concat(n).concat(s),d=Object.keys(t).concat(Object.keys(o)).filter(function(f){return c.indexOf(f)===-1});return Rr.forEach(d,u),r};const rG="axios",iG="0.21.4",nG="Promise based HTTP client for the browser and node.js",sG="index.js",lG={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},cG={type:"git",url:"https://github.com/axios/axios.git"},uG=["xhr","http","ajax","promise","node"],dG="Matt Zabriskie",fG="MIT",mG={url:"https://github.com/axios/axios/issues"},pG="https://axios-http.com",hG={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},vG={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},gG="dist/axios.min.js",_G="dist/axios.min.js",bG="./index.d.ts",yG={"follow-redirects":"^1.14.0"},CG=[{path:"./dist/axios.min.js",threshold:"5kB"}];var xG={name:rG,version:iG,description:nG,main:sG,scripts:lG,repository:cG,keywords:uG,author:dG,license:fG,bugs:mG,homepage:pG,devDependencies:hG,browser:vG,jsdelivr:gG,unpkg:_G,typings:bG,dependencies:yG,bundlesize:CG},I9=xG,Rx={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Rx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var GT={},wG=I9.version.split(".");function E9(e,t){for(var o=t?t.split("."):wG,r=e.split("."),a=0;a<3;a++){if(o[a]>r[a])return!0;if(o[a]<r[a])return!1}return!1}Rx.transitional=function(t,o,r){var a=o&&E9(o);function i(n,s){return"[Axios v"+I9.version+"] Transitional option '"+n+"'"+s+(r?". "+r:"")}return function(n,s,l){if(t===!1)throw new Error(i(s," has been removed in "+o));return a&&!GT[s]&&(GT[s]=!0,console.warn(i(s," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(n,s,l):!0}};function IG(e,t,o){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var i=r[a],n=t[i];if(n){var s=e[i],l=s===void 0||n(s,i,e);if(l!==!0)throw new TypeError("option "+i+" must be "+l);continue}if(o!==!0)throw Error("Unknown option "+i)}}var EG={isOlderVersion:E9,assertOptions:IG,validators:Rx},S9=on,SG=b9,WT=Aj,XT=aG,_g=w9,A9=EG,_d=A9.validators;function u0(e){this.defaults=e,this.interceptors={request:new WT,response:new WT}}u0.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=_g(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var o=t.transitional;o!==void 0&&A9.assertOptions(o,{silentJSONParsing:_d.transitional(_d.boolean,"1.0.0"),forcedJSONParsing:_d.transitional(_d.boolean,"1.0.0"),clarifyTimeoutError:_d.transitional(_d.boolean,"1.0.0")},!1);var r=[],a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(a=a&&m.synchronous,r.unshift(m.fulfilled,m.rejected))});var i=[];this.interceptors.response.forEach(function(m){i.push(m.fulfilled,m.rejected)});var n;if(!a){var s=[XT,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(i),n=Promise.resolve(t);s.length;)n=n.then(s.shift(),s.shift());return n}for(var l=t;r.length;){var u=r.shift(),c=r.shift();try{l=u(l)}catch(d){c(d);break}}try{n=XT(l)}catch(d){return Promise.reject(d)}for(;i.length;)n=n.then(i.shift(),i.shift());return n};u0.prototype.getUri=function(t){return t=_g(this.defaults,t),SG(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};S9.forEach(["delete","get","head","options"],function(t){u0.prototype[t]=function(o,r){return this.request(_g(r||{},{method:t,url:o,data:(r||{}).data}))}});S9.forEach(["post","put","patch"],function(t){u0.prototype[t]=function(o,r,a){return this.request(_g(a||{},{method:t,url:o,data:r}))}});var AG=u0;function kx(e){this.message=e}kx.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};kx.prototype.__CANCEL__=!0;var T9=kx,TG=T9;function mv(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(a){t=a});var o=this;e(function(a){o.reason||(o.reason=new TG(a),t(o.reason))})}mv.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};mv.source=function(){var t,o=new mv(function(a){t=a});return{token:o,cancel:t}};var OG=mv,DG=function(t){return function(r){return t.apply(null,r)}},PG=function(t){return typeof t=="object"&&t.isAxiosError===!0},YT=on,MG=v9,O1=AG,NG=w9,FG=Fx;function O9(e){var t=new O1(e),o=MG(O1.prototype.request,t);return YT.extend(o,O1.prototype,t),YT.extend(o,t),o}var ts=O9(FG);ts.Axios=O1;ts.create=function(t){return O9(NG(ts.defaults,t))};ts.Cancel=T9;ts.CancelToken=OG;ts.isCancel=x9;ts.all=function(t){return Promise.all(t)};ts.spread=DG;ts.isAxiosError=PG;Px.exports=ts;Px.exports.default=ts;var Nu=Px.exports;const RG="http://localhost:5555/tef",Hb={nsu:"012-000",valorTransacao:"003-000",codigoTransacao:"011-000",codigoAutorizacao:"013-000",parcelas:"018-000",dataTransacao:"022-000",mensagemOperador:"030-000"};function kG(e){var o;let t=e!=null?e:"";return~t.indexOf("029-001")?(t=t.substring(t.indexOf("029-001"),t.indexOf("030-000")-1),t=(o=t.replace(/"/g,""))==null?void 0:o.replace(/\d{3}-\d{3}\s=\s\s/g,""),t):""}function VG(e,t){let o=t!=null?t:"";return~o.indexOf(Hb[e])?(o=o.substring(o.indexOf(Hb[e])),o=o.substring(0,o.indexOf(`
`)),o=o.substring(0,o.indexOf("\r")),o=o.replace(`${Hb[e]} = `,""),o):""}async function zm(e,t){var o;try{const r=new Headers;let a;if($q.loading.show(),r.append("Content-type","application/json; charset=utf-8"),a=await fetch(`${RG}/${e}`,{method:"POST",mode:"cors",headers:r,body:JSON.stringify(t)}),a=await a.json(),a.error)throw new Error(a.error);if(a.pendencia){let i,n,s,l,u;if(i=a.pendencia.idTransacao,u=await $erp().documento.get(i.slice(1)),i.slice(0,1)==="1"&&(u==null?void 0:u.dataHoraFinalizado))return await zm("adm",{function:"limparDiretorios"}),await zm(e,t);if(i.slice(0,1)==="2"&&!(u!=null&&u.dataHoraFinalizado))return await zm("adm",{function:"limparDiretorios"}),await zm(e,t);n=a.pendencia.dataTransacao.substring(0,2)+"/"+a.pendencia.dataTransacao.substring(2,4)+"/"+a.pendencia.dataTransacao.substring(4,10),s=a.pendencia.horaTransacao.substring(0,2)+":"+a.pendencia.horaTransacao.substring(2,4)+":"+a.pendencia.horaTransacao.substring(4,6),l=[`Mensagem: ${a.pendencia.mensagemOperador}`,...u?[`Fatura: ${u.numero||u.id.slice(-6)}`,`Contato: ${u.descricaoContato}`]:[],`NSU: ${a.pendencia.nsu}`,...a.pendencia.numeroTransacaoCancelada?[`NSU Cancelada: ${a.pendencia.numeroTransacaoCancelada}`]:[],`Valor da Transa\xE7\xE3o: ${a.pendencia.valorTransacao}`,`Parcelas: ${a.pendencia.parcelas}`,`Data da Transa\xE7\xE3o: ${n}`,`Hor\xE1rio da Transa\xE7\xE3o: ${s}`],$g.modalAlerta.show({titulo:"Pend\xEAncia TEF",erros:l,btn:a.pendencia.idTransacao.slice(1)!==((o=t==null?void 0:t.idTransacao)==null?void 0:o.slice(1))?[{label:"Fechar",color:"tertiary",click:()=>{$g.modalAlerta.hide()}},{label:"Resolver Pend\xEAncia",color:"primary",click:()=>{if(!u){$q.notify({message:"Fatura n\xE3o encontrada",type:"negative"});return}localStorage.setItem("idFatura",u.id),$router.push({name:"AtendimentoFatura",params:{id:u.idContato}})}}]:[]})}return a}catch(r){let a="Falha ao comunicar com o TEF. Verifique se o integrador e o cliente SiTef est\xE3o abertos.";e==="print"&&(a="Verifique se o integrador foi iniciado!"),/^GError:.+/.test(r.message)&&(a=r.message.slice(7)),$q.notify({message:a,type:"negative"})}finally{$q.loading.hide()}}var jh={extrairCampo:VG,extrairComprovante:kG,oper:zm};const Bi="http://www.portalfiscal.inf.br/nfe",KT="4.00",jb="1.00",_m=(e,t,o,r)=>{const a=e.createElementNS(Bi,o);return t.appendChild(a),r!==void 0&&(a.textContent=r),a};var Fl={chNFe:"",Nfe(e,t,o){const r=document.implementation.createDocument("",""),a=r.createElementNS(Bi,"NFe"),i=r.createElementNS(Bi,"infNFe");return r.appendChild(a),a.appendChild(i),i.setAttribute("versao",KT),i.setAttribute("Id",this.chaveNfe(t,o)),this.gerarTags(r,i,e,t),r},EventoNFe(e,t,o){const r=document.implementation.createDocument("",""),a=r.createElementNS(Bi,"envEvento");a.setAttribute("versao",jb),r.appendChild(a);const i=r.createElementNS(Bi,"idLote");a.appendChild(i),i.textContent=o;const n=r.createElementNS(Bi,"evento");n.setAttribute("versao",jb),a.appendChild(n);const s=r.createElementNS(Bi,"infEvento");return n.appendChild(s),s.setAttribute("Id","ID"+t.tpEvento+t.chNFe+t.nSeqEvento.padStart(2,"0")),this.gerarTags(r,s,e,t),r},InutilizarNFe(e,t){const o=document.implementation.createDocument("",""),r=o.createElementNS(Bi,"inutNFe");o.appendChild(r),r.setAttribute("versao",KT);const a=o.createElementNS(Bi,"infInut");return r.appendChild(a),a.setAttribute("Id","ID"+t.cUF.padStart(2,"0")+t.ano.padStart(2,"0")+t.CNPJ.padStart(14,"0")+t.mod.padStart(2,"0")+t.serie.padStart(3,"0")+t.nNFIni.padStart(9,"0")+t.nNFFin.padStart(9,"0")),this.gerarTags(o,a,e.infInut,t),o},gerarTags(e,t,o,r){for(let a in o)if(!(a.startsWith("_")||a.startsWith("noXml_")||a==="visivel"||a==="valor_escolha"))if(a in r)if(a.startsWith("opcional")||a.startsWith("escolhas")||a.startsWith("opcao"))this.gerarTags(e,t,o[a],r[a]);else if(r[a].constructor===String){const i=e.createElementNS(Bi,a);t.appendChild(i),i.textContent=r[a]}else if(r[a].constructor===Number){const i=e.createElementNS(Bi,a);t.appendChild(i),i.textContent=r[a].toFixed(o[a]._decimals||0)}else if(r[a].constructor===Array)for(let i in r[a]){const n=e.createElementNS(Bi,a);t.appendChild(n),a==="det"&&n.setAttribute("nItem",(parseInt(i)+1).toString()),this.gerarTags(e,n,o[a].lista,r[a][i])}else{const i=e.createElementNS(Bi,a);t.appendChild(i),this.gerarTags(e,i,o[a],r[a]),a==="detEvento"&&i.setAttribute("versao",jb)}else continue},chaveNfe(e,t){var o="0000";if(e.ide.dhEmi){var r=new Date(e.ide.dhEmi);o=r.getFullYear().toString().padStart(2,"0").slice(-2)+(r.getMonth()+1).toString().padStart(2,"0")}t=t||"298D8718-DE89-4B81-D08E-50242E0A72B8";let a=t.charCodeAt(32)*1000003+t.charCodeAt(35)*10007+t.charCodeAt(34)*113+t.charCodeAt(33);for(a+=Number(e.total.ICMSTot.vProd)*548300,e.ide.cNF=a.toFixed(0).padStart(8,"0").slice(0,8);[e.ide.nNF.padStart(8,"0").slice(0,8),"00000000","11111111","22222222","33333333","44444444","55555555","66666666","77777777","88888888","99999999","12345678","23456789","34567890","45678901","56789012","67890123","78901234","89012345","90123456","01234567",""].includes(e.ide.cNF);)a++,e.ide.cNF=a.toFixed(0).padStart(8,"0").slice(0,8);var i;e.emit.escolhas.valor_escolha==="CPF"?i=e.emit.escolhas.CPF:i=e.emit.escolhas.CNPJ;var n=e.ide.cUF.padStart(2,"0")+o+i.padStart(14,"0")+e.ide.mod.padStart(2,"0")+e.ide.serie.padStart(3,"0")+e.ide.nNF.padStart(9,"0")+e.ide.tpEmis.padStart(1,"0")+e.ide.cNF;return e.ide.cDV=this.calculoDV11(n),this.chNFe=n+e.ide.cDV,"NFe"+n+e.ide.cDV},calculoDV11(e){for(var t=4,o=0,r=0;r<e.length;r++)o+=parseInt(e[r])*t,t>2?t--:t=9;var a=o%11,i=11-a;return i>=10&&(i=0),i.toString()},consultarCadastroContribuinte(e,t){const o=document.implementation.createDocument("",""),r=_m(o,o,"ConsCad");r.setAttribute("versao","2.00");const a=_m(o,r,"infCons");return _m(o,a,"xServ","CONS-CAD"),_m(o,a,"UF",t),_m(o,a,"CNPJ",e),o}};async function qG(e){const t=`Produto '${e.documentoItem.descricaoItem||""}'`;$utils.verificarErro(!e.item.ncm,`${t} sem cadastro de NCM`);const o=await $erp()._ncm.where("ncm").equals(e.item.ncm).first();$utils.verificarErro(!o,`${t} com NCM '${e.item.ncm||""}' inv\xE1lido`),e.documentoItem.idCfop||(e.documentoItem.idCfop=e.idCfopVenda);const r=await $erp().cfop.get(e.documentoItem.idCfop);$utils.verificarErro(!r,`${t} com CFOP inv\xE1lido`);const a=await $erp().impostoConfiguracao.where("idNcm").equals(o.id).filter(s=>s.idCfop===r.id&&s.idEmitente===e.empresa.id&&s.ufOrigem===e.empresa.enderecoPrincipal.uf&&s.ufDestino===e.empresa.enderecoPrincipal.uf).first(),i=`Verifique a configura\xE7\xE3o do imposto para NCM: ${e.item.ncm||""}, CFOP: ${r.cfop||""}, CNPJ: ${e.empresa.numeroDocumentoNacional||""}, UF origem: ${e.empresa.enderecoPrincipal.uf||""}, UF destino: ${e.empresa.enderecoPrincipal.uf||""}.`;$utils.verificarErro(!a,`${t} sem configura\xE7\xE3o de imposto. ${i}`);const n={};try{n.CFOP=(r.cfop||0).toString(),n.ICMS_OrigemMercadoria=await Gh(e,a.idOrigem),n.ICMS_CST=await Gh(e,a.idCst),n.ICMS_CSOSN=n.ICMS_CST,n.ICMS_Aliquota=(a.aliqIcmsUFOrigem||a.aliqIcms||0).toString(),n.PIS_CST=await Gh(e,a.idTipoTribPis),n.PIS_Aliquota=(a.aliqPis||0).toString(),n.COFINS_CST=await Gh(e,a.idTipoTribCofins),n.COFINS_Aliquota=(a.aliqCofins||0).toString()}catch(s){console.error(s),$utils.verificarErro(!0,`${t} com erro na configura\xE7\xE3o de imposto. ${i}`)}return n.ValorAproxTributos=await D9(e,n.ICMS_OrigemMercadoria),n}async function BG(e,t){const o=`Produto '${e.documentoItem.descricaoItem||""}'`;$utils.verificarErro(!e.item.ncm,`${o} sem cadastro de NCM`),e.documentoItem.idCfop||(e.documentoItem.idCfop=e.idCfopVenda);const r=await $erp().cfop.get(e.documentoItem.idCfop);$utils.verificarErro(!r,`${o} com CFOP inv\xE1lido`);let a=e.item.ncm||"";a=a.length===8?a:$utils.filtrarDigitos(a);const i={emitente:{regime:e.empresa.regime==="SimplesNacional"?"1":"3",uf:e.empresa.enderecoPrincipal.uf,tributacaoSetor:e.empresa.tributacaoSetor,tributacao:e.empresa.tributacao},destinatario:{regime:e.destinatario.regime==="SimplesNacional"?"1":e.destinatario.regime==="Normal"?"3":void 0,uf:e.empresa.enderecoPrincipal.uf,pessoa:{CPF:"PF",CNPJ:"PJ",idEstrangeiro:"Estrangeiro"}[e.destinatario.tipoDocumentoNacional]||void 0,stributacaoSetoretor:e.destinatario.tributacaoSetor,tributacao:e.destinatario.tributacao,indicadorIE:"9",consumidor:"S",destino:"1"},ncm:a,idItem:e.item.id,cfop:String(r.cfop||""),cest:e.item.cest,origemMercadoria:String(e.item.codigoOrigem||""),produto:e.item.descricao},n=await $db.configuracaoImposto.pesquisa(i,t);if(!n||!n.ordem||!n.saida)return{};const s={};return s.CFOP=n.entrada.cfop,s.ICMS_OrigemMercadoria=n.entrada.origemMercadoria,s.ICMS_CST=n.saida.cstCsosn,s.ICMS_CSOSN=s.ICMS_CST,s.ICMS_Aliquota=(n.saida.pICMS||0).toString(),s.PIS_CST=n.saida.pisCst,s.PIS_Aliquota=(n.saida.pPIS||0).toString(),s.COFINS_CST=n.saida.cofinsCst,s.COFINS_Aliquota=(n.saida.pCOFINS||0).toString(),s.ValorAproxTributos=await D9(e,s.ICMS_OrigemMercadoria),s}async function LG(e){e.totalFrete=$utils.somar(e.documentosVendas,"valorFrete"),e.tipoFrete=e.documentosVendas[0].tipoFrete;for(const r of e.documentosVendas)$utils.verificarErro(e.tipoFrete!==r.tipoFrete,"Diverg\xEAncia de frete entre as vendas, favor emitir a nota individualmente (por venda)");e.tipoFrete==="CIF"&&(e.totalFrete=0);let t=e.totalFrete,o=e.documentoFatura.totalDesconto||0;return o+=$utils.somar(e.documentosVendas,"totalDesconto"),e.totalDesconto=o,$utils.arredondar(t)>0&&$utils.arredondar(o)>0&&(t>o?(t=t-o,o=0):(o=o-t,t=0)),{acrescimo:t.toFixed(2),desconto:o.toFixed(2)}}async function $G(e){const t=e.documentoFatura.idContato;e.destinatario=t?await $erp().contato.get(t)||{}:{}}async function UG(e){const t=e.documentoFatura.idEmpresa;$utils.verificarErro(!t,"Fatura sem empresa emitente"),e.empresa=await $erp().contato.get(t),$utils.verificarErro(!e.empresa,"N\xE3o foi poss\xEDvel carregar a empresa emitente"),e.empresa.enderecos=await $erp().contatoEndereco.where("idContato").equals(t).toArray(),$utils.verificarErro(!e.empresa.enderecos||e.empresa.enderecos.length===0,"N\xE3o foi poss\xEDvel carregar o endere\xE7o da empresa emitente"),e.empresa.telefones=await $erp().contatoTelefone.where("idContato").equals(t).toArray()||[],e.empresa.enderecoPrincipal=e.empresa.enderecos.find(o=>o.grupo==="Principal"),e.empresa.enderecoPrincipal||(e.empresa.enderecoPrincipal=e.empresa.enderecos[0]||{}),$utils.verificarErro(!e.empresa.enderecoPrincipal.uf,"Empresa emitente sem UF cadastrado")}async function zG(e){const t=e.idDocumento;e.documentoFatura=await $erp().documento.get(t),$utils.verificarErro(!e.documentoFatura,"N\xE3o foi poss\xEDvel carregar a fatura"),e.documentosAdicionais=await $erp().documento.where("idDocumentoAdicional").equals(t).toArray()||[],e.documentosVendas=await $erp().documento.where("idFatura").equals(t).toArray()||[],e.idsDocumentos=[t,...e.documentosAdicionais.map(o=>o.id),...e.documentosVendas.map(o=>o.id)]}async function HG(e){const t=await $erp().documentoCondicaoPagamento.where({idDocumento:e.idDocumento}).toArray();$utils.verificarErro(!t,"N\xE3o h\xE1 pagamentos");const o=[];for(const s of t){const l=await GG(e,s.idFormaPagamento);let u=o.find(c=>c.CodigoMeioPagamento===l);u?u.Valor=$utils.arredondar(u.Valor+s.valor):(u={CodigoMeioPagamento:l,Valor:$utils.arredondar(s.valor)},o.push(u))}$utils.verificarErro(o.length===0,"A fatura n\xE3o possui pagamentos");const r=await $erp().financeiroTitulo.where({idFatura:e.idDocumento}).toArray(),a=$utils.arredondar($utils.somar(o,"Valor")),i=$utils.arredondar($utils.somar(r,"valorTotal")+e.totalServicos),n=$utils.arredondar(e.totalProdutos+e.totalFrete+e.totalDevolucao-e.totalDesconto);if($utils.verificarErro(Math.abs(a-i-n)>.02,"O valor dos pagamentos difere do somat\xF3rio (produtos, servi\xE7os, frete, carn\xEAs, (-)devolu\xE7\xF5es e (-)descontos"),a>0&&a!==n){for(const l of o)l.Valor=$utils.arredondar(l.Valor*n/a);const s=$utils.arredondar($utils.somar(o,"Valor"));o[0].Valor+=n-s}e.totalDevolucao<0&&e.totalProdutos>0&&o.push({CodigoMeioPagamento:"99",Valor:-e.totalDevolucao});for(const s of o)s.Valor=s.Valor.toFixed(2);return o}async function Gh(e,t){$utils.verificarErro(!t,"Configura\xE7\xE3o de imposto sem informa\xE7\xE3o completa"),e.impostoParametro||(e.impostoParametro={});let o=e.impostoParametro[t];if(!o){const r=await $erp().impostoParametro.get(t);o=r?r.numero.trim():void 0,e.impostoParametro[t]=o}return $utils.verificarErro(!o,"Configura\xE7\xE3o de imposto inv\xE1lida"),o}async function jG(e,t){const o=await $erp().documentoItem.where("idDocumento").anyOf(e.idsDocumentos).sortBy("dataHoraEmissao");$utils.verificarErro(!o,"N\xE3o foi poss\xEDvel carregar os produtos");const r=[];let a=1;for(const i of o){let n=$utils.arredondar(i.total||0);if($utils.arredondar(n)===0||!i.idItem)continue;if(["Servi\xE7o"].includes(i.tipoItem)){e.totalServicos+=n;continue}if(n<0){e.totalDevolucao+=n;continue}const s=i.quantidade||0;let l=i.valorItem||0,u=i.descontoItem||0;if($utils.verificarErro(n!==$utils.arredondar(s*(l-u)),`Valor total do item ${i.codigoItem||""} n\xE3o corresponde ao valor unit\xE1rio vezes a quantidade`),["TLOE","TLOD"].includes(i.tipoItem))continue;if(["LOE","LOD"].includes(i.tipoItem)){const f=o.filter(p=>["TLOE","TLOD"].includes(p.tipoItem)&&p.idDocumentoItemPai===i.id);for(const p of f)l+=p.valorItem||0,u+=p.descontoItem||0,n+=p.total||0}e.totalProdutos+=n,e.documentoItem=i,e.item=await $erp().item.get(i.idItem),$utils.verificarErro(!e.item,"N\xE3o foi poss\xEDvel carregar o cadastro do produto");const d=await $db.configuracoes.leValorNumerico("imposto.versao")===2?await BG(e,t):await qG(e);let m=String(e.item.codigoBarras||"").padStart(13,"0");m.startsWith("999")&&(m=""),d.Sequencia=String(a),d.CodigoProduto=(e.item.codigoItem||0).toString(),d.CodigoBarras=m,d.Produto=$utils.removerCaracteresEspeciais(i.descricaoItem||"").substr(0,120).trim(),d.NCM=e.item.ncm||"",d.UnidadeMedida=e.item.unidade||"UN",d.Quantidade=s.toFixed(4),d.ValorUnitario=l.toFixed(4),d.DescontoUnitario=$utils.arredondar(u,3),d.AcrescimoUnitario="0",d.Total=n.toFixed(2),a++,r.push(d)}return $utils.verificarErro(r.length===0,"A fatura n\xE3o possui produtos"),r}async function GG(e,t){$utils.verificarErro(!t,"Forma de pagamento inv\xE1lida"),e.meiosPagamento||(e.meiosPagamento={});let o=e.meiosPagamento[t];if(o)return o;const r=await $erp().formaPagamento.get(t);$utils.verificarErro(!r||!r.descricao,"N\xE3o foi poss\xEDvel carregar a forma de pagamento");const a=r.descricao.toLowerCase();return o=a.includes("dinheiro")?"01":a.includes("d\xE9bito")?"04":a.includes("cr\xE9dito de clientes")?"99":a.includes("cr\xE9dito")?"03":a.includes("cart\xE3o")&&Number(r.parcelamentoMaximo||0)===1?"04":a.includes("cart\xE3o")&&Number(r.parcelamentoMaximo||0)>1?"03":"99",e.meiosPagamento[t]=o,o}async function D9(e,t){const o=await $erp().nfeIbpt.where("codigo").equals(Number(e.item.ncm)).toArray();if(QT(!o.length,`N\xE3o encontrado al\xEDquotas para calculo do valor aproximado de tributos do NCM: ${e.item.ncm}. Atualize sua tabela IBPT.`,e))return"0.00";const r=o.filter(u=>u.idContato===e.empresa.id),i=(r.length?r:o).reduce((u,c)=>!u||u.vigenciaFim<c.vigenciaFim?c:u,null);QT(i.vigenciaFim<$utils.dataAtual(),`Informa\xE7\xF5es vencidas para para o calculo do valor aproximado de tributos do NCM: ${e.item.ncm}. Atualize sua tabela IBPT.`,e);let n=0;const s=Number(e.documentoItem.descontoFaturaRateado||0)+Number(e.documentoItem.descontoTotalRateado||0),l=Number(e.documentoItem.quantidade||0)*(Number(e.documentoItem.valorItem||0)-Number(e.documentoItem.descontoItem||0))-s;return["0","3","4","5","8"].includes(t)?n+=l*Number(i.nacionalFederal||0)/100:n+=l*Number(i.importadosFederal||0)/100,n+=l*Number(i.estadual||0)/100,n+=l*Number(i.municipal||0)/100,n.toFixed(2)}function QT(e,t,o){return e&&(o.alertas||(o.alertas=[]),o.alertas.push(t),console.warn(t)),e}async function WG(e,t,o,r){const a={};$utils.verificarErro(!t,"N\xFAmero do PDV n\xE3o fornecido"),$utils.verificarErro(!e,"Fatura n\xE3o fornecida"),a.NumeroPDV=t,o&&(a.CPF_CNPJ=o),r&&(a.NomeCliente=$utils.removerCaracteresEspeciais(r));const i={idDocumento:e,cpfCnpjCliente:o,nomeCliente:r,totalDevolucao:0,totalProdutos:0,totalServicos:0,alertas:[]};await zG(i),await UG(i),await $G(i);const n=[];if(a.Itens=await jG(i,n),n.length)throw $utils.emitter.emit("confrontarFigurasFiscais",n),new Error("Figura fiscal n\xE3o encontrada");const{desconto:s,acrescimo:l}=await LG(i);return a.Desconto=s,a.Acrescimo=l,a.FormaPgto=await HG(i),a.Mensagem=("Fatura: "+(i.documentoFatura.numero||(i.documentoFatura.id||"").slice(-6))).padEnd(48," "),r?a.Mensagem+=r.padEnd(48," "):i.destinatario.nome&&i.destinatario.codigoContato!==await $db.configuracoes.leValorNumerico("venda.codigoconsumidor")&&(a.Mensagem+=i.destinatario.nome.padEnd(48," ")),a.Mensagem+=await $db.configuracoes.leValorComFiltroEmpresa("cupom.mensagem",i.documentoFatura.idEmpresa,"Obrigado e Volte Sempre!"),a.Mensagem=$utils.removerCaracteresEspeciais(a.Mensagem),{objetoJson:a,dados:i}}async function XG(e){let t,o="SAT";return e&&(t=await $erp().contatoEndereco.where({idContato:e}).toArray(),t=t==null?void 0:t.find(r=>{var a;return((a=r.grupo)==null?void 0:a.toLowerCase())==="principal"}),(t==null?void 0:t.ufCod)===23&&(o="MFE")),o}const JT=["B","KB","MB","GB","TB","PB"];function ZT(e){let t=0;for(;parseInt(e,10)>=1024&&t<JT.length-1;)e/=1024,++t;return`${e.toFixed(1)}${JT[t]}`}function YG(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Cn(e,t,o){return o<=t?t:Math.min(o,Math.max(t,e))}function eO(e,t,o){if(o<=t)return t;const r=o-t+1;let a=t+(e-t)%r;return a<t&&(a=r+a),a===0?0:a}function Ga(e,t=2,o="0"){if(e==null)return e;const r=""+e;return r.length>=t?r:new Array(t-r.length+1).join(o)+r}const Zl=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function f6e(e,t,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),eW(Vx(e,t,o))}function m6e(e,t,o){return M9(ZG(e,t,o))}function KG(e){return JG(e)===0}function QG(e,t){return t<=6?31:t<=11||KG(e)?30:29}function JG(e){const t=Zl.length;let o=Zl[0],r,a,i,n,s;if(e<o||e>=Zl[t-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<t&&(r=Zl[s],a=r-o,!(e<r));s+=1)o=r;return n=e-o,a-n<6&&(n=n-a+ua(a+4,33)*33),i=Xi(Xi(n+1,33)-1,4),i===-1&&(i=4),i}function P9(e,t){const o=Zl.length,r=e+621;let a=-14,i=Zl[0],n,s,l,u,c;if(e<i||e>=Zl[o-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<o&&(n=Zl[c],s=n-i,!(e<n));c+=1)a=a+ua(s,33)*8+ua(Xi(s,33),4),i=n;u=e-i,a=a+ua(u,33)*8+ua(Xi(u,33)+3,4),Xi(s,33)===4&&s-u===4&&(a+=1);const d=ua(r,4)-ua((ua(r,100)+1)*3,4)-150,m=20+a-d;return t||(s-u<6&&(u=u-s+ua(s+4,33)*33),l=Xi(Xi(u+1,33)-1,4),l===-1&&(l=4)),{leap:l,gy:r,march:m}}function ZG(e,t,o){const r=P9(e,!0);return Vx(r.gy,3,r.march)+(t-1)*31-ua(t,7)*(t-7)+o-1}function eW(e){const t=M9(e).gy;let o=t-621,r,a,i;const n=P9(o,!1),s=Vx(t,3,n.march);if(i=e-s,i>=0){if(i<=185)return a=1+ua(i,31),r=Xi(i,31)+1,{jy:o,jm:a,jd:r};i-=186}else o-=1,i+=179,n.leap===1&&(i+=1);return a=7+ua(i,30),r=Xi(i,30)+1,{jy:o,jm:a,jd:r}}function Vx(e,t,o){let r=ua((e+ua(t-8,6)+100100)*1461,4)+ua(153*Xi(t+9,12)+2,5)+o-34840408;return r=r-ua(ua(e+100100+ua(t-8,6),100)*3,4)+752,r}function M9(e){let t=4*e+139361631;t=t+ua(ua(4*e+183187720,146097)*3,4)*4-3908;const o=ua(Xi(t,1461),4)*5+308,r=ua(Xi(o,153),5)+1,a=Xi(ua(o,153),12)+1;return{gy:ua(t,1461)-100100+ua(8-a,6),gm:a,gd:r}}function ua(e,t){return~~(e/t)}function Xi(e,t){return e-~~(e/t)*t}const N9=864e5,tW=36e5,My=6e4,F9="YYYY-MM-DDTHH:mm:ss.SSSZ",oW=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,aW=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Gb={};function rW(e,t){const o="("+t.days.join("|")+")",r=e+o;if(Gb[r]!==void 0)return Gb[r];const a="("+t.daysShort.join("|")+")",i="("+t.months.join("|")+")",n="("+t.monthsShort.join("|")+")",s={};let l=0;const u=e.replace(aW,d=>{switch(l++,d){case"YY":return s.YY=l,"(-?\\d{1,2})";case"YYYY":return s.YYYY=l,"(-?\\d{1,4})";case"M":return s.M=l,"(\\d{1,2})";case"MM":return s.M=l,"(\\d{2})";case"MMM":return s.MMM=l,n;case"MMMM":return s.MMMM=l,i;case"D":return s.D=l,"(\\d{1,2})";case"Do":return s.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=l,"(\\d{2})";case"H":return s.H=l,"(\\d{1,2})";case"HH":return s.H=l,"(\\d{2})";case"h":return s.h=l,"(\\d{1,2})";case"hh":return s.h=l,"(\\d{2})";case"m":return s.m=l,"(\\d{1,2})";case"mm":return s.m=l,"(\\d{2})";case"s":return s.s=l,"(\\d{1,2})";case"ss":return s.s=l,"(\\d{2})";case"S":return s.S=l,"(\\d{1})";case"SS":return s.S=l,"(\\d{2})";case"SSS":return s.S=l,"(\\d{3})";case"A":return s.A=l,"(AM|PM)";case"a":return s.a=l,"(am|pm)";case"aa":return s.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return a;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return s.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=l,"(-?\\d+)";case"x":return s.x=l,"(-?\\d{4,})";default:return l--,d[0]==="["&&(d=d.substring(1,d.length-1)),d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:s,regex:new RegExp("^"+u)};return Gb[r]=c,c}function R9(e,t){return e!==void 0?e:t!==void 0?t.date:ty.date}function tO(e,t=""){const o=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;return o+Ga(a)+t+Ga(i)}function iW(e,t,o){let r=e.getFullYear(),a=e.getMonth();const i=e.getDate();return t.year!==void 0&&(r+=o*t.year,delete t.year),t.month!==void 0&&(a+=o*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(r),e.setMonth(a),e.setDate(Math.min(i,Bx(e))),t.date!==void 0&&(e.setDate(e.getDate()+o*t.date),delete t.date),e}function nW(e,t,o){const r=t.year!==void 0?t.year:e[`get${o}FullYear`](),a=t.month!==void 0?t.month-1:e[`get${o}Month`](),i=new Date(r,a+1,0).getDate(),n=Math.min(i,t.date!==void 0?t.date:e[`get${o}Date`]());return e[`set${o}Date`](1),e[`set${o}Month`](2),e[`set${o}FullYear`](r),e[`set${o}Month`](a),e[`set${o}Date`](n),delete t.year,delete t.month,delete t.date,e}function qx(e,t,o){const r=k9(t),a=new Date(e),i=r.year!==void 0||r.month!==void 0||r.date!==void 0?iW(a,r,o):a;for(const n in r){const s=YG(n);i[`set${s}`](i[`get${s}`]()+o*r[n])}return i}function k9(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function V9(e,t,o){const r=k9(t),a=o===!0?"UTC":"",i=new Date(e),n=r.year!==void 0||r.month!==void 0||r.date!==void 0?nW(i,r,a):i;for(const s in r){const l=s.charAt(0).toUpperCase()+s.slice(1);n[`set${a}${l}`](r[s])}return n}function sW(e,t,o){const r=lW(e,t,o),a=new Date(r.year,r.month===null?null:r.month-1,r.day===null?1:r.day,r.hour,r.minute,r.second,r.millisecond),i=a.getTimezoneOffset();return r.timezoneOffset===null||r.timezoneOffset===i?a:qx(a,{minutes:r.timezoneOffset-i},1)}function lW(e,t,o,r,a){const i={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(a!==void 0&&Object.assign(i,a),e==null||e===""||typeof e!="string")return i;t===void 0&&(t=F9);const n=R9(o,Ui.props),s=n.months,l=n.monthsShort,{regex:u,map:c}=rW(t,n),d=e.match(u);if(d===null)return i;let m="";if(c.X!==void 0||c.x!==void 0){const f=parseInt(d[c.X!==void 0?c.X:c.x],10);if(isNaN(f)===!0||f<0)return i;const p=new Date(f*(c.X!==void 0?1e3:1));i.year=p.getFullYear(),i.month=p.getMonth()+1,i.day=p.getDate(),i.hour=p.getHours(),i.minute=p.getMinutes(),i.second=p.getSeconds(),i.millisecond=p.getMilliseconds()}else{if(c.YYYY!==void 0)i.year=parseInt(d[c.YYYY],10);else if(c.YY!==void 0){const f=parseInt(d[c.YY],10);i.year=f<0?f:2e3+f}if(c.M!==void 0){if(i.month=parseInt(d[c.M],10),i.month<1||i.month>12)return i}else c.MMM!==void 0?i.month=l.indexOf(d[c.MMM])+1:c.MMMM!==void 0&&(i.month=s.indexOf(d[c.MMMM])+1);if(c.D!==void 0){if(i.day=parseInt(d[c.D],10),i.year===null||i.month===null||i.day<1)return i;const f=r!=="persian"?new Date(i.year,i.month,0).getDate():QG(i.year,i.month);if(i.day>f)return i}c.H!==void 0?i.hour=parseInt(d[c.H],10)%24:c.h!==void 0&&(i.hour=parseInt(d[c.h],10)%12,(c.A&&d[c.A]==="PM"||c.a&&d[c.a]==="pm"||c.aa&&d[c.aa]==="p.m.")&&(i.hour+=12),i.hour=i.hour%24),c.m!==void 0&&(i.minute=parseInt(d[c.m],10)%60),c.s!==void 0&&(i.second=parseInt(d[c.s],10)%60),c.S!==void 0&&(i.millisecond=parseInt(d[c.S],10)*10**(3-d[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(m=c.Z!==void 0?d[c.Z].replace(":",""):d[c.ZZ],i.timezoneOffset=(m[0]==="+"?-1:1)*(60*m.slice(1,3)+1*m.slice(3,5)))}return i.dateHash=Ga(i.year,6)+"/"+Ga(i.month)+"/"+Ga(i.day),i.timeHash=Ga(i.hour)+":"+Ga(i.minute)+":"+Ga(i.second)+m,i}function cW(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function uW(e,t){return V9(new Date,e,t)}function dW(e){const t=new Date(e).getDay();return t===0?7:t}function Ny(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const o=new Date(t.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const r=t.getTimezoneOffset()-o.getTimezoneOffset();t.setHours(t.getHours()-r);const a=(t-o)/(N9*7);return 1+Math.floor(a)}function fW(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function Wb(e,t){const o=new Date(e);return t===!0?fW(o):o.getTime()}function mW(e,t,o,r={}){const a=Wb(t,r.onlyDate),i=Wb(o,r.onlyDate),n=Wb(e,r.onlyDate);return(n>a||r.inclusiveFrom===!0&&n===a)&&(n<i||r.inclusiveTo===!0&&n===i)}function pW(e,t){return qx(e,t,1)}function hW(e,t){return qx(e,t,-1)}function ds(e,t,o){const r=new Date(e),a=`set${o===!0?"UTC":""}`;switch(t){case"year":case"years":r[`${a}Month`](0);case"month":case"months":r[`${a}Date`](1);case"day":case"days":case"date":r[`${a}Hours`](0);case"hour":case"hours":r[`${a}Minutes`](0);case"minute":case"minutes":r[`${a}Seconds`](0);case"second":case"seconds":r[`${a}Milliseconds`](0)}return r}function vW(e,t,o){const r=new Date(e),a=`set${o===!0?"UTC":""}`;switch(t){case"year":case"years":r[`${a}Month`](11);case"month":case"months":r[`${a}Date`](Bx(r));case"day":case"days":case"date":r[`${a}Hours`](23);case"hour":case"hours":r[`${a}Minutes`](59);case"minute":case"minutes":r[`${a}Seconds`](59);case"second":case"seconds":r[`${a}Milliseconds`](999)}return r}function gW(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(o=>{t=Math.max(t,new Date(o))}),t}function _W(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(o=>{t=Math.min(t,new Date(o))}),t}function Wh(e,t,o){return(e.getTime()-e.getTimezoneOffset()*My-(t.getTime()-t.getTimezoneOffset()*My))/o}function q9(e,t,o="days"){const r=new Date(e),a=new Date(t);switch(o){case"years":case"year":return r.getFullYear()-a.getFullYear();case"months":case"month":return(r.getFullYear()-a.getFullYear())*12+r.getMonth()-a.getMonth();case"days":case"day":case"date":return Wh(ds(r,"day"),ds(a,"day"),N9);case"hours":case"hour":return Wh(ds(r,"hour"),ds(a,"hour"),tW);case"minutes":case"minute":return Wh(ds(r,"minute"),ds(a,"minute"),My);case"seconds":case"second":return Wh(ds(r,"second"),ds(a,"second"),1e3)}}function Fy(e){return q9(e,ds(e,"year"),"days")+1}function bW(e){return ov(e)===!0?"date":typeof e=="number"?"number":"string"}function yW(e,t,o){const r=new Date(e);if(t){const a=new Date(t);if(r<a)return a}if(o){const a=new Date(o);if(r>a)return a}return r}function CW(e,t,o){const r=new Date(e),a=new Date(t);if(o===void 0)return r.getTime()===a.getTime();switch(o){case"second":case"seconds":if(r.getSeconds()!==a.getSeconds())return!1;case"minute":case"minutes":if(r.getMinutes()!==a.getMinutes())return!1;case"hour":case"hours":if(r.getHours()!==a.getHours())return!1;case"day":case"days":case"date":if(r.getDate()!==a.getDate())return!1;case"month":case"months":if(r.getMonth()!==a.getMonth())return!1;case"year":case"years":if(r.getFullYear()!==a.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${o}`)}return!0}function Bx(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function oO(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const aO={YY(e,t,o){const r=this.YYYY(e,t,o)%100;return r>=0?Ga(r):"-"+Ga(Math.abs(r))},YYYY(e,t,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Ga(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return oO(this.Q(e))},D(e){return e.getDate()},Do(e){return oO(e.getDate())},DD(e){return Ga(e.getDate())},DDD(e){return Fy(e)},DDDD(e){return Ga(Fy(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Ny(e)},ww(e){return Ga(Ny(e))},H(e){return e.getHours()},HH(e){return Ga(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return Ga(this.h(e))},m(e){return e.getMinutes()},mm(e){return Ga(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Ga(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Ga(Math.floor(e.getMilliseconds()/10))},SSS(e){return Ga(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,o,r){const a=r==null?e.getTimezoneOffset():r;return tO(a,":")},ZZ(e,t,o,r){const a=r==null?e.getTimezoneOffset():r;return tO(a)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function xW(e,t,o,r,a){if(e!==0&&!e||e===1/0||e===-1/0)return;const i=new Date(e);if(isNaN(i))return;t===void 0&&(t=F9);const n=R9(o,Ui.props);return t.replace(oW,(s,l)=>s in aO?aO[s](i,n,r,a):l===void 0?s:l.split("\\]").join("]"))}function wW(e){return ov(e)===!0?new Date(e.getTime()):e}var Ba={isValid:cW,extractDate:sW,buildDate:uW,getDayOfWeek:dW,getWeekOfYear:Ny,isBetweenDates:mW,addToDate:pW,subtractFromDate:hW,adjustDate:V9,startOfDate:ds,endOfDate:vW,getMaxDate:gW,getMinDate:_W,getDateDiff:q9,getDayOfYear:Fy,inferDateFormat:bW,getDateBetween:yW,isSameDate:CW,daysInMonth:Bx,formatDate:xW,clone:wW};async function IW(e,t,o){const r=new DOMParser().parseFromString(o,"application/xml");$utils.verificarErro(r.getElementsByTagName("parsererror").length,"Erro ao gravar os dados do cancelamento do cupom. (XML inv\xE1lido)");const a=r.getElementsByTagName("infCFe")[0];$utils.verificarErro(!a,"Erro ao gravar os dados do cancelamento do cupom. (XML inv\xE1lido, sem infCFe)");const i=a.getElementsByTagName("ide")[0];$utils.verificarErro(!i,"Erro ao gravar os dados do cancelamento do cupom. (XML inv\xE1lido, sem ide)");const n=a.getElementsByTagName("dest")[0];$utils.verificarErro(!n,"Erro ao gravar os dados do cancelamento do cupom. (XML inv\xE1lido, sem dest)");const s=a.getElementsByTagName("total")[0];$utils.verificarErro(!s,"Erro ao gravar os dados do cancelamento do cupom. (XML inv\xE1lido, sem total)");const l=(n.getElementsByTagName("CPF")[0]||n.getElementsByTagName("CNPJ")[0]||{}).innerHTML||"",u=(i.getElementsByTagName("dEmi")[0]||{}).innerHTML,c=(i.getElementsByTagName("hEmi")[0]||{}).innerHTML,d=u&&c?Ba.formatDate(u.substr(0,4)+"-"+u.substr(4,2)+"-"+u.substr(6,2)+"T"+c.substr(0,2)+":"+c.substr(2,2)+":"+c.substr(4,2)):"",m=(a.getElementsByTagName("dEmi")[0]||{}).innerHTML,f=(a.getElementsByTagName("hEmi")[0]||{}).innerHTML,p=u&&c?Ba.formatDate(m.substr(0,4)+"-"+m.substr(4,2)+"-"+m.substr(6,2)+"T"+f.substr(0,2)+":"+f.substr(2,2)+":"+f.substr(4,2)):"",g={};g.documentoFatura=await $erp().documento.get(e),$utils.verificarExcecao(!g.documentoFatura,"N\xE3o foi poss\xEDvel carregar a fatura");const b={id:$utils.uuid(),idDocumento:e,idEmpresa:g.documentoFatura.idEmpresa,descricaoEmpresa:g.documentoFatura.descricaoEmpresa,idContato:g.documentoFatura.idContato,descricaoContato:g.documentoFatura.descricaoContato,nomeArquivo:t,chaveCupom:a.getAttribute("Id")||"",cancelamento:!0,xml:o,dataHoraEmissao:d,dataHoraCupomCancelado:p,numeroCupom:Number((i.getElementsByTagName("nCFe")[0]||{}).innerHTML)||0,documentoConsumidor:l,valorTotal:Number((s.getElementsByTagName("vCFe")[0]||{}).innerHTML)||0,chaveCupomCancelado:a.getAttribute("chCanc")||""};await $db.documentoSat.grava({atual:b})}async function EW(e,t,o){const r=new DOMParser().parseFromString(o,"application/xml");$utils.verificarErro(r.getElementsByTagName("parsererror").length,"Erro ao gravar os dados do cupom. (XML inv\xE1lido)");const a=r.getElementsByTagName("infCFe")[0];$utils.verificarErro(!a,"Erro ao gravar os dados do cupom. (XML inv\xE1lido, sem infCFe)");const i=a.getElementsByTagName("ide")[0];$utils.verificarErro(!i,"Erro ao gravar os dados do cupom. (XML inv\xE1lido, sem ide)");const n=a.getElementsByTagName("dest")[0];$utils.verificarErro(!n,"Erro ao gravar os dados do cupom. (XML inv\xE1lido, sem dest)");const s=a.getElementsByTagName("total")[0];$utils.verificarErro(!s,"Erro ao gravar os dados do cupom. (XML inv\xE1lido, sem total)");const l=s.getElementsByTagName("ICMSTot")[0];$utils.verificarErro(!l,"Erro ao gravar os dados do cupom. (XML inv\xE1lido, sem ICMSTot)");const u=(n.getElementsByTagName("CPF")[0]||n.getElementsByTagName("CNPJ")[0]||{}).innerHTML||"",c=(i.getElementsByTagName("dEmi")[0]||{}).innerHTML,d=(i.getElementsByTagName("hEmi")[0]||{}).innerHTML,m=c&&d?Ba.formatDate(c.substr(0,4)+"-"+c.substr(4,2)+"-"+c.substr(6,2)+"T"+d.substr(0,2)+":"+d.substr(2,2)+":"+d.substr(4,2)):"",f={id:$utils.uuid(),idDocumento:e.idDocumento,idEmpresa:e.documentoFatura.idEmpresa,descricaoEmpresa:e.empresa.nome,idContato:e.documentoFatura.idContato,descricaoContato:e.documentoFatura.descricaoContato,nomeArquivo:t,chaveCupom:a.getAttribute("Id")||"",cancelamento:!1,xml:o,dataHoraEmissao:m,numeroCupom:Number((i.getElementsByTagName("nCFe")[0]||{}).innerHTML)||0,documentoConsumidor:u,valorIcms:Number((l.getElementsByTagName("vICMS")[0]||{}).innerHTML)||0,valorProdutos:Number((l.getElementsByTagName("vProd")[0]||{}).innerHTML)||0,valorDesconto:Number((l.getElementsByTagName("vDesc")[0]||{}).innerHTML)||0,valorPis:Number((l.getElementsByTagName("vPIS")[0]||{}).innerHTML)||0,valorConfins:Number((l.getElementsByTagName("vCOFINS")[0]||{}).innerHTML)||0,valorPisSt:Number((l.getElementsByTagName("vPISST")[0]||{}).innerHTML)||0,valorConfinsSt:Number((l.getElementsByTagName("vCOFINSST")[0]||{}).innerHTML)||0,outrosValores:Number((l.getElementsByTagName("vOutro")[0]||{}).innerHTML)||0,valorTotal:Number((s.getElementsByTagName("vCFe")[0]||{}).innerHTML)||0,valorTributos:Number((l.getElementsByTagName("vCFeLei12741")[0]||{}).innerHTML)||0,chaveCupomCancelado:"",dataHoraCupomCancelado:null};await $db.documentoSat.grava({atual:f})}var Lx={},bg={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+t+"]["+o+"]*",a=new RegExp("^"+r+"$"),i=function(s,l){const u=[];let c=l.exec(s);for(;c;){const d=[];d.startIndex=l.lastIndex-c[0].length;const m=c.length;for(let f=0;f<m;f++)d.push(c[f]);u.push(d),c=l.exec(s)}return u},n=function(s){const l=a.exec(s);return!(l===null||typeof l=="undefined")};e.isExist=function(s){return typeof s!="undefined"},e.isEmptyObject=function(s){return Object.keys(s).length===0},e.merge=function(s,l,u){if(l){const c=Object.keys(l),d=c.length;for(let m=0;m<d;m++)u==="strict"?s[c[m]]=[l[c[m]]]:s[c[m]]=l[c[m]]}},e.getValue=function(s){return e.isExist(s)?s:""},e.isName=n,e.getAllMatches=i,e.nameRegexp=r})(bg);const $x=bg,SW={allowBooleanAttributes:!1,unpairedTags:[]};Lx.validate=function(e,t){t=Object.assign({},SW,t);const o=[];let r=!1,a=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=iO(e,i),i.err)return i}else if(e[i]==="<"){let n=i;if(i++,e[i]==="!"){i=nO(e,i);continue}else{let s=!1;e[i]==="/"&&(s=!0,i++);let l="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)l+=e[i];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),i--),!FW(l)){let d;return l.trim().length===0?d="Invalid space after '<'.":d="Tag '"+l+"' is an invalid name.",ja("InvalidTag",d,pi(e,i))}const u=OW(e,i);if(u===!1)return ja("InvalidAttr","Attributes for '"+l+"' have open quote.",pi(e,i));let c=u.value;if(i=u.index,c[c.length-1]==="/"){const d=i-c.length;c=c.substring(0,c.length-1);const m=sO(c,t);if(m===!0)r=!0;else return ja(m.err.code,m.err.msg,pi(e,d+m.err.line))}else if(s)if(u.tagClosed){if(c.trim().length>0)return ja("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",pi(e,n));{const d=o.pop();if(l!==d.tagName){let m=pi(e,d.tagStartPos);return ja("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+l+"'.",pi(e,n))}o.length==0&&(a=!0)}}else return ja("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",pi(e,i));else{const d=sO(c,t);if(d!==!0)return ja(d.err.code,d.err.msg,pi(e,i-c.length+d.err.line));if(a===!0)return ja("InvalidXml","Multiple possible root nodes found.",pi(e,i));t.unpairedTags.indexOf(l)!==-1||o.push({tagName:l,tagStartPos:n}),r=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=nO(e,i);continue}else if(e[i+1]==="?"){if(i=iO(e,++i),i.err)return i}else break;else if(e[i]==="&"){const d=MW(e,i);if(d==-1)return ja("InvalidChar","char '&' is not expected.",pi(e,i));i=d}else if(a===!0&&!rO(e[i]))return ja("InvalidXml","Extra text at the end",pi(e,i));e[i]==="<"&&i--}}else{if(rO(e[i]))continue;return ja("InvalidChar","char '"+e[i]+"' is not expected.",pi(e,i))}if(r){if(o.length==1)return ja("InvalidTag","Unclosed tag '"+o[0].tagName+"'.",pi(e,o[0].tagStartPos));if(o.length>0)return ja("InvalidXml","Invalid '"+JSON.stringify(o.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ja("InvalidXml","Start tag expected.",1);return!0};function rO(e){return e===" "||e==="	"||e===`
`||e==="\r"}function iO(e,t){const o=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(o,t-o);if(t>5&&r==="xml")return ja("InvalidXml","XML declaration allowed only at the start of the document.",pi(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function nO(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let o=1;for(t+=8;t<e.length;t++)if(e[t]==="<")o++;else if(e[t]===">"&&(o--,o===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const AW='"',TW="'";function OW(e,t){let o="",r="",a=!1;for(;t<e.length;t++){if(e[t]===AW||e[t]===TW)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){a=!0;break}o+=e[t]}return r!==""?!1:{value:o,index:t,tagClosed:a}}const DW=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function sO(e,t){const o=$x.getAllMatches(e,DW),r={};for(let a=0;a<o.length;a++){if(o[a][1].length===0)return ja("InvalidAttr","Attribute '"+o[a][2]+"' has no space in starting.",bm(o[a]));if(o[a][3]!==void 0&&o[a][4]===void 0)return ja("InvalidAttr","Attribute '"+o[a][2]+"' is without value.",bm(o[a]));if(o[a][3]===void 0&&!t.allowBooleanAttributes)return ja("InvalidAttr","boolean attribute '"+o[a][2]+"' is not allowed.",bm(o[a]));const i=o[a][2];if(!NW(i))return ja("InvalidAttr","Attribute '"+i+"' is an invalid name.",bm(o[a]));if(!r.hasOwnProperty(i))r[i]=1;else return ja("InvalidAttr","Attribute '"+i+"' is repeated.",bm(o[a]))}return!0}function PW(e,t){let o=/\d/;for(e[t]==="x"&&(t++,o=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(o))break}return-1}function MW(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,PW(e,t);let o=0;for(;t<e.length;t++,o++)if(!(e[t].match(/\w/)&&o<20)){if(e[t]===";")break;return-1}return t}function ja(e,t,o){return{err:{code:e,msg:t,line:o.line||o,col:o.col}}}function NW(e){return $x.isName(e)}function FW(e){return $x.isName(e)}function pi(e,t){const o=e.substring(0,t).split(/\r?\n/);return{line:o.length,col:o[o.length-1].length+1}}function bm(e){return e.startIndex+e[1].length}var Ux={};const B9={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,o){return e}},RW=function(e){return Object.assign({},B9,e)};Ux.buildOptions=RW;Ux.defaultOptions=B9;class kW{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,o){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:o})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}}var VW=kW;const qW=bg;function BW(e,t){const o={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let r=1,a=!1,i=!1,n="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(a&&UW(e,t))t+=7,[entityName,val,t]=LW(e,t+1),val.indexOf("&")===-1&&(o[GW(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(a&&zW(e,t))t+=8;else if(a&&HW(e,t))t+=8;else if(a&&jW(e,t))t+=9;else if($W)i=!0;else throw new Error("Invalid DOCTYPE");r++,n=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,r--):r--,r===0)break}else e[t]==="["?a=!0:n+=e[t];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:o,i:t}}function LW(e,t){let o="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)o+=e[t];if(o=o.trim(),o.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=e[t++];let a="";for(;t<e.length&&e[t]!==r;t++)a+=e[t];return[o,a,t]}function $W(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function UW(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function zW(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function HW(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function jW(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function GW(e){if(qW.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var WW=BW;const XW=/^[-+]?0x[a-fA-F0-9]+$/,YW=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const KW={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function QW(e,t={}){if(t=Object.assign({},KW,t),!e||typeof e!="string")return e;let o=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(o))return e;if(t.hex&&XW.test(o))return Number.parseInt(o,16);{const r=YW.exec(o);if(r){const a=r[1],i=r[2];let n=JW(r[3]);const s=r[4]||r[6];if(!t.leadingZeros&&i.length>0&&a&&o[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!a&&o[1]!==".")return e;{const l=Number(o),u=""+l;return u.search(/[eE]/)!==-1||s?t.eNotation?l:e:o.indexOf(".")!==-1?u==="0"&&n===""||u===n||a&&u==="-"+n?l:e:i?n===u||a+n===u?l:e:o===u||o===a+u?l:e}}else return e}}function JW(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var ZW=QW;const zx=bg,ym=VW,eX=WW,tX=ZW;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,zx.nameRegexp);class oX{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=aX,this.parseXml=lX,this.parseTextData=rX,this.resolveNameSpace=iX,this.buildAttributesMap=sX,this.isItStopNode=fX,this.replaceEntitiesValue=uX,this.readStopNodeData=pX,this.saveTextToParentTag=dX,this.addChild=cX}}function aX(e){const t=Object.keys(e);for(let o=0;o<t.length;o++){const r=t[o];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function rX(e,t,o,r,a,i,n){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){n||(e=this.replaceEntitiesValue(e));const s=this.options.tagValueProcessor(t,e,o,a,i);return s==null?e:typeof s!=typeof e||s!==e?s:this.options.trimValues?ky(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?ky(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function iX(e){if(this.options.removeNSPrefix){const t=e.split(":"),o=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=o+t[1])}return e}const nX=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function sX(e,t,o){if(!this.options.ignoreAttributes&&typeof e=="string"){const r=zx.getAllMatches(e,nX),a=r.length,i={};for(let n=0;n<a;n++){const s=this.resolveNameSpace(r[n][1]);let l=r[n][4],u=this.options.attributeNamePrefix+s;if(s.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const c=this.options.attributeValueProcessor(s,l,t);c==null?i[u]=l:typeof c!=typeof l||c!==l?i[u]=c:i[u]=ky(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[u]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const n={};return n[this.options.attributesGroupName]=i,n}return i}}const lX=function(e){e=e.replace(/\r\n?/g,`
`);const t=new ym("!xml");let o=t,r="",a="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){const s=iu(e,">",i,"Closing Tag is not closed.");let l=e.substring(i+2,s).trim();if(this.options.removeNSPrefix){const d=l.indexOf(":");d!==-1&&(l=l.substr(d+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),o&&(r=this.saveTextToParentTag(r,o,a));const u=a.substring(a.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let c=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(c=a.lastIndexOf(".",a.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=a.lastIndexOf("."),a=a.substring(0,c),o=this.tagsNodeStack.pop(),r="",i=s}else if(e[i+1]==="?"){let s=Ry(e,i,!1,"?>");if(!s)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,o,a),!(this.options.ignoreDeclaration&&s.tagName==="?xml"||this.options.ignorePiTags)){const l=new ym(s.tagName);l.add(this.options.textNodeName,""),s.tagName!==s.tagExp&&s.attrExpPresent&&(l[":@"]=this.buildAttributesMap(s.tagExp,a,s.tagName)),this.addChild(o,l,a)}i=s.closeIndex+1}else if(e.substr(i+1,3)==="!--"){const s=iu(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){const l=e.substring(i+4,s-2);r=this.saveTextToParentTag(r,o,a),o.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}i=s}else if(e.substr(i+1,2)==="!D"){const s=eX(e,i);this.docTypeEntities=s.entities,i=s.i}else if(e.substr(i+1,2)==="!["){const s=iu(e,"]]>",i,"CDATA is not closed.")-2,l=e.substring(i+9,s);if(r=this.saveTextToParentTag(r,o,a),this.options.cdataPropName)o.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]);else{let u=this.parseTextData(l,o.tagname,a,!0,!1,!0);u==null&&(u=""),o.add(this.options.textNodeName,u)}i=s+2}else{let s=Ry(e,i,this.options.removeNSPrefix),l=s.tagName;const u=s.rawTagName;let c=s.tagExp,d=s.attrExpPresent,m=s.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),o&&r&&o.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,o,a,!1));const f=o;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(o=this.tagsNodeStack.pop(),a=a.substring(0,a.lastIndexOf("."))),l!==t.tagname&&(a+=a?"."+l:l),this.isItStopNode(this.options.stopNodes,a,l)){let p="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)i=s.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)i=s.closeIndex;else{const b=this.readStopNodeData(e,u,m+1);if(!b)throw new Error(`Unexpected end of ${u}`);i=b.i,p=b.tagContent}const g=new ym(l);l!==c&&d&&(g[":@"]=this.buildAttributesMap(c,a,l)),p&&(p=this.parseTextData(p,l,a,!0,d,!0,!0)),a=a.substr(0,a.lastIndexOf(".")),g.add(this.options.textNodeName,p),this.addChild(o,g,a)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),a=a.substr(0,a.length-1),c=l):c=c.substr(0,c.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const p=new ym(l);l!==c&&d&&(p[":@"]=this.buildAttributesMap(c,a,l)),this.addChild(o,p,a),a=a.substr(0,a.lastIndexOf("."))}else{const p=new ym(l);this.tagsNodeStack.push(o),l!==c&&d&&(p[":@"]=this.buildAttributesMap(c,a,l)),this.addChild(o,p,a),o=p}r="",i=m}}else r+=e[i];return t.child};function cX(e,t,o){const r=this.options.updateTag(t.tagname,o,t[":@"]);r===!1||(typeof r=="string"&&(t.tagname=r),e.addChild(t))}const uX=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const o=this.docTypeEntities[t];e=e.replace(o.regx,o.val)}for(let t in this.lastEntities){const o=this.lastEntities[t];e=e.replace(o.regex,o.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const o=this.htmlEntities[t];e=e.replace(o.regex,o.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function dX(e,t,o,r){return e&&(r===void 0&&(r=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,o,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function fX(e,t,o){const r="*."+o;for(const a in e){const i=e[a];if(r===i||t===i)return!0}return!1}function mX(e,t,o=">"){let r,a="";for(let i=t;i<e.length;i++){let n=e[i];if(r)n===r&&(r="");else if(n==='"'||n==="'")r=n;else if(n===o[0])if(o[1]){if(e[i+1]===o[1])return{data:a,index:i}}else return{data:a,index:i};else n==="	"&&(n=" ");a+=n}}function iu(e,t,o,r){const a=e.indexOf(t,o);if(a===-1)throw new Error(r);return a+t.length-1}function Ry(e,t,o,r=">"){const a=mX(e,t+1,r);if(!a)return;let i=a.data;const n=a.index,s=i.search(/\s/);let l=i,u=!0;s!==-1&&(l=i.substr(0,s).replace(/\s\s*$/,""),i=i.substr(s+1));const c=l;if(o){const d=l.indexOf(":");d!==-1&&(l=l.substr(d+1),u=l!==a.data.substr(d+1))}return{tagName:l,tagExp:i,closeIndex:n,attrExpPresent:u,rawTagName:c}}function pX(e,t,o){const r=o;let a=1;for(;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const i=iu(e,">",o,`${t} is not closed`);if(e.substring(o+2,i).trim()===t&&(a--,a===0))return{tagContent:e.substring(r,o),i};o=i}else if(e[o+1]==="?")o=iu(e,"?>",o+1,"StopNode is not closed.");else if(e.substr(o+1,3)==="!--")o=iu(e,"-->",o+3,"StopNode is not closed.");else if(e.substr(o+1,2)==="![")o=iu(e,"]]>",o,"StopNode is not closed.")-2;else{const i=Ry(e,o,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&a++,o=i.closeIndex)}}function ky(e,t,o){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:tX(e,o)}else return zx.isExist(e)?e:""}var hX=oX,L9={};function vX(e,t){return $9(e,t)}function $9(e,t,o){let r;const a={};for(let i=0;i<e.length;i++){const n=e[i],s=gX(n);let l="";if(o===void 0?l=s:l=o+"."+s,s===t.textNodeName)r===void 0?r=n[s]:r+=""+n[s];else{if(s===void 0)continue;if(n[s]){let u=$9(n[s],t,l);const c=bX(u,t);n[":@"]?_X(u,n[":@"],l,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),a[s]!==void 0&&a.hasOwnProperty(s)?(Array.isArray(a[s])||(a[s]=[a[s]]),a[s].push(u)):t.isArray(s,l,c)?a[s]=[u]:a[s]=u}}}return typeof r=="string"?r.length>0&&(a[t.textNodeName]=r):r!==void 0&&(a[t.textNodeName]=r),a}function gX(e){const t=Object.keys(e);for(let o=0;o<t.length;o++){const r=t[o];if(r!==":@")return r}}function _X(e,t,o,r){if(t){const a=Object.keys(t),i=a.length;for(let n=0;n<i;n++){const s=a[n];r.isArray(s,o+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function bX(e,t){const{textNodeName:o}=t,r=Object.keys(e).length;return!!(r===0||r===1&&(e[o]||typeof e[o]=="boolean"||e[o]===0))}L9.prettify=vX;const{buildOptions:yX}=Ux,CX=hX,{prettify:xX}=L9,wX=Lx;class IX{constructor(t){this.externalEntities={},this.options=yX(t)}parse(t,o){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(o){o===!0&&(o={});const i=wX.validate(t,o);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}const r=new CX(this.options);r.addExternalEntities(this.externalEntities);const a=r.parseXml(t);return this.options.preserveOrder||a===void 0?a:xX(a,this.options)}addEntity(t,o){if(o.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(o==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=o}}var EX=IX;const SX=`
`;function AX(e,t){let o="";return t.format&&t.indentBy.length>0&&(o=SX),U9(e,t,"",o)}function U9(e,t,o,r){let a="",i=!1;for(let n=0;n<e.length;n++){const s=e[n],l=TX(s);if(l===void 0)continue;let u="";if(o.length===0?u=l:u=`${o}.${l}`,l===t.textNodeName){let p=s[l];OX(u,t)||(p=t.tagValueProcessor(l,p),p=z9(p,t)),i&&(a+=r),a+=p,i=!1;continue}else if(l===t.cdataPropName){i&&(a+=r),a+=`<![CDATA[${s[l][0][t.textNodeName]}]]>`,i=!1;continue}else if(l===t.commentPropName){a+=r+`<!--${s[l][0][t.textNodeName]}-->`,i=!0;continue}else if(l[0]==="?"){const p=lO(s[":@"],t),g=l==="?xml"?"":r;let b=s[l][0][t.textNodeName];b=b.length!==0?" "+b:"",a+=g+`<${l}${b}${p}?>`,i=!0;continue}let c=r;c!==""&&(c+=t.indentBy);const d=lO(s[":@"],t),m=r+`<${l}${d}`,f=U9(s[l],t,u,c);t.unpairedTags.indexOf(l)!==-1?t.suppressUnpairedNode?a+=m+">":a+=m+"/>":(!f||f.length===0)&&t.suppressEmptyNode?a+=m+"/>":f&&f.endsWith(">")?a+=m+`>${f}${r}</${l}>`:(a+=m+">",f&&r!==""&&(f.includes("/>")||f.includes("</"))?a+=r+t.indentBy+f+r:a+=f,a+=`</${l}>`),i=!0}return a}function TX(e){const t=Object.keys(e);for(let o=0;o<t.length;o++){const r=t[o];if(!!e.hasOwnProperty(r)&&r!==":@")return r}}function lO(e,t){let o="";if(e&&!t.ignoreAttributes)for(let r in e){if(!e.hasOwnProperty(r))continue;let a=t.attributeValueProcessor(r,e[r]);a=z9(a,t),a===!0&&t.suppressBooleanAttributes?o+=` ${r.substr(t.attributeNamePrefix.length)}`:o+=` ${r.substr(t.attributeNamePrefix.length)}="${a}"`}return o}function OX(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let o=e.substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+o)return!0;return!1}function z9(e,t){if(e&&e.length>0&&t.processEntities)for(let o=0;o<t.entities.length;o++){const r=t.entities[o];e=e.replace(r.regex,r.val)}return e}var DX=AX;const PX=DX,MX={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function xc(e){this.options=Object.assign({},MX,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=RX),this.processTextOrObjNode=NX,this.options.format?(this.indentate=FX,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}xc.prototype.build=function(e){return this.options.preserveOrder?PX(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};xc.prototype.j2x=function(e,t){let o="",r="";for(let a in e)if(!!Object.prototype.hasOwnProperty.call(e,a))if(typeof e[a]=="undefined")this.isAttribute(a)&&(r+="");else if(e[a]===null)this.isAttribute(a)?r+="":a[0]==="?"?r+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if(e[a]instanceof Date)r+=this.buildTextValNode(e[a],a,"",t);else if(typeof e[a]!="object"){const i=this.isAttribute(a);if(i)o+=this.buildAttrPairStr(i,""+e[a]);else if(a===this.options.textNodeName){let n=this.options.tagValueProcessor(a,""+e[a]);r+=this.replaceEntitiesValue(n)}else r+=this.buildTextValNode(e[a],a,"",t)}else if(Array.isArray(e[a])){const i=e[a].length;let n="";for(let s=0;s<i;s++){const l=e[a][s];typeof l=="undefined"||(l===null?a[0]==="?"?r+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+a+"/"+this.tagEndChar:typeof l=="object"?this.options.oneListGroup?n+=this.j2x(l,t+1).val:n+=this.processTextOrObjNode(l,a,t):n+=this.buildTextValNode(l,a,"",t))}this.options.oneListGroup&&(n=this.buildObjectNode(n,a,"",t)),r+=n}else if(this.options.attributesGroupName&&a===this.options.attributesGroupName){const i=Object.keys(e[a]),n=i.length;for(let s=0;s<n;s++)o+=this.buildAttrPairStr(i[s],""+e[a][i[s]])}else r+=this.processTextOrObjNode(e[a],a,t);return{attrStr:o,val:r}};xc.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function NX(e,t,o){const r=this.j2x(e,o+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,o):this.buildObjectNode(r.val,t,r.attrStr,o)}xc.prototype.buildObjectNode=function(e,t,o,r){if(e==="")return t[0]==="?"?this.indentate(r)+"<"+t+o+"?"+this.tagEndChar:this.indentate(r)+"<"+t+o+this.closeTag(t)+this.tagEndChar;{let a="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",a=""),(o||o==="")&&e.indexOf("<")===-1?this.indentate(r)+"<"+t+o+i+">"+e+a:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(r)+`<!--${e}-->`+this.newLine:this.indentate(r)+"<"+t+o+i+this.tagEndChar+e+this.indentate(r)+a}};xc.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};xc.prototype.buildTextValNode=function(e,t,o,r){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(r)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(r)+"<"+t+o+"?"+this.tagEndChar;{let a=this.options.tagValueProcessor(t,e);return a=this.replaceEntitiesValue(a),a===""?this.indentate(r)+"<"+t+o+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+o+">"+a+"</"+t+this.tagEndChar}};xc.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const o=this.options.entities[t];e=e.replace(o.regex,o.val)}return e};function FX(e){return this.options.indentBy.repeat(e)}function RX(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}var kX=xc;const VX=Lx,qX=EX,BX=kX;var D1={XMLParser:qX,XMLValidator:VX,XMLBuilder:BX};async function cO(){return{CNPJ:"_ide_CNPJ_ide_",signAC:"_ide_signAC_ide_",numeroCaixa:"_ide_numeroCaixa_ide_"}}function LX(){return{CNPJ:"_emit_CNPJ_emit_",IE:"_emit_IE_emit_",indRatISSQN:"_emit_indRatISSQN_emit_"}}function $X(e){var o;let t={};return t.CPF=(o=e==null?void 0:e.CPF_CNPJ)==null?void 0:o.replace(/\D/g,""),t.xNome=e==null?void 0:e.NomeCliente,t.CPF&&t.xNome||(t={}),t}function UX(e){var a,i,n;const t=(a=e==null?void 0:e.Itens)!=null?a:[],o=[];let r=1;for(const s of t){const l={};let u,c;if(l["@@nItem"]=String(r++),u=Number(s.ValorUnitario)||0,u=$utils.arredondaAbnt5891(u),u=$utils.arredondar(u,2),u=u.toFixed(2),c=s.DescontoUnitario*Number(s.Quantidade)||0,c=$utils.arredondaAbnt5891(c),c=$utils.arredondar(c,2),c=c.toFixed(2),l.prod={},l.prod.cProd=s.CodigoProduto.padStart(13,"0"),l.prod.xProd=(n=(i=s.Produto)==null?void 0:i.slice(0,120))!=null?n:"",l.prod.NCM=s.NCM,l.prod.CFOP=s.CFOP,l.prod.uCom=s.UnidadeMedida,l.prod.qCom=s.Quantidade,l.prod.vUnCom=u,l.prod.indRegra="A",l.prod.vDesc=c,l.imposto={},s.ICMS_CSOSN){let d;l.imposto.ICMS={},d=Number(s.ICMS_Aliquota)||0,d=d.toFixed(2),~["00","20","90"].indexOf(s.ICMS_CSOSN)&&(l.imposto.ICMS.ICMS00={},l.imposto.ICMS.ICMS00.Orig=s.ICMS_OrigemMercadoria,l.imposto.ICMS.ICMS00.CST=s.ICMS_CST,l.imposto.ICMS.ICMS00.pICMS=d),~["40","41","50","60"].indexOf(s.ICMS_CSOSN)&&(l.imposto.ICMS.ICMS40={},l.imposto.ICMS.ICMS40.Orig=s.ICMS_OrigemMercadoria,l.imposto.ICMS.ICMS40.CST=s.ICMS_CST),~["102","300","500"].indexOf(s.ICMS_CSOSN)&&(l.imposto.ICMS.ICMSSN102={},l.imposto.ICMS.ICMSSN102.Orig=s.ICMS_OrigemMercadoria,l.imposto.ICMS.ICMSSN102.CSOSN=s.ICMS_CSOSN),~["900"].indexOf(s.ICMS_CSOSN)&&(l.imposto.ICMS.ICMSSN900={},l.imposto.ICMS.ICMSSN900.Orig=s.ICMS_OrigemMercadoria,l.imposto.ICMS.ICMSSN900.CSOSN=s.ICMS_CSOSN,l.imposto.ICMS.ICMSSN900.pICMS=d)}if(s.PIS_CST){let d,m;l.imposto.PIS={},d=Number(s.PIS_Aliquota)||0,d=d.toFixed(4),m=Number(s.Total)||0,m=$utils.arredondaAbnt5891(m),m=$utils.arredondar(m,2),m=m.toFixed(2),~["01","02"].indexOf(s.PIS_CST)&&(l.imposto.PIS.PISAliq={},l.imposto.PIS.PISAliq.CST=s.PIS_CST,l.imposto.PIS.PISAliq.vBC=m,l.imposto.PIS.PISAliq.pPIS=d),~["03"].indexOf(s.PIS_CST)&&(l.imposto.PIS.PISQtde={},l.imposto.PIS.PISQtde.CST=s.PIS_CST),~["04","06","07","08","09"].indexOf(s.PIS_CST)&&(l.imposto.PIS.PISNT={},l.imposto.PIS.PISNT.CST=s.PIS_CST),~["49"].indexOf(s.PIS_CST)&&(l.imposto.PIS.PISSN={},l.imposto.PIS.PISSN.CST=s.PIS_CST),~["99"].indexOf(s.PIS_CST)&&(l.imposto.PIS.PISOutr={},l.imposto.PIS.PISOutr.CST=s.PIS_CST,l.imposto.PIS.PISOutr.vBC=m,l.imposto.PIS.PISOutr.pPIS=d)}if(s.COFINS_CST){let d,m;l.imposto.COFINS={},d=Number(s.COFINS_Aliquota)||0,d=d.toFixed(4),m=Number(s.Total)||0,m=$utils.arredondaAbnt5891(m),m=$utils.arredondar(m,2),m=m.toFixed(2),~["01","02"].indexOf(s.COFINS_CST)&&(l.imposto.COFINS.COFINSAliq={},l.imposto.COFINS.COFINSAliq.CST=s.COFINS_CST,l.imposto.COFINS.COFINSAliq.vBC=m,l.imposto.COFINS.COFINSAliq.pCOFINS=d),~["03"].indexOf(s.COFINS_CST)&&(l.imposto.COFINS.COFINSQtde={},l.imposto.COFINS.COFINSQtde.CST=s.COFINS_CST),~["04","06","07","08","09"].indexOf(s.COFINS_CST)&&(l.imposto.COFINS.COFINSNT={},l.imposto.COFINS.COFINSNT.CST=s.COFINS_CST),~["49"].indexOf(s.COFINS_CST)&&(l.imposto.COFINS.COFINSSN={},l.imposto.COFINS.COFINSSN.CST=s.COFINS_CST),~["99"].indexOf(s.COFINS_CST)&&(l.imposto.COFINS.COFINSOutr={},l.imposto.COFINS.COFINSOutr.CST=s.COFINS_CST,l.imposto.COFINS.COFINSOutr.vBC=m,l.imposto.COFINS.COFINSOutr.pCOFINS=d)}o.push(l)}return o}function zX(e){var r;const t=(r=e==null?void 0:e.Itens)!=null?r:[],o={};(e==null?void 0:e.Acrescimo)&&(e==null?void 0:e.Acrescimo)!=="0.00"&&(o.DescAcrEntr={},o.DescAcrEntr.vAcresSubtot=e==null?void 0:e.Acrescimo),(e==null?void 0:e.Desconto)&&(e==null?void 0:e.Desconto)!=="0.00"&&(o.DescAcrEntr={},o.DescAcrEntr.vDescSubtot=e==null?void 0:e.Desconto),o.vCFeLei12741=0;for(const a of t)o.vCFeLei12741+=Number(a.ValorAproxTributos)||0;return o.vCFeLei12741=$utils.arredondaAbnt5891(o.vCFeLei12741),o.vCFeLei12741=$utils.arredondar(o.vCFeLei12741,2),o.vCFeLei12741=o.vCFeLei12741.toFixed(2),o.vCFeLei12741=String(o.vCFeLei12741),o}function HX(e){var r;const t=(r=e==null?void 0:e.FormaPgto)!=null?r:[],o={};o.MP=[];for(const a of t){const i={};i.cMP=a.CodigoMeioPagamento,i.vMP=a.Valor,~["03","04"].indexOf(a.CodigoMeioPagamento)&&(i.cAdmC=999),o.MP.push(i)}return o}function jX(e){let t={};return t.infCpl=e==null?void 0:e.Mensagem,t.infCpl||(t={}),t}async function GX(e){const{dados:t,idEmpresa:o,cancelamento:r}=e!=null?e:{},a="_infCFe_versaoDadosEnt_infCFe_",i=new D1.XMLBuilder({ignoreAttributes:!1,attributeNamePrefix:"@@",format:!0});let n=!r,s=r,l={};return n&&(l.CFe={},l.CFe.infCFe={"@@versaoDadosEnt":a,ide:await cO(),emit:LX(),dest:$X(t),det:UX(t),total:zX(t),pgto:HX(t),infAdic:jX(t)}),s&&(l.CFeCanc={},l.CFeCanc.infCFe={"@@chCanc":t.ChaveAcessoCFe,ide:await cO(),emit:{},dest:{},total:{}}),i.build(l)}var uO={gerar:WG,hwDest:XG,salvarRetornoCancelamento:IW,salvarRetornoEmissao:EW,xml:GX},WX={infEvento:{cOrgao:{_titulo:"C\xF3digo do \xF3rg\xE3o de recep\xE7\xE3o do Evento. Utilizar a Tabela do IBGE extendida, utilizar",_doc:"C\xF3digo do \xF3rg\xE3o de recep\xE7\xE3o do Evento. Utilizar a Tabela do IBGE extendida, utilizar 91 para identificar o Ambiente Nacional (cOrgao)",_type:"TCOrgaoIBGE",_enumeration:[{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"31",label:"31"},{value:"32",label:"32"},{value:"33",label:"33"},{value:"35",label:"35"},{value:"41",label:"41"},{value:"42",label:"42"},{value:"43",label:"43"},{value:"50",label:"50"},{value:"51",label:"51"},{value:"52",label:"52"},{value:"53",label:"53"},{value:"91",label:"91 para identificar o Ambiente Nacional"}],_valorInic:"11"},tpAmb:{_titulo:"Identifica\xE7\xE3o do Ambiente",_doc:"Identifica\xE7\xE3o do Ambiente: 1 - Produ\xE7\xE3o 2 - Homologa\xE7\xE3o (tpAmb)",_type:"TAmb",_enumeration:[{value:"1",label:"1 - Produ\xE7\xE3o"},{value:"2",label:"2 - Homologa\xE7\xE3o"}],_valorInic:"1"},escolhas:{_titulo:"",_doc:"",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_valorInic:""}},chNFe:{_titulo:"Chave de Acesso da NF-e vinculada ao evento",_doc:"Chave de Acesso da NF-e vinculada ao evento (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_valorInic:""},dhEvento:{_titulo:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm)",_doc:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm) (dhEvento)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d-0[1-4]:00",_valorInic:""},tpEvento:{_titulo:"Tipo do Evento",_doc:"Tipo do Evento (tpEvento)",_pattern:"[0-9]{6}",_enumeration:[{value:"110111",label:"110111"}],_valorInic:"110111"},nSeqEvento:{_titulo:"Seq\xFCencial do evento para o mesmo tipo de evento.  Para maioria dos eventos ser\xE1 1, nos casos em que possa existir mais de um evento, como \xE9 o caso da carta de corre\xE7\xE3o, o autor do evento deve numerar de forma seq\xFCencial.",_doc:"Seq\xFCencial do evento para o mesmo tipo de evento.  Para maioria dos eventos ser\xE1 1, nos casos em que possa existir mais de um evento, como \xE9 o caso da carta de corre\xE7\xE3o, o autor do evento deve numerar de forma seq\xFCencial. (nSeqEvento)",_pattern:"[1-9]|[1][0-9]{0,1}|20",_valorInic:""},verEvento:{_titulo:"Vers\xE3o do Tipo do Evento",_doc:"Vers\xE3o do Tipo do Evento (verEvento)",_enumeration:[{value:"1.00",label:"1.00"}],_valorInic:"1.00"},detEvento:{_titulo:"Schema XML de valida\xE7\xE3o do evento do cancelamento 1101111",_doc:"Schema XML de valida\xE7\xE3o do evento do cancelamento 1101111 (detEvento)",_valorInic:"",descEvento:{_titulo:"Descri\xE7\xE3o do Evento - \u201C",_doc:"Descri\xE7\xE3o do Evento - \u201CCancelamento\u201D (descEvento)",_enumeration:[{value:"Cancelamento",label:"Cancelamento\u201D"}],_valorInic:"Cancelamento"},nProt:{_titulo:"N\xFAmero do Protocolo de Status da NF-e. 1 posi\xE7\xE3o (1 \u2013 Secretaria de Fazenda Estadual 2 \u2013 Receita Federal); 2 posi\xE7\xF5es ano; 10 seq\xFCencial no ano.",_doc:"N\xFAmero do Protocolo de Status da NF-e. 1 posi\xE7\xE3o (1 \u2013 Secretaria de Fazenda Estadual 2 \u2013 Receita Federal); 2 posi\xE7\xF5es ano; 10 seq\xFCencial no ano. (nProt)",_pattern:"[0-9]{15}",_type:"TProt",_valorInic:""},xJust:{_titulo:"Justificativa do cancelamento",_doc:"Justificativa do cancelamento (xJust)",_type:"TJust",_minLength:15,_maxLength:255,_valorInic:""}}}},XX={infEvento:{cOrgao:{_titulo:"C\xF3digo do \xF3rg\xE3o de recep\xE7\xE3o do Evento. Utilizar a Tabela do IBGE extendida, utilizar",_doc:"C\xF3digo do \xF3rg\xE3o de recep\xE7\xE3o do Evento. Utilizar a Tabela do IBGE extendida, utilizar 90 para identificar o Ambiente Nacional (cOrgao)",_type:"TCOrgaoIBGE",_enumeration:[{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"31",label:"31"},{value:"32",label:"32"},{value:"33",label:"33"},{value:"35",label:"35"},{value:"41",label:"41"},{value:"42",label:"42"},{value:"43",label:"43"},{value:"50",label:"50"},{value:"51",label:"51"},{value:"52",label:"52"},{value:"53",label:"53"},{value:"90",label:"90 para identificar o Ambiente Nacional"}],_valorInic:"11"},tpAmb:{_titulo:"Identifica\xE7\xE3o do Ambiente",_doc:"Identifica\xE7\xE3o do Ambiente: 1 - Produ\xE7\xE3o 2 - Homologa\xE7\xE3o (tpAmb)",_type:"TAmb",_enumeration:[{value:"1",label:"1 - Produ\xE7\xE3o"},{value:"2",label:"2 - Homologa\xE7\xE3o"}],_valorInic:"1"},escolhas:{_titulo:"",_doc:"",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_valorInic:""}},chNFe:{_titulo:"Chave de Acesso da NF-e vinculada ao evento",_doc:"Chave de Acesso da NF-e vinculada ao evento (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_valorInic:""},dhEvento:{_titulo:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm)",_doc:"Data e Hora do Evento, formato UTC (AAAA-MM-DDThh:mm:ssTZD, onde TZD = +hh:mm ou -hh:mm) (dhEvento)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d-0[1-4]:00",_valorInic:""},tpEvento:{_titulo:"Tipo do Evento",_doc:"Tipo do Evento (tpEvento)",_pattern:"[0-9]{6}",_enumeration:[{value:"110110",label:"110110"}],_valorInic:"110110"},nSeqEvento:{_titulo:"Seq\xFCencial do evento para o mesmo tipo de evento.  Para maioria dos eventos ser\xE1 1, nos casos em que possa existir mais de um evento, como \xE9 o caso da carta de corre\xE7\xE3o, o autor do evento deve numerar de forma seq\xFCencial.",_doc:"Seq\xFCencial do evento para o mesmo tipo de evento.  Para maioria dos eventos ser\xE1 1, nos casos em que possa existir mais de um evento, como \xE9 o caso da carta de corre\xE7\xE3o, o autor do evento deve numerar de forma seq\xFCencial. (nSeqEvento)",_pattern:"[1-9]|[1][0-9]{0,1}",_valorInic:""},verEvento:{_titulo:"Vers\xE3o do Tipo do Evento",_doc:"Vers\xE3o do Tipo do Evento (verEvento)",_enumeration:[{value:"1.00",label:"1.00"}],_valorInic:"1.00"},detEvento:{_titulo:"Evento do carta de corre\xE7\xE3o e1101110",_doc:"Evento do carta de corre\xE7\xE3o e1101110 (detEvento)",_valorInic:"",descEvento:{_titulo:"Descri\xE7\xE3o do Evento - \u201C\u201D",_doc:"Descri\xE7\xE3o do Evento - \u201CCarta de Corre\xE7\xE3o\u201D (descEvento)",_enumeration:[{value:"Carta de Corre\xE7\xE3o",label:"Carta de Corre\xE7\xE3o"},{value:"Carta de Correcao",label:"Carta de Correcao"}],_valorInic:"Carta de Correcao"},xCorrecao:{_titulo:"Corre\xE7\xE3o a ser considerada",_doc:"Corre\xE7\xE3o a ser considerada (xCorrecao)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_minLength:15,_maxLength:1e3,_valorInic:""},xCondUso:{_titulo:"Texto Fixo com as condi\xE7\xF5es de uso da Carta de Corre\xE7\xE3o",_doc:"Texto Fixo com as condi\xE7\xF5es de uso da Carta de Corre\xE7\xE3o (xCondUso)",_enumeration:[{value:"A Carta de Corre\xE7\xE3o \xE9 disciplinada pelo \xA7 1\xBA-A do art. 7\xBA do Conv\xEAnio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regulariza\xE7\xE3o de erro ocorrido na emiss\xE3o de documento fiscal, desde que o erro n\xE3o esteja relacionado com: I - as vari\xE1veis que determinam o valor do imposto tais como: base de c\xE1lculo, al\xEDquota, diferen\xE7a de pre\xE7o, quantidade, valor da opera\xE7\xE3o ou da presta\xE7\xE3o; II - a corre\xE7\xE3o de dados cadastrais que implique mudan\xE7a do remetente ou do destinat\xE1rio; III - a data de emiss\xE3o ou de sa\xEDda.",label:"A Carta de Corre\xE7\xE3o \xE9 disciplinada pelo \xA7 1\xBA-A do art. 7\xBA do Conv\xEAnio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regulariza\xE7\xE3o de erro ocorrido na emiss\xE3o de documento fiscal, desde que o erro n\xE3o esteja relacionado com: I - as vari\xE1veis que determinam o valor do imposto tais como: base de c\xE1lculo, al\xEDquota, diferen\xE7a de pre\xE7o, quantidade, valor da opera\xE7\xE3o ou da presta\xE7\xE3o; II - a corre\xE7\xE3o de dados cadastrais que implique mudan\xE7a do remetente ou do destinat\xE1rio; III - a data de emiss\xE3o ou de sa\xEDda"},{value:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida.",label:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida"}],_valorInic:"A Carta de Correcao e disciplinada pelo paragrafo 1o-A do art. 7o do Convenio S/N, de 15 de dezembro de 1970 e pode ser utilizada para regularizacao de erro ocorrido na emissao de documento fiscal, desde que o erro nao esteja relacionado com: I - as variaveis que determinam o valor do imposto tais como: base de calculo, aliquota, diferenca de preco, quantidade, valor da operacao ou da prestacao; II - a correcao de dados cadastrais que implique mudanca do remetente ou do destinatario; III - a data de emissao ou de saida."}}}},YX={infInut:{tpAmb:{_titulo:"Identifica\xE7\xE3o do Ambiente: 1 - Produ\xE7\xE3o 2 - Homologa\xE7\xE3o",_doc:"Identifica\xE7\xE3o do Ambiente: 1 - Produ\xE7\xE3o 2 - Homologa\xE7\xE3o (tpAmb)",_type:"TAmb",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Produ\xE7\xE3o"},{valor:"2",rotulo:"2 - Homologa\xE7\xE3o"}],_valorInic:"1"},xServ:{_titulo:"Servi\xE7o Solicitado",_doc:"Servi\xE7o Solicitado (xServ)",_tipo:"seletor",_enumeration:[{valor:"INUTILIZAR",rotulo:"INUTILIZAR"}],_valorInic:"INUTILIZAR"},cUF:{_titulo:"C\xF3digo da UF do emitente",_doc:"C\xF3digo da UF do emitente (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},ano:{_titulo:"Ano de inutiliza\xE7\xE3o da numera\xE7\xE3o",_doc:"Ano de inutiliza\xE7\xE3o da numera\xE7\xE3o (ano)",_pattern:"[0-9]{2}",_type:"Tano",_tipo:"texto",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente",_doc:"CNPJ do emitente (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"Modelo",_doc:"Modelo da NF-e (55, 65 etc.) (mod)",_type:"TMod",_tipo:"seletor",_enumeration:[{valor:"55",rotulo:"55 - NF-e"},{valor:"65",rotulo:"65 - NFC-e"}],_valorInic:"55"},serie:{_titulo:"S\xE9rie",_doc:"S\xE9rie da NF-e (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNFIni:{_titulo:"N\xFAmero inicial",_doc:"N\xFAmero da NF-e inicial (nNFIni)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},nNFFin:{_titulo:"N\xFAmero final",_doc:"N\xFAmero da NF-e final (nNFFin)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},xJust:{_titulo:"Justificativa do pedido de inutiliza\xE7\xE3o",_doc:"Justificativa do pedido de inutiliza\xE7\xE3o (xJust)",_type:"TJust",_tipo:"texto",_minLength:15,_maxLength:255,_valorInic:""}}},KX={infNFe:{ide:{_titulo:"identifica\xE7\xE3o da NF-e",_doc:"identifica\xE7\xE3o da NF-e (ide)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"C\xF3digo da UF do emitente do Documento Fiscal",_doc:"C\xF3digo da UF do emitente do Documento Fiscal. Utilizar a Tabela do IBGE. (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},cNF:{_titulo:"C\xF3digo num\xE9rico que comp\xF5e a Chave de Acesso",_doc:"C\xF3digo num\xE9rico que comp\xF5e a Chave de Acesso. N\xFAmero aleat\xF3rio gerado pelo emitente para cada NF-e. (cNF)",_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},natOp:{_titulo:"Descri\xE7\xE3o da Natureza da Opera\xE7\xE3o",_doc:"Descri\xE7\xE3o da Natureza da Opera\xE7\xE3o (natOp)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},mod:{_titulo:"C\xF3digo do modelo do Documento Fiscal",_doc:"C\xF3digo do modelo do Documento Fiscal. 55 = NF-e; 65 = NFC-e. (mod)",_type:"TMod",_tipo:"seletor",_enumeration:[{valor:"55",rotulo:"55 - NF-e"},{valor:"65",rotulo:"65 - NFC-e"}],_valorInic:"55"},serie:{_titulo:"S\xE9rie do Documento Fiscal",_doc:"S\xE9rie do Documento Fiscal s\xE9rie normal 0-889 Avulsa Fisco 890-899 SCAN 900-999 (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"N\xFAmero do Documento Fiscal",_doc:"N\xFAmero do Documento Fiscal (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""},dhEmi:{_titulo:"Data e Hora de emiss\xE3o do Documento Fiscal",_doc:"Data e Hora de emiss\xE3o do Documento Fiscal (AAAA-MM-DDThh:mm:ssTZD) ex.: 2012-09-01T13:00:00-03:00 (dhEmi)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},dhSaiEnt:{_titulo:"Data e Hora da sa\xEDda ou de entrada da mercadoria / produto",_doc:"Data e Hora da sa\xEDda ou de entrada da mercadoria / produto (AAAA-MM-DDTHH:mm:ssTZD) (dhSaiEnt) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},tpNF:{_titulo:"Tipo do Documento Fiscal",_doc:"Tipo do Documento Fiscal (0 - entrada; 1 - sa\xEDda) (tpNF)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - entrada"},{valor:"1",rotulo:"1 - sa\xEDda"}],_valorInic:"0"},idDest:{_titulo:"Identificador de Local de destino da opera\xE7\xE3o",_doc:"Identificador de Local de destino da opera\xE7\xE3o (1-Interna;2-Interestadual;3-Exterior) (idDest)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Interna"},{valor:"2",rotulo:"2 - Interestadual"},{valor:"3",rotulo:"3 - Exterior"}],_valorInic:"1"},cMunFG:{_titulo:"C\xF3digo do Munic\xEDpio de Ocorr\xEAncia do Fato Gerador",_doc:"C\xF3digo do Munic\xEDpio de Ocorr\xEAncia do Fato Gerador (utilizar a tabela do IBGE) (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},tpImp:{_titulo:"Formato de impress\xE3o do DANFE",_doc:"Formato de impress\xE3o do DANFE (0-sem DANFE;1-DANFe Retrato; 2-DANFe Paisagem;3-DANFe Simplificado;            4-DANFe NFC-e;5-DANFe NFC-e em mensagem eletr\xF4nica) (tpImp)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - sem DANFE"},{valor:"1",rotulo:"1 - DANFe Retrato"},{valor:"2",rotulo:"2 - DANFe Paisagem"},{valor:"3",rotulo:"3 - DANFe Simplificado"},{valor:"4",rotulo:"4 - DANFe NFC-e"},{valor:"5",rotulo:"5 - DANFe NFC-e em mensagem eletr\xF4nica"}],_valorInic:"0"},tpEmis:{_titulo:"Forma de conting\xEAncia",_doc:"Forma de emiss\xE3o da NF-e 1 - Normal; 2 - Conting\xEAncia FS 3 - Conting\xEAncia SCAN 4 - Conting\xEAncia DPEC 5 - Conting\xEAncia FSDA 6 - Conting\xEAncia SVC - AN 7 - Conting\xEAncia SVC - RS 9 - Conting\xEAncia off-line NFC-e (tpEmis)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Normal"},{valor:"2",rotulo:"2 - Conting\xEAncia FS"},{valor:"3",rotulo:"3 - Conting\xEAncia SCAN"},{valor:"4",rotulo:"4 - Conting\xEAncia DPEC"},{valor:"5",rotulo:"5 - Conting\xEAncia FSDA"},{valor:"6",rotulo:"6 - Conting\xEAncia SVC - AN"},{valor:"7",rotulo:"7 - Conting\xEAncia SVC - RS"},{valor:"9",rotulo:"9 - Conting\xEAncia off-line NFC-e"}],_valorInic:"1"},cDV:{_titulo:"Digito Verificador da Chave de Acesso da NF-e",_doc:"Digito Verificador da Chave de Acesso da NF-e (cDV)",_pattern:"[0-9]{1}",_tipo:"texto",_valorInic:""},tpAmb:{_titulo:"Identifica\xE7\xE3o do Ambiente",_doc:"Identifica\xE7\xE3o do Ambiente: 1 - Produ\xE7\xE3o 2 - Homologa\xE7\xE3o (tpAmb)",_type:"TAmb",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Produ\xE7\xE3o"},{valor:"2",rotulo:"2 - Homologa\xE7\xE3o"}],_valorInic:"1"},finNFe:{_titulo:"Finalidade da emiss\xE3o da NF-e",_doc:"Finalidade da emiss\xE3o da NF-e: 1 - NFe normal 2 - NFe complementar 3 - NFe de ajuste 4 - Devolu\xE7\xE3o/Retorno (finNFe)",_type:"TFinNFe",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - NFe normal"},{valor:"2",rotulo:"2 - NFe complementar"},{valor:"3",rotulo:"3 - NFe de ajuste"},{valor:"4",rotulo:"4 - Devolu\xE7\xE3o/Retorno"}],_valorInic:"1"},indFinal:{_titulo:"Indica opera\xE7\xE3o com consumidor final",_doc:"Indica opera\xE7\xE3o com consumidor final (0-N\xE3o;1-Consumidor Final) (indFinal)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - N\xE3o"},{valor:"1",rotulo:"1 - Consumidor Final"}],_valorInic:"0"},indPres:{_titulo:"Indicador de presen\xE7a do comprador no estabelecimento comercial no momento da oepra\xE7\xE3o",_doc:"Indicador de presen\xE7a do comprador no estabelecimento comercial no momento da oepra\xE7\xE3o            (0-N\xE3o se aplica (ex.: Nota Fiscal complementar ou de ajuste;1-Opera\xE7\xE3o presencial;2-N\xE3o presencial, internet;3-N\xE3o presencial, teleatendimento;4-NFC-e entrega em domic\xEDlio;5-Opera\xE7\xE3o presencial, fora do estabelecimento;9-N\xE3o presencial, outros) (indPres)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - N\xE3o se aplica (ex.: Nota Fiscal complementar ou de ajuste"},{valor:"1",rotulo:"1 - Opera\xE7\xE3o presencial"},{valor:"2",rotulo:"2 - N\xE3o presencial, internet"},{valor:"3",rotulo:"3 - N\xE3o presencial, teleatendimento"},{valor:"4",rotulo:"4 - NFC-e entrega em domic\xEDlio"},{valor:"5",rotulo:"5 - Opera\xE7\xE3o presencial, fora do estabelecimento"},{valor:"9",rotulo:"9 - N\xE3o presencial, outros"}],_valorInic:"0"},indIntermed:{_titulo:"Indicador de intermediador/marketplace",_doc:"Indicador de intermediador/marketplace             0=Opera\xE7\xE3o sem intermediador (em site ou plataforma pr\xF3pria)             1=Opera\xE7\xE3o em site ou plataforma de terceiros (intermediadores/marketplace) (indIntermed) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"0",rotulo:"0 - Opera\xE7\xE3o sem intermediador (em site ou plataforma pr\xF3pria)"},{valor:"1",rotulo:"1 - Opera\xE7\xE3o em site ou plataforma de terceiros (intermediadores/marketplace)"}],_valorInic:""},procEmi:{_titulo:"Processo de emiss\xE3o utilizado com a seguinte codifica\xE7\xE3o",_doc:"Processo de emiss\xE3o utilizado com a seguinte codifica\xE7\xE3o: 0 - emiss\xE3o de NF-e com aplicativo do contribuinte; 1 - emiss\xE3o de NF-e avulsa pelo Fisco; 2 - emiss\xE3o de NF-e avulsa, pelo contribuinte com seu certificado digital, atrav\xE9s do site do Fisco; 3- emiss\xE3o de NF-e pelo contribuinte com aplicativo fornecido pelo Fisco. (procEmi)",_type:"TProcEmi",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - emiss\xE3o de NF-e com aplicativo do contribuinte"},{valor:"1",rotulo:"1 - emiss\xE3o de NF-e avulsa pelo Fisco"},{valor:"2",rotulo:"2 - emiss\xE3o de NF-e avulsa, pelo contribuinte com seu certificado digital, atrav\xE9s do site do Fisco"},{valor:"3",rotulo:"3 -  emiss\xE3o de NF-e pelo contribuinte com aplicativo fornecido pelo Fisco"}],_valorInic:"0"},verProc:{_titulo:"vers\xE3o do aplicativo utilizado no processo de emiss\xE3o",_doc:"vers\xE3o do aplicativo utilizado no processo de emiss\xE3o (verProc)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},opcional:{_titulo:"Informar apenas para conting\xEAncia",_doc:"Informar apenas para tpEmis diferente de 1 (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informar apenas para conting\xEAncia",_doc:"Informar apenas para tpEmis diferente de 1 (Opcional)",_valorInic:""},dhCont:{_titulo:"Entrada em conting\xEAncia",_doc:"Informar a data e hora de entrada em conting\xEAncia conting\xEAncia (dhCont)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))T(20|21|22|23|[0-1]\\d):[0-5]\\d:[0-5]\\d([\\-,\\+](0[0-9]|10|11):00|([\\+](12):00))",_type:"TDateTimeUTC",_tipo:"dataHora",_valorInic:""},xJust:{_titulo:"Justificativa da conting\xEAncia",_doc:"Informar a Justificativa da entrada (xJust)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:15,_maxLength:256,_valorInic:""}},NFref:{_titulo:"Grupo de infroma\xE7\xF5es da NF referenciada",_doc:"Grupo de infroma\xE7\xF5es da NF referenciada (NFref) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},refNFe:{_titulo:"Chave de acesso das NF-e referenciadas",_doc:"Chave de acesso das NF-e referenciadas. Chave de acesso compostas por C\xF3digo da UF (tabela do IBGE) + AAMM da emiss\xE3o + CNPJ do Emitente + modelo, s\xE9rie e n\xFAmero da NF-e Referenciada + C\xF3digo Num\xE9rico + DV. (refNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},refNF:{_titulo:"Dados da NF",_doc:"Dados da NF modelo 1/1A referenciada ou NF modelo 2 referenciada (refNF)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"C\xF3digo da UF do emitente do Documento Fiscal",_doc:"C\xF3digo da UF do emitente do Documento Fiscal. Utilizar a Tabela do IBGE. (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},AAMM:{_titulo:"AAMM da emiss\xE3o",_doc:"AAMM da emiss\xE3o (AAMM)",_pattern:"[0-9]{2}[0]{1}[1-9]{1}|[0-9]{2}[1]{1}[0-2]{1}",_tipo:"texto",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente do documento fiscal referenciado",_doc:"CNPJ do emitente do documento fiscal referenciado (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"C\xF3digo do modelo do Documento Fiscal",_doc:"C\xF3digo do modelo do Documento Fiscal. Utilizar 01 para NF modelo 1/1A e 02 para NF modelo 02 (mod)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 para NF modelo 1/1A"},{valor:"02",rotulo:"02 para NF modelo 02"}],_valorInic:"01"},serie:{_titulo:"S\xE9rie do Documento Fiscal",_doc:"S\xE9rie do Documento Fiscal, informar zero se inexistente (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"N\xFAmero do Documento Fiscal",_doc:"N\xFAmero do Documento Fiscal (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""}},refNFP:{_titulo:"Grupo com as informa\xE7\xF5es NF de produtor referenciada",_doc:"Grupo com as informa\xE7\xF5es NF de produtor referenciada (refNFP)",_tipo:"texto",_valorInic:"",cUF:{_titulo:"C\xF3digo da UF do emitente do Documento Fiscal",_doc:"C\xF3digo da UF do emitente do Documento Fiscal. Utilizar a Tabela do IBGE (Anexo IV - Tabela de UF, Munic\xEDpio e Pa\xEDs) (cUF)",_type:"TCodUfIBGE",_tipo:"seletor",_enumeration:[{valor:"11",rotulo:"11"},{valor:"12",rotulo:"12"},{valor:"13",rotulo:"13"},{valor:"14",rotulo:"14"},{valor:"15",rotulo:"15"},{valor:"16",rotulo:"16"},{valor:"17",rotulo:"17"},{valor:"21",rotulo:"21"},{valor:"22",rotulo:"22"},{valor:"23",rotulo:"23"},{valor:"24",rotulo:"24"},{valor:"25",rotulo:"25"},{valor:"26",rotulo:"26"},{valor:"27",rotulo:"27"},{valor:"28",rotulo:"28"},{valor:"29",rotulo:"29"},{valor:"31",rotulo:"31"},{valor:"32",rotulo:"32"},{valor:"33",rotulo:"33"},{valor:"35",rotulo:"35"},{valor:"41",rotulo:"41"},{valor:"42",rotulo:"42"},{valor:"43",rotulo:"43"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"}],_valorInic:"11"},AAMM:{_titulo:"AAMM da emiss\xE3o da NF de produtor",_doc:"AAMM da emiss\xE3o da NF de produtor (AAMM)",_pattern:"[0-9]{2}[0]{1}[1-9]{1}|[0-9]{2}[1]{1}[0-2]{1}",_tipo:"texto",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ do emitente da NF de produtor",_doc:"CNPJ do emitente da NF de produtor (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF do emitente da NF de produtor",_doc:"CPF do emitente da NF de produtor (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},IE:{_titulo:"IE do emitente da NF de Produtor",_doc:"IE do emitente da NF de Produtor (IE)",_pattern:"ISENTO|[0-9]{2,14}",_type:"TIeDest",_tipo:"texto",_maxLength:14,_valorInic:""},mod:{_titulo:"C\xF3digo do modelo do Documento Fiscal",_doc:"C\xF3digo do modelo do Documento Fiscal - utilizar 04 para NF de produtor  ou 01 para NF Avulsa (mod)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 para NF Avulsa"},{valor:"04",rotulo:"04 para NF de produtor  ou 01 para NF Avulsa"}],_valorInic:"01"},serie:{_titulo:"S\xE9rie do Documento Fiscal",_doc:"S\xE9rie do Documento Fiscal, informar zero se inexistente (serie)",_pattern:"0|[1-9]{1}[0-9]{0,2}",_type:"TSerie",_tipo:"texto",_valorInic:""},nNF:{_titulo:"N\xFAmero do Documento Fiscal",_doc:"N\xFAmero do Documento Fiscal - 1 - 999999999 (nNF)",_pattern:"[1-9]{1}[0-9]{0,8}",_type:"TNF",_tipo:"texto",_valorInic:""}},refCTe:{_titulo:"Utilizar esta TAG para referenciar um CT-e emitido anteriormente, vinculada a NF-e atual",_doc:"Utilizar esta TAG para referenciar um CT-e emitido anteriormente, vinculada a NF-e atual (refCTe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},refECF:{_titulo:"Grupo do Cupom Fiscal vinculado \xE0 NF-e",_doc:"Grupo do Cupom Fiscal vinculado \xE0 NF-e (refECF)",_tipo:"texto",_valorInic:"",mod:{_titulo:"C\xF3digo do modelo do Documento Fiscal",_doc:'C\xF3digo do modelo do Documento Fiscal  Preencher com "2B", quando se tratar de Cupom Fiscal emitido por m\xE1quina registradora (n\xE3o ECF), com "2C", quando se tratar de Cupom Fiscal PDV, ou "2D", quando se tratar de Cupom Fiscal (emitido por ECF) (mod)',_tipo:"seletor",_enumeration:[{valor:"2B",rotulo:"2B, quando se tratar de Cupom Fiscal emitido por m\xE1quina registradora(n\xE3o ECF)"},{valor:"2C",rotulo:"2C, quando se tratar de Cupom Fiscal PDV"},{valor:"2D",rotulo:"2D, quando se tratar de Cupom Fiscal (emitido por ECF)"}],_valorInic:"2B"},nECF:{_titulo:"Informar o n\xFAmero de ordem seq\xFCencial do ECF que emitiu o Cupom Fiscal vinculado \xE0 NF-e",_doc:"Informar o n\xFAmero de ordem seq\xFCencial do ECF que emitiu o Cupom Fiscal vinculado \xE0 NF-e (nECF)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nCOO:{_titulo:"Informar o N\xFAmero do Contador de Ordem de Opera\xE7\xE3o - COO vinculado \xE0 NF-e",_doc:"Informar o N\xFAmero do Contador de Ordem de Opera\xE7\xE3o - COO vinculado \xE0 NF-e (nCOO)",_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""}}}}}},emit:{_titulo:"Identifica\xE7\xE3o do emitente",_doc:"Identifica\xE7\xE3o do emitente (emit)",_tipo:"texto",_valorInic:"",escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"N\xFAmero do CNPJ do emitente",_doc:"N\xFAmero do CNPJ do emitente (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"N\xFAmero do CPF do emitente",_doc:"N\xFAmero do CPF do emitente (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Raz\xE3o Social ou Nome do emitente",_doc:"Raz\xE3o Social ou Nome do emitente (xNome)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xFant:{_titulo:"Nome fantasia",_doc:"Nome fantasia (xFant) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},enderEmit:{_titulo:"Endere\xE7o do emitente",_doc:"Endere\xE7o do emitente (enderEmit)",_type:"TEnderEmi",_tipo:"texto",_valorInic:"",xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"N\xFAmero",_doc:"N\xFAmero (nro)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"C\xF3digo do munic\xEDpio",_doc:"C\xF3digo do munic\xEDpio (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do munic\xEDpio",_doc:"Nome do munic\xEDpio (xMun)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},CEP:{_titulo:"CEP - NT 2011/004",_doc:"CEP - NT 2011/004 (CEP)",_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"C\xF3digo do pa\xEDs",_doc:"C\xF3digo do pa\xEDs (cPais) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"1058",rotulo:"1058"}],_valorInic:""},xPais:{_titulo:"Nome do pa\xEDs",_doc:"Nome do pa\xEDs (xPais) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"Brasil",rotulo:"Brasil"},{valor:"BRASIL",rotulo:"BRASIL"}],_valorInic:""},fone:{_titulo:"Preencher com C\xF3digo DDD + n\xFAmero do telefone (v.2.0)",_doc:"Preencher com C\xF3digo DDD + n\xFAmero do telefone (v.2.0) (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""}},IE:{_titulo:"Inscri\xE7\xE3o Estadual do Emitente",_doc:"Inscri\xE7\xE3o Estadual do Emitente (IE)",_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""},IEST:{_titulo:"Inscricao Estadual do Substituto Tribut\xE1rio",_doc:"Inscricao Estadual do Substituto Tribut\xE1rio (IEST) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}",_type:"TIeST",_tipo:"texto",_maxLength:14,_valorInic:""},opcional:{_titulo:"Grupo de informa\xE7\xF5es de interesse da Prefeitura",_doc:"Grupo de informa\xE7\xF5es de interesse da Prefeitura (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de informa\xE7\xF5es de interesse da Prefeitura",_doc:"Grupo de informa\xE7\xF5es de interesse da Prefeitura (Opcional)",_valorInic:""},IM:{_titulo:"Inscri\xE7\xE3o Municipal",_doc:"Inscri\xE7\xE3o Municipal (IM)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},CNAE:{_titulo:"CNAE Fiscal",_doc:"CNAE Fiscal (CNAE) (Opcional)",_opcional:!0,_pattern:"[0-9]{7}",_tipo:"texto",_valorInic:""}},CRT:{_titulo:"C\xF3digo de Regime Tribut\xE1rio",_doc:"C\xF3digo de Regime Tribut\xE1rio.  Este campo ser\xE1 obrigatoriamente preenchido com: 1 - Simples Nacional; 2 - Simples Nacional - excesso de sublimite de receita bruta; 3 - Regime Normal. (CRT)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Simples Nacional"},{valor:"2",rotulo:"2 - Simples Nacional - excesso de sublimite de receita bruta"},{valor:"3",rotulo:"3 - Regime Normal"}],_valorInic:"1"}},avulsa:{_titulo:"Emiss\xE3o de avulsa, informar os dados do Fisco emitente",_doc:"Emiss\xE3o de avulsa, informar os dados do Fisco emitente (avulsa) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Emiss\xE3o de avulsa, informar os dados do Fisco emitente",_doc:"Emiss\xE3o de avulsa, informar os dados do Fisco emitente (avulsa) (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ do \xD3rg\xE3o emissor",_doc:"CNPJ do \xD3rg\xE3o emissor (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},xOrgao:{_titulo:"\xD3rg\xE3o emitente",_doc:"\xD3rg\xE3o emitente (xOrgao)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},matr:{_titulo:"Matr\xEDcula do agente",_doc:"Matr\xEDcula do agente (matr)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xAgente:{_titulo:"Nome do agente",_doc:"Nome do agente (xAgente)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da Unidade da Federa\xE7\xE3o",_doc:"Sigla da Unidade da Federa\xE7\xE3o (UF)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},nDAR:{_titulo:"N\xFAmero do Documento de Arrecada\xE7\xE3o de Receita",_doc:"N\xFAmero do Documento de Arrecada\xE7\xE3o de Receita (nDAR) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dEmi:{_titulo:"Data de emiss\xE3o do DAR",_doc:"Data de emiss\xE3o do DAR (AAAA-MM-DD) (dEmi) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDAR:{_titulo:"Valor Total constante no DAR",_doc:"Valor Total constante no DAR (vDAR) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},repEmi:{_titulo:"Reparti\xE7\xE3o Fiscal emitente",_doc:"Reparti\xE7\xE3o Fiscal emitente (repEmi)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dPag:{_titulo:"Data de pagamento do DAR",_doc:"Data de pagamento do DAR (AAAA-MM-DD) (dPag) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""}},dest:{_titulo:"Identifica\xE7\xE3o do Destinat\xE1rio",_doc:"Identifica\xE7\xE3o do Destinat\xE1rio (dest) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identifica\xE7\xE3o do Destinat\xE1rio",_doc:"Identifica\xE7\xE3o do Destinat\xE1rio (dest) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"N\xFAmero do CNPJ",_doc:"N\xFAmero do CNPJ (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"N\xFAmero do CPF",_doc:"N\xFAmero do CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""},idEstrangeiro:{_titulo:"Identificador do destinat\xE1rio",_doc:"Identificador do destinat\xE1rio, em caso de comprador estrangeiro (idEstrangeiro)",_pattern:"([!-\xFF]{0}|[!-\xFF]{5,20})?",_tipo:"texto",_valorInic:""}},xNome:{_titulo:"Raz\xE3o Social ou nome do destinat\xE1rio",_doc:"Raz\xE3o Social ou nome do destinat\xE1rio (xNome) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},enderDest:{_titulo:"Dados do endere\xE7o",_doc:"Dados do endere\xE7o (enderDest) (Opcional)",_opcional:!0,_type:"TEndereco",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do endere\xE7o",_doc:"Dados do endere\xE7o (enderDest) (Opcional)",_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"N\xFAmero",_doc:"N\xFAmero (nro)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"C\xF3digo do munic\xEDpio",_doc:"C\xF3digo do munic\xEDpio (utilizar a tabela do IBGE), informar 9999999 para opera\xE7\xF5es com o exterior. (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do munic\xEDpio",_doc:"Nome do munic\xEDpio, informar EXTERIOR para opera\xE7\xF5es com o exterior. (xMun)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF, informar EX para opera\xE7\xF5es com o exterior. (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX para opera\xE7\xF5es com o exterior"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"C\xF3digo de Pais",_doc:"C\xF3digo de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do pa\xEDs",_doc:"Nome do pa\xEDs (xPais) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com C\xF3digo DDD + n\xFAmero do telefone , nas opera\xE7\xF5es com exterior \xE9 permtido informar o c\xF3digo do pa\xEDs + c\xF3digo da localidade + n\xFAmero do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""}},indIEDest:{_titulo:"Indicador da IE do destinat\xE1rio",_doc:"Indicador da IE do destinat\xE1rio: 1 - Contribuinte ICMS; 2 - Contribuinte isento de inscri\xE7\xE3o; 9 - N\xE3o Contribuinte (indIEDest)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Contribuinte ICMS"},{valor:"2",rotulo:"2 - Contribuinte isento de inscri\xE7\xE3o"},{valor:"9",rotulo:"9 - N\xE3o Contribuinte"}],_valorInic:"1"},IE:{_titulo:"Inscri\xE7\xE3o Estadual",_doc:"Inscri\xE7\xE3o Estadual (obrigat\xF3rio nas opera\xE7\xF5es com contribuintes do ICMS) (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}",_type:"TIeDestNaoIsento",_tipo:"texto",_maxLength:14,_valorInic:""},ISUF:{_titulo:"Inscri\xE7\xE3o na SUFRAMA",_doc:"Inscri\xE7\xE3o na SUFRAMA (Obrigat\xF3rio nas opera\xE7\xF5es com as \xE1reas com benef\xEDcios de incentivos fiscais sob controle da SUFRAMA) PL_005d - 11/08/09 - alterado para aceitar 8 ou 9 d\xEDgitos (ISUF) (Opcional)",_opcional:!0,_pattern:"[0-9]{8,9}",_tipo:"texto",_valorInic:""},IM:{_titulo:"Inscri\xE7\xE3o Municipal do tomador do servi\xE7o",_doc:"Inscri\xE7\xE3o Municipal do tomador do servi\xE7o (IM) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},email:{_titulo:"Informar o e-mail do destinat\xE1rio",_doc:"Informar o e-mail do destinat\xE1rio. O campo pode ser utilizado para informar o e-mail de recep\xE7\xE3o da NF-e indicada pelo destinat\xE1rio (email) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},retirada:{_titulo:"Identifica\xE7\xE3o do Local de Retirada",_doc:"Identifica\xE7\xE3o do Local de Retirada (informar apenas quando for diferente do endere\xE7o do remetente) (retirada) (Opcional)",_opcional:!0,_type:"TLocal",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identifica\xE7\xE3o do Local de Retirada",_doc:"Identifica\xE7\xE3o do Local de Retirada (informar apenas quando for diferente do endere\xE7o do remetente) (retirada) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Raz\xE3o Social ou Nome do Expedidor/Recebedor",_doc:"Raz\xE3o Social ou Nome do Expedidor/Recebedor (xNome) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"N\xFAmero",_doc:"N\xFAmero (nro)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"C\xF3digo do munic\xEDpio",_doc:"C\xF3digo do munic\xEDpio (utilizar a tabela do IBGE) (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do munic\xEDpio",_doc:"Nome do munic\xEDpio (xMun)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"C\xF3digo de Pais",_doc:"C\xF3digo de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do pa\xEDs",_doc:"Nome do pa\xEDs (xPais) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com C\xF3digo DDD + n\xFAmero do telefone , nas opera\xE7\xF5es com exterior \xE9 permtido informar o c\xF3digo do pa\xEDs + c\xF3digo da localidade + n\xFAmero do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},email:{_titulo:"Informar o e-mail do expedidor/Recebedor",_doc:"Informar o e-mail do expedidor/Recebedor. O campo pode ser utilizado para informar o e-mail de recep\xE7\xE3o da NF-e indicada pelo expedidor (email) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscri\xE7\xE3o Estadual",_doc:"Inscri\xE7\xE3o Estadual (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""}},entrega:{_titulo:"Identifica\xE7\xE3o do Local de Entrega",_doc:"Identifica\xE7\xE3o do Local de Entrega (informar apenas quando for diferente do endere\xE7o do destinat\xE1rio) (entrega) (Opcional)",_opcional:!0,_type:"TLocal",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Identifica\xE7\xE3o do Local de Entrega",_doc:"Identifica\xE7\xE3o do Local de Entrega (informar apenas quando for diferente do endere\xE7o do destinat\xE1rio) (entrega) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF",_doc:"CPF (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Raz\xE3o Social ou Nome do Expedidor/Recebedor",_doc:"Raz\xE3o Social ou Nome do Expedidor/Recebedor (xNome) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},xLgr:{_titulo:"Logradouro",_doc:"Logradouro (xLgr)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},nro:{_titulo:"N\xFAmero",_doc:"N\xFAmero (nro)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCpl:{_titulo:"Complemento",_doc:"Complemento (xCpl) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xBairro:{_titulo:"Bairro",_doc:"Bairro (xBairro)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},cMun:{_titulo:"C\xF3digo do munic\xEDpio",_doc:"C\xF3digo do munic\xEDpio (utilizar a tabela do IBGE) (cMun)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},xMun:{_titulo:"Nome do munic\xEDpio",_doc:"Nome do munic\xEDpio (xMun)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CEP:{_titulo:"CEP",_doc:"CEP (CEP) (Opcional)",_opcional:!0,_pattern:"[0-9]{8}",_tipo:"texto",_valorInic:""},cPais:{_titulo:"C\xF3digo de Pais",_doc:"C\xF3digo de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},xPais:{_titulo:"Nome do pa\xEDs",_doc:"Nome do pa\xEDs (xPais) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},fone:{_titulo:"Telefone",_doc:"Telefone, preencher com C\xF3digo DDD + n\xFAmero do telefone , nas opera\xE7\xF5es com exterior \xE9 permtido informar o c\xF3digo do pa\xEDs + c\xF3digo da localidade + n\xFAmero do telefone (fone) (Opcional)",_opcional:!0,_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},email:{_titulo:"Informar o e-mail do expedidor/Recebedor",_doc:"Informar o e-mail do expedidor/Recebedor. O campo pode ser utilizado para informar o e-mail de recep\xE7\xE3o da NF-e indicada pelo expedidor (email) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscri\xE7\xE3o Estadual",_doc:"Inscri\xE7\xE3o Estadual (IE) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,14}|ISENTO",_type:"TIe",_tipo:"texto",_maxLength:14,_valorInic:""}},autXML:{_titulo:"Pessoas autorizadas para o download do XML da NF-e",_doc:"Pessoas autorizadas para o download do XML da NF-e (autXML) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},CNPJ:{_titulo:"CNPJ Autorizado",_doc:"CNPJ Autorizado (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF Autorizado",_doc:"CPF Autorizado (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}}}},det:{_titulo:"Dados dos detalhes da NF-e",_doc:"Dados dos detalhes da NF-e (det) (Lista)",_tipo:"texto",_valorInic:"",lista:{prod:{_titulo:"Dados dos produtos e servi\xE7os da NF-e",_doc:"Dados dos produtos e servi\xE7os da NF-e (prod)",_tipo:"texto",_valorInic:"",cProd:{_titulo:"C\xF3digo do produto ou servi\xE7o",_doc:"C\xF3digo do produto ou servi\xE7o. Preencher com CFOP caso se trate de itens n\xE3o relacionados com mercadorias/produto e que o contribuinte n\xE3o possua codifica\xE7\xE3o pr\xF3pria Formato \u201DCFOP9999\u201D. (cProd)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},cEAN:{_titulo:"GTIN (Global Trade Item Number) do produto",_doc:"GTIN (Global Trade Item Number) do produto, antigo c\xF3digo EAN ou c\xF3digo de barras (cEAN)",_pattern:"SEM GTIN|[0-9]{0}|[0-9]{8}|[0-9]{12,14}",_tipo:"texto",_valorInic:""},cBarra:{_titulo:"Codigo de barras diferente do padr\xE3o GTIN",_doc:"Codigo de barras diferente do padr\xE3o GTIN (cBarra) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:3,_maxLength:30,_valorInic:""},xProd:{_titulo:"Descri\xE7\xE3o do produto ou servi\xE7o",_doc:"Descri\xE7\xE3o do produto ou servi\xE7o (xProd)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:120,_valorInic:""},NCM:{_titulo:"C\xF3digo NCM (8 posi\xE7\xF5es)",_doc:"C\xF3digo NCM (8 posi\xE7\xF5es), ser\xE1 permitida a informa\xE7\xE3o do g\xEAnero (posi\xE7\xE3o do cap\xEDtulo do NCM) quando a opera\xE7\xE3o n\xE3o for de com\xE9rcio exterior (importa\xE7\xE3o/exporta\xE7\xE3o) ou o produto n\xE3o seja tributado pelo IPI. Em caso de item de servi\xE7o ou item que n\xE3o tenham produto (Ex. transfer\xEAncia de cr\xE9dito, cr\xE9dito do ativo imobilizado, etc.), informar o c\xF3digo 00 (zeros) (NCM)",_pattern:"[0-9]{2}|[0-9]{8}",_tipo:"texto",_valorInic:""},NVE:{_titulo:"Nomenclatura de Valor aduaneio e Estat\xEDstico",_doc:"Nomenclatura de Valor aduaneio e Estat\xEDstico (NVE) (Lista)",_opcional:!0,_pattern:"[A-Z]{2}[0-9]{4}",_tipo:"texto",_valorInic:"",lista:{NVE:{_titulo:"Nomenclatura de Valor aduaneio e Estat\xEDstico",_doc:"Nomenclatura de Valor aduaneio e Estat\xEDstico (NVE) (Lista)",_opcional:!0,_pattern:"[A-Z]{2}[0-9]{4}",_tipo:"texto",_valorInic:""}}},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"CEST",_doc:"Codigo especificador da Substuicao Tributaria - CEST",_valorInic:""},CEST:{_titulo:"CEST",_doc:"Codigo especificador da Substuicao Tributaria - CEST, que identifica a mercadoria sujeita aos regimes de substituicao tribut\xE1ria e de antecipa\xE7\xE3o do recolhimento do imposto (CEST)",_pattern:"[0-9]{7}",_tipo:"texto",_valorInic:""},indEscala:{_titulo:"indEscala",_doc:"indEscala (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"S",rotulo:"S"},{valor:"N",rotulo:"N"}],_valorInic:""},CNPJFab:{_titulo:"CNPJ do Fabricante da Mercadoria",_doc:"CNPJ do Fabricante da Mercadoria, obrigat\xF3rio para produto em escala N\xC3O relevante. (CNPJFab) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""}},cBenef:{_titulo:"cBenef",_doc:"cBenef (Opcional)",_opcional:!0,_pattern:"([!-\xFF]{8}|[!-\xFF]{10}|SEM CBENEF)?",_tipo:"texto",_valorInic:""},EXTIPI:{_titulo:"C\xF3digo EX TIPI",_doc:"C\xF3digo EX TIPI (3 posi\xE7\xF5es) (EXTIPI) (Opcional)",_opcional:!0,_pattern:"[0-9]{2,3}",_tipo:"texto",_valorInic:""},CFOP:{_titulo:"Cfop",_doc:"Cfop (CFOP)",_pattern:"[1,2,3,5,6,7]{1}[0-9]{3}",_tipo:"texto",_valorInic:""},uCom:{_titulo:"Unidade comercial",_doc:"Unidade comercial (uCom)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:6,_valorInic:""},qCom:{_titulo:"Quantidade Comercial  do produto",_doc:"Quantidade Comercial  do produto, alterado para aceitar de 0 a 4 casas decimais e 11 inteiros. (qCom)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnCom:{_titulo:"Valor unit\xE1rio de comercializa\xE7\xE3o",_doc:"Valor unit\xE1rio de comercializa\xE7\xE3o  - alterado para aceitar 0 a 10 casas decimais e 11 inteiros (vUnCom)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},vProd:{_titulo:"Valor bruto do produto ou servi\xE7o.",_doc:"Valor bruto do produto ou servi\xE7o. (vProd)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},cEANTrib:{_titulo:"GTIN (Global Trade Item Number) da unidade tribut\xE1vel",_doc:"GTIN (Global Trade Item Number) da unidade tribut\xE1vel, antigo c\xF3digo EAN ou c\xF3digo de barras (cEANTrib)",_pattern:"SEM GTIN|[0-9]{0}|[0-9]{8}|[0-9]{12,14}",_tipo:"texto",_valorInic:""},cBarraTrib:{_titulo:"Codigo de barras diferente do padr\xE3o GTIN",_doc:"Codigo de barras diferente do padr\xE3o GTIN (cBarraTrib) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:3,_maxLength:30,_valorInic:""},uTrib:{_titulo:"Unidade Tribut\xE1vel",_doc:"Unidade Tribut\xE1vel (uTrib)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:6,_valorInic:""},qTrib:{_titulo:"Quantidade Tribut\xE1vel",_doc:"Quantidade Tribut\xE1vel - alterado para aceitar de 0 a 4 casas decimais e 11 inteiros (qTrib)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnTrib:{_titulo:"Valor unit\xE1rio de tributa\xE7\xE3o",_doc:"Valor unit\xE1rio de tributa\xE7\xE3o - alterado para aceitar 0 a 10 casas decimais e 11 inteiros (vUnTrib)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},vFrete:{_titulo:"Valor Total do Frete",_doc:"Valor Total do Frete (vFrete) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vSeg:{_titulo:"Valor Total do Seguro",_doc:"Valor Total do Seguro (vSeg) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor do Desconto",_doc:"Valor do Desconto (vDesc) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Outras despesas acess\xF3rias",_doc:"Outras despesas acess\xF3rias (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},indTot:{_titulo:"Totaliza",_doc:"Este campo dever\xE1 ser preenchido com:  0 - o valor do item (vProd) n\xE3o comp\xF5e o valor total da NF-e (vProd)  1  - o valor do item (vProd) comp\xF5e o valor total da NF-e (vProd) (indTot)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - o valor do item n\xE3o comp\xF5e o valor total da NF-e"},{valor:"1",rotulo:"1  - o valor do item comp\xF5e o valor total da NF-e"}],_valorInic:"0"},DI:{_titulo:"Delcara\xE7\xE3o de Importa\xE7\xE3o",_doc:"Delcara\xE7\xE3o de Importa\xE7\xE3o (DI) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDI:{_titulo:"Numero do Documento de Importa\xE7\xE3o DI/DSI/DA/DRI-E (DI/DSI/DA/DRI-E)",_doc:"Numero do Documento de Importa\xE7\xE3o DI/DSI/DA/DRI-E (DI/DSI/DA/DRI-E) (nDI)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},dDI:{_titulo:"Data de registro da DI/DSI/DA",_doc:"Data de registro da DI/DSI/DA (AAAA-MM-DD) (dDI)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},xLocDesemb:{_titulo:"Local do desembara\xE7o aduaneiro",_doc:"Local do desembara\xE7o aduaneiro (xLocDesemb)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},UFDesemb:{_titulo:"UF onde ocorreu o desembara\xE7o aduaneiro",_doc:"UF onde ocorreu o desembara\xE7o aduaneiro (UFDesemb)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},dDesemb:{_titulo:"Data do desembara\xE7o aduaneiro (AAAA-MM-DD)",_doc:"Data do desembara\xE7o aduaneiro (AAAA-MM-DD) (dDesemb)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},tpViaTransp:{_titulo:"Via de transporte internacional informada na DI",_doc:"Via de transporte internacional informada na DI 1-Maritima;2-Fluvial;3-Lacustre;4-Aerea;5-Postal;6-Ferroviaria;7-Rodoviaria;8-Conduto;9-Meios Proprios;10-Entrada/Saida Ficta. 11-Courier; 12-Em maos;13-Por reboque (tpViaTransp)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Maritima"},{valor:"2",rotulo:"2 - Fluvial"},{valor:"3",rotulo:"3 - Lacustre"},{valor:"4",rotulo:"4 - Aerea"},{valor:"5",rotulo:"5 - Postal"},{valor:"6",rotulo:"6 - Ferroviaria"},{valor:"7",rotulo:"7 - Rodoviaria"},{valor:"8",rotulo:"8 - Conduto"},{valor:"9",rotulo:"9 - Meios Proprios"},{valor:"10",rotulo:"10 - Entrada/Saida Ficta"},{valor:"11",rotulo:"11 - Courier"},{valor:"12",rotulo:"12 - Em maos"},{valor:"13",rotulo:"13 - Por reboque"}],_valorInic:"1"},vAFRMM:{_titulo:"Valor Adicional ao frete para renova\xE7\xE3o de marinha mercante",_doc:"Valor Adicional ao frete para renova\xE7\xE3o de marinha mercante (vAFRMM) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},tpIntermedio:{_titulo:"Forma de Importa\xE7\xE3o quanto a intermedia\xE7\xE3o",_doc:"Forma de Importa\xE7\xE3o quanto a intermedia\xE7\xE3o 1-por conta propria;2-por conta e ordem;3-encomenda (tpIntermedio)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - por conta propria"},{valor:"2",rotulo:"2 - por conta e ordem"},{valor:"3",rotulo:"3 - encomenda"}],_valorInic:"1"},CNPJ:{_titulo:"CNPJ do adquirente ou do encomendante",_doc:"CNPJ do adquirente ou do encomendante (CNPJ) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},UFTerceiro:{_titulo:"Sigla da UF do adquirente ou do encomendante",_doc:"Sigla da UF do adquirente ou do encomendante (UFTerceiro) (Opcional)",_opcional:!0,_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:""},cExportador:{_titulo:"C\xF3digo do exportador",_doc:"C\xF3digo do exportador (usado nos sistemas internos de informa\xE7\xE3o do emitente da NF-e) (cExportador)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},adi:{_titulo:"Adi\xE7\xF5es",_doc:"Adi\xE7\xF5es (adi) (Lista)",_tipo:"texto",_valorInic:"",lista:{nAdicao:{_titulo:"N\xFAmero da Adi\xE7\xE3o",_doc:"N\xFAmero da Adi\xE7\xE3o (nAdicao) (Opcional)",_opcional:!0,_pattern:"[1-9]{1}[0-9]{0,2}",_tipo:"texto",_valorInic:""},nSeqAdic:{_titulo:"N\xFAmero seq\xFCencial do item dentro da Adi\xE7\xE3o",_doc:"N\xFAmero seq\xFCencial do item dentro da Adi\xE7\xE3o (nSeqAdic)",_pattern:"[1-9]{1}[0-9]{0,4}",_tipo:"texto",_valorInic:""},cFabricante:{_titulo:"C\xF3digo do fabricante estrangeiro",_doc:"C\xF3digo do fabricante estrangeiro (usado nos sistemas internos de informa\xE7\xE3o do emitente da NF-e) (cFabricante)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vDescDI:{_titulo:"Valor do desconto do item da DI - adi\xE7\xE3o",_doc:"Valor do desconto do item da DI - adi\xE7\xE3o (vDescDI) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},nDraw:{_titulo:"N\xFAmero do ato concess\xF3rio de Drawback",_doc:"N\xFAmero do ato concess\xF3rio de Drawback (nDraw) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}}}}},detExport:{_titulo:"Detalhe da exporta\xE7\xE3o",_doc:"Detalhe da exporta\xE7\xE3o (detExport) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDraw:{_titulo:"N\xFAmero do ato concess\xF3rio de Drawback",_doc:"N\xFAmero do ato concess\xF3rio de Drawback (nDraw) (Opcional)",_opcional:!0,_pattern:"[0-9]{0,20}",_tipo:"texto",_valorInic:""},exportInd:{_titulo:"Exporta\xE7\xE3o indireta",_doc:"Exporta\xE7\xE3o indireta (exportInd) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Exporta\xE7\xE3o indireta",_doc:"Exporta\xE7\xE3o indireta (exportInd) (Opcional)",_valorInic:""},nRE:{_titulo:"Registro de exporta\xE7\xE3o",_doc:"Registro de exporta\xE7\xE3o (nRE)",_pattern:"[0-9]{0,12}",_tipo:"texto",_valorInic:""},chNFe:{_titulo:"Chave de acesso da NF-e recebida para exporta\xE7\xE3o",_doc:"Chave de acesso da NF-e recebida para exporta\xE7\xE3o (chNFe)",_pattern:"[0-9]{44}",_type:"TChNFe",_tipo:"texto",_maxLength:44,_valorInic:""},qExport:{_titulo:"Quantidade do item efetivamente exportado",_doc:"Quantidade do item efetivamente exportado (qExport)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0}}}},xPed:{_titulo:"Pedido de compra",_doc:"Pedido de compra - Informa\xE7\xE3o de interesse do emissor para controle do B2B. (xPed) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},nItemPed:{_titulo:"N\xFAmero do Item do Pedido de Compra",_doc:"N\xFAmero do Item do Pedido de Compra - Identifica\xE7\xE3o do n\xFAmero do item do pedido de Compra (nItemPed) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""},nFCI:{_titulo:"N\xFAmero de controle da FCI",_doc:"N\xFAmero de controle da FCI - Ficha de Conte\xFAdo de Importa\xE7\xE3o. (nFCI) (Opcional)",_opcional:!0,_pattern:"[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{12}",_type:"TGuid",_tipo:"texto",_valorInic:""},rastro:{_titulo:"rastro",_doc:"rastro (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nLote:{_titulo:"N\xFAmero do lote do produto.",_doc:"N\xFAmero do lote do produto. (nLote)",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},qLote:{_titulo:"Quantidade de produto no lote.",_doc:"Quantidade de produto no lote. (qLote)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,7}(\\.[0-9]{1,3})?",_type:"TDec_0803v",_tipo:"decimal",_decimals:"3",_valorInic:0},dFab:{_titulo:"Data de fabrica\xE7\xE3o/produ\xE7\xE3o",_doc:'Data de fabrica\xE7\xE3o/produ\xE7\xE3o. Formato "AAAA-MM-DD". (dFab)',_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},dVal:{_titulo:"Data de validade",_doc:'Data de validade. Informar o \xFAltimo dia do m\xEAs caso a validade n\xE3o especifique o dia. Formato "AAAA-MM-DD". (dVal)',_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},cAgreg:{_titulo:"cAgreg",_doc:"cAgreg (Opcional)",_opcional:!0,_pattern:"[0-9]{1,20}",_tipo:"texto",_valorInic:""}}},escolhas:{_titulo:"",_doc:" (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:" (Opcional)",_valorInic:""},veicProd:{_titulo:"Ve\xEDculos novos",_doc:"Ve\xEDculos novos (veicProd)",_tipo:"texto",_valorInic:"",tpOp:{_titulo:"Tipo da Opera\xE7\xE3o",_doc:"Tipo da Opera\xE7\xE3o (1 - Venda concession\xE1ria; 2 - Faturamento direto; 3 - Venda direta; 0 - Outros) (tpOp)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Outros"},{valor:"1",rotulo:"1 - Venda concession\xE1ria"},{valor:"2",rotulo:"2 - Faturamento direto"},{valor:"3",rotulo:"3 - Venda direta; 0 - Outros"}],_valorInic:"0"},chassi:{_titulo:"Chassi do ve\xEDculo - VIN",_doc:"Chassi do ve\xEDculo - VIN (c\xF3digo-identifica\xE7\xE3o-ve\xEDculo) (chassi)",_pattern:"[A-Z0-9]+",_tipo:"texto",_valorInic:""},cCor:{_titulo:"Cor do ve\xEDculo",_doc:"Cor do ve\xEDculo (c\xF3digo de cada montadora) (cCor)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},xCor:{_titulo:"Descri\xE7\xE3o da cor",_doc:"Descri\xE7\xE3o da cor (xCor)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:40,_valorInic:""},pot:{_titulo:"Pot\xEAncia m\xE1xima do motor do ve\xEDculo em cavalo vapor",_doc:"Pot\xEAncia m\xE1xima do motor do ve\xEDculo em cavalo vapor (CV). (pot\xEAncia-ve\xEDculo) (pot)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},cilin:{_titulo:"Capacidade volunt\xE1ria do motor expressa em cent\xEDmetros c\xFAbicos",_doc:"Capacidade volunt\xE1ria do motor expressa em cent\xEDmetros c\xFAbicos (CC). (cilindradas) (cilin)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},pesoL:{_titulo:"Peso l\xEDquido",_doc:"Peso l\xEDquido (pesoL)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},pesoB:{_titulo:"Peso bruto",_doc:"Peso bruto (pesoB)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},nSerie:{_titulo:"Serial (s\xE9rie)",_doc:"Serial (s\xE9rie) (nSerie)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},tpComb:{_titulo:"Tipo de combust\xEDvel-Tabela RENAVAM",_doc:"Tipo de combust\xEDvel-Tabela RENAVAM: 01-\xC1lcool; 02-Gasolina; 03-Diesel; 16-\xC1lcool/Gas.; 17-Gas./\xC1lcool/GNV; 18-Gasolina/El\xE9trico (tpComb)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:2,_valorInic:""},nMotor:{_titulo:"N\xFAmero do motor",_doc:"N\xFAmero do motor (nMotor)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:21,_valorInic:""},CMT:{_titulo:"CMT-Capacidade M\xE1xima de Tra\xE7\xE3o",_doc:"CMT-Capacidade M\xE1xima de Tra\xE7\xE3o - em Toneladas 4 casas decimais (CMT)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:9,_valorInic:""},dist:{_titulo:"Dist\xE2ncia entre eixos",_doc:"Dist\xE2ncia entre eixos (dist)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:4,_valorInic:""},anoMod:{_titulo:"Ano Modelo de Fabrica\xE7\xE3o",_doc:"Ano Modelo de Fabrica\xE7\xE3o (anoMod)",_pattern:"[0-9]{4}",_tipo:"texto",_valorInic:""},anoFab:{_titulo:"Ano de Fabrica\xE7\xE3o",_doc:"Ano de Fabrica\xE7\xE3o (anoFab)",_pattern:"[0-9]{4}",_tipo:"texto",_valorInic:""},tpPint:{_titulo:"Tipo de pintura",_doc:"Tipo de pintura (tpPint)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_valorInic:""},tpVeic:{_titulo:"Tipo de ve\xEDculo",_doc:"Tipo de ve\xEDculo (utilizar tabela RENAVAM) (tpVeic)",_pattern:"[0-9]{1,2}",_tipo:"texto",_valorInic:""},espVeic:{_titulo:"Esp\xE9cie de ve\xEDculo",_doc:"Esp\xE9cie de ve\xEDculo (utilizar tabela RENAVAM) (espVeic)",_pattern:"[0-9]{1}",_tipo:"texto",_valorInic:""},VIN:{_titulo:"Informa-se o ve\xEDculo tem VIN (chassi) remarcado",_doc:"Informa-se o ve\xEDculo tem VIN (chassi) remarcado. R-Remarcado N-NormalVIN (VIN)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"seletor",_enumeration:[{valor:"R",rotulo:"R - Remarcado"},{valor:"N",rotulo:"N - NormalVIN"}],_valorInic:"R"},condVeic:{_titulo:"Condi\xE7\xE3o do ve\xEDculo",_doc:"Condi\xE7\xE3o do ve\xEDculo (1 - acabado; 2 - inacabado; 3 - semi-acabado) (condVeic)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - acabado"},{valor:"2",rotulo:"2 - inacabado"},{valor:"3",rotulo:"3 - semi-acabado"}],_valorInic:"1"},cMod:{_titulo:"C\xF3digo Marca Modelo",_doc:"C\xF3digo Marca Modelo (utilizar tabela RENAVAM) (cMod)",_pattern:"[0-9]{1,6}",_tipo:"texto",_valorInic:""},cCorDENATRAN:{_titulo:"C\xF3digo da Cor Segundo as regras de pr\xE9-cadastro do DENATRAN",_doc:"C\xF3digo da Cor Segundo as regras de pr\xE9-cadastro do DENATRAN: 01-AMARELO;02-AZUL;03-BEGE;04-BRANCA;05-CINZA;06-DOURADA;07-GRENA  08-LARANJA;09-MARROM;10-PRATA;11-PRETA;12-ROSA;13-ROXA;14-VERDE;15-VERMELHA;16-FANTASIA (cCorDENATRAN)",_pattern:"[0-9]{1,2}",_tipo:"texto",_minLength:1,_maxLength:2,_valorInic:""},lota:{_titulo:"Quantidade m\xE1xima de permitida de passageiros sentados, inclusive motorista.",_doc:"Quantidade m\xE1xima de permitida de passageiros sentados, inclusive motorista. (lota)",_pattern:"[0-9]{1,3}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},tpRest:{_titulo:"Restri\xE7\xE3o",_doc:"Restri\xE7\xE3o 0 - N\xE3o h\xE1; 1 - Aliena\xE7\xE3o Fiduci\xE1ria; 2 - Arrendamento Mercantil; 3 - Reserva de Dom\xEDnio; 4 - Penhor de Ve\xEDculos; 9 - outras. (tpRest)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - N\xE3o h\xE1"},{valor:"1",rotulo:"1 - Aliena\xE7\xE3o Fiduci\xE1ria"},{valor:"2",rotulo:"2 - Arrendamento Mercantil"},{valor:"3",rotulo:"3 - Reserva de Dom\xEDnio"},{valor:"4",rotulo:"4 - Penhor de Ve\xEDculos"},{valor:"9",rotulo:"9 - outras"}],_valorInic:"0"}},med:{_titulo:"Grupo do detalhamento de Medicamentos e de mat\xE9rias-primas farmac\xEAuticas",_doc:"Grupo do detalhamento de Medicamentos e de mat\xE9rias-primas farmac\xEAuticas (med)",_tipo:"texto",_valorInic:"",cProdANVISA:{_titulo:"Utilizar o n\xFAmero do registro ANVISA",_doc:"Utilizar o n\xFAmero do registro ANVISA  ou preencher com o literal \u201CISENTO\u201D, no caso de medicamento isento de registro na ANVISA. (cProdANVISA)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_valorInic:""},xMotivoIsencao:{_titulo:"Obs.: Para medicamento isento de registro na ANVISA",_doc:"Obs.: Para medicamento isento de registro na ANVISA, informar o n\xFAmero da decis\xE3o que o isenta, como por exemplo o n\xFAmero da Resolu\xE7\xE3o da Diretoria Colegiada da ANVISA (RDC). (xMotivoIsencao) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:255,_valorInic:""},vPMC:{_titulo:"Pre\xE7o M\xE1ximo ao Consumidor.",_doc:"Pre\xE7o M\xE1ximo ao Consumidor. (vPMC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},arma:{_titulo:"Armamentos",_doc:"Armamentos (arma) (Lista)",_tipo:"texto",_valorInic:"",lista:{escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},tpArma:{_titulo:"Indicador do tipo de arma de fogo",_doc:"Indicador do tipo de arma de fogo (0 - Uso permitido; 1 - Uso restrito) (tpArma)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Uso permitido"},{valor:"1",rotulo:"1 - Uso restrito"}],_valorInic:"0"},nSerie:{_titulo:"N\xFAmero de s\xE9rie da arma",_doc:"N\xFAmero de s\xE9rie da arma (nSerie)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},nCano:{_titulo:"N\xFAmero de s\xE9rie do cano",_doc:"N\xFAmero de s\xE9rie do cano (nCano)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:15,_valorInic:""},descr:{_titulo:"Descri\xE7\xE3o completa da arma, compreendendo",_doc:"Descri\xE7\xE3o completa da arma, compreendendo: calibre, marca, capacidade, tipo de funcionamento, comprimento e demais elementos que permitam a sua perfeita identifica\xE7\xE3o. (descr)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:256,_valorInic:""}}}},comb:{_titulo:"Informar apenas para opera\xE7\xF5es com combust\xEDveis l\xEDquidos",_doc:"Informar apenas para opera\xE7\xF5es com combust\xEDveis l\xEDquidos (comb)",_tipo:"texto",_valorInic:"",cProdANP:{_titulo:"C\xF3digo de produto da ANP",_doc:"C\xF3digo de produto da ANP. codifica\xE7\xE3o de produtos do SIMP (http://www.anp.gov.br) (cProdANP)",_pattern:"[0-9]{9}",_tipo:"texto",_valorInic:""},descANP:{_titulo:"Descri\xE7\xE3o do Produto conforme ANP",_doc:"Descri\xE7\xE3o do Produto conforme ANP. Utilizar a descri\xE7\xE3o de produtos do Sistema de Informa\xE7\xF5es de Movimenta\xE7\xE3o de Produtos - SIMP (http://www.anp.gov.br/simp/). (descANP)",_tipo:"texto",_minLength:2,_maxLength:95,_valorInic:""},pGLP:{_titulo:"Percentual do GLP derivado do petr\xF3leo no produto GLP (cProdANP=210203001)",_doc:"Percentual do GLP derivado do petr\xF3leo no produto GLP (cProdANP=210203001). Informar em n\xFAmero decimal o percentual do GLP derivado de petr\xF3leo no produto GLP. Valores 0 a 100. (pGLP) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"decimal",_decimals:"4",_valorInic:0},pGNn:{_titulo:"Percentual de g\xE1s natural nacional - GLGNn para o produto GLP (cProdANP=210203001)",_doc:"Percentual de g\xE1s natural nacional - GLGNn para o produto GLP (cProdANP=210203001). Informar em n\xFAmero decimal o percentual do G\xE1s Natural Nacional - GLGNn para o produto GLP. Valores de 0 a 100. (pGNn) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"decimal",_decimals:"4",_valorInic:0},pGNi:{_titulo:"Percentual de g\xE1s natural importado GLGNi para o produto GLP (cProdANP=210203001)",_doc:"Percentual de g\xE1s natural importado GLGNi para o produto GLP (cProdANP=210203001). Informar em n\xFAmero deciaml o percentual do G\xE1s Natural Importado - GLGNi para o produto GLP. Valores de 0 a 100. (pGNi) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"decimal",_decimals:"4",_valorInic:0},vPart:{_titulo:"Valor de partida (cProdANP=210203001)",_doc:"Valor de partida (cProdANP=210203001). Deve ser informado neste campo o valor por quilograma sem ICMS. (vPart) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},CODIF:{_titulo:"C\xF3digo de autoriza\xE7\xE3o / registro do CODIF",_doc:"C\xF3digo de autoriza\xE7\xE3o / registro do CODIF. Informar apenas quando a UF utilizar o CODIF (Sistema de Controle do    Diferimento do Imposto nas Opera\xE7\xF5es com AEAC - \xC1lcool Et\xEDlico Anidro Combust\xEDvel). (CODIF) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,21}",_tipo:"texto",_valorInic:""},qTemp:{_titulo:"Quantidade de combust\xEDvel faturada \xE0 temperatura ambiente",_doc:"Quantidade de combust\xEDvel faturada \xE0 temperatura ambiente. Informar quando a quantidade faturada informada no campo qCom (I10) tiver sido ajustada para uma temperatura diferente da ambiente. (qTemp) (Opcional)",_opcional:!0,_pattern:"0\\.[1-9]{1}[0-9]{3}|0\\.[0-9]{3}[1-9]{1}|0\\.[0-9]{2}[1-9]{1}[0-9]{1}|0\\.[0-9]{1}[1-9]{1}[0-9]{2}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204temperatura",_tipo:"decimal",_decimals:"4",_valorInic:0},UFCons:{_titulo:"Sigla da UF de Consumo",_doc:"Sigla da UF de Consumo (UFCons)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},CIDE:{_titulo:"CIDE Combust\xEDveis",_doc:"CIDE Combust\xEDveis (CIDE) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"CIDE Combust\xEDveis",_doc:"CIDE Combust\xEDveis (CIDE) (Opcional)",_valorInic:""},qBCProd:{_titulo:"BC do CIDE ( Quantidade comercializada)",_doc:"BC do CIDE ( Quantidade comercializada) (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Al\xEDquota do CIDE  (em reais)",_doc:"Al\xEDquota do CIDE  (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0},vCIDE:{_titulo:"Valor do CIDE",_doc:"Valor do CIDE (vCIDE)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},encerrante:{_titulo:"Informa\xE7\xF5es do grupo de encerrante",_doc:"Informa\xE7\xF5es do grupo de encerrante (encerrante) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informa\xE7\xF5es do grupo de encerrante",_doc:"Informa\xE7\xF5es do grupo de encerrante (encerrante) (Opcional)",_valorInic:""},nBico:{_titulo:"Numero de identifica\xE7\xE3o do Bico utilizado no abastecimento",_doc:"Numero de identifica\xE7\xE3o do Bico utilizado no abastecimento (nBico)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nBomba:{_titulo:"Numero de identifica\xE7\xE3o da bomba ao qual o bico est\xE1 interligado",_doc:"Numero de identifica\xE7\xE3o da bomba ao qual o bico est\xE1 interligado (nBomba) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},nTanque:{_titulo:"Numero de identifica\xE7\xE3o do tanque ao qual o bico est\xE1 interligado",_doc:"Numero de identifica\xE7\xE3o do tanque ao qual o bico est\xE1 interligado (nTanque)",_pattern:"[0-9]{1,3}",_tipo:"texto",_valorInic:""},vEncIni:{_titulo:"Valor do Encerrante no \xEDnicio do abastecimento",_doc:"Valor do Encerrante no \xEDnicio do abastecimento (vEncIni)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0},vEncFin:{_titulo:"Valor do Encerrante no final do abastecimento",_doc:"Valor do Encerrante no final do abastecimento (vEncFin)",_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0}}},nRECOPI:{_titulo:"N\xFAmero do RECOPI",_doc:"N\xFAmero do RECOPI (nRECOPI)",_pattern:"[0-9]{20}",_tipo:"texto",_maxLength:20,_valorInic:""}}},imposto:{_titulo:"Tributos incidentes nos produtos ou servi\xE7os da NF-e",_doc:"Tributos incidentes nos produtos ou servi\xE7os da NF-e (imposto)",_tipo:"texto",_valorInic:"",vTotTrib:{_titulo:"Valor estimado total de impostos federais, estaduais e municipais",_doc:"Valor estimado total de impostos federais, estaduais e municipais (vTotTrib) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{ICMS:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do ICMS Normal e ST",_doc:"Dados do ICMS Normal e ST (ICMS)",_valorInic:""},ICMS00:{_titulo:"Tributa\xE7\xE3o pelo ICMS 00 - Tributada integralmente",_doc:"Tributa\xE7\xE3o pelo ICMS 00 - Tributada integralmente (ICMS00)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"0 - Nacional; 1 - Estrangeira - Importa\xE7\xE3o direta; 2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tribut\xE7\xE3o pelo ICMS 00 - Tributada integralmente",_doc:"Tribut\xE7\xE3o pelo ICMS 00 - Tributada integralmente (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Tributada integralmente"}],_valorInic:"00"},modBC:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Pre\xE7o Tabelado M\xE1ximo (valor)"},{valor:"3",rotulo:"3 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Al\xEDquota do ICMS",_doc:"Al\xEDquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP.",_doc:"Percentual de ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP.",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMS10:{_titulo:"Tributa\xE7\xE3o pelo ICMS",_doc:"Tributa\xE7\xE3o pelo ICMS 10 - Tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria (ICMS10)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"10 - Tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria",_doc:"10 - Tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria (CST)",_tipo:"seletor",_enumeration:[{valor:"10",rotulo:"10 - Tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria"}],_valorInic:"10"},modBC:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o.",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Pre\xE7o Tabelado M\xE1ximo (valor)"},{valor:"3",rotulo:"3 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Al\xEDquota do ICMS",_doc:"Al\xEDquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},modBCST:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS ST",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS ST: 0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor) 6-Valor da Opera\xE7\xE3o; (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redu\xE7\xE3o da BC ICMS ST",_doc:"Percentual de redu\xE7\xE3o da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Al\xEDquota do ICMS ST",_doc:"Al\xEDquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de c\xE1lculo do FCP retido por substituicao tributaria.",_doc:"Valor da Base de c\xE1lculo do FCP retido por substituicao tributaria. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vICMSSTDeson:{_titulo:"Valor da Base de c\xE1lculo do FCP desonera\xE7\xE3o",_doc:"Valor da Base de c\xE1lculo do FCP desonera\xE7\xE3o. (vICMSSTDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMSST:{_titulo:"Motivo da desonera\xE7\xE3o do ICMS",_doc:"Motivo da desonera\xE7\xE3o do ICMS:3-Uso na agropecu\xE1ria;9-Outros;12-Fomento agropecu\xE1rio (motDesICMSST)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecu\xE1ria"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecu\xE1rio"}],_valorInic:"3"}}},ICMS20:{_titulo:"Tribut\xE7\xE3o pelo ICMS 20 - Com redu\xE7\xE3o de base de c\xE1lculo",_doc:"Tribut\xE7\xE3o pelo ICMS 20 - Com redu\xE7\xE3o de base de c\xE1lculo (ICMS20)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tribut\xE7\xE3o pelo ICMS 20 - Com redu\xE7\xE3o de base de c\xE1lculo",_doc:"Tribut\xE7\xE3o pelo ICMS 20 - Com redu\xE7\xE3o de base de c\xE1lculo (CST)",_tipo:"seletor",_enumeration:[{valor:"20",rotulo:"20 - Com redu\xE7\xE3o de base de c\xE1lculo"}],_valorInic:"20"},modBC:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Pre\xE7o Tabelado M\xE1ximo (valor)"},{valor:"3",rotulo:"3 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pRedBC:{_titulo:"Percentual de redu\xE7\xE3o da BC",_doc:"Percentual de redu\xE7\xE3o da BC (pRedBC)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Al\xEDquota do ICMS",_doc:"Al\xEDquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo desonera\xE7\xE3o",_doc:"Grupo desonera\xE7\xE3o (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desonera\xE7\xE3o",_doc:"Grupo desonera\xE7\xE3o (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desonera\xE7\xE3o",_doc:"Valor do ICMS de desonera\xE7\xE3o (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desonera\xE7\xE3o do ICMS",_doc:"Motivo da desonera\xE7\xE3o do ICMS:3-Uso na agropecu\xE1ria;9-Outros;12-Fomento agropecu\xE1rio (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecu\xE1ria"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecu\xE1rio"}],_valorInic:"3"}}},ICMS30:{_titulo:"Tributa\xE7\xE3o pelo ICMS 30",_doc:"Tributa\xE7\xE3o pelo ICMS 30 - Isenta ou n\xE3o tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria (ICMS30)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tribut\xE7\xE3o pelo ICMS 30 - Isenta ou n\xE3o tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria",_doc:"Tribut\xE7\xE3o pelo ICMS 30 - Isenta ou n\xE3o tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria (CST)",_tipo:"seletor",_enumeration:[{valor:"30",rotulo:"30 - Isenta ou n\xE3o tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria"}],_valorInic:"30"},modBCST:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS ST",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS ST: 0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Opera\xE7\xE3o (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redu\xE7\xE3o da BC ICMS ST",_doc:"Percentual de redu\xE7\xE3o da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Al\xEDquota do ICMS ST",_doc:"Al\xEDquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo desonera\xE7\xE3o",_doc:"Grupo desonera\xE7\xE3o (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desonera\xE7\xE3o",_doc:"Grupo desonera\xE7\xE3o (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desonera\xE7\xE3o",_doc:"Valor do ICMS de desonera\xE7\xE3o (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desonera\xE7\xE3o do ICMS",_doc:"Motivo da desonera\xE7\xE3o do ICMS:6-Utilit\xE1rios Motocicleta A\xC1rea Livre;7-SUFRAMA;9-Outros (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"6",rotulo:"6 - Utilit\xE1rios Motocicleta A\xC1rea Livre"},{valor:"7",rotulo:"7 - SUFRAMA"},{valor:"9",rotulo:"9 - Outros"}],_valorInic:"6"}}},ICMS40:{_titulo:"Tributa\xE7\xE3o pelo ICMS",_doc:"Tributa\xE7\xE3o pelo ICMS 40 - Isenta  41 - N\xE3o tributada  50 - Suspens\xE3o (ICMS40)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributa\xE7\xE3o pelo ICMS",_doc:"Tributa\xE7\xE3o pelo ICMS  40 - Isenta  41 - N\xE3o tributada  50 - Suspens\xE3o  51 - Diferimento (CST)",_tipo:"seletor",_enumeration:[{valor:"40",rotulo:"40 - Isenta"},{valor:"41",rotulo:"41 - N\xE3o tributada"},{valor:"50",rotulo:"50 - Suspens\xE3o  51 - Diferimento"}],_valorInic:"40"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"O valor do ICMS ser\xE1 informado apenas nas opera\xE7\xF5es com ve\xEDculos beneficiados com a desonera\xE7\xE3o condicional do ICMS.",_doc:"O valor do ICMS ser\xE1 informado apenas nas opera\xE7\xF5es com ve\xEDculos beneficiados com a desonera\xE7\xE3o condicional do ICMS. (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Este campo ser\xE1 preenchido quando o campo anterior estiver preenchido. Informar o motivo da desonera\xE7\xE3o",_doc:"Este campo ser\xE1 preenchido quando o campo anterior estiver preenchido. Informar o motivo da desonera\xE7\xE3o: 1 - T\xE1xi; 3 - Produtor Agropecu\xE1rio; 4 - Frotista/Locadora; 5 - Diplom\xE1tico/Consular; 6 - Utilit\xE1rios e Motocicletas da Amaz\xF4nia Ocidental e \xC1reas de Livre Com\xE9rcio (Resolu\xE7\xE3o 714/88 e 790/94 - CONTRAN e suas altera\xE7\xF5es); 7 - SUFRAMA; 8 - Venda a \xF3rg\xE3o P\xFAblico; 9 - Outros 10- Deficiente Condutor 11- Deficiente n\xE3o condutor 16 - Olimp\xEDadas Rio 2016 90 - Solicitado pelo Fisco (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 -  Deficiente n\xE3o condutor 16 - Olimp\xEDadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"3",rotulo:"3 - Produtor Agropecu\xE1rio"},{valor:"4",rotulo:"4 - Frotista/Locadora"},{valor:"5",rotulo:"5 - Diplom\xE1tico/Consular; 6 - Utilit\xE1rios e Motocicletas da Amaz\xF4nia Ocidental e \xC1reas de Livre Com\xE9rcio (Resolu\xE7\xE3o 714/88 e 790/94 - CONTRAN e suas altera\xE7\xF5es); 7 - SUFRAMA; 8 - Venda a \xF3rg\xE3o P\xFAblico; 9 - Outros 10- Deficiente Condutor 11- Deficiente n\xE3o condutor 1"},{valor:"6",rotulo:"6 - Olimp\xEDadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"7",rotulo:"714/88 e 790/94 - CONTRAN e suas altera\xE7\xF5es); 7 - SUFRAMA"},{valor:"8",rotulo:"8 - Venda a \xF3rg\xE3o P\xFAblico; 9 - Outros 10- Deficiente Condutor 11- Deficiente n\xE3o condutor 16 - Olimp\xEDadas Rio 2016 90 - Solicitado pelo Fisco"},{valor:"9",rotulo:"90/94 - CONTRAN e suas altera\xE7\xF5es); 7 - SUFRAMA; 8 - Venda a \xF3rg\xE3o P\xFAblico; 9 - Outros"},{valor:"10",rotulo:"10 -  Deficiente Condutor"},{valor:"11",rotulo:"11 -  Deficiente n\xE3o condutor"},{valor:"16",rotulo:"16 - Olimp\xEDadas Rio 2016"},{valor:"90",rotulo:"90 - Solicitado pelo Fisco"}],_valorInic:"1"}}},ICMS51:{_titulo:"Tributa\xE7\xE3o pelo ICMS 51",_doc:"Tribut\xE7\xE3o pelo ICMS 51 - Diferimento A exig\xEAncia do preenchimento das informa\xE7\xF5es do ICMS diferido fica \xE0 crit\xE9rio de cada UF. (ICMS51)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tribut\xE7\xE3o pelo ICMS 20",_doc:"Tribut\xE7\xE3o pelo ICMS 20 - Com redu\xE7\xE3o de base de c\xE1lculo (CST)",_tipo:"seletor",_enumeration:[{valor:"51",rotulo:"51"}],_valorInic:"51"},modBC:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o. (modBC) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Pre\xE7o Tabelado M\xE1ximo (valor)"},{valor:"3",rotulo:"3 - Valor da Opera\xE7\xE3o"}],_valorInic:""},pRedBC:{_titulo:"Percentual de redu\xE7\xE3o da BC",_doc:"Percentual de redu\xE7\xE3o da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Al\xEDquota do imposto",_doc:"Al\xEDquota do imposto (pICMS) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSOp:{_titulo:"Valor do ICMS da Opera\xE7\xE3o",_doc:"Valor do ICMS da Opera\xE7\xE3o (vICMSOp) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pDif:{_titulo:"Percentual do diferemento",_doc:"Percentual do diferemento (pDif) (Opcional)",_opcional:!0,_pattern:"0(\\.[0-9]{2,4})?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2,4})?|100(\\.0{2,4})?",_type:"TDec_0302a04Max100",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSDif:{_titulo:"Valor do ICMS da diferido",_doc:"Valor do ICMS da diferido (vICMSDif) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pFCPDif:{_titulo:"Percentual do diferimento do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP)",_doc:"Percentual do diferimento do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP) (pFCPDif) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPDif:{_titulo:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP) diferido",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP) diferido (vFCPDif) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCPEfet:{_titulo:"Valor efetivo do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP)",_doc:"Valor efetivo do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP) (vFCPEfet) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMS60:{_titulo:"Tributa\xE7\xE3o pelo ICMS 60",_doc:"Tributa\xE7\xE3o pelo ICMS 60 - ICMS cobrado anteriormente por substitui\xE7\xE3o tribut\xE1ria (ICMS60)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributa\xE7\xE3o pelo ICMS 60",_doc:"Tributa\xE7\xE3o pelo ICMS  60 - ICMS cobrado anteriormente por substitui\xE7\xE3o tribut\xE1ria (CST)",_tipo:"seletor",_enumeration:[{valor:"60",rotulo:"60 - ICMS cobrado anteriormente por substitui\xE7\xE3o tribut\xE1ria"}],_valorInic:"60"},opcional:{_titulo:"NT2010/004",_doc:"NT2010/004 (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"NT2010/004",_doc:"NT2010/004 (Opcional)",_valorInic:""},vBCSTRet:{_titulo:"Valor da BC do ICMS ST retido anteriormente",_doc:"Valor da BC do ICMS ST retido anteriormente (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS Pr\xF3prio do Substituto cobrado em opera\xE7\xE3o anterior",_doc:"Valor do ICMS Pr\xF3prio do Substituto cobrado em opera\xE7\xE3o anterior (vICMSSubstituto) (Opcional)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:"Valor do ICMS ST retido anteriormente",_doc:"Valor do ICMS ST retido anteriormente (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Valor da Base de c\xE1lculo do FCP retido anteriormente por ST.",_doc:"Valor da Base de c\xE1lculo do FCP retido anteriormente por ST. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual de FCP retido anteriormente por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido anteriormente por substitui\xE7\xE3o tribut\xE1ria. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redu\xE7\xE3o da base de c\xE1lculo efetiva.",_doc:"Percentual de redu\xE7\xE3o da base de c\xE1lculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de c\xE1lculo efetiva.",_doc:"Valor da base de c\xE1lculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Al\xEDquota do ICMS efetiva.",_doc:"Al\xEDquota do ICMS efetiva. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMS70:{_titulo:"Tributa\xE7\xE3o pelo ICMS 70",_doc:"Tributa\xE7\xE3o pelo ICMS  70 - Com redu\xE7\xE3o de base de c\xE1lculo e cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria (ICMS70)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tribut\xE7\xE3o pelo ICMS 70",_doc:"Tribut\xE7\xE3o pelo ICMS 70 - Com redu\xE7\xE3o de base de c\xE1lculo e cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria (CST)",_tipo:"seletor",_enumeration:[{valor:"70",rotulo:"70 - Com redu\xE7\xE3o de base de c\xE1lculo e cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria"}],_valorInic:"70"},modBC:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS: 0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Pre\xE7o Tabelado M\xE1ximo (valor)"},{valor:"3",rotulo:"3 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pRedBC:{_titulo:"Percentual de redu\xE7\xE3o da BC",_doc:"Percentual de redu\xE7\xE3o da BC (pRedBC)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMS:{_titulo:"Al\xEDquota do ICMS",_doc:"Al\xEDquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de c\xE1lculo do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor da Base de c\xE1lculo do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo desonera\xE7\xE3o",_doc:"Grupo desonera\xE7\xE3o (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desonera\xE7\xE3o",_doc:"Grupo desonera\xE7\xE3o (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desonera\xE7\xE3o",_doc:"Valor do ICMS de desonera\xE7\xE3o (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desonera\xE7\xE3o do ICMS",_doc:"Motivo da desonera\xE7\xE3o do ICMS:3-Uso na agropecu\xE1ria;9-Outros;12-Fomento agropecu\xE1rio (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecu\xE1ria"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecu\xE1rio"}],_valorInic:"3"}},opcional4:{_titulo:"Grupo desonera\xE7\xE3o ST",_doc:"Grupo desonera\xE7\xE3o ST (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desonera\xE7\xE3o ST",_doc:"Grupo desonera\xE7\xE3o ST (Opcional)",_valorInic:""},vICMSSTDeson:{_titulo:"Valor do ICMS- ST desonerado",_doc:"Valor do ICMS- ST desonerado (vICMSSTDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMSST:{_titulo:"Motivo da desonera\xE7\xE3o do ICMS- ST",_doc:"Motivo da desonera\xE7\xE3o do ICMS- ST (motDesICMSST)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3"},{valor:"9",rotulo:"9"},{valor:"12",rotulo:"12"}],_valorInic:"3"}},modBCST:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS ST",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS ST: 0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Opera\xE7\xE3o (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redu\xE7\xE3o da BC ICMS ST",_doc:"Percentual de redu\xE7\xE3o da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Al\xEDquota do ICMS ST",_doc:"Al\xEDquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ICMS90:{_titulo:"Tributa\xE7\xE3o pelo ICMS 90 - Outras",_doc:"Tributa\xE7\xE3o pelo ICMS 90 - Outras (ICMS90)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tribut\xE7\xE3o pelo ICMS 90 - Outras",_doc:"Tribut\xE7\xE3o pelo ICMS 90 - Outras (CST)",_tipo:"seletor",_enumeration:[{valor:"90",rotulo:"90 - Outras"}],_valorInic:"90"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBC:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Pre\xE7o Tabelado M\xE1ximo (valor)"},{valor:"3",rotulo:"3 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redu\xE7\xE3o da BC",_doc:"Percentual de redu\xE7\xE3o da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Al\xEDquota do ICMS",_doc:"Al\xEDquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCP:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCP:{_titulo:"Percentual de ICMS relativo ao FCP",_doc:"Percentual de ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (pFCP)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCP:{_titulo:"Valor do ICMS relativo ao FCP",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBCST:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS ST",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS ST: 0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor) 6 - Valor da Opera\xE7\xE3o. (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redu\xE7\xE3o da BC ICMS ST",_doc:"Percentual de redu\xE7\xE3o da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Al\xEDquota do ICMS ST",_doc:"Al\xEDquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},opcional3:{_titulo:"Grupo desonera\xE7\xE3o",_doc:"Grupo desonera\xE7\xE3o (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desonera\xE7\xE3o",_doc:"Grupo desonera\xE7\xE3o (Opcional)",_valorInic:""},vICMSDeson:{_titulo:"Valor do ICMS de desonera\xE7\xE3o",_doc:"Valor do ICMS de desonera\xE7\xE3o (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMS:{_titulo:"Motivo da desonera\xE7\xE3o do ICMS",_doc:"Motivo da desonera\xE7\xE3o do ICMS:3-Uso na agropecu\xE1ria;9-Outros;12-Fomento agropecu\xE1rio (motDesICMS)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3 - Uso na agropecu\xE1ria"},{valor:"9",rotulo:"9 - Outros"},{valor:"12",rotulo:"12 - Fomento agropecu\xE1rio"}],_valorInic:"3"}},opcional4:{_titulo:"Grupo desonera\xE7\xE3o ST",_doc:"Grupo desonera\xE7\xE3o ST (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo desonera\xE7\xE3o ST",_doc:"Grupo desonera\xE7\xE3o ST (Opcional)",_valorInic:""},vICMSSTDeson:{_titulo:"Valor do ICMS- ST desonerado",_doc:"Valor do ICMS- ST desonerado (vICMSSTDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},motDesICMSST:{_titulo:"Motivo da desonera\xE7\xE3o do ICMS- ST ",_doc:"Motivo da desonera\xE7\xE3o do ICMS- ST  (motDesICMSST)",_tipo:"seletor",_enumeration:[{valor:"3",rotulo:"3"},{valor:"9",rotulo:"9"},{valor:"12",rotulo:"12"}],_valorInic:"3"}}},ICMSPart:{_titulo:"Partilha do ICMS entre a UF de origem e UF de destino",_doc:"Partilha do ICMS entre a UF de origem e UF de destino ou a UF definida na legisla\xE7\xE3o Opera\xE7\xE3o interestadual para consumidor final com partilha do ICMS  devido na opera\xE7\xE3o entre a UF de origem e a UF do destinat\xE1rio ou ou a UF definida na legisla\xE7\xE3o. (Ex. UF da concession\xE1ria de entrega do  ve\xEDculos) (ICMSPart)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tributa\xE7\xE3o pelo ICMS 10",_doc:"Tributa\xE7\xE3o pelo ICMS  10 - Tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria; 90 - Outros. (CST)",_tipo:"seletor",_enumeration:[{valor:"10",rotulo:"10 - Tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria"},{valor:"90",rotulo:"90 - Outros"}],_valorInic:"10"},modBC:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Pre\xE7o Tabelado M\xE1ximo (valor)"},{valor:"3",rotulo:"3 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redu\xE7\xE3o da BC",_doc:"Percentual de redu\xE7\xE3o da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Al\xEDquota do ICMS",_doc:"Al\xEDquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},modBCST:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS ST",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS ST: 0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Opera\xE7\xE3o (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redu\xE7\xE3o da BC ICMS ST",_doc:"Percentual de redu\xE7\xE3o da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Al\xEDquota do ICMS ST",_doc:"Al\xEDquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pBCOp:{_titulo:"Percentual para determina\xE7\xE3o do valor  da Base de C\xE1lculo da opera\xE7\xE3o pr\xF3pria.",_doc:"Percentual para determina\xE7\xE3o do valor  da Base de C\xE1lculo da opera\xE7\xE3o pr\xF3pria. (pBCOp)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},UFST:{_titulo:"Sigla da UF para qual \xE9 devido o ICMS ST da opera\xE7\xE3o.",_doc:"Sigla da UF para qual \xE9 devido o ICMS ST da opera\xE7\xE3o. (UFST)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"}},ICMSST:{_titulo:"Grupo de informa\xE7\xE3o do ICMSST devido para a UF de destino.",_doc:"Grupo de informa\xE7\xE3o do ICMSST devido para a UF de destino, nas opera\xE7\xF5es interestaduais de produtos que tiveram reten\xE7\xE3o antecipada de ICMS por ST na UF do remetente. Repasse via Substituto Tribut\xE1rio. (ICMSST)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CST:{_titulo:"Tribut\xE7\xE3o pelo ICMS",_doc:"Tribut\xE7\xE3o pelo ICMS 41-N\xE3o Tributado. 60-Cobrado anteriormente por substitui\xE7\xE3o tribut\xE1ria. (CST)",_tipo:"seletor",_enumeration:[{valor:"41",rotulo:"41 - N\xE3o Tributado"},{valor:"60",rotulo:"60 - Cobrado anteriormente por substitui\xE7\xE3o tribut\xE1ria"}],_valorInic:"41"},vBCSTRet:{_titulo:"Informar o valor da BC do ICMS ST retido na UF remetente",_doc:"Informar o valor da BC do ICMS ST retido na UF remetente (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS Pr\xF3prio do Substituto cobrado em opera\xE7\xE3o anterior",_doc:"Valor do ICMS Pr\xF3prio do Substituto cobrado em opera\xE7\xE3o anterior (vICMSSubstituto) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:" Informar o valor do ICMS ST retido na UF remetente (iv2.0))",_doc:" Informar o valor do ICMS ST retido na UF remetente (iv2.0)) (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Informar o valor da Base de C\xE1lculo do FCP retido anteriormente por ST.",_doc:"Informar o valor da Base de C\xE1lculo do FCP retido anteriormente por ST. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual relativo ao FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual relativo ao Fundo de Combate \xE0 Pobreza (FCP) retido por substitui\xE7\xE3o tribut\xE1ria. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do ICMS relativo ao FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP) retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redu\xE7\xE3o da base de c\xE1lculo efetiva.",_doc:"Percentual de redu\xE7\xE3o da base de c\xE1lculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de c\xE1lculo efetiva.",_doc:"Valor da base de c\xE1lculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Al\xEDquota do ICMS efetivo.",_doc:"Al\xEDquota do ICMS efetivo. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},vBCSTDest:{_titulo:" Informar o valor da BC do ICMS ST da UF destino",_doc:" Informar o valor da BC do ICMS ST da UF destino (vBCSTDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSSTDest:{_titulo:"Informar o valor da BC do ICMS ST da UF destino",_doc:"Informar o valor da BC do ICMS ST da UF destino (vICMSSTDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ICMSSN101:{_titulo:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL e CSOSN=101 (v.2.0)",_doc:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL e CSOSN=101 (v.2.0) (ICMSSN101)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno  (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"101- Tributada pelo Simples Nacional com permiss\xE3o de cr\xE9dito. (v.2.0)",_doc:"101- Tributada pelo Simples Nacional com permiss\xE3o de cr\xE9dito. (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"101",rotulo:"101 -  Tributada pelo Simples Nacional com permiss\xE3o de cr\xE9dito. (v.2.0"}],_valorInic:"101"},pCredSN:{_titulo:"Al\xEDquota aplic\xE1vel de c\xE1lculo do cr\xE9dito (Simples Nacional).",_doc:"Al\xEDquota aplic\xE1vel de c\xE1lculo do cr\xE9dito (Simples Nacional). (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor cr\xE9dito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional)",_doc:"Valor cr\xE9dito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ICMSSN102:{_titulo:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL e CSOSN=102, 103, 300 ou 400 (v.2.0))",_doc:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL e CSOSN=102, 103, 300 ou 400 (v.2.0)) (ICMSSN102)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno  (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"102- Tributada pelo Simples Nacional sem permiss\xE3o de cr\xE9dito",_doc:"102- Tributada pelo Simples Nacional sem permiss\xE3o de cr\xE9dito.  103 - Isen\xE7\xE3o do ICMS  no Simples Nacional para faixa de receita bruta. 300 - Imune. 400 - N\xE3o tributada pelo Simples Nacional (v.2.0) (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"102",rotulo:"102 -  Tributada pelo Simples Nacional sem permiss\xE3o de cr\xE9dito"},{valor:"103",rotulo:"103 - Isen\xE7\xE3o do ICMS  no Simples Nacional para faixa de receita bruta"},{valor:"300",rotulo:"300 - Imune"},{valor:"400",rotulo:"400 - N\xE3o tributada pelo Simples Nacional (v.2.0) (v.2.0"}],_valorInic:"102"}},ICMSSN201:{_titulo:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL e CSOSN=201 (v.2.0)",_doc:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL e CSOSN=201 (v.2.0) (ICMSSN201)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"Origem da mercadoria: 0 - Nacional; 1 - Estrangeira - Importa\xE7\xE3o direta; 2 - Estrangeira - Adquirida no mercado interno. (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"201- Tributada pelo Simples Nacional com permiss\xE3o de cr\xE9dito e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria (v.2.0)",_doc:"201- Tributada pelo Simples Nacional com permiss\xE3o de cr\xE9dito e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"201",rotulo:"201 -  Tributada pelo Simples Nacional com permiss\xE3o de cr\xE9dito e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria (v.2.0"}],_valorInic:"201"},modBCST:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS ST",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS ST: 0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Opera\xE7\xE3o (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor). (v2.0"},{valor:"6",rotulo:"6 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redu\xE7\xE3o da BC ICMS ST ",_doc:"Percentual de redu\xE7\xE3o da BC ICMS ST  (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Al\xEDquota do ICMS ST",_doc:"Al\xEDquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},pCredSN:{_titulo:"Al\xEDquota aplic\xE1vel de c\xE1lculo do cr\xE9dito (Simples Nacional).",_doc:"Al\xEDquota aplic\xE1vel de c\xE1lculo do cr\xE9dito (Simples Nacional). (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor cr\xE9dito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional)",_doc:"Valor cr\xE9dito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ICMSSN202:{_titulo:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL e CSOSN=202 ou 203 (v.2.0)",_doc:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL e CSOSN=202 ou 203 (v.2.0) (ICMSSN202)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"Origem da mercadoria: 0 - Nacional; 1 - Estrangeira - Importa\xE7\xE3o direta; 2 - Estrangeira - Adquirida no mercado interno. (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"202- Tributada pelo Simples Nacional sem permiss\xE3o de cr\xE9dito e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria; 203-  Isen\xE7\xE3o do ICMS nos Simples Nacional para faixa de receita bruta e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria (v.2.0)",_doc:"202- Tributada pelo Simples Nacional sem permiss\xE3o de cr\xE9dito e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria; 203-  Isen\xE7\xE3o do ICMS nos Simples Nacional para faixa de receita bruta e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"202",rotulo:"202 -  Tributada pelo Simples Nacional sem permiss\xE3o de cr\xE9dito e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria"},{valor:"203",rotulo:"203 -   Isen\xE7\xE3o do ICMS nos Simples Nacional para faixa de receita bruta e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria (v.2.0"}],_valorInic:"202"},modBCST:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS ST",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS ST: 0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Opera\xE7\xE3o (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor). (v2.0"},{valor:"6",rotulo:"6 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redu\xE7\xE3o da BC ICMS ST ",_doc:"Percentual de redu\xE7\xE3o da BC ICMS ST  (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Al\xEDquota do ICMS ST",_doc:"Al\xEDquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMSSN500:{_titulo:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL",_doc:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL,CRT=1 - Simples Nacional e CSOSN=500 (v.2.0) (ICMSSN500)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"500 - ICMS cobrado anterirmente por substitui\xE7\xE3o tribut\xE1ria (substitu\xEDdo) ou por antecipa\xE7\xE3o (v.2.0)",_doc:"500 - ICMS cobrado anterirmente por substitui\xE7\xE3o tribut\xE1ria (substitu\xEDdo) ou por antecipa\xE7\xE3o (v.2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"500",rotulo:"500 - ICMS cobrado anterirmente por substitui\xE7\xE3o tribut\xE1ria (substitu\xEDdo) ou por antecipa\xE7\xE3o (v.2.0"}],_valorInic:"500"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCSTRet:{_titulo:"Valor da BC do ICMS ST retido anteriormente",_doc:"Valor da BC do ICMS ST retido anteriormente (vBCSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pST:{_titulo:"Aliquota suportada pelo consumidor final.",_doc:"Aliquota suportada pelo consumidor final. (pST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSSubstituto:{_titulo:"Valor do ICMS pr\xF3prio do substituto",_doc:"Valor do ICMS pr\xF3prio do substituto (vICMSSubstituto) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSSTRet:{_titulo:"Valor do ICMS ST retido anteriormente ",_doc:"Valor do ICMS ST retido anteriormente  (vICMSSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPSTRet:{_titulo:"Valor da Base de c\xE1lculo do FCP retido anteriormente.",_doc:"Valor da Base de c\xE1lculo do FCP retido anteriormente. (vBCFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPSTRet:{_titulo:"Percentual de FCP retido anteriormente por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido anteriormente por substitui\xE7\xE3o tribut\xE1ria. (pFCPSTRet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPSTRet:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pRedBCEfet:{_titulo:"Percentual de redu\xE7\xE3o da base de c\xE1lculo efetiva.",_doc:"Percentual de redu\xE7\xE3o da base de c\xE1lculo efetiva. (pRedBCEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCEfet:{_titulo:"Valor da base de c\xE1lculo efetiva.",_doc:"Valor da base de c\xE1lculo efetiva. (vBCEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSEfet:{_titulo:"Al\xEDquota do ICMS efetiva.",_doc:"Al\xEDquota do ICMS efetiva. (pICMSEfet)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSEfet:{_titulo:"Valor do ICMS efetivo.",_doc:"Valor do ICMS efetivo. (vICMSEfet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},ICMSSN900:{_titulo:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL, CRT=1 - Simples Nacional e CSOSN=900",_doc:"Tributa\xE7\xE3o do ICMS pelo SIMPLES NACIONAL, CRT=1 - Simples Nacional e CSOSN=900 (ICMSSN900)",_tipo:"texto",_valorInic:"",orig:{_titulo:"Tipo Origem da mercadoria CST ICMS origem da mercadoria",_doc:"origem da mercadoria: 0 - Nacional  1 - Estrangeira - Importa\xE7\xE3o direta  2 - Estrangeira - Adquirida no mercado interno (orig)",_type:"Torig",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Nacional exceto as indicadas nos c\xF3digos 3, 4, 5 e 8"},{valor:"1",rotulo:"1 - Estrangeira - Importa\xE7\xE3o direta"},{valor:"2",rotulo:"2 - Estrangeira - Adquirida no mercado interno"},{valor:"3",rotulo:"3 - Nacional, conteudo superior 40 % e inferior ou igual a 70 %"},{valor:"4",rotulo:"4 - Nacional, processos produtivos b\xE1sicos"},{valor:"5",rotulo:"5 - Nacional, conteudo inferior 40 %"},{valor:"6",rotulo:"6 - Estrangeira - Importa\xE7\xE3o direta, com similar nacional, lista CAMEX"},{valor:"7",rotulo:"7 - Estrangeira - mercado interno, sem simular, lista CAMEX"},{valor:"8",rotulo:"8 - Nacional, Conte\xFAdo de Importa\xE7\xE3o superior a 70 %"}],_valorInic:"0"},CSOSN:{_titulo:"Tributa\xE7\xE3o pelo ICMS 900 - Outros(v2.0)",_doc:"Tributa\xE7\xE3o pelo ICMS 900 - Outros(v2.0) (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"900",rotulo:"900 - Outros(v2.0"}],_valorInic:"900"},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBC:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS:  0 - Margem Valor Agregado (%); 1 - Pauta (valor); 2 - Pre\xE7o Tabelado M\xE1ximo (valor); 3 - Valor da Opera\xE7\xE3o. (modBC)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Margem Valor Agregado (%)"},{valor:"1",rotulo:"1 - Pauta (valor)"},{valor:"2",rotulo:"2 - Pre\xE7o Tabelado M\xE1ximo (valor)"},{valor:"3",rotulo:"3 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},vBC:{_titulo:"Valor da BC do ICMS",_doc:"Valor da BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pRedBC:{_titulo:"Percentual de redu\xE7\xE3o da BC",_doc:"Percentual de redu\xE7\xE3o da BC (pRedBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMS:{_titulo:"Al\xEDquota do ICMS",_doc:"Al\xEDquota do ICMS (pICMS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMS:{_titulo:"Valor do ICMS",_doc:"Valor do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},opcional2:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},modBCST:{_titulo:"Modalidade de determina\xE7\xE3o da BC do ICMS ST",_doc:"Modalidade de determina\xE7\xE3o da BC do ICMS ST: 0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido; 1 - Lista Negativa (valor); 2 - Lista Positiva (valor); 3 - Lista Neutra (valor); 4 - Margem Valor Agregado (%); 5 - Pauta (valor). 6 - Valor da Opera\xE7\xE3o (modBCST)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - Pre\xE7o tabelado ou m\xE1ximo  sugerido"},{valor:"1",rotulo:"1 - Lista Negativa (valor)"},{valor:"2",rotulo:"2 - Lista Positiva (valor)"},{valor:"3",rotulo:"3 - Lista Neutra (valor)"},{valor:"4",rotulo:"4 - Margem Valor Agregado (%)"},{valor:"5",rotulo:"5 - Pauta (valor)"},{valor:"6",rotulo:"6 - Valor da Opera\xE7\xE3o"}],_valorInic:"0"},pMVAST:{_titulo:"Percentual da Margem de Valor Adicionado ICMS ST",_doc:"Percentual da Margem de Valor Adicionado ICMS ST (pMVAST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},pRedBCST:{_titulo:"Percentual de redu\xE7\xE3o da BC ICMS ST",_doc:"Percentual de redu\xE7\xE3o da BC ICMS ST (pRedBCST) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vBCST:{_titulo:"Valor da BC do ICMS ST",_doc:"Valor da BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSST:{_titulo:"Al\xEDquota do ICMS ST",_doc:"Al\xEDquota do ICMS ST (pICMSST)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSST:{_titulo:"Valor do ICMS ST",_doc:"Valor do ICMS ST (vICMSST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},vBCFCPST:{_titulo:"Valor da Base de c\xE1lculo do FCP.",_doc:"Valor da Base de c\xE1lculo do FCP. (vBCFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPST:{_titulo:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Percentual de FCP retido por substitui\xE7\xE3o tribut\xE1ria. (pFCPST)",_pattern:"0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04Opc",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPST:{_titulo:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor do FCP retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},opcional3:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},pCredSN:{_titulo:"Al\xEDquota aplic\xE1vel de c\xE1lculo do cr\xE9dito (Simples Nacional).",_doc:"Al\xEDquota aplic\xE1vel de c\xE1lculo do cr\xE9dito (Simples Nacional). (pCredSN)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vCredICMSSN:{_titulo:"Valor cr\xE9dito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional)",_doc:"Valor cr\xE9dito do ICMS que pode ser aproveitado nos termos do art. 23 da LC 123 (Simples Nacional) (vCredICMSSN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}}}},IPI:{_titulo:"IPI",_doc:"IPI (Opcional)",_opcional:!0,_type:"TIpi",_tipo:"texto",_valorInic:"",visivel:{_titulo:"IPI",_doc:"IPI (Opcional)",_valorInic:""},CNPJProd:{_titulo:"CNPJ do produtor da mercadoria",_doc:"CNPJ do produtor da mercadoria, quando diferente do emitente. Somente para os casos de exporta\xE7\xE3o direta ou indireta. (CNPJProd) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},cSelo:{_titulo:"C\xF3digo do selo de controle do IPI",_doc:"C\xF3digo do selo de controle do IPI (cSelo) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},qSelo:{_titulo:"Quantidade de selo de controle do IPI",_doc:"Quantidade de selo de controle do IPI (qSelo) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,12}",_tipo:"texto",_valorInic:""},cEnq:{_titulo:"C\xF3digo de Enquadramento Legal do IPI (tabela a ser criada pela RFB)",_doc:"C\xF3digo de Enquadramento Legal do IPI (tabela a ser criada pela RFB) (cEnq)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},IPITrib:{_titulo:"IPITrib",_doc:"IPITrib",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI",_doc:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI: 00-Entrada com recupera\xE7\xE3o de cr\xE9dito 49 - Outras entradas 50-Sa\xEDda tributada 99-Outras sa\xEDdas (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recupera\xE7\xE3o de cr\xE9dito"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Sa\xEDda tributada"},{valor:"99",rotulo:"99 - Outras sa\xEDdas"}],_valorInic:"00"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do IPI",_doc:"Valor da BC do IPI (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pIPI:{_titulo:"Al\xEDquota do IPI",_doc:"Al\xEDquota do IPI (pIPI)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qUnid:{_titulo:"Quantidade total na unidade padr\xE3o para tributa\xE7\xE3o",_doc:"Quantidade total na unidade padr\xE3o para tributa\xE7\xE3o (qUnid)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnid:{_titulo:"Valor por Unidade Tribut\xE1vel. Informar o valor do imposto Pauta por unidade de medida.",_doc:"Valor por Unidade Tribut\xE1vel. Informar o valor do imposto Pauta por unidade de medida. (vUnid)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vIPI:{_titulo:"Valor do IPI",_doc:"Valor do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},IPINT:{_titulo:"IPINT",_doc:"IPINT",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI",_doc:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI: 01-Entrada tributada com al\xEDquota zero 02-Entrada isenta 03-Entrada n\xE3o-tributada 04-Entrada imune 05-Entrada com suspens\xE3o 51-Sa\xEDda tributada com al\xEDquota zero 52-Sa\xEDda isenta 53-Sa\xEDda n\xE3o-tributada 54-Sa\xEDda imune 55-Sa\xEDda com suspens\xE3o (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Entrada tributada com al\xEDquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada n\xE3o-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspens\xE3o"},{valor:"51",rotulo:"51 - Sa\xEDda tributada com al\xEDquota zero"},{valor:"52",rotulo:"52 - Sa\xEDda isenta"},{valor:"53",rotulo:"53 - Sa\xEDda n\xE3o-tributada"},{valor:"54",rotulo:"54 - Sa\xEDda imune"},{valor:"55",rotulo:"55 - Sa\xEDda com suspens\xE3o"}],_valorInic:"01"}}}},II:{_titulo:"Dados do Imposto de Importa\xE7\xE3o",_doc:"Dados do Imposto de Importa\xE7\xE3o (II) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do Imposto de Importa\xE7\xE3o",_doc:"Dados do Imposto de Importa\xE7\xE3o (II) (Opcional)",_valorInic:""},vBC:{_titulo:"Base da BC do Imposto de Importa\xE7\xE3o",_doc:"Base da BC do Imposto de Importa\xE7\xE3o (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vDespAdu:{_titulo:"Valor das despesas aduaneiras",_doc:"Valor das despesas aduaneiras (vDespAdu)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vII:{_titulo:"Valor do Imposto de Importa\xE7\xE3o",_doc:"Valor do Imposto de Importa\xE7\xE3o (vII)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vIOF:{_titulo:"Valor do Imposto sobre Opera\xE7\xF5es Financeiras",_doc:"Valor do Imposto sobre Opera\xE7\xF5es Financeiras (vIOF)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},opcao2:{IPI:{_titulo:"IPI",_doc:"IPI (Opcional)",_opcional:!0,_type:"TIpi",_tipo:"texto",_valorInic:"",visivel:{_titulo:"IPI",_doc:"IPI (Opcional)",_valorInic:""},CNPJProd:{_titulo:"CNPJ do produtor da mercadoria, quando diferente do emitente",_doc:"CNPJ do produtor da mercadoria, quando diferente do emitente. Somente para os casos de exporta\xE7\xE3o direta ou indireta. (CNPJProd) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},cSelo:{_titulo:"C\xF3digo do selo de controle do IPI",_doc:"C\xF3digo do selo de controle do IPI (cSelo) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},qSelo:{_titulo:"Quantidade de selo de controle do IPI",_doc:"Quantidade de selo de controle do IPI (qSelo) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,12}",_tipo:"texto",_valorInic:""},cEnq:{_titulo:"C\xF3digo de Enquadramento Legal do IPI",_doc:"C\xF3digo de Enquadramento Legal do IPI (tabela a ser criada pela RFB) (cEnq)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:3,_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},IPITrib:{_titulo:"IPITrib",_doc:"IPITrib",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI",_doc:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI: 00-Entrada com recupera\xE7\xE3o de cr\xE9dito 49 - Outras entradas 50-Sa\xEDda tributada 99-Outras sa\xEDdas (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recupera\xE7\xE3o de cr\xE9dito"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Sa\xEDda tributada"},{valor:"99",rotulo:"99 - Outras sa\xEDdas"}],_valorInic:"00"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do IPI",_doc:"Valor da BC do IPI (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pIPI:{_titulo:"Al\xEDquota do IPI",_doc:"Al\xEDquota do IPI (pIPI)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qUnid:{_titulo:"Quantidade total na unidade padr\xE3o para tributa\xE7\xE3o",_doc:"Quantidade total na unidade padr\xE3o para tributa\xE7\xE3o (qUnid)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vUnid:{_titulo:"Valor por Unidade Tribut\xE1vel",_doc:"Valor por Unidade Tribut\xE1vel. Informar o valor do imposto Pauta por unidade de medida. (vUnid)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vIPI:{_titulo:"Valor do IPI",_doc:"Valor do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},IPINT:{_titulo:"IPINT",_doc:"IPINT",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI",_doc:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI: 01-Entrada tributada com al\xEDquota zero 02-Entrada isenta 03-Entrada n\xE3o-tributada 04-Entrada imune 05-Entrada com suspens\xE3o 51-Sa\xEDda tributada com al\xEDquota zero 52-Sa\xEDda isenta 53-Sa\xEDda n\xE3o-tributada 54-Sa\xEDda imune 55-Sa\xEDda com suspens\xE3o (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Entrada tributada com al\xEDquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada n\xE3o-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspens\xE3o"},{valor:"51",rotulo:"51 - Sa\xEDda tributada com al\xEDquota zero"},{valor:"52",rotulo:"52 - Sa\xEDda isenta"},{valor:"53",rotulo:"53 - Sa\xEDda n\xE3o-tributada"},{valor:"54",rotulo:"54 - Sa\xEDda imune"},{valor:"55",rotulo:"55 - Sa\xEDda com suspens\xE3o"}],_valorInic:"01"}}}},ISSQN:{_titulo:"ISSQN",_doc:"ISSQN (ISSQN)",_tipo:"texto",_valorInic:"",visivel:{_titulo:"ISSQN",_doc:"ISSQN",_valorInic:""},vBC:{_titulo:"Valor da BC do ISSQN",_doc:"Valor da BC do ISSQN (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vAliq:{_titulo:"Al\xEDquota do ISSQN",_doc:"Al\xEDquota do ISSQN (vAliq)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vISSQN:{_titulo:"Valor da do ISSQN",_doc:"Valor da do ISSQN (vISSQN)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},cMunFG:{_titulo:"Informar o munic\xEDpio de ocorr\xEAncia do fato gerador do ISSQN",_doc:"Informar o munic\xEDpio de ocorr\xEAncia do fato gerador do ISSQN. Utilizar a Tabela do IBGE (Anexo VII - Tabela de UF, Munic\xEDpio e Pa\xEDs). \u201CAten\xE7\xE3o, n\xE3o vincular com os campos B12, C10 ou E10\u201D v2.0 (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},cListServ:{_titulo:"Informar o Item da lista de servi\xE7os da LC 116/03 em que se classifica o servi\xE7o.",_doc:"Informar o Item da lista de servi\xE7os da LC 116/03 em que se classifica o servi\xE7o. (cListServ)",_type:"TCListServ",_tipo:"seletor",_enumeration:[{valor:"01.01",rotulo:"01.01"},{valor:"01.02",rotulo:"01.02"},{valor:"01.03",rotulo:"01.03"},{valor:"01.04",rotulo:"01.04"},{valor:"01.05",rotulo:"01.05"},{valor:"01.06",rotulo:"01.06"},{valor:"01.07",rotulo:"01.07"},{valor:"01.08",rotulo:"01.08"},{valor:"01.09",rotulo:"01.09"},{valor:"02.01",rotulo:"02.01"},{valor:"03.02",rotulo:"03.02"},{valor:"03.03",rotulo:"03.03"},{valor:"03.04",rotulo:"03.04"},{valor:"03.05",rotulo:"03.05"},{valor:"04.01",rotulo:"04.01"},{valor:"04.02",rotulo:"04.02"},{valor:"04.03",rotulo:"04.03"},{valor:"04.04",rotulo:"04.04"},{valor:"04.05",rotulo:"04.05"},{valor:"04.06",rotulo:"04.06"},{valor:"04.07",rotulo:"04.07"},{valor:"04.08",rotulo:"04.08"},{valor:"04.09",rotulo:"04.09"},{valor:"04.10",rotulo:"04.10"},{valor:"04.11",rotulo:"04.11"},{valor:"04.12",rotulo:"04.12"},{valor:"04.13",rotulo:"04.13"},{valor:"04.14",rotulo:"04.14"},{valor:"04.15",rotulo:"04.15"},{valor:"04.16",rotulo:"04.16"},{valor:"04.17",rotulo:"04.17"},{valor:"04.18",rotulo:"04.18"},{valor:"04.19",rotulo:"04.19"},{valor:"04.20",rotulo:"04.20"},{valor:"04.21",rotulo:"04.21"},{valor:"04.22",rotulo:"04.22"},{valor:"04.23",rotulo:"04.23"},{valor:"05.01",rotulo:"05.01"},{valor:"05.02",rotulo:"05.02"},{valor:"05.03",rotulo:"05.03"},{valor:"05.04",rotulo:"05.04"},{valor:"05.05",rotulo:"05.05"},{valor:"05.06",rotulo:"05.06"},{valor:"05.07",rotulo:"05.07"},{valor:"05.08",rotulo:"05.08"},{valor:"05.09",rotulo:"05.09"},{valor:"06.01",rotulo:"06.01"},{valor:"06.02",rotulo:"06.02"},{valor:"06.03",rotulo:"06.03"},{valor:"06.04",rotulo:"06.04"},{valor:"06.05",rotulo:"06.05"},{valor:"06.06",rotulo:"06.06"},{valor:"07.01",rotulo:"07.01"},{valor:"07.02",rotulo:"07.02"},{valor:"07.03",rotulo:"07.03"},{valor:"07.04",rotulo:"07.04"},{valor:"07.05",rotulo:"07.05"},{valor:"07.06",rotulo:"07.06"},{valor:"07.07",rotulo:"07.07"},{valor:"07.08",rotulo:"07.08"},{valor:"07.09",rotulo:"07.09"},{valor:"07.10",rotulo:"07.10"},{valor:"07.11",rotulo:"07.11"},{valor:"07.12",rotulo:"07.12"},{valor:"07.13",rotulo:"07.13"},{valor:"07.16",rotulo:"07.16"},{valor:"07.17",rotulo:"07.17"},{valor:"07.18",rotulo:"07.18"},{valor:"07.19",rotulo:"07.19"},{valor:"07.20",rotulo:"07.20"},{valor:"07.21",rotulo:"07.21"},{valor:"07.22",rotulo:"07.22"},{valor:"08.01",rotulo:"08.01"},{valor:"08.02",rotulo:"08.02"},{valor:"09.01",rotulo:"09.01"},{valor:"09.02",rotulo:"09.02"},{valor:"09.03",rotulo:"09.03"},{valor:"10.01",rotulo:"10.01"},{valor:"10.02",rotulo:"10.02"},{valor:"10.03",rotulo:"10.03"},{valor:"10.04",rotulo:"10.04"},{valor:"10.05",rotulo:"10.05"},{valor:"10.06",rotulo:"10.06"},{valor:"10.07",rotulo:"10.07"},{valor:"10.08",rotulo:"10.08"},{valor:"10.09",rotulo:"10.09"},{valor:"10.10",rotulo:"10.10"},{valor:"11.01",rotulo:"11.01"},{valor:"11.02",rotulo:"11.02"},{valor:"11.03",rotulo:"11.03"},{valor:"11.04",rotulo:"11.04"},{valor:"12.01",rotulo:"12.01"},{valor:"12.02",rotulo:"12.02"},{valor:"12.03",rotulo:"12.03"},{valor:"12.04",rotulo:"12.04"},{valor:"12.05",rotulo:"12.05"},{valor:"12.06",rotulo:"12.06"},{valor:"12.07",rotulo:"12.07"},{valor:"12.08",rotulo:"12.08"},{valor:"12.09",rotulo:"12.09"},{valor:"12.10",rotulo:"12.10"},{valor:"12.11",rotulo:"12.11"},{valor:"12.12",rotulo:"12.12"},{valor:"12.13",rotulo:"12.13"},{valor:"12.14",rotulo:"12.14"},{valor:"12.15",rotulo:"12.15"},{valor:"12.16",rotulo:"12.16"},{valor:"12.17",rotulo:"12.17"},{valor:"13.02",rotulo:"13.02"},{valor:"13.03",rotulo:"13.03"},{valor:"13.04",rotulo:"13.04"},{valor:"13.05",rotulo:"13.05"},{valor:"14.01",rotulo:"14.01"},{valor:"14.02",rotulo:"14.02"},{valor:"14.03",rotulo:"14.03"},{valor:"14.04",rotulo:"14.04"},{valor:"14.05",rotulo:"14.05"},{valor:"14.06",rotulo:"14.06"},{valor:"14.07",rotulo:"14.07"},{valor:"14.08",rotulo:"14.08"},{valor:"14.09",rotulo:"14.09"},{valor:"14.10",rotulo:"14.10"},{valor:"14.11",rotulo:"14.11"},{valor:"14.12",rotulo:"14.12"},{valor:"14.13",rotulo:"14.13"},{valor:"14.14",rotulo:"14.14"},{valor:"15.01",rotulo:"15.01"},{valor:"15.02",rotulo:"15.02"},{valor:"15.03",rotulo:"15.03"},{valor:"15.04",rotulo:"15.04"},{valor:"15.05",rotulo:"15.05"},{valor:"15.06",rotulo:"15.06"},{valor:"15.07",rotulo:"15.07"},{valor:"15.08",rotulo:"15.08"},{valor:"15.09",rotulo:"15.09"},{valor:"15.10",rotulo:"15.10"},{valor:"15.11",rotulo:"15.11"},{valor:"15.12",rotulo:"15.12"},{valor:"15.13",rotulo:"15.13"},{valor:"15.14",rotulo:"15.14"},{valor:"15.15",rotulo:"15.15"},{valor:"15.16",rotulo:"15.16"},{valor:"15.17",rotulo:"15.17"},{valor:"15.18",rotulo:"15.18"},{valor:"16.01",rotulo:"16.01"},{valor:"16.02",rotulo:"16.02"},{valor:"17.01",rotulo:"17.01"},{valor:"17.02",rotulo:"17.02"},{valor:"17.03",rotulo:"17.03"},{valor:"17.04",rotulo:"17.04"},{valor:"17.05",rotulo:"17.05"},{valor:"17.06",rotulo:"17.06"},{valor:"17.08",rotulo:"17.08"},{valor:"17.09",rotulo:"17.09"},{valor:"17.10",rotulo:"17.10"},{valor:"17.11",rotulo:"17.11"},{valor:"17.12",rotulo:"17.12"},{valor:"17.13",rotulo:"17.13"},{valor:"17.14",rotulo:"17.14"},{valor:"17.15",rotulo:"17.15"},{valor:"17.16",rotulo:"17.16"},{valor:"17.17",rotulo:"17.17"},{valor:"17.18",rotulo:"17.18"},{valor:"17.19",rotulo:"17.19"},{valor:"17.20",rotulo:"17.20"},{valor:"17.21",rotulo:"17.21"},{valor:"17.22",rotulo:"17.22"},{valor:"17.23",rotulo:"17.23"},{valor:"17.24",rotulo:"17.24"},{valor:"17.25",rotulo:"17.25"},{valor:"18.01",rotulo:"18.01"},{valor:"19.01",rotulo:"19.01"},{valor:"20.01",rotulo:"20.01"},{valor:"20.02",rotulo:"20.02"},{valor:"20.03",rotulo:"20.03"},{valor:"21.01",rotulo:"21.01"},{valor:"22.01",rotulo:"22.01"},{valor:"23.01",rotulo:"23.01"},{valor:"24.01",rotulo:"24.01"},{valor:"25.01",rotulo:"25.01"},{valor:"25.02",rotulo:"25.02"},{valor:"25.03",rotulo:"25.03"},{valor:"25.04",rotulo:"25.04"},{valor:"25.05",rotulo:"25.05"},{valor:"26.01",rotulo:"26.01"},{valor:"27.01",rotulo:"27.01"},{valor:"28.01",rotulo:"28.01"},{valor:"29.01",rotulo:"29.01"},{valor:"30.01",rotulo:"30.01"},{valor:"31.01",rotulo:"31.01"},{valor:"32.01",rotulo:"32.01"},{valor:"33.01",rotulo:"33.01"},{valor:"34.01",rotulo:"34.01"},{valor:"35.01",rotulo:"35.01"},{valor:"36.01",rotulo:"36.01"},{valor:"37.01",rotulo:"37.01"},{valor:"38.01",rotulo:"38.01"},{valor:"39.01",rotulo:"39.01"},{valor:"40.01",rotulo:"40.01"}],_valorInic:"01.01"},vDeducao:{_titulo:"Valor dedu\xE7\xE3o para redu\xE7\xE3o da base de c\xE1lculo",_doc:"Valor dedu\xE7\xE3o para redu\xE7\xE3o da base de c\xE1lculo (vDeducao) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Valor outras reten\xE7\xF5es",_doc:"Valor outras reten\xE7\xF5es (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDescIncond:{_titulo:"Valor desconto incondicionado",_doc:"Valor desconto incondicionado (vDescIncond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDescCond:{_titulo:"Valor desconto condicionado",_doc:"Valor desconto condicionado (vDescCond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vISSRet:{_titulo:"Valor Reten\xE7\xE3o ISS",_doc:"Valor Reten\xE7\xE3o ISS (vISSRet) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},indISS:{_titulo:"Exibilidade do ISS:1-Exig\xEDvel;2-N\xE3o incidente;3-Isen\xE7\xE3o;4-Exporta\xE7\xE3o;5-Imunidade;6-Exig.Susp. Judicial;7-Exig.Susp. ADM",_doc:"Exibilidade do ISS:1-Exig\xEDvel;2-N\xE3o incidente;3-Isen\xE7\xE3o;4-Exporta\xE7\xE3o;5-Imunidade;6-Exig.Susp. Judicial;7-Exig.Susp. ADM (indISS)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Exig\xEDvel"},{valor:"2",rotulo:"2 - N\xE3o incidente"},{valor:"3",rotulo:"3 - Isen\xE7\xE3o"},{valor:"4",rotulo:"4 - Exporta\xE7\xE3o"},{valor:"5",rotulo:"5 - Imunidade"},{valor:"6",rotulo:"6 - Exig.Susp. Judicial"},{valor:"7",rotulo:"7 - Exig.Susp. ADM"}],_valorInic:"1"},cServico:{_titulo:"C\xF3digo do servi\xE7o prestado dentro do munic\xEDpio",_doc:"C\xF3digo do servi\xE7o prestado dentro do munic\xEDpio (cServico) (Opcional)",_opcional:!0,_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},cMun:{_titulo:"C\xF3digo do Munic\xEDpio de Incid\xEAncia do Imposto",_doc:"C\xF3digo do Munic\xEDpio de Incid\xEAncia do Imposto (cMun) (Opcional)",_opcional:!0,_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""},cPais:{_titulo:"C\xF3digo de Pais",_doc:"C\xF3digo de Pais (cPais) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,4}",_tipo:"texto",_valorInic:""},nProcesso:{_titulo:"N\xFAmero do Processo administrativo ou judicial de suspen\xE7\xE3o do processo",_doc:"N\xFAmero do Processo administrativo ou judicial de suspen\xE7\xE3o do processo (nProcesso) (Opcional)",_opcional:!0,_tipo:"texto",_minLength:1,_maxLength:30,_valorInic:""},indIncentivo:{_titulo:"Indicador de Incentivo Fiscal. 1=Sim; 2=N\xE3o",_doc:"Indicador de Incentivo Fiscal. 1=Sim; 2=N\xE3o (indIncentivo)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Sim"},{valor:"2",rotulo:"2 - N\xE3o"}],_valorInic:"1"}}}},PIS:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do PIS",_doc:"Dados do PIS (PIS) (Opcional)",_valorInic:""},PISAliq:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS.  01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo); 02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada); (PISAliq)",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS.  01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo); 02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada); (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo)"},{valor:"02",rotulo:"02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada)"}],_valorInic:"01"},vBC:{_titulo:"Valor da BC do PIS",_doc:"Valor da BC do PIS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Al\xEDquota do PIS (em percentual)",_doc:"Al\xEDquota do PIS (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},PISQtde:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS. 03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto; (PISQtde)",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS. 03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto; (CST)",_tipo:"seletor",_enumeration:[{valor:"03",rotulo:"03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto"}],_valorInic:"03"},qBCProd:{_titulo:"Quantidade Vendida ",_doc:"Quantidade Vendida  (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Al\xEDquota do PIS (em reais)",_doc:"Al\xEDquota do PIS (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},PISNT:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS. 04 - Opera\xE7\xE3o Tribut\xE1vel - Tributa\xE7\xE3o Monof\xE1sica - (Al\xEDquota Zero); 06 - Opera\xE7\xE3o Tribut\xE1vel - Al\xEDquota Zero; 07 - Opera\xE7\xE3o Isenta da contribui\xE7\xE3o; 08 - Opera\xE7\xE3o Sem Incid\xEAncia da contribui\xE7\xE3o; 09 - Opera\xE7\xE3o com suspens\xE3o da contribui\xE7\xE3o; (PISNT)",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS. 04 - Opera\xE7\xE3o Tribut\xE1vel - Tributa\xE7\xE3o Monof\xE1sica - (Al\xEDquota Zero); 05 - Opera\xE7\xE3o Tribut\xE1vel (ST); 06 - Opera\xE7\xE3o Tribut\xE1vel - Al\xEDquota Zero; 07 - Opera\xE7\xE3o Isenta da contribui\xE7\xE3o; 08 - Opera\xE7\xE3o Sem Incid\xEAncia da contribui\xE7\xE3o; 09 - Opera\xE7\xE3o com suspens\xE3o da contribui\xE7\xE3o; (CST)",_tipo:"seletor",_enumeration:[{valor:"04",rotulo:"04 - Opera\xE7\xE3o Tribut\xE1vel - Tributa\xE7\xE3o Monof\xE1sica - (Al\xEDquota Zero)"},{valor:"05",rotulo:"05 - Opera\xE7\xE3o Tribut\xE1vel (ST)"},{valor:"06",rotulo:"06 - Opera\xE7\xE3o Tribut\xE1vel - Al\xEDquota Zero"},{valor:"07",rotulo:"07 - Opera\xE7\xE3o Isenta da contribui\xE7\xE3o"},{valor:"08",rotulo:"08 - Opera\xE7\xE3o Sem Incid\xEAncia da contribui\xE7\xE3o"},{valor:"09",rotulo:"09 - Opera\xE7\xE3o com suspens\xE3o da contribui\xE7\xE3o"}],_valorInic:"04"}},PISOutr:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS. 99 - Outras Opera\xE7\xF5es. (PISOutr)",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS. 99 - Outras Opera\xE7\xF5es. (CST)",_tipo:"seletor",_enumeration:[{valor:"49",rotulo:"49"},{valor:"50",rotulo:"50"},{valor:"51",rotulo:"51"},{valor:"52",rotulo:"52"},{valor:"53",rotulo:"53"},{valor:"54",rotulo:"54"},{valor:"55",rotulo:"55"},{valor:"56",rotulo:"56"},{valor:"60",rotulo:"60"},{valor:"61",rotulo:"61"},{valor:"62",rotulo:"62"},{valor:"63",rotulo:"63"},{valor:"64",rotulo:"64"},{valor:"65",rotulo:"65"},{valor:"66",rotulo:"66"},{valor:"67",rotulo:"67"},{valor:"70",rotulo:"70"},{valor:"71",rotulo:"71"},{valor:"72",rotulo:"72"},{valor:"73",rotulo:"73"},{valor:"74",rotulo:"74"},{valor:"75",rotulo:"75"},{valor:"98",rotulo:"98"},{valor:"99",rotulo:"99 - Outras Opera\xE7\xF5es"}],_valorInic:"49"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do PIS",_doc:"Valor da BC do PIS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Al\xEDquota do PIS (em percentual)",_doc:"Al\xEDquota do PIS (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Al\xEDquota do PIS (em reais)",_doc:"Al\xEDquota do PIS (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}}},PISST:{_titulo:"Dados do PIS Substitui\xE7\xE3o Tribut\xE1ria",_doc:"Dados do PIS Substitui\xE7\xE3o Tribut\xE1ria (PISST) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do PIS Substitui\xE7\xE3o Tribut\xE1ria",_doc:"Dados do PIS Substitui\xE7\xE3o Tribut\xE1ria (PISST) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do PIS ST",_doc:"Valor da BC do PIS ST (vBC)",_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},pPIS:{_titulo:"Al\xEDquota do PIS ST (em percentual)",_doc:"Al\xEDquota do PIS ST (em percentual) (pPIS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Al\xEDquota do PIS ST (em reais)",_doc:"Al\xEDquota do PIS ST (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vPIS:{_titulo:"Valor do PIS ST",_doc:"Valor do PIS ST (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},indSomaPISST:{_titulo:"Indica se o valor do PISST comp\xF5e o valor total da NF-e;",_doc:"Indica se o valor do PISST comp\xF5e o valor total da NF-e; (indSomaPISST) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"0",rotulo:"0"},{valor:"1",rotulo:"1"}],_valorInic:""}},COFINS:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",escolhas:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"Dados do COFINS",_doc:"Dados do COFINS (COFINS) (Opcional)",_valorInic:""},COFINSAliq:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS.  01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo); 02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada);",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS.  01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo); 02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada); (COFINSAliq)",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS.  01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo); 02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada); (CST)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo)"},{valor:"02",rotulo:"02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada)"}],_valorInic:"01"},vBC:{_titulo:"Valor da BC do COFINS",_doc:"Valor da BC do COFINS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Al\xEDquota do COFINS (em percentual)",_doc:"Al\xEDquota do COFINS (em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},COFINSQtde:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS. 03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto; (COFINSQtde)",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS. 03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto;",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS. 03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto; (CST)",_tipo:"seletor",_enumeration:[{valor:"03",rotulo:"03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto"}],_valorInic:"03"},qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Al\xEDquota do COFINS (em reais)",_doc:"Al\xEDquota do COFINS (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},COFINSNT:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS: 04 - Opera\xE7\xE3o Tribut\xE1vel - Tributa\xE7\xE3o Monof\xE1sica - (Al\xEDquota Zero); 06 - Opera\xE7\xE3o Tribut\xE1vel - Al\xEDquota Zero; 07 - Opera\xE7\xE3o Isenta da contribui\xE7\xE3o; 08 - Opera\xE7\xE3o Sem Incid\xEAncia da contribui\xE7\xE3o; 09 - Opera\xE7\xE3o com suspens\xE3o da contribui\xE7\xE3o; (COFINSNT)",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS: 04 - Opera\xE7\xE3o Tribut\xE1vel - Tributa\xE7\xE3o Monof\xE1sica - (Al\xEDquota Zero); 05 - Opera\xE7\xE3o Tribut\xE1vel (ST); 06 - Opera\xE7\xE3o Tribut\xE1vel - Al\xEDquota Zero; 07 - Opera\xE7\xE3o Isenta da contribui\xE7\xE3o; 08 - Opera\xE7\xE3o Sem Incid\xEAncia da contribui\xE7\xE3o; 09 - Opera\xE7\xE3o com suspens\xE3o da contribui\xE7\xE3o; (CST)",_tipo:"seletor",_enumeration:[{valor:"04",rotulo:"04 - Opera\xE7\xE3o Tribut\xE1vel - Tributa\xE7\xE3o Monof\xE1sica - (Al\xEDquota Zero)"},{valor:"05",rotulo:"05 - Opera\xE7\xE3o Tribut\xE1vel (ST)"},{valor:"06",rotulo:"06 - Opera\xE7\xE3o Tribut\xE1vel - Al\xEDquota Zero"},{valor:"07",rotulo:"07 - Opera\xE7\xE3o Isenta da contribui\xE7\xE3o"},{valor:"08",rotulo:"08 - Opera\xE7\xE3o Sem Incid\xEAncia da contribui\xE7\xE3o"},{valor:"09",rotulo:"09 - Opera\xE7\xE3o com suspens\xE3o da contribui\xE7\xE3o"}],_valorInic:"04"}},COFINSOutr:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS: 49 - Outras Opera\xE7\xF5es de Sa\xEDda 50 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno 51 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita N\xE3o Tributada no Mercado Interno 52 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o 53 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno 54 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o 55 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o 56 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o 60 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita Tributada no Mercado Interno 61 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita N\xE3o-Tributada no Mercado Interno 62 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o 63 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno 64 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o 65 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o 66 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o 67 - Cr\xE9dito Presumido - Outras Opera\xE7\xF5es 70 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Direito a Cr\xE9dito 71 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Isen\xE7\xE3o 72 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Suspens\xE3o 73 - Opera\xE7\xE3o de Aquisi\xE7\xE3o a Al\xEDquota Zero 74 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Incid\xEAncia da Contribui\xE7\xE3o 75 - Opera\xE7\xE3o de Aquisi\xE7\xE3o por Substitui\xE7\xE3o Tribut\xE1ria 98 - Outras Opera\xE7\xF5es de Entrada 99 - Outras Opera\xE7\xF5es. (COFINSOutr)",_tipo:"texto",_valorInic:"",CST:{_titulo:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS: 49 - Outras Opera\xE7\xF5es de Sa\xEDda 50 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno 51 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita N\xE3o Tributada no Mercado Interno 52 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o 53 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno 54 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o 55 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o 56 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o 60 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita Tributada no Mercado Interno 61 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita N\xE3o-Tributada no Mercado Interno 62 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o 63 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno 64 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o 65 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o 66 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o 67 - Cr\xE9dito Presumido - Outras Opera\xE7\xF5es 70 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Direito a Cr\xE9dito 71 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Isen\xE7\xE3o 72 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Suspens\xE3o 73 - Opera\xE7\xE3o de Aquisi\xE7\xE3o a Al\xEDquota Zero 74 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Incid\xEAncia da Contribui\xE7\xE3o 75 - Opera\xE7\xE3o de Aquisi\xE7\xE3o por Substitui\xE7\xE3o Tribut\xE1ria 98 - Outras Opera\xE7\xF5es de Entrada 99 - Outras Opera\xE7\xF5es. (CST)",_tipo:"seletor",_enumeration:[{valor:"49",rotulo:"49 - Outras Opera\xE7\xF5es de Sa\xEDda"},{valor:"50",rotulo:"50 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita N\xE3o Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o"},{valor:"53",rotulo:"53 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"55",rotulo:"55 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"56",rotulo:"56 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o"},{valor:"60",rotulo:"60 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita N\xE3o-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o"},{valor:"63",rotulo:"63 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"65",rotulo:"65 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"66",rotulo:"66 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o"},{valor:"67",rotulo:"67 - Cr\xE9dito Presumido - Outras Opera\xE7\xF5es"},{valor:"70",rotulo:"70 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Direito a Cr\xE9dito"},{valor:"71",rotulo:"71 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Isen\xE7\xE3o"},{valor:"72",rotulo:"72 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Suspens\xE3o"},{valor:"73",rotulo:"73 - Opera\xE7\xE3o de Aquisi\xE7\xE3o a Al\xEDquota Zero"},{valor:"74",rotulo:"74 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Incid\xEAncia da Contribui\xE7\xE3o"},{valor:"75",rotulo:"75 - Opera\xE7\xE3o de Aquisi\xE7\xE3o por Substitui\xE7\xE3o Tribut\xE1ria"},{valor:"98",rotulo:"98 - Outras Opera\xE7\xF5es de Entrada"},{valor:"99",rotulo:"99 - Outras Opera\xE7\xF5es"}],_valorInic:"49"},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do COFINS",_doc:"Valor da BC do COFINS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Al\xEDquota do COFINS (em percentual)",_doc:"Al\xEDquota do COFINS (em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{1,4})?",_type:"TDec_1204v",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Al\xEDquota do COFINS (em reais)",_doc:"Al\xEDquota do COFINS (em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,4})?",_type:"TDec_1104v",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}}},COFINSST:{_titulo:"Dados do COFINS da Substitui\xE7\xE3o Tributaria;",_doc:"Dados do COFINS da Substitui\xE7\xE3o Tributaria; (COFINSST) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do COFINS da Substitui\xE7\xE3o Tributaria;",_doc:"Dados do COFINS da Substitui\xE7\xE3o Tributaria; (COFINSST) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{vBC:{_titulo:"Valor da BC do COFINS ST",_doc:"Valor da BC do COFINS ST (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pCOFINS:{_titulo:"Al\xEDquota do COFINS ST(em percentual)",_doc:"Al\xEDquota do COFINS ST(em percentual) (pCOFINS)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0}},opcao2:{qBCProd:{_titulo:"Quantidade Vendida",_doc:"Quantidade Vendida (qBCProd)",_pattern:"0|0\\.[0-9]{1,4}|[1-9]{1}[0-9]{0,11}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{4})?",_type:"TDec_1204",_tipo:"decimal",_decimals:"4",_valorInic:0},vAliqProd:{_titulo:"Al\xEDquota do COFINS ST(em reais)",_doc:"Al\xEDquota do COFINS ST(em reais) (vAliqProd)",_pattern:"0|0\\.[0-9]{4}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{4})?",_type:"TDec_1104",_tipo:"decimal",_decimals:"4",_valorInic:0}}},vCOFINS:{_titulo:"Valor do COFINS ST",_doc:"Valor do COFINS ST (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},indSomaCOFINSST:{_titulo:"Indica se o valor da COFINS ST comp\xF5e o valor total da NFe",_doc:"Indica se o valor da COFINS ST comp\xF5e o valor total da NFe (indSomaCOFINSST) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"0",rotulo:"0"},{valor:"1",rotulo:"1"}],_valorInic:""}},ICMSUFDest:{_titulo:"Grupo a ser informado nas vendas interestaduais para consumidor final, n\xE3o contribuinte de ICMS",_doc:"Grupo a ser informado nas vendas interestaduais para consumidor final, n\xE3o contribuinte de ICMS (ICMSUFDest) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo a ser informado nas vendas interestaduais para consumidor final, n\xE3o contribuinte de ICMS",_doc:"Grupo a ser informado nas vendas interestaduais para consumidor final, n\xE3o contribuinte de ICMS (ICMSUFDest) (Opcional)",_valorInic:""},vBCUFDest:{_titulo:"Valor da Base de C\xE1lculo do ICMS na UF do destinat\xE1rio.",_doc:"Valor da Base de C\xE1lculo do ICMS na UF do destinat\xE1rio. (vBCUFDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCFCPUFDest:{_titulo:"Valor da Base de C\xE1lculo do FCP na UF do destinat\xE1rio.",_doc:"Valor da Base de C\xE1lculo do FCP na UF do destinat\xE1rio. (vBCFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pFCPUFDest:{_titulo:"Percentual adicional inserido na al\xEDquota interna da UF de destino, relativo ao FCP naquela UF.",_doc:"Percentual adicional inserido na al\xEDquota interna da UF de destino, relativo ao Fundo de Combate \xE0 Pobreza (FCP) naquela UF. (pFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMSUFDest:{_titulo:"Al\xEDquota adotada nas opera\xE7\xF5es internas na UF do destinat\xE1rio para o produto / mercadoria.",_doc:"Al\xEDquota adotada nas opera\xE7\xF5es internas na UF do destinat\xE1rio para o produto / mercadoria. (pICMSUFDest)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},pICMSInter:{_titulo:"Al\xEDquota interestadual das UF envolvidas",_doc:"Al\xEDquota interestadual das UF envolvidas: - 4% al\xEDquota interestadual para produtos importados; - 7% para os Estados de origem do Sul e Sudeste (exceto ES), destinado para os Estados do Norte e Nordeste  ou ES; - 12% para os demais casos. (pICMSInter)",_tipo:"seletor",_enumeration:[{valor:"4.00",rotulo:"4,00 %"},{valor:"7.00",rotulo:"7,00 %"},{valor:"12.00",rotulo:"12,00 %"}],_valorInic:"4.00"},pICMSInterPart:{_titulo:"Percentual de partilha para a UF do destinat\xE1rio",_doc:"Percentual de partilha para a UF do destinat\xE1rio: - 40% em 2016; - 60% em 2017; - 80% em 2018; - 100% a partir de 2019. (pICMSInterPart)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vFCPUFDest:{_titulo:"Valor do ICMS relativo ao FCP da UF de destino.",_doc:"Valor do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP) da UF de destino. (vFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSUFDest:{_titulo:"Valor do ICMS de partilha para a UF do destinat\xE1rio.",_doc:"Valor do ICMS de partilha para a UF do destinat\xE1rio. (vICMSUFDest)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSUFRemet:{_titulo:"Valor do ICMS de partilha para a UF do remetente",_doc:"Valor do ICMS de partilha para a UF do remetente. Nota: A partir de 2019, este valor ser\xE1 zero. (vICMSUFRemet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},impostoDevol:{_titulo:"impostoDevol",_doc:"impostoDevol (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"impostoDevol",_doc:"impostoDevol (Opcional)",_valorInic:""},pDevol:{_titulo:"Percentual de mercadoria devolvida",_doc:"Percentual de mercadoria devolvida (pDevol)",_pattern:"0(\\.[0-9]{2})?|100(\\.00)?|[1-9]{1}[0-9]{0,1}(\\.[0-9]{2})?",_type:"TDec_0302Max100",_tipo:"decimal",_decimals:"2",_valorInic:0},IPI:{_titulo:"Informa\xE7\xE3o de IPI devolvido",_doc:"Informa\xE7\xE3o de IPI devolvido (IPI)",_tipo:"texto",_valorInic:"",vIPIDevol:{_titulo:"Valor do IPI devolvido",_doc:"Valor do IPI devolvido (vIPIDevol)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},infAdProd:{_titulo:"Informa\xE7\xF5es adicionais do produto (norma referenciada, informa\xE7\xF5es complementares, etc)",_doc:"Informa\xE7\xF5es adicionais do produto (norma referenciada, informa\xE7\xF5es complementares, etc) (infAdProd) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:500,_valorInic:""}}},total:{_titulo:"Dados dos totais da NF-e",_doc:"Dados dos totais da NF-e (total)",_tipo:"texto",_valorInic:"",ICMSTot:{_titulo:"Totais referentes ao ICMS",_doc:"Totais referentes ao ICMS (ICMSTot)",_tipo:"texto",_valorInic:"",vBC:{_titulo:"BC do ICMS",_doc:"BC do ICMS (vBC)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMS:{_titulo:"Valor Total do ICMS",_doc:"Valor Total do ICMS (vICMS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSDeson:{_titulo:"Valor Total do ICMS desonerado",_doc:"Valor Total do ICMS desonerado (vICMSDeson)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCPUFDest:{_titulo:"Valor total do ICMS relativo ao FCP para a UF de destino.",_doc:"Valor total do ICMS relativo ao Fundo de Combate \xE0 Pobreza (FCP) para a UF de destino. (vFCPUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSUFDest:{_titulo:"Valor total do ICMS de partilha para a UF do destinat\xE1rio",_doc:"Valor total do ICMS de partilha para a UF do destinat\xE1rio (vICMSUFDest) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vICMSUFRemet:{_titulo:"Valor total do ICMS de partilha para a UF do remetente",_doc:"Valor total do ICMS de partilha para a UF do remetente (vICMSUFRemet) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCP:{_titulo:"Valor Total do FCP",_doc:"Valor Total do FCP (Fundo de Combate \xE0 Pobreza). (vFCP)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCST:{_titulo:"BC do ICMS ST",_doc:"BC do ICMS ST (vBCST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vST:{_titulo:"Valor Total do ICMS ST",_doc:"Valor Total do ICMS ST (vST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCPST:{_titulo:"Valor Total do FCP retido por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor Total do FCP (Fundo de Combate \xE0 Pobreza) retido por substitui\xE7\xE3o tribut\xE1ria. (vFCPST)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFCPSTRet:{_titulo:"Valor Total do FCP retido anteriormente por substitui\xE7\xE3o tribut\xE1ria.",_doc:"Valor Total do FCP (Fundo de Combate \xE0 Pobreza) retido anteriormente por substitui\xE7\xE3o tribut\xE1ria. (vFCPSTRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vProd:{_titulo:"Valor Total dos produtos e servi\xE7os",_doc:"Valor Total dos produtos e servi\xE7os (vProd)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vFrete:{_titulo:"Valor Total do Frete",_doc:"Valor Total do Frete (vFrete)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vSeg:{_titulo:"Valor Total do Seguro",_doc:"Valor Total do Seguro (vSeg)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor Total do Desconto",_doc:"Valor Total do Desconto (vDesc)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vII:{_titulo:"Valor Total do II",_doc:"Valor Total do II (vII)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vIPI:{_titulo:"Valor Total do IPI",_doc:"Valor Total do IPI (vIPI)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vIPIDevol:{_titulo:"Valor Total do IPI devolvido",_doc:"Valor Total do IPI devolvido. Deve ser informado quando preenchido o Grupo Tributos Devolvidos na emiss\xE3o de nota finNFe=4 (devolu\xE7\xE3o) nas opera\xE7\xF5es com n\xE3o contribuintes do IPI. Corresponde ao total da soma dos campos id: UA04. (vIPIDevol)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vPIS:{_titulo:"Valor do PIS",_doc:"Valor do PIS (vPIS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS",_doc:"Valor do COFINS (vCOFINS)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Outras Despesas acess\xF3rias",_doc:"Outras Despesas acess\xF3rias (vOutro)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vNF:{_titulo:"Valor Total da NF-e",_doc:"Valor Total da NF-e (vNF)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vTotTrib:{_titulo:"Valor estimado total de impostos federais, estaduais e municipais",_doc:"Valor estimado total de impostos federais, estaduais e municipais (vTotTrib) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},ISSQNtot:{_titulo:"Totais referentes ao ISSQN",_doc:"Totais referentes ao ISSQN (ISSQNtot) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Totais referentes ao ISSQN",_doc:"Totais referentes ao ISSQN (ISSQNtot) (Opcional)",_valorInic:""},vServ:{_titulo:"Valor Total dos Servi\xE7os sob n\xE3o-incid\xEAncia ou n\xE3o tributados pelo ICMS",_doc:"Valor Total dos Servi\xE7os sob n\xE3o-incid\xEAncia ou n\xE3o tributados pelo ICMS (vServ) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vBC:{_titulo:"Base de C\xE1lculo do ISS",_doc:"Base de C\xE1lculo do ISS (vBC) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vISS:{_titulo:"Valor Total do ISS",_doc:"Valor Total do ISS (vISS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vPIS:{_titulo:"Valor do PIS sobre servi\xE7os",_doc:"Valor do PIS sobre servi\xE7os (vPIS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vCOFINS:{_titulo:"Valor do COFINS sobre servi\xE7os",_doc:"Valor do COFINS sobre servi\xE7os (vCOFINS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},dCompet:{_titulo:"Data da presta\xE7\xE3o do servi\xE7o  (AAAA-MM-DD)",_doc:"Data da presta\xE7\xE3o do servi\xE7o  (AAAA-MM-DD) (dCompet)",_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDeducao:{_titulo:"Valor dedu\xE7\xE3o para redu\xE7\xE3o da base de c\xE1lculo",_doc:"Valor dedu\xE7\xE3o para redu\xE7\xE3o da base de c\xE1lculo (vDeducao) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vOutro:{_titulo:"Valor outras reten\xE7\xF5es",_doc:"Valor outras reten\xE7\xF5es (vOutro) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDescIncond:{_titulo:"Valor desconto incondicionado",_doc:"Valor desconto incondicionado (vDescIncond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vDescCond:{_titulo:"Valor desconto condicionado",_doc:"Valor desconto condicionado (vDescCond) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vISSRet:{_titulo:"Valor Total Reten\xE7\xE3o ISS",_doc:"Valor Total Reten\xE7\xE3o ISS (vISSRet) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},cRegTrib:{_titulo:"C\xF3digo do regime especial de tributa\xE7\xE3o",_doc:"C\xF3digo do regime especial de tributa\xE7\xE3o (cRegTrib) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"1",rotulo:"1"},{valor:"2",rotulo:"2"},{valor:"3",rotulo:"3"},{valor:"4",rotulo:"4"},{valor:"5",rotulo:"5"},{valor:"6",rotulo:"6"}],_valorInic:""}},retTrib:{_titulo:"Reten\xE7\xE3o de Tributos Federais",_doc:"Reten\xE7\xE3o de Tributos Federais (retTrib) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Reten\xE7\xE3o de Tributos Federais",_doc:"Reten\xE7\xE3o de Tributos Federais (retTrib) (Opcional)",_valorInic:""},vRetPIS:{_titulo:"Valor Retido de PIS",_doc:"Valor Retido de PIS (vRetPIS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vRetCOFINS:{_titulo:"Valor Retido de COFINS",_doc:"Valor Retido de COFINS (vRetCOFINS) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vRetCSLL:{_titulo:"Valor Retido de CSLL",_doc:"Valor Retido de CSLL (vRetCSLL) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCIRRF:{_titulo:"Base de C\xE1lculo do IRRF",_doc:"Base de C\xE1lculo do IRRF (vBCIRRF) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vIRRF:{_titulo:"Valor Retido de IRRF",_doc:"Valor Retido de IRRF (vIRRF) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCRetPrev:{_titulo:"Base de C\xE1lculo da Reten\xE7\xE3o da Previd\xEAncica Social",_doc:"Base de C\xE1lculo da Reten\xE7\xE3o da Previd\xEAncica Social (vBCRetPrev) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0},vRetPrev:{_titulo:"Valor da Reten\xE7\xE3o da Previd\xEAncica Social",_doc:"Valor da Reten\xE7\xE3o da Previd\xEAncica Social (vRetPrev) (Opcional)",_opcional:!0,_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0}}},transp:{_titulo:"Dados dos transportes da NF-e",_doc:"Dados dos transportes da NF-e (transp)",_tipo:"texto",_valorInic:"",modFrete:{_titulo:"Modalidade do frete",_doc:"Modalidade do frete 0- Contrata\xE7\xE3o do Frete por conta do Remetente (CIF); 1- Contrata\xE7\xE3o do Frete por conta do destinat\xE1rio/remetente (FOB); 2- Contrata\xE7\xE3o do Frete por conta de terceiros; 3- Transporte pr\xF3prio por conta do remetente; 4- Transporte pr\xF3prio por conta do destinat\xE1rio; 9- Sem Ocorr\xEAncia de transporte. (modFrete)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 -  Contrata\xE7\xE3o do Frete por conta do Remetente (CIF)"},{valor:"1",rotulo:"1 -  Contrata\xE7\xE3o do Frete por conta do destinat\xE1rio/remetente (FOB)"},{valor:"2",rotulo:"2 -  Contrata\xE7\xE3o do Frete por conta de terceiros"},{valor:"3",rotulo:"3 -  Transporte pr\xF3prio por conta do remetente"},{valor:"4",rotulo:"4 -  Transporte pr\xF3prio por conta do destinat\xE1rio"},{valor:"9",rotulo:"9 -  Sem Ocorr\xEAncia de transporte"}],_valorInic:"0"},transporta:{_titulo:"Dados do transportador",_doc:"Dados do transportador (transporta) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do transportador",_doc:"Dados do transportador (transporta) (Opcional)",_valorInic:""},escolhas:{_titulo:"",_doc:" (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:" (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ do transportador",_doc:"CNPJ do transportador (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},CPF:{_titulo:"CPF do transportador",_doc:"CPF do transportador (CPF)",_pattern:"[0-9]{11}",_type:"TCpf",_tipo:"texto",_maxLength:11,_valorInic:""}},xNome:{_titulo:"Raz\xE3o Social ou nome do transportador",_doc:"Raz\xE3o Social ou nome do transportador (xNome) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},IE:{_titulo:"Inscri\xE7\xE3o Estadual",_doc:"Inscri\xE7\xE3o Estadual (IE) (Opcional)",_opcional:!0,_pattern:"ISENTO|[0-9]{2,14}",_type:"TIeDest",_tipo:"texto",_maxLength:14,_valorInic:""},xEnder:{_titulo:"Endere\xE7o completo",_doc:"Endere\xE7o completo (xEnder) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xMun:{_titulo:"Nome do mun\xEDcipio",_doc:"Nome do mun\xEDcipio (xMun) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF) (Opcional)",_opcional:!0,_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:""}},retTransp:{_titulo:"Dados da reten\xE7\xE3o  ICMS do Transporte",_doc:"Dados da reten\xE7\xE3o  ICMS do Transporte (retTransp) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da reten\xE7\xE3o  ICMS do Transporte",_doc:"Dados da reten\xE7\xE3o  ICMS do Transporte (retTransp) (Opcional)",_valorInic:""},vServ:{_titulo:"Valor do Servi\xE7o",_doc:"Valor do Servi\xE7o (vServ)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vBCRet:{_titulo:"BC da Reten\xE7\xE3o do ICMS",_doc:"BC da Reten\xE7\xE3o do ICMS (vBCRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},pICMSRet:{_titulo:"Al\xEDquota da Reten\xE7\xE3o",_doc:"Al\xEDquota da Reten\xE7\xE3o (pICMSRet)",_pattern:"0|0\\.[0-9]{2,4}|[1-9]{1}[0-9]{0,2}(\\.[0-9]{2,4})?",_type:"TDec_0302a04",_tipo:"decimal",_decimals:"4",_valorInic:0},vICMSRet:{_titulo:"Valor do ICMS Retido",_doc:"Valor do ICMS Retido (vICMSRet)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},CFOP:{_titulo:"C\xF3digo Fiscal de Opera\xE7\xF5es e Presta\xE7\xF5es",_doc:"C\xF3digo Fiscal de Opera\xE7\xF5es e Presta\xE7\xF5es (CFOP)",_pattern:"[1,2,3,5,6,7]{1}[0-9]{3}",_tipo:"texto",_valorInic:""},cMunFG:{_titulo:"C\xF3digo do Munic\xEDpio de Ocorr\xEAncia do Fato Gerador",_doc:"C\xF3digo do Munic\xEDpio de Ocorr\xEAncia do Fato Gerador (utilizar a tabela do IBGE) (cMunFG)",_pattern:"[0-9]{7}",_type:"TCodMunIBGE",_tipo:"texto",_valorInic:""}},escolhas:{_titulo:"",_doc:"",_tipo:"texto",_valorInic:"",valor_escolha:{_titulo:"",_doc:"",_valorInic:""},opcao1:{veicTransp:{_titulo:"Dados do ve\xEDculo",_doc:"Dados do ve\xEDculo (veicTransp) (Opcional)",_opcional:!0,_type:"TVeiculo",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados do ve\xEDculo",_doc:"Dados do ve\xEDculo (veicTransp) (Opcional)",_valorInic:""},placa:{_titulo:"Placa do ve\xEDculo",_doc:"Placa do ve\xEDculo (placa)",_opcional:!0,_pattern:"[A-Z]{2,3}[0-9]{4}|[A-Z]{3,4}[0-9]{3}|[A-Z0-9]{7}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},RNTC:{_titulo:"Registro Nacional de Transportador de Carga (ANTT)",_doc:"Registro Nacional de Transportador de Carga (ANTT) (RNTC) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}},reboque:{_titulo:"Dados do reboque/Dolly",_doc:"Dados do reboque/Dolly (reboque) (Lista)",_opcional:!0,_type:"TVeiculo",_tipo:"texto",_valorInic:"",lista:{placa:{_titulo:"Placa do ve\xEDculo",_doc:"Placa do ve\xEDculo (placa) (Opcional)",_opcional:!0,_pattern:"[A-Z]{2,3}[0-9]{4}|[A-Z]{3,4}[0-9]{3}|[A-Z0-9]{7}",_tipo:"texto",_valorInic:""},UF:{_titulo:"Sigla da UF",_doc:"Sigla da UF (UF)",_type:"TUf",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"},{valor:"EX",rotulo:"EX"}],_valorInic:"AC"},RNTC:{_titulo:"Registro Nacional de Transportador de Carga (ANTT)",_doc:"Registro Nacional de Transportador de Carga (ANTT) (RNTC) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}}}},vagao:{_titulo:"Identifica\xE7\xE3o do vag\xE3o",_doc:"Identifica\xE7\xE3o do vag\xE3o (vagao) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""},balsa:{_titulo:"Identifica\xE7\xE3o da balsa",_doc:"Identifica\xE7\xE3o da balsa (balsa) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}},vol:{_titulo:"Dados dos volumes",_doc:"Dados dos volumes (vol) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{qVol:{_titulo:"Quantidade de volumes transportados",_doc:"Quantidade de volumes transportados (qVol) (Opcional)",_opcional:!0,_pattern:"[0-9]{1,15}",_tipo:"texto",_valorInic:""},esp:{_titulo:"Esp\xE9cie dos volumes transportados",_doc:"Esp\xE9cie dos volumes transportados (esp) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},marca:{_titulo:"Marca dos volumes transportados",_doc:"Marca dos volumes transportados (marca) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},nVol:{_titulo:"Numera\xE7\xE3o dos volumes transportados",_doc:"Numera\xE7\xE3o dos volumes transportados (nVol) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},pesoL:{_titulo:"Peso l\xEDquido (em kg)",_doc:"Peso l\xEDquido (em kg) (pesoL) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0},pesoB:{_titulo:"Peso bruto (em kg)",_doc:"Peso bruto (em kg) (pesoB) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{3}|[1-9]{1}[0-9]{0,11}(\\.[0-9]{3})?",_type:"TDec_1203",_tipo:"decimal",_decimals:"3",_valorInic:0},lacres:{_titulo:"lacres",_doc:"lacres (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nLacre:{_titulo:"N\xFAmero dos Lacres",_doc:"N\xFAmero dos Lacres (nLacre)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}}}}},cobr:{_titulo:"Dados da cobran\xE7a da NF-e",_doc:"Dados da cobran\xE7a da NF-e (cobr) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da cobran\xE7a da NF-e",_doc:"Dados da cobran\xE7a da NF-e (cobr) (Opcional)",_valorInic:""},fat:{_titulo:"Dados da fatura",_doc:"Dados da fatura (fat) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Dados da fatura",_doc:"Dados da fatura (fat) (Opcional)",_valorInic:""},nFat:{_titulo:"N\xFAmero da fatura",_doc:"N\xFAmero da fatura (nFat) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vOrig:{_titulo:"Valor original da fatura",_doc:"Valor original da fatura (vOrig) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vDesc:{_titulo:"Valor do desconto da fatura",_doc:"Valor do desconto da fatura (vDesc) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vLiq:{_titulo:"Valor l\xEDquido da fatura",_doc:"Valor l\xEDquido da fatura (vLiq) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},dup:{_titulo:"Dados das duplicatas NT 2011/004",_doc:"Dados das duplicatas NT 2011/004 (dup) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nDup:{_titulo:"N\xFAmero da duplicata",_doc:"N\xFAmero da duplicata (nDup) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},dVenc:{_titulo:"Data de vencimento da duplicata",_doc:"Data de vencimento da duplicata (AAAA-MM-DD) (dVenc) (Opcional)",_opcional:!0,_pattern:"(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])-((((0[1-9])|(1[0-2]))-((0[1-9])|(1\\d)|(2[0-8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30)))))",_type:"TData",_tipo:"data",_valorInic:""},vDup:{_titulo:"Valor da duplicata",_doc:"Valor da duplicata (vDup)",_pattern:"0\\.[0-9]{1}[1-9]{1}|0\\.[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302Opc",_tipo:"decimal",_decimals:"2",_valorInic:0}}}},pag:{_titulo:"Dados de Pagamento. Obrigat\xF3rio apenas para (NFC-e) NT 2012/004",_doc:"Dados de Pagamento. Obrigat\xF3rio apenas para (NFC-e) NT 2012/004 (pag)",_tipo:"texto",_valorInic:"",detPag:{_titulo:"Grupo de detalhamento da forma de pagamento.",_doc:"Grupo de detalhamento da forma de pagamento. (detPag) (Lista)",_tipo:"texto",_valorInic:"",lista:{indPag:{_titulo:"Indicador da Forma de Pagamento:0-Pagamento \xE0 Vista;1-Pagamento \xE0 Prazo;",_doc:"Indicador da Forma de Pagamento:0-Pagamento \xE0 Vista;1-Pagamento \xE0 Prazo; (indPag) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"0",rotulo:"0 - Pagamento \xE0 Vista"},{valor:"1",rotulo:"1 - Pagamento \xE0 Prazo"}],_valorInic:""},tPag:{_titulo:"Forma de Pagamento",_doc:"Forma de Pagamento:01-Dinheiro;02-Cheque;03-Cart\xE3o de Cr\xE9dito;04-Cart\xE3o de D\xE9bito;05-Cr\xE9dito Loja;10-Vale Alimenta\xE7\xE3o;11-Vale Refei\xE7\xE3o;12-Vale Presente;13-Vale Combust\xEDvel;14 - Duplicata Mercantil;15 - Boleto Bancario;90 - Sem Pagamento;99 - Outros (tPag)",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Dinheiro"},{valor:"02",rotulo:"02 - Cheque"},{valor:"03",rotulo:"03 - Cart\xE3o de Cr\xE9dito"},{valor:"04",rotulo:"04 - Cart\xE3o de D\xE9bito"},{valor:"05",rotulo:"05 - Cr\xE9dito Loja"},{valor:"10",rotulo:"10 - Vale Alimenta\xE7\xE3o"},{valor:"11",rotulo:"11 - Vale Refei\xE7\xE3o"},{valor:"12",rotulo:"12 - Vale Presente"},{valor:"13",rotulo:"13 - Vale Combust\xEDvel"},{valor:"14",rotulo:"14 - Duplicata Mercantil"},{valor:"15",rotulo:"15 - Boleto Bancario"},{valor:"16",rotulo:"16 - Dep\xF3sito Banc\xE1rio"},{valor:"17",rotulo:"17 - Pagamento Instant\xE2neo (PIX)"},{valor:"18",rotulo:"18 - Transfer\xEAncia banc\xE1ria, Carteira Digital"},{valor:"19",rotulo:"19 - Programa de fidelidade, Cashback, Cr\xE9dito Virtual"},{valor:"90",rotulo:"90 - Sem Pagamento"},{valor:"99",rotulo:"99 - Outros"}],_valorInic:"01"},xPag:{_titulo:"Descri\xE7\xE3o do pagamento",_doc:"Descri\xE7\xE3o do pagamento obrigat\xF3ria para meio de pagamento 99 - outros",_opcional:!0,_tipo:"texto",_valorInic:""},vPag:{_titulo:"Valor do Pagamento",_doc:"Valor do Pagamento. Esta tag poder\xE1 ser omitida quando a tag tPag=90 (Sem Pagamento), caso contr\xE1rio dever\xE1 ser preenchida. (vPag)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},card:{_titulo:"Grupo de Cart\xF5es",_doc:"Grupo de Cart\xF5es (card) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de Cart\xF5es",_doc:"Grupo de Cart\xF5es (card) (Opcional)",_valorInic:""},tpIntegra:{_titulo:"Tipo de Integra\xE7\xE3o do processo de pagamento com o sistema de automa\xE7\xE3o da empresa",_doc:"Tipo de Integra\xE7\xE3o do processo de pagamento com o sistema de automa\xE7\xE3o da empresa/                  1=Pagamento integrado com o sistema de automa\xE7\xE3o da empresa Ex. equipamento TEF , Comercio Eletronico                 2=Pagamento n\xE3o integrado com o sistema de automa\xE7\xE3o da empresa Ex: equipamento POS (tpIntegra)",_tipo:"seletor",_enumeration:[{valor:"1",rotulo:"1 - Pagamento integrado com o sistema de automa\xE7\xE3o da empresa Ex. equipamento TEF , Comercio Eletronico"},{valor:"2",rotulo:"2 - Pagamento n\xE3o integrado com o sistema de automa\xE7\xE3o da empresa Ex: equipamento POS"}],_valorInic:"1"},CNPJ:{_titulo:"CNPJ da institui\xE7\xE3o de pagamento",_doc:"CNPJ da institui\xE7\xE3o de pagamento (CNPJ) (Opcional)",_opcional:!0,_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},tBand:{_titulo:"Bandeira da operadora de cart\xE3o de cr\xE9dito/d\xE9bito",_doc:"Bandeira da operadora de cart\xE3o de cr\xE9dito/d\xE9bito:01-Visa; 02-Mastercard; 03-American Express; 04-Sorocred;05-Diners Club;06-Elo;07-Hipercard;08-Aura;09-Cabal;99-Outros (tBand) (Opcional)",_opcional:!0,_tipo:"seletor",_enumeration:[{valor:"",rotulo:"N\xE3o se aplica"},{valor:"01",rotulo:"01-Visa"},{valor:"02",rotulo:"02-Mastercard"},{valor:"03",rotulo:"03-American Express"},{valor:"04",rotulo:"04-Sorocred"},{valor:"05",rotulo:"05 - Diners Club"},{valor:"06",rotulo:"06 - Elo"},{valor:"07",rotulo:"07 - Hipercard"},{valor:"08",rotulo:"08 - Aura"},{valor:"09",rotulo:"09 - Cabal"},{valor:"99",rotulo:"99-Outros"}],_valorInic:""},cAut:{_titulo:"N\xFAmero de autoriza\xE7\xE3o da opera\xE7\xE3o cart\xE3o de cr\xE9dito/d\xE9bito",_doc:"N\xFAmero de autoriza\xE7\xE3o da opera\xE7\xE3o cart\xE3o de cr\xE9dito/d\xE9bito (cAut) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:20,_valorInic:""}}}},vTroco:{_titulo:"Valor do Troco.",_doc:"Valor do Troco. (vTroco) (Opcional)",_opcional:!0,_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},infIntermed:{_titulo:"Grupo de Informa\xE7\xF5es do Intermediador da Transa\xE7\xE3o",_doc:"Grupo de Informa\xE7\xF5es do Intermediador da Transa\xE7\xE3o (infIntermed) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de Informa\xE7\xF5es do Intermediador da Transa\xE7\xE3o",_doc:"Grupo de Informa\xE7\xF5es do Intermediador da Transa\xE7\xE3o (infIntermed) (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ do Intermediador da Transa\xE7\xE3o (agenciador, plataforma de delivery, marketplace e similar) de servi\xE7os e de neg\xF3cios.",_doc:"CNPJ do Intermediador da Transa\xE7\xE3o (agenciador, plataforma de delivery, marketplace e similar) de servi\xE7os e de neg\xF3cios. (CNPJ)",_pattern:"[0-9]{14}",_type:"TCnpj",_tipo:"texto",_maxLength:14,_valorInic:""},idCadIntTran:{_titulo:"Identificador cadastrado no intermediador",_doc:"Identificador cadastrado no intermediador (idCadIntTran)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""}},infAdic:{_titulo:"Informa\xE7\xF5es adicionais da NF-e",_doc:"Informa\xE7\xF5es adicionais da NF-e (infAdic) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informa\xE7\xF5es adicionais da NF-e",_doc:"Informa\xE7\xF5es adicionais da NF-e (infAdic) (Opcional)",_valorInic:""},infAdFisco:{_titulo:"Informa\xE7\xF5es adicionais de interesse do Fisco",_doc:"Informa\xE7\xF5es adicionais de interesse do Fisco (infAdFisco) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:2e3,_valorInic:""},infCpl:{_titulo:"Informa\xE7\xF5es complementares de interesse do Contribuinte",_doc:"Informa\xE7\xF5es complementares de interesse do Contribuinte (infCpl) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:5e3,_valorInic:""},obsCont:{_titulo:"Campo de uso livre do contribuinte informar o nome do campo no atributo xCampo e o conte\xFAdo do campo no xTexto",_doc:"Campo de uso livre do contribuinte informar o nome do campo no atributo xCampo e o conte\xFAdo do campo no xTexto (obsCont) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xTexto:{_titulo:"xTexto",_doc:"xTexto",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}},obsFisco:{_titulo:"Campo de uso exclusivo do Fisco informar o nome do campo no atributo xCampo e o conte\xFAdo do campo no xTexto",_doc:"Campo de uso exclusivo do Fisco informar o nome do campo no atributo xCampo e o conte\xFAdo do campo no xTexto (obsFisco) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xTexto:{_titulo:"xTexto",_doc:"xTexto",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}}},procRef:{_titulo:"Grupo de informa\xE7\xF5es do  processo referenciado",_doc:"Grupo de informa\xE7\xF5es do  processo referenciado (procRef) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{nProc:{_titulo:"Indentificador do processo ou ato concess\xF3rio",_doc:"Indentificador do processo ou ato concess\xF3rio (nProc)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},indProc:{_titulo:"Origem do processo",_doc:"Origem do processo, informar com: 0 - SEFAZ; 1 - Justi\xE7a Federal; 2 - Justi\xE7a Estadual; 3 - Secex/RFB; 9 - Outros (indProc)",_tipo:"seletor",_enumeration:[{valor:"0",rotulo:"0 - SEFAZ"},{valor:"1",rotulo:"1 - Justi\xE7a Federal"},{valor:"2",rotulo:"2 - Justi\xE7a Estadual"},{valor:"3",rotulo:"3 - Secex/RFB"},{valor:"9",rotulo:"9 - Outros"}],_valorInic:"0"}}}},exporta:{_titulo:"Informa\xE7\xF5es de exporta\xE7\xE3o",_doc:"Informa\xE7\xF5es de exporta\xE7\xE3o (exporta) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informa\xE7\xF5es de exporta\xE7\xE3o",_doc:"Informa\xE7\xF5es de exporta\xE7\xE3o (exporta) (Opcional)",_valorInic:""},UFSaidaPais:{_titulo:"Sigla da UF de Embarque ou de transposi\xE7\xE3o de fronteira",_doc:"Sigla da UF de Embarque ou de transposi\xE7\xE3o de fronteira (UFSaidaPais)",_type:"TUfEmi",_tipo:"seletor",_enumeration:[{valor:"AC",rotulo:"AC"},{valor:"AL",rotulo:"AL"},{valor:"AM",rotulo:"AM"},{valor:"AP",rotulo:"AP"},{valor:"BA",rotulo:"BA"},{valor:"CE",rotulo:"CE"},{valor:"DF",rotulo:"DF"},{valor:"ES",rotulo:"ES"},{valor:"GO",rotulo:"GO"},{valor:"MA",rotulo:"MA"},{valor:"MG",rotulo:"MG"},{valor:"MS",rotulo:"MS"},{valor:"MT",rotulo:"MT"},{valor:"PA",rotulo:"PA"},{valor:"PB",rotulo:"PB"},{valor:"PE",rotulo:"PE"},{valor:"PI",rotulo:"PI"},{valor:"PR",rotulo:"PR"},{valor:"RJ",rotulo:"RJ"},{valor:"RN",rotulo:"RN"},{valor:"RO",rotulo:"RO"},{valor:"RR",rotulo:"RR"},{valor:"RS",rotulo:"RS"},{valor:"SC",rotulo:"SC"},{valor:"SE",rotulo:"SE"},{valor:"SP",rotulo:"SP"},{valor:"TO",rotulo:"TO"}],_valorInic:"AC"},xLocExporta:{_titulo:"Local de Embarque ou de transposi\xE7\xE3o de fronteira",_doc:"Local de Embarque ou de transposi\xE7\xE3o de fronteira (xLocExporta)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xLocDespacho:{_titulo:"Descri\xE7\xE3o do local de despacho",_doc:"Descri\xE7\xE3o do local de despacho (xLocDespacho) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},compra:{_titulo:"Informa\xE7\xF5es de compras  (Nota de Empenho, Pedido e Contrato)",_doc:"Informa\xE7\xF5es de compras  (Nota de Empenho, Pedido e Contrato) (compra) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informa\xE7\xF5es de compras  (Nota de Empenho, Pedido e Contrato)",_doc:"Informa\xE7\xF5es de compras  (Nota de Empenho, Pedido e Contrato) (compra) (Opcional)",_valorInic:""},xNEmp:{_titulo:"Informa\xE7\xE3o da Nota de Empenho de compras p\xFAblicas",_doc:"Informa\xE7\xE3o da Nota de Empenho de compras p\xFAblicas (xNEmp) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:22,_valorInic:""},xPed:{_titulo:"Informa\xE7\xE3o do pedido",_doc:"Informa\xE7\xE3o do pedido (xPed) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},xCont:{_titulo:"Informa\xE7\xE3o do contrato",_doc:"Informa\xE7\xE3o do contrato (xCont) (Opcional)",_opcional:!0,_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""}},cana:{_titulo:"Informa\xE7\xF5es de registro aquisi\xE7\xF5es de cana",_doc:"Informa\xE7\xF5es de registro aquisi\xE7\xF5es de cana (cana) (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informa\xE7\xF5es de registro aquisi\xE7\xF5es de cana",_doc:"Informa\xE7\xF5es de registro aquisi\xE7\xF5es de cana (cana) (Opcional)",_valorInic:""},safra:{_titulo:"Identifica\xE7\xE3o da safra",_doc:"Identifica\xE7\xE3o da safra (safra)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:4,_maxLength:9,_valorInic:""},ref:{_titulo:"M\xEAs e Ano de Refer\xEAncia, formato: MM/AAAA",_doc:"M\xEAs e Ano de Refer\xEAncia, formato: MM/AAAA (ref)",_pattern:"(0[1-9]|1[0-2])([/][2][0-9][0-9][0-9])",_tipo:"texto",_valorInic:""},forDia:{_titulo:"Fornecimentos di\xE1rios",_doc:"Fornecimentos di\xE1rios (forDia) (Lista)",_tipo:"texto",_valorInic:"",lista:{qtde:{_titulo:"Quantidade em quilogramas - peso l\xEDquido",_doc:"Quantidade em quilogramas - peso l\xEDquido (qtde)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0}}},qTotMes:{_titulo:"Total do m\xEAs",_doc:"Total do m\xEAs (qTotMes)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},qTotAnt:{_titulo:"Total Anterior",_doc:"Total Anterior (qTotAnt)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},qTotGer:{_titulo:"Total Geral",_doc:"Total Geral (qTotGer)",_pattern:"0|0\\.[0-9]{1,10}|[1-9]{1}[0-9]{0,10}|[1-9]{1}[0-9]{0,10}(\\.[0-9]{1,10})?",_type:"TDec_1110v",_tipo:"decimal",_decimals:"4",_valorInic:0},deduc:{_titulo:"Dedu\xE7\xF5es - Taxas e Contribui\xE7\xF5es",_doc:"Dedu\xE7\xF5es - Taxas e Contribui\xE7\xF5es (deduc) (Lista)",_opcional:!0,_tipo:"texto",_valorInic:"",lista:{xDed:{_titulo:"Descri\xE7\xE3o da Dedu\xE7\xE3o",_doc:"Descri\xE7\xE3o da Dedu\xE7\xE3o (xDed)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:1,_maxLength:60,_valorInic:""},vDed:{_titulo:"valor da dedu\xE7\xE3o",_doc:"valor da dedu\xE7\xE3o (vDed)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}}},vFor:{_titulo:"Valor  dos fornecimentos",_doc:"Valor  dos fornecimentos (vFor)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vTotDed:{_titulo:"Valor Total das Dedu\xE7\xF5es",_doc:"Valor Total das Dedu\xE7\xF5es (vTotDed)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0},vLiqFor:{_titulo:"Valor L\xEDquido dos fornecimentos",_doc:"Valor L\xEDquido dos fornecimentos (vLiqFor)",_pattern:"0|0\\.[0-9]{2}|[1-9]{1}[0-9]{0,12}(\\.[0-9]{2})?",_type:"TDec_1302",_tipo:"decimal",_decimals:"2",_valorInic:0}},infRespTec:{_titulo:"Informa\xE7\xF5es do Respons\xE1vel T\xE9cnico pela emiss\xE3o do DF-e",_doc:"Informa\xE7\xF5es do Respons\xE1vel T\xE9cnico pela emiss\xE3o do DF-e (infRespTec) (Opcional)",_opcional:!0,_type:"TInfRespTec",_tipo:"texto",_valorInic:"",visivel:{_titulo:"Informa\xE7\xF5es do Respons\xE1vel T\xE9cnico pela emiss\xE3o do DF-e",_doc:"Informa\xE7\xF5es do Respons\xE1vel T\xE9cnico pela emiss\xE3o do DF-e (infRespTec) (Opcional)",_valorInic:""},CNPJ:{_titulo:"CNPJ",_doc:"CNPJ (CNPJ)",_pattern:"[0-9]{0}|[0-9]{14}",_type:"TCnpjOpc",_tipo:"texto",_maxLength:14,_valorInic:""},xContato:{_titulo:"Informar o nome da pessoa a ser contatada na empresa desenvolvedora do sistema utilizado na emiss\xE3o do documento fiscal eletr\xF4nico.",_doc:"Informar o nome da pessoa a ser contatada na empresa desenvolvedora do sistema utilizado na emiss\xE3o do documento fiscal eletr\xF4nico. (xContato)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:2,_maxLength:60,_valorInic:""},email:{_titulo:"Informar o e-mail da pessoa a ser contatada na empresa desenvolvedora do sistema.",_doc:"Informar o e-mail da pessoa a ser contatada na empresa desenvolvedora do sistema. (email)",_pattern:"[!-\xFF]{1}[ -\xFF]{0,}[!-\xFF]{1}|[!-\xFF]{1}",_tipo:"texto",_minLength:6,_maxLength:60,_valorInic:""},fone:{_titulo:"Informar o telefone da pessoa a ser contatada na empresa desenvolvedora do sistema",_doc:"Informar o telefone da pessoa a ser contatada na empresa desenvolvedora do sistema. Preencher com o C\xF3digo DDD + n\xFAmero do telefone. (fone)",_pattern:"[0-9]{6,14}",_tipo:"texto",_valorInic:""},opcional:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_opcional:!0,_tipo:"texto",_valorInic:"",visivel:{_titulo:"Grupo de campos",_doc:"Grupo de campos (Opcional)",_valorInic:""},idCSRT:{_titulo:"Identificador do CSRT utilizado para montar o hash do CSRT",_doc:"Identificador do CSRT utilizado para montar o hash do CSRT (idCSRT)",_pattern:"[0-9]{2}",_tipo:"texto",_valorInic:""},hashCSRT:{_titulo:"O hashCSRT \xE9 o resultado da fun\xE7\xE3o hash (SHA-1 - Base64) do CSRT fornecido pelo fisco mais a Chave de Acesso da NFe.",_doc:"O hashCSRT \xE9 o resultado da fun\xE7\xE3o hash (SHA-1 - Base64) do CSRT fornecido pelo fisco mais a Chave de Acesso da NFe. (hashCSRT)",_tipo:"texto",_valorInic:""}}}}};const ga=function(e){if(Array.isArray(e))return e.map(t=>ga(t));if(typeof e=="object"&&e!==null){const t={};for(const o in e)t[o]=ga(e[o]);return t}else return e};function QX(e){return e.ide._titulo="Dados da NFe",e.ide.cNF._valorInic="00000000",e.ide.natOp._titulo="Natureza da opera\xE7\xE3o",e.ide.natOp._valorInic="Venda",e.ide.mod._titulo="Modelo",e.ide.serie._titulo="S\xE9rie",e.ide.serie._valorInic="1",e.ide.nNF._valorInic="0",e.ide.nNF._pattern=null,e.ide.dhEmi._titulo="Data e Hora de emiss\xE3o",e.ide.dhSaiEnt._titulo="Data e Hora da sa\xEDda/entrada",e.ide.tpNF._titulo="Tipo",e.ide.tpNF._valorInic="1",e.ide.idDest._titulo="Destino",e.ide.cMunFG._valorInic="0000000",e.ide.tpImp._titulo="Formato do DANFE",e.ide.tpImp._valorInic="1",e.ide.tpEmis._titulo="Forma de conting\xEAncia",e.ide.cDV._valorInic="0",e.ide.tpAmb._titulo="Ambiente",e.ide.tpAmb._valorInic="2",e.ide.finNFe._titulo="Finalidade",e.ide.indFinal._titulo="Consumidor final",e.ide.indFinal._valorInic="1",e.ide.indPres._titulo="Presen\xE7a do comprador",e.ide.indPres._valorInic="1",e.ide.verProc._valorInic="B15 1.0",e.ide.NFref._titulo="Preencher para NF referenciada",e.emit._titulo="Emitente",e.emit.enderEmit.UF._titulo="UF",e.emit.enderEmit.UF._valorInic="",e.emit.enderEmit.CEP._titulo="CEP",e.emit.enderEmit.cPais._valorInic="1058",e.emit.enderEmit.xPais._valorInic="Brasil",e.emit.enderEmit.fone._titulo="DDD + telefone",e.emit.opcional.visivel._titulo="Enviar Inscri\xE7\xE3o Municipal",e.emit.CRT._titulo="Regime Tribut\xE1rio",e.avulsa.UF._valorInic="",e.dest._titulo="Destinat\xE1rio",e.dest.enderDest.UF._titulo="UF",e.dest.enderDest.UF._valorInic="",e.dest.indIEDest._valorInic="2",e.retirada.UF._valorInic="",e.entrega.UF._valorInic="",e.det._titulo="Produtos e servi\xE7os",e.det.lista.prod._titulo="Identifica\xE7\xE3o",e.det.lista.prod.noXml_id={_titulo:"Identifica\xE7\xE3o do Produto",_doc:"Identifica\xE7\xE3o do Produto selecionado",_opcional:!0,_valorInic:""},e.det.lista.prod.noXml_imagem={_titulo:"Imagem do Produto",_doc:"Imagem do Produto selecionado",_opcional:!0,_valorInic:""},e.det.lista.prod.cProd._titulo="C\xF3digo",e.det.lista.prod.cEAN._titulo="C\xF3digo de barras (GTIN ou EAN)",e.det.lista.prod.xProd._titulo="Descri\xE7\xE3o",e.det.lista.prod.NCM._titulo="NCM",e.det.lista.prod.NCM._doc="C\xF3digo NCM (8 posi\xE7\xF5es) - Nomenclatura Comum ao Mercosul",e.det.lista.prod.CFOP._titulo="CFOP",e.det.lista.prod.CFOP._doc="C\xF3digo Fiscal de Opera\xE7\xF5es e Presta\xE7\xF5es das entradas e sa\xEDdas de mercadorias",e.det.lista.prod.uCom._titulo="Unidade",e.det.lista.prod.uCom._valorInic="UN",e.det.lista.prod.qCom._titulo="Quantidade",e.det.lista.prod.qCom._valorInic=1,e.det.lista.prod.vUnCom._titulo="Valor unit\xE1rio",e.det.lista.prod.vProd._titulo="Valor total bruto",e.det.lista.prod.cEANTrib._titulo="C\xF3digo de Barras GTIN da unidade tribut\xE1vel",e.det.lista.prod.indTot._valorInic="1",e.det.lista.prod.rastro._titulo="rastro",e.det.lista.prod.rastro.lista._titulo="",e.det.lista.prod.rastro.lista.nLote._titulo="N\xFAmero do lote do produto.",e.det.lista.prod.rastro.lista.qLote._titulo="Quantidade de produto no lote.",e.det.lista.prod.rastro.lista.dFab._titulo="Data de fabrica\xE7\xE3o/produ\xE7\xE3o. Formato 'AAAA-MM-DD'.",e.det.lista.prod.rastro.lista.dVal._titulo="Data de validade. Informar o \xFAltimo dia do m\xEAs caso a validade n\xE3o especifique o dia. Formato 'AAAA-MM-DD'.",e.det.lista.prod.rastro.lista.cAgreg._titulo="cAgreg",e.det.lista.imposto._titulo="Tributos",e.det.lista.imposto.noXml_CST={_titulo:"CST ICMS - C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria pelo ICMS (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Tributada integralmente"},{valor:"10",rotulo:"10 - Tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria"},{valor:"20",rotulo:"20 - Com redu\xE7\xE3o de base de c\xE1lculo"},{valor:"30",rotulo:"30 - Isenta ou n\xE3o tributada e com cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria"},{valor:"40",rotulo:"40 - Isenta"},{valor:"41",rotulo:"41 - N\xE3o tributada"},{valor:"50",rotulo:"50 - Suspens\xE3o"},{valor:"51",rotulo:"51 - Diferimento"},{valor:"60",rotulo:"60 - ICMS cobrado anteriormente por substitui\xE7\xE3o tribut\xE1ria"},{valor:"70",rotulo:"70 - Com redu\xE7\xE3o de base de c\xE1lculo e cobran\xE7a do ICMS por substitui\xE7\xE3o tribut\xE1ria"},{valor:"90",rotulo:"90 - Outras"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_CSOSN={_titulo:"CSOSN ICMS - C\xF3digo de Situa\xE7\xE3o da Opera\xE7\xE3o do Simples Nacional",_doc:"C\xF3digo de Situa\xE7\xE3o da Opera\xE7\xE3o do Simples Nacional pelo ICMS (CSOSN)",_tipo:"seletor",_enumeration:[{valor:"101",rotulo:"101 - Tributada pelo Simples Nacional com permiss\xE3o de cr\xE9dito"},{valor:"102",rotulo:"102 - Tributada pelo Simples Nacional sem permiss\xE3o de cr\xE9dito"},{valor:"103",rotulo:"103 - Isen\xE7\xE3o do ICMS no Simples Nacional para faixa de receita bruta"},{valor:"201",rotulo:"201 - Tributada pelo Simples Nacional com permiss\xE3o de cr\xE9dito e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria"},{valor:"202",rotulo:"202 - Tributada pelo Simples Nacional sem permiss\xE3o de cr\xE9dito e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria"},{valor:"203",rotulo:"203 - Isen\xE7\xE3o do ICMS nos Simples Nacional para faixa de receita bruta e com cobran\xE7a do ICMS por Substitui\xE7\xE3o Tribut\xE1ria"},{valor:"300",rotulo:"300 - Imune"},{valor:"400",rotulo:"400 - N\xE3o tributada pelo Simples Nacional"},{valor:"500",rotulo:"500 - ICMS cobrado anterirmente por substitui\xE7\xE3o tribut\xE1ria (substitu\xEDdo) ou por antecipa\xE7\xE3o"},{valor:"900",rotulo:"900 - Outros"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_orig={_titulo:"Origem da mercadoria",_doc:"Origem da mercadoria",_tipo:"seletor",_enumeration:e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.orig._enumeration,_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_vBC=ga(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vBC),e.det.lista.imposto.noXml_vBC._opcional=!0,e.det.lista.imposto.noXml_pICMS=ga(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.pICMS),e.det.lista.imposto.noXml_pICMS._opcional=!0,e.det.lista.imposto.noXml_pRedBC=ga(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.pRedBC),e.det.lista.imposto.noXml_pRedBC._opcional=!0,e.det.lista.imposto.noXml_vICMS=ga(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.vICMS),e.det.lista.imposto.noXml_vICMS._opcional=!0,e.det.lista.imposto.noXml_vBCFCP=ga(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vBCFCP),e.det.lista.imposto.noXml_vBCFCP._opcional=!0,e.det.lista.imposto.noXml_pFCP=ga(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.pFCP),e.det.lista.imposto.noXml_pFCP._opcional=!0,e.det.lista.imposto.noXml_vFCP=ga(e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.opcional.vFCP),e.det.lista.imposto.noXml_vFCP._opcional=!0,e.det.lista.imposto.noXml_CSTPis={_titulo:"CST do PIS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do PIS",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo)"},{valor:"02",rotulo:"02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada)"},{valor:"03",rotulo:"03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto"},{valor:"04",rotulo:"04 - Opera\xE7\xE3o Tribut\xE1vel - Tributa\xE7\xE3o Monof\xE1sica - (Al\xEDquota Zero)"},{valor:"05",rotulo:"05 - Opera\xE7\xE3o Tribut\xE1vel (ST)"},{valor:"06",rotulo:"06 - Opera\xE7\xE3o Tribut\xE1vel - Al\xEDquota Zero"},{valor:"07",rotulo:"07 - Opera\xE7\xE3o Isenta da contribui\xE7\xE3o"},{valor:"08",rotulo:"08 - Opera\xE7\xE3o Sem Incid\xEAncia da contribui\xE7\xE3o"},{valor:"09",rotulo:"09 - Opera\xE7\xE3o com suspens\xE3o da contribui\xE7\xE3o"},{valor:"49",rotulo:"49 - Outras Opera\xE7\xF5es de Sa\xEDda"},{valor:"50",rotulo:"50 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita N\xE3o Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o"},{valor:"53",rotulo:"53 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"55",rotulo:"55 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"56",rotulo:"56 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o"},{valor:"60",rotulo:"60 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita N\xE3o-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o"},{valor:"63",rotulo:"63 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"65",rotulo:"65 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"66",rotulo:"66 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o"},{valor:"67",rotulo:"67 - Cr\xE9dito Presumido - Outras Opera\xE7\xF5es"},{valor:"70",rotulo:"70 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Direito a Cr\xE9dito"},{valor:"71",rotulo:"71 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Isen\xE7\xE3o"},{valor:"72",rotulo:"72 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Suspens\xE3o"},{valor:"73",rotulo:"73 - Opera\xE7\xE3o de Aquisi\xE7\xE3o a Al\xEDquota Zero"},{valor:"74",rotulo:"74 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Incid\xEAncia da Contribui\xE7\xE3o"},{valor:"75",rotulo:"75 - Opera\xE7\xE3o de Aquisi\xE7\xE3o por Substitui\xE7\xE3o Tribut\xE1ria"},{valor:"98",rotulo:"98 - Outras Opera\xE7\xF5es de Entrada"},{valor:"99",rotulo:"99 - Outras Opera\xE7\xF5es"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_pPIS=ga(e.det.lista.imposto.PIS.escolhas.PISAliq.pPIS),e.det.lista.imposto.noXml_pPIS._opcional=!0,e.det.lista.imposto.noXml_CSTCofins={_titulo:"CST do COFINS",_doc:"C\xF3digo de Situa\xE7\xE3o Tribut\xE1ria do COFINS",_tipo:"seletor",_enumeration:[{valor:"01",rotulo:"01 - Opera\xE7\xE3o Tribut\xE1vel - Base de C\xE1lculo = Valor da Opera\xE7\xE3o Al\xEDquota Normal (Cumulativo/N\xE3o Cumulativo)"},{valor:"02",rotulo:"02 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Valor da Opera\xE7\xE3o (Al\xEDquota Diferenciada)"},{valor:"03",rotulo:"03 - Opera\xE7\xE3o Tribut\xE1vel - Base de Calculo = Quantidade Vendida x Al\xEDquota por Unidade de Produto"},{valor:"04",rotulo:"04 - Opera\xE7\xE3o Tribut\xE1vel - Tributa\xE7\xE3o Monof\xE1sica - (Al\xEDquota Zero)"},{valor:"05",rotulo:"05 - Opera\xE7\xE3o Tribut\xE1vel (ST)"},{valor:"06",rotulo:"06 - Opera\xE7\xE3o Tribut\xE1vel - Al\xEDquota Zero"},{valor:"07",rotulo:"07 - Opera\xE7\xE3o Isenta da contribui\xE7\xE3o"},{valor:"08",rotulo:"08 - Opera\xE7\xE3o Sem Incid\xEAncia da contribui\xE7\xE3o"},{valor:"09",rotulo:"09 - Opera\xE7\xE3o com suspens\xE3o da contribui\xE7\xE3o"},{valor:"49",rotulo:"49 - Outras Opera\xE7\xF5es de Sa\xEDda"},{valor:"50",rotulo:"50 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"51",rotulo:"51 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita N\xE3o Tributada no Mercado Interno"},{valor:"52",rotulo:"52 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o"},{valor:"53",rotulo:"53 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno"},{valor:"54",rotulo:"54 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"55",rotulo:"55 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"56",rotulo:"56 - Opera\xE7\xE3o com Direito a Cr\xE9dito - Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o"},{valor:"60",rotulo:"60 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita Tributada no Mercado Interno"},{valor:"61",rotulo:"61 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita N\xE3o-Tributada no Mercado Interno"},{valor:"62",rotulo:"62 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada Exclusivamente a Receita de Exporta\xE7\xE3o"},{valor:"63",rotulo:"63 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno"},{valor:"64",rotulo:"64 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"65",rotulo:"65 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas N\xE3o-Tributadas no Mercado Interno e de Exporta\xE7\xE3o"},{valor:"66",rotulo:"66 - Cr\xE9dito Presumido - Opera\xE7\xE3o de Aquisi\xE7\xE3o Vinculada a Receitas Tributadas e N\xE3o-Tributadas no Mercado Interno, e de Exporta\xE7\xE3o"},{valor:"67",rotulo:"67 - Cr\xE9dito Presumido - Outras Opera\xE7\xF5es"},{valor:"70",rotulo:"70 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Direito a Cr\xE9dito"},{valor:"71",rotulo:"71 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Isen\xE7\xE3o"},{valor:"72",rotulo:"72 - Opera\xE7\xE3o de Aquisi\xE7\xE3o com Suspens\xE3o"},{valor:"73",rotulo:"73 - Opera\xE7\xE3o de Aquisi\xE7\xE3o a Al\xEDquota Zero"},{valor:"74",rotulo:"74 - Opera\xE7\xE3o de Aquisi\xE7\xE3o sem Incid\xEAncia da Contribui\xE7\xE3o"},{valor:"75",rotulo:"75 - Opera\xE7\xE3o de Aquisi\xE7\xE3o por Substitui\xE7\xE3o Tribut\xE1ria"},{valor:"98",rotulo:"98 - Outras Opera\xE7\xF5es de Entrada"},{valor:"99",rotulo:"99 - Outras Opera\xE7\xF5es"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_pCOFINS=ga(e.det.lista.imposto.COFINS.escolhas.COFINSAliq.pCOFINS),e.det.lista.imposto.noXml_pCOFINS._opcional=!0,e.det.lista.imposto.noXml_CSTIpi={_titulo:"CST do IPI",_doc:"C\xF3digo da Situa\xE7\xE3o Tribut\xE1ria do IPI (CST)",_tipo:"seletor",_enumeration:[{valor:"00",rotulo:"00 - Entrada com recupera\xE7\xE3o de cr\xE9dito"},{valor:"01",rotulo:"01 - Entrada tributada com al\xEDquota zero"},{valor:"02",rotulo:"02 - Entrada isenta"},{valor:"03",rotulo:"03 - Entrada n\xE3o-tributada"},{valor:"04",rotulo:"04 - Entrada imune"},{valor:"05",rotulo:"05 - Entrada com suspens\xE3o"},{valor:"49",rotulo:"49 - Outras entradas"},{valor:"50",rotulo:"50 - Sa\xEDda tributada"},{valor:"51",rotulo:"51 - Sa\xEDda tributada com al\xEDquota zero"},{valor:"52",rotulo:"52 - Sa\xEDda isenta"},{valor:"53",rotulo:"53 - Sa\xEDda n\xE3o-tributada"},{valor:"54",rotulo:"54 - Sa\xEDda imune"},{valor:"55",rotulo:"55 - Sa\xEDda com suspens\xE3o"},{valor:"99",rotulo:"99 - Outras sa\xEDdas"}],_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_pIPI=ga(e.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.escolhas.opcao1.pIPI),e.det.lista.imposto.noXml_pIPI._opcional=!0,e.det.lista.imposto.noXml_vIPI=ga(e.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.vIPI),e.det.lista.imposto.noXml_vIPI._opcional=!0,e.det.lista.imposto.noXml_cEnqIpi=ga(e.det.lista.imposto.escolhas.opcao1.IPI.cEnq),e.det.lista.imposto.noXml_cEnqIpi._opcional=!0,e.det.lista.imposto.vTotTrib._titulo="Valor aproximado dos tributos",e.det.lista.imposto.noXml_dVenc={_titulo:"Validade IBPT",_doc:"Data de validade da tabela IBPT",_tipo:"datetime",_opcional:!0,_valorInic:""},e.det.lista.imposto.noXml_pTribImp=ga(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_pTribImp._titulo="Aliq fed importados",e.det.lista.imposto.noXml_pTribImp._doc="Al\xEDquota federais de produto importado",e.det.lista.imposto.noXml_pTribFed=ga(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_pTribFed._titulo="Aliq federais",e.det.lista.imposto.noXml_pTribFed._doc="Al\xEDquota federais de produto nacional",e.det.lista.imposto.noXml_pTribEst=ga(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_pTribEst._titulo="Aliq estaduais",e.det.lista.imposto.noXml_pTribEst._doc="Al\xEDquota estaduais",e.det.lista.imposto.noXml_pTribMun=ga(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_pTribMun._titulo="Aliq municipais",e.det.lista.imposto.noXml_pTribMun._doc="Al\xEDquota municipais",e.det.lista.imposto.noXml_vTribFed=ga(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_vTribFed._titulo="Trib federais",e.det.lista.imposto.noXml_vTribFed._doc="Tributos federais de produto nacional",e.det.lista.imposto.noXml_vTribEst=ga(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_vTribEst._titulo="Trib estaduais",e.det.lista.imposto.noXml_vTribEst._doc="Tributos estaduais",e.det.lista.imposto.noXml_vTribMun=ga(e.det.lista.imposto.vTotTrib),e.det.lista.imposto.noXml_vTribMun._titulo="Trib municipais",e.det.lista.imposto.noXml_vTribMun._doc="Tributos municipais",e.det.lista.imposto.escolhas.valor_escolha._valorInic="opcao1",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS00.modBC._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBC._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS10.modBCST._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS20.modBC._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS30.modBCST._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson._titulo="Valor do ICMS de desonera\xE7\xE3o",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.vICMSDeson._doc="Valor do ICMS de desonera\xE7\xE3o (vICMSDeson)",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._titulo="Motivo da desonera\xE7\xE3o",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._doc="Este campo ser\xE1 preenchido quando o campo anterior estiver preenchido.",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS40.opcional.motDesICMS._enumeration=[{valor:"1",rotulo:"1 - T\xE1xi"},{valor:"3",rotulo:"3 - Produtor Agropecu\xE1rio"},{valor:"4",rotulo:"4 - Frotista/Locadora"},{valor:"5",rotulo:"5 - Diplom\xE1tico/Consular"},{valor:"6",rotulo:"6 - Utilit\xE1rios e Motocicletas da Amaz\xF4nia Ocidental e \xC1reas de Livre Com\xE9rcio (Resolu\xE7\xE3o 714/88 e 790/94 - CONTRAN e suas altera\xE7\xF5es)"},{valor:"7",rotulo:"7 - SUFRAMA"},{valor:"8",rotulo:"8 - Venda a \xF3rg\xE3o P\xFAblico"},{valor:"9",rotulo:"9 - Outros"},{valor:"10",rotulo:"10 - Deficiente Condutor"},{valor:"11",rotulo:"11 - Deficiente n\xE3o condutor"},{valor:"16",rotulo:"16 - Olimp\xEDadas Rio 2016"},{valor:"90",rotulo:"90 - Solicitado pelo Fisco"}],e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS51.modBC._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBC._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS70.modBCST._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional.modBC._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMS90.opcional2.modBCST._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSPart.modBC._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSPart.modBCST._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN201.modBCST._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN202.modBCST._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.visivel._valorInic=!0,e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN500.opcional.vICMSSubstituto._opcional=!1,e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional.modBC._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS",e.det.lista.imposto.escolhas.opcao1.ICMS.escolhas.ICMSSN900.opcional2.modBCST._titulo="Modalidade de determina\xE7\xE3o da BC do ICMS ST",e.det.lista.imposto.escolhas.opcao1.IPI.cEnq._titulo="C\xF3digo de Enquadramento Legal do IPI",e.det.lista.imposto.escolhas.opcao1.IPI.cEnq._doc="C\xF3digo de Enquadramento Legal do IPI (tabela criada pela RFB) (cEnq)",e.det.lista.imposto.escolhas.opcao1.IPI.escolhas.IPITrib.CST._titulo="CST do IPI",e.det.lista.imposto.ICMSUFDest.pICMSInterPart._valorInic=100,e.det.lista.impostoDevol.visivel._titulo="Imposto devolvido",e.det.lista.infAdProd._titulo="Informa\xE7\xF5es adicionais do produto",e.total._titulo="Outros Valores",e.total.ICMSTot.noXml_vTribFed=ga(e.det.lista.imposto.noXml_vTribFed),e.total.ICMSTot.noXml_vTribEst=ga(e.det.lista.imposto.noXml_vTribEst),e.total.ICMSTot.noXml_vTribMun=ga(e.det.lista.imposto.noXml_vTribMun),e.transp._titulo="Transporte",e.transp.modFrete._valorInic="9",e.transp.transporta.UF._valorInic="",e.transp.escolhas.opcao1.veicTransp.UF._valorInic="",e.transp.escolhas.opcao1.reboque.lista.UF._valorInic="",e.transp.vol.lista.lacres._titulo="Lacres",e.cobr._titulo="Faturamento",e.cobr.fat.visivel._valorInic=!0,e.cobr.fat.vOrig._opcional=!1,e.cobr.fat.vDesc._opcional=!1,e.cobr.fat.vLiq._opcional=!1,e.cobr.dup._titulo="Duplicatas",e.cobr.dup.lista.dVenc._titulo="Vencimento",e.pag._titulo="Pagamento",e.pag.detPag._titulo="Forma de pagamento",e.infAdic._titulo="Informa\xE7\xF5es adicionais",e.infAdic.infAdFisco._titulo="Informa\xE7\xF5es adicionais de interesse do Fisco",e.infAdic.infCpl._titulo="Informa\xE7\xF5es complementares de interesse do Contribuinte",e}var $n={infEvento:WX.infEvento,infEventoCC:XX.infEvento,infInut:YX.infInut,infNFe:QX(KX.infNFe)},H9={aliquotaSimples:0,chNFe:"",status:"",situacao:"Em digita\xE7\xE3o",situacaoErro:"",mensagem:"",importada:!1,emitida:!1,cancelada:!1,calculaTotais:!0,visaoCompleta:!1,visaoCompletaProduto:!1,nProt_emissao:"",dhRecbto_emissao:"",idContatoEmitente:"",idContatoDestinatario:"",dadosAdicionais:"",dadosAdicionaisEmitente:"",dadosAdicionaisDestinatario:"",dadosAdicionaisEnderecoEntrega:"",textoValorAproximadosTributos:"",textoCartaCorrecao:[],operacao:"",cfop:"",protNFe:{tpAmb:"",chNFe:"",nProt:"",dhRecbto:"",cStat:"",xMotivo:""},automatico:{totais:!0,calculaBC:!0,incluiDespesasNaBC:!0,dados_trib:!0},ordemCompra:"",observacoesNFe:{}};async function JX(e,t){const o=t.idDocumento,r=[],a=[];let i;if(o&&(i=await $erp().documento.get(o)),!!~["Venda","Fatura"].indexOf(i==null?void 0:i.tipo)){if(i.tipo==="Fatura"){const n=await $erp().documento.where({idFatura:i.id}).toArray();i.numero&&r.push(i.numero);for(const s of n)s.tipo!=="Venda"||!s.numero||a.push(s.numero)}i.tipo==="Venda"&&i.numero&&a.push(i.numero),e.infAdic.infCpl&&(e.infAdic.infCpl=e.infAdic.infCpl.trim()+" "),r.length>0&&(e.infAdic.infCpl+=`Fatura: ${"#"+r.join(" #")}`),a.length>0&&(r.length>0&&(e.infAdic.infCpl+=", "),e.infAdic.infCpl+=`Venda: ${"#"+a.join(" #")}`)}}function ZX(e,t){let o=Number(t==null?void 0:t.aliquotaSimples)||0,r=0;for(const a of e.det){const i=a.imposto.escolhas.valor_escolha,n=a.imposto.escolhas[i].ICMS.escolhas.valor_escolha;let s;if(n==="ICMSSN101"){s=a.imposto.escolhas[i].ICMS.escolhas[n],r+=Number(s.vCredICMSSN)||0;continue}r+=(Number(a.imposto.noXml_vICMS)||0)*o/100}r=$utils.formatarNumero(r,2),o=$utils.formatarNumero(o,2),e.infAdic.infCpl=e.infAdic.infCpl.replace(/\[AliquotaSimples\]/g,o),e.infAdic.infCpl=e.infAdic.infCpl.replace(/\[ValorSimples\]/g,r)}var Vy={async acertarDadosNFe(e,t,o){if(e.emit.enderEmit.cMun.length===7&&(e.ide.cMunFG=e.emit.enderEmit.cMun),e.ide.cUF=(J9[e.emit.enderEmit.UF]||0).toString(),e.ide.tpAmb==="2"&&(e.dest.xNome="NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",o==="NFCe"))for(const i of e.det)i.prod.xProd="NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL";const r=((e.dest||{}).escolhas||{}).CNPJ;for(const i in e.autXML){const n=e.autXML[i].escolhas.CNPJ;r===n&&e.autXML.splice(i,1)}let a=1;for(const i of e.cobr.dup)i.nDup=String(a).padStart(3,"0"),a++;e.infAdic.visivel=!0,e.infAdic.infCpl=t.textoValorAproximadosTributos,t.dadosAdicionais&&(e.infAdic.infCpl&&(e.infAdic.infCpl=e.infAdic.infCpl.trim()+" "),e.infAdic.infCpl+=t.dadosAdicionais.trim()),typeof t.observacoesNFe=="string"&&(e.infAdic.infCpl&&(e.infAdic.infCpl=e.infAdic.infCpl.trim()+" "),e.infAdic.infCpl+=t.observacoesNFe.trim()),t.dadosAdicionaisEmitente&&(e.infAdic.infCpl&&(e.infAdic.infCpl=e.infAdic.infCpl.trim()+" "),e.infAdic.infCpl+=t.dadosAdicionaisEmitente.trim()),ZX(e,t),await JX(e,t),e.infAdic.infCpl=m8(e.infAdic.infCpl.replace(/\n/g," ").replace(/–/g,"-")).trim().substr(0,5e3),e.infRespTec.visivel=!0,e.infRespTec.CNPJ="07660198000189",e.infRespTec.xContato="M.F da Silva Informatica Ltda. - ME",e.infRespTec.email="geeks@geekssolucoes.com.br",e.infRespTec.fone="1621116161"},completarOutrosNFe(e,t){if(!e||typeof e!="object"||Array.isArray(e))return[null,void 0].includes(t)?e:t;let o={};for(const r in e)o[r]=this.completarOutrosNFe(e[r],t?t[r]:null);return Object.keys(t||{}).length&&!Object.keys(e||{}).length&&(o=t),o},formatarDataNFe(e){return typeof e=="string"&&e.length===10&&(e=new Date(e+"T00:00:00")),Ba.formatDate(e,"YYYY-MM-DDTHH:mm:ssZ")},formatarDataNFeSemHoras(e){return typeof e=="string"&&e.length===10&&(e=new Date(e+"T00:00:00")),Ba.formatDate(e,"YYYY-MM-DD")},formatarNumero(e,t){return(e||0).toFixed(t).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&.")},iniciarCampos(e,t){Tt.log("NFeUtil","iniciarCampos",t);const o=Ba.formatDate(Date.now());return e.id=Ft(),e.dataHoraAlteracao=o,e.dataHoraCriacao=o,t!=="importar"&&(e.outrosNFe=this.completarOutrosNFe(H9,{}),e.infNFe.ide.dhEmi=this.formatarDataNFe(new Date),e.infNFe.ide.dhSaiEnt=$n.infNFe.ide.dhSaiEnt._valorInic,e.infNFe.ide.nNF=$n.infNFe.ide.nNF._valorInic,e.infNFe.ide.serie=$n.infNFe.ide.serie._valorInic,e.infNFe.ide.tpAmb=$n.infNFe.ide.tpAmb._valorInic),e.situacao=e.outrosNFe.situacao,e.tipo==="NFe"&&(e.infNFe.dest.visivel=!0,e.infNFe.dest.enderDest.visivel=!0),e},filtrarDadosNFe(e){const t={};for(const o of["id","idDocumento","numeroPDV","cpfCnpjCliente","nomeCliente","infNFe","infEvento","infEventoCC","outrosNFe","alertas","erros"])e[o]&&(t[o]=e[o]);return t},prepararDocumentoFiscalEletronico(e){const t=e.infNFe.emit||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},o=e.infNFe.dest||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""};return{id:e.id,tipo:e.tipo,situacao:e.outrosNFe.situacao,tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),chNFe:e.outrosNFe.chNFe,vNF:((e.infNFe.total||{}).ICMSTot||{}).vNF,dhEmi:e.infNFe.ide.dhEmi,dataHoraEmissao:Ba.formatDate(e.infNFe.ide.dhEmi),dataHoraCriacao:e.dataHoraCriacao,dataHoraAlteracao:Qo(),cpfCnpjEmitente:t.escolhas.CNPJ||t.escolhas.CPF||"",xNomeEmitente:t.xNome,xFantEmitente:t.xFant,cpfCnpjDestinatario:o.escolhas.CNPJ||o.escolhas.CPF||"",xNomeDestinatario:o.xNome,xFantDestinatario:o.xFant,json:JSON.stringify(this.filtrarDadosNFe(e)),qrCode:"",idDocumento:e.outrosNFe.idDocumento,operacao:e.outrosNFe.operacao,tipoDocumentoFiscal:$n.infNFe.ide.tpNF._enumeration.find(r=>r.valor===e.infNFe.ide.tpNF).rotulo.replace(/^\s*\d+\s*-\s*/g,""),finalidade:$n.infNFe.ide.finNFe._enumeration.find(r=>r.valor===e.infNFe.ide.finNFe).rotulo.replace(/^\s*\d+\s*-\s*/g,""),naturezaOperacao:e.infNFe.ide.natOp}},tiposNumero:["decimal","dinheiro","percentagem"]};const qy={xs:18,sm:24,md:32,lg:38,xl:46},wc={size:String};function Ic(e,t=qy){return X(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}const j9={size:{type:[Number,String],default:"1em"},color:String};function G9(e){return{cSize:X(()=>e.size in qy?`${qy[e.size]}px`:e.size),classes:X(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}var tn=At({name:"QSpinner",props:{...j9,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:o}=G9(e);return()=>ee("svg",{class:o.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[ee("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});let eY=1,tY=document.body;function yg(e,t){const o=document.createElement("div");if(o.id=t!==void 0?`q-portal--${t}--${eY++}`:e,tv.globalNodes!==void 0){const r=tv.globalNodes.class;r!==void 0&&(o.className=r)}return tY.appendChild(o),o}function Hx(e){e.remove()}let Cm=0,Xb,Yb,Hm,Kb=!1,dO,fO,mO,$c=null;function oY(e){aY(e)&&bo(e)}function aY(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=LU(e),o=e.shiftKey&&!e.deltaX,r=!o&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),a=o||r?e.deltaY:e.deltaX;for(let i=0;i<t.length;i++){const n=t[i];if(iz(n,r))return r?a<0&&n.scrollTop===0?!0:a>0&&n.scrollTop+n.clientHeight===n.scrollHeight:a<0&&n.scrollLeft===0?!0:a>0&&n.scrollLeft+n.clientWidth===n.scrollWidth}return!0}function pO(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Xh(e){Kb!==!0&&(Kb=!0,requestAnimationFrame(()=>{Kb=!1;const{height:t}=e.target,{clientHeight:o,scrollTop:r}=document.scrollingElement;(Hm===void 0||t!==window.innerHeight)&&(Hm=o-t,document.scrollingElement.scrollTop=r),r>Hm&&(document.scrollingElement.scrollTop-=Math.ceil((r-Hm)/8))}))}function hO(e){const t=document.body,o=window.visualViewport!==void 0;if(e==="add"){const{overflowY:r,overflowX:a}=window.getComputedStyle(t);Xb=fx(window),Yb=dx(window),dO=t.style.left,fO=t.style.top,mO=window.location.href,t.style.left=`-${Xb}px`,t.style.top=`-${Yb}px`,a!=="hidden"&&(a==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,po.is.ios===!0&&(o===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Xh,Pa.passiveCapture),window.visualViewport.addEventListener("scroll",Xh,Pa.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",pO,Pa.passiveCapture))}po.is.desktop===!0&&po.is.mac===!0&&window[`${e}EventListener`]("wheel",oY,Pa.notPassive),e==="remove"&&(po.is.ios===!0&&(o===!0?(window.visualViewport.removeEventListener("resize",Xh,Pa.passiveCapture),window.visualViewport.removeEventListener("scroll",Xh,Pa.passiveCapture)):window.removeEventListener("scroll",pO,Pa.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=dO,t.style.top=fO,window.location.href===mO&&window.scrollTo(Xb,Yb),Hm=void 0)}function By(e){let t="add";if(e===!0){if(Cm++,$c!==null){clearTimeout($c),$c=null;return}if(Cm>1)return}else{if(Cm===0||(Cm--,Cm>0))return;if(t="remove",po.is.ios===!0&&po.is.nativeMobile===!0){$c!==null&&clearTimeout($c),$c=setTimeout(()=>{hO(t),$c=null},100);return}}hO(t)}let bd,Qb,vO=0,Uc=null,mr={},nu={};const W9={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:tn,customClass:""},X9={...W9};function rY(e){if(e&&e.group!==void 0&&nu[e.group]!==void 0)return Object.assign(nu[e.group],e);const t=Ar(e)===!0&&e.ignoreDefaults===!0?{...W9,...e}:{...X9,...e};return nu[t.group]=t,t}const Li=o0({isActive:!1},{show(e){mr=rY(e);const{group:t}=mr;return Li.isActive=!0,bd!==void 0?(mr.uid=vO,Qb.$forceUpdate()):(mr.uid=++vO,Uc!==null&&clearTimeout(Uc),Uc=setTimeout(()=>{Uc=null;const o=yg("q-loading");bd=ux({name:"QLoading",setup(){tr(()=>{By(!0)});function r(){Li.isActive!==!0&&bd!==void 0&&(By(!1),bd.unmount(o),Hx(o),bd=void 0,Qb=void 0)}function a(){if(Li.isActive!==!0)return null;const i=[ee(mr.spinner,{class:"q-loading__spinner",color:mr.spinnerColor,size:mr.spinnerSize})];return mr.message&&i.push(ee("div",{class:"q-loading__message"+(mr.messageColor?` text-${mr.messageColor}`:""),[mr.html===!0?"innerHTML":"textContent"]:mr.message})),ee("div",{class:"q-loading fullscreen flex flex-center z-max "+mr.customClass.trim(),key:mr.uid},[ee("div",{class:"q-loading__backdrop"+(mr.backgroundColor?` bg-${mr.backgroundColor}`:"")}),ee("div",{class:"q-loading__box column items-center "+mr.boxClass},i)])}return()=>ee(wi,{name:"q-transition--fade",appear:!0,onAfterLeave:r},a)}},Li.__parentApp),Qb=bd.mount(o)},mr.delay)),o=>{if(o===void 0||Object(o)!==o){Li.hide(t);return}Li.show({...o,group:t})}},hide(e){if(Li.isActive===!0){if(e===void 0)nu={};else{if(nu[e]===void 0)return;{delete nu[e];const t=Object.keys(nu);if(t.length!==0){const o=t[t.length-1];Li.show({group:o});return}}}Uc!==null&&(clearTimeout(Uc),Uc=null),Li.isActive=!1}},setDefaults(e){Ar(e)===!0&&Object.assign(X9,e)},install({$q:e,parentApp:t}){e.loading=this,Li.__parentApp=t,e.config.loading!==void 0&&this.setDefaults(e.config.loading)}}),iY=[ee("g",{transform:"translate(-20,-20)"},[ee("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[ee("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),ee("g",{transform:"translate(20,20) rotate(15 50 50)"},[ee("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[ee("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])];var nY=At({name:"QSpinnerGears",props:j9,setup(e){const{cSize:t,classes:o}=G9(e);return()=>ee("svg",{class:o.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},iY)}});const Rl="http://localhost:5555",sY="https://api.b15.com.br/integrador";function Yh(e){return e.indexOf("XML INCONSISTENTE")>=0?e.replace(/Início da validação...|...Final da validação|http:\/\/www.portalfiscal.inf.br\/nfe:|no espaço para nome 'http:\/\/www.portalfiscal.inf.br\/nfe'|(Arquivo XML: |Arquivo SCHEMA: )C\\:(\w|>|-|\.|\\)*(\.xml|\.xsd){1}|Linha: \d+ Coluna: \d+ /g,"").replace(/(\r\n)+/g,`\r
`):e}function zc(e){return e.replace(/=/g,"k__k").replace(/\?/g,"l__l").replace(/&/g,"m__m").replace(/\+/g,"n__n")}function gO(e){return Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&")}function yd(e){let t={};for(const o of["id","idDocumento","numeroPDV","cpfCnpjCliente","nomeCliente","infNFe","outrosNFe","alertas","erros"])e[o]&&(t[o]=e[o]);return t}var lY={url:"",urlSat:"",urlNFe:"",urlImprimir:"",async urlIntegrador(e,t){return e==="consultarCadastroContribuinte"?(this.url=sY,this.url):e==="ImprimeNFCe"?(this.urlImprimir=await je.configuracoes.leValorComFiltroEmpresa("integrador.imprimir",t,Rl),this.url=this.urlImprimir,this.url):e==="SAT"?(this.urlSat=await je.configuracoes.leValorComFiltroEmpresa("integrador.sat",t,""),this.urlSat||(this.urlSat=await je.configuracoes.leValorComFiltroEmpresa("integrador.servidor",t,Rl)),this.url=this.urlSat,this.url):(this.urlNFe=await je.configuracoes.leValorComFiltroEmpresa("integrador.servidor",t,Rl),this.url=this.urlNFe,this.url)},async consultarCadastroContribuinte(e,t){const o='<?xml version="1.0" encoding="utf-8"?>'+new XMLSerializer().serializeToString(t),r={action:"ConsultaCadastroContribuinte",certificados:e,documentoXml:zc(o)};return this.executar(r,"consultarCadastroContribuinte",void 0)},async dadosAcesso(e){let t,o,r;t=await je.configuracoes.leValorComFiltroEmpresa("integrador.idDispositivo",e),o=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(t);try{const a=new AbortController,i=a.signal;r=setTimeout(()=>{a.abort()},3e3);let n=await fetch(`${Rl}/status`,{signal:i});if(n=await n.json(),n!=null&&n.versao)return{via:"http",url:Rl}}catch(a){console.error(a)}finally{clearTimeout(r)}if(o)return{via:"websocket",id:t}},async emitirSat(e,t){const o=await this.dadosAcesso(t);if(!o){const r={action:"EmiteSAT",sat:zc(e)};return this.executar(r,"SAT",t)}if(o){const r=await uO.xml({dados:JSON.parse(e),idEmpresa:t}),a=JSON.stringify({cfe:r}),i="/sat/emitir";let n;if((o==null?void 0:o.via)==="websocket"&&(n=await $utils.p2p.enviarMensagem(o.id,a,i),n=n==null?void 0:n.data),(o==null?void 0:o.via)==="http"){const s=new Headers;s.append("Content-type","application/json; charset=utf-8"),n=await fetch(`${o.url}${i}`,{method:"POST",mode:"cors",headers:s,body:a}),n=await n.json()}return{...n,versaoIntegrador:"V2"}}},async cancelarSat(e,t){const o=await this.dadosAcesso(t);if(!o){const r={action:"CancelaSAT",cancelaSat:zc(e)};return this.executar(r,"SAT",t)}if(o){const r=JSON.parse(e),a=await uO.xml({dados:r,idEmpresa:t,cancelamento:!0}),i=JSON.stringify({chaveAcessoCFe:r.ChaveAcessoCFe,cfeCanc:a}),n="/sat/cancelar";let s;if((o==null?void 0:o.via)==="websocket"&&(s=await $utils.p2p.enviarMensagem(o.id,i,n),s=s==null?void 0:s.data),(o==null?void 0:o.via)==="http"){const l=new Headers;l.append("Content-type","application/json; charset=utf-8"),s=await fetch(`${o==null?void 0:o.url}${n}`,{method:"POST",mode:"cors",headers:l,body:i}),s=await s.json()}return{...s,versaoIntegrador:"V2"}}},async imprimirCancelamentoSat(e,t){const o=await this.dadosAcesso(t);if(!o){const r={action:"ImprimirCancelamentoSAT",cupomSat:zc(e)};return this.executar(r,"SAT",t)}if(o){const r={ignoreAttributes:!1},i=new D1.XMLParser(r).parse(e),n=await $utils.impressaoObterHtml("cfe-extrato-cancelamento",i),s=JSON.stringify({content:n}),l="/print";if((o==null?void 0:o.via)==="websocket"&&await $utils.p2p.enviarMensagem(o.id,s,l),(o==null?void 0:o.via)==="http"){const u=new Headers;u.append("Content-type","application/json; charset=utf-8"),await fetch(`${Rl}${l}`,{method:"POST",mode:"cors",headers:u,body:s})}return{status:"ok",mensagem:"Cupom impresso"}}},async imprimirSat(e,t){const o=await this.dadosAcesso(t);if(!o){const r={action:"ImprimeSAT",cupomSat:zc(e)};return this.executar(r,"SAT",t)}if(o){const r={ignoreAttributes:!1},i=new D1.XMLParser(r).parse(e),n=await $utils.impressaoObterHtml("cfe-extrato",i),s=JSON.stringify({content:n}),l="/print";if((o==null?void 0:o.via)==="websocket"&&await $utils.p2p.enviarMensagem(o.id,s,l),(o==null?void 0:o.via)==="http"){const u=new Headers;u.append("Content-type","application/json; charset=utf-8"),await fetch(`${Rl}${l}`,{method:"POST",mode:"cors",headers:u,body:s})}return{status:"ok",mensagem:"Cupom impresso"}}},async emitirNFCe(e,t,o){const r=Fl.Nfe($n.infNFe,e.infNFe,e.outrosNFe.idDocumento);e.outrosNFe.chNFe=Fl.chNFe;const a={hashCSC:t,tokenCSC:o};let i=await this.servicoIntegrador(e,r,"emitirNFCe","Emiss\xE3o",1,a,"NFCe",e.outrosNFe.idContatoEmitente);return i.cStat==="539"&&(i=await this.emitirNFCeDuplicidade(e,a,i.complemento||"")),i},async emitirNFCeDuplicidade(e,t,o){const r=(o.match(/\d{44}/g)||[])[0];let a;if(r)a=await je.documentoFiscalEletronicoErro.ler({chNFe:r});else{const i={tpAmb:e.infNFe.ide.tpAmb,cpfCnpjEmitente:e.infNFe.emit.escolhas.CNPJ,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),situacao:"Sem resposta"};a=await je.documentoFiscalEletronicoErro.ler(i),a.length===0&&(i.situacao="Falha na transmiss\xE3o",a=await je.documentoFiscalEletronicoErro.ler(i))}if(!!a&&a.length>0){const i=await this.emitirNFCeFaturaAnterior(a[0].json,t);if(i.status==="Sucesso"){e.infNFe.ide.nNF=String(Number(e.infNFe.ide.nNF)+1);let n=Fl.Nfe($n.infNFe,e.infNFe,e.outrosNFe.idDocumento);return e.outrosNFe.chNFe=Fl.chNFe,this.servicoIntegrador(e,n,"emitirNFCe","Emiss\xE3o",1,t,"NFCe",e.outrosNFe.idContatoEmitente)}return i}},async emitirNFCeFaturaAnterior(e,t){const o=JSON.parse(e);o.infNFe.ide.dhEmi=Vy.formatarDataNFe(new Date);const r=Fl.Nfe($n.infNFe,o.infNFe,o.outrosNFe.idDocumento);return o.outrosNFe.chNFe=Fl.chNFe,this.servicoIntegrador(o,r,"emitirNFCe","Emiss\xE3o",1,t,"NFCe",o.outrosNFe.idContatoEmitente)},async cancelarNFCe(e){let t=Fl.EventoNFe($n.infEvento,e.infEvento,e.infNFe.ide.nNF);return this.servicoIntegrador(e,t,"CancelaNFe","Cancelamento",e.infEvento.nSeqEvento,{},"NFCe",e.outrosNFe.idContatoEmitente)},async imprimirNFCe(e,t){const o=await this.dadosAcesso(t);if(!o){const r={action:"ImprimeNFCe",nfce:zc(e)};return this.executar(r,"ImprimeNFCe",t)}if(o){const r={ignoreAttributes:!1},i=new D1.XMLParser(r).parse(e),n=await $utils.impressaoObterHtml("nfce-danfe",i),s=JSON.stringify({content:n}),l="/print";if((o==null?void 0:o.via)==="websocket"&&await $utils.p2p.enviarMensagem(o.id,s,l),(o==null?void 0:o.via)==="http"){const u=new Headers;u.append("Content-type","application/json; charset=utf-8"),await fetch(`${Rl}${l}`,{method:"POST",mode:"cors",headers:u,body:s})}return{status:"ok",mensagem:"Cupom impresso"}}},async executar(e,t,o){try{await this.urlIntegrador(t,o);const r=await Nu.post(this.url,gO(e));if(r.status!==200||!r.data)throw console.error(`Falha de comunica\xE7\xE3o com o Integrador!
Servidor: `+this.url||`ND
Response.status: `+r.status||`ND
Response.statusText: `+r.statusText||`ND
Response.data: `+JSON.stringify(r.data||{info:"ND"})),new zs(`Falha de comunica\xE7\xE3o com o Integrador! 
Servidor: `+this.url);return r.data}catch(r){throw r.message==="Network Error"?new zs(`Verifique se o integrador foi iniciado! 
Servidor: `+this.url):(console.error(`Falha de comunica\xE7\xE3o com o Integrador! 
Servidor: `+this.url+`
`+r.message),new zs(`Falha de comunica\xE7\xE3o com o Integrador! 
Servidor: `+this.url))}},async inutilizar(e,t,o){let r={id:Ft(),infInut:t,outrosNFe:Vy.completarOutrosNFe(H9,{}),infNFe:{ide:{tpAmb:t.tpAmb,mod:t.mod,serie:t.serie,nNF:t.nNFFin},emit:{escolhas:{CNPJ:t.CNPJ}}}},a=Fl.InutilizarNFe(e,t);return this.servicoIntegrador(r,a,"InutilizaNFe","Inutiliza\xE7\xE3o",1,{},"NFCe",o)},async servicoIntegrador(e,t,o,r,a,i={},n,s){var d,m,f,p,g;let l,u;if(~["NFe","NFCe"].indexOf(n))try{let b=0,x,_;x=await $erp().configuracoes.where({nome:"integrador.servidor.opcoes"}).toArray(),_=(f=JSON.parse((m=(d=x==null?void 0:x[0])==null?void 0:d.valor)!=null?m:null))!=null?f:[],_.length>1&&(Li.hide(),b=await $g.promptServicoIntegrador.show({buttons:_.map(y=>({label:y.descricao}))}),Li.show({spinner:nY,spinnerColor:"amber",message:"Selecionando Certificado e Emitindo a nota"})),u=(p=_[b])==null?void 0:p.motor,l=(g=_[b])==null?void 0:g.url}catch(b){console.error(b),$q.notify({type:"negative",message:"Erro ao obter configura\xE7\xE3o 'integrador.servidor.opcoes'."});return}return(u==null?void 0:u.toLowerCase())==="node"&&l?await this.servicoIntegradorNode(e,t,o,r,a,i,n,s,l):(u==null?void 0:u.toLowerCase())==="c#"&&l?await this.servicoIntegradorB15(e,t,o,r,a,i,n,s,l):await this.servicoIntegradorB15(e,t,o,r,a,i,n,s)},async servicoIntegradorB15(e,t,o,r,a,i={},n,s,l){const u='<?xml version="1.0" encoding="utf-8"?>'+new XMLSerializer().serializeToString(t);let c="",d;const m=e.infNFe.emit||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},f={id:Ft(),tipo:e.infNFe.ide.mod==="65"?"NFCe":"NFe",operacao:r,situacao:"Sem resposta",tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),nNFFin:Number((e.infInut||{}).nNFFin||0),nSeqEvento:Number(a),chNFe:e.outrosNFe.chNFe,dataHoraEnvio:Qo(),cpfCnpjEmitente:m.escolhas.CNPJ||m.escolhas.CPF||"",json:JSON.stringify(yd(e)),xmlEnvio:u,idDocumentoFiscalEletronico:e.id,idDocumento:e.outrosNFe.idDocumento};await je.documentoFiscalEletronicoErro.grava({atual:f});let p={};try{const _={action:o,documentoXml:zc(u),...i};let y;if(d=l||await this.urlIntegrador(n,s),y=await Nu.post(d,gO(_)),p=y.data||{},y.status!==200||!y.data)throw console.error(`Falha de comunica\xE7\xE3o com o Integrador!
Servidor: `+d||`ND
Response.status: `+y.status||`ND
Response.statusText: `+y.statusText||`ND
Response.data: `+JSON.stringify(y.data||{info:"ND"})),c=`Falha de comunica\xE7\xE3o com o Integrador! 
Servidor: `+d,await je.documentoFiscalEletronicoErro.grava({atual:{...f,mensagem:c,situacao:"Erro integrador"},original:f}),new zs(c)}catch(_){throw _.message==="Network Error"?(c=`Verifique se o integrador foi iniciado! 
Servidor: `+d,await je.documentoFiscalEletronicoErro.grava({atual:{...f,mensagem:c,situacao:"Sem integrador"},original:f}),new zs(c)):(console.error(`Falha de comunica\xE7\xE3o com o Integrador! 
Servidor: `+d+`
`+_.message),c=`Falha de comunica\xE7\xE3o com o Integrador! 
Servidor: `+d,await je.documentoFiscalEletronicoErro.grava({atual:{...f,mensagem:c,situacao:"Erro no integrador"},original:f}),new zs(c))}let g=e.outrosNFe,b="";p.protNFe?g.protNFe={tpAmb:p.protNFe.tpAmb,chNFe:p.protNFe.chNFe,nProt:p.protNFe.nProt,dhRecbto:p.protNFe.dhRecbto,cStat:p.protNFe.cStat,xMotivo:p.protNFe.xMotivo}:p.protNFe={},p.status&&p.status!=="Erro"&&p.protNFe.nProt?(g.situacao=p.situacao||g.situacao,g.situacaoErro="",g.mensagem=Yh(p.mensagem),b=p.protNFe.xMotivo+`
Protocolo: `+g.protNFe.nProt+`
Data recebimento: `+g.protNFe.dhRecbto,r==="Emiss\xE3o"&&!!p.protNFe.nProt&&(g.emitida=!0,g.nProt_emissao=p.protNFe.nProt,g.dhRecbto_emissao=p.protNFe.dhRecbto),r==="Cancelamento"&&!!p.protNFe.nProt&&(g.cancelada=!0)):(p.status="Erro",g.situacaoErro=p.situacao||g.situacao+" - Erro",g.mensagem=Yh(p.mensagem||"Falha na opera\xE7\xE3o!"),b=(p.protNFe||{}).xMotivo||""),g.status=p.status;const x={...f,status:g.status,situacao:p.status==="Erro"?g.situacaoErro:g.situacao,mensagem:g.mensagem,cStat:p.protNFe.cStat,xMotivo:p.protNFe.xMotivo,nProt:p.protNFe.nProt,dhRecbto:p.protNFe.dhRecbto,dataHoraResposta:Qo(),json:JSON.stringify(yd(e)),xmlProt:p.xml||""};if(p.status==="Erro")await je.documentoFiscalEletronicoErro.grava({atual:x,original:f});else if(await je.documentoFiscalEletronicoErro.remove(x.id),x.id=Ft(),await je.documentoFiscalEletronicoXml.grava({atual:x}),x.tipo==="NFCe"){const _=e.infNFe.dest||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},y=await je.documentoFiscalEletronico.ler({id:e.id}),I={id:e.id,tipo:x.tipo,situacao:g.situacao,tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),chNFe:e.outrosNFe.chNFe,vNF:((e.infNFe.total||{}).ICMSTot||{}).vNF,dhEmi:e.infNFe.ide.dhEmi,dataHoraEmissao:Ba.formatDate(e.infNFe.ide.dhEmi),dataHoraCriacao:x.dataHoraEnvio,dataHoraAlteracao:x.dataHoraResposta,cpfCnpjEmitente:m.escolhas.CNPJ||m.escolhas.CPF||"",xNomeEmitente:m.xNome,xFantEmitente:m.xFant,cpfCnpjDestinatario:_.escolhas.CNPJ||_.escolhas.CPF||"",xNomeDestinatario:_.xNome,xFantDestinatario:_.xFant,json:JSON.stringify(yd(e)),qrCode:g.situacao==="Emitido"&&!!p.QRCode?p.QRCode:y.qrCode,idDocumento:e.outrosNFe.idDocumento};await je.documentoFiscalEletronico.grava({atual:I,original:y})}return{status:p.status,cStat:(p.protNFe||{}).cStat||"",mensagem:g.mensagem,complemento:b,xml:p.xml}},async servicoIntegradorNode(e,t,o,r,a,i={},n,s,l){var b,x,_,y;const u='<?xml version="1.0" encoding="utf-8"?>'+new XMLSerializer().serializeToString(t),c=e.infNFe.emit||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},d={id:Ft(),tipo:e.infNFe.ide.mod==="65"?"NFCe":"NFe",operacao:r,situacao:"Sem resposta",tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),nNFFin:Number((e.infInut||{}).nNFFin||0),nSeqEvento:Number(a),chNFe:e.outrosNFe.chNFe,dataHoraEnvio:Qo(),cpfCnpjEmitente:c.escolhas.CNPJ||c.escolhas.CPF||"",json:JSON.stringify(yd(e)),xmlEnvio:u,idDocumentoFiscalEletronico:e.id,idDocumento:e.outrosNFe.idDocumento};await je.documentoFiscalEletronicoErro.grava({atual:d});let m={};try{const I=new Headers;let S,O;if(I.append("Content-type","application/json; charset=utf-8"),~["EmiteNFe","emitirNFCe"].indexOf(o)&&(S=await fetch(`${l}/nfe/emitir`,{method:"POST",mode:"cors",headers:I,body:JSON.stringify({xml:u,chNFe:e.outrosNFe.chNFe,cpfCnpjEmitente:c.escolhas.CNPJ||c.escolhas.CPF})})),o==="CancelaNFe"&&(S=await fetch(`${l}/nfe/cancelar`,{method:"POST",mode:"cors",headers:I,body:JSON.stringify({xml:u,tpEvento:e.infEvento.tpEvento,nSeqEvento:e.infEvento.nSeqEvento,chNFe:e.outrosNFe.chNFe,cpfCnpjEmitente:c.escolhas.CNPJ||c.escolhas.CPF})})),o==="CartaCorrecaoNFe"&&(S=await fetch(`${l}/nfe/carta-correcao`,{method:"POST",mode:"cors",headers:I,body:JSON.stringify({xml:u,tpEvento:e.infEventoCC.tpEvento,nSeqEvento:e.infEventoCC.nSeqEvento,chNFe:e.outrosNFe.chNFe,cpfCnpjEmitente:c.escolhas.CNPJ||c.escolhas.CPF})})),m=await S.json(),!S.ok)throw m!=null&&m.error?new Error(m.error):new Error("GError:N\xE3o foi poss\xEDvel concluir a opera\xE7\xE3o.");~["emitirNFCe","EmiteNFe"].indexOf(o)&&(m==null?void 0:m.xml)&&((b=m==null?void 0:m.protNFe)==null?void 0:b.cStat)==="100"&&(m.status="Sucesso",m.situacao="Emitido",m.mensagem=`Nota N\xBA ${e.infNFe.ide.nNF} transmitida com sucesso!`),o==="CancelaNFe"&&(m==null?void 0:m.xml)&&((x=m==null?void 0:m.protNFe)==null?void 0:x.cStat)==="135"&&(m.status="Sucesso",m.situacao="Cancelado",m.mensagem="Nota cancelada com sucesso!"),o==="CartaCorrecaoNFe"&&(m==null?void 0:m.xml)&&((_=m==null?void 0:m.protNFe)==null?void 0:_.cStat)==="135"&&(m.status="Sucesso",m.situacao="Carta de Corre\xE7\xE3o",m.mensagem="Carta de Corre\xE7\xE3o emitida com sucesso!")}catch(I){console.error(I.message);const S=/GError:.+/.test(I.message);let O;throw S&&(O=`N\xE3o foi poss\xEDvel concluir a opera\xE7\xE3o. ${I.message.slice(7)}`),S||(O="N\xE3o foi poss\xEDvel concluir a opera\xE7\xE3o."),await je.documentoFiscalEletronicoErro.grava({atual:{...d,mensagem:O,situacao:"Erro"},original:d}),new zs(O)}let f=e.outrosNFe,p="";m.protNFe?f.protNFe={tpAmb:m.protNFe.tpAmb,chNFe:m.protNFe.chNFe,nProt:m.protNFe.nProt,dhRecbto:m.protNFe.dhRecbto,cStat:m.protNFe.cStat,xMotivo:m.protNFe.xMotivo}:m.protNFe={},m.status&&m.status!=="Erro"&&m.protNFe.nProt?(f.situacao=m.situacao||f.situacao,f.situacaoErro="",f.mensagem=Yh((y=m.mensagem)!=null?y:""),p=m.protNFe.xMotivo+`
Protocolo: `+f.protNFe.nProt+`
Data recebimento: `+f.protNFe.dhRecbto,r==="Emiss\xE3o"&&!!m.protNFe.nProt&&(f.emitida=!0,f.nProt_emissao=m.protNFe.nProt,f.dhRecbto_emissao=m.protNFe.dhRecbto),r==="Cancelamento"&&!!m.protNFe.nProt&&(f.cancelada=!0)):(m.status="Erro",f.situacaoErro=m.situacao||f.situacao+" - Erro",f.mensagem=Yh(m.mensagem||"Falha na opera\xE7\xE3o!"),p=(m.protNFe||{}).xMotivo||""),f.status=m.status;const g={...d,status:f.status,situacao:m.status==="Erro"?f.situacaoErro:f.situacao,mensagem:f.mensagem,cStat:m.protNFe.cStat,xMotivo:m.protNFe.xMotivo,nProt:m.protNFe.nProt,dhRecbto:m.protNFe.dhRecbto,dataHoraResposta:Qo(),json:JSON.stringify(yd(e)),xmlProt:m.xml||""};if(m.status==="Erro")await je.documentoFiscalEletronicoErro.grava({atual:g,original:d});else if(await je.documentoFiscalEletronicoErro.remove(g.id),g.id=Ft(),await je.documentoFiscalEletronicoXml.grava({atual:g}),g.tipo==="NFCe"){const I=e.infNFe.dest||{escolhas:{CPF:"",CNPJ:""},xNome:"",xFant:""},S=await je.documentoFiscalEletronico.ler({id:e.id}),O={id:e.id,tipo:g.tipo,situacao:f.situacao,tpAmb:e.infNFe.ide.tpAmb,mod:Number(e.infNFe.ide.mod),serie:Number(e.infNFe.ide.serie),nNF:Number(e.infNFe.ide.nNF),chNFe:e.outrosNFe.chNFe,vNF:((e.infNFe.total||{}).ICMSTot||{}).vNF,dhEmi:e.infNFe.ide.dhEmi,dataHoraEmissao:Ba.formatDate(e.infNFe.ide.dhEmi),dataHoraCriacao:g.dataHoraEnvio,dataHoraAlteracao:g.dataHoraResposta,cpfCnpjEmitente:c.escolhas.CNPJ||c.escolhas.CPF||"",xNomeEmitente:c.xNome,xFantEmitente:c.xFant,cpfCnpjDestinatario:I.escolhas.CNPJ||I.escolhas.CPF||"",xNomeDestinatario:I.xNome,xFantDestinatario:I.xFant,json:JSON.stringify(yd(e)),qrCode:f.situacao==="Emitido"&&!!m.QRCode?m.QRCode:S.qrCode,idDocumento:e.outrosNFe.idDocumento};await je.documentoFiscalEletronico.grava({atual:O,original:S})}return{status:m.status,cStat:(m.protNFe||{}).cStat||"",mensagem:f.mensagem,complemento:p,xml:m.xml}}};async function _O(e){let t="";for(let o=1;o<=5;o++)try{let r=await lY.executar({action:"ArquivoLeTexto",parametro:e});if(r.status==="Sucesso")return r.conteudo;t=`Erro em ArquivoLeTexto no integrador. Tentativa ${o}. Arquivo: ${e} - ${r.mensagem}`,console.error(t),await hf(1e3)}catch(r){t=`Erro (${r.name}) em ArquivoLeTexto no integrador. Tentativa ${o}. Arquivo: ${e} - ${r.message}`,console.error(t),await hf(1e3)}Da(!0,t)}async function cY(e){let t=await _O(`c:\\Geeks\\DadosPdv\\${e}\\index.json`);const o=JSON.parse(t);Tt.log("bulkPut",new Date().toLocaleTimeString("pt-br"),e,o);let r=0;for(const a in o.tabela){Tt.log("bulkPut",new Date().toLocaleTimeString("pt-br"),e,"clear",a),await Z(e)[a].clear();for(const i of o.tabela[a]){t=await _O(`c:\\Geeks\\DadosPdv\\${e}\\${i}`);const n=JSON.parse(t)[a],s=1e4;for(let l=0;l<n.length;l+=s){Tt.log("bulkPut",new Date().toLocaleTimeString("pt-br"),e,i,r);const u=n.slice(l,l+s);r+=u.length,await Z(e)[a].bulkPut(u)}}}return o}function uY(e,t,o){if(!e||!t||!o)throw new Error("\xC9 necess\xE1rio informar UF, localidade e logradouro.");if(o.length<=3)throw new Error("Informe ao menos tr\xEAs caracteres do logradouro.");return Nu.get(`https://viacep.com.br/ws/${e}/${t}/${o}/json/`)}function dY(e){if(!e)throw new Error("\xC9 necess\xE1rio informar um CEP.");if(e=e.toString().replace(/[^0-9]/g,""),e.length!==8)throw new Error("\xC9 necess\xE1rio que o CEP possua oito d\xEDgitos.");return Nu.get(`https://viacep.com.br/ws/${e}/json/`)}function Yl(e){return JSON.parse(JSON.stringify(e))}const Fp=function(e){let t;if(Array.isArray(e)){let o=[];for(const r of e)t=Fp(r),t!==null&&o.push(t);if(e.length!==0)return o}else if(typeof e=="object"&&e!==null){let o={};for(const r in e)t=Fp(e[r]),t!==null&&(o[r]=t);if(Object.keys(o).length!==0)return o}else return e===void 0?null:e;return null},ji=function(e){if(Array.isArray(e))return e.map(t=>ji(t));if(typeof e=="object"&&e!==null){let t={};for(const o in e)t[o]=ji(e[o]);return t}else return e};function Na(e){if(typeof e!="object")throw new Error("O object n\xE3o \xE9 v\xE1lido.");e=Yl(e);for(const t in e){const o=e[t];(o!==null||o!==void 0)&&(typeof o!="object"||(e[t]=Na(o),o&&Object.keys(o).length>0))||(Array.isArray(e)?e.splice(t,1):delete e[t])}return e}function fY(e){if([0,12,13,14].includes(e.length))return e;{let a="999000000000".substring(0,12-e.length)+e;var t=a.split(""),o=(Number(t[1])+Number(t[3])+Number(t[5])+Number(t[7])+Number(t[9])+Number(t[11]))*3+(Number(t[0])+Number(t[2])+Number(t[4])+Number(t[6])+Number(t[8])+Number(t[10])),r=o%10;return r>0&&(r=10-r),a+String(r)}}function mY({array:e,chave:t="id",campos:o,objetoOriginal:r}){const a={};for(const i of e||[]){let n;if(o){n={};for(const l of o){const u=Array.isArray(l)?l[0]:l,c=Array.isArray(l)?l[1]:l;n[c]=i[u]}}else n={...i},delete n[t];const s=i[t];a[s]=n}for(const i in r)a[i]||(a[i]=null);return a}function pY({objetos:e,chave:t="id",campos:o}){const r=[];for(const a in e)if(a!==t){let i={[t]:a};if(o)for(const n of o){const s=Array.isArray(n)?n[0]:n,l=Array.isArray(n)?n[1]:n;i[l]=e[a][s]}else i={...i,...e[a]};r.push(i)}return r}function Ly(e){try{return Ba.formatDate(e,"DD/MM/YYYY HH:mm:ss.SSS")}catch{return""}}function Qo(){return Ba.formatDate(Date.now())}const bO=[null,void 0,"",0,!1],hY=function(e,t){let o=[];const r=e.length>t.length?e.length:t.length;for(let a=0;a<r;a++){const i=jx(e[a],t[a]);i&&(o[a]=i)}return o.length>0?o:null},vY=function(e,t){let o={};e=e||{},t=t||{};const r=[...new Set([...Object.keys(e),...Object.keys(t)])];for(const a of r){const i=jx(e[a],t[a]);i&&(o[a]=i)}return Object.keys(o).length>0?o:null},jx=function(e,t){if(bO.includes(e)){if(bO.includes(t))return null}else if(Array.isArray(e)){if(Array.isArray(t))return hY(e,t)}else if(typeof e=="object"&&typeof t=="object"&&t!==null)return vY(e,t);if(e!==t){const o=Fp(e),r=Fp(t);if(o!==r)return{original:o,alterado:r}}return null},li=function(e,t,o={}){let r={};for(const a in t){if(t[a]===null){if(!o.mantemNull)continue}else if(t[a]===void 0||typeof t[a]=="object")continue;e[a]!==t[a]&&(r[a]=t[a])}return r};function Y9(e,t){return ca.exports.transform(t,(o,r,a)=>{ca.exports.isEqual(r,e[a])||(o[a]=ca.exports.isObject(r)&&ca.exports.isObject(e[a])?Y9(r,e[a]):r)})}function ra(e,...t){return t.reduce((o,r)=>Y9(o,r),e)}function hf(e){return new Promise(t=>setTimeout(t,e))}function gY(e){let t={};for(let o in e)e[o]&&(t[o]=e[o]);return t}function _Y(e,t){return(e||0).toFixed(t).replace(".",",").replace(/\d(?=(\d{3})+,)/g,"$&.")}async function bY(e){var l;const t=JSON.parse(localStorage.getItem("clienteSistema")),o=await $db.empresa.le({codigoClienteSistema:t.codigoClienteSistema}),r=await $db.contato.le({codigoContato:o[0].codigoContato}),i=(l=(await $db.contatoEndereco.leNew({idContato:r[0].id}))[0])==null?void 0:l.pais;let n="55";i==="Chile"&&(n="56");let s=e.telefone;return!s&&typeof s!="string"?s:n?n+s.replace(/\D/g,"").replace(/^55/,"").replace(/^56/,""):"55"+s.replace(/\D/g,"").replace(/^55/,"")}var Gx={exports:{}};function Wx(){}Wx.prototype={on:function(e,t,o){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){var r=this;function a(){r.off(e,a),t.apply(o,arguments)}return a._=t,this.on(e,a,o)},emit:function(e){var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),r=0,a=o.length;for(r;r<a;r++)o[r].fn.apply(o[r].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),r=o[e],a=[];if(r&&t)for(var i=0,n=r.length;i<n;i++)r[i].fn!==t&&r[i].fn._!==t&&a.push(r[i]);return a.length?o[e]=a:delete o[e],this}};Gx.exports=Wx;Gx.exports.TinyEmitter=Wx;var yY=Gx.exports;const CY=new yY,yO={urlBase:"https://api.b15.com.br"};async function xY(e,t){const o=vf("executarApi",JSON.stringify(t,0,2));try{const r=localStorage.getItem("bancoDeDados");lp(!r,"N\xE3o foi poss\xEDvel encontrar o nome do banco de dados.");const a=await Nu({baseURL:yO.urlBase,data:{token:je.usuario.logado.token||"",bancoDeDados:r,...t},method:"post",url:e});return lp(a.status!==200,"Api Erro: "+a.status+" - "+a.statusText),lp(!a.data,"Api Erro"),a.data.error&&console.error("Api Erro: "+JSON.stringify(a.data.error)),Da(!a.data.sucesso,a.data.mensagem||"Falha no servidor"),a.data}catch(r){if(r.name==="ErroValidacao")throw r;Da(r.name==="Error"&&r.message==="Network Error","Sem internet ou erro de comunica\xE7\xE3o!"),console.error("Falha no acesso ao servidor! Servidor: "+yO.urlBase+" Servico: "+e+`
`+r.stack),Da(!0,"Falha no acesso ao servidor!")}finally{gf(o,1)}}function wY(e,t=!1){typeof e=="number"&&(e=String(e).replace(".",","));for(var o=[["zero","um","dois","tr\xEAs","quatro","cinco","seis","sete","oito","nove","dez","onze","doze","treze","quatorze","quinze","dezesseis","dezessete","dezoito","dezenove"],["dez","vinte","trinta","quarenta","cinq\xFCenta","sessenta","setenta","oitenta","noventa"],["cem","cento","duzentos","trezentos","quatrocentos","quinhentos","seiscentos","setecentos","oitocentos","novecentos"],["mil","milh\xE3o","bilh\xE3o","trilh\xE3o","quadrilh\xE3o","quintilh\xE3o","sextilh\xE3o","setilh\xE3o","octilh\xE3o","nonilh\xE3o","decilh\xE3o","undecilh\xE3o","dodecilh\xE3o","tredecilh\xE3o","quatrodecilh\xE3o","quindecilh\xE3o","sedecilh\xE3o","septendecilh\xE3o","octencilh\xE3o","nonencilh\xE3o"]],r,a,i,n=String(e).replace(t?/[^,\d]/g:/\D/g,"").split(","),s=" e ",l="real",u="centavo",c=n.length-1,d,m=-1,f=[],p=[],g="";++m<=c;p=[])if(m&&(n[m]=(("."+n[m])*1).toFixed(2).slice(2)),!!(r=(a=n[m]).slice((d=a.length)%3).match(/\d{3}/g),a=d%3?[a.slice(0,d%3)]:[],a=r?a.concat(r):a).length){for(r=-1,d=a.length;++r<d;g="")!(i=a[r]*1)||(i%100<20?g+=o[0][i%100]:i%100+1&&(g+=o[1][(i%100/10>>0)-1]+(i%10?s+o[0][i%10]:"")),p.push((i<100?g:i%100?o[2][i/100>>0]+s+g:o[2][i===100?0:i/100>>0])+((g=d-r-2)>-1?" "+(i>1&&g>0?o[3][g].replace("\xE3o","\xF5es"):o[3][g]):"")));r=p.length>1?(r=p.pop(),p.join(" ")+s+r):p.join("")||(!m&&n[m+1]*1>0||f.length?"":o[0][0]),r&&f.push(r+(t?" "+(a.join("")*1>1?m?u+"s":(/0{6,}$/.test(n[0])?"de ":"")+l.replace("l","is"):m?u:l):""))}return f.join(s)}function IY(e,t){const o={contem:(r,a)=>r.includes(a),diferente:(r,a)=>r!==a,falso:r=>r===!1,igual:(r,a)=>r===a,inicia:(r,a)=>r.startsWith(a),maior:(r,a)=>Number(r)>Number(a),maiorIgual:(r,a)=>Number(r)>=Number(a),menor:(r,a)=>Number(r)<Number(a),menorIgual:(r,a)=>Number(r)<=Number(a),naoContem:(r,a)=>!r.includes(a),naoInicia:(r,a)=>!r.startsWith(a),naoTermina:(r,a)=>!r.endsWith(a),termina:(r,a)=>r.endsWith(a),verdadeiro:r=>r===!0,entre:(r,a,i)=>Number(r)>=Number(a)&&Number(r)<=Number(i)};for(const r of t)e=e.filter(a=>{const{campo:i,filtro:n,valor:s,valorFinal:l}=r;return!o[n]||!a[i]?!1:o[n](a[i],s,l)});return e}function $y(e){return(e||"").replace(/[^\d]/g,"")}const EY=localStorage.getItem("logarGeeksApi")==="true";let CO=Number(localStorage.getItem("logarGeeksApiDados"))||0,xO=Number(localStorage.getItem("logarGeeksApiTrace"))||0;function SY(e,t,o,r){var l;if(!EY)return;const a=Object.keys(o).join(",");if(AY.includes(a))return;const i=Object.values(o).map(u=>TY[u==null?void 0:u.funcao]||(u==null?void 0:u.funcao)),n=[...new Set(i)].join(", ");let s="";for(const u in o)s+=` ${u}(${((l=o[u])==null?void 0:l.table)||""})`;console.log("GeeksApi",n,s,"tempo:",e,"tamanho:",t),CO&&(console.log({envio:o,resposta:r==null?void 0:r.data}),CO--),xO&&(console.log(JSON.stringify(o)),console.trace(),xO--)}const AY=["sincronismoPlataformaPeriodico","sincronismoErpPeriodico","sistemaUsoLog","quantidadeRestante","clienteSistemas","vitrine","tutorial","mensagemPiscarLe"],TY={"7934AE25-B337-43F4-9FC1-842C3486C491":"/erp/hibrido/le.js","FCC75497-9CAD-4D28-AB39-F669142BE8A9":"/erp/hibrido/lista.js","598DD669-5A78-45E4-B77C-0B7BA904FDA9":"/erp/hibrido/ler.js","E6D1789B-D368-4DE8-A740-E8A4A1714D94":"/erp/hibrido/listaArquivo.js","56AD4077-0FDE-4986-8654-47A64181B43B":"/erp/faturas/listar.js","A43AD40B-2496-4349-9789-968A32487885":"/erp/vendas/listar.js","36F67A5B-BC74-4786-BCB5-F3A24ABA6467":"/erp/vendas/listarAtendimentoVendas.js","F61D68B6-3212-4B39-AF26-152634610BDD":"/erp/catalogo-virtual/ler-url-vs-banco.js","36FB3AC2-EDE6-483C-9645-FD09B69B10DA":"/erp/tutorial/tutorial.js"},Jb={validateStatus:e=>e>=200&&e<=500,timeout:0},OY=localStorage.getItem("url-api")||"https://api2.b15.com.br";async function qr(e,t={}){var n,s,l,u;const o=new Date;let r,a,i=0;try{let c=t.bancoDeDados,d="";e.login?c="login":(c===void 0&&(c=localStorage.getItem("bancoDeDados"),Da(!c,"N\xE3o foi poss\xEDvel encontrar o nome do banco de dados")),t.convidado?d="convidado":(d=vd.get(je,"usuario.logado.token"),d||(await je.usuario.inicializaLogado(),d=vd.get(je,"usuario.logado.token")),Da(!d,"Usu\xE1rio n\xE3o autenticado")));const m=void 0;if(Jb.headers={banco:c,token:d,debug:m},t.timeout&&(Jb.timeout=t.timeout),a=await Nu.post(t.baseURL||OY,e,Jb),r=JSON.stringify(a.data).length,![200].includes(a.status)){console.error(`Erro retornado pelo geeks-api
`,JSON.stringify(a.data,0,2));const g=vd.get(a,"data.error.name")==="Mensagem"&&vd.get(a,"data.error.message")||"Falha na opera\xE7\xE3o";a.status===401&&(je.usuario.desconecta(),window.location.reload()),Da(!0,g,m?a.data:void 0)}if(~((u=(l=(s=(n=a==null?void 0:a.data)==null?void 0:n.sincronismoErpEnviar)==null?void 0:s.error)==null?void 0:l.message)==null?void 0:u.indexOf("idx_Sincronismo_id")))return a;const f=[],p=[];for(const g in a.data){const b=a.data[g];!!b&&typeof b=="object"&&!!b.error&&(console.error(`Erro retornado pelo geeks-api
`,JSON.stringify(b.error,0,2)),p.push(b.error),f.push(vd.get(b,"error.name")==="Mensagem"&&vd.get(b,"error.message")||"Erro no servi\xE7o "+g))}return Da(f.length,f.join(" - "),m?p:void 0),a}catch(c){if(c.name==="ErroValidacao")throw c;i=1,c.name==="Error"&&(Da(c.message==="Network Error","Sem internet ou erro de comunica\xE7\xE3o!"),Da(c.message.startsWith("timeout of "),"Tempo limite esgotado ao aguardar a conex\xE3o!"),Da(c.message==="Request failed with status code 504","Servi\xE7o n\xE3o responde! (504 - Gateway Timeout)")),Da(!0,"Falha no acesso ao servidor! "+c.toString())}finally{const c=new Date,d=c-o;SY(d,r,e,a),je.qualidadeSinal.contabilizarQualidadeSinal({horario:c,tempo:d,tamanho:r,erroComunicacao:i})}}async function DY(e,t,o,r){if(![e,t,o,r].every(f=>f))return;const a=await Z().item.get(e),i=ca.exports.get(a,"idNcm","");let n=ca.exports.orderBy(await Z().contatoEndereco.where({idContato:o}).toArray(),"grupo","asc"),s=n.find(f=>(f.grupo||"").toLowerCase()==="principal");s||(s=n.find(f=>(f.grupo||"").toLowerCase()!=="principal"));let l=ca.exports.get(s,"uf","");n=ca.exports.orderBy(await Z().contatoEndereco.where({idContato:r}).toArray(),"grupo","asc"),s=n.find(f=>(f.grupo||"").toLowerCase()==="principal"),s||(s=n.find(f=>(f.grupo||"").toLowerCase()!=="principal"));let u=ca.exports.get(s,"uf","");const c=await Z().documentoOperacao.where({idCfop:t}).toArray(),d=ca.exports.get(c.find(f=>f.idCfop),"finalidade",0);let m="";if(d){const f=await Z().impostoParametro.where({cod:d}).toArray();m=ca.exports.get(f.find(p=>p.id),"id","")}if([i,t,o,m,l,u].every(f=>f)){let f=ca.exports.orderBy(await Z().impostoConfiguracao.where({idNcm:i}).toArray(),"cod","desc");if(f=f.find(p=>p.idCfop===t&&p.idEmitente===o&&p.idTipoCons===m&&p.ufOrigem===l&&p.ufDestino===u),f)return{aliqIpi:ca.exports.get(f,"aliqIpi",0),percIva:ca.exports.get(f,"percIva",0)}}}const Sr={};async function PY(e){var c,d;const{idItem:t,idContatoDestinatario:o,idContatoEmitente:r}=e,a=new Date;if((Sr==null?void 0:Sr.timeout)&&!(a>new Date(Sr.timeout)))return;const i=await $erp().configuracoes.toArray(),n=await $erp().documentoOperacao.toArray(),s=await $erp().cfop.toArray();let l=[],u=[];if(o){const m=await $erp().contato.get(o),f=await $erp().contatoEndereco.where({idContato:o}).toArray(),p=(c=f.find(g=>{var b,x;return((x=(b=g.grupo)==null?void 0:b.trim())==null?void 0:x.toLowerCase())==="principal"}))!=null?c:f[0];l.push(m),p&&u.push(p)}if(r){const m=await $erp().contato.get(r),f=await $erp().contatoEndereco.where({idContato:r}).toArray(),p=(d=f.find(g=>{var b,x;return((x=(b=g.grupo)==null?void 0:b.trim())==null?void 0:x.toLowerCase())==="principal"}))!=null?d:f[0];l.push(m),p&&u.push(p)}Sr.configuracoes=i,Sr.documentoOperacao=n,Sr.cfop=s,Sr.contatos=l,Sr.contatosEndereco=u,Sr.timeout=a.setSeconds(a.getSeconds()+3)}async function MY(e={}){var t,o,r;try{const{idItem:a,idCfop:i,cest:n}=e.documentoItem,s=(t=e.documento)==null?void 0:t.idEmpresa,l=(o=e.documento)==null?void 0:o.idContato;await PY({idItem:a,idContatoEmitente:s,idContatoDestinatario:l});const u=Sr.contatos.find(N=>N.id===s),c=Sr.contatosEndereco.find(N=>N.idContato===s),d=Sr.contatos.find(N=>N.id===l),m=Sr.contatosEndereco.find(N=>N.idContato===l);if(!c)return;let f=m==null?void 0:m.uf;const p=c==null?void 0:c.uf;f||(f=p);const g=p!==f;let b=await $erp().item.get(a);const x=Sr.cfop.find(N=>N.id===i),_=`Produto '${e.documentoItem.descricaoItem||""}'`;$utils.verificarErro(!b.ncm,`${_} sem cadastro de NCM`),$utils.verificarErro(!x,`${_} com CFOP inv\xE1lido`);let y=b.ncm||"";y=y.length===8?y:$utils.filtrarDigitos(y);const I=(d.numeroDocumentoNacional||"").trim().replace(/\D/g,""),S=(d.numeroDocumentoEstadual||"").trim().replace(/\D/g,"");let O="9";I.length===14&&(O="2",S&&S.toLowerCase()!=="isento"&&(O="1"));let F="1";g&&(F="2"),f==="EX"&&(F="3");const M=Number((r=e.documento)==null?void 0:r.codigoDocumentoOperacao);let E;if(Number.isInteger(M)&&M>0){const N=Sr.documentoOperacao.find(R=>R.codigoDocumentoOperacao===M);E=N==null?void 0:N.finalidade}if(!E){const N=Sr.configuracoes.find(R=>R.nome==="nfe.padrao.consumidorfinal");E=Number(N==null?void 0:N.valor)}const D=E===100?"1":E===99?"0":String(E),P={emitente:{regime:u.regime==="SimplesNacional"?"1":"3",uf:p,tributacaoSetor:u.tributacaoSetor,tributacao:u.tributacao},destinatario:{regime:d.regime==="SimplesNacional"?"1":d.regime==="Normal"?"3":void 0,uf:f,pessoa:{CPF:"PF",CNPJ:"PJ",idEstrangeiro:"Estrangeiro"}[f==="EX"?"idEstrangeiro":d.tipoDocumentoNacional]||void 0,tributacaoSetor:d.tributacaoSetor,tributacao:d.tributacao,indicadorIE:O,consumidor:D==="0"?"N":D==="1"?"S":void 0,destino:F},ncm:y,idItem:b.id,cfop:String(x.cfop||""),cest:b.cest,origemMercadoria:String(b.codigoOrigem||""),produto:b.descricao};return await $db.configuracaoImposto.pesquisa(P,e.erro)}catch(a){return console.log(a),{}}}let K9;function p6e(e){K9=e}function h6e(){return K9}function Q9(){if(window||window.print)return window.print();if(cordova||cordova.plugins||cordova.plugins.print)return cordova.plugins.printer.print();this.$q.notify("N\xE3o encontramos comunica\xE7\xE3o com a impressora.")}function NY(e){return typeof e=="number"&&isFinite(e)}async function FY(e,t,o,r){const{id:a}=t,i=e==="plataforma"?Pt:Z(),n="id"+Rp(o);for(const s of r){const l=i[o+Rp(s)];try{t[s]=await l.where(n).equals(a).toArray()}catch{}}return t}var J9={AC:12,AL:27,AM:13,AP:16,BA:29,CE:23,DF:53,ES:32,GO:52,MA:21,MG:31,MS:50,MT:51,PA:15,PB:25,PE:26,PI:22,PR:41,RJ:33,RN:24,RO:11,RR:14,RS:43,SC:42,SE:28,SP:35,TO:17};const RY={"Aguardando Confer\xEAncia":{permiteNota:!0},"Aguardando Entrega":{permiteNota:!0},"Aguardando Estoque":{permiteNota:!0},"Aguardando Faturamento":{permiteNota:!0},"Aguardando Financeiro":{permiteNota:!0},"Aguardando Libera\xE7\xE3o":{permiteNota:!0},"Aguardando Pagamento":{permiteNota:!0},"Aguardando Separa\xE7\xE3o":{permiteNota:!0},Cancelado:{permiteNota:!1},"Em Separa\xE7\xE3o":{permiteNota:!0},Entregue:{permiteNota:!0},Faturado:{permiteNota:!0},Finalizado:{permiteNota:!0},"N\xE3o Aprovado":{permiteNota:!1},Or\u00E7amento:{permiteNota:!1}},kY={Aberta:{permiteNota:!1},"Aguardando Pagamento":{permiteNota:!0},Ativo:{permiteNota:!0},Cancelado:{permiteNota:!1},Faturado:{permiteNota:!0},Finalizada:{permiteNota:!0}},VY={...RY,...kY};var qY=e=>VY[(e||{}).status]||{permiteNota:!1};const wO="0 0 24 24",IO=e=>e,Zb=e=>`ionicons ${e}`,Z9={"mdi-":e=>`mdi ${e}`,"icon-":IO,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":Zb,"ion-ios":Zb,"ion-logo":Zb,"iconfont ":IO,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},e8={o_:"-outlined",r_:"-round",s_:"-sharp"},t8={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},BY=new RegExp("^("+Object.keys(Z9).join("|")+")"),LY=new RegExp("^("+Object.keys(e8).join("|")+")"),EO=new RegExp("^("+Object.keys(t8).join("|")+")"),$Y=/^[Mm]\s?[-+]?\.?\d/,UY=/^img:/,zY=/^svguse:/,HY=/^ion-/,jY=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var Ve=At({name:"QIcon",props:{...wc,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=Ct(),r=Ic(e),a=X(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),i=X(()=>{let n,s=e.name;if(s==="none"||!s)return{none:!0};if(o.iconMapFn!==null){const c=o.iconMapFn(s);if(c!==void 0)if(c.icon!==void 0){if(s=c.icon,s==="none"||!s)return{none:!0}}else return{cls:c.cls,content:c.content!==void 0?c.content:" "}}if($Y.test(s)===!0){const[c,d=wO]=s.split("|");return{svg:!0,viewBox:d,nodes:c.split("&&").map(m=>{const[f,p,g]=m.split("@@");return ee("path",{style:p,d:f,transform:g})})}}if(UY.test(s)===!0)return{img:!0,src:s.substring(4)};if(zY.test(s)===!0){const[c,d=wO]=s.split("|");return{svguse:!0,src:c.substring(7),viewBox:d}}let l=" ";const u=s.match(BY);if(u!==null)n=Z9[u[1]](s);else if(jY.test(s)===!0)n=s;else if(HY.test(s)===!0)n=`ionicons ion-${o.platform.is.ios===!0?"ios":"md"}${s.substring(3)}`;else if(EO.test(s)===!0){n="notranslate material-symbols";const c=s.match(EO);c!==null&&(s=s.substring(6),n+=t8[c[1]]),l=s}else{n="notranslate material-icons";const c=s.match(LY);c!==null&&(s=s.substring(2),n+=e8[c[1]]),l=s}return{cls:n,content:l}});return()=>{const n={class:a.value,style:r.value,"aria-hidden":"true",role:"presentation"};return i.value.none===!0?ee(e.tag,n,ho(t.default)):i.value.img===!0?ee("span",n,bi(t.default,[ee("img",{src:i.value.src})])):i.value.svg===!0?ee("span",n,bi(t.default,[ee("svg",{viewBox:i.value.viewBox||"0 0 24 24"},i.value.nodes)])):i.value.svguse===!0?ee("span",n,bi(t.default,[ee("svg",{viewBox:i.value.viewBox},[ee("use",{"xlink:href":i.value.src})])])):(i.value.cls!==void 0&&(n.class+=" "+i.value.cls),ee(e.tag,n,bi(t.default,[i.value.content])))}}}),o8=At({name:"QAvatar",props:{...wc,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const o=Ic(e),r=X(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),a=X(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const i=e.icon!==void 0?[ee(Ve,{name:e.icon})]:void 0;return ee("div",{class:r.value,style:o.value},[ee("div",{class:"q-avatar__content row flex-center overflow-hidden",style:a.value},px(t.default,i))])}}});function GY(e,t=250){let o=!1,r;return function(){return o===!1&&(o=!0,setTimeout(()=>{o=!1},t),r=e.apply(this,arguments)),r}}function SO(e,t,o,r){o.modifiers.stop===!0&&ti(e);const a=o.modifiers.color;let i=o.modifiers.center;i=i===!0||r===!0;const n=document.createElement("span"),s=document.createElement("span"),l=es(e),{left:u,top:c,width:d,height:m}=t.getBoundingClientRect(),f=Math.sqrt(d*d+m*m),p=f/2,g=`${(d-f)/2}px`,b=i?g:`${l.left-u-p}px`,x=`${(m-f)/2}px`,_=i?x:`${l.top-c-p}px`;s.className="q-ripple__inner",oy(s,{height:`${f}px`,width:`${f}px`,transform:`translate3d(${b},${_},0) scale3d(.2,.2,1)`,opacity:0}),n.className=`q-ripple${a?" text-"+a:""}`,n.setAttribute("dir","ltr"),n.appendChild(s),t.appendChild(n);const y=()=>{n.remove(),clearTimeout(I)};o.abort.push(y);let I=setTimeout(()=>{s.classList.add("q-ripple__inner--enter"),s.style.transform=`translate3d(${g},${x},0) scale3d(1,1,1)`,s.style.opacity=.2,I=setTimeout(()=>{s.classList.remove("q-ripple__inner--enter"),s.classList.add("q-ripple__inner--leave"),s.style.opacity=0,I=setTimeout(()=>{n.remove(),o.abort.splice(o.abort.indexOf(y),1)},275)},250)},50)}function AO(e,{modifiers:t,value:o,arg:r}){const a=Object.assign({},e.cfg.ripple,t,o);e.modifiers={early:a.early===!0,stop:a.stop===!0,center:a.center===!0,color:a.color||r,keyCodes:[].concat(a.keyCodes||13)}}var Cg=a0({name:"ripple",beforeMount(e,t){const o=t.instance.$.appContext.config.globalProperties.$q.config||{};if(o.ripple===!1)return;const r={cfg:o,enabled:t.value!==!1,modifiers:{},abort:[],start(a){r.enabled===!0&&a.qSkipRipple!==!0&&a.type===(r.modifiers.early===!0?"pointerdown":"click")&&SO(a,e,r,a.qKeyEvent===!0)},keystart:GY(a=>{r.enabled===!0&&a.qSkipRipple!==!0&&En(a,r.modifiers.keyCodes)===!0&&a.type===`key${r.modifiers.early===!0?"down":"up"}`&&SO(a,e,r,!0)},300)};AO(r,t),e.__qripple=r,sr(r,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const o=e.__qripple;o!==void 0&&(o.enabled=t.value!==!1,o.enabled===!0&&Object(t.value)===t.value&&AO(o,t))}},beforeUnmount(e){const t=e.__qripple;t!==void 0&&(t.abort.forEach(o=>{o()}),Qi(t,"main"),delete e._qripple)}});const a8={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},WY=Object.keys(a8),r8={align:{type:String,validator:e=>WY.includes(e)}};function i8(e){return X(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${a8[t]}`})}function P1(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;for(;Object(t)===t;){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function n8(e,t){typeof t.type=="symbol"?Array.isArray(t.children)===!0&&t.children.forEach(o=>{n8(e,o)}):e.add(t)}function XY(e){const t=new Set;return e.forEach(o=>{n8(t,o)}),Array.from(t)}function Xx(e){return e.appContext.config.globalProperties.$router!==void 0}function xg(e){return e.isUnmounted===!0||e.isDeactivated===!0}function TO(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function OO(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function YY(e,t){for(const o in t){const r=t[o],a=e[o];if(typeof r=="string"){if(r!==a)return!1}else if(Array.isArray(a)===!1||a.length!==r.length||r.some((i,n)=>i!==a[n]))return!1}return!0}function DO(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((o,r)=>o===t[r]):e.length===1&&e[0]===t}function KY(e,t){return Array.isArray(e)===!0?DO(e,t):Array.isArray(t)===!0?DO(t,e):e===t}function QY(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(KY(e[o],t[o])===!1)return!1;return!0}const wg={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function s8({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const o=Ct(),{props:r,proxy:a,emit:i}=o,n=Xx(o),s=X(()=>r.disable!==!0&&r.href!==void 0),l=X(t===!0?()=>n===!0&&r.disable!==!0&&s.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!=="":()=>n===!0&&s.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!==""),u=X(()=>l.value===!0?_(r.to):null),c=X(()=>u.value!==null),d=X(()=>s.value===!0||c.value===!0),m=X(()=>r.type==="a"||d.value===!0?"a":r.tag||e||"div"),f=X(()=>s.value===!0?{href:r.href,target:r.target}:c.value===!0?{href:u.value.href,target:r.target}:{}),p=X(()=>{if(c.value===!1)return-1;const{matched:S}=u.value,{length:O}=S,F=S[O-1];if(F===void 0)return-1;const M=a.$route.matched;if(M.length===0)return-1;const E=M.findIndex(OO.bind(null,F));if(E>-1)return E;const D=TO(S[O-2]);return O>1&&TO(F)===D&&M[M.length-1].path!==D?M.findIndex(OO.bind(null,S[O-2])):E}),g=X(()=>c.value===!0&&p.value!==-1&&YY(a.$route.params,u.value.params)),b=X(()=>g.value===!0&&p.value===a.$route.matched.length-1&&QY(a.$route.params,u.value.params)),x=X(()=>c.value===!0?b.value===!0?` ${r.exactActiveClass} ${r.activeClass}`:r.exact===!0?"":g.value===!0?` ${r.activeClass}`:"":"");function _(S){try{return a.$router.resolve(S)}catch{}return null}function y(S,{returnRouterError:O,to:F=r.to,replace:M=r.replace}={}){if(r.disable===!0)return S.preventDefault(),Promise.resolve(!1);if(S.metaKey||S.altKey||S.ctrlKey||S.shiftKey||S.button!==void 0&&S.button!==0||r.target==="_blank")return Promise.resolve(!1);S.preventDefault();const E=a.$router[M===!0?"replace":"push"](F);return O===!0?E:E.then(()=>{}).catch(()=>{})}function I(S){if(c.value===!0){const O=F=>y(S,F);i("click",S,O),S.defaultPrevented!==!0&&O()}else i("click",S)}return{hasRouterLink:c,hasHrefLink:s,hasLink:d,linkTag:m,resolvedLink:u,linkIsActive:g,linkIsExactActive:b,linkClass:x,linkAttrs:f,getLink:_,navigateToRouterLink:y,navigateOnClick:I}}const pv={none:0,xs:4,sm:8,md:16,lg:24,xl:32},JY={xs:8,sm:10,md:14,lg:20,xl:24},ZY=["button","submit","reset"],eK=/[^\s]\/[^\s]/,l8=["flat","outline","push","unelevated"],Yx=(e,t)=>e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":t,v6e=e=>{const t=Yx(e);return t!==void 0?{[t]:!0}:{}},tK={...wc,...wg,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...l8.reduce((e,t)=>(e[t]=Boolean)&&e,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...r8.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function oK(e){const t=Ic(e,JY),o=i8(e),{hasRouterLink:r,hasLink:a,linkTag:i,linkAttrs:n,navigateOnClick:s}=s8({fallbackTag:"button"}),l=X(()=>{const b=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},b,{padding:e.padding.split(/\s+/).map(x=>x in pv?pv[x]+"px":x).join(" "),minWidth:"0",minHeight:"0"}):b}),u=X(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),c=X(()=>e.disable!==!0&&e.loading!==!0),d=X(()=>c.value===!0?e.tabindex||0:-1),m=X(()=>Yx(e,"standard")),f=X(()=>{const b={tabindex:d.value};return a.value===!0?Object.assign(b,n.value):ZY.includes(e.type)===!0&&(b.type=e.type),i.value==="a"?(e.disable===!0?b["aria-disabled"]="true":b.href===void 0&&(b.role="button"),r.value!==!0&&eK.test(e.type)===!0&&(b.type=e.type)):e.disable===!0&&(b.disabled="",b["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(b,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),b}),p=X(()=>{let b;e.color!==void 0?e.flat===!0||e.outline===!0?b=`text-${e.textColor||e.color}`:b=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(b=`text-${e.textColor}`);const x=e.round===!0?"round":`rectangle${u.value===!0?" q-btn--rounded":e.square===!0?" q-btn--square":""}`;return`q-btn--${m.value} q-btn--${x}`+(b!==void 0?" "+b:"")+(c.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")+(e.square?" q-btn--square":"")}),g=X(()=>o.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:p,style:l,innerClasses:g,attributes:f,hasLink:a,linkTag:i,navigateOnClick:s,isActionable:c}}const{passiveCapture:hn}=Pa;let Cd=null,xd=null,wd=null;var pe=At({name:"QBtn",props:{...tK,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:o}){const{proxy:r}=Ct(),{classes:a,style:i,innerClasses:n,attributes:s,hasLink:l,linkTag:u,navigateOnClick:c,isActionable:d}=oK(e),m=$e(null),f=$e(null);let p=null,g,b=null;const x=X(()=>e.label!==void 0&&e.label!==null&&e.label!==""),_=X(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:l.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),y=X(()=>({center:e.round})),I=X(()=>{const z=Math.max(0,Math.min(100,e.percentage));return z>0?{transition:"transform 0.6s",transform:`translateX(${z-100}%)`}:{}}),S=X(()=>{if(e.loading===!0)return{onMousedown:R,onTouchstart:R,onClick:R,onKeydown:R,onKeyup:R};if(d.value===!0){const z={onClick:F,onKeydown:M,onMousedown:D};if(r.$q.platform.has.touch===!0){const W=e.onTouchstart!==void 0?"":"Passive";z[`onTouchstart${W}`]=E}return z}return{onClick:bo}}),O=X(()=>({ref:m,class:"q-btn q-btn-item non-selectable no-outline "+a.value,style:i.value,...s.value,...S.value}));function F(z){if(m.value!==null){if(z!==void 0){if(z.defaultPrevented===!0)return;const W=document.activeElement;if(e.type==="submit"&&W!==document.body&&m.value.contains(W)===!1&&W.contains(m.value)===!1){m.value.focus();const j=()=>{document.removeEventListener("keydown",bo,!0),document.removeEventListener("keyup",j,hn),m.value!==null&&m.value.removeEventListener("blur",j,hn)};document.addEventListener("keydown",bo,!0),document.addEventListener("keyup",j,hn),m.value.addEventListener("blur",j,hn)}}c(z)}}function M(z){m.value!==null&&(o("keydown",z),En(z,[13,32])===!0&&xd!==m.value&&(xd!==null&&N(),z.defaultPrevented!==!0&&(m.value.focus(),xd=m.value,m.value.classList.add("q-btn--active"),document.addEventListener("keyup",P,!0),m.value.addEventListener("blur",P,hn)),bo(z)))}function E(z){m.value!==null&&(o("touchstart",z),z.defaultPrevented!==!0&&(Cd!==m.value&&(Cd!==null&&N(),Cd=m.value,p=z.target,p.addEventListener("touchcancel",P,hn),p.addEventListener("touchend",P,hn)),g=!0,b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,g=!1},200)))}function D(z){m.value!==null&&(z.qSkipRipple=g===!0,o("mousedown",z),z.defaultPrevented!==!0&&wd!==m.value&&(wd!==null&&N(),wd=m.value,m.value.classList.add("q-btn--active"),document.addEventListener("mouseup",P,hn)))}function P(z){if(m.value!==null&&!(z!==void 0&&z.type==="blur"&&document.activeElement===m.value)){if(z!==void 0&&z.type==="keyup"){if(xd===m.value&&En(z,[13,32])===!0){const W=new MouseEvent("click",z);W.qKeyEvent=!0,z.defaultPrevented===!0&&oi(W),z.cancelBubble===!0&&ti(W),m.value.dispatchEvent(W),bo(z),z.qKeyEvent=!0}o("keyup",z)}N()}}function N(z){const W=f.value;z!==!0&&(Cd===m.value||wd===m.value)&&W!==null&&W!==document.activeElement&&(W.setAttribute("tabindex",-1),W.focus()),Cd===m.value&&(p!==null&&(p.removeEventListener("touchcancel",P,hn),p.removeEventListener("touchend",P,hn)),Cd=p=null),wd===m.value&&(document.removeEventListener("mouseup",P,hn),wd=null),xd===m.value&&(document.removeEventListener("keyup",P,!0),m.value!==null&&m.value.removeEventListener("blur",P,hn),xd=null),m.value!==null&&m.value.classList.remove("q-btn--active")}function R(z){bo(z),z.qSkipRipple=!0}return wo(()=>{N(!0)}),Object.assign(r,{click:F}),()=>{let z=[];e.icon!==void 0&&z.push(ee(Ve,{name:e.icon,left:e.stack!==!0&&x.value===!0,role:"img","aria-hidden":"true"})),x.value===!0&&z.push(ee("span",{class:"block"},[e.label])),z=bi(t.default,z),e.iconRight!==void 0&&e.round===!1&&z.push(ee(Ve,{name:e.iconRight,right:e.stack!==!0&&x.value===!0,role:"img","aria-hidden":"true"}));const W=[ee("span",{class:"q-focus-helper",ref:f})];return e.loading===!0&&e.percentage!==void 0&&W.push(ee("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[ee("span",{class:"q-btn__progress-indicator fit block",style:I.value})])),W.push(ee("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+n.value},z)),e.loading!==null&&W.push(ee(wi,{name:"q-transition--fade"},()=>e.loading===!0?[ee("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[ee(tn)])]:null)),Te(ee(u.value,O.value,W),[[Cg,_.value,void 0,y.value]])}}});let aK=0;const M1={},N1={},Ln={},c8={},rK=/^\s*$/,u8=[],iK=[void 0,null,!0,!1,""],Kx=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],nK=["top-left","top-right","bottom-left","bottom-right"],Vd={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function d8(e,t,o){if(!e)return xm("parameter required");let r;const a={textColor:"white"};if(e.ignoreDefaults!==!0&&Object.assign(a,M1),Ar(e)===!1&&(a.type&&Object.assign(a,Vd[a.type]),e={message:e}),Object.assign(a,Vd[e.type||a.type],e),typeof a.icon=="function"&&(a.icon=a.icon(t)),a.spinner?(a.spinner===!0&&(a.spinner=tn),a.spinner=Lu(a.spinner)):a.spinner=!1,a.meta={hasMedia:Boolean(a.spinner!==!1||a.icon||a.avatar),hasText:PO(a.message)||PO(a.caption)},a.position){if(Kx.includes(a.position)===!1)return xm("wrong position",e)}else a.position="bottom";if(iK.includes(a.timeout)===!0)a.timeout=5e3;else{const l=Number(a.timeout);if(isNaN(l)||l<0)return xm("wrong timeout",e);a.timeout=Number.isFinite(l)?l:0}a.timeout===0?a.progress=!1:a.progress===!0&&(a.meta.progressClass="q-notification__progress"+(a.progressClass?` ${a.progressClass}`:""),a.meta.progressStyle={animationDuration:`${a.timeout+1e3}ms`});const i=(Array.isArray(e.actions)===!0?e.actions:[]).concat(e.ignoreDefaults!==!0&&Array.isArray(M1.actions)===!0?M1.actions:[]).concat(Vd[e.type]!==void 0&&Array.isArray(Vd[e.type].actions)===!0?Vd[e.type].actions:[]),{closeBtn:n}=a;if(n&&i.push({label:typeof n=="string"?n:t.lang.label.close}),a.actions=i.map(({handler:l,noDismiss:u,...c})=>({flat:!0,...c,onClick:typeof l=="function"?()=>{l(),u!==!0&&s()}:()=>{s()}})),a.multiLine===void 0&&(a.multiLine=a.actions.length>1),Object.assign(a.meta,{class:`q-notification row items-stretch q-notification--${a.multiLine===!0?"multi-line":"standard"}`+(a.color!==void 0?` bg-${a.color}`:"")+(a.textColor!==void 0?` text-${a.textColor}`:"")+(a.classes!==void 0?` ${a.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(a.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(a.multiLine===!0?"":" col"),leftClass:a.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...a.attrs}}),a.group===!1?(a.group=void 0,a.meta.group=void 0):((a.group===void 0||a.group===!0)&&(a.group=[a.message,a.caption,a.multiline].concat(a.actions.map(l=>`${l.label}*${l.icon}`)).join("|")),a.meta.group=a.group+"|"+a.position),a.actions.length===0?a.actions=void 0:a.meta.actionsClass="q-notification__actions row items-center "+(a.multiLine===!0?"justify-end":"col-auto")+(a.meta.hasMedia===!0?" q-notification__actions--with-media":""),o!==void 0){o.notif.meta.timer&&(clearTimeout(o.notif.meta.timer),o.notif.meta.timer=void 0),a.meta.uid=o.notif.meta.uid;const l=Ln[a.position].value.indexOf(o.notif);Ln[a.position].value[l]=a}else{const l=N1[a.meta.group];if(l===void 0){if(a.meta.uid=aK++,a.meta.badge=1,["left","right","center"].indexOf(a.position)!==-1)Ln[a.position].value.splice(Math.floor(Ln[a.position].value.length/2),0,a);else{const u=a.position.indexOf("top")>-1?"unshift":"push";Ln[a.position].value[u](a)}a.group!==void 0&&(N1[a.meta.group]=a)}else{if(l.meta.timer&&(clearTimeout(l.meta.timer),l.meta.timer=void 0),a.badgePosition!==void 0){if(nK.includes(a.badgePosition)===!1)return xm("wrong badgePosition",e)}else a.badgePosition=`top-${a.position.indexOf("left")>-1?"right":"left"}`;a.meta.uid=l.meta.uid,a.meta.badge=l.meta.badge+1,a.meta.badgeClass=`q-notification__badge q-notification__badge--${a.badgePosition}`+(a.badgeColor!==void 0?` bg-${a.badgeColor}`:"")+(a.badgeTextColor!==void 0?` text-${a.badgeTextColor}`:"")+(a.badgeClass?` ${a.badgeClass}`:"");const u=Ln[a.position].value.indexOf(l);Ln[a.position].value[u]=N1[a.meta.group]=a}}const s=()=>{sK(a),r=void 0};if(a.timeout>0&&(a.meta.timer=setTimeout(()=>{a.meta.timer=void 0,s()},a.timeout+1e3)),a.group!==void 0)return l=>{l!==void 0?xm("trying to update a grouped one which is forbidden",e):s()};if(r={dismiss:s,config:e,notif:a},o!==void 0){Object.assign(o,r);return}return l=>{if(r!==void 0)if(l===void 0)r.dismiss();else{const u=Object.assign({},r.config,l,{group:!1,position:a.position});d8(u,t,r)}}}function sK(e){e.meta.timer&&(clearTimeout(e.meta.timer),e.meta.timer=void 0);const t=Ln[e.position].value.indexOf(e);if(t!==-1){e.group!==void 0&&delete N1[e.meta.group];const o=u8[""+e.meta.uid];if(o){const{width:r,height:a}=getComputedStyle(o);o.style.left=`${o.offsetLeft}px`,o.style.width=r,o.style.height=a}Ln[e.position].value.splice(t,1),typeof e.onDismiss=="function"&&e.onDismiss()}}function PO(e){return e!=null&&rK.test(e)!==!0}function xm(e,t){return console.error(`Notify: ${e}`,t),!1}function lK(){return At({name:"QNotifications",devtools:{hide:!0},setup(){return()=>ee("div",{class:"q-notifications"},Kx.map(e=>ee(h4,{key:e,class:c8[e],tag:"div",name:`q-notification--${e}`},()=>Ln[e].value.map(t=>{const o=t.meta,r=[];if(o.hasMedia===!0&&(t.spinner!==!1?r.push(ee(t.spinner,{class:"q-notification__spinner q-notification__spinner--"+o.leftClass,color:t.spinnerColor,size:t.spinnerSize})):t.icon?r.push(ee(Ve,{class:"q-notification__icon q-notification__icon--"+o.leftClass,name:t.icon,color:t.iconColor,size:t.iconSize,role:"img"})):t.avatar&&r.push(ee(o8,{class:"q-notification__avatar q-notification__avatar--"+o.leftClass},()=>ee("img",{src:t.avatar,"aria-hidden":"true"})))),o.hasText===!0){let i;const n={class:"q-notification__message col"};if(t.html===!0)n.innerHTML=t.caption?`<div>${t.message}</div><div class="q-notification__caption">${t.caption}</div>`:t.message;else{const s=[t.message];i=t.caption?[ee("div",s),ee("div",{class:"q-notification__caption"},[t.caption])]:s}r.push(ee("div",n,i))}const a=[ee("div",{class:o.contentClass},r)];return t.progress===!0&&a.push(ee("div",{key:`${o.uid}|p|${o.badge}`,class:o.progressClass,style:o.progressStyle})),t.actions!==void 0&&a.push(ee("div",{class:o.actionsClass},t.actions.map(i=>ee(pe,i)))),o.badge>1&&a.push(ee("div",{key:`${o.uid}|${o.badge}`,class:t.meta.badgeClass,style:t.badgeStyle},[o.badge])),ee("div",{ref:i=>{u8[""+o.uid]=i},key:o.uid,class:o.class,...o.attrs},[ee("div",{class:o.wrapperClass},a)])}))))}})}var f8={setDefaults(e){Ar(e)===!0&&Object.assign(M1,e)},registerType(e,t){Ar(t)===!0&&(Vd[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create=o=>d8(o,e),e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,e.config.notify!==void 0&&this.setDefaults(e.config.notify),this.__installed!==!0){Kx.forEach(r=>{Ln[r]=$e([]);const a=["left","center","right"].includes(r)===!0?"center":r.indexOf("top")>-1?"top":"bottom",i=r.indexOf("left")>-1?"start":r.indexOf("right")>-1?"end":"center",n=["left","right"].includes(r)?`items-${r==="left"?"start":"end"} justify-center`:r==="center"?"flex-center":`items-${i}`;c8[r]=`q-notifications__list q-notifications__list--${a} fixed column no-wrap ${n}`});const o=yg("q-notify");ux(lK(),t).mount(o)}}};function cK(e,t={}){return t&&t.name&&["Alerta","ErroValidacao"].includes(t.name)&&(e=t.message),t&&Object.keys(t).length&&!["Alerta","ErroValidacao"].includes(t.name)?console.error("Mensagem ao usu\xE1rio:",e,`
`,t):console.error("Mensagem ao usu\xE1rio:",e),f8.create({message:e,type:t.name==="Alerta"?"warning":"negative"}),e}function Et(e){return typeof e=="number"&&isFinite(e)?e:null}function Rp(e){return e[0].toUpperCase()+e.slice(1)}function uK(e){return e[0].toLowerCase()+e.slice(1)}async function Ot(e,t,o,r={}){let a=!1;for(const i of t||[]){const n=o.find(l=>l.id===i.id);if(!n){await Z()[e].delete(i.id),await Je("remover",e,i.id),a=!0;continue}const s=r.mantemNull?li(i,n,{mantemNull:!0}):ra(i,n);Object.keys(s).length&&(await Z()[e].update(i.id,s),await Je("atualizar",e,i.id,s),a=!0)}for(const i of o||[])(t||[]).find(s=>s.id===i.id)||(i.id=i.id||Ft(),await Z()[e].put(i),await Je("adicionar",e,i.id,i),a=!0);return a}async function dK(e,t,o,r){const a=await Z()[e].where(t).equals(o).toArray();for(const i of a){const n=r.find(l=>l.id===i.id);if(!n){await Z()[e].delete(i.id),await Je("remover",e,i.id);continue}if(await Z()[e].update(i.id,n)){const l=ra(i,n);await Je("atualizar",e,i.id,l)}}for(const i of r)a.find(s=>s.id===i.id)||(i.id=Ft(),i[t]=o,await Z()[e].add(i),await Je("adicionar",e,i.id,i))}async function fK(e,t,o){const r="id"+Rp(e),a=Object.keys(o);for(const i of a){const n=e+Rp(i),s=o[i]||[],l=await Z()[n].where(r).equals(t).toArray();for(const u of l){const c=s.find(m=>m.id===u.id);if(!c){await Z()[n].delete(u.id),await Je("remover",n,u.id);continue}if(await Z()[n].update(u.id,c)){const m=ra(u,c);await Je("atualizar",n,u.id,m)}}for(const u of s)l.find(d=>d.id===u.id)||(u.id=Ft(),u[r]=t,await Z()[n].add(u),await Je("adicionar",n,u.id,u))}}function mK(e={}){var t;try{const o=e.itens,r={valorTotal:2,parcela:2,...(t=e.decimais)!=null?t:{}};let a,i,n=Number(e.saldo);a=o.reduce((s,l)=>s+l.valor,0),a=$utils.arredondar(a,r.valorTotal),o.sort((s,l)=>s.valor<l.valor?-1:1);for(const s of o){let l=n*s.valor/a;l=$utils.arredondar(l,r.parcela),n=$utils.arredondar(n-l,r.parcela),a=$utils.arredondar(a-s.valor,r.valorTotal),s.parcela=l}return o}catch(o){console.log(o)}}function ec(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function m8(e){return(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^ -}]|[<>"'@¨]/g," ").trim()}async function Je(e,t,o,r,a){var n,s;if(a=a==="plataforma"?Pt:a?Z(a):Z(),!e||!t||!o)throw new Error('Os campos "acao", "tabela" e "chave" s\xE3o obrigat\xF3rios.');typeof r!="object"&&(r={}),Tt.log("sincronismoEnviar",e,t,o,r);const i={id:Ft(),acao:e,tabela:t,chave:o,valor:r,dataHora:Qo(),idUsuario:je.usuario.logado.id,nomeUsuario:je.usuario.logado.nome};if($db.hibrido.get("mode")==="local"&&(await a.sincronismoFila.add(i),_o.status.tamanhoFila++),$db.hibrido.get("mode")==="remoto")try{const l=await $utils.geeksApi({uploadSincrono:{funcao:"7C9C23DA-2B32-4203-81D0-62FABBB9518C",dados:[{id:i.id,acao:i.acao,chave:i.chave,dataHora:i.dataHora,tabela:i.tabela,valor:JSON.stringify(i.valor),dispositivo:_o.obterIdDispositivo(),idUsuario:i.idUsuario,nomeUsuario:i.nomeUsuario}]}});if((n=l.data.uploadSincrono)!=null&&n.erro)throw new Error("GError:"+((s=l.data.uploadSincrono)==null?void 0:s.erro))}catch(l){console.error("erro upload s\xEDncrono: ",l),l.message.indexOf("GError:")===0&&$q.notifyError(l.message.slice(7)),await a.sincronismoFila.add(i),_o.status.tamanhoFila++}}function Qx(){let e="b15";try{const t=JSON.parse(localStorage.getItem("clienteSistema"));[37,23,42,40,52,53,57,58,63,68].includes(t.codigoSistema)&&(e="optisoul")}catch{e=""}return e}function pK(e,t){return e.reduce((o,r)=>o+r[t]||0,0)}function hK(e){return typeof e=="string"?e:typeof e=="number"&&isFinite(e)?String(e):""}function vK(e){return typeof e=="string"?e:typeof e=="number"&&isFinite(e)?String(e):null}function gK(e=""){return $utils.removerAcentos(e.replace(/\s+/g," ").trim().toLowerCase())}const p8=function(e,t,o=""){let r=[];for(let a=0,i=e.length;a<i;a++)r[e[a][t]||o]=!0;return Object.keys(r)};async function h8(){var o,r,a,i,n,s;const e=(r=JSON.parse((o=localStorage.getItem("clienteSistema"))!=null?o:null))!=null?r:{},t={};if(!!$db.usuario.logado.id&&e!=null&&e.idClienteSistema){const l=await Pt.clienteSistema.filter(u=>u.id===e.idClienteSistema).first();if(l!=null&&l.idCliente){const u=await Pt.contato.filter(c=>c.id===l.idCliente).first();return t.observacao=(i=(a=u==null?void 0:u.condutaObservacao)==null?void 0:a.trim())!=null?i:"",t.restricao=(s=(n=u==null?void 0:u.condutaRestricao)==null?void 0:n.trim())!=null?s:"",t}}}async function _K(){const e=await h8();!((e==null?void 0:e.observacao)||(e==null?void 0:e.restricao))||$utils.emitter.emit("exibirConduta",e)}var bK={exibir:_K,obter:h8};const Kh={cpfUsuario:null};async function yK(){var e,t,o;try{const r=$db.usuario.logado.cpf.replace(/\D/g,"");if(!r||(Kh==null?void 0:Kh.cpfUsuario)===r||$db.usuario.logado.administrador||$db.usuario.logado.grupoInterno!==0)return!1;await $db.usuario.verificaUsuarioClienteSistema(),Kh.cpfUsuario=r;const a=(t=(e=await $utils.geeksApi({nps:{funcao:"74CCD58F-3937-40AF-A235-452BC364E060",cpfUsuario:r}}))==null?void 0:e.data)==null?void 0:t.nps;return(a==null?void 0:a.length)>0?Number((o=a==null?void 0:a[0])==null?void 0:o.dias)>90:($db.nps.gravar({observacao:"1\xBA Login"}),!1)}catch(r){console.error(r)}return!1}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var v8;function ft(){return v8.apply(null,arguments)}function CK(e){v8=e}function os(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function bu(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Po(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Jx(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Po(e,t))return!1;return!0}function hi(e){return e===void 0}function cl(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function d0(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function g8(e,t){var o=[],r,a=e.length;for(r=0;r<a;++r)o.push(t(e[r],r));return o}function tc(e,t){for(var o in t)Po(t,o)&&(e[o]=t[o]);return Po(t,"toString")&&(e.toString=t.toString),Po(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ws(e,t,o,r){return L8(e,t,o,r,!0).utc()}function xK(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function so(e){return e._pf==null&&(e._pf=xK()),e._pf}var Uy;Array.prototype.some?Uy=Array.prototype.some:Uy=function(e){var t=Object(this),o=t.length>>>0,r;for(r=0;r<o;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Zx(e){var t=null,o=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=so(e),o=Uy.call(t.parsedDateParts,function(a){return a!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&o),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Ig(e){var t=ws(NaN);return e!=null?tc(so(t),e):so(t).userInvalidated=!0,t}var MO=ft.momentProperties=[],e2=!1;function ew(e,t){var o,r,a,i=MO.length;if(hi(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),hi(t._i)||(e._i=t._i),hi(t._f)||(e._f=t._f),hi(t._l)||(e._l=t._l),hi(t._strict)||(e._strict=t._strict),hi(t._tzm)||(e._tzm=t._tzm),hi(t._isUTC)||(e._isUTC=t._isUTC),hi(t._offset)||(e._offset=t._offset),hi(t._pf)||(e._pf=so(t)),hi(t._locale)||(e._locale=t._locale),i>0)for(o=0;o<i;o++)r=MO[o],a=t[r],hi(a)||(e[r]=a);return e}function f0(e){ew(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),e2===!1&&(e2=!0,ft.updateOffset(this),e2=!1)}function as(e){return e instanceof f0||e!=null&&e._isAMomentObject!=null}function _8(e){ft.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function On(e,t){var o=!0;return tc(function(){if(ft.deprecationHandler!=null&&ft.deprecationHandler(null,e),o){var r=[],a,i,n,s=arguments.length;for(i=0;i<s;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(n in arguments[0])Po(arguments[0],n)&&(a+=n+": "+arguments[0][n]+", ");a=a.slice(0,-2)}else a=arguments[i];r.push(a)}_8(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),o=!1}return t.apply(this,arguments)},t)}var NO={};function b8(e,t){ft.deprecationHandler!=null&&ft.deprecationHandler(e,t),NO[e]||(_8(t),NO[e]=!0)}ft.suppressDeprecationWarnings=!1;ft.deprecationHandler=null;function Is(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function wK(e){var t,o;for(o in e)Po(e,o)&&(t=e[o],Is(t)?this[o]=t:this["_"+o]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function zy(e,t){var o=tc({},e),r;for(r in t)Po(t,r)&&(bu(e[r])&&bu(t[r])?(o[r]={},tc(o[r],e[r]),tc(o[r],t[r])):t[r]!=null?o[r]=t[r]:delete o[r]);for(r in e)Po(e,r)&&!Po(t,r)&&bu(e[r])&&(o[r]=tc({},o[r]));return o}function tw(e){e!=null&&this.set(e)}var Hy;Object.keys?Hy=Object.keys:Hy=function(e){var t,o=[];for(t in e)Po(e,t)&&o.push(t);return o};var IK={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function EK(e,t,o){var r=this._calendar[e]||this._calendar.sameElse;return Is(r)?r.call(t,o):r}function Cs(e,t,o){var r=""+Math.abs(e),a=t-r.length,i=e>=0;return(i?o?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var ow=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,t2={},tf={};function Nt(e,t,o,r){var a=r;typeof r=="string"&&(a=function(){return this[r]()}),e&&(tf[e]=a),t&&(tf[t[0]]=function(){return Cs(a.apply(this,arguments),t[1],t[2])}),o&&(tf[o]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function SK(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function AK(e){var t=e.match(ow),o,r;for(o=0,r=t.length;o<r;o++)tf[t[o]]?t[o]=tf[t[o]]:t[o]=SK(t[o]);return function(a){var i="",n;for(n=0;n<r;n++)i+=Is(t[n])?t[n].call(a,e):t[n];return i}}function F1(e,t){return e.isValid()?(t=y8(t,e.localeData()),t2[t]=t2[t]||AK(t),t2[t](e)):e.localeData().invalidDate()}function y8(e,t){var o=5;function r(a){return t.longDateFormat(a)||a}for(Qh.lastIndex=0;o>=0&&Qh.test(e);)e=e.replace(Qh,r),Qh.lastIndex=0,o-=1;return e}var TK={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function OK(e){var t=this._longDateFormat[e],o=this._longDateFormat[e.toUpperCase()];return t||!o?t:(this._longDateFormat[e]=o.match(ow).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var DK="Invalid date";function PK(){return this._invalidDate}var MK="%d",NK=/\d{1,2}/;function FK(e){return this._ordinal.replace("%d",e)}var RK={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function kK(e,t,o,r){var a=this._relativeTime[o];return Is(a)?a(e,t,o,r):a.replace(/%d/i,e)}function VK(e,t){var o=this._relativeTime[e>0?"future":"past"];return Is(o)?o(t):o.replace(/%s/i,t)}var FO={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Dn(e){return typeof e=="string"?FO[e]||FO[e.toLowerCase()]:void 0}function aw(e){var t={},o,r;for(r in e)Po(e,r)&&(o=Dn(r),o&&(t[o]=e[r]));return t}var qK={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function BK(e){var t=[],o;for(o in e)Po(e,o)&&t.push({unit:o,priority:qK[o]});return t.sort(function(r,a){return r.priority-a.priority}),t}var C8=/\d/,an=/\d\d/,x8=/\d{3}/,rw=/\d{4}/,Eg=/[+-]?\d{6}/,ma=/\d\d?/,w8=/\d\d\d\d?/,I8=/\d\d\d\d\d\d?/,Sg=/\d{1,3}/,iw=/\d{1,4}/,Ag=/[+-]?\d{1,6}/,$f=/\d+/,Tg=/[+-]?\d+/,LK=/Z|[+-]\d\d:?\d\d/gi,Og=/Z|[+-]\d\d(?::?\d\d)?/gi,$K=/[+-]?\d+(\.\d{1,3})?/,m0=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Uf=/^[1-9]\d?/,nw=/^([1-9]\d|\d)/,hv;hv={};function _t(e,t,o){hv[e]=Is(t)?t:function(r,a){return r&&o?o:t}}function UK(e,t){return Po(hv,e)?hv[e](t._strict,t._locale):new RegExp(zK(e))}function zK(e){return rl(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,o,r,a,i){return o||r||a||i}))}function rl(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _n(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function yo(e){var t=+e,o=0;return t!==0&&isFinite(t)&&(o=_n(t)),o}var jy={};function Zo(e,t){var o,r=t,a;for(typeof e=="string"&&(e=[e]),cl(t)&&(r=function(i,n){n[t]=yo(i)}),a=e.length,o=0;o<a;o++)jy[e[o]]=r}function p0(e,t){Zo(e,function(o,r,a,i){a._w=a._w||{},t(o,a._w,a,i)})}function HK(e,t,o){t!=null&&Po(jy,e)&&jy[e](t,o._a,o,e)}function Dg(e){return e%4===0&&e%100!==0||e%400===0}var jr=0,Ks=1,hs=2,cr=3,Wn=4,Qs=5,su=6,jK=7,GK=8;Nt("Y",0,0,function(){var e=this.year();return e<=9999?Cs(e,4):"+"+e});Nt(0,["YY",2],0,function(){return this.year()%100});Nt(0,["YYYY",4],0,"year");Nt(0,["YYYYY",5],0,"year");Nt(0,["YYYYYY",6,!0],0,"year");_t("Y",Tg);_t("YY",ma,an);_t("YYYY",iw,rw);_t("YYYYY",Ag,Eg);_t("YYYYYY",Ag,Eg);Zo(["YYYYY","YYYYYY"],jr);Zo("YYYY",function(e,t){t[jr]=e.length===2?ft.parseTwoDigitYear(e):yo(e)});Zo("YY",function(e,t){t[jr]=ft.parseTwoDigitYear(e)});Zo("Y",function(e,t){t[jr]=parseInt(e,10)});function sp(e){return Dg(e)?366:365}ft.parseTwoDigitYear=function(e){return yo(e)+(yo(e)>68?1900:2e3)};var E8=zf("FullYear",!0);function WK(){return Dg(this.year())}function zf(e,t){return function(o){return o!=null?(S8(this,e,o),ft.updateOffset(this,t),this):kp(this,e)}}function kp(e,t){if(!e.isValid())return NaN;var o=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?o.getUTCMilliseconds():o.getMilliseconds();case"Seconds":return r?o.getUTCSeconds():o.getSeconds();case"Minutes":return r?o.getUTCMinutes():o.getMinutes();case"Hours":return r?o.getUTCHours():o.getHours();case"Date":return r?o.getUTCDate():o.getDate();case"Day":return r?o.getUTCDay():o.getDay();case"Month":return r?o.getUTCMonth():o.getMonth();case"FullYear":return r?o.getUTCFullYear():o.getFullYear();default:return NaN}}function S8(e,t,o){var r,a,i,n,s;if(!(!e.isValid()||isNaN(o))){switch(r=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?r.setUTCMilliseconds(o):r.setMilliseconds(o));case"Seconds":return void(a?r.setUTCSeconds(o):r.setSeconds(o));case"Minutes":return void(a?r.setUTCMinutes(o):r.setMinutes(o));case"Hours":return void(a?r.setUTCHours(o):r.setHours(o));case"Date":return void(a?r.setUTCDate(o):r.setDate(o));case"FullYear":break;default:return}i=o,n=e.month(),s=e.date(),s=s===29&&n===1&&!Dg(i)?28:s,a?r.setUTCFullYear(i,n,s):r.setFullYear(i,n,s)}}function XK(e){return e=Dn(e),Is(this[e])?this[e]():this}function YK(e,t){if(typeof e=="object"){e=aw(e);var o=BK(e),r,a=o.length;for(r=0;r<a;r++)this[o[r].unit](e[o[r].unit])}else if(e=Dn(e),Is(this[e]))return this[e](t);return this}function KK(e,t){return(e%t+t)%t}var ka;Array.prototype.indexOf?ka=Array.prototype.indexOf:ka=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function sw(e,t){if(isNaN(e)||isNaN(t))return NaN;var o=KK(t,12);return e+=(t-o)/12,o===1?Dg(e)?29:28:31-o%7%2}Nt("M",["MM",2],"Mo",function(){return this.month()+1});Nt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Nt("MMMM",0,0,function(e){return this.localeData().months(this,e)});_t("M",ma,Uf);_t("MM",ma,an);_t("MMM",function(e,t){return t.monthsShortRegex(e)});_t("MMMM",function(e,t){return t.monthsRegex(e)});Zo(["M","MM"],function(e,t){t[Ks]=yo(e)-1});Zo(["MMM","MMMM"],function(e,t,o,r){var a=o._locale.monthsParse(e,r,o._strict);a!=null?t[Ks]=a:so(o).invalidMonth=e});var QK="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),A8="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),T8=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,JK=m0,ZK=m0;function eQ(e,t){return e?os(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||T8).test(t)?"format":"standalone"][e.month()]:os(this._months)?this._months:this._months.standalone}function tQ(e,t){return e?os(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[T8.test(t)?"format":"standalone"][e.month()]:os(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function oQ(e,t,o){var r,a,i,n=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=ws([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return o?t==="MMM"?(a=ka.call(this._shortMonthsParse,n),a!==-1?a:null):(a=ka.call(this._longMonthsParse,n),a!==-1?a:null):t==="MMM"?(a=ka.call(this._shortMonthsParse,n),a!==-1?a:(a=ka.call(this._longMonthsParse,n),a!==-1?a:null)):(a=ka.call(this._longMonthsParse,n),a!==-1?a:(a=ka.call(this._shortMonthsParse,n),a!==-1?a:null))}function aQ(e,t,o){var r,a,i;if(this._monthsParseExact)return oQ.call(this,e,t,o);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=ws([2e3,r]),o&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!o&&!this._monthsParse[r]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),o&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(o&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!o&&this._monthsParse[r].test(e))return r}}function O8(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=yo(t);else if(t=e.localeData().monthsParse(t),!cl(t))return e}var o=t,r=e.date();return r=r<29?r:Math.min(r,sw(e.year(),o)),e._isUTC?e._d.setUTCMonth(o,r):e._d.setMonth(o,r),e}function D8(e){return e!=null?(O8(this,e),ft.updateOffset(this,!0),this):kp(this,"Month")}function rQ(){return sw(this.year(),this.month())}function iQ(e){return this._monthsParseExact?(Po(this,"_monthsRegex")||P8.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Po(this,"_monthsShortRegex")||(this._monthsShortRegex=JK),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function nQ(e){return this._monthsParseExact?(Po(this,"_monthsRegex")||P8.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Po(this,"_monthsRegex")||(this._monthsRegex=ZK),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function P8(){function e(l,u){return u.length-l.length}var t=[],o=[],r=[],a,i,n,s;for(a=0;a<12;a++)i=ws([2e3,a]),n=rl(this.monthsShort(i,"")),s=rl(this.months(i,"")),t.push(n),o.push(s),r.push(s),r.push(n);t.sort(e),o.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function sQ(e,t,o,r,a,i,n){var s;return e<100&&e>=0?(s=new Date(e+400,t,o,r,a,i,n),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,o,r,a,i,n),s}function Vp(e){var t,o;return e<100&&e>=0?(o=Array.prototype.slice.call(arguments),o[0]=e+400,t=new Date(Date.UTC.apply(null,o)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function vv(e,t,o){var r=7+t-o,a=(7+Vp(e,0,r).getUTCDay()-t)%7;return-a+r-1}function M8(e,t,o,r,a){var i=(7+o-r)%7,n=vv(e,r,a),s=1+7*(t-1)+i+n,l,u;return s<=0?(l=e-1,u=sp(l)+s):s>sp(e)?(l=e+1,u=s-sp(e)):(l=e,u=s),{year:l,dayOfYear:u}}function qp(e,t,o){var r=vv(e.year(),t,o),a=Math.floor((e.dayOfYear()-r-1)/7)+1,i,n;return a<1?(n=e.year()-1,i=a+il(n,t,o)):a>il(e.year(),t,o)?(i=a-il(e.year(),t,o),n=e.year()+1):(n=e.year(),i=a),{week:i,year:n}}function il(e,t,o){var r=vv(e,t,o),a=vv(e+1,t,o);return(sp(e)-r+a)/7}Nt("w",["ww",2],"wo","week");Nt("W",["WW",2],"Wo","isoWeek");_t("w",ma,Uf);_t("ww",ma,an);_t("W",ma,Uf);_t("WW",ma,an);p0(["w","ww","W","WW"],function(e,t,o,r){t[r.substr(0,1)]=yo(e)});function lQ(e){return qp(e,this._week.dow,this._week.doy).week}var cQ={dow:0,doy:6};function uQ(){return this._week.dow}function dQ(){return this._week.doy}function fQ(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function mQ(e){var t=qp(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Nt("d",0,"do","day");Nt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Nt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Nt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Nt("e",0,0,"weekday");Nt("E",0,0,"isoWeekday");_t("d",ma);_t("e",ma);_t("E",ma);_t("dd",function(e,t){return t.weekdaysMinRegex(e)});_t("ddd",function(e,t){return t.weekdaysShortRegex(e)});_t("dddd",function(e,t){return t.weekdaysRegex(e)});p0(["dd","ddd","dddd"],function(e,t,o,r){var a=o._locale.weekdaysParse(e,r,o._strict);a!=null?t.d=a:so(o).invalidWeekday=e});p0(["d","e","E"],function(e,t,o,r){t[r]=yo(e)});function pQ(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function hQ(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function lw(e,t){return e.slice(t,7).concat(e.slice(0,t))}var vQ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),N8="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gQ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_Q=m0,bQ=m0,yQ=m0;function CQ(e,t){var o=os(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?lw(o,this._week.dow):e?o[e.day()]:o}function xQ(e){return e===!0?lw(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function wQ(e){return e===!0?lw(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function IQ(e,t,o){var r,a,i,n=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=ws([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return o?t==="dddd"?(a=ka.call(this._weekdaysParse,n),a!==-1?a:null):t==="ddd"?(a=ka.call(this._shortWeekdaysParse,n),a!==-1?a:null):(a=ka.call(this._minWeekdaysParse,n),a!==-1?a:null):t==="dddd"?(a=ka.call(this._weekdaysParse,n),a!==-1||(a=ka.call(this._shortWeekdaysParse,n),a!==-1)?a:(a=ka.call(this._minWeekdaysParse,n),a!==-1?a:null)):t==="ddd"?(a=ka.call(this._shortWeekdaysParse,n),a!==-1||(a=ka.call(this._weekdaysParse,n),a!==-1)?a:(a=ka.call(this._minWeekdaysParse,n),a!==-1?a:null)):(a=ka.call(this._minWeekdaysParse,n),a!==-1||(a=ka.call(this._weekdaysParse,n),a!==-1)?a:(a=ka.call(this._shortWeekdaysParse,n),a!==-1?a:null))}function EQ(e,t,o){var r,a,i;if(this._weekdaysParseExact)return IQ.call(this,e,t,o);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=ws([2e3,1]).day(r),o&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),o&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(o&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(o&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!o&&this._weekdaysParse[r].test(e))return r}}function SQ(e){if(!this.isValid())return e!=null?this:NaN;var t=kp(this,"Day");return e!=null?(e=pQ(e,this.localeData()),this.add(e-t,"d")):t}function AQ(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function TQ(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=hQ(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function OQ(e){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||cw.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Po(this,"_weekdaysRegex")||(this._weekdaysRegex=_Q),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function DQ(e){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||cw.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Po(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bQ),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function PQ(e){return this._weekdaysParseExact?(Po(this,"_weekdaysRegex")||cw.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Po(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yQ),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function cw(){function e(c,d){return d.length-c.length}var t=[],o=[],r=[],a=[],i,n,s,l,u;for(i=0;i<7;i++)n=ws([2e3,1]).day(i),s=rl(this.weekdaysMin(n,"")),l=rl(this.weekdaysShort(n,"")),u=rl(this.weekdays(n,"")),t.push(s),o.push(l),r.push(u),a.push(s),a.push(l),a.push(u);t.sort(e),o.sort(e),r.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function uw(){return this.hours()%12||12}function MQ(){return this.hours()||24}Nt("H",["HH",2],0,"hour");Nt("h",["hh",2],0,uw);Nt("k",["kk",2],0,MQ);Nt("hmm",0,0,function(){return""+uw.apply(this)+Cs(this.minutes(),2)});Nt("hmmss",0,0,function(){return""+uw.apply(this)+Cs(this.minutes(),2)+Cs(this.seconds(),2)});Nt("Hmm",0,0,function(){return""+this.hours()+Cs(this.minutes(),2)});Nt("Hmmss",0,0,function(){return""+this.hours()+Cs(this.minutes(),2)+Cs(this.seconds(),2)});function F8(e,t){Nt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}F8("a",!0);F8("A",!1);function R8(e,t){return t._meridiemParse}_t("a",R8);_t("A",R8);_t("H",ma,nw);_t("h",ma,Uf);_t("k",ma,Uf);_t("HH",ma,an);_t("hh",ma,an);_t("kk",ma,an);_t("hmm",w8);_t("hmmss",I8);_t("Hmm",w8);_t("Hmmss",I8);Zo(["H","HH"],cr);Zo(["k","kk"],function(e,t,o){var r=yo(e);t[cr]=r===24?0:r});Zo(["a","A"],function(e,t,o){o._isPm=o._locale.isPM(e),o._meridiem=e});Zo(["h","hh"],function(e,t,o){t[cr]=yo(e),so(o).bigHour=!0});Zo("hmm",function(e,t,o){var r=e.length-2;t[cr]=yo(e.substr(0,r)),t[Wn]=yo(e.substr(r)),so(o).bigHour=!0});Zo("hmmss",function(e,t,o){var r=e.length-4,a=e.length-2;t[cr]=yo(e.substr(0,r)),t[Wn]=yo(e.substr(r,2)),t[Qs]=yo(e.substr(a)),so(o).bigHour=!0});Zo("Hmm",function(e,t,o){var r=e.length-2;t[cr]=yo(e.substr(0,r)),t[Wn]=yo(e.substr(r))});Zo("Hmmss",function(e,t,o){var r=e.length-4,a=e.length-2;t[cr]=yo(e.substr(0,r)),t[Wn]=yo(e.substr(r,2)),t[Qs]=yo(e.substr(a))});function NQ(e){return(e+"").toLowerCase().charAt(0)==="p"}var FQ=/[ap]\.?m?\.?/i,RQ=zf("Hours",!0);function kQ(e,t,o){return e>11?o?"pm":"PM":o?"am":"AM"}var k8={calendar:IK,longDateFormat:TK,invalidDate:DK,ordinal:MK,dayOfMonthOrdinalParse:NK,relativeTime:RK,months:QK,monthsShort:A8,week:cQ,weekdays:vQ,weekdaysMin:gQ,weekdaysShort:N8,meridiemParse:FQ},_a={},wm={},Bp;function VQ(e,t){var o,r=Math.min(e.length,t.length);for(o=0;o<r;o+=1)if(e[o]!==t[o])return o;return r}function RO(e){return e&&e.toLowerCase().replace("_","-")}function qQ(e){for(var t=0,o,r,a,i;t<e.length;){for(i=RO(e[t]).split("-"),o=i.length,r=RO(e[t+1]),r=r?r.split("-"):null;o>0;){if(a=Pg(i.slice(0,o).join("-")),a)return a;if(r&&r.length>=o&&VQ(i,r)>=o-1)break;o--}t++}return Bp}function BQ(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Pg(e){var t=null,o;if(_a[e]===void 0&&typeof module!="undefined"&&module&&module.exports&&BQ(e))try{t=Bp._abbr,o=require,o("./locale/"+e),nc(t)}catch{_a[e]=null}return _a[e]}function nc(e,t){var o;return e&&(hi(t)?o=pl(e):o=dw(e,t),o?Bp=o:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Bp._abbr}function dw(e,t){if(t!==null){var o,r=k8;if(t.abbr=e,_a[e]!=null)b8("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=_a[e]._config;else if(t.parentLocale!=null)if(_a[t.parentLocale]!=null)r=_a[t.parentLocale]._config;else if(o=Pg(t.parentLocale),o!=null)r=o._config;else return wm[t.parentLocale]||(wm[t.parentLocale]=[]),wm[t.parentLocale].push({name:e,config:t}),null;return _a[e]=new tw(zy(r,t)),wm[e]&&wm[e].forEach(function(a){dw(a.name,a.config)}),nc(e),_a[e]}else return delete _a[e],null}function LQ(e,t){if(t!=null){var o,r,a=k8;_a[e]!=null&&_a[e].parentLocale!=null?_a[e].set(zy(_a[e]._config,t)):(r=Pg(e),r!=null&&(a=r._config),t=zy(a,t),r==null&&(t.abbr=e),o=new tw(t),o.parentLocale=_a[e],_a[e]=o),nc(e)}else _a[e]!=null&&(_a[e].parentLocale!=null?(_a[e]=_a[e].parentLocale,e===nc()&&nc(e)):_a[e]!=null&&delete _a[e]);return _a[e]}function pl(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Bp;if(!os(e)){if(t=Pg(e),t)return t;e=[e]}return qQ(e)}function $Q(){return Hy(_a)}function fw(e){var t,o=e._a;return o&&so(e).overflow===-2&&(t=o[Ks]<0||o[Ks]>11?Ks:o[hs]<1||o[hs]>sw(o[jr],o[Ks])?hs:o[cr]<0||o[cr]>24||o[cr]===24&&(o[Wn]!==0||o[Qs]!==0||o[su]!==0)?cr:o[Wn]<0||o[Wn]>59?Wn:o[Qs]<0||o[Qs]>59?Qs:o[su]<0||o[su]>999?su:-1,so(e)._overflowDayOfYear&&(t<jr||t>hs)&&(t=hs),so(e)._overflowWeeks&&t===-1&&(t=jK),so(e)._overflowWeekday&&t===-1&&(t=GK),so(e).overflow=t),e}var UQ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zQ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,HQ=/Z|[+-]\d\d(?::?\d\d)?/,Jh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],o2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jQ=/^\/?Date\((-?\d+)/i,GQ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,WQ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function V8(e){var t,o,r=e._i,a=UQ.exec(r)||zQ.exec(r),i,n,s,l,u=Jh.length,c=o2.length;if(a){for(so(e).iso=!0,t=0,o=u;t<o;t++)if(Jh[t][1].exec(a[1])){n=Jh[t][0],i=Jh[t][2]!==!1;break}if(n==null){e._isValid=!1;return}if(a[3]){for(t=0,o=c;t<o;t++)if(o2[t][1].exec(a[3])){s=(a[2]||" ")+o2[t][0];break}if(s==null){e._isValid=!1;return}}if(!i&&s!=null){e._isValid=!1;return}if(a[4])if(HQ.exec(a[4]))l="Z";else{e._isValid=!1;return}e._f=n+(s||"")+(l||""),pw(e)}else e._isValid=!1}function XQ(e,t,o,r,a,i){var n=[YQ(e),A8.indexOf(t),parseInt(o,10),parseInt(r,10),parseInt(a,10)];return i&&n.push(parseInt(i,10)),n}function YQ(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function KQ(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function QQ(e,t,o){if(e){var r=N8.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a)return so(o).weekdayMismatch=!0,o._isValid=!1,!1}return!0}function JQ(e,t,o){if(e)return WQ[e];if(t)return 0;var r=parseInt(o,10),a=r%100,i=(r-a)/100;return i*60+a}function q8(e){var t=GQ.exec(KQ(e._i)),o;if(t){if(o=XQ(t[4],t[3],t[2],t[5],t[6],t[7]),!QQ(t[1],o,e))return;e._a=o,e._tzm=JQ(t[8],t[9],t[10]),e._d=Vp.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),so(e).rfc2822=!0}else e._isValid=!1}function ZQ(e){var t=jQ.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(V8(e),e._isValid===!1)delete e._isValid;else return;if(q8(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ft.createFromInputFallback(e)}ft.createFromInputFallback=On("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function qd(e,t,o){return e!=null?e:t!=null?t:o}function eJ(e){var t=new Date(ft.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function mw(e){var t,o,r=[],a,i,n;if(!e._d){for(a=eJ(e),e._w&&e._a[hs]==null&&e._a[Ks]==null&&tJ(e),e._dayOfYear!=null&&(n=qd(e._a[jr],a[jr]),(e._dayOfYear>sp(n)||e._dayOfYear===0)&&(so(e)._overflowDayOfYear=!0),o=Vp(n,0,e._dayOfYear),e._a[Ks]=o.getUTCMonth(),e._a[hs]=o.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=a[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[cr]===24&&e._a[Wn]===0&&e._a[Qs]===0&&e._a[su]===0&&(e._nextDay=!0,e._a[cr]=0),e._d=(e._useUTC?Vp:sQ).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[cr]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==i&&(so(e).weekdayMismatch=!0)}}function tJ(e){var t,o,r,a,i,n,s,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,n=4,o=qd(t.GG,e._a[jr],qp(fa(),1,4).year),r=qd(t.W,1),a=qd(t.E,1),(a<1||a>7)&&(l=!0)):(i=e._locale._week.dow,n=e._locale._week.doy,u=qp(fa(),i,n),o=qd(t.gg,e._a[jr],u.year),r=qd(t.w,u.week),t.d!=null?(a=t.d,(a<0||a>6)&&(l=!0)):t.e!=null?(a=t.e+i,(t.e<0||t.e>6)&&(l=!0)):a=i),r<1||r>il(o,i,n)?so(e)._overflowWeeks=!0:l!=null?so(e)._overflowWeekday=!0:(s=M8(o,r,a,i,n),e._a[jr]=s.year,e._dayOfYear=s.dayOfYear)}ft.ISO_8601=function(){};ft.RFC_2822=function(){};function pw(e){if(e._f===ft.ISO_8601){V8(e);return}if(e._f===ft.RFC_2822){q8(e);return}e._a=[],so(e).empty=!0;var t=""+e._i,o,r,a,i,n,s=t.length,l=0,u,c;for(a=y8(e._f,e._locale).match(ow)||[],c=a.length,o=0;o<c;o++)i=a[o],r=(t.match(UK(i,e))||[])[0],r&&(n=t.substr(0,t.indexOf(r)),n.length>0&&so(e).unusedInput.push(n),t=t.slice(t.indexOf(r)+r.length),l+=r.length),tf[i]?(r?so(e).empty=!1:so(e).unusedTokens.push(i),HK(i,r,e)):e._strict&&!r&&so(e).unusedTokens.push(i);so(e).charsLeftOver=s-l,t.length>0&&so(e).unusedInput.push(t),e._a[cr]<=12&&so(e).bigHour===!0&&e._a[cr]>0&&(so(e).bigHour=void 0),so(e).parsedDateParts=e._a.slice(0),so(e).meridiem=e._meridiem,e._a[cr]=oJ(e._locale,e._a[cr],e._meridiem),u=so(e).era,u!==null&&(e._a[jr]=e._locale.erasConvertYear(u,e._a[jr])),mw(e),fw(e)}function oJ(e,t,o){var r;return o==null?t:e.meridiemHour!=null?e.meridiemHour(t,o):(e.isPM!=null&&(r=e.isPM(o),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function aJ(e){var t,o,r,a,i,n,s=!1,l=e._f.length;if(l===0){so(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<l;a++)i=0,n=!1,t=ew({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],pw(t),Zx(t)&&(n=!0),i+=so(t).charsLeftOver,i+=so(t).unusedTokens.length*10,so(t).score=i,s?i<r&&(r=i,o=t):(r==null||i<r||n)&&(r=i,o=t,n&&(s=!0));tc(e,o||t)}function rJ(e){if(!e._d){var t=aw(e._i),o=t.day===void 0?t.date:t.day;e._a=g8([t.year,t.month,o,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),mw(e)}}function iJ(e){var t=new f0(fw(B8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function B8(e){var t=e._i,o=e._f;return e._locale=e._locale||pl(e._l),t===null||o===void 0&&t===""?Ig({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),as(t)?new f0(fw(t)):(d0(t)?e._d=t:os(o)?aJ(e):o?pw(e):nJ(e),Zx(e)||(e._d=null),e))}function nJ(e){var t=e._i;hi(t)?e._d=new Date(ft.now()):d0(t)?e._d=new Date(t.valueOf()):typeof t=="string"?ZQ(e):os(t)?(e._a=g8(t.slice(0),function(o){return parseInt(o,10)}),mw(e)):bu(t)?rJ(e):cl(t)?e._d=new Date(t):ft.createFromInputFallback(e)}function L8(e,t,o,r,a){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(o===!0||o===!1)&&(r=o,o=void 0),(bu(e)&&Jx(e)||os(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=o,i._i=e,i._f=t,i._strict=r,iJ(i)}function fa(e,t,o,r){return L8(e,t,o,r,!1)}var sJ=On("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=fa.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ig()}),lJ=On("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=fa.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ig()});function $8(e,t){var o,r;if(t.length===1&&os(t[0])&&(t=t[0]),!t.length)return fa();for(o=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](o))&&(o=t[r]);return o}function cJ(){var e=[].slice.call(arguments,0);return $8("isBefore",e)}function uJ(){var e=[].slice.call(arguments,0);return $8("isAfter",e)}var dJ=function(){return Date.now?Date.now():+new Date},Im=["year","quarter","month","week","day","hour","minute","second","millisecond"];function fJ(e){var t,o=!1,r,a=Im.length;for(t in e)if(Po(e,t)&&!(ka.call(Im,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<a;++r)if(e[Im[r]]){if(o)return!1;parseFloat(e[Im[r]])!==yo(e[Im[r]])&&(o=!0)}return!0}function mJ(){return this._isValid}function pJ(){return is(NaN)}function Mg(e){var t=aw(e),o=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,n=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=fJ(t),this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60,this._days=+n+i*7,this._months=+a+r*3+o*12,this._data={},this._locale=pl(),this._bubble()}function R1(e){return e instanceof Mg}function Gy(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function hJ(e,t,o){var r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,n;for(n=0;n<r;n++)(o&&e[n]!==t[n]||!o&&yo(e[n])!==yo(t[n]))&&i++;return i+a}function U8(e,t){Nt(e,0,0,function(){var o=this.utcOffset(),r="+";return o<0&&(o=-o,r="-"),r+Cs(~~(o/60),2)+t+Cs(~~o%60,2)})}U8("Z",":");U8("ZZ","");_t("Z",Og);_t("ZZ",Og);Zo(["Z","ZZ"],function(e,t,o){o._useUTC=!0,o._tzm=hw(Og,e)});var vJ=/([\+\-]|\d\d)/gi;function hw(e,t){var o=(t||"").match(e),r,a,i;return o===null?null:(r=o[o.length-1]||[],a=(r+"").match(vJ)||["-",0,0],i=+(a[1]*60)+yo(a[2]),i===0?0:a[0]==="+"?i:-i)}function vw(e,t){var o,r;return t._isUTC?(o=t.clone(),r=(as(e)||d0(e)?e.valueOf():fa(e).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+r),ft.updateOffset(o,!1),o):fa(e).local()}function Wy(e){return-Math.round(e._d.getTimezoneOffset())}ft.updateOffset=function(){};function gJ(e,t,o){var r=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=hw(Og,e),e===null)return this}else Math.abs(e)<16&&!o&&(e=e*60);return!this._isUTC&&t&&(a=Wy(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),r!==e&&(!t||this._changeInProgress?j8(this,is(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ft.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Wy(this)}function _J(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function bJ(e){return this.utcOffset(0,e)}function yJ(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wy(this),"m")),this}function CJ(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=hw(LK,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xJ(e){return this.isValid()?(e=e?fa(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function wJ(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function IJ(){if(!hi(this._isDSTShifted))return this._isDSTShifted;var e={},t;return ew(e,this),e=B8(e),e._a?(t=e._isUTC?ws(e._a):fa(e._a),this._isDSTShifted=this.isValid()&&hJ(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function EJ(){return this.isValid()?!this._isUTC:!1}function SJ(){return this.isValid()?this._isUTC:!1}function z8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var AJ=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,TJ=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function is(e,t){var o=e,r=null,a,i,n;return R1(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:cl(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(r=AJ.exec(e))?(a=r[1]==="-"?-1:1,o={y:0,d:yo(r[hs])*a,h:yo(r[cr])*a,m:yo(r[Wn])*a,s:yo(r[Qs])*a,ms:yo(Gy(r[su]*1e3))*a}):(r=TJ.exec(e))?(a=r[1]==="-"?-1:1,o={y:Hc(r[2],a),M:Hc(r[3],a),w:Hc(r[4],a),d:Hc(r[5],a),h:Hc(r[6],a),m:Hc(r[7],a),s:Hc(r[8],a)}):o==null?o={}:typeof o=="object"&&("from"in o||"to"in o)&&(n=OJ(fa(o.from),fa(o.to)),o={},o.ms=n.milliseconds,o.M=n.months),i=new Mg(o),R1(e)&&Po(e,"_locale")&&(i._locale=e._locale),R1(e)&&Po(e,"_isValid")&&(i._isValid=e._isValid),i}is.fn=Mg.prototype;is.invalid=pJ;function Hc(e,t){var o=e&&parseFloat(e.replace(",","."));return(isNaN(o)?0:o)*t}function kO(e,t){var o={};return o.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(o.months,"M").isAfter(t)&&--o.months,o.milliseconds=+t-+e.clone().add(o.months,"M"),o}function OJ(e,t){var o;return e.isValid()&&t.isValid()?(t=vw(t,e),e.isBefore(t)?o=kO(e,t):(o=kO(t,e),o.milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0}}function H8(e,t){return function(o,r){var a,i;return r!==null&&!isNaN(+r)&&(b8(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=o,o=r,r=i),a=is(o,r),j8(this,a,e),this}}function j8(e,t,o,r){var a=t._milliseconds,i=Gy(t._days),n=Gy(t._months);!e.isValid()||(r=r==null?!0:r,n&&O8(e,kp(e,"Month")+n*o),i&&S8(e,"Date",kp(e,"Date")+i*o),a&&e._d.setTime(e._d.valueOf()+a*o),r&&ft.updateOffset(e,i||n))}var DJ=H8(1,"add"),PJ=H8(-1,"subtract");function G8(e){return typeof e=="string"||e instanceof String}function MJ(e){return as(e)||d0(e)||G8(e)||cl(e)||FJ(e)||NJ(e)||e===null||e===void 0}function NJ(e){var t=bu(e)&&!Jx(e),o=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,n=r.length;for(a=0;a<n;a+=1)i=r[a],o=o||Po(e,i);return t&&o}function FJ(e){var t=os(e),o=!1;return t&&(o=e.filter(function(r){return!cl(r)&&G8(e)}).length===0),t&&o}function RJ(e){var t=bu(e)&&!Jx(e),o=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<r.length;a+=1)i=r[a],o=o||Po(e,i);return t&&o}function kJ(e,t){var o=e.diff(t,"days",!0);return o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse"}function VJ(e,t){arguments.length===1&&(arguments[0]?MJ(arguments[0])?(e=arguments[0],t=void 0):RJ(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var o=e||fa(),r=vw(o,this).startOf("day"),a=ft.calendarFormat(this,r)||"sameElse",i=t&&(Is(t[a])?t[a].call(this,o):t[a]);return this.format(i||this.localeData().calendar(a,this,fa(o)))}function qJ(){return new f0(this)}function BJ(e,t){var o=as(e)?e:fa(e);return this.isValid()&&o.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()>o.valueOf():o.valueOf()<this.clone().startOf(t).valueOf()):!1}function LJ(e,t){var o=as(e)?e:fa(e);return this.isValid()&&o.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()<o.valueOf():this.clone().endOf(t).valueOf()<o.valueOf()):!1}function $J(e,t,o,r){var a=as(e)?e:fa(e),i=as(t)?t:fa(t);return this.isValid()&&a.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(a,o):!this.isBefore(a,o))&&(r[1]===")"?this.isBefore(i,o):!this.isAfter(i,o))):!1}function UJ(e,t){var o=as(e)?e:fa(e),r;return this.isValid()&&o.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()===o.valueOf():(r=o.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function zJ(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function HJ(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function jJ(e,t,o){var r,a,i;if(!this.isValid())return NaN;if(r=vw(e,this),!r.isValid())return NaN;switch(a=(r.utcOffset()-this.utcOffset())*6e4,t=Dn(t),t){case"year":i=k1(this,r)/12;break;case"month":i=k1(this,r);break;case"quarter":i=k1(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return o?i:_n(i)}function k1(e,t){if(e.date()<t.date())return-k1(t,e);var o=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(o,"months"),a,i;return t-r<0?(a=e.clone().add(o-1,"months"),i=(t-r)/(r-a)):(a=e.clone().add(o+1,"months"),i=(t-r)/(a-r)),-(o+i)||0}ft.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ft.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function GJ(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function WJ(e){if(!this.isValid())return null;var t=e!==!0,o=t?this.clone().utc():this;return o.year()<0||o.year()>9999?F1(o,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Is(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",F1(o,"Z")):F1(o,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function XJ(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",o,r,a,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),o="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(o+r+a+i)}function YJ(e){e||(e=this.isUtc()?ft.defaultFormatUtc:ft.defaultFormat);var t=F1(this,e);return this.localeData().postformat(t)}function KJ(e,t){return this.isValid()&&(as(e)&&e.isValid()||fa(e).isValid())?is({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function QJ(e){return this.from(fa(),e)}function JJ(e,t){return this.isValid()&&(as(e)&&e.isValid()||fa(e).isValid())?is({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ZJ(e){return this.to(fa(),e)}function W8(e){var t;return e===void 0?this._locale._abbr:(t=pl(e),t!=null&&(this._locale=t),this)}var X8=On("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Y8(){return this._locale}var gv=1e3,of=60*gv,_v=60*of,K8=(365*400+97)*24*_v;function af(e,t){return(e%t+t)%t}function Q8(e,t,o){return e<100&&e>=0?new Date(e+400,t,o)-K8:new Date(e,t,o).valueOf()}function J8(e,t,o){return e<100&&e>=0?Date.UTC(e+400,t,o)-K8:Date.UTC(e,t,o)}function eZ(e){var t,o;if(e=Dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?J8:Q8,e){case"year":t=o(this.year(),0,1);break;case"quarter":t=o(this.year(),this.month()-this.month()%3,1);break;case"month":t=o(this.year(),this.month(),1);break;case"week":t=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=o(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=af(t+(this._isUTC?0:this.utcOffset()*of),_v);break;case"minute":t=this._d.valueOf(),t-=af(t,of);break;case"second":t=this._d.valueOf(),t-=af(t,gv);break}return this._d.setTime(t),ft.updateOffset(this,!0),this}function tZ(e){var t,o;if(e=Dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?J8:Q8,e){case"year":t=o(this.year()+1,0,1)-1;break;case"quarter":t=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=o(this.year(),this.month()+1,1)-1;break;case"week":t=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=_v-af(t+(this._isUTC?0:this.utcOffset()*of),_v)-1;break;case"minute":t=this._d.valueOf(),t+=of-af(t,of)-1;break;case"second":t=this._d.valueOf(),t+=gv-af(t,gv)-1;break}return this._d.setTime(t),ft.updateOffset(this,!0),this}function oZ(){return this._d.valueOf()-(this._offset||0)*6e4}function aZ(){return Math.floor(this.valueOf()/1e3)}function rZ(){return new Date(this.valueOf())}function iZ(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function nZ(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function sZ(){return this.isValid()?this.toISOString():null}function lZ(){return Zx(this)}function cZ(){return tc({},so(this))}function uZ(){return so(this).overflow}function dZ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Nt("N",0,0,"eraAbbr");Nt("NN",0,0,"eraAbbr");Nt("NNN",0,0,"eraAbbr");Nt("NNNN",0,0,"eraName");Nt("NNNNN",0,0,"eraNarrow");Nt("y",["y",1],"yo","eraYear");Nt("y",["yy",2],0,"eraYear");Nt("y",["yyy",3],0,"eraYear");Nt("y",["yyyy",4],0,"eraYear");_t("N",gw);_t("NN",gw);_t("NNN",gw);_t("NNNN",xZ);_t("NNNNN",wZ);Zo(["N","NN","NNN","NNNN","NNNNN"],function(e,t,o,r){var a=o._locale.erasParse(e,r,o._strict);a?so(o).era=a:so(o).invalidEra=e});_t("y",$f);_t("yy",$f);_t("yyy",$f);_t("yyyy",$f);_t("yo",IZ);Zo(["y","yy","yyy","yyyy"],jr);Zo(["yo"],function(e,t,o,r){var a;o._locale._eraYearOrdinalRegex&&(a=e.match(o._locale._eraYearOrdinalRegex)),o._locale.eraYearOrdinalParse?t[jr]=o._locale.eraYearOrdinalParse(e,a):t[jr]=parseInt(e,10)});function fZ(e,t){var o,r,a,i=this._eras||pl("en")._eras;for(o=0,r=i.length;o<r;++o){switch(typeof i[o].since){case"string":a=ft(i[o].since).startOf("day"),i[o].since=a.valueOf();break}switch(typeof i[o].until){case"undefined":i[o].until=1/0;break;case"string":a=ft(i[o].until).startOf("day").valueOf(),i[o].until=a.valueOf();break}}return i}function mZ(e,t,o){var r,a,i=this.eras(),n,s,l;for(e=e.toUpperCase(),r=0,a=i.length;r<a;++r)if(n=i[r].name.toUpperCase(),s=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),o)switch(t){case"N":case"NN":case"NNN":if(s===e)return i[r];break;case"NNNN":if(n===e)return i[r];break;case"NNNNN":if(l===e)return i[r];break}else if([n,s,l].indexOf(e)>=0)return i[r]}function pZ(e,t){var o=e.since<=e.until?1:-1;return t===void 0?ft(e.since).year():ft(e.since).year()+(t-e.offset)*o}function hZ(){var e,t,o,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(o=this.clone().startOf("day").valueOf(),r[e].since<=o&&o<=r[e].until||r[e].until<=o&&o<=r[e].since)return r[e].name;return""}function vZ(){var e,t,o,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(o=this.clone().startOf("day").valueOf(),r[e].since<=o&&o<=r[e].until||r[e].until<=o&&o<=r[e].since)return r[e].narrow;return""}function gZ(){var e,t,o,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(o=this.clone().startOf("day").valueOf(),r[e].since<=o&&o<=r[e].until||r[e].until<=o&&o<=r[e].since)return r[e].abbr;return""}function _Z(){var e,t,o,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(o=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-ft(a[e].since).year())*o+a[e].offset;return this.year()}function bZ(e){return Po(this,"_erasNameRegex")||_w.call(this),e?this._erasNameRegex:this._erasRegex}function yZ(e){return Po(this,"_erasAbbrRegex")||_w.call(this),e?this._erasAbbrRegex:this._erasRegex}function CZ(e){return Po(this,"_erasNarrowRegex")||_w.call(this),e?this._erasNarrowRegex:this._erasRegex}function gw(e,t){return t.erasAbbrRegex(e)}function xZ(e,t){return t.erasNameRegex(e)}function wZ(e,t){return t.erasNarrowRegex(e)}function IZ(e,t){return t._eraYearOrdinalRegex||$f}function _w(){var e=[],t=[],o=[],r=[],a,i,n,s,l,u=this.eras();for(a=0,i=u.length;a<i;++a)n=rl(u[a].name),s=rl(u[a].abbr),l=rl(u[a].narrow),t.push(n),e.push(s),o.push(l),r.push(n),r.push(s),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}Nt(0,["gg",2],0,function(){return this.weekYear()%100});Nt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ng(e,t){Nt(0,[e,e.length],0,t)}Ng("gggg","weekYear");Ng("ggggg","weekYear");Ng("GGGG","isoWeekYear");Ng("GGGGG","isoWeekYear");_t("G",Tg);_t("g",Tg);_t("GG",ma,an);_t("gg",ma,an);_t("GGGG",iw,rw);_t("gggg",iw,rw);_t("GGGGG",Ag,Eg);_t("ggggg",Ag,Eg);p0(["gggg","ggggg","GGGG","GGGGG"],function(e,t,o,r){t[r.substr(0,2)]=yo(e)});p0(["gg","GG"],function(e,t,o,r){t[r]=ft.parseTwoDigitYear(e)});function EZ(e){return Z8.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function SZ(e){return Z8.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function AZ(){return il(this.year(),1,4)}function TZ(){return il(this.isoWeekYear(),1,4)}function OZ(){var e=this.localeData()._week;return il(this.year(),e.dow,e.doy)}function DZ(){var e=this.localeData()._week;return il(this.weekYear(),e.dow,e.doy)}function Z8(e,t,o,r,a){var i;return e==null?qp(this,r,a).year:(i=il(e,r,a),t>i&&(t=i),PZ.call(this,e,t,o,r,a))}function PZ(e,t,o,r,a){var i=M8(e,t,o,r,a),n=Vp(i.year,0,i.dayOfYear);return this.year(n.getUTCFullYear()),this.month(n.getUTCMonth()),this.date(n.getUTCDate()),this}Nt("Q",0,"Qo","quarter");_t("Q",C8);Zo("Q",function(e,t){t[Ks]=(yo(e)-1)*3});function MZ(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Nt("D",["DD",2],"Do","date");_t("D",ma,Uf);_t("DD",ma,an);_t("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Zo(["D","DD"],hs);Zo("Do",function(e,t){t[hs]=yo(e.match(ma)[0])});var eM=zf("Date",!0);Nt("DDD",["DDDD",3],"DDDo","dayOfYear");_t("DDD",Sg);_t("DDDD",x8);Zo(["DDD","DDDD"],function(e,t,o){o._dayOfYear=yo(e)});function NZ(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Nt("m",["mm",2],0,"minute");_t("m",ma,nw);_t("mm",ma,an);Zo(["m","mm"],Wn);var FZ=zf("Minutes",!1);Nt("s",["ss",2],0,"second");_t("s",ma,nw);_t("ss",ma,an);Zo(["s","ss"],Qs);var RZ=zf("Seconds",!1);Nt("S",0,0,function(){return~~(this.millisecond()/100)});Nt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Nt(0,["SSS",3],0,"millisecond");Nt(0,["SSSS",4],0,function(){return this.millisecond()*10});Nt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Nt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Nt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Nt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Nt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});_t("S",Sg,C8);_t("SS",Sg,an);_t("SSS",Sg,x8);var oc,tM;for(oc="SSSS";oc.length<=9;oc+="S")_t(oc,$f);function kZ(e,t){t[su]=yo(("0."+e)*1e3)}for(oc="S";oc.length<=9;oc+="S")Zo(oc,kZ);tM=zf("Milliseconds",!1);Nt("z",0,0,"zoneAbbr");Nt("zz",0,0,"zoneName");function VZ(){return this._isUTC?"UTC":""}function qZ(){return this._isUTC?"Coordinated Universal Time":""}var it=f0.prototype;it.add=DJ;it.calendar=VJ;it.clone=qJ;it.diff=jJ;it.endOf=tZ;it.format=YJ;it.from=KJ;it.fromNow=QJ;it.to=JJ;it.toNow=ZJ;it.get=XK;it.invalidAt=uZ;it.isAfter=BJ;it.isBefore=LJ;it.isBetween=$J;it.isSame=UJ;it.isSameOrAfter=zJ;it.isSameOrBefore=HJ;it.isValid=lZ;it.lang=X8;it.locale=W8;it.localeData=Y8;it.max=lJ;it.min=sJ;it.parsingFlags=cZ;it.set=YK;it.startOf=eZ;it.subtract=PJ;it.toArray=iZ;it.toObject=nZ;it.toDate=rZ;it.toISOString=WJ;it.inspect=XJ;typeof Symbol!="undefined"&&Symbol.for!=null&&(it[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});it.toJSON=sZ;it.toString=GJ;it.unix=aZ;it.valueOf=oZ;it.creationData=dZ;it.eraName=hZ;it.eraNarrow=vZ;it.eraAbbr=gZ;it.eraYear=_Z;it.year=E8;it.isLeapYear=WK;it.weekYear=EZ;it.isoWeekYear=SZ;it.quarter=it.quarters=MZ;it.month=D8;it.daysInMonth=rQ;it.week=it.weeks=fQ;it.isoWeek=it.isoWeeks=mQ;it.weeksInYear=OZ;it.weeksInWeekYear=DZ;it.isoWeeksInYear=AZ;it.isoWeeksInISOWeekYear=TZ;it.date=eM;it.day=it.days=SQ;it.weekday=AQ;it.isoWeekday=TQ;it.dayOfYear=NZ;it.hour=it.hours=RQ;it.minute=it.minutes=FZ;it.second=it.seconds=RZ;it.millisecond=it.milliseconds=tM;it.utcOffset=gJ;it.utc=bJ;it.local=yJ;it.parseZone=CJ;it.hasAlignedHourOffset=xJ;it.isDST=wJ;it.isLocal=EJ;it.isUtcOffset=SJ;it.isUtc=z8;it.isUTC=z8;it.zoneAbbr=VZ;it.zoneName=qZ;it.dates=On("dates accessor is deprecated. Use date instead.",eM);it.months=On("months accessor is deprecated. Use month instead",D8);it.years=On("years accessor is deprecated. Use year instead",E8);it.zone=On("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_J);it.isDSTShifted=On("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",IJ);function BZ(e){return fa(e*1e3)}function LZ(){return fa.apply(null,arguments).parseZone()}function oM(e){return e}var Mo=tw.prototype;Mo.calendar=EK;Mo.longDateFormat=OK;Mo.invalidDate=PK;Mo.ordinal=FK;Mo.preparse=oM;Mo.postformat=oM;Mo.relativeTime=kK;Mo.pastFuture=VK;Mo.set=wK;Mo.eras=fZ;Mo.erasParse=mZ;Mo.erasConvertYear=pZ;Mo.erasAbbrRegex=yZ;Mo.erasNameRegex=bZ;Mo.erasNarrowRegex=CZ;Mo.months=eQ;Mo.monthsShort=tQ;Mo.monthsParse=aQ;Mo.monthsRegex=nQ;Mo.monthsShortRegex=iQ;Mo.week=lQ;Mo.firstDayOfYear=dQ;Mo.firstDayOfWeek=uQ;Mo.weekdays=CQ;Mo.weekdaysMin=wQ;Mo.weekdaysShort=xQ;Mo.weekdaysParse=EQ;Mo.weekdaysRegex=OQ;Mo.weekdaysShortRegex=DQ;Mo.weekdaysMinRegex=PQ;Mo.isPM=NQ;Mo.meridiem=kQ;function bv(e,t,o,r){var a=pl(),i=ws().set(r,t);return a[o](i,e)}function aM(e,t,o){if(cl(e)&&(t=e,e=void 0),e=e||"",t!=null)return bv(e,t,o,"month");var r,a=[];for(r=0;r<12;r++)a[r]=bv(e,r,o,"month");return a}function bw(e,t,o,r){typeof e=="boolean"?(cl(t)&&(o=t,t=void 0),t=t||""):(t=e,o=t,e=!1,cl(t)&&(o=t,t=void 0),t=t||"");var a=pl(),i=e?a._week.dow:0,n,s=[];if(o!=null)return bv(t,(o+i)%7,r,"day");for(n=0;n<7;n++)s[n]=bv(t,(n+i)%7,r,"day");return s}function $Z(e,t){return aM(e,t,"months")}function UZ(e,t){return aM(e,t,"monthsShort")}function zZ(e,t,o){return bw(e,t,o,"weekdays")}function HZ(e,t,o){return bw(e,t,o,"weekdaysShort")}function jZ(e,t,o){return bw(e,t,o,"weekdaysMin")}nc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,o=yo(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+o}});ft.lang=On("moment.lang is deprecated. Use moment.locale instead.",nc);ft.langData=On("moment.langData is deprecated. Use moment.localeData instead.",pl);var Vs=Math.abs;function GZ(){var e=this._data;return this._milliseconds=Vs(this._milliseconds),this._days=Vs(this._days),this._months=Vs(this._months),e.milliseconds=Vs(e.milliseconds),e.seconds=Vs(e.seconds),e.minutes=Vs(e.minutes),e.hours=Vs(e.hours),e.months=Vs(e.months),e.years=Vs(e.years),this}function rM(e,t,o,r){var a=is(t,o);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function WZ(e,t){return rM(this,e,t,1)}function XZ(e,t){return rM(this,e,t,-1)}function VO(e){return e<0?Math.floor(e):Math.ceil(e)}function YZ(){var e=this._milliseconds,t=this._days,o=this._months,r=this._data,a,i,n,s,l;return e>=0&&t>=0&&o>=0||e<=0&&t<=0&&o<=0||(e+=VO(Xy(o)+t)*864e5,t=0,o=0),r.milliseconds=e%1e3,a=_n(e/1e3),r.seconds=a%60,i=_n(a/60),r.minutes=i%60,n=_n(i/60),r.hours=n%24,t+=_n(n/24),l=_n(iM(t)),o+=l,t-=VO(Xy(l)),s=_n(o/12),o%=12,r.days=t,r.months=o,r.years=s,this}function iM(e){return e*4800/146097}function Xy(e){return e*146097/4800}function KZ(e){if(!this.isValid())return NaN;var t,o,r=this._milliseconds;if(e=Dn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,o=this._months+iM(t),e){case"month":return o;case"quarter":return o/3;case"year":return o/12}else switch(t=this._days+Math.round(Xy(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function hl(e){return function(){return this.as(e)}}var nM=hl("ms"),QZ=hl("s"),JZ=hl("m"),ZZ=hl("h"),eee=hl("d"),tee=hl("w"),oee=hl("M"),aee=hl("Q"),ree=hl("y"),iee=nM;function nee(){return is(this)}function see(e){return e=Dn(e),this.isValid()?this[e+"s"]():NaN}function ju(e){return function(){return this.isValid()?this._data[e]:NaN}}var lee=ju("milliseconds"),cee=ju("seconds"),uee=ju("minutes"),dee=ju("hours"),fee=ju("days"),mee=ju("months"),pee=ju("years");function hee(){return _n(this.days()/7)}var Us=Math.round,Ld={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vee(e,t,o,r,a){return a.relativeTime(t||1,!!o,e,r)}function gee(e,t,o,r){var a=is(e).abs(),i=Us(a.as("s")),n=Us(a.as("m")),s=Us(a.as("h")),l=Us(a.as("d")),u=Us(a.as("M")),c=Us(a.as("w")),d=Us(a.as("y")),m=i<=o.ss&&["s",i]||i<o.s&&["ss",i]||n<=1&&["m"]||n<o.m&&["mm",n]||s<=1&&["h"]||s<o.h&&["hh",s]||l<=1&&["d"]||l<o.d&&["dd",l];return o.w!=null&&(m=m||c<=1&&["w"]||c<o.w&&["ww",c]),m=m||u<=1&&["M"]||u<o.M&&["MM",u]||d<=1&&["y"]||["yy",d],m[2]=t,m[3]=+e>0,m[4]=r,vee.apply(null,m)}function _ee(e){return e===void 0?Us:typeof e=="function"?(Us=e,!0):!1}function bee(e,t){return Ld[e]===void 0?!1:t===void 0?Ld[e]:(Ld[e]=t,e==="s"&&(Ld.ss=t-1),!0)}function yee(e,t){if(!this.isValid())return this.localeData().invalidDate();var o=!1,r=Ld,a,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(o=e),typeof t=="object"&&(r=Object.assign({},Ld,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),a=this.localeData(),i=gee(this,!o,r,a),o&&(i=a.pastFuture(+this,i)),a.postformat(i)}var a2=Math.abs;function Id(e){return(e>0)-(e<0)||+e}function Fg(){if(!this.isValid())return this.localeData().invalidDate();var e=a2(this._milliseconds)/1e3,t=a2(this._days),o=a2(this._months),r,a,i,n,s=this.asSeconds(),l,u,c,d;return s?(r=_n(e/60),a=_n(r/60),e%=60,r%=60,i=_n(o/12),o%=12,n=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=Id(this._months)!==Id(s)?"-":"",c=Id(this._days)!==Id(s)?"-":"",d=Id(this._milliseconds)!==Id(s)?"-":"",l+"P"+(i?u+i+"Y":"")+(o?u+o+"M":"")+(t?c+t+"D":"")+(a||r||e?"T":"")+(a?d+a+"H":"")+(r?d+r+"M":"")+(e?d+n+"S":"")):"P0D"}var Eo=Mg.prototype;Eo.isValid=mJ;Eo.abs=GZ;Eo.add=WZ;Eo.subtract=XZ;Eo.as=KZ;Eo.asMilliseconds=nM;Eo.asSeconds=QZ;Eo.asMinutes=JZ;Eo.asHours=ZZ;Eo.asDays=eee;Eo.asWeeks=tee;Eo.asMonths=oee;Eo.asQuarters=aee;Eo.asYears=ree;Eo.valueOf=iee;Eo._bubble=YZ;Eo.clone=nee;Eo.get=see;Eo.milliseconds=lee;Eo.seconds=cee;Eo.minutes=uee;Eo.hours=dee;Eo.days=fee;Eo.weeks=hee;Eo.months=mee;Eo.years=pee;Eo.humanize=yee;Eo.toISOString=Fg;Eo.toString=Fg;Eo.toJSON=Fg;Eo.locale=W8;Eo.localeData=Y8;Eo.toIsoString=On("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fg);Eo.lang=X8;Nt("X",0,0,"unix");Nt("x",0,0,"valueOf");_t("x",Tg);_t("X",$K);Zo("X",function(e,t,o){o._d=new Date(parseFloat(e)*1e3)});Zo("x",function(e,t,o){o._d=new Date(yo(e))});//! moment.js
ft.version="2.30.1";CK(fa);ft.fn=it;ft.min=cJ;ft.max=uJ;ft.now=dJ;ft.utc=ws;ft.unix=BZ;ft.months=$Z;ft.isDate=d0;ft.locale=nc;ft.invalid=Ig;ft.duration=is;ft.isMoment=as;ft.weekdays=zZ;ft.parseZone=LZ;ft.localeData=pl;ft.isDuration=R1;ft.monthsShort=UZ;ft.weekdaysMin=jZ;ft.defineLocale=dw;ft.updateLocale=LQ;ft.locales=$Q;ft.weekdaysShort=HZ;ft.normalizeUnits=Dn;ft.relativeTimeRounding=_ee;ft.relativeTimeThreshold=bee;ft.calendarFormat=kJ;ft.prototype=it;ft.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var g6e=Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"}));const Kl={retencao:{desktop:3,mobile:3},maximoDocsPorLote:100,pausaInicial:1e4,pausaEntreLotes:10*60*1e3,pausaEntreTabelas:100},Cee=[{tabela:"documento",campoData:"dataHoraEmissao",filhos:[{tabela:"arquivo",chaveEstrangeira:"idTabelaMaster"},{tabela:"documentoItem",chaveEstrangeira:"idDocumento"},{tabela:"documentoEndereco",chaveEstrangeira:"idDocumento"},{tabela:"documentoStatus",chaveEstrangeira:"idDocumento"},{tabela:"documentoCondicaoPagamento",chaveEstrangeira:"idDocumento"},{tabela:"documentoSat",chaveEstrangeira:"idDocumento"},{tabela:"documentoXML",chaveEstrangeira:"idDocumento"},{tabela:"documentoFiscalEletronico",chaveEstrangeira:"idDocumento"},{tabela:"documentoFiscalEletronicoXml",chaveEstrangeira:"idDocumento"},{tabela:"documentoFiscalEletronicoErro",chaveEstrangeira:"idDocumento"}]},{tabela:"financeiroMovimentacao",campoData:"dataEmissao",dependentes:[{tabela:"financeiroMovimentacaoN",chaveEstrangeira:"idFinanceiroMovimentacaoN"}]},{tabela:"financeiroTitulo",campoData:"dataPagamento",filhos:[{tabela:"financeiroBoletoTitulo",chaveEstrangeira:"idFinanceiroTitulo"},{tabela:"financeiroRenegociacao",chaveEstrangeira:"idFinanceiroTitulo"}]}];function xee(){const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4))||/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)||/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/g.test(e)?"mobile":"desktop"}async function wee({tabela:e,campoData:t,dependentes:o,dataLimite:r}){var s;const a=await $erp()[e].where(t).below(r.toISOString()).limit(Kl.maximoDocsPorLote).sortBy(t),i=a.map(l=>l.id),n=(o||[]).map(l=>a.map(u=>u[l.chaveEstrangeira]).filter(Boolean));return $utils.gconsole.log("limpeza",`- ${e} - preparando para remover ${i.length} registros a partir de '${(s=a[0])==null?void 0:s[t]}'`),{ids:i,idsDependentes:n}}async function Iee(){let e=new Date(new Date().toDateString());e.setMonth(xee()==="mobile"?-Kl.retencao.mobile:-Kl.retencao.desktop);for(const t of Cee){const{ids:o,idsDependentes:r}=await wee({tabela:t.tabela,dependentes:t.dependentes,campoData:t.campoData,dataLimite:e});if(!o.length)continue;for(const{tabela:i,chaveEstrangeira:n}of t.filhos||[]){const s=await $erp()[i].where(n).anyOf(o).delete();$utils.gconsole.log("limpeza",`- ${i} - removido ${s} registros`),await $utils.dormir(Kl.pausaEntreTabelas)}for(const i in t.dependentes){const{tabela:n}=t.dependentes[i],s=await $erp()[n].where("id").anyOf(r[i]).delete();$utils.gconsole.log("limpeza",`- ${n} - removido ${s} registros`),await $utils.dormir(Kl.pausaEntreTabelas)}const a=await $erp()[t.tabela].where("id").anyOf(o).delete();$utils.gconsole.log("limpeza",`- ${t.tabela} - removido ${a} registros`),await $utils.dormir(Kl.pausaEntreTabelas)}}async function Eee(){var e;if($db.hibrido.get("mode")!=="remoto"){const t=await $db.configuracoes.leValor("hibrido");if(!t||t==="local"){$utils.gconsole.log("limpeza","- modo hibrido n\xE3o ativado, limpeza n\xE3o realizada");return}}try{const t=new Date(new Date((e=localStorage.getItem("dataUltimaLimpeza"))!=null?e:"2000-01-01T00:00:00").toDateString()),o=new Date(new Date().toDateString());if(t>=o){$utils.gconsole.log("limpeza","- processo j\xE1 realizado hoje, aguarde amanh\xE3 para nova limpeza");return}for(await $utils.dormir(Kl.pausaInicial);;)$utils.gconsole.log("limpeza","- iniciando processo de remo\xE7\xE3o de dados antigos no dispositivo"),await Iee(),localStorage.setItem("dataUltimaLimpeza",ft().format()),await $utils.dormir(Kl.pausaEntreLotes)}catch(t){console.error("limpeza",t)}finally{}}async function See(e,t){return e.$touch(),await(()=>new Promise(r=>{const a=t.$watch(()=>e.$pending,i=>{i||(a&&a(),r())},{immediate:!0})}))(),!e.$error}class zs extends Error{constructor(t){super(t),this.name="ErroValidacao",this.message=t}}class sM extends Error{constructor(t){super(t),this.name="Alerta",this.message=t}}function Da(e,t){if(e)throw new zs(t)}function Aee(e,t){if(e)throw new sM(t)}function lp(e,t){if(e)throw new Error(t)}const Va={};async function Tee(e){var c,d,m;const{idItem:t,idContatoDestinatario:o,idContatoEmitente:r}=e,a=new Date;if((Va==null?void 0:Va.timeout)&&!(a>new Date(Va.timeout)))return;const i=await $erp().cfop.toArray(),n=await $erp()._ncm.toArray(),s=await $erp().documentoOperacao.toArray();let l=[],u=[];for(const f of s)f.json=JSON.parse((c=f.json)!=null?c:null);if(o){const f=await $erp().contato.get(o),p=await $erp().contatoEndereco.where({idContato:o}).toArray(),g=(d=p.find(b=>{var x,_;return((_=(x=b.grupo)==null?void 0:x.trim())==null?void 0:_.toLowerCase())==="principal"}))!=null?d:p[0];l.push(f),g&&u.push(g)}if(r){const f=await $erp().contato.get(r),p=await $erp().contatoEndereco.where({idContato:r}).toArray(),g=(m=p.find(b=>{var x,_;return((_=(x=b.grupo)==null?void 0:x.trim())==null?void 0:_.toLowerCase())==="principal"}))!=null?m:p[0];l.push(f),g&&u.push(g)}Va.cfop=i,Va.ncm=n,Va.documentoOperacao=s,Va.contatos=l,Va.contatosEndereco=u,Va.timeout=a.setSeconds(a.getSeconds()+3)}async function Oee(e,t){let o=[1202,1411,2202,2411,5102,6102,5405,6404],r,a;if(!!~o.indexOf(t)){if(e&&(r=await $db.ncm.ler({ncm:e}),a=r[0]),r=Va.cfop.filter(i=>~o.indexOf(i.cfop)),a!=null&&a.st){if(t===1202)return r.find(i=>i.cfop===1411);if(t===2202)return r.find(i=>i.cfop===2411);if(t===5102)return r.find(i=>i.cfop===5405);if(t===6102)return r.find(i=>i.cfop===6404)}else{if(t===1411)return r.find(i=>i.cfop===1202);if(t===2411)return r.find(i=>i.cfop===2202);if(t===5405)return r.find(i=>i.cfop===5102);if(t===6404)return r.find(i=>i.cfop===6102)}return r.find(i=>i.cfop===t)}}async function Dee(e={}){var x;const{itemTipo:t,idItem:o,codigoDocumentoOperacao:r,idContatoDestinatario:a,idContatoEmitente:i,operacaoFator:n,ncm:s}=e;if(await Tee(e),~["servico","tratamento"].indexOf($utils.removerAcentos(t||"").toLowerCase())){let _;return n===-1&&(_=5933),n===1&&(_=2933),Va.cfop.find(y=>y.cfop===_)}if(!(r&&a&&i&&n))return;const l=Va.ncm.find(_=>_.ncm===s),u=Va.documentoOperacao.find(_=>_.codigoDocumentoOperacao===r);if(!u)return;const c=Va.contatos.find(_=>_.id===a),d=Va.contatos.find(_=>_.id===i);if(!(c&&d))return;const m=Va.contatosEndereco.find(_=>_.idContato===a),f=Va.contatosEndereco.find(_=>_.idContato===i);if(!f)return;let p=m==null?void 0:m.uf;const g=f==null?void 0:f.uf;p||(p=g);const b=g!==p;if(u.json){let _=u.json,y,I,S;if(y=await $erp().item.get(o),I=JSON.parse((y==null?void 0:y.json)||null),S=(x=I==null?void 0:I.documentosOperacao)!=null?x:{},u.id in S&&(_=S[u.id]),!_)return;const O=await $db.ncm.ncmST({idItem:o,ncm:l==null?void 0:l.ncm,ufDestinatario:p}),F=(c.numeroDocumentoNacional||"").trim().replace(/\D/g,""),M=(c.numeroDocumentoEstadual||"").trim().replace(/\D/g,"");let E,D;return M&&F.length===14&&(n===-1&&(D=_.contribuinte.find(P=>P.descricao==="Venda")),n===1&&(D=_.contribuinte.find(P=>P.descricao==="Devolu\xE7\xE3o"))),M&&F.length===14||(n===-1&&(D=_.naoContribuinte.find(P=>P.descricao==="Venda")),n===1&&(D=_.naoContribuinte.find(P=>P.descricao==="Devolu\xE7\xE3o"))),b||(E=O?D.internaST:D.interna),b&&(E=O?D.interestadualST:D.interestadual),E=Number(E),Number.isInteger(E)>0?Va.cfop.find(P=>P.cfop===Number(E)):void 0}if(u.idCfop){let _=Va.cfop.find(y=>y.id===u.idCfop);if(n===1){let y=20;b&&(y=138),_=Va.cfop.find(I=>I.codigoCfop===y)}return _?~[1202,1411,2202,2411,5102,6102,5405,6404].indexOf(_.cfop)?Oee(l==null?void 0:l.ncm,_.cfop):_:void 0}}async function Pee(e){let t=null,o=[],r={};if(t=await Z().documento.get(e),!!~["Venda","Fatura"].indexOf(t==null?void 0:t.tipo)){t.tipo==="Fatura"?o=await Z().documento.where({idFatura:e}).toArray():o.push(t);for(const a of o){let i=await Z().documentoItem.where({idDocumento:a.id}).toArray();for(const n of i){if(!!n.idItem&&!r[n.idItem]){const l=await Z().item.get(n.idItem);l!=null&&l.id&&(r[l.id]=l.ncm)}const s=await $utils.selecionarCfop({ncm:r[n.idItem],idItem:n.idItem,codigoDocumentoOperacao:a.codigoDocumentoOperacao,idContatoDestinatario:a.idContato,idContatoEmitente:a.idEmpresa,operacaoFator:n.operacaoFator});if(s!=null&&s.id){const l={idCfop:s==null?void 0:s.id,operacaoFator:s==null?void 0:s.fator,operacao:s==null?void 0:s.operacao};await Z().documentoItem.update(n.id,l),await Je("atualizar","documentoItem",n.id,l)}}}}}const qO={urlBanco:"https://api2.b15.com.br/Core/ExecuteSqlV2"},mo=async function(e,t=null){const o=vf("executarSql",t||"",`
`,e);try{if(t||(t=localStorage.getItem("bancoDeDados")),!t)throw new Error("N\xE3o foi poss\xEDvel encontrar o nome do banco de dados.");const r=await Nu({baseURL:qO.urlBanco,data:{token:je.usuario.logado.token||"",database:t,sentence:e},method:"post"});if(r.status!==200)throw new Error("Sql Erro: "+r.status+" - "+r.statusText);if(!!r.data&&!!r.data.error)throw new Error("Sql Server Erro: "+r.data.error.name+" - "+r.data.error.message);return r.data}catch(r){Da(r.name==="Error"&&r.message==="Network Error","Sem internet ou erro de comunica\xE7\xE3o!"),console.error("Falha no acesso aos Dados!  Servidor: "+qO.urlBanco+`
`+r.stack),Da(!0,"Falha no acesso aos dados!")}finally{gf(o,1)}},Mee=function(e,t=null){if(["alter","create","delete","drop","exec","grant","insert","truncate","update"].some(a=>~e.toLowerCase().indexOf(a)))throw new Error("Query n\xE3o permitida!");return mo(e,t)},Lp=function(e){return!e||(e.constructor!==Date&&(e=new Date(e)),isNaN(e))?"NULL":`'${e.getFullYear().toString().padStart(4,"0")}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.000'`},jt=function(e,t=null){if(e==null||e===1/0||isNaN(e))if(t!==null)e=t;else return"NULL";return typeof e=="number"?e.toString():e},yt=function(e,t=null){if(e==null)if(t!==null)e=t;else return"NULL";return`'${String(e).replace(/'/g,"''")}'`};var Em="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABQAQMAAAAa6XZvAAAAA1BMVEUAAACnej3aAAAADElEQVR42mNgGFkAAADwAAE4aVpRAAAAAElFTkSuQmCC",Zh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABQAQMAAAAa6XZvAAAAA1BMVEX///+nxBvIAAAADElEQVR42mNgGFkAAADwAAE4aVpRAAAAAElFTkSuQmCC";function Nee(e,t){var o=1,r=3,a=50;t&&(a=t);var i=[];i.push("00110"),i.push("10001"),i.push("01001"),i.push("11000"),i.push("00101"),i.push("10100"),i.push("01100"),i.push("00011"),i.push("10010"),i.push("01010");for(var c=9;c>=0;c--)for(var n=9;n>=0;n--){for(var d=c*10+n,u="",s=1;s<6;s++)u+=i[c].substr(s-1,1)+i[n].substr(s-1,1);i[d]=u}var l="<img src='"+Em+"' width="+o+" height="+a+" border=0><img src='"+Zh+"' width="+o+" height="+a+" border=0><img src='"+Em+"' width="+o+" height="+a+" border=0><img src='"+Zh+"' width="+o+" height="+a+" border=0><img ",u=e;u.length%2!=0&&(u="0"+u);for(var c,d,m,f;u.length>0;){c=parseInt(Fee(u,2)),u=Ree(u,u.length-2),d=i[c];for(var s=1;s<11;s+=2)d.substr(s-1,1)=="0"?m=o:m=r,l+=" src='"+Em+"' width="+m+" height="+a+" border=0><img ",d.substr(s,1)=="0"?f=o:f=r,l+=" src='"+Zh+"' width="+f+" height="+a+" border=0><img "}return l+=" src='"+Em+"' width="+r+" height="+a+" border=0><img src='"+Zh+"' width="+o+" height="+a+" border=0><img src='"+Em+"' width="+o+" height="+a+" border=0> ",l}function Fee(e,t){return e.substr(0,t)}function Ree(e,t){return e.substr(e.length-t,t)}function kee(){console.log(...arguments)}function vf(e,...t){const o=ft(new Date);return Ia[e]!==!1&&console.log(`${o.format("HH:mm:ss.SSS")} ${e} ini`,...t),{inic:o,modulo:e}}function gf(e,t,...o){const r=ft(new Date);Ia[e.modulo]!==!1&&console.log(`${r.format("HH:mm:ss.SSS")} ${e.modulo} fim
 tamanho:`,t||0,"tempo:",r.diff(e.inic),...o)}let Ia={App:!1,Atendimento:!1,AutenticacaoBancos:!1,ChatMensagens:!1,Cockpit:!1,ContatoCriar:!1,ContatoFicha:!1,CpfCnpjNoCupom:!1,Documento:!1,DocumentosFiscais:!1,EnvelopeTrocarStatus:!1,Financeiro:!1,FinanceiroBoletos:!1,ImportarContatos:!1,ImportarItens:!1,Item:!1,ItemEstoque:!1,ItemFicha:!1,ItemFichaAtualizar:!1,Layout_Envelopes:!1,LogSinc:!0,LogSincD:!1,NFePrincipal:!1,Plataforma15:!0,PromptContato:!1,PromptItem:!1,_ncm:!1,beforeRouteLeave:!1,carregaDados:!1,cfop:!1,compactarValidarNFe:!1,contato:!1,documentoFiscalEletronico:!1,documentoFiscalEletronicoErro:!1,documentoFiscalEletronicoXml:!1,emitirNFe:!1,executarSql:!1,gerarJsonBaseD:!1,gerarJsonNFCe:!1,gerarJsonNFCeD:!1,gerarJsonNFe:!1,gerarJsonNFeD:!1,gerarSat:!1,gerarSatD:!1,item:!1,nfeIbpt:!1,robust:!1,router:!1,sincDescarregar:!1,sincEnviar:!1,sincronismoEnviar:!1,sincronismoRoteador:!1,tela1:!1,usuario:!1};const BO=localStorage.getItem("logar");if(BO)try{Ia={...Ia,...JSON.parse(BO)}}catch(e){console.error(`Vari\xE1vel 'logar' do localStorage com json inv\xE1lido
`,e)}localStorage.setItem("logar",JSON.stringify(Ia));const Tt={error(){Ia[arguments[0]]===void 0&&(Ia[arguments[0]]=!0),Ia[arguments[0]]&&console.error(...arguments)},warn(){Ia[arguments[0]]===void 0&&(Ia[arguments[0]]=!0),Ia[arguments[0]]&&console.warn(...arguments)},info(){Ia[arguments[0]]===void 0&&(Ia[arguments[0]]=!0),Ia[arguments[0]]&&console.info(arguments[1],arguments[2])},log(){Ia[arguments[0]]===void 0&&(Ia[arguments[0]]=!0),Ia[arguments[0]]&&console.log(...arguments)},time(e,...t){Ia[e]===void 0&&(Ia[e]=!0),Ia[e]&&console.time(...t)},timeEnd(e,...t){Ia[e]===void 0&&(Ia[e]=!0),Ia[e]&&console.timeEnd(...t)}};var Vee=["f//AAAAAAAAAAAAAAAAAAAA","f//AAAAAAAAAAAAAAAAAAAB","f//AAAAAAAAAAAAAAEAAAD/","f//AAAAAAAAAAAAAAEAAAAA","f//AAAAAAAAAQAAAP8AAAAA","f//AAAAAAAAAQAAAP8AAAAB","f//AAAAAAAAAQAAAAAAAAD/","f//AAAAAAAAAQAAAAAAAAAA","f//AAABAAAA/wAAAAAAAAAA","f//AAABAAAA/wAAAAAAAAAB","f//AAABAAAA/wAAAAEAAAD/","f//AAABAAAA/wAAAAEAAAAA","f//AAABAAAAAAAAAP8AAAAA","f//AAABAAAAAAAAAP8AAAAB","f//AAABAAAAAAAAAAAAAAD/","f//AAABAAAAAAAAAAAAAAAA","QD/AAD/AAAAAAAAAAAAAAAA","QD/AAD/AAAAAAAAAAAAAAAB","QD/AAD/AAAAAAAAAAEAAAD/","QD/AAD/AAAAAAAAAAEAAAAA","QD/AAD/AAAAAQAAAP8AAAAA","QD/AAD/AAAAAQAAAP8AAAAB","QD/AAD/AAAAAQAAAAAAAAD/","QD/AAD/AAAAAQAAAAAAAAAA","QD/AAAAAAAA/wAAAAAAAAAA","QD/AAAAAAAA/wAAAAAAAAAB","SL/AADeAAAA/gAAAAIAAAD+","QD/AAAAAAAA/wAAAAEAAAAA","QD/AAAAAAAAAAAAAP8AAAAA","QD/AAAAAAAAAAAAAP8AAAAB","QD/AAAAAAAAAAAAAAAAAAD/","QD/AAAAAAAAAAAAAAAAAAAA"],qee=["US0CAuSD38g","UUYCA7QBErs","ajEDAm49ReY","UUoCA+juogg","bjEDAjQrOn0","bkoDA3iPVH4","ajUDAt82atY","UU4CA1nljTg","cjEDAghkmFU","ckoDA0TA9lY","izUEAhrxcbg","ck4DAxY8F10","bjUDAlvFFR8","bk4DAxdhexw","ajkDAr7LFAw","UVICAyQ+UJI","TTECAq7UnEM","TUoCA+Jw8kA","ZjUDAmZGozo","TU4CA7CME0s","ajUDAvnk9E4","ak4DA7VAmk0","ZjkDAtle3bI","TVICAxOyzrM","STUCAqHeHtM","SU4CA+16cNA","h6QEAZKdo54","SVICA62zYxM","RTkCAqx1lb4","RVICA/z3WM0","QT0CAkdoxRU","KFYBA46vJCA"],Bee='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAQAAADLaIVbAAAANUlEQVQIHQEqANX/A',Lee="AAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAA",$ee='AAAAASUVORK5CYII=" style="width:',Uee=["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","1100011101011","11010111000"];const zee={genBarcode(e,t,o){var r=[],a,i,n,s=e.length%5;if(s>0)for(a=0;a<5-s;a+=1)e+="0";for(i=e.length/5,a=0;a<i;a+=1)r[a]=parseInt(e.substr(a*5,5),2);for(n="",a=0;a<r.length;a+=1)n+=Bee+Vee[r[a]]+Lee+qee[r[a]]+$ee+t+"px;height:"+o+'px;">';return n},funcCode128C(e){var t,o,r,a,i=0;let n=[];for(a=e.length,i=n[0]=105,t=0,o=0;t<a;t+=2,o+=1)n[o+1]=parseInt(e.substr(t,2),10),r=o+1,i+=r*n[o+1];n[o+1]=i%103,n[o+2]=106;let s="";for(t=0;t<n.length;t+=1)s+=Uee[n[t]];return s},gen(e,t,o){const r=this.funcCode128C(e);return this.genBarcode(r,t,o)}};let r2,e1=0;const xr=new Array(256);for(let e=0;e<256;e++)xr[e]=(e+256).toString(16).substring(1);const Hee=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const o=new Uint8Array(t);return e.getRandomValues(o),o}}return t=>{const o=[];for(let r=t;r>0;r--)o.push(Math.floor(Math.random()*256));return o}})(),LO=4096;function _f(){(r2===void 0||e1+16>LO)&&(e1=0,r2=Hee(LO));const e=Array.prototype.slice.call(r2,e1,e1+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,xr[e[0]]+xr[e[1]]+xr[e[2]]+xr[e[3]]+"-"+xr[e[4]]+xr[e[5]]+"-"+xr[e[6]]+xr[e[7]]+"-"+xr[e[8]]+xr[e[9]]+"-"+xr[e[10]]+xr[e[11]]+xr[e[12]]+xr[e[13]]+xr[e[14]]+xr[e[15]]}function yv(e,t=10,o=0){e=e.toString();for(let r=0;r<e.length;r++)o+=e[r]*t,t--,t<2&&(t=9);return o=o%11,o=o<2?0:11-o,e+o}function lM(e){return yv(yv(e.substr(0,12),5),6)===e}function cM(e){return yv(yv(e.substr(0,9)),11)===e}function jee(e){return e?(e=e.toString().replace(/[^0-9]/g,""),e.length===11?cM(e):e.length===14?lM(e):!1):!1}async function Gee(e,t){let o=!0,r="";if(!e)return{valido:o,mensagem:r};if(e=e.replace(/[^0-9]/g,""),e.length===11?(o=cM(e),r="CPF inv\xE1lido"):e.length===14?(o=lM(e),r="CNPJ inv\xE1lido"):(o=!1,r="Digite um n\xFAmero de 11 ou 14 d\xEDgitos"),!o)return{valido:o,mensagem:r};const a=await je.contato.lePorNumeroDocumentoNacional(e);return o=!Object.keys(a).length||a.id===t,r=o?"":e.length===11?"Este CPF j\xE1 foi cadastrado":"Este CNPJ j\xE1 foi cadastrado",{valido:o,mensagem:r}}function Wee(e,t){let o={};for(let r=0;r<e.length;r++){const a=$utils.removerCaracteresEspeciais(e[r]).split(" ");a[0]=a[0].toLowerCase();for(let n=1;n<a.length;n++)a[n]=a[n].toLowerCase().charAt(0).toUpperCase()+a[n].toLowerCase().slice(1);const i=a.join("");o[i]=t[r]||""}return o}async function yw(e){const{objectStore:t}=e!=null?e:{};let o,r;if(!("indexedDB"in window))throw new Error("Navegador sem suporte ao IndexedDB");if(o=localStorage.getItem("bancoDeDados"),!o)throw new Error("Banco de dados n\xE3o identificado");return r=indexedDB.open(`${o}_local`,1),r.onupgradeneeded=function(a){a.target.result.createObjectStore(t,{keyPath:"_id"}).createIndex("_id","_id",{unique:!0})},new Promise((a,i)=>{r.onsuccess=function(n){a()},r.onerror=function(n){a()}})}async function Xee(e){const{objectStore:t,id:o}=e!=null?e:{};let r,a,i,n;return r=new Promise((s,l)=>{i=s}),await yw({objectStore:t}),n=localStorage.getItem("bancoDeDados"),a=indexedDB.open(`${n}_local`,1),a.onsuccess=function(){a=a.result.transaction([t],"readwrite").objectStore(t).delete(o),a.onsuccess=function(u){i(u.target.result)},a.onerror=function(u){i()}},r}async function Yee(e){const{objectStore:t,data:o}=e!=null?e:{};let r,a,i,n;return r=new Promise((s,l)=>{i=s}),await yw({objectStore:t}),n=localStorage.getItem("bancoDeDados"),a=indexedDB.open(`${n}_local`,1),a.onsuccess=function(){a=a.result.transaction([t],"readwrite").objectStore(t).put(o),a.onsuccess=function(u){i()},a.onerror=function(u){i()}},r}async function Kee(e){const{objectStore:t,id:o}=e!=null?e:{};let r,a,i,n;return r=new Promise((s,l)=>{i=s}),await yw({objectStore:t}),n=localStorage.getItem("bancoDeDados"),a=indexedDB.open(`${n}_local`,1),a.onsuccess=function(){a=a.result.transaction([t],"readwrite").objectStore(t).get(o),a.onsuccess=function(u){i(u.target.result)},a.onerror=function(u){i()}},r}var Qee={removeItem:Xee,getItem:Kee,setItem:Yee};const Jee=function(e){var l;let o=e.toString().split("."),r=Number(o[0]),a=(l=o[1])!=null?l:"00",i=Number(a[1]),n=Number("0."+a.substr(0,2)),s=Number("0."+a.substr(2));return s>.5?n+=.01:s<.5||i%2===0?n+=0:n+=.01,r+n},uM=localStorage.getItem("dispositivoCliente"),Zee="wss://api.b15.com.br/websocket",Yy={};let jm;async function ete(e,t,o){await tte();const r=$utils.uuid();let a,i,n=new Promise((s,l)=>{i=s});return jm.send(JSON.stringify({funcao:"msg",idMsg:r,idOrigem:uM,idDestino:e,msg:t,module:o})),a=setTimeout(i,30*1e3),Yy[r]={resolve:i,timeoutId:a},n}async function tte(){try{if(jm)return;await new Promise((e,t)=>{const o=new WebSocket(Zee),r=setTimeout(t,10*1e3);o.onopen=()=>{o.send(JSON.stringify({funcao:"login",idDispositivo:uM}))},o.onmessage=a=>{var n,s;const i=(s=JSON.parse((n=a.data)!=null?n:null))!=null?s:{};if(i.funcao==="login"&&(clearTimeout(r),jm=o,e()),i.funcao==="msg"){const l=Yy[i.idMsg];clearTimeout(l.timeoutId),delete Yy[i.idMsg],l.resolve(i.msg)}},o.onclose=()=>{jm=null},o.onerror=()=>{jm=null}})}catch(e){console.error(e)}}var ote={enviarMensagem:ete},Cw={},Rg={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});function ate(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var rte=function e(t,o){ate(this,e),this.data=t,this.text=o.text||t,this.options=o};Si.default=rte;Object.defineProperty(Rg,"__esModule",{value:!0});Rg.CODE39=void 0;var ite=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),nte=Si,ste=lte(nte);function lte(e){return e&&e.__esModule?e:{default:e}}function cte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ute(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fte=function(e){dte(t,e);function t(o,r){return cte(this,t),o=o.toUpperCase(),r.mod43&&(o+=hte(vte(o))),ute(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return ite(t,[{key:"encode",value:function(){for(var r=i2("*"),a=0;a<this.data.length;a++)r+=i2(this.data[a])+"0";return r+=i2("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(ste.default),dM=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],mte=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function i2(e){return pte(fM(e))}function pte(e){return mte[e].toString(2)}function hte(e){return dM[e]}function fM(e){return dM.indexOf(e)}function vte(e){for(var t=0,o=0;o<e.length;o++)t+=fM(e[o]);return t=t%43,t}Rg.CODE39=fte;var gs={},xw={},Hf={},pa={};Object.defineProperty(pa,"__esModule",{value:!0});var Sm;function n2(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var mM=pa.SET_A=0,pM=pa.SET_B=1,hM=pa.SET_C=2;pa.SHIFT=98;var gte=pa.START_A=103,_te=pa.START_B=104,bte=pa.START_C=105;pa.MODULO=103;pa.STOP=106;pa.FNC1=207;pa.SET_BY_CODE=(Sm={},n2(Sm,gte,mM),n2(Sm,_te,pM),n2(Sm,bte,hM),Sm);pa.SWAP={101:mM,100:pM,99:hM};pa.A_START_CHAR=String.fromCharCode(208);pa.B_START_CHAR=String.fromCharCode(209);pa.C_START_CHAR=String.fromCharCode(210);pa.A_CHARS="[\0-_\xC8-\xCF]";pa.B_CHARS="[ -\x7F\xC8-\xCF]";pa.C_CHARS="(\xCF*[0-9]{2}\xCF*)";pa.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Hf,"__esModule",{value:!0});var yte=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Cte=Si,xte=wte(Cte),Vi=pa;function wte(e){return e&&e.__esModule?e:{default:e}}function Ite(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ete(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ste(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ate=function(e){Ste(t,e);function t(o,r){Ite(this,t);var a=Ete(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.substring(1),r));return a.bytes=o.split("").map(function(i){return i.charCodeAt(0)}),a}return yte(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,a=r.shift()-105,i=Vi.SET_BY_CODE[a];if(i===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(Vi.FNC1);var n=t.next(r,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(a)+n.result+t.getBar((n.checksum+a)%Vi.MODULO)+t.getBar(Vi.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return Vi.BARS[r]?Vi.BARS[r].toString():""}},{key:"correctIndex",value:function(r,a){if(a===Vi.SET_A){var i=r.shift();return i<32?i+64:i-32}else return a===Vi.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,a,i){if(!r.length)return{result:"",checksum:0};var n=void 0,s=void 0;if(r[0]>=200){s=r.shift()-105;var l=Vi.SWAP[s];l!==void 0?n=t.next(r,a+1,l):((i===Vi.SET_A||i===Vi.SET_B)&&s===Vi.SHIFT&&(r[0]=i===Vi.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),n=t.next(r,a+1,i))}else s=t.correctIndex(r,i),n=t.next(r,a+1,i);var u=t.getBar(s),c=s*a;return{result:u+n.result,checksum:c+n.checksum}}}]),t}(xte.default);Hf.default=Ate;var ww={};Object.defineProperty(ww,"__esModule",{value:!0});var sc=pa,vM=function(t){return t.match(new RegExp("^"+sc.A_CHARS+"*"))[0].length},gM=function(t){return t.match(new RegExp("^"+sc.B_CHARS+"*"))[0].length},_M=function(t){return t.match(new RegExp("^"+sc.C_CHARS+"*"))[0]};function Iw(e,t){var o=t?sc.A_CHARS:sc.B_CHARS,r=e.match(new RegExp("^("+o+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+bM(e.substring(r[1].length));var a=e.match(new RegExp("^"+o+"+"))[0];return a.length===e.length?e:a+String.fromCharCode(t?205:206)+Iw(e.substring(a.length),!t)}function bM(e){var t=_M(e),o=t.length;if(o===e.length)return e;e=e.substring(o);var r=vM(e)>=gM(e);return t+String.fromCharCode(r?206:205)+Iw(e,r)}ww.default=function(e){var t=void 0,o=_M(e).length;if(o>=2)t=sc.C_START_CHAR+bM(e);else{var r=vM(e)>gM(e);t=(r?sc.A_START_CHAR:sc.B_START_CHAR)+Iw(e,r)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,i){return String.fromCharCode(203)+i})};Object.defineProperty(xw,"__esModule",{value:!0});var Tte=Hf,Ote=yM(Tte),Dte=ww,Pte=yM(Dte);function yM(e){return e&&e.__esModule?e:{default:e}}function Mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Nte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Fte=function(e){Nte(t,e);function t(o,r){if(Mte(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(o))var a=s2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,Pte.default)(o),r));else var a=s2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r));return s2(a)}return t}(Ote.default);xw.default=Fte;var Ew={};Object.defineProperty(Ew,"__esModule",{value:!0});var Rte=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),kte=Hf,Vte=qte(kte),$O=pa;function qte(e){return e&&e.__esModule?e:{default:e}}function Bte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lte(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ute=function(e){$te(t,e);function t(o,r){return Bte(this,t),Lte(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,$O.A_START_CHAR+o,r))}return Rte(t,[{key:"valid",value:function(){return new RegExp("^"+$O.A_CHARS+"+$").test(this.data)}}]),t}(Vte.default);Ew.default=Ute;var Sw={};Object.defineProperty(Sw,"__esModule",{value:!0});var zte=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Hte=Hf,jte=Gte(Hte),UO=pa;function Gte(e){return e&&e.__esModule?e:{default:e}}function Wte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xte(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Yte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Kte=function(e){Yte(t,e);function t(o,r){return Wte(this,t),Xte(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,UO.B_START_CHAR+o,r))}return zte(t,[{key:"valid",value:function(){return new RegExp("^"+UO.B_CHARS+"+$").test(this.data)}}]),t}(jte.default);Sw.default=Kte;var Aw={};Object.defineProperty(Aw,"__esModule",{value:!0});var Qte=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Jte=Hf,Zte=eoe(Jte),zO=pa;function eoe(e){return e&&e.__esModule?e:{default:e}}function toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ooe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function aoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var roe=function(e){aoe(t,e);function t(o,r){return toe(this,t),ooe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,zO.C_START_CHAR+o,r))}return Qte(t,[{key:"valid",value:function(){return new RegExp("^"+zO.C_CHARS+"+$").test(this.data)}}]),t}(Zte.default);Aw.default=roe;Object.defineProperty(gs,"__esModule",{value:!0});gs.CODE128C=gs.CODE128B=gs.CODE128A=gs.CODE128=void 0;var ioe=xw,noe=kg(ioe),soe=Ew,loe=kg(soe),coe=Sw,uoe=kg(coe),doe=Aw,foe=kg(doe);function kg(e){return e&&e.__esModule?e:{default:e}}gs.CODE128=noe.default;gs.CODE128A=loe.default;gs.CODE128B=uoe.default;gs.CODE128C=foe.default;var gi={},Tw={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.SIDE_BIN="101";Pn.MIDDLE_BIN="01010";Pn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Pn.EAN2_STRUCTURE=["LL","LG","GL","GG"];Pn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Pn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Vg={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});var moe=Pn,poe=function(t,o,r){var a=t.split("").map(function(n,s){return moe.BINARIES[o[s]]}).map(function(n,s){return n?n[t[s]]:""});if(r){var i=t.length-1;a=a.map(function(n,s){return s<i?n+r:n})}return a.join("")};Gu.default=poe;Object.defineProperty(Vg,"__esModule",{value:!0});var hoe=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Ed=Pn,voe=Gu,HO=CM(voe),goe=Si,_oe=CM(goe);function CM(e){return e&&e.__esModule?e:{default:e}}function boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yoe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Coe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var xoe=function(e){Coe(t,e);function t(o,r){boe(this,t);var a=yoe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r));return a.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return hoe(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,a){return this.text.substr(r,a)}},{key:"leftEncode",value:function(r,a){return(0,HO.default)(r,a)}},{key:"rightText",value:function(r,a){return this.text.substr(r,a)}},{key:"rightEncode",value:function(r,a){return(0,HO.default)(r,a)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:Ed.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Ed.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Ed.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var r=[Ed.SIDE_BIN,this.leftEncode(),Ed.MIDDLE_BIN,this.rightEncode(),Ed.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),t}(_oe.default);Vg.default=xoe;Object.defineProperty(Tw,"__esModule",{value:!0});var woe=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Am=function e(t,o,r){t===null&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return i===null?void 0:e(i,o,r)}else{if("value"in a)return a.value;var n=a.get;return n===void 0?void 0:n.call(r)}},Ioe=Pn,Eoe=Vg,Soe=Aoe(Eoe);function Aoe(e){return e&&e.__esModule?e:{default:e}}function Toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ooe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Doe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jO=function(t){var o=t.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*3:r+a},0);return(10-o%10)%10},Poe=function(e){Doe(t,e);function t(o,r){Toe(this,t),o.search(/^[0-9]{12}$/)!==-1&&(o+=jO(o));var a=Ooe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r));return a.lastChar=r.lastChar,a}return woe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===jO(this.data)}},{key:"leftText",value:function(){return Am(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),a=Ioe.EAN13_STRUCTURE[this.data[0]];return Am(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,r,a)}},{key:"rightText",value:function(){return Am(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Am(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Am(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),t}(Soe.default);Tw.default=Poe;var Ow={};Object.defineProperty(Ow,"__esModule",{value:!0});var Moe=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),t1=function e(t,o,r){t===null&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return i===null?void 0:e(i,o,r)}else{if("value"in a)return a.value;var n=a.get;return n===void 0?void 0:n.call(r)}},Noe=Vg,Foe=Roe(Noe);function Roe(e){return e&&e.__esModule?e:{default:e}}function koe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Voe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var GO=function(t){var o=t.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a:r+a*3},0);return(10-o%10)%10},Boe=function(e){qoe(t,e);function t(o,r){return koe(this,t),o.search(/^[0-9]{7}$/)!==-1&&(o+=GO(o)),Voe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return Moe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===GO(this.data)}},{key:"leftText",value:function(){return t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return t1(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),t}(Foe.default);Ow.default=Boe;var Dw={};Object.defineProperty(Dw,"__esModule",{value:!0});var Loe=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),$oe=Pn,Uoe=Gu,zoe=xM(Uoe),Hoe=Si,joe=xM(Hoe);function xM(e){return e&&e.__esModule?e:{default:e}}function Goe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Woe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Xoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Yoe=function(t){var o=t.split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*9:r+a*3},0);return o%10},Koe=function(e){Xoe(t,e);function t(o,r){return Goe(this,t),Woe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return Loe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=$oe.EAN5_STRUCTURE[Yoe(this.data)];return{data:"1011"+(0,zoe.default)(this.data,r,"01"),text:this.text}}}]),t}(joe.default);Dw.default=Koe;var Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});var Qoe=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Joe=Pn,Zoe=Gu,eae=wM(Zoe),tae=Si,oae=wM(tae);function wM(e){return e&&e.__esModule?e:{default:e}}function aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nae=function(e){iae(t,e);function t(o,r){return aae(this,t),rae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return Qoe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=Joe.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,eae.default)(this.data,r,"01"),text:this.text}}}]),t}(oae.default);Pw.default=nae;var h0={};Object.defineProperty(h0,"__esModule",{value:!0});var sae=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}();h0.checksum=Ky;var lae=Gu,Sd=IM(lae),cae=Si,uae=IM(cae);function IM(e){return e&&e.__esModule?e:{default:e}}function dae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pae=function(e){mae(t,e);function t(o,r){dae(this,t),o.search(/^[0-9]{11}$/)!==-1&&(o+=Ky(o));var a=fae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r));return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return sae(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Ky(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Sd.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Sd.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Sd.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Sd.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Sd.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Sd.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),t}(uae.default);function Ky(e){var t=0,o;for(o=1;o<11;o+=2)t+=parseInt(e[o]);for(o=0;o<11;o+=2)t+=parseInt(e[o])*3;return(10-t%10)%10}h0.default=pae;var Mw={};Object.defineProperty(Mw,"__esModule",{value:!0});var hae=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),vae=Gu,gae=EM(vae),_ae=Si,bae=EM(_ae),yae=h0;function EM(e){return e&&e.__esModule?e:{default:e}}function Cae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function xae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wae=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Iae=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Eae=function(e){xae(t,e);function t(o,r){Cae(this,t);var a=l2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r));if(a.isValid=!1,o.search(/^[0-9]{6}$/)!==-1)a.middleDigits=o,a.upcA=WO(o,"0"),a.text=r.text||""+a.upcA[0]+o+a.upcA[a.upcA.length-1],a.isValid=!0;else if(o.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=o.substring(1,o.length-1),a.upcA=WO(a.middleDigits,o[0]),a.upcA[a.upcA.length-1]===o[o.length-1])a.isValid=!0;else return l2(a);else return l2(a);return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return hae(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],a=this.upcA[this.upcA.length-1],i=Iae[parseInt(a)][parseInt(r)];return(0,gae.default)(this.middleDigits,i)}}]),t}(bae.default);function WO(e,t){for(var o=parseInt(e[e.length-1]),r=wae[o],a="",i=0,n=0;n<r.length;n++){var s=r[n];s==="X"?a+=e[i++]:a+=s}return a=""+t+a,""+a+(0,yae.checksum)(a)}Mw.default=Eae;Object.defineProperty(gi,"__esModule",{value:!0});gi.UPCE=gi.UPC=gi.EAN2=gi.EAN5=gi.EAN8=gi.EAN13=void 0;var Sae=Tw,Aae=jf(Sae),Tae=Ow,Oae=jf(Tae),Dae=Dw,Pae=jf(Dae),Mae=Pw,Nae=jf(Mae),Fae=h0,Rae=jf(Fae),kae=Mw,Vae=jf(kae);function jf(e){return e&&e.__esModule?e:{default:e}}gi.EAN13=Aae.default;gi.EAN8=Oae.default;gi.EAN5=Pae.default;gi.EAN2=Nae.default;gi.UPC=Rae.default;gi.UPCE=Vae.default;var bf={},qg={},v0={};Object.defineProperty(v0,"__esModule",{value:!0});v0.START_BIN="1010";v0.END_BIN="11101";v0.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(qg,"__esModule",{value:!0});var qae=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),o1=v0,Bae=Si,Lae=$ae(Bae);function $ae(e){return e&&e.__esModule?e:{default:e}}function Uae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Hae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jae=function(e){Hae(t,e);function t(){return Uae(this,t),zae(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return qae(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,a=this.data.match(/.{2}/g).map(function(i){return r.encodePair(i)}).join("");return{data:o1.START_BIN+a+o1.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var a=o1.BINARIES[r[1]];return o1.BINARIES[r[0]].split("").map(function(i,n){return(i==="1"?"111":"1")+(a[n]==="1"?"000":"0")}).join("")}}]),t}(Lae.default);qg.default=jae;var Nw={};Object.defineProperty(Nw,"__esModule",{value:!0});var Gae=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Wae=qg,Xae=Yae(Wae);function Yae(e){return e&&e.__esModule?e:{default:e}}function Kae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Jae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var XO=function(t){var o=t.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,a,i){return r+a*(3-i%2*2)},0);return Math.ceil(o/10)*10-o},Zae=function(e){Jae(t,e);function t(o,r){return Kae(this,t),o.search(/^[0-9]{13}$/)!==-1&&(o+=XO(o)),Qae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return Gae(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===XO(this.data)}}]),t}(Xae.default);Nw.default=Zae;Object.defineProperty(bf,"__esModule",{value:!0});bf.ITF14=bf.ITF=void 0;var ere=qg,tre=SM(ere),ore=Nw,are=SM(ore);function SM(e){return e&&e.__esModule?e:{default:e}}bf.ITF=tre.default;bf.ITF14=are.default;var yn={},Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});var rre=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),ire=Si,nre=sre(ire);function sre(e){return e&&e.__esModule?e:{default:e}}function lre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ure(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dre=function(e){ure(t,e);function t(o,r){return lre(this,t),cre(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return rre(t,[{key:"encode",value:function(){for(var r="110",a=0;a<this.data.length;a++){var i=parseInt(this.data[a]),n=i.toString(2);n=fre(n,4-n.length);for(var s=0;s<n.length;s++)r+=n[s]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(nre.default);function fre(e,t){for(var o=0;o<t;o++)e="0"+e;return e}Wu.default=dre;var Fw={},Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.mod10=mre;Xu.mod11=pre;function mre(e){for(var t=0,o=0;o<e.length;o++){var r=parseInt(e[o]);(o+e.length)%2===0?t+=r:t+=r*2%10+Math.floor(r*2/10)}return(10-t%10)%10}function pre(e){for(var t=0,o=[2,3,4,5,6,7],r=0;r<e.length;r++){var a=parseInt(e[e.length-1-r]);t+=o[r%o.length]*a}return(11-t%11)%11}Object.defineProperty(Fw,"__esModule",{value:!0});var hre=Wu,vre=_re(hre),gre=Xu;function _re(e){return e&&e.__esModule?e:{default:e}}function bre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var xre=function(e){Cre(t,e);function t(o,r){return bre(this,t),yre(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o+(0,gre.mod10)(o),r))}return t}(vre.default);Fw.default=xre;var Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});var wre=Wu,Ire=Sre(wre),Ere=Xu;function Sre(e){return e&&e.__esModule?e:{default:e}}function Are(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ore(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Dre=function(e){Ore(t,e);function t(o,r){return Are(this,t),Tre(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o+(0,Ere.mod11)(o),r))}return t}(Ire.default);Rw.default=Dre;var kw={};Object.defineProperty(kw,"__esModule",{value:!0});var Pre=Wu,Mre=Nre(Pre),YO=Xu;function Nre(e){return e&&e.__esModule?e:{default:e}}function Fre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rre(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Vre=function(e){kre(t,e);function t(o,r){return Fre(this,t),o+=(0,YO.mod10)(o),o+=(0,YO.mod10)(o),Rre(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return t}(Mre.default);kw.default=Vre;var Vw={};Object.defineProperty(Vw,"__esModule",{value:!0});var qre=Wu,Bre=Lre(qre),KO=Xu;function Lre(e){return e&&e.__esModule?e:{default:e}}function $re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ure(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Hre=function(e){zre(t,e);function t(o,r){return $re(this,t),o+=(0,KO.mod11)(o),o+=(0,KO.mod10)(o),Ure(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return t}(Bre.default);Vw.default=Hre;Object.defineProperty(yn,"__esModule",{value:!0});yn.MSI1110=yn.MSI1010=yn.MSI11=yn.MSI10=yn.MSI=void 0;var jre=Wu,Gre=g0(jre),Wre=Fw,Xre=g0(Wre),Yre=Rw,Kre=g0(Yre),Qre=kw,Jre=g0(Qre),Zre=Vw,eie=g0(Zre);function g0(e){return e&&e.__esModule?e:{default:e}}yn.MSI=Gre.default;yn.MSI10=Xre.default;yn.MSI11=Kre.default;yn.MSI1010=Jre.default;yn.MSI1110=eie.default;var Bg={};Object.defineProperty(Bg,"__esModule",{value:!0});Bg.pharmacode=void 0;var tie=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),oie=Si,aie=rie(oie);function rie(e){return e&&e.__esModule?e:{default:e}}function iie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lie=function(e){sie(t,e);function t(o,r){iie(this,t);var a=nie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r));return a.number=parseInt(o,10),a}return tie(t,[{key:"encode",value:function(){for(var r=this.number,a="";!isNaN(r)&&r!=0;)r%2===0?(a="11100"+a,r=(r-2)/2):(a="100"+a,r=(r-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(aie.default);Bg.pharmacode=lie;var Lg={};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.codabar=void 0;var cie=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),uie=Si,die=fie(uie);function fie(e){return e&&e.__esModule?e:{default:e}}function mie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vie=function(e){hie(t,e);function t(o,r){mie(this,t),o.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(o="A"+o+"A");var a=pie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.toUpperCase(),r));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return cie(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],a=this.getEncodings(),i=0;i<this.data.length;i++)r.push(a[this.data.charAt(i)]),i!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(die.default);Lg.codabar=vie;var Ug={};Object.defineProperty(Ug,"__esModule",{value:!0});Ug.GenericBarcode=void 0;var gie=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_ie=Si,bie=yie(_ie);function yie(e){return e&&e.__esModule?e:{default:e}}function Cie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function wie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Iie=function(e){wie(t,e);function t(o,r){return Cie(this,t),xie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,r))}return gie(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(bie.default);Ug.GenericBarcode=Iie;Object.defineProperty(Cw,"__esModule",{value:!0});var Eie=Rg,a1=gs,Ad=gi,QO=bf,Tm=yn,Sie=Bg,Aie=Lg,Tie=Ug;Cw.default={CODE39:Eie.CODE39,CODE128:a1.CODE128,CODE128A:a1.CODE128A,CODE128B:a1.CODE128B,CODE128C:a1.CODE128C,EAN13:Ad.EAN13,EAN8:Ad.EAN8,EAN5:Ad.EAN5,EAN2:Ad.EAN2,UPC:Ad.UPC,UPCE:Ad.UPCE,ITF14:QO.ITF14,ITF:QO.ITF,MSI:Tm.MSI,MSI10:Tm.MSI10,MSI11:Tm.MSI11,MSI1010:Tm.MSI1010,MSI1110:Tm.MSI1110,pharmacode:Sie.pharmacode,codabar:Aie.codabar,GenericBarcode:Tie.GenericBarcode};var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});var Oie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};Gf.default=function(e,t){return Oie({},e,t)};var qw={};Object.defineProperty(qw,"__esModule",{value:!0});qw.default=Die;function Die(e){var t=[];function o(r){if(Array.isArray(r))for(var a=0;a<r.length;a++)o(r[a]);else r.text=r.text||"",r.data=r.data||"",t.push(r)}return o(e),t}var Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});Bw.default=Pie;function Pie(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var Lw={},$w={},zg={};Object.defineProperty(zg,"__esModule",{value:!0});zg.default=Mie;function Mie(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var o in t)t.hasOwnProperty(o)&&(o=t[o],typeof e[o]=="string"&&(e[o]=parseInt(e[o],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var Hg={};Object.defineProperty(Hg,"__esModule",{value:!0});var Nie={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Hg.default=Nie;Object.defineProperty($w,"__esModule",{value:!0});var Fie=zg,Rie=AM(Fie),kie=Hg,JO=AM(kie);function AM(e){return e&&e.__esModule?e:{default:e}}function Vie(e){var t={};for(var o in JO.default)JO.default.hasOwnProperty(o)&&(e.hasAttribute("jsbarcode-"+o.toLowerCase())&&(t[o]=e.getAttribute("jsbarcode-"+o.toLowerCase())),e.hasAttribute("data-"+o.toLowerCase())&&(t[o]=e.getAttribute("data-"+o.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,Rie.default)(t),t}$w.default=Vie;var Uw={},zw={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.getTotalWidthOfEncodings=Yi.calculateEncodingAttributes=Yi.getBarcodePadding=Yi.getEncodingHeight=Yi.getMaximumHeightOfEncodings=void 0;var qie=Gf,Bie=Lie(qie);function Lie(e){return e&&e.__esModule?e:{default:e}}function TM(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function OM(e,t,o){if(o.displayValue&&t<e){if(o.textAlign=="center")return Math.floor((e-t)/2);if(o.textAlign=="left")return 0;if(o.textAlign=="right")return Math.floor(e-t)}return 0}function $ie(e,t,o){for(var r=0;r<e.length;r++){var a=e[r],i=(0,Bie.default)(t,a.options),n;i.displayValue?n=Hie(a.text,i,o):n=0;var s=a.data.length*i.width;a.width=Math.ceil(Math.max(n,s)),a.height=TM(a,i),a.barcodePadding=OM(n,s,i)}}function Uie(e){for(var t=0,o=0;o<e.length;o++)t+=e[o].width;return t}function zie(e){for(var t=0,o=0;o<e.length;o++)e[o].height>t&&(t=e[o].height);return t}function Hie(e,t,o){var r;if(o)r=o;else if(typeof document!="undefined")r=document.createElement("canvas").getContext("2d");else return 0;r.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var a=r.measureText(e);if(!a)return 0;var i=a.width;return i}Yi.getMaximumHeightOfEncodings=zie;Yi.getEncodingHeight=TM;Yi.getBarcodePadding=OM;Yi.calculateEncodingAttributes=$ie;Yi.getTotalWidthOfEncodings=Uie;Object.defineProperty(zw,"__esModule",{value:!0});var jie=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Gie=Gf,Wie=Xie(Gie),c2=Yi;function Xie(e){return e&&e.__esModule?e:{default:e}}function Yie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Kie=function(){function e(t,o,r){Yie(this,e),this.canvas=t,this.encodings=o,this.options=r}return jie(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var o=0;o<this.encodings.length;o++){var r=(0,Wie.default)(this.options,this.encodings[o].options);this.drawCanvasBarcode(r,this.encodings[o]),this.drawCanvasText(r,this.encodings[o]),this.moveCanvasDrawing(this.encodings[o])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var o=this.canvas.getContext("2d");o.save(),(0,c2.calculateEncodingAttributes)(this.encodings,this.options,o);var r=(0,c2.getTotalWidthOfEncodings)(this.encodings),a=(0,c2.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,o.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(o.fillStyle=this.options.background,o.fillRect(0,0,this.canvas.width,this.canvas.height)),o.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(o,r){var a=this.canvas.getContext("2d"),i=r.data,n;o.textPosition=="top"?n=o.marginTop+o.fontSize+o.textMargin:n=o.marginTop,a.fillStyle=o.lineColor;for(var s=0;s<i.length;s++){var l=s*o.width+r.barcodePadding;i[s]==="1"?a.fillRect(l,n,o.width,o.height):i[s]&&a.fillRect(l,n,o.width,o.height*i[s])}}},{key:"drawCanvasText",value:function(o,r){var a=this.canvas.getContext("2d"),i=o.fontOptions+" "+o.fontSize+"px "+o.font;if(o.displayValue){var n,s;o.textPosition=="top"?s=o.marginTop+o.fontSize-o.textMargin:s=o.height+o.textMargin+o.marginTop+o.fontSize,a.font=i,o.textAlign=="left"||r.barcodePadding>0?(n=0,a.textAlign="left"):o.textAlign=="right"?(n=r.width-1,a.textAlign="right"):(n=r.width/2,a.textAlign="center"),a.fillText(r.text,n,s)}}},{key:"moveCanvasDrawing",value:function(o){var r=this.canvas.getContext("2d");r.translate(o.width,0)}},{key:"restoreCanvas",value:function(){var o=this.canvas.getContext("2d");o.restore()}}]),e}();zw.default=Kie;var Hw={};Object.defineProperty(Hw,"__esModule",{value:!0});var Qie=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),Jie=Gf,Zie=ene(Jie),u2=Yi;function ene(e){return e&&e.__esModule?e:{default:e}}function tne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r1="http://www.w3.org/2000/svg",one=function(){function e(t,o,r){tne(this,e),this.svg=t,this.encodings=o,this.options=r,this.document=r.xmlDocument||document}return Qie(e,[{key:"render",value:function(){var o=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var a=this.encodings[r],i=(0,Zie.default)(this.options,a.options),n=this.createGroup(o,i.marginTop,this.svg);this.setGroupOptions(n,i),this.drawSvgBarcode(n,i,a),this.drawSVGText(n,i,a),o+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,u2.calculateEncodingAttributes)(this.encodings,this.options);var o=(0,u2.getTotalWidthOfEncodings)(this.encodings),r=(0,u2.getMaximumHeightOfEncodings)(this.encodings),a=o+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,r),this.options.background&&this.drawRect(0,0,a,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(o,r,a){var i=a.data,n;r.textPosition=="top"?n=r.fontSize+r.textMargin:n=0;for(var s=0,l=0,u=0;u<i.length;u++)l=u*r.width+a.barcodePadding,i[u]==="1"?s++:s>0&&(this.drawRect(l-r.width*s,n,r.width*s,r.height,o),s=0);s>0&&this.drawRect(l-r.width*(s-1),n,r.width*s,r.height,o)}},{key:"drawSVGText",value:function(o,r,a){var i=this.document.createElementNS(r1,"text");if(r.displayValue){var n,s;i.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?s=r.fontSize-r.textMargin:s=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||a.barcodePadding>0?(n=0,i.setAttribute("text-anchor","start")):r.textAlign=="right"?(n=a.width-1,i.setAttribute("text-anchor","end")):(n=a.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",n),i.setAttribute("y",s),i.appendChild(this.document.createTextNode(a.text)),o.appendChild(i)}}},{key:"setSvgAttributes",value:function(o,r){var a=this.svg;a.setAttribute("width",o+"px"),a.setAttribute("height",r+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+o+" "+r),a.setAttribute("xmlns",r1),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(o,r,a){var i=this.document.createElementNS(r1,"g");return i.setAttribute("transform","translate("+o+", "+r+")"),a.appendChild(i),i}},{key:"setGroupOptions",value:function(o,r){o.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(o,r,a,i,n){var s=this.document.createElementNS(r1,"rect");return s.setAttribute("x",o),s.setAttribute("y",r),s.setAttribute("width",a),s.setAttribute("height",i),n.appendChild(s),s}}]),e}();Hw.default=one;var jw={};Object.defineProperty(jw,"__esModule",{value:!0});var ane=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}();function rne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ine=function(){function e(t,o,r){rne(this,e),this.object=t,this.encodings=o,this.options=r}return ane(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();jw.default=ine;Object.defineProperty(Uw,"__esModule",{value:!0});var nne=zw,sne=Gw(nne),lne=Hw,cne=Gw(lne),une=jw,dne=Gw(une);function Gw(e){return e&&e.__esModule?e:{default:e}}Uw.default={CanvasRenderer:sne.default,SVGRenderer:cne.default,ObjectRenderer:dne.default};var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});function Ww(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Yw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fne=function(e){Yw(t,e);function t(o,r){Ww(this,t);var a=Xw(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.name="InvalidInputException",a.symbology=o,a.input=r,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return t}(Error),mne=function(e){Yw(t,e);function t(){Ww(this,t);var o=Xw(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="InvalidElementException",o.message="Not supported type to render on",o}return t}(Error),pne=function(e){Yw(t,e);function t(){Ww(this,t);var o=Xw(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="NoElementException",o.message="No element to render on.",o}return t}(Error);Wf.InvalidInputException=fne;Wf.InvalidElementException=mne;Wf.NoElementException=pne;Object.defineProperty(Lw,"__esModule",{value:!0});var hne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vne=$w,Qy=DM(vne),gne=Uw,Gm=DM(gne),_ne=Wf;function DM(e){return e&&e.__esModule?e:{default:e}}function Kw(e){if(typeof e=="string")return bne(e);if(Array.isArray(e)){for(var t=[],o=0;o<e.length;o++)t.push(Kw(e[o]));return t}else{if(typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLImageElement)return yne(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&e instanceof SVGElement)return{element:e,options:(0,Qy.default)(e),renderer:Gm.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,Qy.default)(e),renderer:Gm.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:Gm.default.CanvasRenderer};if(e&&(typeof e=="undefined"?"undefined":hne(e))==="object"&&!e.nodeName)return{element:e,renderer:Gm.default.ObjectRenderer};throw new _ne.InvalidElementException}}function bne(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var o=[],r=0;r<t.length;r++)o.push(Kw(t[r]));return o}}function yne(e){var t=document.createElement("canvas");return{element:t,options:(0,Qy.default)(e),renderer:Gm.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}Lw.default=Kw;var Qw={};Object.defineProperty(Qw,"__esModule",{value:!0});var Cne=function(){function e(t,o){for(var r=0;r<o.length;r++){var a=o[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}();function xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var wne=function(){function e(t){xne(this,e),this.api=t}return Cne(e,[{key:"handleCatch",value:function(o){if(o.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw o.message;else throw o;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(o){try{var r=o.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(a){return this.handleCatch(a),this.api}}}]),e}();Qw.default=wne;var Ine=Cw,yu=Ec(Ine),Ene=Gf,_0=Ec(Ene),Sne=qw,PM=Ec(Sne),Ane=Bw,ZO=Ec(Ane),Tne=Lw,One=Ec(Tne),Dne=zg,Pne=Ec(Dne),Mne=Qw,Nne=Ec(Mne),MM=Wf,Fne=Hg,NM=Ec(Fne);function Ec(e){return e&&e.__esModule?e:{default:e}}var nl=function(){},jg=function(t,o,r){var a=new nl;if(typeof t=="undefined")throw Error("No element to render on was provided.");return a._renderProperties=(0,One.default)(t),a._encodings=[],a._options=NM.default,a._errorHandler=new Nne.default(a),typeof o!="undefined"&&(r=r||{},r.format||(r.format=RM()),a.options(r)[r.format](o,r).render()),a};jg.getModule=function(e){return yu.default[e]};for(var e3 in yu.default)yu.default.hasOwnProperty(e3)&&Rne(yu.default,e3);function Rne(e,t){nl.prototype[t]=nl.prototype[t.toUpperCase()]=nl.prototype[t.toLowerCase()]=function(o,r){var a=this;return a._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text=="undefined"?void 0:""+r.text;var i=(0,_0.default)(a._options,r);i=(0,Pne.default)(i);var n=e[t],s=FM(o,n,i);return a._encodings.push(s),a})}}function FM(e,t,o){e=""+e;var r=new t(e,o);if(!r.valid())throw new MM.InvalidInputException(r.constructor.name,e);var a=r.encode();a=(0,PM.default)(a);for(var i=0;i<a.length;i++)a[i].options=(0,_0.default)(o,a[i].options);return a}function RM(){return yu.default.CODE128?"CODE128":Object.keys(yu.default)[0]}nl.prototype.options=function(e){return this._options=(0,_0.default)(this._options,e),this};nl.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};nl.prototype.init=function(){if(!!this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var o=(0,_0.default)(this._options,e.options);o.format=="auto"&&(o.format=RM()),this._errorHandler.wrapBarcodeCall(function(){var r=o.value,a=yu.default[o.format.toUpperCase()],i=FM(r,a,o);Jy(e,i,o)})}}};nl.prototype.render=function(){if(!this._renderProperties)throw new MM.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)Jy(this._renderProperties[e],this._encodings,this._options);else Jy(this._renderProperties,this._encodings,this._options);return this};nl.prototype._defaults=NM.default;function Jy(e,t,o){t=(0,PM.default)(t);for(var r=0;r<t.length;r++)t[r].options=(0,_0.default)(o,t[r].options),(0,ZO.default)(t[r].options);(0,ZO.default)(o);var a=e.renderer,i=new a(e.element,t,o);i.render(),e.afterRender&&e.afterRender()}typeof window!="undefined"&&(window.JsBarcode=jg);typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(e,t){var o=[];return jQuery(this).each(function(){o.push(this)}),jg(o,e,t)});var kne=jg;function Vne(e,t){var o=Object.setPrototypeOf;o?o(e,t):e.__proto__=t}function qne(e,t){t===void 0&&(t=e.constructor);var o=Error.captureStackTrace;o&&o(e,t)}var Bne=function(){var e=function(o,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])},e(o,r)};return function(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Lne=function(e){Bne(t,e);function t(o,r){var a=this.constructor,i=e.call(this,o,r)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),Vne(i,a.prototype),qne(i),i}return t}(Error),$ne=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Ai=function(e){$ne(t,e);function t(o){o===void 0&&(o=void 0);var r=e.call(this,o)||this;return r.message=o,r}return t.prototype.getKind=function(){var o=this.constructor;return o.kind},t.kind="Exception",t}(Lne),Une=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),qn=function(e){Une(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArgumentException",t}(Ai),zne=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Wt=function(e){zne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t}(Ai),Hne=function(){function e(t){if(this.binarizer=t,t===null)throw new Wt("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(t,o){return this.binarizer.getBlackRow(t,o)},e.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,o,r,a){var i=this.binarizer.getLuminanceSource().crop(t,o,r,a);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},e}(),jne=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Tr=function(e){jne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(Ai),Gne=function(){function e(t){this.source=t}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}(),aa=function(){function e(){}return e.arraycopy=function(t,o,r,a,i){for(;i--;)r[a++]=t[o++]},e.currentTimeMillis=function(){return Date.now()},e}(),Wne=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Jw=function(e){Wne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t}(Ai),Xne=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),t3=function(e){Xne(t,e);function t(o,r){o===void 0&&(o=void 0),r===void 0&&(r=void 0);var a=e.call(this,r)||this;return a.index=o,a.message=r,a}return t.kind="ArrayIndexOutOfBoundsException",t}(Jw),Yne=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ii=function(){function e(){}return e.fill=function(t,o){for(var r=0,a=t.length;r<a;r++)t[r]=o},e.fillWithin=function(t,o,r,a){e.rangeCheck(t.length,o,r);for(var i=o;i<r;i++)t[i]=a},e.rangeCheck=function(t,o,r){if(o>r)throw new Wt("fromIndex("+o+") > toIndex("+r+")");if(o<0)throw new t3(o);if(r>t)throw new t3(r)},e.asList=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return t},e.create=function(t,o,r){var a=Array.from({length:t});return a.map(function(i){return Array.from({length:o}).fill(r)})},e.createInt32Array=function(t,o,r){var a=Array.from({length:t});return a.map(function(i){return Int32Array.from({length:o}).fill(r)})},e.equals=function(t,o){if(!t||!o||!t.length||!o.length||t.length!==o.length)return!1;for(var r=0,a=t.length;r<a;r++)if(t[r]!==o[r])return!1;return!0},e.hashCode=function(t){var o,r;if(t===null)return 0;var a=1;try{for(var i=Yne(t),n=i.next();!n.done;n=i.next()){var s=n.value;a=31*a+s}}catch(l){o={error:l}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},e.fillUint8Array=function(t,o){for(var r=0;r!==t.length;r++)t[r]=o},e.copyOf=function(t,o){return t.slice(0,o)},e.copyOfUint8Array=function(t,o){if(t.length<=o){var r=new Uint8Array(o);return r.set(t),r}return t.slice(0,o)},e.copyOfRange=function(t,o,r){var a=r-o,i=new Int32Array(a);return aa.arraycopy(t,o,i,0,a),i},e.binarySearch=function(t,o,r){r===void 0&&(r=e.numberComparator);for(var a=0,i=t.length-1;a<=i;){var n=i+a>>1,s=r(o,t[n]);if(s>0)a=n+1;else if(s<0)i=n-1;else return n}return-a-1},e.numberComparator=function(t,o){return t-o},e}(),Or=function(){function e(){}return e.numberOfTrailingZeros=function(t){var o;if(t===0)return 32;var r=31;return o=t<<16,o!==0&&(r-=16,t=o),o=t<<8,o!==0&&(r-=8,t=o),o=t<<4,o!==0&&(r-=4,t=o),o=t<<2,o!==0&&(r-=2,t=o),r-(t<<1>>>31)},e.numberOfLeadingZeros=function(t){if(t===0)return 32;var o=1;return t>>>16===0&&(o+=16,t<<=16),t>>>24===0&&(o+=8,t<<=8),t>>>28===0&&(o+=4,t<<=4),t>>>30===0&&(o+=2,t<<=2),o-=t>>>31,o},e.toHexString=function(t){return t.toString(16)},e.toBinaryString=function(t){return String(parseInt(String(t),2))},e.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},e.truncDivision=function(t,o){return Math.trunc(t/o)},e.parseInt=function(t,o){return o===void 0&&(o=void 0),parseInt(t,o)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),yi=function(){function e(t,o){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,o==null?this.bits=e.makeArray(t):this.bits=o)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var o=e.makeArray(t);aa.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}},e.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},e.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},e.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},e.prototype.getNextSet=function(t){var o=this.size;if(t>=o)return o;var r=this.bits,a=Math.floor(t/32),i=r[a];i&=~((1<<(t&31))-1);for(var n=r.length;i===0;){if(++a===n)return o;i=r[a]}var s=a*32+Or.numberOfTrailingZeros(i);return s>o?o:s},e.prototype.getNextUnset=function(t){var o=this.size;if(t>=o)return o;var r=this.bits,a=Math.floor(t/32),i=~r[a];i&=~((1<<(t&31))-1);for(var n=r.length;i===0;){if(++a===n)return o;i=~r[a]}var s=a*32+Or.numberOfTrailingZeros(i);return s>o?o:s},e.prototype.setBulk=function(t,o){this.bits[Math.floor(t/32)]=o},e.prototype.setRange=function(t,o){if(o<t||t<0||o>this.size)throw new Wt;if(o!==t){o--;for(var r=Math.floor(t/32),a=Math.floor(o/32),i=this.bits,n=r;n<=a;n++){var s=n>r?0:t&31,l=n<a?31:o&31,u=(2<<l)-(1<<s);i[n]|=u}}},e.prototype.clear=function(){for(var t=this.bits.length,o=this.bits,r=0;r<t;r++)o[r]=0},e.prototype.isRange=function(t,o,r){if(o<t||t<0||o>this.size)throw new Wt;if(o===t)return!0;o--;for(var a=Math.floor(t/32),i=Math.floor(o/32),n=this.bits,s=a;s<=i;s++){var l=s>a?0:t&31,u=s<i?31:o&31,c=(2<<u)-(1<<l)&4294967295;if((n[s]&c)!==(r?c:0))return!1}return!0},e.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},e.prototype.appendBits=function(t,o){if(o<0||o>32)throw new Wt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(var r=o;r>0;r--)this.appendBit((t>>r-1&1)===1)},e.prototype.appendBitArray=function(t){var o=t.size;this.ensureCapacity(this.size+o);for(var r=0;r<o;r++)this.appendBit(t.get(r))},e.prototype.xor=function(t){if(this.size!==t.size)throw new Wt("Sizes don't match");for(var o=this.bits,r=0,a=o.length;r<a;r++)o[r]^=t.bits[r]},e.prototype.toBytes=function(t,o,r,a){for(var i=0;i<a;i++){for(var n=0,s=0;s<8;s++)this.get(t)&&(n|=1<<7-s),t++;o[r+i]=n}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),r=o+1,a=this.bits,i=0;i<r;i++){var n=a[i];n=n>>1&1431655765|(n&1431655765)<<1,n=n>>2&858993459|(n&858993459)<<2,n=n>>4&252645135|(n&252645135)<<4,n=n>>8&16711935|(n&16711935)<<8,n=n>>16&65535|(n&65535)<<16,t[o-i]=n}if(this.size!==r*32){for(var s=r*32-this.size,l=t[0]>>>s,i=1;i<r;i++){var u=t[i];l|=u<<32-s,t[i-1]=l,l=u>>>s}t[r-1]=l}this.bits=t},e.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;return this.size===o.size&&Ii.equals(this.bits,o.bits)},e.prototype.hashCode=function(){return 31*this.size+Ii.hashCode(this.bits)},e.prototype.toString=function(){for(var t="",o=0,r=this.size;o<r;o++)(o&7)===0&&(t+=" "),t+=this.get(o)?"X":".";return t},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e}(),Zy;(function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Zy||(Zy={}));var Ea=Zy,Kne=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),ut=function(e){Kne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(Ai),Qne=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$o;(function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"})($o||($o={}));var lr=function(){function e(t,o,r){for(var a,i,n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];this.valueIdentifier=t,this.name=r,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=n,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(r,this);for(var l=this.values,u=0,c=l.length;u!==c;u++){var d=l[u];e.VALUES_TO_ECI.set(d,this)}try{for(var m=Qne(n),f=m.next();!f.done;f=m.next()){var p=f.value;e.NAME_TO_ECI.set(p,this)}}catch(g){a={error:g}}finally{try{f&&!f.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new ut("incorect value");var o=e.VALUES_TO_ECI.get(t);if(o===void 0)throw new ut("incorect value");return o},e.getCharacterSetECIByName=function(t){var o=e.NAME_TO_ECI.get(t);if(o===void 0)throw new ut("incorect value");return o},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;return this.getName()===o.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e($o.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e($o.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e($o.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e($o.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e($o.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e($o.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e($o.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e($o.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e($o.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e($o.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e($o.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e($o.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e($o.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e($o.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e($o.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e($o.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e($o.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e($o.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e($o.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e($o.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e($o.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e($o.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e($o.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e($o.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e($o.Big5,28,"Big5"),e.GB18030=new e($o.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e($o.EUC_KR,30,"EUC_KR","EUC-KR"),e}(),Jne=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),V1=function(e){Jne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t}(Ai),bs=function(){function e(){}return e.decode=function(t,o){var r=this.encodingName(o);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&t==="ISO-8859-1"},e.encode=function(t,o){var r=this.encodingName(o);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder=="undefined"?this.encodeFallback(t):new TextEncoder().encode(t)},e.isBrowser=function(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"},e.encodingName=function(t){return typeof t=="string"?t:t.getName()},e.encodingCharacterSet=function(t){return t instanceof lr?t:lr.getCharacterSetECIByName(t)},e.decodeFallback=function(t,o){var r=this.encodingCharacterSet(o);if(e.isDecodeFallbackSupported(r)){for(var a="",i=0,n=t.length;i<n;i++){var s=t[i].toString(16);s.length<2&&(s="0"+s),a+="%"+s}return decodeURIComponent(a)}if(r.equals(lr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new V1("Encoding "+this.encodingName(o)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(t){return t.equals(lr.UTF8)||t.equals(lr.ISO8859_1)||t.equals(lr.ASCII)},e.encodeFallback=function(t){for(var o=btoa(unescape(encodeURIComponent(t))),r=o.split(""),a=[],i=0;i<r.length;i++)a.push(r[i].charCodeAt(0));return new Uint8Array(a)},e}(),hr=function(){function e(){}return e.castAsNonUtf8Char=function(t,o){o===void 0&&(o=null);var r=o?o.getName():this.ISO88591;return bs.decode(new Uint8Array([t]),r)},e.guessEncoding=function(t,o){if(o!=null&&o.get(Ea.CHARACTER_SET)!==void 0)return o.get(Ea.CHARACTER_SET).toString();for(var r=t.length,a=!0,i=!0,n=!0,s=0,l=0,u=0,c=0,d=0,m=0,f=0,p=0,g=0,b=0,x=0,_=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,y=0;y<r&&(a||i||n);y++){var I=t[y]&255;n&&(s>0?(I&128)===0?n=!1:s--:(I&128)!==0&&((I&64)===0?n=!1:(s++,(I&32)===0?l++:(s++,(I&16)===0?u++:(s++,(I&8)===0?c++:n=!1))))),a&&(I>127&&I<160?a=!1:I>159&&(I<192||I===215||I===247)&&x++),i&&(d>0?I<64||I===127||I>252?i=!1:d--:I===128||I===160||I>239?i=!1:I>160&&I<224?(m++,p=0,f++,f>g&&(g=f)):I>127?(d++,f=0,p++,p>b&&(b=p)):(f=0,p=0))}return n&&s>0&&(n=!1),i&&d>0&&(i=!1),n&&(_||l+u+c>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||g>=3||b>=3)?e.SHIFT_JIS:a&&i?g===2&&m===2||x*10>=r?e.SHIFT_JIS:e.ISO88591:a?e.ISO88591:i?e.SHIFT_JIS:n?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];var a=-1;function i(s,l,u,c,d,m){if(s==="%%")return"%";if(o[++a]!==void 0){s=c?parseInt(c.substr(1)):void 0;var f=d?parseInt(d.substr(1)):void 0,p;switch(m){case"s":p=o[a];break;case"c":p=o[a][0];break;case"f":p=parseFloat(o[a]).toFixed(s);break;case"p":p=parseFloat(o[a]).toPrecision(s);break;case"e":p=parseFloat(o[a]).toExponential(s);break;case"x":p=parseInt(o[a]).toString(f||16);break;case"d":p=parseFloat(parseInt(o[a],f||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(f);for(var g=parseInt(u),b=u&&u[0]+""=="0"?"0":" ";p.length<g;)p=l!==void 0?p+b:b+p;return p}}var n=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(n,i)},e.getBytes=function(t,o){return bs.encode(t,o)},e.getCharCode=function(t,o){return o===void 0&&(o=0),t.charCodeAt(o)},e.getCharAt=function(t){return String.fromCharCode(t)},e.SHIFT_JIS=lr.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=lr.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=lr.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}(),Ko=function(){function e(t){t===void 0&&(t=""),this.value=t}return e.prototype.enableDecoding=function(t){return this.encoding=t,this},e.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=hr.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},e.prototype.appendChars=function(t,o,r){for(var a=o;o<o+r;a++)this.append(t[a]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(t){return this.value.charAt(t)},e.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},e.prototype.setCharAt=function(t,o){this.value=this.value.substr(0,t)+o+this.value.substr(t+1)},e.prototype.substring=function(t,o){return this.value.substring(t,o)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(t,o){this.value=this.value.substr(0,t)+o+this.value.substr(t+o.length)},e}(),ul=function(){function e(t,o,r,a){if(this.width=t,this.height=o,this.rowSize=r,this.bits=a,o==null&&(o=t),this.height=o,t<1||o<1)throw new Wt("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var o=t.length,r=t[0].length,a=new e(r,o),i=0;i<o;i++)for(var n=t[i],s=0;s<r;s++)n[s]&&a.set(s,i);return a},e.parseFromString=function(t,o,r){if(t===null)throw new Wt("stringRepresentation cannot be null");for(var a=new Array(t.length),i=0,n=0,s=-1,l=0,u=0;u<t.length;)if(t.charAt(u)===`
`||t.charAt(u)==="\r"){if(i>n){if(s===-1)s=i-n;else if(i-n!==s)throw new Wt("row lengths do not match");n=i,l++}u++}else if(t.substring(u,u+o.length)===o)u+=o.length,a[i]=!0,i++;else if(t.substring(u,u+r.length)===r)u+=r.length,a[i]=!1,i++;else throw new Wt("illegal character encountered: "+t.substring(u));if(i>n){if(s===-1)s=i-n;else if(i-n!==s)throw new Wt("row lengths do not match");l++}for(var c=new e(s,l),d=0;d<i;d++)a[d]&&c.set(Math.floor(d%s),Math.floor(d/s));return c},e.prototype.get=function(t,o){var r=o*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0},e.prototype.set=function(t,o){var r=o*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295},e.prototype.unset=function(t,o){var r=o*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)},e.prototype.flip=function(t,o){var r=o*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295},e.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Wt("input matrix dimensions do not match");for(var o=new yi(Math.floor(this.width/32)+1),r=this.rowSize,a=this.bits,i=0,n=this.height;i<n;i++)for(var s=i*r,l=t.getRow(i,o).getBitArray(),u=0;u<r;u++)a[s+u]^=l[u]},e.prototype.clear=function(){for(var t=this.bits,o=t.length,r=0;r<o;r++)t[r]=0},e.prototype.setRegion=function(t,o,r,a){if(o<0||t<0)throw new Wt("Left and top must be nonnegative");if(a<1||r<1)throw new Wt("Height and width must be at least 1");var i=t+r,n=o+a;if(n>this.height||i>this.width)throw new Wt("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,u=o;u<n;u++)for(var c=u*s,d=t;d<i;d++)l[c+Math.floor(d/32)]|=1<<(d&31)&4294967295},e.prototype.getRow=function(t,o){o==null||o.getSize()<this.width?o=new yi(this.width):o.clear();for(var r=this.rowSize,a=this.bits,i=t*r,n=0;n<r;n++)o.setBulk(n*32,a[i+n]);return o},e.prototype.setRow=function(t,o){aa.arraycopy(o.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var t=this.getWidth(),o=this.getHeight(),r=new yi(t),a=new yi(t),i=0,n=Math.floor((o+1)/2);i<n;i++)r=this.getRow(i,r),a=this.getRow(o-1-i,a),r.reverse(),a.reverse(),this.setRow(i,a),this.setRow(o-1-i,r)},e.prototype.getEnclosingRectangle=function(){for(var t=this.width,o=this.height,r=this.rowSize,a=this.bits,i=t,n=o,s=-1,l=-1,u=0;u<o;u++)for(var c=0;c<r;c++){var d=a[u*r+c];if(d!==0){if(u<n&&(n=u),u>l&&(l=u),c*32<i){for(var m=0;(d<<31-m&4294967295)===0;)m++;c*32+m<i&&(i=c*32+m)}if(c*32+31>s){for(var m=31;d>>>m===0;)m--;c*32+m>s&&(s=c*32+m)}}}return s<i||l<n?null:Int32Array.from([i,n,s-i+1,l-n+1])},e.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,o=this.bits,r=0;r<o.length&&o[r]===0;)r++;if(r===o.length)return null;for(var a=r/t,i=r%t*32,n=o[r],s=0;(n<<31-s&4294967295)===0;)s++;return i+=s,Int32Array.from([i,a])},e.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,o=this.bits,r=o.length-1;r>=0&&o[r]===0;)r--;if(r<0)return null;for(var a=Math.floor(r/t),i=Math.floor(r%t)*32,n=o[r],s=31;n>>>s===0;)s--;return i+=s,Int32Array.from([i,a])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&Ii.equals(this.bits,o.bits)},e.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Ii.hashCode(this.bits),t},e.prototype.toString=function(t,o,r){return t===void 0&&(t="X "),o===void 0&&(o="  "),r===void 0&&(r=`
`),this.buildToString(t,o,r)},e.prototype.buildToString=function(t,o,r){for(var a=new Ko,i=0,n=this.height;i<n;i++){for(var s=0,l=this.width;s<l;s++)a.append(this.get(s,i)?t:o);a.append(r)}return a.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}(),Zne=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Xe=function(e){Zne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(Ai),ese=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),tse=function(e){ese(t,e);function t(o){var r=e.call(this,o)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return t.prototype.getBlackRow=function(o,r){var a=this.getLuminanceSource(),i=a.getWidth();r==null||r.getSize()<i?r=new yi(i):r.clear(),this.initArrays(i);for(var n=a.getRow(o,this.luminances),s=this.buckets,l=0;l<i;l++)s[(n[l]&255)>>t.LUMINANCE_SHIFT]++;var u=t.estimateBlackPoint(s);if(i<3)for(var l=0;l<i;l++)(n[l]&255)<u&&r.set(l);else for(var c=n[0]&255,d=n[1]&255,l=1;l<i-1;l++){var m=n[l+1]&255;(d*4-c-m)/2<u&&r.set(l),c=d,d=m}return r},t.prototype.getBlackMatrix=function(){var o=this.getLuminanceSource(),r=o.getWidth(),a=o.getHeight(),i=new ul(r,a);this.initArrays(r);for(var n=this.buckets,s=1;s<5;s++)for(var l=Math.floor(a*s/5),u=o.getRow(l,this.luminances),c=Math.floor(r*4/5),d=Math.floor(r/5);d<c;d++){var m=u[d]&255;n[m>>t.LUMINANCE_SHIFT]++}for(var f=t.estimateBlackPoint(n),p=o.getMatrix(),s=0;s<a;s++)for(var g=s*r,d=0;d<r;d++){var m=p[g+d]&255;m<f&&i.set(d,s)}return i},t.prototype.createBinarizer=function(o){return new t(o)},t.prototype.initArrays=function(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));for(var r=this.buckets,a=0;a<t.LUMINANCE_BUCKETS;a++)r[a]=0},t.estimateBlackPoint=function(o){for(var r=o.length,a=0,i=0,n=0,s=0;s<r;s++)o[s]>n&&(i=s,n=o[s]),o[s]>a&&(a=o[s]);for(var l=0,u=0,s=0;s<r;s++){var c=s-i,d=o[s]*c*c;d>u&&(l=s,u=d)}if(i>l){var m=i;i=l,l=m}if(l-i<=r/16)throw new Xe;for(var f=l-1,p=-1,s=l-1;s>i;s--){var g=s-i,d=g*g*(l-s)*(a-o[s]);d>p&&(f=s,p=d)}return f<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(Gne),ose=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),ase=function(e){ose(t,e);function t(o){var r=e.call(this,o)||this;return r.matrix=null,r}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var o=this.getLuminanceSource(),r=o.getWidth(),a=o.getHeight();if(r>=t.MINIMUM_DIMENSION&&a>=t.MINIMUM_DIMENSION){var i=o.getMatrix(),n=r>>t.BLOCK_SIZE_POWER;(r&t.BLOCK_SIZE_MASK)!==0&&n++;var s=a>>t.BLOCK_SIZE_POWER;(a&t.BLOCK_SIZE_MASK)!==0&&s++;var l=t.calculateBlackPoints(i,n,s,r,a),u=new ul(r,a);t.calculateThresholdForBlock(i,n,s,r,a,l,u),this.matrix=u}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(o){return new t(o)},t.calculateThresholdForBlock=function(o,r,a,i,n,s,l){for(var u=n-t.BLOCK_SIZE,c=i-t.BLOCK_SIZE,d=0;d<a;d++){var m=d<<t.BLOCK_SIZE_POWER;m>u&&(m=u);for(var f=t.cap(d,2,a-3),p=0;p<r;p++){var g=p<<t.BLOCK_SIZE_POWER;g>c&&(g=c);for(var b=t.cap(p,2,r-3),x=0,_=-2;_<=2;_++){var y=s[f+_];x+=y[b-2]+y[b-1]+y[b]+y[b+1]+y[b+2]}var I=x/25;t.thresholdBlock(o,g,m,I,i,l)}}},t.cap=function(o,r,a){return o<r?r:o>a?a:o},t.thresholdBlock=function(o,r,a,i,n,s){for(var l=0,u=a*n+r;l<t.BLOCK_SIZE;l++,u+=n)for(var c=0;c<t.BLOCK_SIZE;c++)(o[u+c]&255)<=i&&s.set(r+c,a+l)},t.calculateBlackPoints=function(o,r,a,i,n){for(var s=n-t.BLOCK_SIZE,l=i-t.BLOCK_SIZE,u=new Array(a),c=0;c<a;c++){u[c]=new Int32Array(r);var d=c<<t.BLOCK_SIZE_POWER;d>s&&(d=s);for(var m=0;m<r;m++){var f=m<<t.BLOCK_SIZE_POWER;f>l&&(f=l);for(var p=0,g=255,b=0,x=0,_=d*i+f;x<t.BLOCK_SIZE;x++,_+=i){for(var y=0;y<t.BLOCK_SIZE;y++){var I=o[_+y]&255;p+=I,I<g&&(g=I),I>b&&(b=I)}if(b-g>t.MIN_DYNAMIC_RANGE)for(x++,_+=i;x<t.BLOCK_SIZE;x++,_+=i)for(var y=0;y<t.BLOCK_SIZE;y++)p+=o[_+y]&255}var S=p>>t.BLOCK_SIZE_POWER*2;if(b-g<=t.MIN_DYNAMIC_RANGE&&(S=g/2,c>0&&m>0)){var O=(u[c-1][m]+2*u[c][m-1]+u[c-1][m-1])/4;g<O&&(S=O)}u[c][m]=S}}return u},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t}(tse),Gg=function(){function e(t,o){this.width=t,this.height=o}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(t,o,r,a){throw new V1("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new V1("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new V1("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),o=new Ko,r=0;r<this.height;r++){for(var a=this.getRow(r,t),i=0;i<this.width;i++){var n=a[i]&255,s=void 0;n<64?s="#":n<128?s="+":n<192?s=".":s=" ",o.append(s)}o.append(`
`)}return o.toString()},e}(),rse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Zw=function(e){rse(t,e);function t(o){var r=e.call(this,o.getWidth(),o.getHeight())||this;return r.delegate=o,r}return t.prototype.getRow=function(o,r){for(var a=this.delegate.getRow(o,r),i=this.getWidth(),n=0;n<i;n++)a[n]=255-(a[n]&255);return a},t.prototype.getMatrix=function(){for(var o=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r),i=0;i<r;i++)a[i]=255-(o[i]&255);return a},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(o,r,a,i){return new t(this.delegate.crop(o,r,a,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(Gg),ise=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),nse=function(e){ise(t,e);function t(o){var r=e.call(this,o.width,o.height)||this;return r.canvas=o,r.tempCanvasElement=null,r.buffer=t.makeBufferFromCanvasImageData(o),r}return t.makeBufferFromCanvasImageData=function(o){var r=o.getContext("2d").getImageData(0,0,o.width,o.height);return t.toGrayscaleBuffer(r.data,o.width,o.height)},t.toGrayscaleBuffer=function(o,r,a){for(var i=new Uint8ClampedArray(r*a),n=0,s=0,l=o.length;n<l;n+=4,s++){var u=void 0,c=o[n+3];if(c===0)u=255;else{var d=o[n],m=o[n+1],f=o[n+2];u=306*d+601*m+117*f+512>>10}i[s]=u}return i},t.prototype.getRow=function(o,r){if(o<0||o>=this.getHeight())throw new Wt("Requested row is outside the image: "+o);var a=this.getWidth(),i=o*a;return r===null?r=this.buffer.slice(i,i+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(i,i+a))),r},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(o,r,a,i){return e.prototype.crop.call(this,o,r,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement},t.prototype.rotate=function(o){var r=this.getTempCanvasElement(),a=r.getContext("2d"),i=o*t.DEGREE_TO_RADIANS,n=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*n+Math.abs(Math.sin(i))*s),u=Math.ceil(Math.abs(Math.sin(i))*n+Math.abs(Math.cos(i))*s);return r.width=l,r.height=u,a.translate(l/2,u/2),a.rotate(i),a.drawImage(this.canvas,n/-2,s/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.prototype.invert=function(){return new Zw(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t}(Gg),sse=function(){function e(t,o,r){this.deviceId=t,this.label=o,this.kind="videoinput",this.groupId=r||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),Kr=globalThis&&globalThis.__awaiter||function(e,t,o,r){function a(i){return i instanceof o?i:new o(function(n){n(i)})}return new(o||(o=Promise))(function(i,n){function s(c){try{u(r.next(c))}catch(d){n(d)}}function l(c){try{u(r.throw(c))}catch(d){n(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})},Qr=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,n;return n={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,a=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){o=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(u[0]===6&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(c){u=[6,c],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},lse=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xf=function(){function e(t,o,r){o===void 0&&(o=500),this.reader=t,this.timeBetweenScansMillis=o,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return typeof navigator!="undefined"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return Kr(this,void 0,void 0,function(){var t,o,r,a,i,n,s,l,u,c,d,m;return Qr(this,function(f){switch(f.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=f.sent(),o=[];try{for(r=lse(t),a=r.next();!a.done;a=r.next())i=a.value,n=i.kind==="video"?"videoinput":i.kind,n==="videoinput"&&(s=i.deviceId||i.id,l=i.label||"Video device "+(o.length+1),u=i.groupId,c={deviceId:s,label:l,kind:n,groupId:u},o.push(c))}catch(p){d={error:p}}finally{try{a&&!a.done&&(m=r.return)&&m.call(r)}finally{if(d)throw d.error}}return[2,o]}})})},e.prototype.getVideoInputDevices=function(){return Kr(this,void 0,void 0,function(){var t;return Qr(this,function(o){switch(o.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=o.sent(),[2,t.map(function(r){return new sse(r.deviceId,r.label)})]}})})},e.prototype.findDeviceById=function(t){return Kr(this,void 0,void 0,function(){var o;return Qr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return o=r.sent(),o?[2,o.find(function(a){return a.deviceId===t})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(t,o){return Kr(this,void 0,void 0,function(){return Qr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,o)];case 1:return[2,r.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,o){return Kr(this,void 0,void 0,function(){var r,a;return Qr(this,function(i){switch(i.label){case 0:return this.reset(),t?r={deviceId:{exact:t}}:r={facingMode:"environment"},a={video:r},[4,this.decodeOnceFromConstraints(a,o)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(t,o){return Kr(this,void 0,void 0,function(){var r;return Qr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=a.sent(),[4,this.decodeOnceFromStream(r,o)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,o){return Kr(this,void 0,void 0,function(){var r,a;return Qr(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,o)];case 1:return r=i.sent(),[4,this.decodeOnce(r)];case 2:return a=i.sent(),[2,a]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(t,o,r){return Kr(this,void 0,void 0,function(){return Qr(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(t,o,r)];case 1:return[2,a.sent()]}})})},e.prototype.decodeFromVideoDevice=function(t,o,r){return Kr(this,void 0,void 0,function(){var a,i;return Qr(this,function(n){switch(n.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,o,r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeFromConstraints=function(t,o,r){return Kr(this,void 0,void 0,function(){var a;return Qr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,o,r)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromStream=function(t,o,r){return Kr(this,void 0,void 0,function(){var a;return Qr(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,o)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,r)];case 2:return[2,i.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(t,o){return Kr(this,void 0,void 0,function(){var r;return Qr(this,function(a){switch(a.label){case 0:return r=this.prepareVideoElement(o),this.addVideoSource(r,t),this.videoElement=r,this.stream=t,[4,this.playVideoOnLoadAsync(r)];case 1:return a.sent(),[2,r]}})})},e.prototype.playVideoOnLoadAsync=function(t){var o=this;return new Promise(function(r,a){return o.playVideoOnLoad(t,function(){return r()})})},e.prototype.playVideoOnLoad=function(t,o){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",o),this.tryPlayVideo(t)},e.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},e.prototype.tryPlayVideo=function(t){return Kr(this,void 0,void 0,function(){return Qr(this,function(o){switch(o.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.play()];case 2:return o.sent(),[3,4];case 3:return o.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(t,o){var r=document.getElementById(t);if(!r)throw new qn("element with id '"+t+"' not found");if(r.nodeName.toLowerCase()!==o.toLowerCase())throw new qn("element with id '"+t+"' must be an "+o+" element");return r},e.prototype.decodeFromImage=function(t,o){if(!t&&!o)throw new qn("either imageElement with a src set or an url must be provided");return o&&!t?this.decodeFromImageUrl(o):this.decodeFromImageElement(t)},e.prototype.decodeFromVideo=function(t,o){if(!t&&!o)throw new qn("Either an element with a src set or an URL must be provided");return o&&!t?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(t)},e.prototype.decodeFromVideoContinuously=function(t,o,r){if(t===void 0&&o===void 0)throw new qn("Either an element with a src set or an URL must be provided");return o&&!t?this.decodeFromVideoUrlContinuously(o,r):this.decodeFromVideoElementContinuously(t,r)},e.prototype.decodeFromImageElement=function(t){if(!t)throw new qn("An image element must be provided.");this.reset();var o=this.prepareImageElement(t);this.imageElement=o;var r;return this.isImageLoaded(o)?r=this.decodeOnce(o,!1,!0):r=this._decodeOnLoadImage(o),r},e.prototype.decodeFromVideoElement=function(t){var o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(o)},e.prototype.decodeFromVideoElementContinuously=function(t,o){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,o)},e.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new qn("A video element must be provided.");this.reset();var o=this.prepareVideoElement(t);return this.videoElement=o,o},e.prototype.decodeFromImageUrl=function(t){if(!t)throw new qn("An URL must be provided.");this.reset();var o=this.prepareImageElement();this.imageElement=o;var r=this._decodeOnLoadImage(o);return o.src=t,r},e.prototype.decodeFromVideoUrl=function(t){if(!t)throw new qn("An URL must be provided.");this.reset();var o=this.prepareVideoElement(),r=this.decodeFromVideoElement(o);return o.src=t,r},e.prototype.decodeFromVideoUrlContinuously=function(t,o){if(!t)throw new qn("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(r,o);return r.src=t,a},e.prototype._decodeOnLoadImage=function(t){var o=this;return new Promise(function(r,a){o.imageLoadedListener=function(){return o.decodeOnce(t,!1,!0).then(r,a)},t.addEventListener("load",o.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(t){return Kr(this,void 0,void 0,function(){return Qr(this,function(o){switch(o.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return o.sent(),[4,this.decodeOnce(t)];case 2:return[2,o.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(t,o){return Kr(this,void 0,void 0,function(){return Qr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),this.decodeContinuously(t,o),[2]}})})},e.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.prototype.prepareImageElement=function(t){var o;return typeof t=="undefined"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof t=="string"&&(o=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(o=t),o},e.prototype.prepareVideoElement=function(t){var o;return!t&&typeof document!="undefined"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof t=="string"&&(o=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(o=t),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o},e.prototype.decodeOnce=function(t,o,r){var a=this;o===void 0&&(o=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var i=function(n,s){if(a._stopAsyncDecode){s(new Xe("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var l=a.decode(t);n(l)}catch(m){var u=o&&m instanceof Xe,c=m instanceof Tr||m instanceof ut,d=c&&r;if(u||d)return setTimeout(i,a._timeBetweenDecodingAttempts,n,s);s(m)}};return new Promise(function(n,s){return i(n,s)})},e.prototype.decodeContinuously=function(t,o){var r=this;this._stopContinuousDecode=!1;var a=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var i=r.decode(t);o(i,null),setTimeout(a,r.timeBetweenScansMillis)}catch(l){o(null,l);var n=l instanceof Tr||l instanceof ut,s=l instanceof Xe;(n||s)&&setTimeout(a,r._timeBetweenDecodingAttempts)}};a()},e.prototype.decode=function(t){var o=this.createBinaryBitmap(t);return this.decodeBitmap(o)},e.prototype.createBinaryBitmap=function(t){var o=this.getCaptureCanvasContext(t);this.drawImageOnCanvas(o,t);var r=this.getCaptureCanvas(t),a=new nse(r),i=new ase(a);return new Hne(i)},e.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var o=this.getCaptureCanvas(t),r=o.getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var o=this.createCaptureCanvas(t);this.captureCanvas=o}return this.captureCanvas},e.prototype.drawImageOnCanvas=function(t,o){t.drawImage(o,0,0)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},e.prototype.createCaptureCanvas=function(t){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;var o=document.createElement("canvas"),r,a;return typeof t!="undefined"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),o.style.width=r+"px",o.style.height=a+"px",o.width=r,o.height=a,o},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){!this.videoElement||(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(t,o){try{t.srcObject=o}catch{t.src=URL.createObjectURL(o)}},e.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},e}(),Ti=function(){function e(t,o,r,a,i,n){r===void 0&&(r=o==null?0:8*o.length),n===void 0&&(n=aa.currentTimeMillis()),this.text=t,this.rawBytes=o,this.numBits=r,this.resultPoints=a,this.format=i,this.timestamp=n,this.text=t,this.rawBytes=o,r==null?this.numBits=o==null?0:8*o.length:this.numBits=r,this.resultPoints=a,this.format=i,this.resultMetadata=null,n==null?this.timestamp=aa.currentTimeMillis():this.timestamp=n}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(t,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,o)},e.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},e.prototype.addResultPoints=function(t){var o=this.resultPoints;if(o===null)this.resultPoints=t;else if(t!==null&&t.length>0){var r=new Array(o.length+t.length);aa.arraycopy(o,0,r,0,o.length),aa.arraycopy(t,0,r,o.length,t.length),this.resultPoints=r}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}(),eC;(function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(eC||(eC={}));var Gt=eC,tC;(function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(tC||(tC={}));var Dr=tC,Wg=function(){function e(t,o,r,a,i,n){i===void 0&&(i=-1),n===void 0&&(n=-1),this.rawBytes=t,this.text=o,this.byteSegments=r,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=n,this.numBits=t==null?0:8*t.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(t){this.numBits=t},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(t){this.erasures=t},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(t){this.other=t},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}(),Wm=function(){function e(){}return e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Wt;return this.logTable[t]},e.addOrSubtract=function(t,o){return t^o},e}(),lc=function(){function e(t,o){if(o.length===0)throw new Wt;this.field=t;var r=o.length;if(r>1&&o[0]===0){for(var a=1;a<r&&o[a]===0;)a++;a===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-a),aa.arraycopy(o,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var o=this.coefficients,r;if(t===1){r=0;for(var a=0,i=o.length;a!==i;a++){var n=o[a];r=Wm.addOrSubtract(r,n)}return r}r=o[0];for(var s=o.length,l=this.field,a=1;a<s;a++)r=Wm.addOrSubtract(l.multiply(t,r),o[a]);return r},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Wt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var o=this.coefficients,r=t.coefficients;if(o.length>r.length){var a=o;o=r,r=a}var i=new Int32Array(r.length),n=r.length-o.length;aa.arraycopy(r,0,i,0,n);for(var s=n;s<r.length;s++)i[s]=Wm.addOrSubtract(o[s-n],r[s]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Wt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var o=this.coefficients,r=o.length,a=t.coefficients,i=a.length,n=new Int32Array(r+i-1),s=this.field,l=0;l<r;l++)for(var u=o[l],c=0;c<i;c++)n[l+c]=Wm.addOrSubtract(n[l+c],s.multiply(u,a[c]));return new e(s,n)},e.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var o=this.coefficients.length,r=this.field,a=new Int32Array(o),i=this.coefficients,n=0;n<o;n++)a[n]=r.multiply(i[n],t);return new e(r,a)},e.prototype.multiplyByMonomial=function(t,o){if(t<0)throw new Wt;if(o===0)return this.field.getZero();for(var r=this.coefficients,a=r.length,i=new Int32Array(a+t),n=this.field,s=0;s<a;s++)i[s]=n.multiply(r[s],o);return new e(n,i)},e.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Wt("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Wt("Divide by 0");for(var o=this.field,r=o.getZero(),a=this,i=t.getCoefficient(t.getDegree()),n=o.inverse(i);a.getDegree()>=t.getDegree()&&!a.isZero();){var s=a.getDegree()-t.getDegree(),l=o.multiply(a.getCoefficient(a.getDegree()),n),u=t.multiplyByMonomial(s,l),c=o.buildMonomial(s,l);r=r.addOrSubtract(c),a=a.addOrSubtract(u)}return[r,a]},e.prototype.toString=function(){for(var t="",o=this.getDegree();o>=0;o--){var r=this.getCoefficient(o);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),o===0||r!==1){var a=this.field.log(r);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}o!==0&&(o===1?t+="x":(t+="x^",t+=o))}}return t},e}(),cse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),kM=function(e){cse(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArithmeticException",t}(Ai),use=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Js=function(e){use(t,e);function t(o,r,a){var i=e.call(this)||this;i.primitive=o,i.size=r,i.generatorBase=a;for(var n=new Int32Array(r),s=1,l=0;l<r;l++)n[l]=s,s*=2,s>=r&&(s^=o,s&=r-1);i.expTable=n;for(var u=new Int32Array(r),l=0;l<r-1;l++)u[n[l]]=l;return i.logTable=u,i.zero=new lc(i,Int32Array.from([0])),i.one=new lc(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(o,r){if(o<0)throw new Wt;if(r===0)return this.zero;var a=new Int32Array(o+1);return a[0]=r,new lc(this,a)},t.prototype.inverse=function(o){if(o===0)throw new kM;return this.expTable[this.size-this.logTable[o]-1]},t.prototype.multiply=function(o,r){return o===0||r===0?0:this.expTable[(this.logTable[o]+this.logTable[r])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+Or.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(o){return o===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(Wm),dse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),i1=function(e){dse(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReedSolomonException",t}(Ai),fse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Yf=function(e){fse(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalStateException",t}(Ai),Xg=function(){function e(t){this.field=t}return e.prototype.decode=function(t,o){for(var r=this.field,a=new lc(r,t),i=new Int32Array(o),n=!0,s=0;s<o;s++){var l=a.evaluateAt(r.exp(s+r.getGeneratorBase()));i[i.length-1-s]=l,l!==0&&(n=!1)}if(!n)for(var u=new lc(r,i),c=this.runEuclideanAlgorithm(r.buildMonomial(o,1),u,o),d=c[0],m=c[1],f=this.findErrorLocations(d),p=this.findErrorMagnitudes(m,f),s=0;s<f.length;s++){var g=t.length-1-r.log(f[s]);if(g<0)throw new i1("Bad error location");t[g]=Js.addOrSubtract(t[g],p[s])}},e.prototype.runEuclideanAlgorithm=function(t,o,r){if(t.getDegree()<o.getDegree()){var a=t;t=o,o=a}for(var i=this.field,n=t,s=o,l=i.getZero(),u=i.getOne();s.getDegree()>=(r/2|0);){var c=n,d=l;if(n=s,l=u,n.isZero())throw new i1("r_{i-1} was zero");s=c;for(var m=i.getZero(),f=n.getCoefficient(n.getDegree()),p=i.inverse(f);s.getDegree()>=n.getDegree()&&!s.isZero();){var g=s.getDegree()-n.getDegree(),b=i.multiply(s.getCoefficient(s.getDegree()),p);m=m.addOrSubtract(i.buildMonomial(g,b)),s=s.addOrSubtract(n.multiplyByMonomial(g,b))}if(u=m.multiply(l).addOrSubtract(d),s.getDegree()>=n.getDegree())throw new Yf("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new i1("sigmaTilde(0) was zero");var _=i.inverse(x),y=u.multiplyScalar(_),I=s.multiplyScalar(_);return[y,I]},e.prototype.findErrorLocations=function(t){var o=t.getDegree();if(o===1)return Int32Array.from([t.getCoefficient(1)]);for(var r=new Int32Array(o),a=0,i=this.field,n=1;n<i.getSize()&&a<o;n++)t.evaluateAt(n)===0&&(r[a]=i.inverse(n),a++);if(a!==o)throw new i1("Error locator degree does not match number of roots");return r},e.prototype.findErrorMagnitudes=function(t,o){for(var r=o.length,a=new Int32Array(r),i=this.field,n=0;n<r;n++){for(var s=i.inverse(o[n]),l=1,u=0;u<r;u++)if(n!==u){var c=i.multiply(o[u],s),d=(c&1)===0?c|1:c&-2;l=i.multiply(l,d)}a[n]=i.multiply(t.evaluateAt(s),i.inverse(l)),i.getGeneratorBase()!==0&&(a[n]=i.multiply(a[n],s))}return a},e}(),wr;(function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"})(wr||(wr={}));var o3=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var o=t.getBits(),r=this.extractBits(o),a=this.correctBits(r),i=e.convertBoolArrayToByteArray(a),n=e.getEncodedData(a),s=new Wg(i,n,null,null);return s.setNumBits(a.length),s},e.highLevelDecode=function(t){return this.getEncodedData(t)},e.getEncodedData=function(t){for(var o=t.length,r=wr.UPPER,a=wr.UPPER,i="",n=0;n<o;)if(a===wr.BINARY){if(o-n<5)break;var s=e.readCode(t,n,5);if(n+=5,s===0){if(o-n<11)break;s=e.readCode(t,n,11)+31,n+=11}for(var l=0;l<s;l++){if(o-n<8){n=o;break}var u=e.readCode(t,n,8);i+=hr.castAsNonUtf8Char(u),n+=8}a=r}else{var c=a===wr.DIGIT?4:5;if(o-n<c)break;var u=e.readCode(t,n,c);n+=c;var d=e.getCharacter(a,u);d.startsWith("CTRL_")?(r=a,a=e.getTable(d.charAt(5)),d.charAt(6)==="L"&&(r=a)):(i+=d,a=r)}return i},e.getTable=function(t){switch(t){case"L":return wr.LOWER;case"P":return wr.PUNCT;case"M":return wr.MIXED;case"D":return wr.DIGIT;case"B":return wr.BINARY;case"U":default:return wr.UPPER}},e.getCharacter=function(t,o){switch(t){case wr.UPPER:return e.UPPER_TABLE[o];case wr.LOWER:return e.LOWER_TABLE[o];case wr.MIXED:return e.MIXED_TABLE[o];case wr.PUNCT:return e.PUNCT_TABLE[o];case wr.DIGIT:return e.DIGIT_TABLE[o];default:throw new Yf("Bad table")}},e.prototype.correctBits=function(t){var o,r;this.ddata.getNbLayers()<=2?(r=6,o=Js.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,o=Js.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,o=Js.AZTEC_DATA_10):(r=12,o=Js.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=t.length/r;if(i<a)throw new ut;for(var n=t.length%r,s=new Int32Array(i),l=0;l<i;l++,n+=r)s[l]=e.readCode(t,n,r);try{var u=new Xg(o);u.decode(s,i-a)}catch(b){throw new ut(b)}for(var c=(1<<r)-1,d=0,l=0;l<a;l++){var m=s[l];if(m===0||m===c)throw new ut;(m===1||m===c-1)&&d++}for(var f=new Array(a*r-d),p=0,l=0;l<a;l++){var m=s[l];if(m===1||m===c-1)f.fill(m>1,p,p+r-1),p+=r-1;else for(var g=r-1;g>=0;--g)f[p++]=(m&1<<g)!==0}return f},e.prototype.extractBits=function(t){var o=this.ddata.isCompact(),r=this.ddata.getNbLayers(),a=(o?11:14)+r*4,i=new Int32Array(a),n=new Array(this.totalBitsInLayer(r,o));if(o)for(var s=0;s<i.length;s++)i[s]=s;else for(var l=a+1+2*Or.truncDivision(Or.truncDivision(a,2)-1,15),u=a/2,c=Or.truncDivision(l,2),s=0;s<u;s++){var d=s+Or.truncDivision(s,15);i[u-s-1]=c-d-1,i[u+s]=c+d+1}for(var s=0,m=0;s<r;s++){for(var f=(r-s)*4+(o?9:12),p=s*2,g=a-1-p,b=0;b<f;b++)for(var x=b*2,_=0;_<2;_++)n[m+x+_]=t.get(i[p+_],i[p+b]),n[m+2*f+x+_]=t.get(i[p+b],i[g-_]),n[m+4*f+x+_]=t.get(i[g-_],i[g-b]),n[m+6*f+x+_]=t.get(i[g-b],i[p+_]);m+=f*8}return n},e.readCode=function(t,o,r){for(var a=0,i=o;i<o+r;i++)a<<=1,t[i]&&(a|=1);return a},e.readByte=function(t,o){var r=t.length-o;return r>=8?e.readCode(t,o,8):e.readCode(t,o,r)<<8-r},e.convertBoolArrayToByteArray=function(t){for(var o=new Uint8Array((t.length+7)/8),r=0;r<o.length;r++)o[r]=e.readByte(t,8*r);return o},e.prototype.totalBitsInLayer=function(t,o){return((o?88:112)+16*t)*t},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}(),Oo=function(){function e(){}return e.round=function(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},e.distance=function(t,o,r,a){var i=t-r,n=o-a;return Math.sqrt(i*i+n*n)},e.sum=function(t){for(var o=0,r=0,a=t.length;r!==a;r++){var i=t[r];o+=i}return o},e}(),oC=function(){function e(){}return e.floatToIntBits=function(t){return t},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),Dt=function(){function e(t,o){this.x=t,this.y=o}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var o=t;return this.x===o.x&&this.y===o.y}return!1},e.prototype.hashCode=function(){return 31*oC.floatToIntBits(this.x)+oC.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(t){var o=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]),i,n,s;if(r>=o&&r>=a?(n=t[0],i=t[1],s=t[2]):a>=r&&a>=o?(n=t[1],i=t[0],s=t[2]):(n=t[2],i=t[0],s=t[1]),this.crossProductZ(i,n,s)<0){var l=i;i=s,s=l}t[0]=i,t[1]=n,t[2]=s},e.distance=function(t,o){return Oo.distance(t.x,t.y,o.x,o.y)},e.crossProductZ=function(t,o,r){var a=o.x,i=o.y;return(r.x-a)*(t.y-i)-(r.y-i)*(t.x-a)},e}(),eI=function(){function e(t,o){this.bits=t,this.points=o}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),mse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),pse=function(e){mse(t,e);function t(o,r,a,i,n){var s=e.call(this,o,r)||this;return s.compact=a,s.nbDatablocks=i,s.nbLayers=n,s}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(eI),aC=function(){function e(t,o,r,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),o==null&&(o=e.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);var i=o/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Xe}return e.prototype.detect=function(){for(var t=this.leftInit,o=this.rightInit,r=this.upInit,a=this.downInit,i=!1,n=!0,s=!1,l=!1,u=!1,c=!1,d=!1,m=this.width,f=this.height;n;){n=!1;for(var p=!0;(p||!l)&&o<m;)p=this.containsBlackPoint(r,a,o,!1),p?(o++,n=!0,l=!0):l||o++;if(o>=m){i=!0;break}for(var g=!0;(g||!u)&&a<f;)g=this.containsBlackPoint(t,o,a,!0),g?(a++,n=!0,u=!0):u||a++;if(a>=f){i=!0;break}for(var b=!0;(b||!c)&&t>=0;)b=this.containsBlackPoint(r,a,t,!1),b?(t--,n=!0,c=!0):c||t--;if(t<0){i=!0;break}for(var x=!0;(x||!d)&&r>=0;)x=this.containsBlackPoint(t,o,r,!0),x?(r--,n=!0,d=!0):d||r--;if(r<0){i=!0;break}n&&(s=!0)}if(!i&&s){for(var _=o-t,y=null,I=1;y===null&&I<_;I++)y=this.getBlackPointOnSegment(t,a-I,t+I,a);if(y==null)throw new Xe;for(var S=null,I=1;S===null&&I<_;I++)S=this.getBlackPointOnSegment(t,r+I,t+I,r);if(S==null)throw new Xe;for(var O=null,I=1;O===null&&I<_;I++)O=this.getBlackPointOnSegment(o,r+I,o-I,r);if(O==null)throw new Xe;for(var F=null,I=1;F===null&&I<_;I++)F=this.getBlackPointOnSegment(o,a-I,o-I,a);if(F==null)throw new Xe;return this.centerEdges(F,y,O,S)}else throw new Xe},e.prototype.getBlackPointOnSegment=function(t,o,r,a){for(var i=Oo.round(Oo.distance(t,o,r,a)),n=(r-t)/i,s=(a-o)/i,l=this.image,u=0;u<i;u++){var c=Oo.round(t+u*n),d=Oo.round(o+u*s);if(l.get(c,d))return new Dt(c,d)}return null},e.prototype.centerEdges=function(t,o,r,a){var i=t.getX(),n=t.getY(),s=o.getX(),l=o.getY(),u=r.getX(),c=r.getY(),d=a.getX(),m=a.getY(),f=e.CORR;return i<this.width/2?[new Dt(d-f,m+f),new Dt(s+f,l+f),new Dt(u-f,c-f),new Dt(i+f,n-f)]:[new Dt(d+f,m+f),new Dt(s+f,l-f),new Dt(u-f,c+f),new Dt(i-f,n-f)]},e.prototype.containsBlackPoint=function(t,o,r,a){var i=this.image;if(a){for(var n=t;n<=o;n++)if(i.get(n,r))return!0}else for(var s=t;s<=o;s++)if(i.get(r,s))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}(),a3=function(){function e(){}return e.checkAndNudgePoints=function(t,o){for(var r=t.getWidth(),a=t.getHeight(),i=!0,n=0;n<o.length&&i;n+=2){var s=Math.floor(o[n]),l=Math.floor(o[n+1]);if(s<-1||s>r||l<-1||l>a)throw new Xe;i=!1,s===-1?(o[n]=0,i=!0):s===r&&(o[n]=r-1,i=!0),l===-1?(o[n+1]=0,i=!0):l===a&&(o[n+1]=a-1,i=!0)}i=!0;for(var n=o.length-2;n>=0&&i;n-=2){var s=Math.floor(o[n]),l=Math.floor(o[n+1]);if(s<-1||s>r||l<-1||l>a)throw new Xe;i=!1,s===-1?(o[n]=0,i=!0):s===r&&(o[n]=r-1,i=!0),l===-1?(o[n+1]=0,i=!0):l===a&&(o[n+1]=a-1,i=!0)}},e}(),VM=function(){function e(t,o,r,a,i,n,s,l,u){this.a11=t,this.a21=o,this.a31=r,this.a12=a,this.a22=i,this.a32=n,this.a13=s,this.a23=l,this.a33=u}return e.quadrilateralToQuadrilateral=function(t,o,r,a,i,n,s,l,u,c,d,m,f,p,g,b){var x=e.quadrilateralToSquare(t,o,r,a,i,n,s,l),_=e.squareToQuadrilateral(u,c,d,m,f,p,g,b);return _.times(x)},e.prototype.transformPoints=function(t){for(var o=t.length,r=this.a11,a=this.a12,i=this.a13,n=this.a21,s=this.a22,l=this.a23,u=this.a31,c=this.a32,d=this.a33,m=0;m<o;m+=2){var f=t[m],p=t[m+1],g=i*f+l*p+d;t[m]=(r*f+n*p+u)/g,t[m+1]=(a*f+s*p+c)/g}},e.prototype.transformPointsWithValues=function(t,o){for(var r=this.a11,a=this.a12,i=this.a13,n=this.a21,s=this.a22,l=this.a23,u=this.a31,c=this.a32,d=this.a33,m=t.length,f=0;f<m;f++){var p=t[f],g=o[f],b=i*p+l*g+d;t[f]=(r*p+n*g+u)/b,o[f]=(a*p+s*g+c)/b}},e.squareToQuadrilateral=function(t,o,r,a,i,n,s,l){var u=t-r+i-s,c=o-a+n-l;if(u===0&&c===0)return new e(r-t,i-r,t,a-o,n-a,o,0,0,1);var d=r-i,m=s-i,f=a-n,p=l-n,g=d*p-m*f,b=(u*p-m*c)/g,x=(d*c-u*f)/g;return new e(r-t+b*r,s-t+x*s,t,a-o+b*a,l-o+x*l,o,b,x,1)},e.quadrilateralToSquare=function(t,o,r,a,i,n,s,l){return e.squareToQuadrilateral(t,o,r,a,i,n,s,l).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}(),hse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),vse=function(e){hse(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sampleGrid=function(o,r,a,i,n,s,l,u,c,d,m,f,p,g,b,x,_,y,I){var S=VM.quadrilateralToQuadrilateral(i,n,s,l,u,c,d,m,f,p,g,b,x,_,y,I);return this.sampleGridWithTransform(o,r,a,S)},t.prototype.sampleGridWithTransform=function(o,r,a,i){if(r<=0||a<=0)throw new Xe;for(var n=new ul(r,a),s=new Float32Array(2*r),l=0;l<a;l++){for(var u=s.length,c=l+.5,d=0;d<u;d+=2)s[d]=d/2+.5,s[d+1]=c;i.transformPoints(s),a3.checkAndNudgePoints(o,s);try{for(var d=0;d<u;d+=2)o.get(Math.floor(s[d]),Math.floor(s[d+1]))&&n.set(d/2,l)}catch{throw new Xe}}return n},t}(a3),tI=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new vse,e}(),mi=function(){function e(t,o){this.x=t,this.y=o}return e.prototype.toResultPoint=function(){return new Dt(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),gse=function(){function e(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(t){var o=this.getMatrixCenter(),r=this.getBullsEyeCorners(o);if(t){var a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);var i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),n=this.getMatrixCornerPoints(r);return new pse(i,n,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Xe;var o=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],o),this.sampleLine(t[1],t[2],o),this.sampleLine(t[2],t[3],o),this.sampleLine(t[3],t[0],o)]);this.shift=this.getRotation(r,o);for(var a=0,i=0;i<4;i++){var n=r[(this.shift+i)%4];this.compact?(a<<=7,a+=n>>1&127):(a<<=10,a+=(n>>2&31<<5)+(n>>1&31))}var s=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},e.prototype.getRotation=function(t,o){var r=0;t.forEach(function(i,n,s){var l=(i>>o-2<<1)+(i&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(var a=0;a<4;a++)if(Or.bitCount(r^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Xe},e.prototype.getCorrectedParameterData=function(t,o){var r,a;o?(r=7,a=2):(r=10,a=4);for(var i=r-a,n=new Int32Array(r),s=r-1;s>=0;--s)n[s]=t&15,t>>=4;try{var l=new Xg(Js.AZTEC_PARAM);l.decode(n,i)}catch{throw new Xe}for(var u=0,s=0;s<a;s++)u=(u<<4)+n[s];return u},e.prototype.getBullsEyeCorners=function(t){var o=t,r=t,a=t,i=t,n=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(o,n,1,-1),l=this.getFirstDifferent(r,n,1,1),u=this.getFirstDifferent(a,n,-1,1),c=this.getFirstDifferent(i,n,-1,-1);if(this.nbCenterLayers>2){var d=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(i,o)*(this.nbCenterLayers+2));if(d<.75||d>1.25||!this.isWhiteOrBlackRectangle(s,l,u,c))break}o=s,r=l,a=u,i=c,n=!n}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Xe;this.compact=this.nbCenterLayers===5;var m=new Dt(o.getX()+.5,o.getY()-.5),f=new Dt(r.getX()+.5,r.getY()+.5),p=new Dt(a.getX()-.5,a.getY()+.5),g=new Dt(i.getX()-.5,i.getY()-.5);return this.expandSquare([m,f,p,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var t,o,r,a;try{var i=new aC(this.image).detect();t=i[0],o=i[1],r=i[2],a=i[3]}catch{var n=this.image.getWidth()/2,s=this.image.getHeight()/2;t=this.getFirstDifferent(new mi(n+7,s-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new mi(n+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new mi(n-7,s+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new mi(n-7,s-7),!1,-1,-1).toResultPoint()}var l=Oo.round((t.getX()+a.getX()+o.getX()+r.getX())/4),u=Oo.round((t.getY()+a.getY()+o.getY()+r.getY())/4);try{var i=new aC(this.image,15,l,u).detect();t=i[0],o=i[1],r=i[2],a=i[3]}catch{t=this.getFirstDifferent(new mi(l+7,u-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new mi(l+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new mi(l-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new mi(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Oo.round((t.getX()+a.getX()+o.getX()+r.getX())/4),u=Oo.round((t.getY()+a.getY()+o.getY()+r.getY())/4),new mi(l,u)},e.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(t,o,r,a,i){var n=tI.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,u=s/2+this.nbCenterLayers;return n.sampleGrid(t,s,s,l,l,u,l,u,u,l,u,o.getX(),o.getY(),r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY())},e.prototype.sampleLine=function(t,o,r){for(var a=0,i=this.distanceResultPoint(t,o),n=i/r,s=t.getX(),l=t.getY(),u=n*(o.getX()-t.getX())/i,c=n*(o.getY()-t.getY())/i,d=0;d<r;d++)this.image.get(Oo.round(s+d*u),Oo.round(l+d*c))&&(a|=1<<r-d-1);return a},e.prototype.isWhiteOrBlackRectangle=function(t,o,r,a){var i=3;t=new mi(t.getX()-i,t.getY()+i),o=new mi(o.getX()-i,o.getY()-i),r=new mi(r.getX()+i,r.getY()-i),a=new mi(a.getX()+i,a.getY()+i);var n=this.getColor(a,t);if(n===0)return!1;var s=this.getColor(t,o);return s!==n||(s=this.getColor(o,r),s!==n)?!1:(s=this.getColor(r,a),s===n)},e.prototype.getColor=function(t,o){for(var r=this.distancePoint(t,o),a=(o.getX()-t.getX())/r,i=(o.getY()-t.getY())/r,n=0,s=t.getX(),l=t.getY(),u=this.image.get(t.getX(),t.getY()),c=Math.ceil(r),d=0;d<c;d++)s+=a,l+=i,this.image.get(Oo.round(s),Oo.round(l))!==u&&n++;var m=n/r;return m>.1&&m<.9?0:m<=.1===u?1:-1},e.prototype.getFirstDifferent=function(t,o,r,a){for(var i=t.getX()+r,n=t.getY()+a;this.isValid(i,n)&&this.image.get(i,n)===o;)i+=r,n+=a;for(i-=r,n-=a;this.isValid(i,n)&&this.image.get(i,n)===o;)i+=r;for(i-=r;this.isValid(i,n)&&this.image.get(i,n)===o;)n+=a;return n-=a,new mi(i,n)},e.prototype.expandSquare=function(t,o,r){var a=r/(2*o),i=t[0].getX()-t[2].getX(),n=t[0].getY()-t[2].getY(),s=(t[0].getX()+t[2].getX())/2,l=(t[0].getY()+t[2].getY())/2,u=new Dt(s+a*i,l+a*n),c=new Dt(s-a*i,l-a*n);i=t[1].getX()-t[3].getX(),n=t[1].getY()-t[3].getY(),s=(t[1].getX()+t[3].getX())/2,l=(t[1].getY()+t[3].getY())/2;var d=new Dt(s+a*i,l+a*n),m=new Dt(s-a*i,l-a*n),f=[u,d,c,m];return f},e.prototype.isValid=function(t,o){return t>=0&&t<this.image.getWidth()&&o>0&&o<this.image.getHeight()},e.prototype.isValidPoint=function(t){var o=Oo.round(t.getX()),r=Oo.round(t.getY());return this.isValid(o,r)},e.prototype.distancePoint=function(t,o){return Oo.distance(t.getX(),t.getY(),o.getX(),o.getY())},e.prototype.distanceResultPoint=function(t,o){return Oo.distance(t.getX(),t.getY(),o.getX(),o.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Or.truncDivision(this.nbLayers-4,8)+1)+15},e}(),rC=function(){function e(){}return e.prototype.decode=function(t,o){o===void 0&&(o=null);var r=null,a=new gse(t.getBlackMatrix()),i=null,n=null;try{var s=a.detectMirror(!1);i=s.getPoints(),this.reportFoundResultPoints(o,i),n=new o3().decode(s)}catch(d){r=d}if(n==null)try{var s=a.detectMirror(!0);i=s.getPoints(),this.reportFoundResultPoints(o,i),n=new o3().decode(s)}catch(d){throw r!=null?r:d}var l=new Ti(n.getText(),n.getRawBytes(),n.getNumBits(),i,Gt.AZTEC,aa.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(Dr.BYTE_SEGMENTS,u);var c=n.getECLevel();return c!=null&&l.putMetadata(Dr.ERROR_CORRECTION_LEVEL,c),l},e.prototype.reportFoundResultPoints=function(t,o){if(t!=null){var r=t.get(Ea.NEED_RESULT_POINT_CALLBACK);r!=null&&o.forEach(function(a,i,n){r.foundPossibleResultPoint(a)})}},e.prototype.reset=function(){},e}(),_se=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){_se(t,e);function t(o){return o===void 0&&(o=500),e.call(this,new rC,o)||this}return t})(Xf);var Pr=function(){function e(){}return e.prototype.decode=function(t,o){try{return this.doDecode(t,o)}catch{var r=o&&o.get(Ea.TRY_HARDER)===!0;if(r&&t.isRotateSupported()){var a=t.rotateCounterClockwise(),i=this.doDecode(a,o),n=i.getResultMetadata(),s=270;n!==null&&n.get(Dr.ORIENTATION)===!0&&(s=s+n.get(Dr.ORIENTATION)%360),i.putMetadata(Dr.ORIENTATION,s);var l=i.getResultPoints();if(l!==null)for(var u=a.getHeight(),c=0;c<l.length;c++)l[c]=new Dt(u-l[c].getY()-1,l[c].getX());return i}else throw new Xe}},e.prototype.reset=function(){},e.prototype.doDecode=function(t,o){var r=t.getWidth(),a=t.getHeight(),i=new yi(r),n=o&&o.get(Ea.TRY_HARDER)===!0,s=Math.max(1,a>>(n?8:5)),l;n?l=a:l=15;for(var u=Math.trunc(a/2),c=0;c<l;c++){var d=Math.trunc((c+1)/2),m=(c&1)===0,f=u+s*(m?d:-d);if(f<0||f>=a)break;try{i=t.getBlackRow(f,i)}catch{continue}for(var p=function(_){if(_===1&&(i.reverse(),o&&o.get(Ea.NEED_RESULT_POINT_CALLBACK)===!0)){var y=new Map;o.forEach(function(O,F){return y.set(F,O)}),y.delete(Ea.NEED_RESULT_POINT_CALLBACK),o=y}try{var I=g.decodeRow(f,i,o);if(_===1){I.putMetadata(Dr.ORIENTATION,180);var S=I.getResultPoints();S!==null&&(S[0]=new Dt(r-S[0].getX()-1,S[0].getY()),S[1]=new Dt(r-S[1].getX()-1,S[1].getY()))}return{value:I}}catch{}},g=this,b=0;b<2;b++){var x=p(b);if(typeof x=="object")return x.value}}throw new Xe},e.recordPattern=function(t,o,r){for(var a=r.length,i=0;i<a;i++)r[i]=0;var n=t.getSize();if(o>=n)throw new Xe;for(var s=!t.get(o),l=0,u=o;u<n;){if(t.get(u)!==s)r[l]++;else{if(++l===a)break;r[l]=1,s=!s}u++}if(!(l===a||l===a-1&&u===n))throw new Xe},e.recordPatternInReverse=function(t,o,r){for(var a=r.length,i=t.get(o);o>0&&a>=0;)t.get(--o)!==i&&(a--,i=!i);if(a>=0)throw new Xe;e.recordPattern(t,o+1,r)},e.patternMatchVariance=function(t,o,r){for(var a=t.length,i=0,n=0,s=0;s<a;s++)i+=t[s],n+=o[s];if(i<n)return Number.POSITIVE_INFINITY;var l=i/n;r*=l;for(var u=0,c=0;c<a;c++){var d=t[c],m=o[c]*l,f=d>m?d-m:m-d;if(f>r)return Number.POSITIVE_INFINITY;u+=f}return u/i},e}(),bse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),r3=function(e){bse(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.findStartPattern=function(o){for(var r=o.getSize(),a=o.getNextSet(0),i=0,n=Int32Array.from([0,0,0,0,0,0]),s=a,l=!1,u=6,c=a;c<r;c++)if(o.get(c)!==l)n[i]++;else{if(i===u-1){for(var d=t.MAX_AVG_VARIANCE,m=-1,f=t.CODE_START_A;f<=t.CODE_START_C;f++){var p=Pr.patternMatchVariance(n,t.CODE_PATTERNS[f],t.MAX_INDIVIDUAL_VARIANCE);p<d&&(d=p,m=f)}if(m>=0&&o.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,m]);s+=n[0]+n[1],n=n.slice(2,n.length-1),n[i-1]=0,n[i]=0,i--}else i++;n[i]=1,l=!l}throw new Xe},t.decodeCode=function(o,r,a){Pr.recordPattern(o,a,r);for(var i=t.MAX_AVG_VARIANCE,n=-1,s=0;s<t.CODE_PATTERNS.length;s++){var l=t.CODE_PATTERNS[s],u=this.patternMatchVariance(r,l,t.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,n=s)}if(n>=0)return n;throw new Xe},t.prototype.decodeRow=function(o,r,a){var i=a&&a.get(Ea.ASSUME_GS1)===!0,n=t.findStartPattern(r),s=n[2],l=0,u=new Uint8Array(20);u[l++]=s;var c;switch(s){case t.CODE_START_A:c=t.CODE_CODE_A;break;case t.CODE_START_B:c=t.CODE_CODE_B;break;case t.CODE_START_C:c=t.CODE_CODE_C;break;default:throw new ut}for(var d=!1,m=!1,f="",p=n[0],g=n[1],b=Int32Array.from([0,0,0,0,0,0]),x=0,_=0,y=s,I=0,S=!0,O=!1,F=!1;!d;){var M=m;switch(m=!1,x=_,_=t.decodeCode(r,b,g),u[l++]=_,_!==t.CODE_STOP&&(S=!0),_!==t.CODE_STOP&&(I++,y+=I*_),p=g,g+=b.reduce(function(Q,se){return Q+se},0),_){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new ut}switch(c){case t.CODE_CODE_A:if(_<64)F===O?f+=String.fromCharCode(" ".charCodeAt(0)+_):f+=String.fromCharCode(" ".charCodeAt(0)+_+128),F=!1;else if(_<96)F===O?f+=String.fromCharCode(_-64):f+=String.fromCharCode(_+64),F=!1;else switch(_!==t.CODE_STOP&&(S=!1),_){case t.CODE_FNC_1:i&&(f.length===0?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!O&&F?(O=!0,F=!1):O&&F?(O=!1,F=!1):F=!0;break;case t.CODE_SHIFT:m=!0,c=t.CODE_CODE_B;break;case t.CODE_CODE_B:c=t.CODE_CODE_B;break;case t.CODE_CODE_C:c=t.CODE_CODE_C;break;case t.CODE_STOP:d=!0;break}break;case t.CODE_CODE_B:if(_<96)F===O?f+=String.fromCharCode(" ".charCodeAt(0)+_):f+=String.fromCharCode(" ".charCodeAt(0)+_+128),F=!1;else switch(_!==t.CODE_STOP&&(S=!1),_){case t.CODE_FNC_1:i&&(f.length===0?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!O&&F?(O=!0,F=!1):O&&F?(O=!1,F=!1):F=!0;break;case t.CODE_SHIFT:m=!0,c=t.CODE_CODE_A;break;case t.CODE_CODE_A:c=t.CODE_CODE_A;break;case t.CODE_CODE_C:c=t.CODE_CODE_C;break;case t.CODE_STOP:d=!0;break}break;case t.CODE_CODE_C:if(_<100)_<10&&(f+="0"),f+=_;else switch(_!==t.CODE_STOP&&(S=!1),_){case t.CODE_FNC_1:i&&(f.length===0?f+="]C1":f+=String.fromCharCode(29));break;case t.CODE_CODE_A:c=t.CODE_CODE_A;break;case t.CODE_CODE_B:c=t.CODE_CODE_B;break;case t.CODE_STOP:d=!0;break}break}M&&(c=c===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var E=g-p;if(g=r.getNextUnset(g),!r.isRange(g,Math.min(r.getSize(),g+(g-p)/2),!1))throw new Xe;if(y-=I*x,y%103!==x)throw new Tr;var D=f.length;if(D===0)throw new Xe;D>0&&S&&(c===t.CODE_CODE_C?f=f.substring(0,D-2):f=f.substring(0,D-1));for(var P=(n[1]+n[0])/2,N=p+E/2,R=u.length,z=new Uint8Array(R),W=0;W<R;W++)z[W]=u[W];var j=[new Dt(P,o),new Dt(N,o)];return new Ti(f,z,0,j,Gt.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(Pr),yse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),d2=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i3=function(e){yse(t,e);function t(o,r){o===void 0&&(o=!1),r===void 0&&(r=!1);var a=e.call(this)||this;return a.usingCheckDigit=o,a.extendedMode=r,a.decodeRowResult="",a.counters=new Int32Array(9),a}return t.prototype.decodeRow=function(o,r,a){var i,n,s,l,u=this.counters;u.fill(0),this.decodeRowResult="";var c=t.findAsteriskPattern(r,u),d=r.getNextSet(c[1]),m=r.getSize(),f,p;do{t.recordPattern(r,d,u);var g=t.toNarrowWidePattern(u);if(g<0)throw new Xe;f=t.patternToChar(g),this.decodeRowResult+=f,p=d;try{for(var b=(i=void 0,d2(u)),x=b.next();!x.done;x=b.next()){var _=x.value;d+=_}}catch(R){i={error:R}}finally{try{x&&!x.done&&(n=b.return)&&n.call(b)}finally{if(i)throw i.error}}d=r.getNextSet(d)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var I=d2(u),S=I.next();!S.done;S=I.next()){var _=S.value;y+=_}}catch(R){s={error:R}}finally{try{S&&!S.done&&(l=I.return)&&l.call(I)}finally{if(s)throw s.error}}var O=d-p-y;if(d!==m&&O*2<y)throw new Xe;if(this.usingCheckDigit){for(var F=this.decodeRowResult.length-1,M=0,E=0;E<F;E++)M+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(E));if(this.decodeRowResult.charAt(F)!==t.ALPHABET_STRING.charAt(M%43))throw new Tr;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new Xe;var D;this.extendedMode?D=t.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;var P=(c[1]+c[0])/2,N=p+y/2;return new Ti(D,null,0,[new Dt(P,o),new Dt(N,o)],Gt.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(o,r){for(var a=o.getSize(),i=o.getNextSet(0),n=0,s=i,l=!1,u=r.length,c=i;c<a;c++)if(o.get(c)!==l)r[n]++;else{if(n===u-1){if(this.toNarrowWidePattern(r)===t.ASTERISK_ENCODING&&o.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=r[0]+r[1],r.copyWithin(0,2,2+n-1),r[n-1]=0,r[n]=0,n--}else n++;r[n]=1,l=!l}throw new Xe},t.toNarrowWidePattern=function(o){var r,a,i=o.length,n=0,s;do{var l=2147483647;try{for(var u=(r=void 0,d2(o)),c=u.next();!c.done;c=u.next()){var d=c.value;d<l&&d>n&&(l=d)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}n=l,s=0;for(var m=0,f=0,p=0;p<i;p++){var d=o[p];d>n&&(f|=1<<i-1-p,s++,m+=d)}if(s===3){for(var p=0;p<i&&s>0;p++){var d=o[p];if(d>n&&(s--,d*2>=m))return-1}return f}}while(s>3);return-1},t.patternToChar=function(o){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===o)return t.ALPHABET_STRING.charAt(r);if(o===t.ASTERISK_ENCODING)return"*";throw new Xe},t.decodeExtended=function(o){for(var r=o.length,a="",i=0;i<r;i++){var n=o.charAt(i);if(n==="+"||n==="$"||n==="%"||n==="/"){var s=o.charAt(i+1),l="\0";switch(n){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new ut;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new ut;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="\x7F";else throw new ut;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new ut;break}a+=l,i++}else a+=n}return a},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(Pr),Cse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),xse=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n3=function(e){Cse(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.narrowLineWidth=-1,o}return t.prototype.decodeRow=function(o,r,a){var i,n,s=this.decodeStart(r),l=this.decodeEnd(r),u=new Ko;t.decodeMiddle(r,s[1],l[0],u);var c=u.toString(),d=null;a!=null&&(d=a.get(Ea.ALLOWED_LENGTHS)),d==null&&(d=t.DEFAULT_ALLOWED_LENGTHS);var m=c.length,f=!1,p=0;try{for(var g=xse(d),b=g.next();!b.done;b=g.next()){var x=b.value;if(m===x){f=!0;break}x>p&&(p=x)}}catch(I){i={error:I}}finally{try{b&&!b.done&&(n=g.return)&&n.call(g)}finally{if(i)throw i.error}}if(!f&&m>p&&(f=!0),!f)throw new ut;var _=[new Dt(s[1],o),new Dt(l[0],o)],y=new Ti(c,null,0,_,Gt.ITF,new Date().getTime());return y},t.decodeMiddle=function(o,r,a,i){var n=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(n.fill(0),s.fill(0),l.fill(0);r<a;){Pr.recordPattern(o,r,n);for(var u=0;u<5;u++){var c=2*u;s[u]=n[c],l[u]=n[c+1]}var d=t.decodeDigit(s);i.append(d.toString()),d=this.decodeDigit(l),i.append(d.toString()),n.forEach(function(m){r+=m})}},t.prototype.decodeStart=function(o){var r=t.skipWhiteSpace(o),a=t.findGuardPattern(o,r,t.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(o,a[0]),a},t.prototype.validateQuietZone=function(o,r){var a=this.narrowLineWidth*10;a=a<r?a:r;for(var i=r-1;a>0&&i>=0&&!o.get(i);i--)a--;if(a!==0)throw new Xe},t.skipWhiteSpace=function(o){var r=o.getSize(),a=o.getNextSet(0);if(a===r)throw new Xe;return a},t.prototype.decodeEnd=function(o){o.reverse();try{var r=t.skipWhiteSpace(o),a=void 0;try{a=t.findGuardPattern(o,r,t.END_PATTERN_REVERSED[0])}catch(n){n instanceof Xe&&(a=t.findGuardPattern(o,r,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,a[0]);var i=a[0];return a[0]=o.getSize()-a[1],a[1]=o.getSize()-i,a}finally{o.reverse()}},t.findGuardPattern=function(o,r,a){var i=a.length,n=new Int32Array(i),s=o.getSize(),l=!1,u=0,c=r;n.fill(0);for(var d=r;d<s;d++)if(o.get(d)!==l)n[u]++;else{if(u===i-1){if(Pr.patternMatchVariance(n,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[c,d];c+=n[0]+n[1],aa.arraycopy(n,2,n,0,u-1),n[u-1]=0,n[u]=0,u--}else u++;n[u]=1,l=!l}throw new Xe},t.decodeDigit=function(o){for(var r=t.MAX_AVG_VARIANCE,a=-1,i=t.PATTERNS.length,n=0;n<i;n++){var s=t.PATTERNS[n],l=Pr.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE);l<r?(r=l,a=n):l===r&&(a=-1)}if(a>=0)return a%10;throw new Xe},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(Pr),wse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),yf=function(e){wse(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.decodeRowStringBuffer="",o}return t.findStartGuardPattern=function(o){for(var r=!1,a,i=0,n=Int32Array.from([0,0,0]);!r;){n=Int32Array.from([0,0,0]),a=t.findGuardPattern(o,i,!1,this.START_END_PATTERN,n);var s=a[0];i=a[1];var l=s-(i-s);l>=0&&(r=o.isRange(l,s,!1))}return a},t.checkChecksum=function(o){return t.checkStandardUPCEANChecksum(o)},t.checkStandardUPCEANChecksum=function(o){var r=o.length;if(r===0)return!1;var a=parseInt(o.charAt(r-1),10);return t.getStandardUPCEANChecksum(o.substring(0,r-1))===a},t.getStandardUPCEANChecksum=function(o){for(var r=o.length,a=0,i=r-1;i>=0;i-=2){var n=o.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(n<0||n>9)throw new ut;a+=n}a*=3;for(var i=r-2;i>=0;i-=2){var n=o.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(n<0||n>9)throw new ut;a+=n}return(1e3-a)%10},t.decodeEnd=function(o,r){return t.findGuardPattern(o,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(o,r,a,i){return this.findGuardPattern(o,r,a,i,new Int32Array(i.length))},t.findGuardPattern=function(o,r,a,i,n){var s=o.getSize();r=a?o.getNextUnset(r):o.getNextSet(r);for(var l=0,u=r,c=i.length,d=a,m=r;m<s;m++)if(o.get(m)!==d)n[l]++;else{if(l===c-1){if(Pr.patternMatchVariance(n,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([u,m]);u+=n[0]+n[1];for(var f=n.slice(2,n.length-1),p=0;p<l-1;p++)n[p]=f[p];n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,d=!d}throw new Xe},t.decodeDigit=function(o,r,a,i){this.recordPattern(o,a,r);for(var n=this.MAX_AVG_VARIANCE,s=-1,l=i.length,u=0;u<l;u++){var c=i[u],d=Pr.patternMatchVariance(r,c,t.MAX_INDIVIDUAL_VARIANCE);d<n&&(n=d,s=u)}if(s>=0)return s;throw new Xe},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(Pr),Ise=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ese=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,o,r){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(o,r,a),n=a.toString(),s=e.parseExtensionString(n),l=[new Dt((r[0]+r[1])/2,t),new Dt(i,t)],u=new Ti(n,null,0,l,Gt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},e.prototype.decodeMiddle=function(t,o,r){var a,i,n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var s=t.getSize(),l=o[1],u=0,c=0;c<5&&l<s;c++){var d=yf.decodeDigit(t,n,l,yf.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var m=(a=void 0,Ise(n)),f=m.next();!f.done;f=m.next()){var p=f.value;l+=p}}catch(b){a={error:b}}finally{try{f&&!f.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}d>=10&&(u|=1<<4-c),c!==4&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(r.length!==5)throw new Xe;var g=this.determineCheckDigit(u);if(e.extensionChecksum(r.toString())!==g)throw new Xe;return l},e.extensionChecksum=function(t){for(var o=t.length,r=0,a=o-2;a>=0;a-=2)r+=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(var a=o-1;a>=0;a-=2)r+=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10},e.prototype.determineCheckDigit=function(t){for(var o=0;o<10;o++)if(t===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new Xe},e.parseExtensionString=function(t){if(t.length!==5)return null;var o=e.parseExtension5String(t);return o==null?null:new Map([[Dr.SUGGESTED_PRICE,o]])},e.parseExtension5String=function(t){var o;switch(t.charAt(0)){case"0":o="\xA3";break;case"5":o="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}var r=parseInt(t.substring(1)),a=(r/100).toString(),i=r%100,n=i<10?"0"+i:i.toString();return o+a+"."+n},e}(),Sse=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ase=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,o,r){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(o,r,a),n=a.toString(),s=e.parseExtensionString(n),l=[new Dt((r[0]+r[1])/2,t),new Dt(i,t)],u=new Ti(n,null,0,l,Gt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},e.prototype.decodeMiddle=function(t,o,r){var a,i,n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var s=t.getSize(),l=o[1],u=0,c=0;c<2&&l<s;c++){var d=yf.decodeDigit(t,n,l,yf.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var m=(a=void 0,Sse(n)),f=m.next();!f.done;f=m.next()){var p=f.value;l+=p}}catch(g){a={error:g}}finally{try{f&&!f.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}d>=10&&(u|=1<<1-c),c!==1&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(r.length!==2)throw new Xe;if(parseInt(r.toString())%4!==u)throw new Xe;return l},e.parseExtensionString=function(t){return t.length!==2?null:new Map([[Dr.ISSUE_NUMBER,parseInt(t)]])},e}(),Tse=function(){function e(){}return e.decodeRow=function(t,o,r){var a=yf.findGuardPattern(o,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new Ese;return i.decodeRow(t,o,a)}catch{var n=new Ase;return n.decodeRow(t,o,a)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}(),Ose=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),nr=function(e){Ose(t,e);function t(){var o=e.call(this)||this;o.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var r=10;r<20;r++){for(var a=t.L_PATTERNS[r-10],i=new Int32Array(a.length),n=0;n<a.length;n++)i[n]=a[a.length-n-1];t.L_AND_G_PATTERNS[r]=i}return o}return t.prototype.decodeRow=function(o,r,a){var i=t.findStartGuardPattern(r),n=a==null?null:a.get(Ea.NEED_RESULT_POINT_CALLBACK);if(n!=null){var s=new Dt((i[0]+i[1])/2,o);n.foundPossibleResultPoint(s)}var l=this.decodeMiddle(r,i,this.decodeRowStringBuffer),u=l.rowOffset,c=l.resultString;if(n!=null){var d=new Dt(u,o);n.foundPossibleResultPoint(d)}var m=t.decodeEnd(r,u);if(n!=null){var f=new Dt((m[0]+m[1])/2,o);n.foundPossibleResultPoint(f)}var p=m[1],g=p+(p-m[0]);if(g>=r.getSize()||!r.isRange(p,g,!1))throw new Xe;var b=c.toString();if(b.length<8)throw new ut;if(!t.checkChecksum(b))throw new Tr;var x=(i[1]+i[0])/2,_=(m[1]+m[0])/2,y=this.getBarcodeFormat(),I=[new Dt(x,o),new Dt(_,o)],S=new Ti(b,null,0,I,y,new Date().getTime()),O=0;try{var F=Tse.decodeRow(o,r,m[1]);S.putMetadata(Dr.UPC_EAN_EXTENSION,F.getText()),S.putAllMetadata(F.getResultMetadata()),S.addResultPoints(F.getResultPoints()),O=F.getText().length}catch{}var M=a==null?null:a.get(Ea.ALLOWED_EAN_EXTENSIONS);if(M!=null){var E=!1;for(var D in M)if(O.toString()===D){E=!0;break}if(!E)throw new Xe}return y===Gt.EAN_13||Gt.UPC_A,S},t.checkChecksum=function(o){return t.checkStandardUPCEANChecksum(o)},t.checkStandardUPCEANChecksum=function(o){var r=o.length;if(r===0)return!1;var a=parseInt(o.charAt(r-1),10);return t.getStandardUPCEANChecksum(o.substring(0,r-1))===a},t.getStandardUPCEANChecksum=function(o){for(var r=o.length,a=0,i=r-1;i>=0;i-=2){var n=o.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(n<0||n>9)throw new ut;a+=n}a*=3;for(var i=r-2;i>=0;i-=2){var n=o.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(n<0||n>9)throw new ut;a+=n}return(1e3-a)%10},t.decodeEnd=function(o,r){return t.findGuardPattern(o,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(yf),Dse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),s3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iC=function(e){Dse(t,e);function t(){var o=e.call(this)||this;return o.decodeMiddleCounters=Int32Array.from([0,0,0,0]),o}return t.prototype.decodeMiddle=function(o,r,a){var i,n,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=o.getSize(),d=r[1],m=0,f=0;f<6&&d<c;f++){var p=nr.decodeDigit(o,u,d,nr.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var g=(i=void 0,s3(u)),b=g.next();!b.done;b=g.next()){var x=b.value;d+=x}}catch(S){i={error:S}}finally{try{b&&!b.done&&(n=g.return)&&n.call(g)}finally{if(i)throw i.error}}p>=10&&(m|=1<<5-f)}a=t.determineFirstDigit(a,m);var _=nr.findGuardPattern(o,d,!0,nr.MIDDLE_PATTERN,new Int32Array(nr.MIDDLE_PATTERN.length).fill(0));d=_[1];for(var f=0;f<6&&d<c;f++){var p=nr.decodeDigit(o,u,d,nr.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var y=(s=void 0,s3(u)),I=y.next();!I.done;I=y.next()){var x=I.value;d+=x}}catch(F){s={error:F}}finally{try{I&&!I.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}}return{rowOffset:d,resultString:a}},t.prototype.getBarcodeFormat=function(){return Gt.EAN_13},t.determineFirstDigit=function(o,r){for(var a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return o=String.fromCharCode("0".charCodeAt(0)+a)+o,o;throw new Xe},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(nr),Pse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),l3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c3=function(e){Pse(t,e);function t(){var o=e.call(this)||this;return o.decodeMiddleCounters=Int32Array.from([0,0,0,0]),o}return t.prototype.decodeMiddle=function(o,r,a){var i,n,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=o.getSize(),d=r[1],m=0;m<4&&d<c;m++){var f=nr.decodeDigit(o,u,d,nr.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+f);try{for(var p=(i=void 0,l3(u)),g=p.next();!g.done;g=p.next()){var b=g.value;d+=b}}catch(I){i={error:I}}finally{try{g&&!g.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}}var x=nr.findGuardPattern(o,d,!0,nr.MIDDLE_PATTERN,new Int32Array(nr.MIDDLE_PATTERN.length).fill(0));d=x[1];for(var m=0;m<4&&d<c;m++){var f=nr.decodeDigit(o,u,d,nr.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+f);try{for(var _=(s=void 0,l3(u)),y=_.next();!y.done;y=_.next()){var b=y.value;d+=b}}catch(O){s={error:O}}finally{try{y&&!y.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}}return{rowOffset:d,resultString:a}},t.prototype.getBarcodeFormat=function(){return Gt.EAN_8},t}(nr),Mse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Nse=function(e){Mse(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.ean13Reader=new iC,o}return t.prototype.getBarcodeFormat=function(){return Gt.UPC_A},t.prototype.decode=function(o,r){return this.maybeReturnResult(this.ean13Reader.decode(o))},t.prototype.decodeRow=function(o,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,r,a))},t.prototype.decodeMiddle=function(o,r,a){return this.ean13Reader.decodeMiddle(o,r,a)},t.prototype.maybeReturnResult=function(o){var r=o.getText();if(r.charAt(0)==="0"){var a=new Ti(r.substring(1),null,null,o.getResultPoints(),Gt.UPC_A);return o.getResultMetadata()!=null&&a.putAllMetadata(o.getResultMetadata()),a}else throw new Xe},t.prototype.reset=function(){this.ean13Reader.reset()},t}(nr),Fse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Rse=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u3=function(e){Fse(t,e);function t(){var o=e.call(this)||this;return o.decodeMiddleCounters=new Int32Array(4),o}return t.prototype.decodeMiddle=function(o,r,a){var i,n,s=this.decodeMiddleCounters.map(function(b){return b});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=o.getSize(),u=r[1],c=0,d=0;d<6&&u<l;d++){var m=t.decodeDigit(o,s,u,t.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+m%10);try{for(var f=(i=void 0,Rse(s)),p=f.next();!p.done;p=f.next()){var g=p.value;u+=g}}catch(b){i={error:b}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}m>=10&&(c|=1<<5-d)}return t.determineNumSysAndCheckDigit(new Ko(a),c),u},t.prototype.decodeEnd=function(o,r){return t.findGuardPatternWithoutCounters(o,r,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(o){return nr.checkChecksum(t.convertUPCEtoUPCA(o))},t.determineNumSysAndCheckDigit=function(o,r){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){o.insert(0,"0"+a),o.append("0"+i);return}throw Xe.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Gt.UPC_E},t.convertUPCEtoUPCA=function(o){var r=o.slice(1,7).split("").map(function(n){return n.charCodeAt(0)}),a=new Ko;a.append(o.charAt(0));var i=r[5];switch(i){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(i),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(i);break}return o.length>=8&&a.append(o.charAt(7)),a.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(nr),kse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),d3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f2=function(e){kse(t,e);function t(o){var r=e.call(this)||this,a=o==null?null:o.get(Ea.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Gt.EAN_13)>-1?i.push(new iC):a.indexOf(Gt.UPC_A)>-1&&i.push(new Nse),a.indexOf(Gt.EAN_8)>-1&&i.push(new c3),a.indexOf(Gt.UPC_E)>-1&&i.push(new u3)),i.length===0&&(i.push(new iC),i.push(new c3),i.push(new u3)),r.readers=i,r}return t.prototype.decodeRow=function(o,r,a){var i,n;try{for(var s=d3(this.readers),l=s.next();!l.done;l=s.next()){var u=l.value;try{var c=u.decodeRow(o,r,a),d=c.getBarcodeFormat()===Gt.EAN_13&&c.getText().charAt(0)==="0",m=a==null?null:a.get(Ea.POSSIBLE_FORMATS),f=m==null||m.includes(Gt.UPC_A);if(d&&f){var p=c.getRawBytes(),g=new Ti(c.getText().substring(1),p,p.length,c.getResultPoints(),Gt.UPC_A);return g.putAllMetadata(c.getResultMetadata()),g}return c}catch{}}}catch(b){i={error:b}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}throw new Xe},t.prototype.reset=function(){var o,r;try{for(var a=d3(this.readers),i=a.next();!i.done;i=a.next()){var n=i.value;n.reset()}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}},t}(Pr),Vse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),qse=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kc=function(e){Vse(t,e);function t(){var o=e.call(this)||this;return o.decodeFinderCounters=new Int32Array(4),o.dataCharacterCounters=new Int32Array(8),o.oddRoundingErrors=new Array(4),o.evenRoundingErrors=new Array(4),o.oddCounts=new Array(o.dataCharacterCounters.length/2),o.evenCounts=new Array(o.dataCharacterCounters.length/2),o}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(o,r){for(var a=0;a<r.length;a++)if(Pr.patternMatchVariance(o,r[a],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return a;throw new Xe},t.count=function(o){return Oo.sum(new Int32Array(o))},t.increment=function(o,r){for(var a=0,i=r[0],n=1;n<o.length;n++)r[n]>i&&(i=r[n],a=n);o[a]++},t.decrement=function(o,r){for(var a=0,i=r[0],n=1;n<o.length;n++)r[n]<i&&(i=r[n],a=n);o[a]--},t.isFinderPattern=function(o){var r,a,i=o[0]+o[1],n=i+o[2]+o[3],s=i/n;if(s>=t.MIN_FINDER_PATTERN_RATIO&&s<=t.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var c=qse(o),d=c.next();!d.done;d=c.next()){var m=d.value;m>u&&(u=m),m<l&&(l=m)}}catch(f){r={error:f}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}return u<10*l}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(Pr),Cv=function(){function e(t,o){this.value=t,this.checksumPortion=o}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;return this.value===o.value&&this.checksumPortion===o.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}(),qM=function(){function e(t,o,r,a,i){this.value=t,this.startEnd=o,this.value=t,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Dt(r,i)),this.resultPoints.push(new Dt(a,i))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;return this.value===o.value},e.prototype.hashCode=function(){return this.value},e}(),Bse=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$d=function(){function e(){}return e.getRSSvalue=function(t,o,r){var a,i,n=0;try{for(var s=Bse(t),l=s.next();!l.done;l=s.next()){var u=l.value;n+=u}}catch(_){a={error:_}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}for(var c=0,d=0,m=t.length,f=0;f<m-1;f++){var p=void 0;for(p=1,d|=1<<f;p<t[f];p++,d&=~(1<<f)){var g=e.combins(n-p-1,m-f-2);if(r&&d===0&&n-p-(m-f-1)>=m-f-1&&(g-=e.combins(n-p-(m-f),m-f-2)),m-f-1>1){for(var b=0,x=n-p-(m-f-2);x>o;x--)b+=e.combins(n-p-x-1,m-f-3);g-=b*(m-1-f)}else n-p>o&&g--;c+=g}n-=p}return c},e.combins=function(t,o){var r,a;t-o>o?(a=o,r=t-o):(a=t-o,r=o);for(var i=1,n=1,s=t;s>r;s--)i*=s,n<=a&&(i/=n,n++);for(;n<=a;)i/=n,n++;return i},e}(),Lse=function(){function e(){}return e.buildBitArray=function(t){var o=t.length*2-1;t[t.length-1].getRightChar()==null&&(o-=1);for(var r=12*o,a=new yi(r),i=0,n=t[0],s=n.getRightChar().getValue(),l=11;l>=0;--l)(s&1<<l)!=0&&a.set(i),i++;for(var l=1;l<t.length;++l){for(var u=t[l],c=u.getLeftChar().getValue(),d=11;d>=0;--d)(c&1<<d)!=0&&a.set(i),i++;if(u.getRightChar()!=null)for(var m=u.getRightChar().getValue(),d=11;d>=0;--d)(m&1<<d)!=0&&a.set(i),i++}return a},e}(),jc=function(){function e(t,o){o?this.decodedInformation=null:(this.finished=t,this.decodedInformation=o)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}(),oI=function(){function e(t){this.newPosition=t}return e.prototype.getNewPosition=function(){return this.newPosition},e}(),$se=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Vn=function(e){$se(t,e);function t(o,r){var a=e.call(this,o)||this;return a.value=r,a}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(oI),Use=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Gc=function(e){Use(t,e);function t(o,r,a){var i=e.call(this,o)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=r,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(oI),zse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Td=function(e){zse(t,e);function t(o,r,a){var i=e.call(this,o)||this;if(r<0||r>10||a<0||a>10)throw new ut;return i.firstDigit=r,i.secondDigit=a,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(oI),n1=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hse=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var o,r,a,i,n,s,l,u;if(!t)return null;if(t.length<2)throw new Xe;var c=t.substring(0,2);try{for(var d=n1(e.TWO_DIGIT_DATA_LENGTH),m=d.next();!m.done;m=d.next()){var f=m.value;if(f[0]===c)return f[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,f[2],t):e.processFixedAI(2,f[1],t)}}catch(O){o={error:O}}finally{try{m&&!m.done&&(r=d.return)&&r.call(d)}finally{if(o)throw o.error}}if(t.length<3)throw new Xe;var p=t.substring(0,3);try{for(var g=n1(e.THREE_DIGIT_DATA_LENGTH),b=g.next();!b.done;b=g.next()){var f=b.value;if(f[0]===p)return f[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,f[2],t):e.processFixedAI(3,f[1],t)}}catch(O){a={error:O}}finally{try{b&&!b.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}try{for(var x=n1(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),_=x.next();!_.done;_=x.next()){var f=_.value;if(f[0]===p)return f[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,f[2],t):e.processFixedAI(4,f[1],t)}}catch(O){n={error:O}}finally{try{_&&!_.done&&(s=x.return)&&s.call(x)}finally{if(n)throw n.error}}if(t.length<4)throw new Xe;var y=t.substring(0,4);try{for(var I=n1(e.FOUR_DIGIT_DATA_LENGTH),S=I.next();!S.done;S=I.next()){var f=S.value;if(f[0]===y)return f[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,f[2],t):e.processFixedAI(4,f[1],t)}}catch(O){l={error:O}}finally{try{S&&!S.done&&(u=I.return)&&u.call(I)}finally{if(l)throw l.error}}throw new Xe},e.processFixedAI=function(t,o,r){if(r.length<t)throw new Xe;var a=r.substring(0,t);if(r.length<t+o)throw new Xe;var i=r.substring(t,t+o),n=r.substring(t+o),s="("+a+")"+i,l=e.parseFieldsInGeneralPurpose(n);return l==null?s:s+l},e.processVariableAI=function(t,o,r){var a=r.substring(0,t),i;r.length<t+o?i=r.length:i=t+o;var n=r.substring(t,i),s=r.substring(i),l="("+a+")"+n,u=e.parseFieldsInGeneralPurpose(s);return u==null?l:l+u},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}(),q1=function(){function e(t){this.buffer=new Ko,this.information=t}return e.prototype.decodeAllCodes=function(t,o){var r=o,a=null;do{var i=this.decodeGeneralPurposeField(r,a),n=Hse.parseFieldsInGeneralPurpose(i.getNewString());if(n!=null&&t.append(n),i.isRemaining()?a=""+i.getRemainingValue():a=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return t.toString()},e.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var o=t;o<t+3;++o)if(this.information.get(o))return!0;return this.information.get(t+3)},e.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var o=this.extractNumericValueFromBitArray(t,4);return o===0?new Td(this.information.getSize(),Td.FNC1,Td.FNC1):new Td(this.information.getSize(),o-1,Td.FNC1)}var r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,i=(r-8)%11;return new Td(t+7,a,i)},e.prototype.extractNumericValueFromBitArray=function(t,o){return e.extractNumericValueFromBitArray(this.information,t,o)},e.extractNumericValueFromBitArray=function(t,o,r){for(var a=0,i=0;i<r;++i)t.get(o+i)&&(a|=1<<r-i-1);return a},e.prototype.decodeGeneralPurposeField=function(t,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(t);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Gc(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Gc(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var t,o;do{var r=this.current.getPosition();this.current.isAlpha()?(o=this.parseAlphaBlock(),t=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),t=o.isFinished()):(o=this.parseNumericBlock(),t=o.isFinished());var a=r!==this.current.getPosition();if(!a&&!t)break}while(!t);return o.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var o=void 0;return t.isSecondDigitFNC1()?o=new Gc(this.current.getPosition(),this.buffer.toString()):o=new Gc(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new jc(!0,o)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var o=new Gc(this.current.getPosition(),this.buffer.toString());return new jc(!0,o)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new jc(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var o=new Gc(this.current.getPosition(),this.buffer.toString());return new jc(!0,o)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new jc(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var o=new Gc(this.current.getPosition(),this.buffer.toString());return new jc(!0,o)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new jc(!1)},e.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(t,5);if(o>=5&&o<16)return!0;if(t+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253},e.prototype.decodeIsoIec646=function(t){var o=this.extractNumericValueFromBitArray(t,5);if(o===15)return new Vn(t+5,Vn.FNC1);if(o>=5&&o<15)return new Vn(t+5,"0"+(o-5));var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Vn(t+7,""+(r+1));if(r>=90&&r<116)return new Vn(t+7,""+(r+7));var a=this.extractNumericValueFromBitArray(t,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new ut}return new Vn(t+8,i)},e.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(t,5);if(o>=5&&o<16)return!0;if(t+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63},e.prototype.decodeAlphanumeric=function(t){var o=this.extractNumericValueFromBitArray(t,5);if(o===15)return new Vn(t+5,Vn.FNC1);if(o>=5&&o<15)return new Vn(t+5,"0"+(o-5));var r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Vn(t+6,""+(r+33));var a;switch(r){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Yf("Decoding invalid alphanumeric value: "+r)}return new Vn(t+6,a)},e.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var o=0;o<5&&o+t<this.information.getSize();++o)if(o===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+o))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var o=t;o<t+3;++o)if(this.information.get(o))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var o=0;o<4&&o+t<this.information.getSize();++o)if(this.information.get(t+o))return!1;return!0},e}(),BM=function(){function e(t){this.information=t,this.generalDecoder=new q1(t)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}(),jse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),jn=function(e){jse(t,e);function t(o){return e.call(this,o)||this}return t.prototype.encodeCompressedGtin=function(o,r){o.append("(01)");var a=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,r,a)},t.prototype.encodeCompressedGtinWithoutAI=function(o,r,a){for(var i=0;i<4;++i){var n=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*i,10);n/100===0&&o.append("0"),n/10===0&&o.append("0"),o.append(n)}t.appendCheckDigit(o,a)},t.appendCheckDigit=function(o,r){for(var a=0,i=0;i<13;i++){var n=o.charAt(i+r).charCodeAt(0)-"0".charCodeAt(0);a+=(i&1)===0?3*n:n}a=10-a%10,a===10&&(a=0),o.append(a)},t.GTIN_SIZE=40,t}(BM),Gse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Wse=function(e){Gse(t,e);function t(o){return e.call(this,o)||this}return t.prototype.parseInformation=function(){var o=new Ko;o.append("(01)");var r=o.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return o.append(a),this.encodeCompressedGtinWithoutAI(o,t.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(o,t.HEADER_SIZE+44)},t.HEADER_SIZE=1+1+2,t}(jn),Xse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Yse=function(e){Xse(t,e);function t(o){return e.call(this,o)||this}return t.prototype.parseInformation=function(){var o=new Ko;return this.getGeneralDecoder().decodeAllCodes(o,t.HEADER_SIZE)},t.HEADER_SIZE=2+1+2,t}(BM),Kse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),B1=function(e){Kse(t,e);function t(o){return e.call(this,o)||this}return t.prototype.encodeCompressedWeight=function(o,r,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(o,i);for(var n=this.checkWeight(i),s=1e5,l=0;l<5;++l)n/s===0&&o.append("0"),s/=10;o.append(n)},t}(jn),Qse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),LM=function(e){Qse(t,e);function t(o){return e.call(this,o)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+B1.GTIN_SIZE+t.WEIGHT_SIZE)throw new Xe;var o=new Ko;return this.encodeCompressedGtin(o,t.HEADER_SIZE),this.encodeCompressedWeight(o,t.HEADER_SIZE+B1.GTIN_SIZE,t.WEIGHT_SIZE),o.toString()},t.HEADER_SIZE=4+1,t.WEIGHT_SIZE=15,t}(B1),Jse=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Zse=function(e){Jse(t,e);function t(o){return e.call(this,o)||this}return t.prototype.addWeightCode=function(o,r){o.append("(3103)")},t.prototype.checkWeight=function(o){return o},t}(LM),ele=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),tle=function(e){ele(t,e);function t(o){return e.call(this,o)||this}return t.prototype.addWeightCode=function(o,r){r<1e4?o.append("(3202)"):o.append("(3203)")},t.prototype.checkWeight=function(o){return o<1e4?o:o-1e4},t}(LM),ole=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),ale=function(e){ole(t,e);function t(o){return e.call(this,o)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+jn.GTIN_SIZE)throw new Xe;var o=new Ko;this.encodeCompressedGtin(o,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+jn.GTIN_SIZE,t.LAST_DIGIT_SIZE);o.append("(392"),o.append(r),o.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+jn.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return o.append(a.getNewString()),o.toString()},t.HEADER_SIZE=5+1+2,t.LAST_DIGIT_SIZE=2,t}(jn),rle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),ile=function(e){rle(t,e);function t(o){return e.call(this,o)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+jn.GTIN_SIZE)throw new Xe;var o=new Ko;this.encodeCompressedGtin(o,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+jn.GTIN_SIZE,t.LAST_DIGIT_SIZE);o.append("(393"),o.append(r),o.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+jn.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);a/100==0&&o.append("0"),a/10==0&&o.append("0"),o.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+jn.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return o.append(i.getNewString()),o.toString()},t.HEADER_SIZE=5+1+2,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(jn),nle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),kl=function(e){nle(t,e);function t(o,r,a){var i=e.call(this,o)||this;return i.dateCode=a,i.firstAIdigits=r,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Xe;var o=new Ko;return this.encodeCompressedGtin(o,t.HEADER_SIZE),this.encodeCompressedWeight(o,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(o,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),o.toString()},t.prototype.encodeCompressedDate=function(o,r){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,t.DATE_SIZE);if(a!=38400){o.append("("),o.append(this.dateCode),o.append(")");var i=a%32;a/=32;var n=a%12+1;a/=12;var s=a;s/10==0&&o.append("0"),o.append(s),n/10==0&&o.append("0"),o.append(n),i/10==0&&o.append("0"),o.append(i)}},t.prototype.addWeightCode=function(o,r){o.append("("),o.append(this.firstAIdigits),o.append(r/1e5),o.append(")")},t.prototype.checkWeight=function(o){return o%1e5},t.HEADER_SIZE=7+1,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(B1);function sle(e){try{if(e.get(1))return new Wse(e);if(!e.get(2))return new Yse(e);var t=q1.extractNumericValueFromBitArray(e,1,4);switch(t){case 4:return new Zse(e);case 5:return new tle(e)}var o=q1.extractNumericValueFromBitArray(e,1,5);switch(o){case 12:return new ale(e);case 13:return new ile(e)}var r=q1.extractNumericValueFromBitArray(e,1,7);switch(r){case 56:return new kl(e,"310","11");case 57:return new kl(e,"320","11");case 58:return new kl(e,"310","13");case 59:return new kl(e,"320","13");case 60:return new kl(e,"310","15");case 61:return new kl(e,"320","15");case 62:return new kl(e,"310","17");case 63:return new kl(e,"320","17")}}catch(a){throw console.log(a),new Yf("unknown decoder: "+e)}}var f3=function(){function e(t,o,r,a){this.leftchar=t,this.rightchar=o,this.finderpattern=r,this.maybeLast=a}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return this.rightchar==null},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,o){return t instanceof e?e.equalsOrNull(t.leftchar,o.leftchar)&&e.equalsOrNull(t.rightchar,o.rightchar)&&e.equalsOrNull(t.finderpattern,o.finderpattern):!1},e.equalsOrNull=function(t,o){return t===null?o===null:e.equals(t,o)},e.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},e}(),lle=function(){function e(t,o,r){this.pairs=t,this.rowNumber=o,this.wasReversed=r}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,o){return t instanceof e?this.checkEqualitity(t,o)&&t.wasReversed===o.wasReversed:!1},e.prototype.checkEqualitity=function(t,o){if(!(!t||!o)){var r;return t.forEach(function(a,i){o.forEach(function(n){a.getLeftChar().getValue()===n.getLeftChar().getValue()&&a.getRightChar().getValue()===n.getRightChar().getValue()&&a.getFinderPatter().getValue()===n.getFinderPatter().getValue()&&(r=!0)})}),r}},e}(),cle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Vl=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ule=function(e){cle(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.pairs=new Array(t.MAX_PAIRS),o.rows=new Array,o.startEnd=[2],o}return t.prototype.decodeRow=function(o,r,a){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(o,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(o,r))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(o,r){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,o))}catch(s){if(s instanceof Xe){if(!this.pairs.length)throw new Xe;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(o,!1),i){var n=this.checkRowsBoolean(!1);if(n!=null||(n=this.checkRowsBoolean(!0),n!=null))return n}throw new Xe},t.prototype.checkRowsBoolean=function(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(a){console.log(a)}return o&&(this.rows=this.rows.reverse()),r},t.prototype.checkRows=function(o,r){for(var a,i,n=r;n<this.rows.length;n++){var s=this.rows[n];this.pairs.length=0;try{for(var l=(a=void 0,Vl(o)),u=l.next();!u.done;u=l.next()){var c=u.value;this.pairs.push(c.getPairs())}}catch(m){a={error:m}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}if(this.pairs.push(s.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var d=new Array(o);d.push(s);try{return this.checkRows(d,n+1)}catch(m){console.log(m)}}}throw new Xe},t.isValidSequence=function(o){var r,a;try{for(var i=Vl(t.FINDER_PATTERN_SEQUENCES),n=i.next();!n.done;n=i.next()){var s=n.value;if(!(o.length>s.length)){for(var l=!0,u=0;u<o.length;u++)if(o[u].getFinderPattern().getValue()!=s[u]){l=!1;break}if(l)return!0}}}catch(c){r={error:c}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return!1},t.prototype.storeRow=function(o,r){for(var a=0,i=!1,n=!1;a<this.rows.length;){var s=this.rows[a];if(s.getRowNumber()>o){n=s.isEquivalent(this.pairs);break}i=s.isEquivalent(this.pairs),a++}n||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new lle(this.pairs,o,r)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(o,r){var a,i,n,s,l,u;try{for(var c=Vl(r),d=c.next();!d.done;d=c.next()){var m=d.value;if(m.getPairs().length!==o.length){var f=!0;try{for(var p=(n=void 0,Vl(m.getPairs())),g=p.next();!g.done;g=p.next()){var b=g.value,x=!1;try{for(var _=(l=void 0,Vl(o)),y=_.next();!y.done;y=_.next()){var I=y.value;if(f3.equals(b,I)){x=!0;break}}}catch(S){l={error:S}}finally{try{y&&!y.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}x||(f=!1)}}catch(S){n={error:S}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}}}catch(S){a={error:S}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}},t.isPartialRow=function(o,r){var a,i,n,s,l,u;try{for(var c=Vl(r),d=c.next();!d.done;d=c.next()){var m=d.value,f=!0;try{for(var p=(n=void 0,Vl(o)),g=p.next();!g.done;g=p.next()){var b=g.value,x=!1;try{for(var _=(l=void 0,Vl(m.getPairs())),y=_.next();!y.done;y=_.next()){var I=y.value;if(b.equals(I)){x=!0;break}}}catch(S){l={error:S}}finally{try{y&&!y.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}if(!x){f=!1;break}}}catch(S){n={error:S}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}if(f)return!0}}catch(S){a={error:S}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(o){var r=Lse.buildBitArray(o),a=sle(r),i=a.parseInformation(),n=o[0].getFinderPattern().getResultPoints(),s=o[o.length-1].getFinderPattern().getResultPoints(),l=[n[0],n[1],s[0],s[1]];return new Ti(i,null,null,l,Gt.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var o=this.pairs.get(0),r=o.getLeftChar(),a=o.getRightChar();if(a==null)return!1;for(var i=a.getChecksumPortion(),n=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);i+=l.getLeftChar().getChecksumPortion(),n++;var u=l.getRightChar();u!=null&&(i+=u.getChecksumPortion(),n++)}i%=211;var c=211*(n-4)+i;return c==r.getValue()},t.getNextSecondBar=function(o,r){var a;return o.get(r)?(a=o.getNextUnset(r),a=o.getNextSet(a)):(a=o.getNextSet(r),a=o.getNextUnset(a)),a},t.prototype.retrieveNextPair=function(o,r,a){var i=r.length%2==0;this.startFromEven&&(i=!i);var n,s=!0,l=-1;do this.findNextPair(o,r,l),n=this.parseFoundFinderPattern(o,a,i),n==null?l=t.getNextSecondBar(o,this.startEnd[0]):s=!1;while(s);var u=this.decodeDataCharacter(o,n,i,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Xe;var c;try{c=this.decodeDataCharacter(o,n,i,!1)}catch(d){c=null,console.log(d)}return new f3(u,c,n,!0)},t.prototype.isEmptyPair=function(o){return o.length===0},t.prototype.findNextPair=function(o,r,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var n=o.getSize(),s;if(a>=0)s=a;else if(this.isEmptyPair(r))s=0;else{var l=r[r.length-1];s=l.getFinderPattern().getStartEnd()[1]}var u=r.length%2!=0;this.startFromEven&&(u=!u);for(var c=!1;s<n&&(c=!o.get(s),!!c);)s++;for(var d=0,m=s,f=s;f<n;f++)if(o.get(f)!=c)i[d]++;else{if(d==3){if(u&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=m,this.startEnd[1]=f;return}u&&t.reverseCounters(i),m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,d--}else d++;i[d]=1,c=!c}throw new Xe},t.reverseCounters=function(o){for(var r=o.length,a=0;a<r/2;++a){var i=o[a];o[a]=o[r-a-1],o[r-a-1]=i}},t.prototype.parseFoundFinderPattern=function(o,r,a){var i,n,s;if(a){for(var l=this.startEnd[0]-1;l>=0&&!o.get(l);)l--;l++,i=this.startEnd[0]-l,n=l,s=this.startEnd[1]}else n=this.startEnd[0],s=o.getNextUnset(this.startEnd[1]+1),i=s-this.startEnd[1];var u=this.getDecodeFinderCounters();aa.arraycopy(u,0,u,1,u.length-1),u[0]=i;var c;try{c=this.parseFinderValue(u,t.FINDER_PATTERNS)}catch{return null}return new qM(c,[n,s],n,s,r)},t.prototype.decodeDataCharacter=function(o,r,a,i){for(var n=this.getDataCharacterCounters(),s=0;s<n.length;s++)n[s]=0;if(i)t.recordPatternInReverse(o,r.getStartEnd()[0],n);else{t.recordPattern(o,r.getStartEnd()[1],n);for(var l=0,u=n.length-1;l<u;l++,u--){var c=n[l];n[l]=n[u],n[u]=c}}var d=17,m=Oo.sum(new Int32Array(n))/d,f=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(m-f)/f>.3)throw new Xe;for(var p=this.getOddCounts(),g=this.getEvenCounts(),b=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<n.length;l++){var _=1*n[l]/m,y=_+.5;if(y<1){if(_<.3)throw new Xe;y=1}else if(y>8){if(_>8.7)throw new Xe;y=8}var I=l/2;(l&1)==0?(p[I]=y,b[I]=_-y):(g[I]=y,x[I]=_-y)}this.adjustOddEvenCounts(d);for(var S=4*r.getValue()+(a?0:2)+(i?0:1)-1,O=0,F=0,l=p.length-1;l>=0;l--){if(t.isNotA1left(r,a,i)){var M=t.WEIGHTS[S][2*l];F+=p[l]*M}O+=p[l]}for(var E=0,l=g.length-1;l>=0;l--)if(t.isNotA1left(r,a,i)){var M=t.WEIGHTS[S][2*l+1];E+=g[l]*M}var D=F+E;if((O&1)!=0||O>13||O<4)throw new Xe;var P=(13-O)/2,N=t.SYMBOL_WIDEST[P],R=9-N,z=$d.getRSSvalue(p,N,!0),W=$d.getRSSvalue(g,R,!1),j=t.EVEN_TOTAL_SUBSET[P],Q=t.GSUM[P],se=z*j+W+Q;return new Cv(se,D)},t.isNotA1left=function(o,r,a){return!(o.getValue()==0&&r&&a)},t.prototype.adjustOddEvenCounts=function(o){var r=Oo.sum(new Int32Array(this.getOddCounts())),a=Oo.sum(new Int32Array(this.getEvenCounts())),i=!1,n=!1;r>13?n=!0:r<4&&(i=!0);var s=!1,l=!1;a>13?l=!0:a<4&&(s=!0);var u=r+a-o,c=(r&1)==1,d=(a&1)==0;if(u==1)if(c){if(d)throw new Xe;n=!0}else{if(!d)throw new Xe;l=!0}else if(u==-1)if(c){if(d)throw new Xe;i=!0}else{if(!d)throw new Xe;s=!0}else if(u==0){if(c){if(!d)throw new Xe;r<a?(i=!0,l=!0):(n=!0,s=!0)}else if(d)throw new Xe}else throw new Xe;if(i){if(n)throw new Xe;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(n&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new Xe;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(Kc),dle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),fle=function(e){dle(t,e);function t(o,r,a){var i=e.call(this,o,r)||this;return i.count=0,i.finderPattern=a,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(Cv),mle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),m2=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},m3=function(e){mle(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.possibleLeftPairs=[],o.possibleRightPairs=[],o}return t.prototype.decodeRow=function(o,r,a){var i,n,s,l,u=this.decodePair(r,!1,o,a);t.addOrTally(this.possibleLeftPairs,u),r.reverse();var c=this.decodePair(r,!0,o,a);t.addOrTally(this.possibleRightPairs,c),r.reverse();try{for(var d=m2(this.possibleLeftPairs),m=d.next();!m.done;m=d.next()){var f=m.value;if(f.getCount()>1)try{for(var p=(s=void 0,m2(this.possibleRightPairs)),g=p.next();!g.done;g=p.next()){var b=g.value;if(b.getCount()>1&&t.checkChecksum(f,b))return t.constructResult(f,b)}}catch(x){s={error:x}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}}}catch(x){i={error:x}}finally{try{m&&!m.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}throw new Xe},t.addOrTally=function(o,r){var a,i;if(r!=null){var n=!1;try{for(var s=m2(o),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.getValue()===r.getValue()){u.incrementCount(),n=!0;break}}}catch(c){a={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}n||o.push(r)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(o,r){for(var a=4537077*o.getValue()+r.getValue(),i=new String(a).toString(),n=new Ko,s=13-i.length;s>0;s--)n.append("0");n.append(i);for(var l=0,s=0;s<13;s++){var u=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);l+=(s&1)===0?3*u:u}l=10-l%10,l===10&&(l=0),n.append(l.toString());var c=o.getFinderPattern().getResultPoints(),d=r.getFinderPattern().getResultPoints();return new Ti(n.toString(),null,0,[c[0],c[1],d[0],d[1]],Gt.RSS_14,new Date().getTime())},t.checkChecksum=function(o,r){var a=(o.getChecksumPortion()+16*r.getChecksumPortion())%79,i=9*o.getFinderPattern().getValue()+r.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},t.prototype.decodePair=function(o,r,a,i){try{var n=this.findFinderPattern(o,r),s=this.parseFoundFinderPattern(o,a,r,n),l=i==null?null:i.get(Ea.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(n[0]+n[1])/2;r&&(u=o.getSize()-1-u),l.foundPossibleResultPoint(new Dt(u,a))}var c=this.decodeDataCharacter(o,s,!0),d=this.decodeDataCharacter(o,s,!1);return new fle(1597*c.getValue()+d.getValue(),c.getChecksumPortion()+4*d.getChecksumPortion(),s)}catch{return null}},t.prototype.decodeDataCharacter=function(o,r,a){for(var i=this.getDataCharacterCounters(),n=0;n<i.length;n++)i[n]=0;if(a)Pr.recordPatternInReverse(o,r.getStartEnd()[0],i);else{Pr.recordPattern(o,r.getStartEnd()[1]+1,i);for(var s=0,l=i.length-1;s<l;s++,l--){var u=i[s];i[s]=i[l],i[l]=u}}for(var c=a?16:15,d=Oo.sum(new Int32Array(i))/c,m=this.getOddCounts(),f=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<i.length;s++){var b=i[s]/d,x=Math.floor(b+.5);x<1?x=1:x>8&&(x=8);var _=Math.floor(s/2);(s&1)===0?(m[_]=x,p[_]=b-x):(f[_]=x,g[_]=b-x)}this.adjustOddEvenCounts(a,c);for(var y=0,I=0,s=m.length-1;s>=0;s--)I*=9,I+=m[s],y+=m[s];for(var S=0,O=0,s=f.length-1;s>=0;s--)S*=9,S+=f[s],O+=f[s];var F=I+3*S;if(a){if((y&1)!==0||y>12||y<4)throw new Xe;var M=(12-y)/2,E=t.OUTSIDE_ODD_WIDEST[M],D=9-E,P=$d.getRSSvalue(m,E,!1),N=$d.getRSSvalue(f,D,!0),R=t.OUTSIDE_EVEN_TOTAL_SUBSET[M],z=t.OUTSIDE_GSUM[M];return new Cv(P*R+N+z,F)}else{if((O&1)!==0||O>10||O<4)throw new Xe;var M=(10-O)/2,E=t.INSIDE_ODD_WIDEST[M],D=9-E,P=$d.getRSSvalue(m,E,!0),N=$d.getRSSvalue(f,D,!1),W=t.INSIDE_ODD_TOTAL_SUBSET[M],z=t.INSIDE_GSUM[M];return new Cv(N*W+P+z,F)}},t.prototype.findFinderPattern=function(o,r){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=o.getSize(),n=!1,s=0;s<i&&(n=!o.get(s),r!==n);)s++;for(var l=0,u=s,c=s;c<i;c++)if(o.get(c)!==n)a[l]++;else{if(l===3){if(Kc.isFinderPattern(a))return[u,c];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,l--}else l++;a[l]=1,n=!n}throw new Xe},t.prototype.parseFoundFinderPattern=function(o,r,a,i){for(var n=o.get(i[0]),s=i[0]-1;s>=0&&n!==o.get(s);)s--;s++;var l=i[0]-s,u=this.getDecodeFinderCounters(),c=new Int32Array(u.length);aa.arraycopy(u,0,c,1,u.length-1),c[0]=l;var d=this.parseFinderValue(c,t.FINDER_PATTERNS),m=s,f=i[1];return a&&(m=o.getSize()-1-m,f=o.getSize()-1-f),new qM(d,[s,i[1]],m,f,r)},t.prototype.adjustOddEvenCounts=function(o,r){var a=Oo.sum(new Int32Array(this.getOddCounts())),i=Oo.sum(new Int32Array(this.getEvenCounts())),n=!1,s=!1,l=!1,u=!1;o?(a>12?s=!0:a<4&&(n=!0),i>12?u=!0:i<4&&(l=!0)):(a>11?s=!0:a<5&&(n=!0),i>10?u=!0:i<4&&(l=!0));var c=a+i-r,d=(a&1)===(o?1:0),m=(i&1)===1;if(c===1)if(d){if(m)throw new Xe;s=!0}else{if(!m)throw new Xe;u=!0}else if(c===-1)if(d){if(m)throw new Xe;n=!0}else{if(!m)throw new Xe;l=!0}else if(c===0){if(d){if(!m)throw new Xe;a<i?(n=!0,u=!0):(s=!0,l=!0)}else if(m)throw new Xe}else throw new Xe;if(n){if(s)throw new Xe;Kc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Kc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new Xe;Kc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Kc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(Kc),ple=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Xm=function(e){ple(t,e);function t(o){var r=e.call(this)||this;r.readers=[];var a=o?o.get(Ea.POSSIBLE_FORMATS):null,i=o&&o.get(Ea.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return a&&((a.includes(Gt.EAN_13)||a.includes(Gt.UPC_A)||a.includes(Gt.EAN_8)||a.includes(Gt.UPC_E))&&r.readers.push(new f2(o)),a.includes(Gt.CODE_39)&&r.readers.push(new i3(i)),a.includes(Gt.CODE_128)&&r.readers.push(new r3),a.includes(Gt.ITF)&&r.readers.push(new n3),a.includes(Gt.RSS_14)&&r.readers.push(new m3),a.includes(Gt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new ule))),r.readers.length===0&&(r.readers.push(new f2(o)),r.readers.push(new i3),r.readers.push(new f2(o)),r.readers.push(new r3),r.readers.push(new n3),r.readers.push(new m3)),r}return t.prototype.decodeRow=function(o,r,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(o,r,a)}catch{}throw new Xe},t.prototype.reset=function(){this.readers.forEach(function(o){return o.reset()})},t}(Pr),hle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){hle(t,e);function t(o,r){return o===void 0&&(o=500),e.call(this,new Xm(r),o,r)||this}return t})(Xf);var p3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qo=function(){function e(t,o,r){this.ecCodewords=t,this.ecBlocks=[o],r&&this.ecBlocks.push(r)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),Fo=function(){function e(t,o){this.count=t,this.dataCodewords=o}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),vle=function(){function e(t,o,r,a,i,n){var s,l;this.versionNumber=t,this.symbolSizeRows=o,this.symbolSizeColumns=r,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=n;var u=0,c=n.getECCodewords(),d=n.getECBlocks();try{for(var m=p3(d),f=m.next();!f.done;f=m.next()){var p=f.value;u+=p.getCount()*(p.getDataCodewords()+c)}}catch(g){s={error:g}}finally{try{f&&!f.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}this.totalCodewords=u}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,o){var r,a;if((t&1)!==0||(o&1)!==0)throw new ut;try{for(var i=p3(e.VERSIONS),n=i.next();!n.done;n=i.next()){var s=n.value;if(s.symbolSizeRows===t&&s.symbolSizeColumns===o)return s}}catch(l){r={error:l}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}throw new ut},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new qo(5,new Fo(1,3))),new e(2,12,12,10,10,new qo(7,new Fo(1,5))),new e(3,14,14,12,12,new qo(10,new Fo(1,8))),new e(4,16,16,14,14,new qo(12,new Fo(1,12))),new e(5,18,18,16,16,new qo(14,new Fo(1,18))),new e(6,20,20,18,18,new qo(18,new Fo(1,22))),new e(7,22,22,20,20,new qo(20,new Fo(1,30))),new e(8,24,24,22,22,new qo(24,new Fo(1,36))),new e(9,26,26,24,24,new qo(28,new Fo(1,44))),new e(10,32,32,14,14,new qo(36,new Fo(1,62))),new e(11,36,36,16,16,new qo(42,new Fo(1,86))),new e(12,40,40,18,18,new qo(48,new Fo(1,114))),new e(13,44,44,20,20,new qo(56,new Fo(1,144))),new e(14,48,48,22,22,new qo(68,new Fo(1,174))),new e(15,52,52,24,24,new qo(42,new Fo(2,102))),new e(16,64,64,14,14,new qo(56,new Fo(2,140))),new e(17,72,72,16,16,new qo(36,new Fo(4,92))),new e(18,80,80,18,18,new qo(48,new Fo(4,114))),new e(19,88,88,20,20,new qo(56,new Fo(4,144))),new e(20,96,96,22,22,new qo(68,new Fo(4,174))),new e(21,104,104,24,24,new qo(56,new Fo(6,136))),new e(22,120,120,18,18,new qo(68,new Fo(6,175))),new e(23,132,132,20,20,new qo(62,new Fo(8,163))),new e(24,144,144,22,22,new qo(62,new Fo(8,156),new Fo(2,155))),new e(25,8,18,6,16,new qo(7,new Fo(1,5))),new e(26,8,32,6,14,new qo(11,new Fo(1,10))),new e(27,12,26,10,24,new qo(14,new Fo(1,16))),new e(28,12,36,10,16,new qo(18,new Fo(1,22))),new e(29,16,36,14,16,new qo(24,new Fo(1,32))),new e(30,16,48,14,22,new qo(28,new Fo(1,49)))]},e.VERSIONS=e.buildVersions(),e}(),gle=function(){function e(t){var o=t.getHeight();if(o<8||o>144||(o&1)!==0)throw new ut;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ul(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(t){var o=t.getHeight(),r=t.getWidth();return vle.getVersionForDimensions(o,r)},e.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),o=0,r=4,a=0,i=this.mappingBitMatrix.getHeight(),n=this.mappingBitMatrix.getWidth(),s=!1,l=!1,u=!1,c=!1;do if(r===i&&a===0&&!s)t[o++]=this.readCorner1(i,n)&255,r-=2,a+=2,s=!0;else if(r===i-2&&a===0&&(n&3)!==0&&!l)t[o++]=this.readCorner2(i,n)&255,r-=2,a+=2,l=!0;else if(r===i+4&&a===2&&(n&7)===0&&!u)t[o++]=this.readCorner3(i,n)&255,r-=2,a+=2,u=!0;else if(r===i-2&&a===0&&(n&7)===4&&!c)t[o++]=this.readCorner4(i,n)&255,r-=2,a+=2,c=!0;else{do r<i&&a>=0&&!this.readMappingMatrix.get(a,r)&&(t[o++]=this.readUtah(r,a,i,n)&255),r-=2,a+=2;while(r>=0&&a<n);r+=1,a+=3;do r>=0&&a<n&&!this.readMappingMatrix.get(a,r)&&(t[o++]=this.readUtah(r,a,i,n)&255),r+=2,a-=2;while(r<i&&a>=0);r+=3,a+=1}while(r<i||a<n);if(o!==this.version.getTotalCodewords())throw new ut;return t},e.prototype.readModule=function(t,o,r,a){return t<0&&(t+=r,o+=4-(r+4&7)),o<0&&(o+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(o,t),this.mappingBitMatrix.get(o,t)},e.prototype.readUtah=function(t,o,r,a){var i=0;return this.readModule(t-2,o-2,r,a)&&(i|=1),i<<=1,this.readModule(t-2,o-1,r,a)&&(i|=1),i<<=1,this.readModule(t-1,o-2,r,a)&&(i|=1),i<<=1,this.readModule(t-1,o-1,r,a)&&(i|=1),i<<=1,this.readModule(t-1,o,r,a)&&(i|=1),i<<=1,this.readModule(t,o-2,r,a)&&(i|=1),i<<=1,this.readModule(t,o-1,r,a)&&(i|=1),i<<=1,this.readModule(t,o,r,a)&&(i|=1),i},e.prototype.readCorner1=function(t,o){var r=0;return this.readModule(t-1,0,t,o)&&(r|=1),r<<=1,this.readModule(t-1,1,t,o)&&(r|=1),r<<=1,this.readModule(t-1,2,t,o)&&(r|=1),r<<=1,this.readModule(0,o-2,t,o)&&(r|=1),r<<=1,this.readModule(0,o-1,t,o)&&(r|=1),r<<=1,this.readModule(1,o-1,t,o)&&(r|=1),r<<=1,this.readModule(2,o-1,t,o)&&(r|=1),r<<=1,this.readModule(3,o-1,t,o)&&(r|=1),r},e.prototype.readCorner2=function(t,o){var r=0;return this.readModule(t-3,0,t,o)&&(r|=1),r<<=1,this.readModule(t-2,0,t,o)&&(r|=1),r<<=1,this.readModule(t-1,0,t,o)&&(r|=1),r<<=1,this.readModule(0,o-4,t,o)&&(r|=1),r<<=1,this.readModule(0,o-3,t,o)&&(r|=1),r<<=1,this.readModule(0,o-2,t,o)&&(r|=1),r<<=1,this.readModule(0,o-1,t,o)&&(r|=1),r<<=1,this.readModule(1,o-1,t,o)&&(r|=1),r},e.prototype.readCorner3=function(t,o){var r=0;return this.readModule(t-1,0,t,o)&&(r|=1),r<<=1,this.readModule(t-1,o-1,t,o)&&(r|=1),r<<=1,this.readModule(0,o-3,t,o)&&(r|=1),r<<=1,this.readModule(0,o-2,t,o)&&(r|=1),r<<=1,this.readModule(0,o-1,t,o)&&(r|=1),r<<=1,this.readModule(1,o-3,t,o)&&(r|=1),r<<=1,this.readModule(1,o-2,t,o)&&(r|=1),r<<=1,this.readModule(1,o-1,t,o)&&(r|=1),r},e.prototype.readCorner4=function(t,o){var r=0;return this.readModule(t-3,0,t,o)&&(r|=1),r<<=1,this.readModule(t-2,0,t,o)&&(r|=1),r<<=1,this.readModule(t-1,0,t,o)&&(r|=1),r<<=1,this.readModule(0,o-2,t,o)&&(r|=1),r<<=1,this.readModule(0,o-1,t,o)&&(r|=1),r<<=1,this.readModule(1,o-1,t,o)&&(r|=1),r<<=1,this.readModule(2,o-1,t,o)&&(r|=1),r<<=1,this.readModule(3,o-1,t,o)&&(r|=1),r},e.prototype.extractDataRegion=function(t){var o=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==o)throw new Wt("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),n=o/a|0,s=r/i|0,l=n*a,u=s*i,c=new ul(u,l),d=0;d<n;++d)for(var m=d*a,f=0;f<s;++f)for(var p=f*i,g=0;g<a;++g)for(var b=d*(a+2)+1+g,x=m+g,_=0;_<i;++_){var y=f*(i+2)+1+_;if(t.get(y,b)){var I=p+_;c.set(I,x)}}return c},e}(),h3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_le=function(){function e(t,o){this.numDataCodewords=t,this.codewords=o}return e.getDataBlocks=function(t,o){var r,a,i,n,s=o.getECBlocks(),l=0,u=s.getECBlocks();try{for(var c=h3(u),d=c.next();!d.done;d=c.next()){var m=d.value;l+=m.getCount()}}catch(z){r={error:z}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}var f=new Array(l),p=0;try{for(var g=h3(u),b=g.next();!b.done;b=g.next())for(var m=b.value,x=0;x<m.getCount();x++){var _=m.getDataCodewords(),y=s.getECCodewords()+_;f[p++]=new e(_,new Uint8Array(y))}}catch(z){i={error:z}}finally{try{b&&!b.done&&(n=g.return)&&n.call(g)}finally{if(i)throw i.error}}for(var I=f[0].codewords.length,S=I-s.getECCodewords(),O=S-1,F=0,x=0;x<O;x++)for(var M=0;M<p;M++)f[M].codewords[x]=t[F++];for(var E=o.getVersionNumber()===24,D=E?8:p,M=0;M<D;M++)f[M].codewords[S-1]=t[F++];for(var P=f[0].codewords.length,x=S;x<P;x++)for(var M=0;M<p;M++){var N=E?(M+8)%p:M,R=E&&N>7?x-1:x;f[N].codewords[R]=t[F++]}if(F!==t.length)throw new Wt;return f},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),$M=function(){function e(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Wt(""+t);var o=0,r=this.bitOffset,a=this.byteOffset,i=this.bytes;if(r>0){var n=8-r,s=t<n?t:n,l=n-s,u=255>>8-s<<l;o=(i[a]&u)>>l,t-=s,r+=s,r===8&&(r=0,a++)}if(t>0){for(;t>=8;)o=o<<8|i[a]&255,a++,t-=8;if(t>0){var l=8-t,u=255>>l<<l;o=o<<t|(i[a]&u)>>l,r+=t}}return this.bitOffset=r,this.byteOffset=a,o},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}(),ir;(function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"})(ir||(ir={}));var ble=function(){function e(){}return e.decode=function(t){var o=new $M(t),r=new Ko,a=new Ko,i=new Array,n=ir.ASCII_ENCODE;do if(n===ir.ASCII_ENCODE)n=this.decodeAsciiSegment(o,r,a);else{switch(n){case ir.C40_ENCODE:this.decodeC40Segment(o,r);break;case ir.TEXT_ENCODE:this.decodeTextSegment(o,r);break;case ir.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,r);break;case ir.EDIFACT_ENCODE:this.decodeEdifactSegment(o,r);break;case ir.BASE256_ENCODE:this.decodeBase256Segment(o,r,i);break;default:throw new ut}n=ir.ASCII_ENCODE}while(n!==ir.PAD_ENCODE&&o.available()>0);return a.length()>0&&r.append(a.toString()),new Wg(t,r.toString(),i.length===0?null:i,null)},e.decodeAsciiSegment=function(t,o,r){var a=!1;do{var i=t.readBits(8);if(i===0)throw new ut;if(i<=128)return a&&(i+=128),o.append(String.fromCharCode(i-1)),ir.ASCII_ENCODE;if(i===129)return ir.PAD_ENCODE;if(i<=229){var n=i-130;n<10&&o.append("0"),o.append(""+n)}else switch(i){case 230:return ir.C40_ENCODE;case 231:return ir.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:a=!0;break;case 236:o.append("[)>05"),r.insert(0,"");break;case 237:o.append("[)>06"),r.insert(0,"");break;case 238:return ir.ANSIX12_ENCODE;case 239:return ir.TEXT_ENCODE;case 240:return ir.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new ut;break}}while(t.available()>0);return ir.ASCII_ENCODE},e.decodeC40Segment=function(t,o){var r=!1,a=[],i=0;do{if(t.available()===8)return;var n=t.readBits(8);if(n===254)return;this.parseTwoBytes(n,t.readBits(8),a);for(var s=0;s<3;s++){var l=a[s];switch(i){case 0:if(l<3)i=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];r?(o.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):o.append(u)}else throw new ut;break;case 1:r?(o.append(String.fromCharCode(l+128)),r=!1):o.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];r?(o.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):o.append(u)}else switch(l){case 27:o.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new ut}i=0;break;case 3:r?(o.append(String.fromCharCode(l+224)),r=!1):o.append(String.fromCharCode(l+96)),i=0;break;default:throw new ut}}}while(t.available()>0)},e.decodeTextSegment=function(t,o){var r=!1,a=[],i=0;do{if(t.available()===8)return;var n=t.readBits(8);if(n===254)return;this.parseTwoBytes(n,t.readBits(8),a);for(var s=0;s<3;s++){var l=a[s];switch(i){case 0:if(l<3)i=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];r?(o.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):o.append(u)}else throw new ut;break;case 1:r?(o.append(String.fromCharCode(l+128)),r=!1):o.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];r?(o.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):o.append(u)}else switch(l){case 27:o.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new ut}i=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];r?(o.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):o.append(u),i=0}else throw new ut;break;default:throw new ut}}}while(t.available()>0)},e.decodeAnsiX12Segment=function(t,o){var r=[];do{if(t.available()===8)return;var a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),r);for(var i=0;i<3;i++){var n=r[i];switch(n){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(n<14)o.append(String.fromCharCode(n+44));else if(n<40)o.append(String.fromCharCode(n+51));else throw new ut;break}}}while(t.available()>0)},e.parseTwoBytes=function(t,o,r){var a=(t<<8)+o-1,i=Math.floor(a/1600);r[0]=i,a-=i*1600,i=Math.floor(a/40),r[1]=i,r[2]=a-i*40},e.decodeEdifactSegment=function(t,o){do{if(t.available()<=16)return;for(var r=0;r<4;r++){var a=t.readBits(6);if(a===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}(a&32)===0&&(a|=64),o.append(String.fromCharCode(a))}}while(t.available()>0)},e.decodeBase256Segment=function(t,o,r){var a=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),a++),n;if(i===0?n=t.available()/8|0:i<250?n=i:n=250*(i-249)+this.unrandomize255State(t.readBits(8),a++),n<0)throw new ut;for(var s=new Uint8Array(n),l=0;l<n;l++){if(t.available()<8)throw new ut;s[l]=this.unrandomize255State(t.readBits(8),a++)}r.push(s);try{o.append(bs.decode(s,hr.ISO88591))}catch(u){throw new Yf("Platform does not support required encoding: "+u.message)}},e.unrandomize255State=function(t,o){var r=149*o%255+1,a=t-r;return a>=0?a:a+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],e}(),yle=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cle=function(){function e(){this.rsDecoder=new Xg(Js.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(t){var o,r,a=new gle(t),i=a.getVersion(),n=a.readCodewords(),s=_le.getDataBlocks(n,i),l=0;try{for(var u=yle(s),c=u.next();!c.done;c=u.next()){var d=c.value;l+=d.getNumDataCodewords()}}catch(y){o={error:y}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}for(var m=new Uint8Array(l),f=s.length,p=0;p<f;p++){var g=s[p],b=g.getCodewords(),x=g.getNumDataCodewords();this.correctErrors(b,x);for(var _=0;_<x;_++)m[_*f+p]=b[_]}return ble.decode(m)},e.prototype.correctErrors=function(t,o){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-o)}catch{throw new Tr}for(var a=0;a<o;a++)t[a]=r[a]},e}(),xle=function(){function e(t){this.image=t,this.rectangleDetector=new aC(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),o=this.detectSolid1(t);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new Xe;o=this.shiftToModuleCenter(o);var r=o[0],a=o[1],i=o[2],n=o[3],s=this.transitionsBetween(r,n)+1,l=this.transitionsBetween(i,n)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var u=e.sampleGrid(this.image,r,a,i,n,s,l);return new eI(u,[r,a,i,n])},e.shiftPoint=function(t,o,r){var a=(o.getX()-t.getX())/(r+1),i=(o.getY()-t.getY())/(r+1);return new Dt(t.getX()+a,t.getY()+i)},e.moveAway=function(t,o,r){var a=t.getX(),i=t.getY();return a<o?a-=1:a+=1,i<r?i-=1:i+=1,new Dt(a,i)},e.prototype.detectSolid1=function(t){var o=t[0],r=t[1],a=t[3],i=t[2],n=this.transitionsBetween(o,r),s=this.transitionsBetween(r,a),l=this.transitionsBetween(a,i),u=this.transitionsBetween(i,o),c=n,d=[i,o,r,a];return c>s&&(c=s,d[0]=o,d[1]=r,d[2]=a,d[3]=i),c>l&&(c=l,d[0]=r,d[1]=a,d[2]=i,d[3]=o),c>u&&(d[0]=a,d[1]=i,d[2]=o,d[3]=r),d},e.prototype.detectSolid2=function(t){var o=t[0],r=t[1],a=t[2],i=t[3],n=this.transitionsBetween(o,i),s=e.shiftPoint(r,a,(n+1)*4),l=e.shiftPoint(a,r,(n+1)*4),u=this.transitionsBetween(s,o),c=this.transitionsBetween(l,i);return u<c?(t[0]=o,t[1]=r,t[2]=a,t[3]=i):(t[0]=r,t[1]=a,t[2]=i,t[3]=o),t},e.prototype.correctTopRight=function(t){var o=t[0],r=t[1],a=t[2],i=t[3],n=this.transitionsBetween(o,i),s=this.transitionsBetween(r,i),l=e.shiftPoint(o,r,(s+1)*4),u=e.shiftPoint(a,r,(n+1)*4);n=this.transitionsBetween(l,i),s=this.transitionsBetween(u,i);var c=new Dt(i.getX()+(a.getX()-r.getX())/(n+1),i.getY()+(a.getY()-r.getY())/(n+1)),d=new Dt(i.getX()+(o.getX()-r.getX())/(s+1),i.getY()+(o.getY()-r.getY())/(s+1));if(!this.isValid(c))return this.isValid(d)?d:null;if(!this.isValid(d))return c;var m=this.transitionsBetween(l,c)+this.transitionsBetween(u,c),f=this.transitionsBetween(l,d)+this.transitionsBetween(u,d);return m>f?c:d},e.prototype.shiftToModuleCenter=function(t){var o=t[0],r=t[1],a=t[2],i=t[3],n=this.transitionsBetween(o,i)+1,s=this.transitionsBetween(a,i)+1,l=e.shiftPoint(o,r,s*4),u=e.shiftPoint(a,r,n*4);n=this.transitionsBetween(l,i)+1,s=this.transitionsBetween(u,i)+1,(n&1)===1&&(n+=1),(s&1)===1&&(s+=1);var c=(o.getX()+r.getX()+a.getX()+i.getX())/4,d=(o.getY()+r.getY()+a.getY()+i.getY())/4;o=e.moveAway(o,c,d),r=e.moveAway(r,c,d),a=e.moveAway(a,c,d),i=e.moveAway(i,c,d);var m,f;return l=e.shiftPoint(o,r,s*4),l=e.shiftPoint(l,i,n*4),m=e.shiftPoint(r,o,s*4),m=e.shiftPoint(m,a,n*4),u=e.shiftPoint(a,i,s*4),u=e.shiftPoint(u,r,n*4),f=e.shiftPoint(i,a,s*4),f=e.shiftPoint(f,o,n*4),[l,m,u,f]},e.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},e.sampleGrid=function(t,o,r,a,i,n,s){var l=tI.getInstance();return l.sampleGrid(t,n,s,.5,.5,n-.5,.5,n-.5,s-.5,.5,s-.5,o.getX(),o.getY(),i.getX(),i.getY(),a.getX(),a.getY(),r.getX(),r.getY())},e.prototype.transitionsBetween=function(t,o){var r=Math.trunc(t.getX()),a=Math.trunc(t.getY()),i=Math.trunc(o.getX()),n=Math.trunc(o.getY()),s=Math.abs(n-a)>Math.abs(i-r);if(s){var l=r;r=a,a=l,l=i,i=n,n=l}for(var u=Math.abs(i-r),c=Math.abs(n-a),d=-u/2,m=a<n?1:-1,f=r<i?1:-1,p=0,g=this.image.get(s?a:r,s?r:a),b=r,x=a;b!==i;b+=f){var _=this.image.get(s?x:b,s?b:x);if(_!==g&&(p++,g=_),d+=c,d>0){if(x===n)break;x+=m,d-=u}}return p},e}(),nC=function(){function e(){this.decoder=new Cle}return e.prototype.decode=function(t,o){o===void 0&&(o=null);var r,a;if(o!=null&&o.has(Ea.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(i),a=e.NO_POINTS}else{var n=new xle(t.getBlackMatrix()).detect();r=this.decoder.decode(n.getBits()),a=n.getPoints()}var s=r.getRawBytes(),l=new Ti(r.getText(),s,8*s.length,a,Gt.DATA_MATRIX,aa.currentTimeMillis()),u=r.getByteSegments();u!=null&&l.putMetadata(Dr.BYTE_SEGMENTS,u);var c=r.getECLevel();return c!=null&&l.putMetadata(Dr.ERROR_CORRECTION_LEVEL,c),l},e.prototype.reset=function(){},e.extractPureBits=function(t){var o=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(o==null||r==null)throw new Xe;var a=this.moduleSize(o,t),i=o[1],n=r[1],s=o[0],l=r[0],u=(l-s+1)/a,c=(n-i+1)/a;if(u<=0||c<=0)throw new Xe;var d=a/2;i+=d,s+=d;for(var m=new ul(u,c),f=0;f<c;f++)for(var p=i+f*a,g=0;g<u;g++)t.get(s+g*a,p)&&m.set(g,f);return m},e.moduleSize=function(t,o){for(var r=o.getWidth(),a=t[0],i=t[1];a<r&&o.get(a,i);)a++;if(a===r)throw new Xe;var n=a-t[0];if(n===0)throw new Xe;return n},e.NO_POINTS=[],e}(),wle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){wle(t,e);function t(o){return o===void 0&&(o=500),e.call(this,new nC,o)||this}return t})(Xf);var Ud;(function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"})(Ud||(Ud={}));var sC=function(){function e(t,o,r){this.value=t,this.stringValue=o,this.bits=r,e.FOR_BITS.set(r,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new qn(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;return this.value===o.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new Wt;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(Ud.L,"L",1),e.M=new e(Ud.M,"M",0),e.Q=new e(Ud.Q,"Q",3),e.H=new e(Ud.H,"H",2),e}(),Ile=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},UM=function(){function e(t){this.errorCorrectionLevel=sC.forBits(t>>3&3),this.dataMask=t&7}return e.numBitsDiffering=function(t,o){return Or.bitCount(t^o)},e.decodeFormatInformation=function(t,o){var r=e.doDecodeFormatInformation(t,o);return r!==null?r:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,o^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,o){var r,a,i=Number.MAX_SAFE_INTEGER,n=0;try{for(var s=Ile(e.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var u=l.value,c=u[0];if(c===t||c===o)return new e(u[1]);var d=e.numBitsDiffering(t,c);d<i&&(n=u[1],i=d),t!==o&&(d=e.numBitsDiffering(o,c),d<i&&(n=u[1],i=d))}}catch(m){r={error:m}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return i<=3?new e(n):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}(),Ele=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Re=function(){function e(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];this.ecCodewordsPerBlock=t,this.ecBlocks=o}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var t,o,r=0,a=this.ecBlocks;try{for(var i=Ele(a),n=i.next();!n.done;n=i.next()){var s=n.value;r+=s.getCount()}}catch(l){t={error:l}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return r},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),me=function(){function e(t,o){this.count=t,this.dataCodewords=o}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),Sle=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Cu=function(){function e(t,o){for(var r,a,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];this.versionNumber=t,this.alignmentPatternCenters=o,this.ecBlocks=i;var s=0,l=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var c=Sle(u),d=c.next();!d.done;d=c.next()){var m=d.value;s+=m.getCount()*(m.getDataCodewords()+l)}}catch(f){r={error:f}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}this.totalCodewords=s}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},e.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new ut;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ut}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new Wt;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var o=Number.MAX_SAFE_INTEGER,r=0,a=0;a<e.VERSION_DECODE_INFO.length;a++){var i=e.VERSION_DECODE_INFO[a];if(i===t)return e.getVersionForNumber(a+7);var n=UM.numBitsDiffering(t,i);n<o&&(r=a+7,o=n)}return o<=3?e.getVersionForNumber(r):null},e.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),o=new ul(t);o.setRegion(0,0,9,9),o.setRegion(t-8,0,8,9),o.setRegion(0,t-8,9,8);for(var r=this.alignmentPatternCenters.length,a=0;a<r;a++)for(var i=this.alignmentPatternCenters[a]-2,n=0;n<r;n++)a===0&&(n===0||n===r-1)||a===r-1&&n===0||o.setRegion(this.alignmentPatternCenters[n]-2,i,5,5);return o.setRegion(6,9,1,t-17),o.setRegion(9,6,t-17,1),this.versionNumber>6&&(o.setRegion(t-11,0,3,6),o.setRegion(0,t-11,6,3)),o},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new Re(7,new me(1,19)),new Re(10,new me(1,16)),new Re(13,new me(1,13)),new Re(17,new me(1,9))),new e(2,Int32Array.from([6,18]),new Re(10,new me(1,34)),new Re(16,new me(1,28)),new Re(22,new me(1,22)),new Re(28,new me(1,16))),new e(3,Int32Array.from([6,22]),new Re(15,new me(1,55)),new Re(26,new me(1,44)),new Re(18,new me(2,17)),new Re(22,new me(2,13))),new e(4,Int32Array.from([6,26]),new Re(20,new me(1,80)),new Re(18,new me(2,32)),new Re(26,new me(2,24)),new Re(16,new me(4,9))),new e(5,Int32Array.from([6,30]),new Re(26,new me(1,108)),new Re(24,new me(2,43)),new Re(18,new me(2,15),new me(2,16)),new Re(22,new me(2,11),new me(2,12))),new e(6,Int32Array.from([6,34]),new Re(18,new me(2,68)),new Re(16,new me(4,27)),new Re(24,new me(4,19)),new Re(28,new me(4,15))),new e(7,Int32Array.from([6,22,38]),new Re(20,new me(2,78)),new Re(18,new me(4,31)),new Re(18,new me(2,14),new me(4,15)),new Re(26,new me(4,13),new me(1,14))),new e(8,Int32Array.from([6,24,42]),new Re(24,new me(2,97)),new Re(22,new me(2,38),new me(2,39)),new Re(22,new me(4,18),new me(2,19)),new Re(26,new me(4,14),new me(2,15))),new e(9,Int32Array.from([6,26,46]),new Re(30,new me(2,116)),new Re(22,new me(3,36),new me(2,37)),new Re(20,new me(4,16),new me(4,17)),new Re(24,new me(4,12),new me(4,13))),new e(10,Int32Array.from([6,28,50]),new Re(18,new me(2,68),new me(2,69)),new Re(26,new me(4,43),new me(1,44)),new Re(24,new me(6,19),new me(2,20)),new Re(28,new me(6,15),new me(2,16))),new e(11,Int32Array.from([6,30,54]),new Re(20,new me(4,81)),new Re(30,new me(1,50),new me(4,51)),new Re(28,new me(4,22),new me(4,23)),new Re(24,new me(3,12),new me(8,13))),new e(12,Int32Array.from([6,32,58]),new Re(24,new me(2,92),new me(2,93)),new Re(22,new me(6,36),new me(2,37)),new Re(26,new me(4,20),new me(6,21)),new Re(28,new me(7,14),new me(4,15))),new e(13,Int32Array.from([6,34,62]),new Re(26,new me(4,107)),new Re(22,new me(8,37),new me(1,38)),new Re(24,new me(8,20),new me(4,21)),new Re(22,new me(12,11),new me(4,12))),new e(14,Int32Array.from([6,26,46,66]),new Re(30,new me(3,115),new me(1,116)),new Re(24,new me(4,40),new me(5,41)),new Re(20,new me(11,16),new me(5,17)),new Re(24,new me(11,12),new me(5,13))),new e(15,Int32Array.from([6,26,48,70]),new Re(22,new me(5,87),new me(1,88)),new Re(24,new me(5,41),new me(5,42)),new Re(30,new me(5,24),new me(7,25)),new Re(24,new me(11,12),new me(7,13))),new e(16,Int32Array.from([6,26,50,74]),new Re(24,new me(5,98),new me(1,99)),new Re(28,new me(7,45),new me(3,46)),new Re(24,new me(15,19),new me(2,20)),new Re(30,new me(3,15),new me(13,16))),new e(17,Int32Array.from([6,30,54,78]),new Re(28,new me(1,107),new me(5,108)),new Re(28,new me(10,46),new me(1,47)),new Re(28,new me(1,22),new me(15,23)),new Re(28,new me(2,14),new me(17,15))),new e(18,Int32Array.from([6,30,56,82]),new Re(30,new me(5,120),new me(1,121)),new Re(26,new me(9,43),new me(4,44)),new Re(28,new me(17,22),new me(1,23)),new Re(28,new me(2,14),new me(19,15))),new e(19,Int32Array.from([6,30,58,86]),new Re(28,new me(3,113),new me(4,114)),new Re(26,new me(3,44),new me(11,45)),new Re(26,new me(17,21),new me(4,22)),new Re(26,new me(9,13),new me(16,14))),new e(20,Int32Array.from([6,34,62,90]),new Re(28,new me(3,107),new me(5,108)),new Re(26,new me(3,41),new me(13,42)),new Re(30,new me(15,24),new me(5,25)),new Re(28,new me(15,15),new me(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new Re(28,new me(4,116),new me(4,117)),new Re(26,new me(17,42)),new Re(28,new me(17,22),new me(6,23)),new Re(30,new me(19,16),new me(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new Re(28,new me(2,111),new me(7,112)),new Re(28,new me(17,46)),new Re(30,new me(7,24),new me(16,25)),new Re(24,new me(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new Re(30,new me(4,121),new me(5,122)),new Re(28,new me(4,47),new me(14,48)),new Re(30,new me(11,24),new me(14,25)),new Re(30,new me(16,15),new me(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new Re(30,new me(6,117),new me(4,118)),new Re(28,new me(6,45),new me(14,46)),new Re(30,new me(11,24),new me(16,25)),new Re(30,new me(30,16),new me(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new Re(26,new me(8,106),new me(4,107)),new Re(28,new me(8,47),new me(13,48)),new Re(30,new me(7,24),new me(22,25)),new Re(30,new me(22,15),new me(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new Re(28,new me(10,114),new me(2,115)),new Re(28,new me(19,46),new me(4,47)),new Re(28,new me(28,22),new me(6,23)),new Re(30,new me(33,16),new me(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new Re(30,new me(8,122),new me(4,123)),new Re(28,new me(22,45),new me(3,46)),new Re(30,new me(8,23),new me(26,24)),new Re(30,new me(12,15),new me(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new Re(30,new me(3,117),new me(10,118)),new Re(28,new me(3,45),new me(23,46)),new Re(30,new me(4,24),new me(31,25)),new Re(30,new me(11,15),new me(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new Re(30,new me(7,116),new me(7,117)),new Re(28,new me(21,45),new me(7,46)),new Re(30,new me(1,23),new me(37,24)),new Re(30,new me(19,15),new me(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new Re(30,new me(5,115),new me(10,116)),new Re(28,new me(19,47),new me(10,48)),new Re(30,new me(15,24),new me(25,25)),new Re(30,new me(23,15),new me(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new Re(30,new me(13,115),new me(3,116)),new Re(28,new me(2,46),new me(29,47)),new Re(30,new me(42,24),new me(1,25)),new Re(30,new me(23,15),new me(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new Re(30,new me(17,115)),new Re(28,new me(10,46),new me(23,47)),new Re(30,new me(10,24),new me(35,25)),new Re(30,new me(19,15),new me(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new Re(30,new me(17,115),new me(1,116)),new Re(28,new me(14,46),new me(21,47)),new Re(30,new me(29,24),new me(19,25)),new Re(30,new me(11,15),new me(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new Re(30,new me(13,115),new me(6,116)),new Re(28,new me(14,46),new me(23,47)),new Re(30,new me(44,24),new me(7,25)),new Re(30,new me(59,16),new me(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new Re(30,new me(12,121),new me(7,122)),new Re(28,new me(12,47),new me(26,48)),new Re(30,new me(39,24),new me(14,25)),new Re(30,new me(22,15),new me(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new Re(30,new me(6,121),new me(14,122)),new Re(28,new me(6,47),new me(34,48)),new Re(30,new me(46,24),new me(10,25)),new Re(30,new me(2,15),new me(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new Re(30,new me(17,122),new me(4,123)),new Re(28,new me(29,46),new me(14,47)),new Re(30,new me(49,24),new me(10,25)),new Re(30,new me(24,15),new me(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new Re(30,new me(4,122),new me(18,123)),new Re(28,new me(13,46),new me(32,47)),new Re(30,new me(48,24),new me(14,25)),new Re(30,new me(42,15),new me(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new Re(30,new me(20,117),new me(4,118)),new Re(28,new me(40,47),new me(7,48)),new Re(30,new me(43,24),new me(22,25)),new Re(30,new me(10,15),new me(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new Re(30,new me(19,118),new me(6,119)),new Re(28,new me(18,47),new me(31,48)),new Re(30,new me(34,24),new me(34,25)),new Re(30,new me(20,15),new me(61,16)))],e}(),pr;(function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"})(pr||(pr={}));var v3=function(){function e(t,o){this.value=t,this.isMasked=o}return e.prototype.unmaskBitMatrix=function(t,o){for(var r=0;r<o;r++)for(var a=0;a<o;a++)this.isMasked(r,a)&&t.flip(a,r)},e.values=new Map([[pr.DATA_MASK_000,new e(pr.DATA_MASK_000,function(t,o){return(t+o&1)===0})],[pr.DATA_MASK_001,new e(pr.DATA_MASK_001,function(t,o){return(t&1)===0})],[pr.DATA_MASK_010,new e(pr.DATA_MASK_010,function(t,o){return o%3===0})],[pr.DATA_MASK_011,new e(pr.DATA_MASK_011,function(t,o){return(t+o)%3===0})],[pr.DATA_MASK_100,new e(pr.DATA_MASK_100,function(t,o){return(Math.floor(t/2)+Math.floor(o/3)&1)===0})],[pr.DATA_MASK_101,new e(pr.DATA_MASK_101,function(t,o){return t*o%6===0})],[pr.DATA_MASK_110,new e(pr.DATA_MASK_110,function(t,o){return t*o%6<3})],[pr.DATA_MASK_111,new e(pr.DATA_MASK_111,function(t,o){return(t+o+t*o%3&1)===0})]]),e}(),Ale=function(){function e(t){var o=t.getHeight();if(o<21||(o&3)!==1)throw new ut;this.bitMatrix=t}return e.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,o=0;o<6;o++)t=this.copyBit(o,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var r=5;r>=0;r--)t=this.copyBit(8,r,t);for(var a=this.bitMatrix.getHeight(),i=0,n=a-7,r=a-1;r>=n;r--)i=this.copyBit(8,r,i);for(var o=a-8;o<a;o++)i=this.copyBit(o,8,i);if(this.parsedFormatInfo=UM.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ut},e.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),o=Math.floor((t-17)/4);if(o<=6)return Cu.getVersionForNumber(o);for(var r=0,a=t-11,i=5;i>=0;i--)for(var n=t-9;n>=a;n--)r=this.copyBit(n,i,r);var s=Cu.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;r=0;for(var n=5;n>=0;n--)for(var i=t-9;i>=a;i--)r=this.copyBit(n,i,r);if(s=Cu.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new ut},e.prototype.copyBit=function(t,o,r){var a=this.isMirror?this.bitMatrix.get(o,t):this.bitMatrix.get(t,o);return a?r<<1|1:r<<1},e.prototype.readCodewords=function(){var t=this.readFormatInformation(),o=this.readVersion(),r=v3.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,a);for(var i=o.buildFunctionPattern(),n=!0,s=new Uint8Array(o.getTotalCodewords()),l=0,u=0,c=0,d=a-1;d>0;d-=2){d===6&&d--;for(var m=0;m<a;m++)for(var f=n?a-1-m:m,p=0;p<2;p++)i.get(d-p,f)||(c++,u<<=1,this.bitMatrix.get(d-p,f)&&(u|=1),c===8&&(s[l++]=u,c=0,u=0));n=!n}if(l!==o.getTotalCodewords())throw new ut;return s},e.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=v3.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,o)}},e.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},e.prototype.mirror=function(){for(var t=this.bitMatrix,o=0,r=t.getWidth();o<r;o++)for(var a=o+1,i=t.getHeight();a<i;a++)t.get(o,a)!==t.get(a,o)&&(t.flip(a,o),t.flip(o,a))},e}(),g3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tle=function(){function e(t,o){this.numDataCodewords=t,this.codewords=o}return e.getDataBlocks=function(t,o,r){var a,i,n,s;if(t.length!==o.getTotalCodewords())throw new Wt;var l=o.getECBlocksForLevel(r),u=0,c=l.getECBlocks();try{for(var d=g3(c),m=d.next();!m.done;m=d.next()){var f=m.value;u+=f.getCount()}}catch(R){a={error:R}}finally{try{m&&!m.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var p=new Array(u),g=0;try{for(var b=g3(c),x=b.next();!x.done;x=b.next())for(var f=x.value,_=0;_<f.getCount();_++){var y=f.getDataCodewords(),I=l.getECCodewordsPerBlock()+y;p[g++]=new e(y,new Uint8Array(I))}}catch(R){n={error:R}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(n)throw n.error}}for(var S=p[0].codewords.length,O=p.length-1;O>=0;){var F=p[O].codewords.length;if(F===S)break;O--}O++;for(var M=S-l.getECCodewordsPerBlock(),E=0,_=0;_<M;_++)for(var D=0;D<g;D++)p[D].codewords[_]=t[E++];for(var D=O;D<g;D++)p[D].codewords[M]=t[E++];for(var P=p[0].codewords.length,_=M;_<P;_++)for(var D=0;D<g;D++){var N=D<O?_:_+1;p[D].codewords[N]=t[E++]}return p},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),vn;(function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"})(vn||(vn={}));var la=function(){function e(t,o,r,a){this.value=t,this.stringValue=o,this.characterCountBitsForVersions=r,this.bits=a,e.FOR_BITS.set(a,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var o=e.FOR_BITS.get(t);if(o===void 0)throw new Wt;return o},e.prototype.getCharacterCountBits=function(t){var o=t.getVersionNumber(),r;return o<=9?r=0:o<=26?r=1:r=2,this.characterCountBitsForVersions[r]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;return this.value===o.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(vn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(vn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(vn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(vn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(vn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(vn.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(vn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(vn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(vn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(vn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}(),Ole=function(){function e(){}return e.decode=function(t,o,r,a){var i=new $M(t),n=new Ko,s=new Array,l=-1,u=-1;try{var c=null,d=!1,m=void 0;do{if(i.available()<4)m=la.TERMINATOR;else{var f=i.readBits(4);m=la.forBits(f)}switch(m){case la.TERMINATOR:break;case la.FNC1_FIRST_POSITION:case la.FNC1_SECOND_POSITION:d=!0;break;case la.STRUCTURED_APPEND:if(i.available()<16)throw new ut;l=i.readBits(8),u=i.readBits(8);break;case la.ECI:var p=e.parseECIValue(i);if(c=lr.getCharacterSetECIByValue(p),c===null)throw new ut;break;case la.HANZI:var g=i.readBits(4),b=i.readBits(m.getCharacterCountBits(o));g===e.GB2312_SUBSET&&e.decodeHanziSegment(i,n,b);break;default:var x=i.readBits(m.getCharacterCountBits(o));switch(m){case la.NUMERIC:e.decodeNumericSegment(i,n,x);break;case la.ALPHANUMERIC:e.decodeAlphanumericSegment(i,n,x,d);break;case la.BYTE:e.decodeByteSegment(i,n,x,c,s,a);break;case la.KANJI:e.decodeKanjiSegment(i,n,x);break;default:throw new ut}break}}while(m!==la.TERMINATOR)}catch{throw new ut}return new Wg(t,n.toString(),s.length===0?null:s,r===null?null:r.toString(),l,u)},e.decodeHanziSegment=function(t,o,r){if(r*13>t.available())throw new ut;for(var a=new Uint8Array(2*r),i=0;r>0;){var n=t.readBits(13),s=n/96<<8&4294967295|n%96;s<959?s+=41377:s+=42657,a[i]=s>>8&255,a[i+1]=s&255,i+=2,r--}try{o.append(bs.decode(a,hr.GB2312))}catch(l){throw new ut(l)}},e.decodeKanjiSegment=function(t,o,r){if(r*13>t.available())throw new ut;for(var a=new Uint8Array(2*r),i=0;r>0;){var n=t.readBits(13),s=n/192<<8&4294967295|n%192;s<7936?s+=33088:s+=49472,a[i]=s>>8,a[i+1]=s,i+=2,r--}try{o.append(bs.decode(a,hr.SHIFT_JIS))}catch(l){throw new ut(l)}},e.decodeByteSegment=function(t,o,r,a,i,n){if(8*r>t.available())throw new ut;for(var s=new Uint8Array(r),l=0;l<r;l++)s[l]=t.readBits(8);var u;a===null?u=hr.guessEncoding(s,n):u=a.getName();try{o.append(bs.decode(s,u))}catch(c){throw new ut(c)}i.push(s)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new ut;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,o,r,a){for(var i=o.length();r>1;){if(t.available()<11)throw new ut;var n=t.readBits(11);o.append(e.toAlphaNumericChar(Math.floor(n/45))),o.append(e.toAlphaNumericChar(n%45)),r-=2}if(r===1){if(t.available()<6)throw new ut;o.append(e.toAlphaNumericChar(t.readBits(6)))}if(a)for(var s=i;s<o.length();s++)o.charAt(s)==="%"&&(s<o.length()-1&&o.charAt(s+1)==="%"?o.deleteCharAt(s+1):o.setCharAt(s,String.fromCharCode(29)))},e.decodeNumericSegment=function(t,o,r){for(;r>=3;){if(t.available()<10)throw new ut;var a=t.readBits(10);if(a>=1e3)throw new ut;o.append(e.toAlphaNumericChar(Math.floor(a/100))),o.append(e.toAlphaNumericChar(Math.floor(a/10)%10)),o.append(e.toAlphaNumericChar(a%10)),r-=3}if(r===2){if(t.available()<7)throw new ut;var i=t.readBits(7);if(i>=100)throw new ut;o.append(e.toAlphaNumericChar(Math.floor(i/10))),o.append(e.toAlphaNumericChar(i%10))}else if(r===1){if(t.available()<4)throw new ut;var n=t.readBits(4);if(n>=10)throw new ut;o.append(e.toAlphaNumericChar(n))}},e.parseECIValue=function(t){var o=t.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){var r=t.readBits(8);return(o&63)<<8&4294967295|r}if((o&224)===192){var a=t.readBits(16);return(o&31)<<16&4294967295|a}throw new ut},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}(),zM=function(){function e(t){this.mirrored=t}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var o=t[0];t[0]=t[2],t[2]=o}},e}(),_3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dle=function(){function e(){this.rsDecoder=new Xg(Js.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(t,o){return this.decodeBitMatrix(ul.parseFromBooleanArray(t),o)},e.prototype.decodeBitMatrix=function(t,o){var r=new Ale(t),a=null;try{return this.decodeBitMatrixParser(r,o)}catch(n){a=n}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,o);return i.setOther(new zM(!0)),i}catch(n){throw a!==null?a:n}},e.prototype.decodeBitMatrixParser=function(t,o){var r,a,i,n,s=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),c=Tle.getDataBlocks(u,s,l),d=0;try{for(var m=_3(c),f=m.next();!f.done;f=m.next()){var p=f.value;d+=p.getNumDataCodewords()}}catch(O){r={error:O}}finally{try{f&&!f.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}var g=new Uint8Array(d),b=0;try{for(var x=_3(c),_=x.next();!_.done;_=x.next()){var p=_.value,y=p.getCodewords(),I=p.getNumDataCodewords();this.correctErrors(y,I);for(var S=0;S<I;S++)g[b++]=y[S]}}catch(O){i={error:O}}finally{try{_&&!_.done&&(n=x.return)&&n.call(x)}finally{if(i)throw i.error}}return Ole.decode(g,s,l,o)},e.prototype.correctErrors=function(t,o){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-o)}catch{throw new Tr}for(var a=0;a<o;a++)t[a]=r[a]},e}(),Ple=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Mle=function(e){Ple(t,e);function t(o,r,a){var i=e.call(this,o,r)||this;return i.estimatedModuleSize=a,i}return t.prototype.aboutEquals=function(o,r,a){if(Math.abs(r-this.getY())<=o&&Math.abs(a-this.getX())<=o){var i=Math.abs(o-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(o,r,a){var i=(this.getX()+r)/2,n=(this.getY()+o)/2,s=(this.estimatedModuleSize+a)/2;return new t(i,n,s)},t}(Dt),Nle=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fle=function(){function e(t,o,r,a,i,n,s){this.image=t,this.startX=o,this.startY=r,this.width=a,this.height=i,this.moduleSize=n,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var t=this.startX,o=this.height,r=this.width,a=t+r,i=this.startY+o/2,n=new Int32Array(3),s=this.image,l=0;l<o;l++){var u=i+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));n[0]=0,n[1]=0,n[2]=0;for(var c=t;c<a&&!s.get(c,u);)c++;for(var d=0;c<a;){if(s.get(c,u))if(d===1)n[1]++;else if(d===2){if(this.foundPatternCross(n)){var m=this.handlePossibleCenter(n,u,c);if(m!==null)return m}n[0]=n[2],n[1]=1,n[2]=0,d=1}else n[++d]++;else d===1&&d++,n[d]++;c++}if(this.foundPatternCross(n)){var m=this.handlePossibleCenter(n,u,a);if(m!==null)return m}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Xe},e.centerFromEnd=function(t,o){return o-t[2]-t[1]/2},e.prototype.foundPatternCross=function(t){for(var o=this.moduleSize,r=o/2,a=0;a<3;a++)if(Math.abs(o-t[a])>=r)return!1;return!0},e.prototype.crossCheckVertical=function(t,o,r,a){var i=this.image,n=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=t;l>=0&&i.get(o,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&!i.get(o,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<n&&i.get(o,l)&&s[1]<=r;)s[1]++,l++;if(l===n||s[1]>r)return NaN;for(;l<n&&!i.get(o,l)&&s[2]<=r;)s[2]++,l++;if(s[2]>r)return NaN;var u=s[0]+s[1]+s[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.handlePossibleCenter=function(t,o,r){var a,i,n=t[0]+t[1]+t[2],s=e.centerFromEnd(t,r),l=this.crossCheckVertical(o,s,2*t[1],n);if(!isNaN(l)){var u=(t[0]+t[1]+t[2])/3;try{for(var c=Nle(this.possibleCenters),d=c.next();!d.done;d=c.next()){var m=d.value;if(m.aboutEquals(u,l,s))return m.combineEstimate(l,s,u)}}catch(p){a={error:p}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}var f=new Mle(s,l,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},e}(),Rle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),kle=function(e){Rle(t,e);function t(o,r,a,i){var n=e.call(this,o,r)||this;return n.estimatedModuleSize=a,n.count=i,i===void 0&&(n.count=1),n}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(o,r,a){if(Math.abs(r-this.getY())<=o&&Math.abs(a-this.getX())<=o){var i=Math.abs(o-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(o,r,a){var i=this.count+1,n=(this.count*this.getX()+r)/i,s=(this.count*this.getY()+o)/i,l=(this.count*this.estimatedModuleSize+a)/i;return new t(n,s,l,i)},t}(Dt),Vle=function(){function e(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}(),Om=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qle=function(){function e(t,o){this.image=t,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var o=t!=null&&t.get(Ea.TRY_HARDER)!==void 0,r=t!=null&&t.get(Ea.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),n=a.getWidth(),s=Math.floor(3*i/(4*e.MAX_MODULES));(s<e.MIN_SKIP||o)&&(s=e.MIN_SKIP);for(var l=!1,u=new Int32Array(5),c=s-1;c<i&&!l;c+=s){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var d=0,m=0;m<n;m++)if(a.get(m,c))(d&1)===1&&d++,u[d]++;else if((d&1)===0)if(d===4)if(e.foundPatternCross(u)){var f=this.handlePossibleCenter(u,c,m,r);if(f===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>u[2]&&(c+=p-u[2]-s,m=n-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,d=3;continue}d=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,d=3;else u[++d]++;else u[d]++;if(e.foundPatternCross(u)){var f=this.handlePossibleCenter(u,c,n,r);f===!0&&(s=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return Dt.orderBestPatterns(g),new Vle(g)},e.centerFromEnd=function(t,o){return o-t[4]-t[3]-t[2]/2},e.foundPatternCross=function(t){for(var o=0,r=0;r<5;r++){var a=t[r];if(a===0)return!1;o+=a}if(o<7)return!1;var i=o/7,n=i/2;return Math.abs(i-t[0])<n&&Math.abs(i-t[1])<n&&Math.abs(3*i-t[2])<3*n&&Math.abs(i-t[3])<n&&Math.abs(i-t[4])<n},e.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},e.prototype.crossCheckDiagonal=function(t,o,r,a){for(var i=this.getCrossCheckStateCount(),n=0,s=this.image;t>=n&&o>=n&&s.get(o-n,t-n);)i[2]++,n++;if(t<n||o<n)return!1;for(;t>=n&&o>=n&&!s.get(o-n,t-n)&&i[1]<=r;)i[1]++,n++;if(t<n||o<n||i[1]>r)return!1;for(;t>=n&&o>=n&&s.get(o-n,t-n)&&i[0]<=r;)i[0]++,n++;if(i[0]>r)return!1;var l=s.getHeight(),u=s.getWidth();for(n=1;t+n<l&&o+n<u&&s.get(o+n,t+n);)i[2]++,n++;if(t+n>=l||o+n>=u)return!1;for(;t+n<l&&o+n<u&&!s.get(o+n,t+n)&&i[3]<r;)i[3]++,n++;if(t+n>=l||o+n>=u||i[3]>=r)return!1;for(;t+n<l&&o+n<u&&s.get(o+n,t+n)&&i[4]<r;)i[4]++,n++;if(i[4]>=r)return!1;var c=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(c-a)<2*a&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,o,r,a){for(var i=this.image,n=i.getHeight(),s=this.getCrossCheckStateCount(),l=t;l>=0&&i.get(o,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(o,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&i.get(o,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<n&&i.get(o,l);)s[2]++,l++;if(l===n)return NaN;for(;l<n&&!i.get(o,l)&&s[3]<r;)s[3]++,l++;if(l===n||s[3]>=r)return NaN;for(;l<n&&i.get(o,l)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-a)>=2*a?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.crossCheckHorizontal=function(t,o,r,a){for(var i=this.image,n=i.getWidth(),s=this.getCrossCheckStateCount(),l=t;l>=0&&i.get(l,o);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(l,o)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&i.get(l,o)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=t+1;l<n&&i.get(l,o);)s[2]++,l++;if(l===n)return NaN;for(;l<n&&!i.get(l,o)&&s[3]<r;)s[3]++,l++;if(l===n||s[3]>=r)return NaN;for(;l<n&&i.get(l,o)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-a)>=a?NaN:e.foundPatternCross(s)?e.centerFromEnd(s,l):NaN},e.prototype.handlePossibleCenter=function(t,o,r,a){var i=t[0]+t[1]+t[2]+t[3]+t[4],n=e.centerFromEnd(t,r),s=this.crossCheckVertical(o,Math.floor(n),t[2],i);if(!isNaN(s)&&(n=this.crossCheckHorizontal(Math.floor(n),Math.floor(s),t[2],i),!isNaN(n)&&(!a||this.crossCheckDiagonal(Math.floor(s),Math.floor(n),t[2],i)))){for(var l=i/7,u=!1,c=this.possibleCenters,d=0,m=c.length;d<m;d++){var f=c[d];if(f.aboutEquals(l,s,n)){c[d]=f.combineEstimate(s,n,l),u=!0;break}}if(!u){var p=new kle(n,s,l);c.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},e.prototype.findRowSkip=function(){var t,o,r=this.possibleCenters.length;if(r<=1)return 0;var a=null;try{for(var i=Om(this.possibleCenters),n=i.next();!n.done;n=i.next()){var s=n.value;if(s.getCount()>=e.CENTER_QUORUM)if(a==null)a=s;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-s.getX())-Math.abs(a.getY()-s.getY()))/2)}}catch(l){t={error:l}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,o,r,a,i=0,n=0,s=this.possibleCenters.length;try{for(var l=Om(this.possibleCenters),u=l.next();!u.done;u=l.next()){var c=u.value;c.getCount()>=e.CENTER_QUORUM&&(i++,n+=c.getEstimatedModuleSize())}}catch(g){t={error:g}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(t)throw t.error}}if(i<3)return!1;var d=n/s,m=0;try{for(var f=Om(this.possibleCenters),p=f.next();!p.done;p=f.next()){var c=p.value;m+=Math.abs(c.getEstimatedModuleSize()-d)}}catch(g){r={error:g}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return m<=.05*n},e.prototype.selectBestPatterns=function(){var t,o,r,a,i=this.possibleCenters.length;if(i<3)throw new Xe;var n=this.possibleCenters,s;if(i>3){var l=0,u=0;try{for(var c=Om(this.possibleCenters),d=c.next();!d.done;d=c.next()){var m=d.value,f=m.getEstimatedModuleSize();l+=f,u+=f*f}}catch(S){t={error:S}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}s=l/i;var p=Math.sqrt(u/i-s*s);n.sort(function(S,O){var F=Math.abs(O.getEstimatedModuleSize()-s),M=Math.abs(S.getEstimatedModuleSize()-s);return F<M?-1:F>M?1:0});for(var g=Math.max(.2*s,p),b=0;b<n.length&&n.length>3;b++){var x=n[b];Math.abs(x.getEstimatedModuleSize()-s)>g&&(n.splice(b,1),b--)}}if(n.length>3){var l=0;try{for(var _=Om(n),y=_.next();!y.done;y=_.next()){var I=y.value;l+=I.getEstimatedModuleSize()}}catch(O){r={error:O}}finally{try{y&&!y.done&&(a=_.return)&&a.call(_)}finally{if(r)throw r.error}}s=l/n.length,n.sort(function(O,F){if(F.getCount()===O.getCount()){var M=Math.abs(F.getEstimatedModuleSize()-s),E=Math.abs(O.getEstimatedModuleSize()-s);return M<E?1:M>E?-1:0}else return F.getCount()-O.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}(),Ble=function(){function e(t){this.image=t}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(Ea.NEED_RESULT_POINT_CALLBACK);var o=new qle(this.image,this.resultPointCallback),r=o.find(t);return this.processFinderPatternInfo(r)},e.prototype.processFinderPatternInfo=function(t){var o=t.getTopLeft(),r=t.getTopRight(),a=t.getBottomLeft(),i=this.calculateModuleSize(o,r,a);if(i<1)throw new Xe("No pattern found in proccess finder.");var n=e.computeDimension(o,r,a,i),s=Cu.getProvisionalVersionForDimension(n),l=s.getDimensionForVersion()-7,u=null;if(s.getAlignmentPatternCenters().length>0)for(var c=r.getX()-o.getX()+a.getX(),d=r.getY()-o.getY()+a.getY(),m=1-3/l,f=Math.floor(o.getX()+m*(c-o.getX())),p=Math.floor(o.getY()+m*(d-o.getY())),g=4;g<=16;g<<=1)try{u=this.findAlignmentInRegion(i,f,p,g);break}catch(y){if(!(y instanceof Xe))throw y}var b=e.createTransform(o,r,a,u,n),x=e.sampleGrid(this.image,b,n),_;return u===null?_=[a,o,r]:_=[a,o,r,u],new eI(x,_)},e.createTransform=function(t,o,r,a,i){var n=i-3.5,s,l,u,c;return a!==null?(s=a.getX(),l=a.getY(),u=n-3,c=u):(s=o.getX()-t.getX()+r.getX(),l=o.getY()-t.getY()+r.getY(),u=n,c=n),VM.quadrilateralToQuadrilateral(3.5,3.5,n,3.5,u,c,3.5,n,t.getX(),t.getY(),o.getX(),o.getY(),s,l,r.getX(),r.getY())},e.sampleGrid=function(t,o,r){var a=tI.getInstance();return a.sampleGridWithTransform(t,r,r,o)},e.computeDimension=function(t,o,r,a){var i=Oo.round(Dt.distance(t,o)/a),n=Oo.round(Dt.distance(t,r)/a),s=Math.floor((i+n)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Xe("Dimensions could be not found.")}return s},e.prototype.calculateModuleSize=function(t,o,r){return(this.calculateModuleSizeOneWay(t,o)+this.calculateModuleSizeOneWay(t,r))/2},e.prototype.calculateModuleSizeOneWay=function(t,o){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(o.getX()),Math.floor(o.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?a/7:isNaN(a)?r/7:(r+a)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,o,r,a){var i=this.sizeOfBlackWhiteBlackRun(t,o,r,a),n=1,s=t-(r-t);s<0?(n=t/(t-s),s=0):s>=this.image.getWidth()&&(n=(this.image.getWidth()-1-t)/(s-t),s=this.image.getWidth()-1);var l=Math.floor(o-(a-o)*n);return n=1,l<0?(n=o/(o-l),l=0):l>=this.image.getHeight()&&(n=(this.image.getHeight()-1-o)/(l-o),l=this.image.getHeight()-1),s=Math.floor(t+(s-t)*n),i+=this.sizeOfBlackWhiteBlackRun(t,o,s,l),i-1},e.prototype.sizeOfBlackWhiteBlackRun=function(t,o,r,a){var i=Math.abs(a-o)>Math.abs(r-t);if(i){var n=t;t=o,o=n,n=r,r=a,a=n}for(var s=Math.abs(r-t),l=Math.abs(a-o),u=-s/2,c=t<r?1:-1,d=o<a?1:-1,m=0,f=r+c,p=t,g=o;p!==f;p+=c){var b=i?g:p,x=i?p:g;if(m===1===this.image.get(b,x)){if(m===2)return Oo.distance(p,g,t,o);m++}if(u+=l,u>0){if(g===a)break;g+=d,u-=s}}return m===2?Oo.distance(r+c,a,t,o):NaN},e.prototype.findAlignmentInRegion=function(t,o,r,a){var i=Math.floor(a*t),n=Math.max(0,o-i),s=Math.min(this.image.getWidth()-1,o+i);if(s-n<t*3)throw new Xe("Alignment top exceeds estimated module size.");var l=Math.max(0,r-i),u=Math.min(this.image.getHeight()-1,r+i);if(u-l<t*3)throw new Xe("Alignment bottom exceeds estimated module size.");var c=new Fle(this.image,n,l,s-n,u-l,t,this.resultPointCallback);return c.find()},e}(),lC=function(){function e(){this.decoder=new Dle}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,o){var r,a;if(o!=null&&o.get(Ea.PURE_BARCODE)!==void 0){var i=e.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,o),a=e.NO_POINTS}else{var n=new Ble(t.getBlackMatrix()).detect(o);r=this.decoder.decodeBitMatrix(n.getBits(),o),a=n.getPoints()}r.getOther()instanceof zM&&r.getOther().applyMirroredCorrection(a);var s=new Ti(r.getText(),r.getRawBytes(),void 0,a,Gt.QR_CODE,void 0),l=r.getByteSegments();l!==null&&s.putMetadata(Dr.BYTE_SEGMENTS,l);var u=r.getECLevel();return u!==null&&s.putMetadata(Dr.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(s.putMetadata(Dr.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(Dr.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},e.prototype.reset=function(){},e.extractPureBits=function(t){var o=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(o===null||r===null)throw new Xe;var a=this.moduleSize(o,t),i=o[1],n=r[1],s=o[0],l=r[0];if(s>=l||i>=n)throw new Xe;if(n-i!==l-s&&(l=s+(n-i),l>=t.getWidth()))throw new Xe;var u=Math.round((l-s+1)/a),c=Math.round((n-i+1)/a);if(u<=0||c<=0)throw new Xe;if(c!==u)throw new Xe;var d=Math.floor(a/2);i+=d,s+=d;var m=s+Math.floor((u-1)*a)-l;if(m>0){if(m>d)throw new Xe;s-=m}var f=i+Math.floor((c-1)*a)-n;if(f>0){if(f>d)throw new Xe;i-=f}for(var p=new ul(u,c),g=0;g<c;g++)for(var b=i+Math.floor(g*a),x=0;x<u;x++)t.get(s+Math.floor(x*a),b)&&p.set(x,g);return p},e.moduleSize=function(t,o){for(var r=o.getHeight(),a=o.getWidth(),i=t[0],n=t[1],s=!0,l=0;i<a&&n<r;){if(s!==o.get(i,n)){if(++l===5)break;s=!s}i++,n++}if(i===a||n===r)throw new Xe;return(i-t[0])/7},e.NO_POINTS=new Array,e}(),Lle=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},So=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(t){return Oo.sum(t)},e.toIntArray=function(t){var o,r;if(t==null||!t.length)return e.EMPTY_INT_ARRAY;var a=new Int32Array(t.length),i=0;try{for(var n=Lle(t),s=n.next();!s.done;s=n.next()){var l=s.value;a[i++]=l}}catch(u){o={error:u}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},e.getCodeword=function(t){var o=Ii.binarySearch(e.SYMBOL_TABLE,t&262143);return o<0?-1:(e.CODEWORD_TABLE[o]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}(),$le=function(){function e(t,o){this.bits=t,this.points=o}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),Ule=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zle=function(){function e(){}return e.detectMultiple=function(t,o,r){var a=t.getBlackMatrix(),i=e.detect(r,a);return i.length||(a=a.clone(),a.rotate180(),i=e.detect(r,a)),new $le(a,i)},e.detect=function(t,o){for(var r,a,i=new Array,n=0,s=0,l=!1;n<o.getHeight();){var u=e.findVertices(o,n,s);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,s=0;try{for(var c=(r=void 0,Ule(i)),d=c.next();!d.done;d=c.next()){var m=d.value;m[1]!=null&&(n=Math.trunc(Math.max(n,m[1].getY()))),m[3]!=null&&(n=Math.max(n,Math.trunc(m[3].getY())))}}catch(f){r={error:f}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}n+=e.ROW_STEP;continue}if(l=!0,i.push(u),!t)break;u[2]!=null?(s=Math.trunc(u[2].getX()),n=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),n=Math.trunc(u[4].getY()))}return i},e.findVertices=function(t,o,r){var a=t.getHeight(),i=t.getWidth(),n=new Array(8);return e.copyToResult(n,e.findRowsWithPattern(t,a,i,o,r,e.START_PATTERN),e.INDEXES_START_PATTERN),n[4]!=null&&(r=Math.trunc(n[4].getX()),o=Math.trunc(n[4].getY())),e.copyToResult(n,e.findRowsWithPattern(t,a,i,o,r,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),n},e.copyToResult=function(t,o,r){for(var a=0;a<r.length;a++)t[r[a]]=o[a]},e.findRowsWithPattern=function(t,o,r,a,i,n){for(var s=new Array(4),l=!1,u=new Int32Array(n.length);a<o;a+=e.ROW_STEP){var c=e.findGuardPattern(t,i,a,r,!1,n,u);if(c!=null){for(;a>0;){var d=e.findGuardPattern(t,i,--a,r,!1,n,u);if(d!=null)c=d;else{a++;break}}s[0]=new Dt(c[0],a),s[1]=new Dt(c[1],a),l=!0;break}}var m=a+1;if(l){for(var f=0,d=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);m<o;m++){var c=e.findGuardPattern(t,d[0],m,r,!1,n,u);if(c!=null&&Math.abs(d[0]-c[0])<e.MAX_PATTERN_DRIFT&&Math.abs(d[1]-c[1])<e.MAX_PATTERN_DRIFT)d=c,f=0;else{if(f>e.SKIPPED_ROW_COUNT_MAX)break;f++}}m-=f+1,s[2]=new Dt(d[0],m),s[3]=new Dt(d[1],m)}return m-a<e.BARCODE_MIN_HEIGHT&&Ii.fill(s,null),s},e.findGuardPattern=function(t,o,r,a,i,n,s){Ii.fillWithin(s,0,s.length,0);for(var l=o,u=0;t.get(l,r)&&l>0&&u++<e.MAX_PIXEL_DRIFT;)l--;for(var c=l,d=0,m=n.length,f=i;c<a;c++){var p=t.get(c,r);if(p!==f)s[d]++;else{if(d===m-1){if(e.patternMatchVariance(s,n,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([l,c]);l+=s[0]+s[1],aa.arraycopy(s,2,s,0,d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,f=!f}}return d===m-1&&e.patternMatchVariance(s,n,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([l,c-1]):null},e.patternMatchVariance=function(t,o,r){for(var a=t.length,i=0,n=0,s=0;s<a;s++)i+=t[s],n+=o[s];if(i<n)return 1/0;var l=i/n;r*=l;for(var u=0,c=0;c<a;c++){var d=t[c],m=o[c]*l,f=d>m?d-m:m-d;if(f>r)return 1/0;u+=f}return u/i},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}(),Hle=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lu=function(){function e(t,o){if(o.length===0)throw new Wt;this.field=t;var r=o.length;if(r>1&&o[0]===0){for(var a=1;a<r&&o[a]===0;)a++;a===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-a),aa.arraycopy(o,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){var o,r;if(t===0)return this.getCoefficient(0);if(t===1){var a=0;try{for(var i=Hle(this.coefficients),n=i.next();!n.done;n=i.next()){var s=n.value;a=this.field.add(a,s)}}catch(d){o={error:d}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}for(var l=this.coefficients[0],u=this.coefficients.length,c=1;c<u;c++)l=this.field.add(this.field.multiply(t,l),this.coefficients[c]);return l},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new Wt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var o=this.coefficients,r=t.coefficients;if(o.length>r.length){var a=o;o=r,r=a}var i=new Int32Array(r.length),n=r.length-o.length;aa.arraycopy(r,0,i,0,n);for(var s=n;s<r.length;s++)i[s]=this.field.add(o[s-n],r[s]);return new e(this.field,i)},e.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Wt("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Wt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var o=this.coefficients,r=o.length,a=t.coefficients,i=a.length,n=new Int32Array(r+i-1),s=0;s<r;s++)for(var l=o[s],u=0;u<i;u++)n[s+u]=this.field.add(n[s+u],this.field.multiply(l,a[u]));return new e(this.field,n)},e.prototype.negative=function(){for(var t=this.coefficients.length,o=new Int32Array(t),r=0;r<t;r++)o[r]=this.field.subtract(0,this.coefficients[r]);return new e(this.field,o)},e.prototype.multiplyScalar=function(t){if(t===0)return new e(this.field,new Int32Array([0]));if(t===1)return this;for(var o=this.coefficients.length,r=new Int32Array(o),a=0;a<o;a++)r[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,r)},e.prototype.multiplyByMonomial=function(t,o){if(t<0)throw new Wt;if(o===0)return new e(this.field,new Int32Array([0]));for(var r=this.coefficients.length,a=new Int32Array(r+t),i=0;i<r;i++)a[i]=this.field.multiply(this.coefficients[i],o);return new e(this.field,a)},e.prototype.toString=function(){for(var t=new Ko,o=this.getDegree();o>=0;o--){var r=this.getCoefficient(o);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(o===0||r!==1)&&t.append(r),o!==0&&(o===1?t.append("x"):(t.append("x^"),t.append(o))))}return t.toString()},e}(),jle=function(){function e(){}return e.prototype.add=function(t,o){return(t+o)%this.modulus},e.prototype.subtract=function(t,o){return(this.modulus+t-o)%this.modulus},e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Wt;return this.logTable[t]},e.prototype.inverse=function(t){if(t===0)throw new kM;return this.expTable[this.modulus-this.logTable[t]-1]},e.prototype.multiply=function(t,o){return t===0||o===0?0:this.expTable[(this.logTable[t]+this.logTable[o])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(t){return t===this},e}(),Gle=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),Wle=function(e){Gle(t,e);function t(o,r){var a=e.call(this)||this;a.modulus=o,a.expTable=new Int32Array(o),a.logTable=new Int32Array(o);for(var i=1,n=0;n<o;n++)a.expTable[n]=i,i=i*r%o;for(var n=0;n<o-1;n++)a.logTable[a.expTable[n]]=n;return a.zero=new lu(a,new Int32Array([0])),a.one=new lu(a,new Int32Array([1])),a}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(o,r){if(o<0)throw new Wt;if(r===0)return this.zero;var a=new Int32Array(o+1);return a[0]=r,new lu(this,a)},t.PDF417_GF=new t(So.NUMBER_OF_CODEWORDS,3),t}(jle),Xle=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yle=function(){function e(){this.field=Wle.PDF417_GF}return e.prototype.decode=function(t,o,r){for(var a,i,n=new lu(this.field,t),s=new Int32Array(o),l=!1,u=o;u>0;u--){var c=n.evaluateAt(this.field.exp(u));s[o-u]=c,c!==0&&(l=!0)}if(!l)return 0;var d=this.field.getOne();if(r!=null)try{for(var m=Xle(r),f=m.next();!f.done;f=m.next()){var p=f.value,g=this.field.exp(t.length-1-p),b=new lu(this.field,new Int32Array([this.field.subtract(0,g),1]));d=d.multiply(b)}}catch(M){a={error:M}}finally{try{f&&!f.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}for(var x=new lu(this.field,s),_=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),x,o),y=_[0],I=_[1],S=this.findErrorLocations(y),O=this.findErrorMagnitudes(I,y,S),u=0;u<S.length;u++){var F=t.length-1-this.field.log(S[u]);if(F<0)throw Tr.getChecksumInstance();t[F]=this.field.subtract(t[F],O[u])}return S.length},e.prototype.runEuclideanAlgorithm=function(t,o,r){if(t.getDegree()<o.getDegree()){var a=t;t=o,o=a}for(var i=t,n=o,s=this.field.getZero(),l=this.field.getOne();n.getDegree()>=Math.round(r/2);){var u=i,c=s;if(i=n,s=l,i.isZero())throw Tr.getChecksumInstance();n=u;for(var d=this.field.getZero(),m=i.getCoefficient(i.getDegree()),f=this.field.inverse(m);n.getDegree()>=i.getDegree()&&!n.isZero();){var p=n.getDegree()-i.getDegree(),g=this.field.multiply(n.getCoefficient(n.getDegree()),f);d=d.add(this.field.buildMonomial(p,g)),n=n.subtract(i.multiplyByMonomial(p,g))}l=d.multiply(s).subtract(c).negative()}var b=l.getCoefficient(0);if(b===0)throw Tr.getChecksumInstance();var x=this.field.inverse(b),_=l.multiply(x),y=n.multiply(x);return[_,y]},e.prototype.findErrorLocations=function(t){for(var o=t.getDegree(),r=new Int32Array(o),a=0,i=1;i<this.field.getSize()&&a<o;i++)t.evaluateAt(i)===0&&(r[a]=this.field.inverse(i),a++);if(a!==o)throw Tr.getChecksumInstance();return r},e.prototype.findErrorMagnitudes=function(t,o,r){for(var a=o.getDegree(),i=new Int32Array(a),n=1;n<=a;n++)i[a-n]=this.field.multiply(n,o.getCoefficient(n));for(var s=new lu(this.field,i),l=r.length,u=new Int32Array(l),n=0;n<l;n++){var c=this.field.inverse(r[n]),d=this.field.subtract(0,t.evaluateAt(c)),m=this.field.inverse(s.evaluateAt(c));u[n]=this.field.multiply(d,m)}return u},e}(),cC=function(){function e(t,o,r,a,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,o,r,a,i)}return e.prototype.constructor_1=function(t,o,r,a,i){var n=o==null||r==null,s=a==null||i==null;if(n&&s)throw new Xe;n?(o=new Dt(0,a.getY()),r=new Dt(0,i.getY())):s&&(a=new Dt(t.getWidth()-1,o.getY()),i=new Dt(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=o,this.bottomLeft=r,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(o.getX(),r.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(o.getY(),a.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))},e.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},e.merge=function(t,o){return t==null?o:o==null?t:new e(t.image,t.topLeft,t.bottomLeft,o.topRight,o.bottomRight)},e.prototype.addMissingRows=function(t,o,r){var a=this.topLeft,i=this.bottomLeft,n=this.topRight,s=this.bottomRight;if(t>0){var l=r?this.topLeft:this.topRight,u=Math.trunc(l.getY()-t);u<0&&(u=0);var c=new Dt(l.getX(),u);r?a=c:n=c}if(o>0){var d=r?this.bottomLeft:this.bottomRight,m=Math.trunc(d.getY()+o);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);var f=new Dt(d.getX(),m);r?i=f:s=f}return new e(this.image,a,i,n,s)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}(),Kle=function(){function e(t,o,r,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=o,this.rowCountLowerPart=r,this.rowCount=o+r}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}(),aI=function(){function e(){this.buffer=""}return e.form=function(t,o){var r=-1;function a(n,s,l,u,c,d){if(n==="%%")return"%";if(o[++r]!==void 0){n=u?parseInt(u.substr(1)):void 0;var m=c?parseInt(c.substr(1)):void 0,f;switch(d){case"s":f=o[r];break;case"c":f=o[r][0];break;case"f":f=parseFloat(o[r]).toFixed(n);break;case"p":f=parseFloat(o[r]).toPrecision(n);break;case"e":f=parseFloat(o[r]).toExponential(n);break;case"x":f=parseInt(o[r]).toString(m||16);break;case"d":f=parseFloat(parseInt(o[r],m||10).toPrecision(n)).toFixed(0);break}f=typeof f=="object"?JSON.stringify(f):(+f).toString(m);for(var p=parseInt(l),g=l&&l[0]+""=="0"?"0":" ";f.length<p;)f=s!==void 0?f+g:g+f;return f}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,a)},e.prototype.format=function(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];this.buffer+=e.form(t,o)},e.prototype.toString=function(){return this.buffer},e}(),Qle=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},HM=function(){function e(t){this.boundingBox=new cC(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var o=this.getCodeword(t);if(o!=null)return o;for(var r=1;r<e.MAX_NEARBY_DISTANCE;r++){var a=this.imageRowToCodewordIndex(t)-r;if(a>=0&&(o=this.codewords[a],o!=null)||(a=this.imageRowToCodewordIndex(t)+r,a<this.codewords.length&&(o=this.codewords[a],o!=null)))return o}return null},e.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},e.prototype.setCodeword=function(t,o){this.codewords[this.imageRowToCodewordIndex(t)]=o},e.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var t,o,r=new aI,a=0;try{for(var i=Qle(this.codewords),n=i.next();!n.done;n=i.next()){var s=n.value;if(s==null){r.format("%3d:    |   %n",a++);continue}r.format("%3d: %3d|%3d%n",a++,s.getRowNumber(),s.getValue())}}catch(l){t={error:l}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return r.toString()},e.MAX_NEARBY_DISTANCE=5,e}(),Jle=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zle=globalThis&&globalThis.__read||function(e,t){var o=typeof Symbol=="function"&&e[Symbol.iterator];if(!o)return e;var r=o.call(e),a,i=[],n;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){n={error:s}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return i},Ym=function(){function e(){this.values=new Map}return e.prototype.setValue=function(t){t=Math.trunc(t);var o=this.values.get(t);o==null&&(o=0),o++,this.values.set(t,o)},e.prototype.getValue=function(){var t,o,r=-1,a=new Array,i=function(d,m){var f={getKey:function(){return d},getValue:function(){return m}};f.getValue()>r?(r=f.getValue(),a=[],a.push(f.getKey())):f.getValue()===r&&a.push(f.getKey())};try{for(var n=Jle(this.values.entries()),s=n.next();!s.done;s=n.next()){var l=Zle(s.value,2),u=l[0],c=l[1];i(u,c)}}catch(d){t={error:d}}finally{try{s&&!s.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return So.toIntArray(a)},e.prototype.getConfidence=function(t){return this.values.get(t)},e}(),ece=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),p2=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},b3=function(e){ece(t,e);function t(o,r){var a=e.call(this,o)||this;return a._isLeft=r,a}return t.prototype.setRowNumbers=function(){var o,r;try{for(var a=p2(this.getCodewords()),i=a.next();!i.done;i=a.next()){var n=i.value;n!=null&&n.setRowNumberAsRowIndicatorColumn()}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(o){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,o);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),n=this._isLeft?a.getBottomLeft():a.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(n.getY())),u=-1,c=1,d=0,m=s;m<l;m++)if(r[m]!=null){var f=r[m],p=f.getRowNumber()-u;if(p===0)d++;else if(p===1)c=Math.max(c,d),d=1,u=f.getRowNumber();else if(p<0||f.getRowNumber()>=o.getRowCount()||p>m)r[m]=null;else{var g=void 0;c>2?g=(c-2)*p:g=p;for(var b=g>=m,x=1;x<=g&&!b;x++)b=r[m-x]!=null;b?r[m]=null:(u=f.getRowNumber(),d=1)}}},t.prototype.getRowHeights=function(){var o,r,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var n=p2(this.getCodewords()),s=n.next();!s.done;s=n.next()){var l=s.value;if(l!=null){var u=l.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(c){o={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(o){for(var r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),n=this.imageRowToCodewordIndex(Math.trunc(a.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.getCodewords(),u=-1,c=n;c<s;c++)if(l[c]!=null){var d=l[c];d.setRowNumberAsRowIndicatorColumn();var m=d.getRowNumber()-u;m===0||(m===1?u=d.getRowNumber():d.getRowNumber()>=o.getRowCount()?l[c]=null:u=d.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var o,r,a=this.getCodewords(),i=new Ym,n=new Ym,s=new Ym,l=new Ym;try{for(var u=p2(a),c=u.next();!c.done;c=u.next()){var d=c.value;if(d!=null){d.setRowNumberAsRowIndicatorColumn();var m=d.getValue()%30,f=d.getRowNumber();switch(this._isLeft||(f+=2),f%3){case 0:n.setValue(m*3+1);break;case 1:l.setValue(m/3),s.setValue(m%3);break;case 2:i.setValue(m+1);break}}}}catch(g){o={error:g}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}if(i.getValue().length===0||n.getValue().length===0||s.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||n.getValue()[0]+s.getValue()[0]<So.MIN_ROWS_IN_BARCODE||n.getValue()[0]+s.getValue()[0]>So.MAX_ROWS_IN_BARCODE)return null;var p=new Kle(i.getValue()[0],n.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(a,p),p},t.prototype.removeIncorrectCodewords=function(o,r){for(var a=0;a<o.length;a++){var i=o[a];if(o[a]!=null){var n=i.getValue()%30,s=i.getRowNumber();if(s>r.getRowCount()){o[a]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:n*3+1!==r.getRowCountUpperPart()&&(o[a]=null);break;case 1:(Math.trunc(n/3)!==r.getErrorCorrectionLevel()||n%3!==r.getRowCountLowerPart())&&(o[a]=null);break;case 2:n+1!==r.getColumnCount()&&(o[a]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+e.prototype.toString.call(this)},t}(HM),tce=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oce=function(){function e(t,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=So.MAX_CODEWORDS_IN_BARCODE,o;do o=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<o);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var o=1;o<this.barcodeColumnCount+1;o++)for(var r=this.detectionResultColumns[o].getCodewords(),a=0;a<r.length;a++)r[a]!=null&&(r[a].hasValidRowNumber()||this.adjustRowNumbers(o,a,r));return t},e.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null&&o[r]!=null&&t[r].getRowNumber()===o[r].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[r];i!=null&&(i.setRowNumber(t[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[r]=null))}}},e.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<o.length;r++)if(o[r]!=null)for(var a=o[r].getRowNumber(),i=0,n=this.barcodeColumnCount+1;n>0&&i<this.ADJUST_ROW_NUMBER_SKIP;n--){var s=this.detectionResultColumns[n].getCodewords()[r];s!=null&&(i=e.adjustRowNumberIfValid(a,i,s),s.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,o=this.detectionResultColumns[0].getCodewords(),r=0;r<o.length;r++)if(o[r]!=null)for(var a=o[r].getRowNumber(),i=0,n=1;n<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;n++){var s=this.detectionResultColumns[n].getCodewords()[r];s!=null&&(i=e.adjustRowNumberIfValid(a,i,s),s.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(t,o,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),o=0):++o),o},e.prototype.adjustRowNumbers=function(t,o,r){var a,i,n=r[o],s=this.detectionResultColumns[t-1].getCodewords(),l=s;this.detectionResultColumns[t+1]!=null&&(l=this.detectionResultColumns[t+1].getCodewords());var u=new Array(14);u[2]=s[o],u[3]=l[o],o>0&&(u[0]=r[o-1],u[4]=s[o-1],u[5]=l[o-1]),o>1&&(u[8]=r[o-2],u[10]=s[o-2],u[11]=l[o-2]),o<r.length-1&&(u[1]=r[o+1],u[6]=s[o+1],u[7]=l[o+1]),o<r.length-2&&(u[9]=r[o+2],u[12]=s[o+2],u[13]=l[o+2]);try{for(var c=tce(u),d=c.next();!d.done;d=c.next()){var m=d.value;if(e.adjustRowNumber(n,m))return}}catch(f){a={error:f}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}},e.adjustRowNumber=function(t,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===t.getBucket()?(t.setRowNumber(o.getRowNumber()),!0):!1},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(t){this.boundingBox=t},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(t,o){this.detectionResultColumns[t]=o},e.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},e.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var o=new aI,r=0;r<t.getCodewords().length;r++){o.format("CW %3d:",r);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){o.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[r];if(i==null){o.format("    |   ");continue}o.format(" %3d|%3d",i.getRowNumber(),i.getValue())}o.format("%n")}return o.toString()},e}(),ace=function(){function e(t,o,r,a){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(o),this.bucket=Math.trunc(r),this.value=Math.trunc(a)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(t){this.rowNumber=t},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}(),rce=function(){function e(){}return e.initialize=function(){for(var t=0;t<So.SYMBOL_TABLE.length;t++)for(var o=So.SYMBOL_TABLE[t],r=o&1,a=0;a<So.BARS_IN_MODULE;a++){for(var i=0;(o&1)===r;)i+=1,o>>=1;r=o&1,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(So.BARS_IN_MODULE)),e.RATIOS_TABLE[t][So.BARS_IN_MODULE-a-1]=Math.fround(i/So.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var o=e.getDecodedCodewordValue(e.sampleBitCounts(t));return o!==-1?o:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(t){for(var o=Oo.sum(t),r=new Int32Array(So.BARS_IN_MODULE),a=0,i=0,n=0;n<So.MODULES_IN_CODEWORD;n++){var s=o/(2*So.MODULES_IN_CODEWORD)+n*o/So.MODULES_IN_CODEWORD;i+t[a]<=s&&(i+=t[a],a++),r[a]++}return r},e.getDecodedCodewordValue=function(t){var o=e.getBitValue(t);return So.getCodeword(o)===-1?-1:o},e.getBitValue=function(t){for(var o=0,r=0;r<t.length;r++)for(var a=0;a<t[r];a++)o=o<<1|(r%2===0?1:0);return Math.trunc(o)},e.getClosestDecodedValue=function(t){var o=Oo.sum(t),r=new Array(So.BARS_IN_MODULE);if(o>1)for(var a=0;a<r.length;a++)r[a]=Math.fround(t[a]/o);var i=oC.MAX_VALUE,n=-1;this.bSymbolTableReady||e.initialize();for(var s=0;s<e.RATIOS_TABLE.length;s++){for(var l=0,u=e.RATIOS_TABLE[s],c=0;c<So.BARS_IN_MODULE;c++){var d=Math.fround(u[c]-r[c]);if(l+=Math.fround(d*d),l>=i)break}l<i&&(i=l,n=So.SYMBOL_TABLE[s])}return n},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(So.SYMBOL_TABLE.length).map(function(t){return new Array(So.BARS_IN_MODULE)}),e}(),ice=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(t){this.segmentIndex=t},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(t){this.fileId=t},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(t){this.optionalData=t},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(t){this.lastSegment=t},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(t){this.segmentCount=t},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(t){this.sender=t},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(t){this.addressee=t},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(t){this.fileName=t},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(t){this.fileSize=t},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(t){this.checksum=t},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(t){this.timestamp=t},e}(),y3=function(){function e(){}return e.parseLong=function(t,o){return o===void 0&&(o=void 0),parseInt(t,o)},e}(),nce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),sce=function(e){nce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="NullPointerException",t}(Ai),lce=function(){function e(){}return e.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},e.prototype.writeBytesOffset=function(t,o,r){if(t==null)throw new sce;if(o<0||o>t.length||r<0||o+r>t.length||o+r<0)throw new Jw;if(r===0)return;for(var a=0;a<r;a++)this.write(t[o+a])},e.prototype.flush=function(){},e.prototype.close=function(){},e}(),cce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),uce=function(e){cce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ai),dce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),fce=function(e){dce(t,e);function t(o){o===void 0&&(o=32);var r=e.call(this)||this;if(r.count=0,o<0)throw new Wt("Negative initial size: "+o);return r.buf=new Uint8Array(o),r}return t.prototype.ensureCapacity=function(o){o-this.buf.length>0&&this.grow(o)},t.prototype.grow=function(o){var r=this.buf.length,a=r<<1;if(a-o<0&&(a=o),a<0){if(o<0)throw new uce;a=Or.MAX_VALUE}this.buf=Ii.copyOfUint8Array(this.buf,a)},t.prototype.write=function(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1},t.prototype.writeBytesOffset=function(o,r,a){if(r<0||r>o.length||a<0||r+a-o.length>0)throw new Jw;this.ensureCapacity(this.count+a),aa.arraycopy(o,r,this.buf,this.count,a),this.count+=a},t.prototype.writeTo=function(o){o.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return Ii.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(o){return new String(this.buf).toString()},t.prototype.toString_number=function(o){return new String(this.buf).toString()},t.prototype.close=function(){},t}(lce),Yo;(function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Yo||(Yo={}));function jM(){if(typeof window!="undefined")return window.BigInt||null;if(typeof global!="undefined")return global.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var s1;function Wl(e){if(typeof s1=="undefined"&&(s1=jM()),s1===null)throw new Error("BigInt is not supported!");return s1(e)}function mce(){var e=[];e[0]=Wl(1);var t=Wl(900);e[1]=t;for(var o=2;o<16;o++)e[o]=e[o-1]*t;return e}var pce=function(){function e(){}return e.decode=function(t,o){var r=new Ko(""),a=lr.ISO8859_1;r.enableDecoding(a);for(var i=1,n=t[i++],s=new ice;i<t[0];){switch(n){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,r);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(n,t,a,i,r);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,r);break;case e.ECI_CHARSET:lr.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,s);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new ut;default:i--,i=e.textCompaction(t,i,r);break}if(i<t.length)n=t[i++];else throw ut.getFormatInstance()}if(r.length()===0)throw ut.getFormatInstance();var l=new Wg(null,r.toString(),null,o);return l.setOther(s),l},e.decodeMacroBlock=function(t,o,r){if(o+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ut.getFormatInstance();for(var a=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,o++)a[i]=t[o];r.setSegmentIndex(Or.parseInt(e.decodeBase900toBase10(a,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var n=new Ko;o=e.textCompaction(t,o,n),r.setFileId(n.toString());var s=-1;for(t[o]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=o+1);o<t[0];)switch(t[o]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,t[o]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Ko;o=e.textCompaction(t,o+1,l),r.setFileName(l.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Ko;o=e.textCompaction(t,o+1,u),r.setSender(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new Ko;o=e.textCompaction(t,o+1,c),r.setAddressee(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new Ko;o=e.numericCompaction(t,o+1,d),r.setSegmentCount(Or.parseInt(d.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var m=new Ko;o=e.numericCompaction(t,o+1,m),r.setTimestamp(y3.parseLong(m.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new Ko;o=e.numericCompaction(t,o+1,f),r.setChecksum(Or.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new Ko;o=e.numericCompaction(t,o+1,p),r.setFileSize(y3.parseLong(p.toString()));break;default:throw ut.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:o++,r.setLastSegment(!0);break;default:throw ut.getFormatInstance()}if(s!==-1){var g=o-s;r.isLastSegment()&&g--,r.setOptionalData(Ii.copyOfRange(t,s,s+g))}return o},e.textCompaction=function(t,o,r){for(var a=new Int32Array((t[0]-o)*2),i=new Int32Array((t[0]-o)*2),n=0,s=!1;o<t[0]&&!s;){var l=t[o++];if(l<e.TEXT_COMPACTION_MODE_LATCH)a[n]=l/30,a[n+1]=l%30,n+=2;else switch(l){case e.TEXT_COMPACTION_MODE_LATCH:a[n++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:o--,s=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[n]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=t[o++],i[n]=l,n++;break}}return e.decodeTextCompaction(a,i,n,r),o},e.decodeTextCompaction=function(t,o,r,a){for(var i=Yo.ALPHA,n=Yo.ALPHA,s=0;s<r;){var l=t[s],u="";switch(i){case Yo.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case e.LL:i=Yo.LOWER;break;case e.ML:i=Yo.MIXED;break;case e.PS:n=i,i=Yo.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Yo.ALPHA;break}break;case Yo.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case e.AS:n=i,i=Yo.ALPHA_SHIFT;break;case e.ML:i=Yo.MIXED;break;case e.PS:n=i,i=Yo.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Yo.ALPHA;break}break;case Yo.MIXED:if(l<e.PL)u=e.MIXED_CHARS[l];else switch(l){case e.PL:i=Yo.PUNCT;break;case 26:u=" ";break;case e.LL:i=Yo.LOWER;break;case e.AL:i=Yo.ALPHA;break;case e.PS:n=i,i=Yo.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Yo.ALPHA;break}break;case Yo.PUNCT:if(l<e.PAL)u=e.PUNCT_CHARS[l];else switch(l){case e.PAL:i=Yo.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Yo.ALPHA;break}break;case Yo.ALPHA_SHIFT:if(i=n,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=Yo.ALPHA;break}break;case Yo.PUNCT_SHIFT:if(i=n,l<e.PAL)u=e.PUNCT_CHARS[l];else switch(l){case e.PAL:i=Yo.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(o[s]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=Yo.ALPHA;break}break}u!==""&&a.append(u),s++}},e.byteCompaction=function(t,o,r,a,i){var n=new fce,s=0,l=0,u=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),d=o[a++];a<o[0]&&!u;)switch(c[s++]=d,l=900*l+d,d=o[a++],d){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(s%5===0&&s>0){for(var m=0;m<6;++m)n.write(Number(Wl(l)>>Wl(8*(5-m))));l=0,s=0}break}a===o[0]&&d<e.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=d);for(var f=0;f<s;f++)n.write(c[f]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;a<o[0]&&!u;){var p=o[a++];if(p<e.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+p;else switch(p){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(s%5===0&&s>0){for(var m=0;m<6;++m)n.write(Number(Wl(l)>>Wl(8*(5-m))));l=0,s=0}}break}return i.append(bs.decode(n.toByteArray(),r)),a},e.numericCompaction=function(t,o,r){for(var a=0,i=!1,n=new Int32Array(e.MAX_NUMERIC_CODEWORDS);o<t[0]&&!i;){var s=t[o++];if(o===t[0]&&(i=!0),s<e.TEXT_COMPACTION_MODE_LATCH)n[a]=s,a++;else switch(s){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:o--,i=!0;break}(a%e.MAX_NUMERIC_CODEWORDS===0||s===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(r.append(e.decodeBase900toBase10(n,a)),a=0)}return o},e.decodeBase900toBase10=function(t,o){for(var r=Wl(0),a=0;a<o;a++)r+=e.EXP900[o-a-1]*Wl(t[a]);var i=r.toString();if(i.charAt(0)!=="1")throw new ut;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",e.EXP900=jM()?mce():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}(),Dm=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hce=function(){function e(){}return e.decode=function(t,o,r,a,i,n,s){for(var l=new cC(t,o,r,a,i),u=null,c=null,d,m=!0;;m=!1){if(o!=null&&(u=e.getRowIndicatorColumn(t,l,o,!0,n,s)),a!=null&&(c=e.getRowIndicatorColumn(t,l,a,!1,n,s)),d=e.merge(u,c),d==null)throw Xe.getNotFoundInstance();var f=d.getBoundingBox();if(m&&f!=null&&(f.getMinY()<l.getMinY()||f.getMaxY()>l.getMaxY()))l=f;else break}d.setBoundingBox(l);var p=d.getBarcodeColumnCount()+1;d.setDetectionResultColumn(0,u),d.setDetectionResultColumn(p,c);for(var g=u!=null,b=1;b<=p;b++){var x=g?b:p-b;if(d.getDetectionResultColumn(x)===void 0){var _=void 0;x===0||x===p?_=new b3(l,x===0):_=new HM(l),d.setDetectionResultColumn(x,_);for(var y=-1,I=y,S=l.getMinY();S<=l.getMaxY();S++){if(y=e.getStartColumn(d,x,S,g),y<0||y>l.getMaxX()){if(I===-1)continue;y=I}var O=e.detectCodeword(t,l.getMinX(),l.getMaxX(),g,y,S,n,s);O!=null&&(_.setCodeword(S,O),I=y,n=Math.min(n,O.getWidth()),s=Math.max(s,O.getWidth()))}}}return e.createDecoderResult(d)},e.merge=function(t,o){if(t==null&&o==null)return null;var r=e.getBarcodeMetadata(t,o);if(r==null)return null;var a=cC.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(o));return new oce(r,a)},e.adjustBoundingBox=function(t){var o,r;if(t==null)return null;var a=t.getRowHeights();if(a==null)return null;var i=e.getMax(a),n=0;try{for(var s=Dm(a),l=s.next();!l.done;l=s.next()){var u=l.value;if(n+=i-u,u>0)break}}catch(f){o={error:f}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}for(var c=t.getCodewords(),d=0;n>0&&c[d]==null;d++)n--;for(var m=0,d=a.length-1;d>=0&&(m+=i-a[d],!(a[d]>0));d--);for(var d=c.length-1;m>0&&c[d]==null;d--)m--;return t.getBoundingBox().addMissingRows(n,m,t.isLeft())},e.getMax=function(t){var o,r,a=-1;try{for(var i=Dm(t),n=i.next();!n.done;n=i.next()){var s=n.value;a=Math.max(a,s)}}catch(l){o={error:l}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},e.getBarcodeMetadata=function(t,o){var r;if(t==null||(r=t.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();var a;return o==null||(a=o.getBarcodeMetadata())==null?r:r.getColumnCount()!==a.getColumnCount()&&r.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&r.getRowCount()!==a.getRowCount()?null:r},e.getRowIndicatorColumn=function(t,o,r,a,i,n){for(var s=new b3(o,a),l=0;l<2;l++)for(var u=l===0?1:-1,c=Math.trunc(Math.trunc(r.getX())),d=Math.trunc(Math.trunc(r.getY()));d<=o.getMaxY()&&d>=o.getMinY();d+=u){var m=e.detectCodeword(t,0,t.getWidth(),a,c,d,i,n);m!=null&&(s.setCodeword(d,m),a?c=m.getStartX():c=m.getEndX())}return s},e.adjustCodewordCount=function(t,o){var r=o[0][1],a=r.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(i<1||i>So.MAX_CODEWORDS_IN_BARCODE)throw Xe.getNotFoundInstance();r.setValue(i)}else a[0]!==i&&r.setValue(i)},e.createDecoderResult=function(t){var o=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,o);for(var r=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],n=new Array,s=0;s<t.getBarcodeRowCount();s++)for(var l=0;l<t.getBarcodeColumnCount();l++){var u=o[s][l+1].getValue(),c=s*t.getBarcodeColumnCount()+l;u.length===0?r.push(c):u.length===1?a[c]=u[0]:(n.push(c),i.push(u))}for(var d=new Array(i.length),m=0;m<d.length;m++)d[m]=i[m];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,So.toIntArray(r),So.toIntArray(n),d)},e.createDecoderResultFromAmbiguousValues=function(t,o,r,a,i){for(var n=new Int32Array(a.length),s=100;s-- >0;){for(var l=0;l<n.length;l++)o[a[l]]=i[l][n[l]];try{return e.decodeCodewords(o,t,r)}catch(c){var u=c instanceof Tr;if(!u)throw c}if(n.length===0)throw Tr.getChecksumInstance();for(var l=0;l<n.length;l++)if(n[l]<i[l].length-1){n[l]++;break}else if(n[l]=0,l===n.length-1)throw Tr.getChecksumInstance()}throw Tr.getChecksumInstance()},e.createBarcodeMatrix=function(t){for(var o,r,a,i,n=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),s=0;s<n.length;s++)for(var l=0;l<n[s].length;l++)n[s][l]=new Ym;var u=0;try{for(var c=Dm(t.getDetectionResultColumns()),d=c.next();!d.done;d=c.next()){var m=d.value;if(m!=null)try{for(var f=(a=void 0,Dm(m.getCodewords())),p=f.next();!p.done;p=f.next()){var g=p.value;if(g!=null){var b=g.getRowNumber();if(b>=0){if(b>=n.length)continue;n[b][u].setValue(g.getValue())}}}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}u++}}catch(x){o={error:x}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}return n},e.isValidBarcodeColumn=function(t,o){return o>=0&&o<=t.getBarcodeColumnCount()+1},e.getStartColumn=function(t,o,r,a){var i,n,s=a?1:-1,l=null;if(e.isValidBarcodeColumn(t,o-s)&&(l=t.getDetectionResultColumn(o-s).getCodeword(r)),l!=null)return a?l.getEndX():l.getStartX();if(l=t.getDetectionResultColumn(o).getCodewordNearby(r),l!=null)return a?l.getStartX():l.getEndX();if(e.isValidBarcodeColumn(t,o-s)&&(l=t.getDetectionResultColumn(o-s).getCodewordNearby(r)),l!=null)return a?l.getEndX():l.getStartX();for(var u=0;e.isValidBarcodeColumn(t,o-s);){o-=s;try{for(var c=(i=void 0,Dm(t.getDetectionResultColumn(o).getCodewords())),d=c.next();!d.done;d=c.next()){var m=d.value;if(m!=null)return(a?m.getEndX():m.getStartX())+s*u*(m.getEndX()-m.getStartX())}}catch(f){i={error:f}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}u++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,o,r,a,i,n,s,l){i=e.adjustCodewordStartColumn(t,o,r,a,i,n);var u=e.getModuleBitCount(t,o,r,a,i,n);if(u==null)return null;var c,d=Oo.sum(u);if(a)c=i+d;else{for(var m=0;m<u.length/2;m++){var f=u[m];u[m]=u[u.length-1-m],u[u.length-1-m]=f}c=i,i=c-d}if(!e.checkCodewordSkew(d,s,l))return null;var p=rce.getDecodedValue(u),g=So.getCodeword(p);return g===-1?null:new ace(i,c,e.getCodewordBucketNumber(p),g)},e.getModuleBitCount=function(t,o,r,a,i,n){for(var s=i,l=new Int32Array(8),u=0,c=a?1:-1,d=a;(a?s<r:s>=o)&&u<l.length;)t.get(s,n)===d?(l[u]++,s+=c):(u++,d=!d);return u===l.length||s===(a?r:o)&&u===l.length-1?l:null},e.getNumberOfECCodeWords=function(t){return 2<<t},e.adjustCodewordStartColumn=function(t,o,r,a,i,n){for(var s=i,l=a?-1:1,u=0;u<2;u++){for(;(a?s>=o:s<r)&&a===t.get(s,n);){if(Math.abs(i-s)>e.CODEWORD_SKEW_SIZE)return i;s+=l}l=-l,a=!a}return s},e.checkCodewordSkew=function(t,o,r){return o-e.CODEWORD_SKEW_SIZE<=t&&t<=r+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,o,r){if(t.length===0)throw ut.getFormatInstance();var a=1<<o+1,i=e.correctErrors(t,r,a);e.verifyCodewordCount(t,a);var n=pce.decode(t,""+o);return n.setErrorsCorrected(i),n.setErasures(r.length),n},e.correctErrors=function(t,o,r){if(o!=null&&o.length>r/2+e.MAX_ERRORS||r<0||r>e.MAX_EC_CODEWORDS)throw Tr.getChecksumInstance();return e.errorCorrection.decode(t,r,o)},e.verifyCodewordCount=function(t,o){if(t.length<4)throw ut.getFormatInstance();var r=t[0];if(r>t.length)throw ut.getFormatInstance();if(r===0)if(o<t.length)t[0]=t.length-o;else throw ut.getFormatInstance()},e.getBitCountForCodeword=function(t){for(var o=new Int32Array(8),r=0,a=o.length-1;!((t&1)!==r&&(r=t&1,a--,a<0));)o[a]++,t>>=1;return o},e.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},e.toString=function(t){for(var o=new aI,r=0;r<t.length;r++){o.format("Row %2d: ",r);for(var a=0;a<t[r].length;a++){var i=t[r][a];i.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}o.format("%n")}return o.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new Yle,e}(),vce=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uC=function(){function e(){}return e.prototype.decode=function(t,o){o===void 0&&(o=null);var r=e.decode(t,o,!1);if(r==null||r.length===0||r[0]==null)throw Xe.getNotFoundInstance();return r[0]},e.prototype.decodeMultiple=function(t,o){o===void 0&&(o=null);try{return e.decode(t,o,!0)}catch(r){throw r instanceof ut||r instanceof Tr?Xe.getNotFoundInstance():r}},e.decode=function(t,o,r){var a,i,n=new Array,s=zle.detectMultiple(t,o,r);try{for(var l=vce(s.getPoints()),u=l.next();!u.done;u=l.next()){var c=u.value,d=hce.decode(s.getBits(),c[4],c[5],c[6],c[7],e.getMinCodewordWidth(c),e.getMaxCodewordWidth(c)),m=new Ti(d.getText(),d.getRawBytes(),void 0,c,Gt.PDF_417);m.putMetadata(Dr.ERROR_CORRECTION_LEVEL,d.getECLevel());var f=d.getOther();f!=null&&m.putMetadata(Dr.PDF417_EXTRA_METADATA,f),n.push(m)}}catch(p){a={error:p}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return n.map(function(p){return p})},e.getMaxWidth=function(t,o){return t==null||o==null?0:Math.trunc(Math.abs(t.getX()-o.getX()))},e.getMinWidth=function(t,o){return t==null||o==null?Or.MAX_VALUE:Math.trunc(Math.abs(t.getX()-o.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*So.MODULES_IN_CODEWORD/So.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*So.MODULES_IN_CODEWORD/So.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*So.MODULES_IN_CODEWORD/So.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*So.MODULES_IN_CODEWORD/So.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}(),gce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),C3=function(e){gce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReaderException",t}(Ai),x3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_ce=function(){function e(){}return e.prototype.decode=function(t,o){return this.setHints(o),this.decodeInternal(t)},e.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},e.prototype.setHints=function(t){this.hints=t;var o=t!=null&&t.get(Ea.TRY_HARDER)!==void 0,r=t==null?null:t.get(Ea.POSSIBLE_FORMATS),a=new Array;if(r!=null){var i=r.some(function(n){return n===Gt.UPC_A||n===Gt.UPC_E||n===Gt.EAN_13||n===Gt.EAN_8||n===Gt.CODABAR||n===Gt.CODE_39||n===Gt.CODE_93||n===Gt.CODE_128||n===Gt.ITF||n===Gt.RSS_14||n===Gt.RSS_EXPANDED});i&&!o&&a.push(new Xm(t)),r.includes(Gt.QR_CODE)&&a.push(new lC),r.includes(Gt.DATA_MATRIX)&&a.push(new nC),r.includes(Gt.AZTEC)&&a.push(new rC),r.includes(Gt.PDF_417)&&a.push(new uC),i&&o&&a.push(new Xm(t))}a.length===0&&(o||a.push(new Xm(t)),a.push(new lC),a.push(new nC),a.push(new rC),a.push(new uC),o&&a.push(new Xm(t))),this.readers=a},e.prototype.reset=function(){var t,o;if(this.readers!==null)try{for(var r=x3(this.readers),a=r.next();!a.done;a=r.next()){var i=a.value;i.reset()}}catch(n){t={error:n}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}},e.prototype.decodeInternal=function(t){var o,r;if(this.readers===null)throw new C3("No readers where selected, nothing can be read.");try{for(var a=x3(this.readers),i=a.next();!i.done;i=a.next()){var n=i.value;try{return n.decode(t,this.hints)}catch(s){if(s instanceof C3)continue}}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}throw new Xe("No MultiFormat Readers were able to detect the code.")},e}(),bce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),yce=function(e){bce(t,e);function t(o,r){o===void 0&&(o=null),r===void 0&&(r=500);var a=this,i=new _ce;return i.setHints(o),a=e.call(this,i,r)||this,a}return t.prototype.decodeBitmap=function(o){return this.reader.decodeWithState(o)},t}(Xf),Cce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){Cce(t,e);function t(o){return o===void 0&&(o=500),e.call(this,new uC,o)||this}return t})(Xf);var xce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){xce(t,e);function t(o){return o===void 0&&(o=500),e.call(this,new lC,o)||this}return t})(Xf);var dC;(function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"})(dC||(dC={}));var ac=dC,wce=function(){function e(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new lc(t,Int32Array.from([1])))}return e.prototype.buildGenerator=function(t){var o=this.cachedGenerators;if(t>=o.length)for(var r=o[o.length-1],a=this.field,i=o.length;i<=t;i++){var n=r.multiply(new lc(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));o.push(n),r=n}return o[t]},e.prototype.encode=function(t,o){if(o===0)throw new Wt("No error correction bytes");var r=t.length-o;if(r<=0)throw new Wt("No data bytes provided");var a=this.buildGenerator(o),i=new Int32Array(r);aa.arraycopy(t,0,i,0,r);var n=new lc(this.field,i);n=n.multiplyByMonomial(o,1);for(var s=n.divide(a)[1],l=s.getCoefficients(),u=o-l.length,c=0;c<u;c++)t[r+c]=0;aa.arraycopy(l,0,t,r+u,l.length)},e}(),Km=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var o=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),n=0;n<i-1;n++)for(var s=r[n],l=0;l<a-1;l++){var u=s[l];u===s[l+1]&&u===r[n+1][l]&&u===r[n+1][l+1]&&o++}return e.N2*o},e.applyMaskPenaltyRule3=function(t){for(var o=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),n=0;n<i;n++)for(var s=0;s<a;s++){var l=r[n];s+6<a&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(e.isWhiteHorizontal(l,s-4,s)||e.isWhiteHorizontal(l,s+7,s+11))&&o++,n+6<i&&r[n][s]===1&&r[n+1][s]===0&&r[n+2][s]===1&&r[n+3][s]===1&&r[n+4][s]===1&&r[n+5][s]===0&&r[n+6][s]===1&&(e.isWhiteVertical(r,s,n-4,n)||e.isWhiteVertical(r,s,n+7,n+11))&&o++}return o*e.N3},e.isWhiteHorizontal=function(t,o,r){o=Math.max(o,0),r=Math.min(r,t.length);for(var a=o;a<r;a++)if(t[a]===1)return!1;return!0},e.isWhiteVertical=function(t,o,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(var i=r;i<a;i++)if(t[i][o]===1)return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var o=0,r=t.getArray(),a=t.getWidth(),i=t.getHeight(),n=0;n<i;n++)for(var s=r[n],l=0;l<a;l++)s[l]===1&&o++;var u=t.getHeight()*t.getWidth(),c=Math.floor(Math.abs(o*2-u)*10/u);return c*e.N4},e.getDataMaskBit=function(t,o,r){var a,i;switch(t){case 0:a=r+o&1;break;case 1:a=r&1;break;case 2:a=o%3;break;case 3:a=(r+o)%3;break;case 4:a=Math.floor(r/2)+Math.floor(o/3)&1;break;case 5:i=r*o,a=(i&1)+i%3;break;case 6:i=r*o,a=(i&1)+i%3&1;break;case 7:i=r*o,a=i%3+(r+o&1)&1;break;default:throw new Wt("Invalid mask pattern: "+t)}return a===0},e.applyMaskPenaltyRule1Internal=function(t,o){for(var r=0,a=o?t.getHeight():t.getWidth(),i=o?t.getWidth():t.getHeight(),n=t.getArray(),s=0;s<a;s++){for(var l=0,u=-1,c=0;c<i;c++){var d=o?n[s][c]:n[c][s];d===u?l++:(l>=5&&(r+=e.N1+(l-5)),l=1,u=d)}l>=5&&(r+=e.N1+(l-5))}return r},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}(),Ice=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ece=function(){function e(t,o){this.width=t,this.height=o;for(var r=new Array(o),a=0;a!==o;a++)r[a]=new Uint8Array(t);this.bytes=r}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(t,o){return this.bytes[o][t]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(t,o,r){this.bytes[o][t]=r},e.prototype.setBoolean=function(t,o,r){this.bytes[o][t]=r?1:0},e.prototype.clear=function(t){var o,r;try{for(var a=Ice(this.bytes),i=a.next();!i.done;i=a.next()){var n=i.value;Ii.fill(n,t)}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;if(this.width!==o.width||this.height!==o.height)return!1;for(var r=0,a=this.height;r<a;++r)for(var i=this.bytes[r],n=o.bytes[r],s=0,l=this.width;s<l;++s)if(i[s]!==n[s])return!1;return!0},e.prototype.toString=function(){for(var t=new Ko,o=0,r=this.height;o<r;++o){for(var a=this.bytes[o],i=0,n=this.width;i<n;++i)switch(a[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},e}(),fC=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var t=new Ko;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},e.prototype.setMode=function(t){this.mode=t},e.prototype.setECLevel=function(t){this.ecLevel=t},e.prototype.setVersion=function(t){this.version=t},e.prototype.setMaskPattern=function(t){this.maskPattern=t},e.prototype.setMatrix=function(t){this.matrix=t},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}(),Sce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),sa=function(e){Sce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="WriterException",t}(Ai),w3=function(){function e(){}return e.clearMatrix=function(t){t.clear(255)},e.buildMatrix=function(t,o,r,a,i){e.clearMatrix(i),e.embedBasicPatterns(r,i),e.embedTypeInfo(o,a,i),e.maybeEmbedVersionInfo(r,i),e.embedDataBits(t,a,i)},e.embedBasicPatterns=function(t,o){e.embedPositionDetectionPatternsAndSeparators(o),e.embedDarkDotAtLeftBottomCorner(o),e.maybeEmbedPositionAdjustmentPatterns(t,o),e.embedTimingPatterns(o)},e.embedTypeInfo=function(t,o,r){var a=new yi;e.makeTypeInfoBits(t,o,a);for(var i=0,n=a.getSize();i<n;++i){var s=a.get(a.getSize()-1-i),l=e.TYPE_INFO_COORDINATES[i],u=l[0],c=l[1];if(r.setBoolean(u,c,s),i<8){var d=r.getWidth()-i-1,m=8;r.setBoolean(d,m,s)}else{var d=8,m=r.getHeight()-7+(i-8);r.setBoolean(d,m,s)}}},e.maybeEmbedVersionInfo=function(t,o){if(!(t.getVersionNumber()<7)){var r=new yi;e.makeVersionInfoBits(t,r);for(var a=6*3-1,i=0;i<6;++i)for(var n=0;n<3;++n){var s=r.get(a);a--,o.setBoolean(i,o.getHeight()-11+n,s),o.setBoolean(o.getHeight()-11+n,i,s)}}},e.embedDataBits=function(t,o,r){for(var a=0,i=-1,n=r.getWidth()-1,s=r.getHeight()-1;n>0;){for(n===6&&(n-=1);s>=0&&s<r.getHeight();){for(var l=0;l<2;++l){var u=n-l;if(!!e.isEmpty(r.get(u,s))){var c=void 0;a<t.getSize()?(c=t.get(a),++a):c=!1,o!==255&&Km.getDataMaskBit(o,u,s)&&(c=!c),r.setBoolean(u,s,c)}}s+=i}i=-i,s+=i,n-=2}if(a!==t.getSize())throw new sa("Not all bits consumed: "+a+"/"+t.getSize())},e.findMSBSet=function(t){return 32-Or.numberOfLeadingZeros(t)},e.calculateBCHCode=function(t,o){if(o===0)throw new Wt("0 polynomial");var r=e.findMSBSet(o);for(t<<=r-1;e.findMSBSet(t)>=r;)t^=o<<e.findMSBSet(t)-r;return t},e.makeTypeInfoBits=function(t,o,r){if(!fC.isValidMaskPattern(o))throw new sa("Invalid mask pattern");var a=t.getBits()<<3|o;r.appendBits(a,5);var i=e.calculateBCHCode(a,e.TYPE_INFO_POLY);r.appendBits(i,10);var n=new yi;if(n.appendBits(e.TYPE_INFO_MASK_PATTERN,15),r.xor(n),r.getSize()!==15)throw new sa("should not happen but we got: "+r.getSize())},e.makeVersionInfoBits=function(t,o){o.appendBits(t.getVersionNumber(),6);var r=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(o.appendBits(r,12),o.getSize()!==18)throw new sa("should not happen but we got: "+o.getSize())},e.isEmpty=function(t){return t===255},e.embedTimingPatterns=function(t){for(var o=8;o<t.getWidth()-8;++o){var r=(o+1)%2;e.isEmpty(t.get(o,6))&&t.setNumber(o,6,r),e.isEmpty(t.get(6,o))&&t.setNumber(6,o,r)}},e.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new sa;t.setNumber(8,t.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,o,r){for(var a=0;a<8;++a){if(!e.isEmpty(r.get(t+a,o)))throw new sa;r.setNumber(t+a,o,0)}},e.embedVerticalSeparationPattern=function(t,o,r){for(var a=0;a<7;++a){if(!e.isEmpty(r.get(t,o+a)))throw new sa;r.setNumber(t,o+a,0)}},e.embedPositionAdjustmentPattern=function(t,o,r){for(var a=0;a<5;++a)for(var i=e.POSITION_ADJUSTMENT_PATTERN[a],n=0;n<5;++n)r.setNumber(t+n,o+a,i[n])},e.embedPositionDetectionPattern=function(t,o,r){for(var a=0;a<7;++a)for(var i=e.POSITION_DETECTION_PATTERN[a],n=0;n<7;++n)r.setNumber(t+n,o+a,i[n])},e.embedPositionDetectionPatternsAndSeparators=function(t){var o=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-o,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-o,t);var r=8;e.embedHorizontalSeparationPattern(0,r-1,t),e.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);var a=7;e.embedVerticalSeparationPattern(a,0,t),e.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),e.embedVerticalSeparationPattern(a,t.getHeight()-a,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,o){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,a=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,n=a.length;i!==n;i++){var s=a[i];if(s>=0)for(var l=0;l!==n;l++){var u=a[l];u>=0&&e.isEmpty(o.get(u,s))&&e.embedPositionAdjustmentPattern(u-2,s-2,o)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}(),Ace=function(){function e(t,o){this.dataBytes=t,this.errorCorrectionBytes=o}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}(),I3=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tce=function(){function e(){}return e.calculateMaskPenalty=function(t){return Km.applyMaskPenaltyRule1(t)+Km.applyMaskPenaltyRule2(t)+Km.applyMaskPenaltyRule3(t)+Km.applyMaskPenaltyRule4(t)},e.encode=function(t,o,r){r===void 0&&(r=null);var a=e.DEFAULT_BYTE_MODE_ENCODING,i=r!==null&&r.get(ac.CHARACTER_SET)!==void 0;i&&(a=r.get(ac.CHARACTER_SET).toString());var n=this.chooseMode(t,a),s=new yi;if(n===la.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==a)){var l=lr.getCharacterSetECIByName(a);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(n,s);var u=new yi;this.appendBytes(t,n,u,a);var c;if(r!==null&&r.get(ac.QR_VERSION)!==void 0){var d=Number.parseInt(r.get(ac.QR_VERSION).toString(),10);c=Cu.getVersionForNumber(d);var m=this.calculateBitsNeeded(n,s,u,c);if(!this.willFit(m,c,o))throw new sa("Data too big for requested version")}else c=this.recommendVersion(o,n,s,u);var f=new yi;f.appendBitArray(s);var p=n===la.BYTE?u.getSizeInBytes():t.length;this.appendLengthInfo(p,c,n,f),f.appendBitArray(u);var g=c.getECBlocksForLevel(o),b=c.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(b,f);var x=this.interleaveWithECBytes(f,c.getTotalCodewords(),b,g.getNumBlocks()),_=new fC;_.setECLevel(o),_.setMode(n),_.setVersion(c);var y=c.getDimensionForVersion(),I=new Ece(y,y),S=this.chooseMaskPattern(x,o,c,I);return _.setMaskPattern(S),w3.buildMatrix(x,o,c,S,I),_.setMatrix(I),_},e.recommendVersion=function(t,o,r,a){var i=this.calculateBitsNeeded(o,r,a,Cu.getVersionForNumber(1)),n=this.chooseVersion(i,t),s=this.calculateBitsNeeded(o,r,a,n);return this.chooseVersion(s,t)},e.calculateBitsNeeded=function(t,o,r,a){return o.getSize()+t.getCharacterCountBits(a)+r.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,o){if(o===void 0&&(o=null),lr.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(t))return la.KANJI;for(var r=!1,a=!1,i=0,n=t.length;i<n;++i){var s=t.charAt(i);if(e.isDigit(s))r=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)a=!0;else return la.BYTE}return a?la.ALPHANUMERIC:r?la.NUMERIC:la.BYTE},e.isOnlyDoubleByteKanji=function(t){var o;try{o=bs.encode(t,lr.SJIS)}catch{return!1}var r=o.length;if(r%2!==0)return!1;for(var a=0;a<r;a+=2){var i=o[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(t,o,r,a){for(var i=Number.MAX_SAFE_INTEGER,n=-1,s=0;s<fC.NUM_MASK_PATTERNS;s++){w3.buildMatrix(t,o,r,s,a);var l=this.calculateMaskPenalty(a);l<i&&(i=l,n=s)}return n},e.chooseVersion=function(t,o){for(var r=1;r<=40;r++){var a=Cu.getVersionForNumber(r);if(e.willFit(t,a,o))return a}throw new sa("Data too big")},e.willFit=function(t,o,r){var a=o.getTotalCodewords(),i=o.getECBlocksForLevel(r),n=i.getTotalECCodewords(),s=a-n,l=(t+7)/8;return s>=l},e.terminateBits=function(t,o){var r=t*8;if(o.getSize()>r)throw new sa("data bits cannot fit in the QR Code"+o.getSize()+" > "+r);for(var a=0;a<4&&o.getSize()<r;++a)o.appendBit(!1);var i=o.getSize()&7;if(i>0)for(var a=i;a<8;a++)o.appendBit(!1);for(var n=t-o.getSizeInBytes(),a=0;a<n;++a)o.appendBits((a&1)===0?236:17,8);if(o.getSize()!==r)throw new sa("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(t,o,r,a,i,n){if(a>=r)throw new sa("Block ID too large");var s=t%r,l=r-s,u=Math.floor(t/r),c=u+1,d=Math.floor(o/r),m=d+1,f=u-d,p=c-m;if(f!==p)throw new sa("EC bytes mismatch");if(r!==l+s)throw new sa("RS blocks mismatch");if(t!==(d+f)*l+(m+p)*s)throw new sa("Total bytes mismatch");a<l?(i[0]=d,n[0]=f):(i[0]=m,n[0]=p)},e.interleaveWithECBytes=function(t,o,r,a){var i,n,s,l;if(t.getSizeInBytes()!==r)throw new sa("Number of bits and data bytes does not match");for(var u=0,c=0,d=0,m=new Array,f=0;f<a;++f){var p=new Int32Array(1),g=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(o,r,a,f,p,g);var b=p[0],x=new Uint8Array(b);t.toBytes(8*u,x,0,b);var _=e.generateECBytes(x,g[0]);m.push(new Ace(x,_)),c=Math.max(c,b),d=Math.max(d,_.length),u+=p[0]}if(r!==u)throw new sa("Data bytes does not match offset");for(var y=new yi,f=0;f<c;++f)try{for(var I=(i=void 0,I3(m)),S=I.next();!S.done;S=I.next()){var O=S.value,x=O.getDataBytes();f<x.length&&y.appendBits(x[f],8)}}catch(D){i={error:D}}finally{try{S&&!S.done&&(n=I.return)&&n.call(I)}finally{if(i)throw i.error}}for(var f=0;f<d;++f)try{for(var F=(s=void 0,I3(m)),M=F.next();!M.done;M=F.next()){var O=M.value,_=O.getErrorCorrectionBytes();f<_.length&&y.appendBits(_[f],8)}}catch(D){s={error:D}}finally{try{M&&!M.done&&(l=F.return)&&l.call(F)}finally{if(s)throw s.error}}if(o!==y.getSizeInBytes())throw new sa("Interleaving error: "+o+" and "+y.getSizeInBytes()+" differ.");return y},e.generateECBytes=function(t,o){for(var r=t.length,a=new Int32Array(r+o),i=0;i<r;i++)a[i]=t[i]&255;new wce(Js.QR_CODE_FIELD_256).encode(a,o);for(var n=new Uint8Array(o),i=0;i<o;i++)n[i]=a[r+i];return n},e.appendModeInfo=function(t,o){o.appendBits(t.getBits(),4)},e.appendLengthInfo=function(t,o,r,a){var i=r.getCharacterCountBits(o);if(t>=1<<i)throw new sa(t+" is bigger than "+((1<<i)-1));a.appendBits(t,i)},e.appendBytes=function(t,o,r,a){switch(o){case la.NUMERIC:e.appendNumericBytes(t,r);break;case la.ALPHANUMERIC:e.appendAlphanumericBytes(t,r);break;case la.BYTE:e.append8BitBytes(t,r,a);break;case la.KANJI:e.appendKanjiBytes(t,r);break;default:throw new sa("Invalid mode: "+o)}},e.getDigit=function(t){return t.charCodeAt(0)-48},e.isDigit=function(t){var o=e.getDigit(t);return o>=0&&o<=9},e.appendNumericBytes=function(t,o){for(var r=t.length,a=0;a<r;){var i=e.getDigit(t.charAt(a));if(a+2<r){var n=e.getDigit(t.charAt(a+1)),s=e.getDigit(t.charAt(a+2));o.appendBits(i*100+n*10+s,10),a+=3}else if(a+1<r){var n=e.getDigit(t.charAt(a+1));o.appendBits(i*10+n,7),a+=2}else o.appendBits(i,4),a++}},e.appendAlphanumericBytes=function(t,o){for(var r=t.length,a=0;a<r;){var i=e.getAlphanumericCode(t.charCodeAt(a));if(i===-1)throw new sa;if(a+1<r){var n=e.getAlphanumericCode(t.charCodeAt(a+1));if(n===-1)throw new sa;o.appendBits(i*45+n,11),a+=2}else o.appendBits(i,6),a++}},e.append8BitBytes=function(t,o,r){var a;try{a=bs.encode(t,r)}catch(l){throw new sa(l)}for(var i=0,n=a.length;i!==n;i++){var s=a[i];o.appendBits(s,8)}},e.appendKanjiBytes=function(t,o){var r;try{r=bs.encode(t,lr.SJIS)}catch(d){throw new sa(d)}for(var a=r.length,i=0;i<a;i+=2){var n=r[i]&255,s=r[i+1]&255,l=n<<8&4294967295|s,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new sa("Invalid byte sequence");var c=(u>>8)*192+(u&255);o.appendBits(c,13)}},e.appendECI=function(t,o){o.appendBits(la.ECI.getBits(),4),o.appendBits(t.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=lr.UTF8.getName(),e}(),GM=function(){function e(){}return e.prototype.write=function(t,o,r,a){if(a===void 0&&(a=null),t.length===0)throw new Wt("Found empty contents");if(o<0||r<0)throw new Wt("Requested dimensions are too small: "+o+"x"+r);var i=sC.L,n=e.QUIET_ZONE_SIZE;a!==null&&(a.get(ac.ERROR_CORRECTION)!==void 0&&(i=sC.fromString(a.get(ac.ERROR_CORRECTION).toString())),a.get(ac.MARGIN)!==void 0&&(n=Number.parseInt(a.get(ac.MARGIN).toString(),10)));var s=Tce.encode(t,i,a);return this.renderResult(s,o,r,n)},e.prototype.writeToDom=function(t,o,r,a,i){i===void 0&&(i=null),typeof t=="string"&&(t=document.querySelector(t));var n=this.write(o,r,a,i);t&&t.appendChild(n)},e.prototype.renderResult=function(t,o,r,a){var i=t.getMatrix();if(i===null)throw new Yf;for(var n=i.getWidth(),s=i.getHeight(),l=n+a*2,u=s+a*2,c=Math.max(o,l),d=Math.max(r,u),m=Math.min(Math.floor(c/l),Math.floor(d/u)),f=Math.floor((c-n*m)/2),p=Math.floor((d-s*m)/2),g=this.createSVGElement(c,d),b=0,x=p;b<s;b++,x+=m)for(var _=0,y=f;_<n;_++,y+=m)if(i.get(_,b)===1){var I=this.createSvgRectElement(y,x,m,m);g.appendChild(I)}return g},e.prototype.createSVGElement=function(t,o){var r=document.createElementNS(e.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",o.toString()),r},e.prototype.createSvgRectElement=function(t,o,r,a){var i=document.createElementNS(e.SVG_NS,"rect");return i.setAttributeNS(null,"x",t.toString()),i.setAttributeNS(null,"y",o.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",a.toString()),i.setAttributeNS(null,"fill","#000000"),i},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg",e}(),Oce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){Oce(t,e);function t(o,r,a,i,n,s,l,u){var c=e.call(this,s,l)||this;if(c.yuvData=o,c.dataWidth=r,c.dataHeight=a,c.left=i,c.top=n,i+s>r||n+l>a)throw new Wt("Crop rectangle does not fit within image data.");return u&&c.reverseHorizontal(s,l),c}return t.prototype.getRow=function(o,r){if(o<0||o>=this.getHeight())throw new Wt("Requested row is outside the image: "+o);var a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));var i=(o+this.top)*this.dataWidth+this.left;return aa.arraycopy(this.yuvData,i,r,0,a),r},t.prototype.getMatrix=function(){var o=this.getWidth(),r=this.getHeight();if(o===this.dataWidth&&r===this.dataHeight)return this.yuvData;var a=o*r,i=new Uint8ClampedArray(a),n=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return aa.arraycopy(this.yuvData,n,i,0,a),i;for(var s=0;s<r;s++){var l=s*o;aa.arraycopy(this.yuvData,n,i,l,o),n+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(o,r,a,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+r,a,i,!1)},t.prototype.renderThumbnail=function(){for(var o=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(o*r),i=this.yuvData,n=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var l=s*o,u=0;u<o;u++){var c=i[n+u*t.THUMBNAIL_SCALE_FACTOR]&255;a[l+u]=4278190080|c*65793}n+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return a},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(o,r){for(var a=this.yuvData,i=0,n=this.top*this.dataWidth+this.left;i<r;i++,n+=this.dataWidth)for(var s=n+o/2,l=n,u=n+o-1;l<s;l++,u--){var c=a[l];a[l]=a[u],a[u]=c}},t.prototype.invert=function(){return new Zw(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(Gg);var Dce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){Dce(t,e);function t(o,r,a,i,n,s,l){var u=e.call(this,r,a)||this;if(u.dataWidth=i,u.dataHeight=n,u.left=s,u.top=l,o.BYTES_PER_ELEMENT===4){for(var c=r*a,d=new Uint8ClampedArray(c),m=0;m<c;m++){var f=o[m],p=f>>16&255,g=f>>7&510,b=f&255;d[m]=(p+g+b)/4&255}u.luminances=d}else u.luminances=o;if(i===void 0&&(u.dataWidth=r),n===void 0&&(u.dataHeight=a),s===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+r>u.dataWidth||u.top+a>u.dataHeight)throw new Wt("Crop rectangle does not fit within image data.");return u}return t.prototype.getRow=function(o,r){if(o<0||o>=this.getHeight())throw new Wt("Requested row is outside the image: "+o);var a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));var i=(o+this.top)*this.dataWidth+this.left;return aa.arraycopy(this.luminances,i,r,0,a),r},t.prototype.getMatrix=function(){var o=this.getWidth(),r=this.getHeight();if(o===this.dataWidth&&r===this.dataHeight)return this.luminances;var a=o*r,i=new Uint8ClampedArray(a),n=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return aa.arraycopy(this.luminances,n,i,0,a),i;for(var s=0;s<r;s++){var l=s*o;aa.arraycopy(this.luminances,n,i,l,o),n+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(o,r,a,i){return new t(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+o,this.top+r)},t.prototype.invert=function(){return new Zw(this)},t})(Gg);var Pce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){Pce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.forName=function(o){return this.getCharacterSetECIByName(o)},t})(lr);(function(){function e(){}return e.ISO_8859_1=lr.ISO8859_1,e})();var Mce=function(){function e(t){this.previous=t}return e.prototype.getPrevious=function(){return this.previous},e}(),Nce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}(),WM=function(e){Nce(t,e);function t(o,r,a){var i=e.call(this,o)||this;return i.value=r,i.bitCount=a,i}return t.prototype.appendTo=function(o,r){o.appendBits(this.value,this.bitCount)},t.prototype.add=function(o,r){return new t(this,o,r)},t.prototype.addBinaryShift=function(o,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,o,r)},t.prototype.toString=function(){var o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+Or.toBinaryString(o|1<<this.bitCount).substring(1)+">"},t}(Mce),Fce=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,o)};return function(t,o){e(t,o);function r(){this.constructor=t}t.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}}();(function(e){Fce(t,e);function t(o,r,a){var i=e.call(this,o,0,0)||this;return i.binaryShiftStart=r,i.binaryShiftByteCount=a,i}return t.prototype.appendTo=function(o,r){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):a===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(r[this.binaryShiftStart+a],8)},t.prototype.addBinaryShift=function(o,r){return new t(this,o,r)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t})(WM);var cp=0,xv=1,zd=2,XM=3,Qm=4;new WM(null,0,0);var Rce=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function kce(e){var t,o;try{for(var r=Rce(e),a=r.next();!a.done;a=r.next()){var i=a.value;Ii.fill(i,-1)}}catch(n){t={error:n}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}return e[cp][Qm]=0,e[xv][Qm]=0,e[xv][cp]=28,e[XM][Qm]=0,e[zd][Qm]=0,e[zd][cp]=15,e}kce(Ii.createInt32Array(6,6));globalThis&&globalThis.__values;function Vce(e){var t=hr.getCharCode(" "),o=hr.getCharCode("."),r=hr.getCharCode(",");e[cp][t]=1;for(var a=hr.getCharCode("Z"),i=hr.getCharCode("A"),n=i;n<=a;n++)e[cp][n]=n-i+2;e[xv][t]=1;for(var s=hr.getCharCode("z"),l=hr.getCharCode("a"),n=l;n<=s;n++)e[xv][n]=n-l+2;e[zd][t]=1;for(var u=hr.getCharCode("9"),c=hr.getCharCode("0"),n=c;n<=u;n++)e[zd][n]=n-c+2;e[zd][r]=12,e[zd][o]=13;for(var d=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"],m=0;m<d.length;m++)e[XM][hr.getCharCode(d[m])]=m;for(var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],m=0;m<f.length;m++)hr.getCharCode(f[m])>0&&(e[Qm][hr.getCharCode(f[m])]=m);return e}Vce(Ii.createInt32Array(5,256));globalThis&&globalThis.__values;globalThis&&globalThis.__values;function rI(e){throw e}function YM(e){}function ya(e,t,o,r){const a=e,i=new SyntaxError(String(a));return i.code=e,i.loc=t,i}const $p=Symbol(""),up=Symbol(""),iI=Symbol(""),wv=Symbol(""),KM=Symbol(""),Fu=Symbol(""),QM=Symbol(""),JM=Symbol(""),nI=Symbol(""),sI=Symbol(""),b0=Symbol(""),lI=Symbol(""),ZM=Symbol(""),cI=Symbol(""),Iv=Symbol(""),uI=Symbol(""),dI=Symbol(""),fI=Symbol(""),mI=Symbol(""),eN=Symbol(""),tN=Symbol(""),Yg=Symbol(""),Ev=Symbol(""),pI=Symbol(""),hI=Symbol(""),Up=Symbol(""),y0=Symbol(""),vI=Symbol(""),mC=Symbol(""),qce=Symbol(""),pC=Symbol(""),Sv=Symbol(""),Bce=Symbol(""),Lce=Symbol(""),gI=Symbol(""),$ce=Symbol(""),Uce=Symbol(""),_I=Symbol(""),oN=Symbol(""),Cf={[$p]:"Fragment",[up]:"Teleport",[iI]:"Suspense",[wv]:"KeepAlive",[KM]:"BaseTransition",[Fu]:"openBlock",[QM]:"createBlock",[JM]:"createElementBlock",[nI]:"createVNode",[sI]:"createElementVNode",[b0]:"createCommentVNode",[lI]:"createTextVNode",[ZM]:"createStaticVNode",[cI]:"resolveComponent",[Iv]:"resolveDynamicComponent",[uI]:"resolveDirective",[dI]:"resolveFilter",[fI]:"withDirectives",[mI]:"renderList",[eN]:"renderSlot",[tN]:"createSlots",[Yg]:"toDisplayString",[Ev]:"mergeProps",[pI]:"normalizeClass",[hI]:"normalizeStyle",[Up]:"normalizeProps",[y0]:"guardReactiveProps",[vI]:"toHandlers",[mC]:"camelize",[qce]:"capitalize",[pC]:"toHandlerKey",[Sv]:"setBlockTracking",[Bce]:"pushScopeId",[Lce]:"popScopeId",[gI]:"withCtx",[$ce]:"unref",[Uce]:"isRef",[_I]:"withMemo",[oN]:"isMemoSame"};function zce(e){Object.getOwnPropertySymbols(e).forEach(t=>{Cf[t]=e[t]})}const rn={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Hce(e,t=rn){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function zp(e,t,o,r,a,i,n,s=!1,l=!1,u=!1,c=rn){return e&&(s?(e.helper(Fu),e.helper(If(e.inSSR,u))):e.helper(wf(e.inSSR,u)),n&&e.helper(fI)),{type:13,tag:t,props:o,children:r,patchFlag:a,dynamicProps:i,directives:n,isBlock:s,disableTracking:l,isComponent:u,loc:c}}function C0(e,t=rn){return{type:17,loc:t,elements:e}}function xn(e,t=rn){return{type:15,loc:t,properties:e}}function Ma(e,t){return{type:16,loc:rn,key:io(e)?uo(e,!0):e,value:t}}function uo(e,t=!1,o=rn,r=0){return{type:4,loc:o,content:e,isStatic:t,constType:t?3:r}}function Yn(e,t=rn){return{type:8,loc:t,children:e}}function Ya(e,t=[],o=rn){return{type:14,loc:o,callee:e,arguments:t}}function xf(e,t=void 0,o=!1,r=!1,a=rn){return{type:18,params:e,returns:t,newline:o,isSlot:r,loc:a}}function hC(e,t,o,r=!0){return{type:19,test:e,consequent:t,alternate:o,newline:r,loc:rn}}function jce(e,t,o=!1){return{type:20,index:e,value:t,isVNode:o,loc:rn}}function Gce(e){return{type:21,body:e,loc:rn}}function wf(e,t){return e||t?nI:sI}function If(e,t){return e||t?QM:JM}function bI(e,{helper:t,removeHelper:o,inSSR:r}){e.isBlock||(e.isBlock=!0,o(wf(r,e.isComponent)),t(Fu),t(If(r,e.isComponent)))}const Ci=e=>e.type===4&&e.isStatic,Hd=(e,t)=>e===t||e===Gi(t);function aN(e){if(Hd(e,"Teleport"))return up;if(Hd(e,"Suspense"))return iI;if(Hd(e,"KeepAlive"))return wv;if(Hd(e,"BaseTransition"))return KM}const Wce=/^\d|[^\$\w]/,yI=e=>!Wce.test(e),Xce=/[A-Za-z_$\xA0-\uFFFF]/,Yce=/[\.\?\w$\xA0-\uFFFF]/,Kce=/\s+[.[]\s*|\s*[.[]\s+/g,Qce=e=>{e=e.trim().replace(Kce,n=>n.trim());let t=0,o=[],r=0,a=0,i=null;for(let n=0;n<e.length;n++){const s=e.charAt(n);switch(t){case 0:if(s==="[")o.push(t),t=1,r++;else if(s==="(")o.push(t),t=2,a++;else if(!(n===0?Xce:Yce).test(s))return!1;break;case 1:s==="'"||s==='"'||s==="`"?(o.push(t),t=3,i=s):s==="["?r++:s==="]"&&(--r||(t=o.pop()));break;case 2:if(s==="'"||s==='"'||s==="`")o.push(t),t=3,i=s;else if(s==="(")a++;else if(s===")"){if(n===e.length-1)return!1;--a||(t=o.pop())}break;case 3:s===i&&(t=o.pop(),i=null);break}}return!r&&!a},rN=Qce;function iN(e,t,o){const a={source:e.source.slice(t,t+o),start:Av(e.start,e.source,t),end:e.end};return o!=null&&(a.end=Av(e.start,e.source,t+o)),a}function Av(e,t,o=t.length){return Tv(To({},e),t,o)}function Tv(e,t,o=t.length){let r=0,a=-1;for(let i=0;i<o;i++)t.charCodeAt(i)===10&&(r++,a=i);return e.offset+=o,e.line+=r,e.column=a===-1?e.column+o:o-a,e}function bn(e,t,o=!1){for(let r=0;r<e.props.length;r++){const a=e.props[r];if(a.type===7&&(o||a.exp)&&(io(t)?a.name===t:t.test(a.name)))return a}}function Kg(e,t,o=!1,r=!1){for(let a=0;a<e.props.length;a++){const i=e.props[a];if(i.type===6){if(o)continue;if(i.name===t&&(i.value||r))return i}else if(i.name==="bind"&&(i.exp||r)&&cu(i.arg,t))return i}}function cu(e,t){return!!(e&&Ci(e)&&e.content===t)}function Jce(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function h2(e){return e.type===5||e.type===2}function Zce(e){return e.type===7&&e.name==="slot"}function Ov(e){return e.type===1&&e.tagType===3}function Dv(e){return e.type===1&&e.tagType===2}const eue=new Set([Up,y0]);function nN(e,t=[]){if(e&&!io(e)&&e.type===14){const o=e.callee;if(!io(o)&&eue.has(o))return nN(e.arguments[0],t.concat(e))}return[e,t]}function Pv(e,t,o){let r,a=e.type===13?e.props:e.arguments[2],i=[],n;if(a&&!io(a)&&a.type===14){const s=nN(a);a=s[0],i=s[1],n=i[i.length-1]}if(a==null||io(a))r=xn([t]);else if(a.type===14){const s=a.arguments[0];!io(s)&&s.type===15?E3(t,s)||s.properties.unshift(t):a.callee===vI?r=Ya(o.helper(Ev),[xn([t]),a]):a.arguments.unshift(xn([t])),!r&&(r=a)}else a.type===15?(E3(t,a)||a.properties.unshift(t),r=a):(r=Ya(o.helper(Ev),[xn([t]),a]),n&&n.callee===y0&&(n=i[i.length-2]));e.type===13?n?n.arguments[0]=r:e.props=r:n?n.arguments[0]=r:e.arguments[2]=r}function E3(e,t){let o=!1;if(e.key.type===4){const r=e.key.content;o=t.properties.some(a=>a.key.type===4&&a.key.content===r)}return o}function Hp(e,t){return`_${t}_${e.replace(/[^\w]/g,(o,r)=>o==="-"?"_":e.charCodeAt(r).toString())}`}function tue(e){return e.type===14&&e.callee===_I?e.arguments[1].returns:e}const oue=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/;function S3(e,t){const o=t.options?t.options.compatConfig:t.compatConfig,r=o&&o[e];return e==="MODE"?r||3:r}function xu(e,t){const o=S3("MODE",t),r=S3(e,t);return o===3?r===!0:r!==!1}function jp(e,t,o,...r){return xu(e,t)}const aue=/&(gt|lt|amp|apos|quot);/g,rue={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},A3={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:_1,isPreTag:_1,isCustomElement:_1,decodeEntities:e=>e.replace(aue,(t,o)=>rue[o]),onError:rI,onWarn:YM,comments:!1};function iue(e,t={}){const o=nue(e,t),r=Ji(o);return Hce(CI(o,0,[]),Sn(o,r))}function nue(e,t){const o=To({},A3);let r;for(r in t)o[r]=t[r]===void 0?A3[r]:t[r];return{options:o,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:o.onWarn}}function CI(e,t,o){const r=Qg(o),a=r?r.ns:0,i=[];for(;!hue(e,t,o);){const s=e.source;let l;if(t===0||t===1){if(!e.inVPre&&zr(s,e.options.delimiters[0]))l=mue(e,t);else if(t===0&&s[0]==="<")if(s.length===1)zo(e,5,1);else if(s[1]==="!")zr(s,"<!--")?l=lue(e):zr(s,"<!DOCTYPE")?l=Pm(e):zr(s,"<![CDATA[")?a!==0?l=sue(e,o):(zo(e,1),l=Pm(e)):(zo(e,11),l=Pm(e));else if(s[1]==="/")if(s.length===2)zo(e,5,2);else if(s[2]===">"){zo(e,14,2),dr(e,3);continue}else if(/[a-z]/i.test(s[2])){zo(e,23),vC(e,1,r);continue}else zo(e,12,2),l=Pm(e);else/[a-z]/i.test(s[1])?(l=cue(e,o),xu("COMPILER_NATIVE_TEMPLATE",e)&&l&&l.tag==="template"&&!l.props.some(u=>u.type===7&&sN(u.name))&&(l=l.children)):s[1]==="?"?(zo(e,21,1),l=Pm(e)):zo(e,12,1)}if(l||(l=pue(e,t)),pt(l))for(let u=0;u<l.length;u++)T3(i,l[u]);else T3(i,l)}let n=!1;if(t!==2&&t!==1){const s=e.options.whitespace!=="preserve";for(let l=0;l<i.length;l++){const u=i[l];if(u.type===2)if(e.inPre)u.content=u.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(u.content))s&&(u.content=u.content.replace(/[\t\r\n\f ]+/g," "));else{const c=i[l-1],d=i[l+1];!c||!d||s&&(c.type===3&&d.type===3||c.type===3&&d.type===1||c.type===1&&d.type===3||c.type===1&&d.type===1&&/[\r\n]/.test(u.content))?(n=!0,i[l]=null):u.content=" "}else u.type===3&&!e.options.comments&&(n=!0,i[l]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const l=i[0];l&&l.type===2&&(l.content=l.content.replace(/^\r?\n/,""))}}return n?i.filter(Boolean):i}function T3(e,t){if(t.type===2){const o=Qg(e);if(o&&o.type===2&&o.loc.end.offset===t.loc.start.offset){o.content+=t.content,o.loc.end=t.loc.end,o.loc.source+=t.loc.source;return}}e.push(t)}function sue(e,t){dr(e,9);const o=CI(e,3,t);return e.source.length===0?zo(e,6):dr(e,3),o}function lue(e){const t=Ji(e);let o;const r=/--(\!)?>/.exec(e.source);if(!r)o=e.source.slice(4),dr(e,e.source.length),zo(e,7);else{r.index<=3&&zo(e,0),r[1]&&zo(e,10),o=e.source.slice(4,r.index);const a=e.source.slice(0,r.index);let i=1,n=0;for(;(n=a.indexOf("<!--",i))!==-1;)dr(e,n-i+1),n+4<a.length&&zo(e,16),i=n+1;dr(e,r.index+r[0].length-i+1)}return{type:3,content:o,loc:Sn(e,t)}}function Pm(e){const t=Ji(e),o=e.source[1]==="?"?1:2;let r;const a=e.source.indexOf(">");return a===-1?(r=e.source.slice(o),dr(e,e.source.length)):(r=e.source.slice(o,a),dr(e,a+1)),{type:3,content:r,loc:Sn(e,t)}}function cue(e,t){const o=e.inPre,r=e.inVPre,a=Qg(t),i=vC(e,0,a),n=e.inPre&&!o,s=e.inVPre&&!r;if(i.isSelfClosing||e.options.isVoidTag(i.tag))return n&&(e.inPre=!1),s&&(e.inVPre=!1),i;t.push(i);const l=e.options.getTextMode(i,a),u=CI(e,l,t);t.pop();{const c=i.props.find(d=>d.type===6&&d.name==="inline-template");if(c&&jp("COMPILER_INLINE_TEMPLATE",e,c.loc)){const d=Sn(e,i.loc.end);c.value={type:2,content:d.source,loc:d}}}if(i.children=u,gC(e.source,i.tag))vC(e,1,a);else if(zo(e,24,0,i.loc.start),e.source.length===0&&i.tag.toLowerCase()==="script"){const c=u[0];c&&zr(c.loc.source,"<!--")&&zo(e,8)}return i.loc=Sn(e,i.loc.start),n&&(e.inPre=!1),s&&(e.inVPre=!1),i}const sN=Ei("if,else,else-if,for,slot");function vC(e,t,o){const r=Ji(e),a=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),i=a[1],n=e.options.getNamespace(i,o);dr(e,a[0].length),Gp(e);const s=Ji(e),l=e.source;e.options.isPreTag(i)&&(e.inPre=!0);let u=O3(e,t);t===0&&!e.inVPre&&u.some(m=>m.type===7&&m.name==="pre")&&(e.inVPre=!0,To(e,s),e.source=l,u=O3(e,t).filter(m=>m.name!=="v-pre"));let c=!1;if(e.source.length===0?zo(e,9):(c=zr(e.source,"/>"),t===1&&c&&zo(e,4),dr(e,c?2:1)),t===1)return;let d=0;return e.inVPre||(i==="slot"?d=2:i==="template"?u.some(m=>m.type===7&&sN(m.name))&&(d=3):uue(i,u,e)&&(d=1)),{type:1,ns:n,tag:i,tagType:d,props:u,isSelfClosing:c,children:[],loc:Sn(e,r),codegenNode:void 0}}function uue(e,t,o){const r=o.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||aN(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let a=0;a<t.length;a++){const i=t[a];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(jp("COMPILER_IS_ON_ELEMENT",o,i.loc))return!0}}else{if(i.name==="is")return!0;if(i.name==="bind"&&cu(i.arg,"is")&&!0&&jp("COMPILER_IS_ON_ELEMENT",o,i.loc))return!0}}}function O3(e,t){const o=[],r=new Set;for(;e.source.length>0&&!zr(e.source,">")&&!zr(e.source,"/>");){if(zr(e.source,"/")){zo(e,22),dr(e,1),Gp(e);continue}t===1&&zo(e,3);const a=due(e,r);a.type===6&&a.value&&a.name==="class"&&(a.value.content=a.value.content.replace(/\s+/g," ").trim()),t===0&&o.push(a),/^[^\t\r\n\f />]/.test(e.source)&&zo(e,15),Gp(e)}return o}function due(e,t){var o;const r=Ji(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&zo(e,2),t.add(i),i[0]==="="&&zo(e,19);{const l=/["'<]/g;let u;for(;u=l.exec(i);)zo(e,17,u.index)}dr(e,i.length);let n;/^[\t\r\n\f ]*=/.test(e.source)&&(Gp(e),dr(e,1),Gp(e),n=fue(e),n||zo(e,13));const s=Sn(e,r);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const l=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let u=zr(i,"."),c=l[1]||(u||zr(i,":")?"bind":zr(i,"@")?"on":"slot"),d;if(l[2]){const f=c==="slot",p=i.lastIndexOf(l[2],i.length-(((o=l[3])==null?void 0:o.length)||0)),g=Sn(e,D3(e,r,p),D3(e,r,p+l[2].length+(f&&l[3]||"").length));let b=l[2],x=!0;b.startsWith("[")?(x=!1,b.endsWith("]")?b=b.slice(1,b.length-1):(zo(e,27),b=b.slice(1))):f&&(b+=l[3]||""),d={type:4,content:b,isStatic:x,constType:x?3:0,loc:g}}if(n&&n.isQuoted){const f=n.loc;f.start.offset++,f.start.column++,f.end=Av(f.start,n.content),f.source=f.source.slice(1,-1)}const m=l[3]?l[3].slice(1).split("."):[];return u&&m.push("prop"),c==="bind"&&d&&m.includes("sync")&&jp("COMPILER_V_BIND_SYNC",e,s,d.loc.source)&&(c="model",m.splice(m.indexOf("sync"),1)),{type:7,name:c,exp:n&&{type:4,content:n.content,isStatic:!1,constType:0,loc:n.loc},arg:d,modifiers:m,loc:s}}return!e.inVPre&&zr(i,"v-")&&zo(e,26),{type:6,name:i,value:n&&{type:2,content:n.content,loc:n.loc},loc:s}}function fue(e){const t=Ji(e);let o;const r=e.source[0],a=r==='"'||r==="'";if(a){dr(e,1);const i=e.source.indexOf(r);i===-1?o=dp(e,e.source.length,4):(o=dp(e,i,4),dr(e,1))}else{const i=/^[^\t\r\n\f >]+/.exec(e.source);if(!i)return;const n=/["'<=`]/g;let s;for(;s=n.exec(i[0]);)zo(e,18,s.index);o=dp(e,i[0].length,4)}return{content:o,isQuoted:a,loc:Sn(e,t)}}function mue(e,t){const[o,r]=e.options.delimiters,a=e.source.indexOf(r,o.length);if(a===-1){zo(e,25);return}const i=Ji(e);dr(e,o.length);const n=Ji(e),s=Ji(e),l=a-o.length,u=e.source.slice(0,l),c=dp(e,l,t),d=c.trim(),m=c.indexOf(d);m>0&&Tv(n,u,m);const f=l-(c.length-d.length-m);return Tv(s,u,f),dr(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:d,loc:Sn(e,n,s)},loc:Sn(e,i)}}function pue(e,t){const o=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let n=0;n<o.length;n++){const s=e.source.indexOf(o[n],1);s!==-1&&r>s&&(r=s)}const a=Ji(e),i=dp(e,r,t);return{type:2,content:i,loc:Sn(e,a)}}function dp(e,t,o){const r=e.source.slice(0,t);return dr(e,t),o===2||o===3||!r.includes("&")?r:e.options.decodeEntities(r,o===4)}function Ji(e){const{column:t,line:o,offset:r}=e;return{column:t,line:o,offset:r}}function Sn(e,t,o){return o=o||Ji(e),{start:t,end:o,source:e.originalSource.slice(t.offset,o.offset)}}function Qg(e){return e[e.length-1]}function zr(e,t){return e.startsWith(t)}function dr(e,t){const{source:o}=e;Tv(e,o,t),e.source=o.slice(t)}function Gp(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&dr(e,t[0].length)}function D3(e,t,o){return Av(t,e.originalSource.slice(t.offset,o),o)}function zo(e,t,o,r=Ji(e)){o&&(r.offset+=o,r.column+=o),e.options.onError(ya(t,{start:r,end:r,source:""}))}function hue(e,t,o){const r=e.source;switch(t){case 0:if(zr(r,"</")){for(let a=o.length-1;a>=0;--a)if(gC(r,o[a].tag))return!0}break;case 1:case 2:{const a=Qg(o);if(a&&gC(r,a.tag))return!0;break}case 3:if(zr(r,"]]>"))return!0;break}return!r}function gC(e,t){return zr(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function vue(e,t){L1(e,t,lN(e,e.children[0]))}function lN(e,t){const{children:o}=e;return o.length===1&&t.type===1&&!Dv(t)}function L1(e,t,o=!1){const{children:r}=e,a=r.length;let i=0;for(let n=0;n<r.length;n++){const s=r[n];if(s.type===1&&s.tagType===0){const l=o?0:wn(s,t);if(l>0){if(l>=2){s.codegenNode.patchFlag=-1+"",s.codegenNode=t.hoist(s.codegenNode),i++;continue}}else{const u=s.codegenNode;if(u.type===13){const c=fN(u);if((!c||c===512||c===1)&&uN(s,t)>=2){const d=dN(s);d&&(u.props=t.hoist(d))}u.dynamicProps&&(u.dynamicProps=t.hoist(u.dynamicProps))}}}if(s.type===1){const l=s.tagType===1;l&&t.scopes.vSlot++,L1(s,t),l&&t.scopes.vSlot--}else if(s.type===11)L1(s,t,s.children.length===1);else if(s.type===9)for(let l=0;l<s.branches.length;l++)L1(s.branches[l],t,s.branches[l].children.length===1)}if(i&&t.transformHoist&&t.transformHoist(r,t,e),i&&i===a&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&pt(e.codegenNode.children)){const n=t.hoist(C0(e.codegenNode.children));t.hmr&&(n.content=`[...${n.content}]`),e.codegenNode.children=n}}function wn(e,t){const{constantCache:o}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=o.get(e);if(r!==void 0)return r;const a=e.codegenNode;if(a.type!==13||a.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(fN(a))return o.set(e,0),0;{let s=3;const l=uN(e,t);if(l===0)return o.set(e,0),0;l<s&&(s=l);for(let u=0;u<e.children.length;u++){const c=wn(e.children[u],t);if(c===0)return o.set(e,0),0;c<s&&(s=c)}if(s>1)for(let u=0;u<e.props.length;u++){const c=e.props[u];if(c.type===7&&c.name==="bind"&&c.exp){const d=wn(c.exp,t);if(d===0)return o.set(e,0),0;d<s&&(s=d)}}if(a.isBlock){for(let u=0;u<e.props.length;u++)if(e.props[u].type===7)return o.set(e,0),0;t.removeHelper(Fu),t.removeHelper(If(t.inSSR,a.isComponent)),a.isBlock=!1,t.helper(wf(t.inSSR,a.isComponent))}return o.set(e,s),s}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return wn(e.content,t);case 4:return e.constType;case 8:let n=3;for(let s=0;s<e.children.length;s++){const l=e.children[s];if(io(l)||Qn(l))continue;const u=wn(l,t);if(u===0)return 0;u<n&&(n=u)}return n;default:return 0}}const gue=new Set([pI,hI,Up,y0]);function cN(e,t){if(e.type===14&&!io(e.callee)&&gue.has(e.callee)){const o=e.arguments[0];if(o.type===4)return wn(o,t);if(o.type===14)return cN(o,t)}return 0}function uN(e,t){let o=3;const r=dN(e);if(r&&r.type===15){const{properties:a}=r;for(let i=0;i<a.length;i++){const{key:n,value:s}=a[i],l=wn(n,t);if(l===0)return l;l<o&&(o=l);let u;if(s.type===4?u=wn(s,t):s.type===14?u=cN(s,t):u=0,u===0)return u;u<o&&(o=u)}}return o}function dN(e){const t=e.codegenNode;if(t.type===13)return t.props}function fN(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function _ue(e,{filename:t="",prefixIdentifiers:o=!1,hoistStatic:r=!1,hmr:a=!1,cacheHandlers:i=!1,nodeTransforms:n=[],directiveTransforms:s={},transformHoist:l=null,isBuiltInComponent:u=ri,isCustomElement:c=ri,expressionPlugins:d=[],scopeId:m=null,slotted:f=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:b="",bindingMetadata:x=Ro,inline:_=!1,isTS:y=!1,onError:I=rI,onWarn:S=YM,compatConfig:O}){const F=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),M={selfName:F&&Bu(Za(F[1])),prefixIdentifiers:o,hoistStatic:r,hmr:a,cacheHandlers:i,nodeTransforms:n,directiveTransforms:s,transformHoist:l,isBuiltInComponent:u,isCustomElement:c,expressionPlugins:d,scopeId:m,slotted:f,ssr:p,inSSR:g,ssrCssVars:b,bindingMetadata:x,inline:_,isTS:y,onError:I,onWarn:S,compatConfig:O,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new WeakMap,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(E){const D=M.helpers.get(E)||0;return M.helpers.set(E,D+1),E},removeHelper(E){const D=M.helpers.get(E);if(D){const P=D-1;P?M.helpers.set(E,P):M.helpers.delete(E)}},helperString(E){return`_${Cf[M.helper(E)]}`},replaceNode(E){M.parent.children[M.childIndex]=M.currentNode=E},removeNode(E){const D=M.parent.children,P=E?D.indexOf(E):M.currentNode?M.childIndex:-1;!E||E===M.currentNode?(M.currentNode=null,M.onNodeRemoved()):M.childIndex>P&&(M.childIndex--,M.onNodeRemoved()),M.parent.children.splice(P,1)},onNodeRemoved:()=>{},addIdentifiers(E){},removeIdentifiers(E){},hoist(E){io(E)&&(E=uo(E)),M.hoists.push(E);const D=uo(`_hoisted_${M.hoists.length}`,!1,E.loc,2);return D.hoisted=E,D},cache(E,D=!1){return jce(M.cached++,E,D)}};return M.filters=new Set,M}function bue(e,t){const o=_ue(e,t);Jg(e,o),t.hoistStatic&&vue(e,o),t.ssr||yue(e,o),e.helpers=new Set([...o.helpers.keys()]),e.components=[...o.components],e.directives=[...o.directives],e.imports=o.imports,e.hoists=o.hoists,e.temps=o.temps,e.cached=o.cached,e.filters=[...o.filters]}function yue(e,t){const{helper:o}=t,{children:r}=e;if(r.length===1){const a=r[0];if(lN(e,a)&&a.codegenNode){const i=a.codegenNode;i.type===13&&bI(i,t),e.codegenNode=i}else e.codegenNode=a}else if(r.length>1){let a=64;e.codegenNode=zp(t,o($p),void 0,e.children,a+"",void 0,void 0,!0,void 0,!1)}}function Cue(e,t){let o=0;const r=()=>{o--};for(;o<e.children.length;o++){const a=e.children[o];io(a)||(t.parent=e,t.childIndex=o,t.onNodeRemoved=r,Jg(a,t))}}function Jg(e,t){t.currentNode=e;const{nodeTransforms:o}=t,r=[];for(let i=0;i<o.length;i++){const n=o[i](e,t);if(n&&(pt(n)?r.push(...n):r.push(n)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(b0);break;case 5:t.ssr||t.helper(Yg);break;case 9:for(let i=0;i<e.branches.length;i++)Jg(e.branches[i],t);break;case 10:case 11:case 1:case 0:Cue(e,t);break}t.currentNode=e;let a=r.length;for(;a--;)r[a]()}function mN(e,t){const o=io(e)?r=>r===e:r=>e.test(r);return(r,a)=>{if(r.type===1){const{props:i}=r;if(r.tagType===3&&i.some(Zce))return;const n=[];for(let s=0;s<i.length;s++){const l=i[s];if(l.type===7&&o(l.name)){i.splice(s,1),s--;const u=t(r,l,a);u&&n.push(u)}}return n}}}const Zg="/*#__PURE__*/",pN=e=>`${Cf[e]}: _${Cf[e]}`;function P3(e,{mode:t="function",prefixIdentifiers:o=t==="module",sourceMap:r=!1,filename:a="template.vue.html",scopeId:i=null,optimizeImports:n=!1,runtimeGlobalName:s="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:c=!1,isTS:d=!1,inSSR:m=!1}){const f={mode:t,prefixIdentifiers:o,sourceMap:r,filename:a,scopeId:i,optimizeImports:n,runtimeGlobalName:s,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:c,isTS:d,inSSR:m,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${Cf[g]}`},push(g,b){f.code+=g},indent(){p(++f.indentLevel)},deindent(g=!1){g?--f.indentLevel:p(--f.indentLevel)},newline(){p(f.indentLevel)}};function p(g){f.push(`
`+"  ".repeat(g))}return f}function xue(e,t={}){const o=P3(e,t);t.onContextCreated&&t.onContextCreated(o);const{mode:r,push:a,prefixIdentifiers:i,indent:n,deindent:s,newline:l,scopeId:u,ssr:c}=o,d=Array.from(e.helpers),m=d.length>0,f=!i&&r!=="module",p=!1,g=p?P3(e,t):o;wue(e,g);const b=c?"ssrRender":"render",_=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(a(`function ${b}(${_}) {`),n(),f&&(a("with (_ctx) {"),n(),m&&(a(`const { ${d.map(pN).join(", ")} } = _Vue`),a(`
`),l())),e.components.length&&(v2(e.components,"component",o),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(v2(e.directives,"directive",o),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),v2(e.filters,"filter",o),l()),e.temps>0){a("let ");for(let y=0;y<e.temps;y++)a(`${y>0?", ":""}_temp${y}`)}return(e.components.length||e.directives.length||e.temps)&&(a(`
`),l()),c||a("return "),e.codegenNode?Gr(e.codegenNode,o):a("null"),f&&(s(),a("}")),s(),a("}"),{ast:e,code:o.code,preamble:p?g.code:"",map:o.map?o.map.toJSON():void 0}}function wue(e,t){const{ssr:o,prefixIdentifiers:r,push:a,newline:i,runtimeModuleName:n,runtimeGlobalName:s,ssrRuntimeModuleName:l}=t,u=s,c=Array.from(e.helpers);if(c.length>0&&(a(`const _Vue = ${u}
`),e.hoists.length)){const d=[nI,sI,b0,lI,ZM].filter(m=>c.includes(m)).map(pN).join(", ");a(`const { ${d} } = _Vue
`)}Iue(e.hoists,t),i(),a("return ")}function v2(e,t,{helper:o,push:r,newline:a,isTS:i}){const n=o(t==="filter"?dI:t==="component"?cI:uI);for(let s=0;s<e.length;s++){let l=e[s];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),r(`const ${Hp(l,t)} = ${n}(${JSON.stringify(l)}${u?", true":""})${i?"!":""}`),s<e.length-1&&a()}}function Iue(e,t){if(!e.length)return;t.pure=!0;const{push:o,newline:r,helper:a,scopeId:i,mode:n}=t;r();for(let s=0;s<e.length;s++){const l=e[s];l&&(o(`const _hoisted_${s+1} = `),Gr(l,t),r())}t.pure=!1}function xI(e,t){const o=e.length>3||!1;t.push("["),o&&t.indent(),x0(e,t,o),o&&t.deindent(),t.push("]")}function x0(e,t,o=!1,r=!0){const{push:a,newline:i}=t;for(let n=0;n<e.length;n++){const s=e[n];io(s)?a(s):pt(s)?xI(s,t):Gr(s,t),n<e.length-1&&(o?(r&&a(","),i()):r&&a(", "))}}function Gr(e,t){if(io(e)){t.push(e);return}if(Qn(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Gr(e.codegenNode,t);break;case 2:Eue(e,t);break;case 4:hN(e,t);break;case 5:Sue(e,t);break;case 12:Gr(e.codegenNode,t);break;case 8:vN(e,t);break;case 3:Tue(e,t);break;case 13:Oue(e,t);break;case 14:Pue(e,t);break;case 15:Mue(e,t);break;case 17:Nue(e,t);break;case 18:Fue(e,t);break;case 19:Rue(e,t);break;case 20:kue(e,t);break;case 21:x0(e.body,t,!0,!1);break}}function Eue(e,t){t.push(JSON.stringify(e.content),e)}function hN(e,t){const{content:o,isStatic:r}=e;t.push(r?JSON.stringify(o):o,e)}function Sue(e,t){const{push:o,helper:r,pure:a}=t;a&&o(Zg),o(`${r(Yg)}(`),Gr(e.content,t),o(")")}function vN(e,t){for(let o=0;o<e.children.length;o++){const r=e.children[o];io(r)?t.push(r):Gr(r,t)}}function Aue(e,t){const{push:o}=t;if(e.type===8)o("["),vN(e,t),o("]");else if(e.isStatic){const r=yI(e.content)?e.content:JSON.stringify(e.content);o(r,e)}else o(`[${e.content}]`,e)}function Tue(e,t){const{push:o,helper:r,pure:a}=t;a&&o(Zg),o(`${r(b0)}(${JSON.stringify(e.content)})`,e)}function Oue(e,t){const{push:o,helper:r,pure:a}=t,{tag:i,props:n,children:s,patchFlag:l,dynamicProps:u,directives:c,isBlock:d,disableTracking:m,isComponent:f}=e;c&&o(r(fI)+"("),d&&o(`(${r(Fu)}(${m?"true":""}), `),a&&o(Zg);const p=d?If(t.inSSR,f):wf(t.inSSR,f);o(r(p)+"(",e),x0(Due([i,n,s,l,u]),t),o(")"),d&&o(")"),c&&(o(", "),Gr(c,t),o(")"))}function Due(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(o=>o||"null")}function Pue(e,t){const{push:o,helper:r,pure:a}=t,i=io(e.callee)?e.callee:r(e.callee);a&&o(Zg),o(i+"(",e),x0(e.arguments,t),o(")")}function Mue(e,t){const{push:o,indent:r,deindent:a,newline:i}=t,{properties:n}=e;if(!n.length){o("{}",e);return}const s=n.length>1||!1;o(s?"{":"{ "),s&&r();for(let l=0;l<n.length;l++){const{key:u,value:c}=n[l];Aue(u,t),o(": "),Gr(c,t),l<n.length-1&&(o(","),i())}s&&a(),o(s?"}":" }")}function Nue(e,t){xI(e.elements,t)}function Fue(e,t){const{push:o,indent:r,deindent:a}=t,{params:i,returns:n,body:s,newline:l,isSlot:u}=e;u&&o(`_${Cf[gI]}(`),o("(",e),pt(i)?x0(i,t):i&&Gr(i,t),o(") => "),(l||s)&&(o("{"),r()),n?(l&&o("return "),pt(n)?xI(n,t):Gr(n,t)):s&&Gr(s,t),(l||s)&&(a(),o("}")),u&&(e.isNonScopedSlot&&o(", undefined, true"),o(")"))}function Rue(e,t){const{test:o,consequent:r,alternate:a,newline:i}=e,{push:n,indent:s,deindent:l,newline:u}=t;if(o.type===4){const d=!yI(o.content);d&&n("("),hN(o,t),d&&n(")")}else n("("),Gr(o,t),n(")");i&&s(),t.indentLevel++,i||n(" "),n("? "),Gr(r,t),t.indentLevel--,i&&u(),i||n(" "),n(": ");const c=a.type===19;c||t.indentLevel++,Gr(a,t),c||t.indentLevel--,i&&l(!0)}function kue(e,t){const{push:o,helper:r,indent:a,deindent:i,newline:n}=t;o(`_cache[${e.index}] || (`),e.isVNode&&(a(),o(`${r(Sv)}(-1),`),n()),o(`_cache[${e.index}] = `),Gr(e.value,t),e.isVNode&&(o(","),n(),o(`${r(Sv)}(1),`),n(),o(`_cache[${e.index}]`),i()),o(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Vue=mN(/^(if|else|else-if)$/,(e,t,o)=>que(e,t,o,(r,a,i)=>{const n=o.parent.children;let s=n.indexOf(r),l=0;for(;s-->=0;){const u=n[s];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(i)r.codegenNode=N3(a,l,o);else{const u=Bue(r.codegenNode);u.alternate=N3(a,l+r.branches.length-1,o)}}}));function que(e,t,o,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const a=t.exp?t.exp.loc:e.loc;o.onError(ya(28,t.loc)),t.exp=uo("true",!1,a)}if(t.name==="if"){const a=M3(e,t),i={type:9,loc:e.loc,branches:[a]};if(o.replaceNode(i),r)return r(i,a,!0)}else{const a=o.parent.children;let i=a.indexOf(e);for(;i-->=-1;){const n=a[i];if(n&&n.type===3){o.removeNode(n);continue}if(n&&n.type===2&&!n.content.trim().length){o.removeNode(n);continue}if(n&&n.type===9){t.name==="else-if"&&n.branches[n.branches.length-1].condition===void 0&&o.onError(ya(30,e.loc)),o.removeNode();const s=M3(e,t);n.branches.push(s);const l=r&&r(n,s,!1);Jg(s,o),l&&l(),o.currentNode=null}else o.onError(ya(30,e.loc));break}}}function M3(e,t){const o=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:o&&!bn(e,"for")?e.children:[e],userKey:Kg(e,"key"),isTemplateIf:o}}function N3(e,t,o){return e.condition?hC(e.condition,F3(e,t,o),Ya(o.helper(b0),['""',"true"])):F3(e,t,o)}function F3(e,t,o){const{helper:r}=o,a=Ma("key",uo(`${t}`,!1,rn,2)),{children:i}=e,n=i[0];if(i.length!==1||n.type!==1)if(i.length===1&&n.type===11){const l=n.codegenNode;return Pv(l,a,o),l}else{let l=64;return zp(o,r($p),xn([a]),i,l+"",void 0,void 0,!0,!1,!1,e.loc)}else{const l=n.codegenNode,u=tue(l);return u.type===13&&bI(u,o),Pv(u,a,o),l}}function Bue(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Lue=mN("for",(e,t,o)=>{const{helper:r,removeHelper:a}=o;return $ue(e,t,o,i=>{const n=Ya(r(mI),[i.source]),s=Ov(e),l=bn(e,"memo"),u=Kg(e,"key"),c=u&&(u.type===6?uo(u.value.content,!0):u.exp),d=u?Ma("key",c):null,m=i.source.type===4&&i.source.constType>0,f=m?64:u?128:256;return i.codegenNode=zp(o,r($p),void 0,n,f+"",void 0,void 0,!0,!m,!1,e.loc),()=>{let p;const{children:g}=i,b=g.length!==1||g[0].type!==1,x=Dv(e)?e:s&&e.children.length===1&&Dv(e.children[0])?e.children[0]:null;if(x?(p=x.codegenNode,s&&d&&Pv(p,d,o)):b?p=zp(o,r($p),d?xn([d]):void 0,e.children,64+"",void 0,void 0,!0,void 0,!1):(p=g[0].codegenNode,s&&d&&Pv(p,d,o),p.isBlock!==!m&&(p.isBlock?(a(Fu),a(If(o.inSSR,p.isComponent))):a(wf(o.inSSR,p.isComponent))),p.isBlock=!m,p.isBlock?(r(Fu),r(If(o.inSSR,p.isComponent))):r(wf(o.inSSR,p.isComponent))),l){const _=xf(_C(i.parseResult,[uo("_cached")]));_.body=Gce([Yn(["const _memo = (",l.exp,")"]),Yn(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${o.helperString(oN)}(_cached, _memo)) return _cached`]),Yn(["const _item = ",p]),uo("_item.memo = _memo"),uo("return _item")]),n.arguments.push(_,uo("_cache"),uo(String(o.cached++)))}else n.arguments.push(xf(_C(i.parseResult),p,!0))}})});function $ue(e,t,o,r){if(!t.exp){o.onError(ya(31,t.loc));return}const a=gN(t.exp);if(!a){o.onError(ya(32,t.loc));return}const{addIdentifiers:i,removeIdentifiers:n,scopes:s}=o,{source:l,value:u,key:c,index:d}=a,m={type:11,loc:t.loc,source:l,valueAlias:u,keyAlias:c,objectIndexAlias:d,parseResult:a,children:Ov(e)?e.children:[e]};o.replaceNode(m),s.vFor++;const f=r&&r(m);return()=>{s.vFor--,f&&f()}}const R3=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Uue=/^\(|\)$/g;function gN(e,t){const o=e.loc,r=e.content,a=r.match(oue);if(!a)return;const[,i,n]=a,s={source:l1(o,n.trim(),r.indexOf(n,i.length)),value:void 0,key:void 0,index:void 0};let l=i.trim().replace(Uue,"").trim();const u=i.indexOf(l),c=l.match(R3);if(c){l=l.replace(R3,"").trim();const d=c[1].trim();let m;if(d&&(m=r.indexOf(d,u+l.length),s.key=l1(o,d,m)),c[2]){const f=c[2].trim();f&&(s.index=l1(o,f,r.indexOf(f,s.key?m+d.length:u+l.length)))}}return l&&(s.value=l1(o,l,u)),s}function l1(e,t,o){return uo(t,!1,iN(e,o,t.length))}function _C({value:e,key:t,index:o},r=[]){return zue([e,t,o,...r])}function zue(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((o,r)=>o||uo("_".repeat(r+1),!1))}const k3=uo("undefined",!1),Hue=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const o=bn(e,"slot");if(o)return o.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},jue=(e,t,o,r)=>xf(e,o,!1,!0,o.length?o[0].loc:r);function Gue(e,t,o=jue){t.helper(gI);const{children:r,loc:a}=e,i=[],n=[];let s=t.scopes.vSlot>0||t.scopes.vFor>0;const l=bn(e,"slot",!0);if(l){const{arg:b,exp:x}=l;b&&!Ci(b)&&(s=!0),i.push(Ma(b||uo("default",!0),o(x,void 0,r,a)))}let u=!1,c=!1;const d=[],m=new Set;let f=0;for(let b=0;b<r.length;b++){const x=r[b];let _;if(!Ov(x)||!(_=bn(x,"slot",!0))){x.type!==3&&d.push(x);continue}if(l){t.onError(ya(37,_.loc));break}u=!0;const{children:y,loc:I}=x,{arg:S=uo("default",!0),exp:O,loc:F}=_;let M;Ci(S)?M=S?S.content:"default":s=!0;const E=bn(x,"for"),D=o(O,E==null?void 0:E.exp,y,I);let P,N;if(P=bn(x,"if"))s=!0,n.push(hC(P.exp,c1(S,D,f++),k3));else if(N=bn(x,/^else(-if)?$/,!0)){let R=b,z;for(;R--&&(z=r[R],z.type===3););if(z&&Ov(z)&&bn(z,"if")){r.splice(b,1),b--;let W=n[n.length-1];for(;W.alternate.type===19;)W=W.alternate;W.alternate=N.exp?hC(N.exp,c1(S,D,f++),k3):c1(S,D,f++)}else t.onError(ya(30,N.loc))}else if(E){s=!0;const R=E.parseResult||gN(E.exp);R?n.push(Ya(t.helper(mI),[R.source,xf(_C(R),c1(S,D),!0)])):t.onError(ya(32,E.loc))}else{if(M){if(m.has(M)){t.onError(ya(38,F));continue}m.add(M),M==="default"&&(c=!0)}i.push(Ma(S,D))}}if(!l){const b=(x,_)=>{const y=o(x,void 0,_,a);return t.compatConfig&&(y.isNonScopedSlot=!0),Ma("default",y)};u?d.length&&d.some(x=>_N(x))&&(c?t.onError(ya(39,d[0].loc)):i.push(b(void 0,d))):i.push(b(void 0,r))}const p=s?2:$1(e.children)?3:1;let g=xn(i.concat(Ma("_",uo(p+"",!1))),a);return n.length&&(g=Ya(t.helper(tN),[g,C0(n)])),{slots:g,hasDynamicSlots:s}}function c1(e,t,o){const r=[Ma("name",e),Ma("fn",t)];return o!=null&&r.push(Ma("key",uo(String(o),!0))),xn(r)}function $1(e){for(let t=0;t<e.length;t++){const o=e[t];switch(o.type){case 1:if(o.tagType===2||$1(o.children))return!0;break;case 9:if($1(o.branches))return!0;break;case 10:case 11:if($1(o.children))return!0;break}}return!1}function _N(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():_N(e.content)}const bN=new WeakMap,Wue=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:a}=e,i=e.tagType===1;let n=i?Xue(e,t):`"${r}"`;const s=jo(n)&&n.callee===Iv;let l,u,c,d=0,m,f,p,g=s||n===up||n===iI||!i&&(r==="svg"||r==="foreignObject");if(a.length>0){const b=yN(e,t,void 0,i,s);l=b.props,d=b.patchFlag,f=b.dynamicPropNames;const x=b.directives;p=x&&x.length?C0(x.map(_=>Kue(_,t))):void 0,b.shouldUseBlock&&(g=!0)}if(e.children.length>0)if(n===wv&&(g=!0,d|=1024),i&&n!==up&&n!==wv){const{slots:x,hasDynamicSlots:_}=Gue(e,t);u=x,_&&(d|=1024)}else if(e.children.length===1&&n!==up){const x=e.children[0],_=x.type,y=_===5||_===8;y&&wn(x,t)===0&&(d|=1),y||_===2?u=x:u=e.children}else u=e.children;d!==0&&(c=String(d),f&&f.length&&(m=Que(f))),e.codegenNode=zp(t,n,l,u,c,m,p,!!g,!1,i,e.loc)};function Xue(e,t,o=!1){let{tag:r}=e;const a=bC(r),i=Kg(e,"is");if(i)if(a||xu("COMPILER_IS_ON_ELEMENT",t)){const l=i.type===6?i.value&&uo(i.value.content,!0):i.exp;if(l)return Ya(t.helper(Iv),[l])}else i.type===6&&i.value.content.startsWith("vue:")&&(r=i.value.content.slice(4));const n=!a&&bn(e,"is");if(n&&n.exp)return Ya(t.helper(Iv),[n.exp]);const s=aN(r)||t.isBuiltInComponent(r);return s?(o||t.helper(s),s):(t.helper(cI),t.components.add(r),Hp(r,"component"))}function yN(e,t,o=e.props,r,a,i=!1){const{tag:n,loc:s,children:l}=e;let u=[];const c=[],d=[],m=l.length>0;let f=!1,p=0,g=!1,b=!1,x=!1,_=!1,y=!1,I=!1;const S=[],O=E=>{u.length&&(c.push(xn(V3(u),s)),u=[]),E&&c.push(E)},F=({key:E,value:D})=>{if(Ci(E)){const P=E.content,N=Vu(P);if(N&&(!r||a)&&P.toLowerCase()!=="onclick"&&P!=="onUpdate:modelValue"&&!fu(P)&&(_=!0),N&&fu(P)&&(I=!0),N&&D.type===14&&(D=D.arguments[0]),D.type===20||(D.type===4||D.type===8)&&wn(D,t)>0)return;P==="ref"?g=!0:P==="class"?b=!0:P==="style"?x=!0:P!=="key"&&!S.includes(P)&&S.push(P),r&&(P==="class"||P==="style")&&!S.includes(P)&&S.push(P)}else y=!0};for(let E=0;E<o.length;E++){const D=o[E];if(D.type===6){const{loc:P,name:N,value:R}=D;let z=!0;if(N==="ref"&&(g=!0,t.scopes.vFor>0&&u.push(Ma(uo("ref_for",!0),uo("true")))),N==="is"&&(bC(n)||R&&R.content.startsWith("vue:")||xu("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(Ma(uo(N,!0,iN(P,0,N.length)),uo(R?R.content:"",z,R?R.loc:P)))}else{const{name:P,arg:N,exp:R,loc:z,modifiers:W}=D,j=P==="bind",Q=P==="on";if(P==="slot"){r||t.onError(ya(40,z));continue}if(P==="once"||P==="memo"||P==="is"||j&&cu(N,"is")&&(bC(n)||xu("COMPILER_IS_ON_ELEMENT",t))||Q&&i)continue;if((j&&cu(N,"key")||Q&&m&&cu(N,"vue:before-update"))&&(f=!0),j&&cu(N,"ref")&&t.scopes.vFor>0&&u.push(Ma(uo("ref_for",!0),uo("true"))),!N&&(j||Q)){if(y=!0,R)if(j){if(O(),xu("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(R);continue}c.push(R)}else O({type:14,loc:z,callee:t.helper(vI),arguments:r?[R]:[R,"true"]});else t.onError(ya(j?34:35,z));continue}j&&W.includes("prop")&&(p|=32);const se=t.directiveTransforms[P];if(se){const{props:_e,needRuntime:Ee}=se(D,e,t);!i&&_e.forEach(F),Q&&N&&!Ci(N)?O(xn(_e,s)):u.push(..._e),Ee&&(d.push(D),Qn(Ee)&&bN.set(D,Ee))}else TB(P)||(d.push(D),m&&(f=!0))}}let M;if(c.length?(O(),c.length>1?M=Ya(t.helper(Ev),c,s):M=c[0]):u.length&&(M=xn(V3(u),s)),y?p|=16:(b&&!r&&(p|=2),x&&!r&&(p|=4),S.length&&(p|=8),_&&(p|=32)),!f&&(p===0||p===32)&&(g||I||d.length>0)&&(p|=512),!t.inSSR&&M)switch(M.type){case 15:let E=-1,D=-1,P=!1;for(let z=0;z<M.properties.length;z++){const W=M.properties[z].key;Ci(W)?W.content==="class"?E=z:W.content==="style"&&(D=z):W.isHandlerKey||(P=!0)}const N=M.properties[E],R=M.properties[D];P?M=Ya(t.helper(Up),[M]):(N&&!Ci(N.value)&&(N.value=Ya(t.helper(pI),[N.value])),R&&(x||R.value.type===4&&R.value.content.trim()[0]==="["||R.value.type===17)&&(R.value=Ya(t.helper(hI),[R.value])));break;case 14:break;default:M=Ya(t.helper(Up),[Ya(t.helper(y0),[M])]);break}return{props:M,directives:d,patchFlag:p,dynamicPropNames:S,shouldUseBlock:f}}function V3(e){const t=new Map,o=[];for(let r=0;r<e.length;r++){const a=e[r];if(a.key.type===8||!a.key.isStatic){o.push(a);continue}const i=a.key.content,n=t.get(i);n?(i==="style"||i==="class"||Vu(i))&&Yue(n,a):(t.set(i,a),o.push(a))}return o}function Yue(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=C0([e.value,t.value],e.loc)}function Kue(e,t){const o=[],r=bN.get(e);r?o.push(t.helperString(r)):(t.helper(uI),t.directives.add(e.name),o.push(Hp(e.name,"directive")));const{loc:a}=e;if(e.exp&&o.push(e.exp),e.arg&&(e.exp||o.push("void 0"),o.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||o.push("void 0"),o.push("void 0"));const i=uo("true",!1,a);o.push(xn(e.modifiers.map(n=>Ma(n,i)),a))}return C0(o,e.loc)}function Que(e){let t="[";for(let o=0,r=e.length;o<r;o++)t+=JSON.stringify(e[o]),o<r-1&&(t+=", ");return t+"]"}function bC(e){return e==="component"||e==="Component"}const Jue=(e,t)=>{if(Dv(e)){const{children:o,loc:r}=e,{slotName:a,slotProps:i}=Zue(e,t),n=[t.prefixIdentifiers?"_ctx.$slots":"$slots",a,"{}","undefined","true"];let s=2;i&&(n[2]=i,s=3),o.length&&(n[3]=xf([],o,!1,!1,r),s=4),t.scopeId&&!t.slotted&&(s=5),n.splice(s),e.codegenNode=Ya(t.helper(eN),n,r)}};function Zue(e,t){let o='"default"',r;const a=[];for(let i=0;i<e.props.length;i++){const n=e.props[i];n.type===6?n.value&&(n.name==="name"?o=JSON.stringify(n.value.content):(n.name=Za(n.name),a.push(n))):n.name==="bind"&&cu(n.arg,"name")?n.exp&&(o=n.exp):(n.name==="bind"&&n.arg&&Ci(n.arg)&&(n.arg.content=Za(n.arg.content)),a.push(n))}if(a.length>0){const{props:i,directives:n}=yN(e,t,a,!1,!1);r=i,n.length&&t.onError(ya(36,n[0].loc))}return{slotName:o,slotProps:r}}const ede=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,CN=(e,t,o,r)=>{const{loc:a,modifiers:i,arg:n}=e;!e.exp&&!i.length&&o.onError(ya(35,a));let s;if(n.type===4)if(n.isStatic){let d=n.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const m=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Yd(Za(d)):`on:${d}`;s=uo(m,!0,n.loc)}else s=Yn([`${o.helperString(pC)}(`,n,")"]);else s=n,s.children.unshift(`${o.helperString(pC)}(`),s.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let u=o.cacheHandlers&&!l&&!o.inVOnce;if(l){const d=rN(l.content),m=!(d||ede.test(l.content)),f=l.content.includes(";");(m||u&&d)&&(l=Yn([`${m?"$event":"(...args)"} => ${f?"{":"("}`,l,f?"}":")"]))}let c={props:[Ma(s,l||uo("() => {}",!1,a))]};return r&&(c=r(c)),u&&(c.props[0].value=o.cache(c.props[0].value)),c.props.forEach(d=>d.key.isHandlerKey=!0),c},tde=(e,t,o)=>{const{exp:r,modifiers:a,loc:i}=e,n=e.arg;return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=`${n.content} || ""`),a.includes("camel")&&(n.type===4?n.isStatic?n.content=Za(n.content):n.content=`${o.helperString(mC)}(${n.content})`:(n.children.unshift(`${o.helperString(mC)}(`),n.children.push(")"))),o.inSSR||(a.includes("prop")&&q3(n,"."),a.includes("attr")&&q3(n,"^")),!r||r.type===4&&!r.content.trim()?(o.onError(ya(34,i)),{props:[Ma(n,uo("",!0,i))]}):{props:[Ma(n,r)]}},q3=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},ode=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const o=e.children;let r,a=!1;for(let i=0;i<o.length;i++){const n=o[i];if(h2(n)){a=!0;for(let s=i+1;s<o.length;s++){const l=o[s];if(h2(l))r||(r=o[i]=Yn([n],n.loc)),r.children.push(" + ",l),o.splice(s,1),s--;else{r=void 0;break}}}}if(!(!a||o.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&e.tag!=="template")))for(let i=0;i<o.length;i++){const n=o[i];if(h2(n)||n.type===8){const s=[];(n.type!==2||n.content!==" ")&&s.push(n),!t.ssr&&wn(n,t)===0&&s.push(1+""),o[i]={type:12,content:n,loc:n.loc,codegenNode:Ya(t.helper(lI),s)}}}}},B3=new WeakSet,ade=(e,t)=>{if(e.type===1&&bn(e,"once",!0))return B3.has(e)||t.inVOnce||t.inSSR?void 0:(B3.add(e),t.inVOnce=!0,t.helper(Sv),()=>{t.inVOnce=!1;const o=t.currentNode;o.codegenNode&&(o.codegenNode=t.cache(o.codegenNode,!0))})},xN=(e,t,o)=>{const{exp:r,arg:a}=e;if(!r)return o.onError(ya(41,e.loc)),u1();const i=r.loc.source,n=r.type===4?r.content:i,s=o.bindingMetadata[i];if(s==="props"||s==="props-aliased")return o.onError(ya(44,r.loc)),u1();const l=!1;if(!n.trim()||!rN(n)&&!l)return o.onError(ya(42,r.loc)),u1();const u=a||uo("modelValue",!0),c=a?Ci(a)?`onUpdate:${Za(a.content)}`:Yn(['"onUpdate:" + ',a]):"onUpdate:modelValue";let d;const m=o.isTS?"($event: any)":"$event";d=Yn([`${m} => ((`,r,") = $event)"]);const f=[Ma(u,e.exp),Ma(c,d)];if(e.modifiers.length&&t.tagType===1){const p=e.modifiers.map(b=>(yI(b)?b:JSON.stringify(b))+": true").join(", "),g=a?Ci(a)?`${a.content}Modifiers`:Yn([a,' + "Modifiers"']):"modelModifiers";f.push(Ma(g,uo(`{ ${p} }`,!1,e.loc,2)))}return u1(f)};function u1(e=[]){return{props:e}}const rde=/[\w).+\-_$\]]/,ide=(e,t)=>{!xu("COMPILER_FILTER",t)||(e.type===5&&Mv(e.content,t),e.type===1&&e.props.forEach(o=>{o.type===7&&o.name!=="for"&&o.exp&&Mv(o.exp,t)}))};function Mv(e,t){if(e.type===4)L3(e,t);else for(let o=0;o<e.children.length;o++){const r=e.children[o];typeof r=="object"&&(r.type===4?L3(r,t):r.type===8?Mv(e,t):r.type===5&&Mv(r.content,t))}}function L3(e,t){const o=e.content;let r=!1,a=!1,i=!1,n=!1,s=0,l=0,u=0,c=0,d,m,f,p,g=[];for(f=0;f<o.length;f++)if(m=d,d=o.charCodeAt(f),r)d===39&&m!==92&&(r=!1);else if(a)d===34&&m!==92&&(a=!1);else if(i)d===96&&m!==92&&(i=!1);else if(n)d===47&&m!==92&&(n=!1);else if(d===124&&o.charCodeAt(f+1)!==124&&o.charCodeAt(f-1)!==124&&!s&&!l&&!u)p===void 0?(c=f+1,p=o.slice(0,f).trim()):b();else{switch(d){case 34:a=!0;break;case 39:r=!0;break;case 96:i=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:s++;break;case 125:s--;break}if(d===47){let x=f-1,_;for(;x>=0&&(_=o.charAt(x),_===" ");x--);(!_||!rde.test(_))&&(n=!0)}}p===void 0?p=o.slice(0,f).trim():c!==0&&b();function b(){g.push(o.slice(c,f).trim()),c=f+1}if(g.length){for(f=0;f<g.length;f++)p=nde(p,g[f],t);e.content=p}}function nde(e,t,o){o.helper(dI);const r=t.indexOf("(");if(r<0)return o.filters.add(t),`${Hp(t,"filter")}(${e})`;{const a=t.slice(0,r),i=t.slice(r+1);return o.filters.add(a),`${Hp(a,"filter")}(${e}${i!==")"?","+i:i}`}}const $3=new WeakSet,sde=(e,t)=>{if(e.type===1){const o=bn(e,"memo");return!o||$3.has(e)?void 0:($3.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&bI(r,t),e.codegenNode=Ya(t.helper(_I),[o.exp,xf(void 0,r),"_cache",String(t.cached++)]))})}};function lde(e){return[[ade,Vue,sde,Lue,ide,Jue,Wue,Hue,ode],{on:CN,bind:tde,model:xN}]}function cde(e,t={}){const o=t.onError||rI,r=t.mode==="module";t.prefixIdentifiers===!0?o(ya(47)):r&&o(ya(48));const a=!1;t.cacheHandlers&&o(ya(49)),t.scopeId&&!r&&o(ya(50));const i=io(e)?iue(e,t):e,[n,s]=lde();return bue(i,To({},t,{prefixIdentifiers:a,nodeTransforms:[...n,...t.nodeTransforms||[]],directiveTransforms:To({},s,t.directiveTransforms||{})})),xue(i,To({},t,{prefixIdentifiers:a}))}const ude=()=>({props:[]}),wN=Symbol(""),IN=Symbol(""),EN=Symbol(""),SN=Symbol(""),yC=Symbol(""),AN=Symbol(""),TN=Symbol(""),ON=Symbol(""),DN=Symbol(""),PN=Symbol("");zce({[wN]:"vModelRadio",[IN]:"vModelCheckbox",[EN]:"vModelText",[SN]:"vModelSelect",[yC]:"vModelDynamic",[AN]:"withModifiers",[TN]:"withKeys",[ON]:"vShow",[DN]:"Transition",[PN]:"TransitionGroup"});let Od;function dde(e,t=!1){return Od||(Od=document.createElement("div")),t?(Od.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Od.children[0].getAttribute("foo")):(Od.innerHTML=e,Od.textContent)}const fde=Ei("style,iframe,script,noscript",!0),mde={isVoidTag:$B,isNativeTag:e=>BB(e)||LB(e),isPreTag:e=>e==="pre",decodeEntities:dde,isBuiltInComponent:e=>{if(Hd(e,"Transition"))return DN;if(Hd(e,"TransitionGroup"))return PN},getNamespace(e,t){let o=t?t.ns:0;if(t&&o===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(o=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(o=0);else t&&o===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(o=0);if(o===0){if(e==="svg")return 1;if(e==="math")return 2}return o},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(fde(e))return 2}return 0}},pde=e=>{e.type===1&&e.props.forEach((t,o)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[o]={type:7,name:"bind",arg:uo("style",!0,t.loc),exp:hde(t.value.content,t.loc),modifiers:[],loc:t.loc})})},hde=(e,t)=>{const o=WD(e);return uo(JSON.stringify(o),!1,t,3)};function cc(e,t){return ya(e,t)}const vde=(e,t,o)=>{const{exp:r,loc:a}=e;return r||o.onError(cc(53,a)),t.children.length&&(o.onError(cc(54,a)),t.children.length=0),{props:[Ma(uo("innerHTML",!0,a),r||uo("",!0))]}},gde=(e,t,o)=>{const{exp:r,loc:a}=e;return r||o.onError(cc(55,a)),t.children.length&&(o.onError(cc(56,a)),t.children.length=0),{props:[Ma(uo("textContent",!0),r?wn(r,o)>0?r:Ya(o.helperString(Yg),[r],a):uo("",!0))]}},_de=(e,t,o)=>{const r=xN(e,t,o);if(!r.props.length||t.tagType===1)return r;e.arg&&o.onError(cc(58,e.arg.loc));const{tag:a}=t,i=o.isCustomElement(a);if(a==="input"||a==="textarea"||a==="select"||i){let n=EN,s=!1;if(a==="input"||i){const l=Kg(t,"type");if(l){if(l.type===7)n=yC;else if(l.value)switch(l.value.content){case"radio":n=wN;break;case"checkbox":n=IN;break;case"file":s=!0,o.onError(cc(59,e.loc));break}}else Jce(t)&&(n=yC)}else a==="select"&&(n=SN);s||(r.needRuntime=o.helper(n))}else o.onError(cc(57,e.loc));return r.props=r.props.filter(n=>!(n.key.type===4&&n.key.content==="modelValue")),r},bde=Ei("passive,once,capture"),yde=Ei("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Cde=Ei("left,right"),MN=Ei("onkeyup,onkeydown,onkeypress",!0),xde=(e,t,o,r)=>{const a=[],i=[],n=[];for(let s=0;s<t.length;s++){const l=t[s];l==="native"&&jp("COMPILER_V_ON_NATIVE",o)||bde(l)?n.push(l):Cde(l)?Ci(e)?MN(e.content)?a.push(l):i.push(l):(a.push(l),i.push(l)):yde(l)?i.push(l):a.push(l)}return{keyModifiers:a,nonKeyModifiers:i,eventOptionModifiers:n}},U3=(e,t)=>Ci(e)&&e.content.toLowerCase()==="onclick"?uo(t,!0):e.type!==4?Yn(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,wde=(e,t,o)=>CN(e,t,o,r=>{const{modifiers:a}=e;if(!a.length)return r;let{key:i,value:n}=r.props[0];const{keyModifiers:s,nonKeyModifiers:l,eventOptionModifiers:u}=xde(i,a,o,e.loc);if(l.includes("right")&&(i=U3(i,"onContextmenu")),l.includes("middle")&&(i=U3(i,"onMouseup")),l.length&&(n=Ya(o.helper(AN),[n,JSON.stringify(l)])),s.length&&(!Ci(i)||MN(i.content))&&(n=Ya(o.helper(TN),[n,JSON.stringify(s)])),u.length){const c=u.map(Bu).join("");i=Ci(i)?uo(`${i.content}${c}`,!0):Yn(["(",i,`) + "${c}"`])}return{props:[Ma(i,n)]}}),Ide=(e,t,o)=>{const{exp:r,loc:a}=e;return r||o.onError(cc(61,a)),{props:[],needRuntime:o.helper(ON)}},Ede=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},Sde=[pde],Ade={cloak:ude,html:vde,text:gde,model:_de,on:wde,show:Ide};function Tde(e,t={}){return cde(e,To({},mde,t,{nodeTransforms:[Ede,...Sde,...t.nodeTransforms||[]],directiveTransforms:To({},Ade,t.directiveTransforms||{}),transformHoist:null}))}const z3=new WeakMap;function Ode(e){let t=z3.get(e!=null?e:Ro);return t||(t=Object.create(null),z3.set(e!=null?e:Ro,t)),t}function Dde(e,t){if(!io(e))if(e.nodeType)e=e.innerHTML;else return ri;const o=e,r=Ode(t),a=r[o];if(a)return a;if(e[0]==="#"){const l=document.querySelector(e);e=l?l.innerHTML:""}const i=To({hoistStatic:!0,onError:void 0,onWarn:ri},t);!i.isCustomElement&&typeof customElements!="undefined"&&(i.isCustomElement=l=>!!customElements.get(l));const{code:n}=Tde(e,i),s=new Function("Vue",n)(FU);return s._rc=!0,r[o]=s}ZP(Dde);var Pde={nomeTabela:"empresa",filtrosTabela:["codigoClienteSistema","idContato"],async le(e={}){if("id"in e)return e.id?await Pt[this.nomeTabela].get(e.id)||{}:{};let t={};for(const o of this.filtrosTabela)if(o in e)if(![null,void 0].includes(e[o]))t[o]=e[o];else return[];return Object.keys(t).length?Pt[this.nomeTabela].where(t).toArray():Pt[this.nomeTabela].toArray()}};const Mde={permissao:[],le:async e=>{if(e=e||{},"id"in e)return e.id?await Pt.empresaUsuarioPermissao.get(e.id)||{}:{};let t={};"idUsuario"in e&&e.idUsuario&&(t.idUsuario=e.idUsuario),"idEmpresa"in e&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa),"codigoUsuario"in e&&e.codigoUsuario&&(t.codigoUsuario=e.codigoUsuario),"codigoEmpresa"in e&&e.codigoEmpresa&&(t.codigoEmpresa=e.codigoEmpresa);let o=Pt.empresaUsuarioPermissao;return Object.keys(t).length&&(o=o.where(t)),await o.toArray()||[]},async inicializarPermissao(){let e={},t="",o="",r="N\xE3o foi poss\xEDvel localizar o c\xF3digo do sistema.";try{if(e=JSON.parse(localStorage.getItem("clienteSistema")),!e.codigoClienteSistema)return[];t=e.codigoClienteSistema,r="N\xE3o foi poss\xEDvel localizar o c\xF3digo do usu\xE1rio.",o=je.usuario.logado.codigoUsuario}catch{return console.log(r),[]}if(!je.usuario.logado.administrador){this.permissao=[];const a=await Ka.empresa.le({codigoClienteSistema:t}),i=[];a.reduce((n,s)=>(n[s.codigoEmpresa]||(n[s.codigoEmpresa]=!0,i.push(Ka.empresaUsuarioPermissao.le({codigoUsuario:o,codigoEmpresa:s.codigoEmpresa}))),n),{});for await(const n of i)n.length&&(this.permissao=[...this.permissao,...a.filter(s=>n[0].codigoEmpresa===s.codigoEmpresa).map(s=>s.codigoContato)])}}},Nde={async grava(e){const{codigoObjeto:t,id:o,...r}=e,a=[];for(const n in r)a.push(`${n}='${r[n]}'`);const i=`
      insert into objeto (id)
      select '${o}' id where not exists (select 1 from objeto where id='${o}')
      update objeto set ${a.join(", ")} where id='${o}'
    `;await mo(i,"GeeksPlat15A"),await Pt.objeto.put(e)},async le({filtros:e}){const t=await Pt.objeto.toArray();return e?ca.exports.filter(t,e):t},leOnline({colunas:e,filtros:t}={}){e=e?e.split(" ").join(", "):"*";let o=[];for(const a in t)o.push(`${a} = '${t[a]}'`);o=o.length?`where ${o.join(" and ")}`:"";const r=`select ${e} from objeto ${o} order by nomeObjeto`;return mo(r,"GeeksPlat15A")}},Fde={async grava(e){const{codigoObjeto:t,id:o,...r}=e,a=[];for(const n in r){let s=r[n];typeof s=="string"&&(s=`'${s}'`),a.push(`${n}=${s}`)}const i=`
      insert into objetoVersao (id)
      select '${o}' id where not exists (select 1 from objetoVersao where id='${o}')
      update objetoVersao set ${a.join(", ")} where id='${o}'
    `;await mo(i,"GeeksPlat15A"),await Pt.objeto.put(e)},async le({filtros:e}){const t=await Pt.objeto.toArray();return e?ca.exports.filter(t,e):t},leOnline({colunas:e,filtros:t}={}){e=e?e.split(" ").join(", "):"*";let o=[];for(const a in t)o.push(`${a} = '${t[a]}'`);o=o.length?`where ${o.join(" and ")}`:"";const r=`select ${e} from objetoVersao ${o} order by dataHora desc`;return mo(r,"GeeksPlat15A")}};var Rde={nomeTabela:"sincronismo",filtrosTabela:["bancoDeDados"],maximoHoras:20,dezMinutos:10*60*1e3,async le(e={}){if("id"in e)return e.id?await Pt[this.nomeTabela].get(e.id)||{}:{};let t={};for(const o of this.filtrosTabela)if(o in e)if(![null,void 0].includes(e[o]))t[o]=e[o];else return[];return Object.keys(t).length?Pt[this.nomeTabela].where(t).toArray():Pt[this.nomeTabela].toArray()},async grava(e){await Pt[this.nomeTabela].update(e.bancoDeDados,e)},verificaBloqueioHoras(e){const t=e.ultimo?new Date(e.ultimo):new Date,r=(new Date-t)/36e5;return e.status==="bloqueado"||r>=this.maximoHoras},async verificaBloqueio(e){if(!e){const t=je.cache.get("bancoDeDados");if(this.bancoLiberado===t&&new Date-this.horaLiberado<this.dezMinutos||(e=(await this.le({bancoDeDados:t}))[0],!e))return""}return!e.status||e.status==="sincronismoInicial"?"Aguarde o final do sincronismo":this.verificaBloqueioHoras(e)?`Voc\xEA estava h\xE1 mais de ${this.maximoHoras} horas sem conex\xE3o, aguarde o final do sincronismo`:(this.bancoLiberado=e.bancoDeDados,this.horaLiberado=new Date,"")}};const Ka={empresa:Pde,empresaUsuarioPermissao:Mde,objeto:Nde,objetoVersao:Fde,sincronismo:Rde};async function kde(e,t){let o,r,a,i,n,s;const l=await Ka.objeto.le({filtros:{nomeObjeto:e,tipo:"vue"}});if(!l||!l[0]||!l[0].codigoPersonalizado)return $q.notify("Objeto indispon\xEDvel ou sem permiss\xE3o");const u=JSON.parse($utils.base64.decode(l[0].codigoPersonalizado));r=new Function(`return ${u.script.trim()}`)();const c=lg({...r,data:()=>({...r.data(),json:t}),template:u.template.trim()});a=document.createElement("div"),i=document.createElement("div"),i.attachShadow({mode:"open"}).appendChild(a),c.config.globalProperties.$BrowserQRCodeSvgWriter=GM,c.config.globalProperties.$filters=globalThis.$filters,c.config.globalProperties.$utils=globalThis.$utils,n=0,s=new MutationObserver(function(m){m.forEach(function(f){n++})}),s.observe(a,{attributes:!0,childList:!0,characterData:!0}),await c.mount(a);let d=!0;for(;d;){const m=n;await new Promise((f,p)=>setTimeout(f,200)),m===n&&(d=!1)}return s.disconnect(),o=a.innerHTML,o+="<style>"+u.estilo.trim()+"</style>",o}const Ft=function(){return _f().toUpperCase()},Vde=function(){return window.innerWidth<992},qde=function(e){document.getElementById("gTema")&&document.getElementById("gTema").remove(),e&&(localStorage.gTema=e);let t=document.createElement("style");switch(t.setAttribute("id","gTema"),localStorage.gTema){case"rosa":t.innerHTML=`
        :root {
            --q-primary: #e305ad !important;
            --primary: #e305ad !important;
        }
        .bg-primary { background-color: #e305ad !important; }

        .text-primary { color: #e305ad !important; }

        .q-toolbar.bg-primary { background: #f039b1 linear-gradient(to right, lighten(#f658b8, 10), darken(#e305ad, 10)) !important; }

        .bg-gradiente {
            background-color: #f658b8 !important;
            background-image: -webkit-gradient( linear, left top, right top, from(#f658b8), to(#B52B85)) !important;
            background-image: linear-gradient(90deg, #f658b8, #B52B85) !important;
        }

        .bg-cover {
          background: #e305ad url("/assets/login-background.jpg") center no-repeat !important;
        }

        #home {
          background-color: #f658b8 !important;
          background-image: -webkit-gradient( linear, left top, right top, from(#f658b8), to(#B52B85)) !important;
          background-image: linear-gradient(90deg, #f658b8, #B52B85) !important;
        }

        ::-webkit-scrollbar-thumb { background-color: #f658b8 !important; }

        .text-light-blue-4 { color: #EBBFE2 !important; }

        .text-select-palette-color { color: #e305ad !important; }

        /*Pulsar barbie*/
          .btnPaletteColors {
            box-shadow: 0 0 0 0 rgba(158,1,120,0.7);
            transition: all 300ms ease-in-out;
            -webkit-animation: pulsing 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
            -moz-animation: pulsing 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
            -ms-animation: pulsing 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
            animation: pulsing 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
          }
          .btnPaletteColors:hover {
            background-color: rgba(227,5,173,.12);
            box-shadow: 0 0 20px 2px rgba(227,5,173,.7);
            transition: all 300ms ease-in-out;
            -webkit-animation: none;
            -moz-animation: none;
            -ms-animation: none;
            animation: none;
          }

          @-webkit-keyframes pulsing {
            0% {
              transform: scale(.98);
            }

            70% {
              box-shadow: 0 0 0 15px rgba(227,5,173,0);
              transform: scale(1);
            }

            100% {
              box-shadow: 0 0 0 0 rgba(227,5,173,0);
              transform: scale(.98);
            }
          }

          @-moz-keyframes pulsing {
            0% {
              transform: scale(.98);
            }

            70% {
              box-shadow: 0 0 0 15px rgba(227,5,173,0);
              transform: scale(1);
            }

            100% {
              box-shadow: 0 0 0 0 rgba(227,5,173,0);
              transform: scale(.98);
            }
          }

          @-ms-keyframes pulsing {
            0% {
              transform: scale(.98);
            }

            70% {
              box-shadow: 0 0 0 15px rgba(227,5,173,0);
              transform: scale(1);
            }

            100% {
              box-shadow: 0 0 0 0 rgba(227,5,173,0);
              transform: scale(.98);
            }
          }

          @keyframes pulsing {
            0% {
              transform: scale(.98);
            }

            70% {
              box-shadow: 0 0 0 15px rgba(227,5,173,0);
              transform: scale(1);
            }

            100% {
              box-shadow: 0 0 0 0 rgba(227,5,173,0);
              transform: scale(.98);
            }
          }
        /*Pulsar barbie*/
      `,document.head.append(t);break;case"brasil":t.innerHTML=`
      :root {
        --q-primary: #0098db !important;
        --primary: #0098db;
      }

      .bg-primary {
        background-color: #0098db !important;
      }

      .text-primary {
        color: #0098db !important;
      }

      .q-toolbar.bg-primary { background: #f039b1 linear-gradient(to right, lighten(#ffc107, 10), darken(#1b5e20, 10)) !important; }

      .bg-gradiente {
          background: rgb(76,175,80) !important;
          background: linear-gradient(90deg, rgba(253,216,53,1) 0%, rgba(101,189,60,1) 50%, rgba(76,175,80,1) 100%) !important;
          /*background: linear-gradient(90deg, rgba(76,175,80,1) 0%, rgba(101,189,60,1) 7%, rgba(253,216,53,1) 18%, rgba(101,189,60,1) 57%, rgba(76,175,80,1) 100%) !important;*/
      }

      .bg-cover {
        background: #0098db url("/assets/login-background.jpg") center no-repeat !important;
      }

      #home {
        background-color: #0098db !important;
        background-image: -webkit-gradient( linear, left top, right top, from(#0098db), to(#01578b)) !important;
        background-image: linear-gradient(to right, #0098db, #01578b) !important;
      }

      ::-webkit-scrollbar-thumb { background-color: #ffc107 !important; }

      .text-light-blue-4 { color: #ffeb3b !important; }

      .text-select-palette-color { color: #65bd3c !important; }

      /*Pulsar mundial*/
        .btnPaletteColors {
          box-shadow: 0 0 0 0 rgba(41,128,0,0.7);
          transition: all 300ms ease-in-out;
          -webkit-animation: pulsing 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
          -moz-animation: pulsing 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
          -ms-animation: pulsing 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
          animation: pulsing 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
        }
        .btnPaletteColors:hover {
          background-color: rgba(101,189,60,.12);
          box-shadow: 0 0 20px 2px rgba(101,189,60,.7);
          transition: all 300ms ease-in-out;
          -webkit-animation: none;
          -moz-animation: none;
          -ms-animation: none;
          animation: none;
        }

        @-webkit-keyframes pulsing {
          0% {
          transform: scale(.98);
          }

          70% {
            box-shadow: 0 0 0 15px rgba(101,189,60,0);
            transform: scale(1);
          }

          100% {
            box-shadow: 0 0 0 0 rgba(101,189,60,0);
            transform: scale(.98);
          }
        }

        @-moz-keyframes pulsing {
          0% {
            transform: scale(.98);
          }

          70% {
            box-shadow: 0 0 0 15px rgba(101,189,60,0);
            transform: scale(1);
          }

          100% {
            box-shadow: 0 0 0 0 rgba(101,189,60,0);
            transform: scale(.98);
          }
        }

        @-ms-keyframes pulsing {
          0% {
            transform: scale(.98);
          }

          70% {
            box-shadow: 0 0 0 15px rgba(101,189,60,0);
            transform: scale(1);
          }

          100% {
            box-shadow: 0 0 0 0 rgba(101,189,60,0);
            transform: scale(.98);
          }
        }

        @keyframes pulsing {
          0% {
            transform: scale(.98);
          }

          70% {
            box-shadow: 0 0 0 15px rgba(101,189,60,0);
            transform: scale(1);
          }

          100% {
            box-shadow: 0 0 0 0 rgba(101,189,60,0);
            transform: scale(.98);
          }
        }
      /*Pulsar mundial*/
    `,document.head.append(t);break}};var _6e=Object.freeze(Object.defineProperty({__proto__:null,temaAplicar:qde,Alerta:sM,ErroValidacao:zs,adicionarSincronizar:kd,agrupar:ej,analisarRedeSocialLink:tj,arredondar:Wa,arredondarPiso:aj,arredondarTeto:Oy,atualizarCfop:Pee,bancosPiloto:ij,base64:lj,blobToBase64:cj,bulkPut:cY,buscarCep:uY,buscarEndereco:dY,clonar:Yl,clonarCompactar:Fp,clonarV2:ji,compactarObjeto:Na,completarCodigoBarras:fY,converterArrayParaObjeto:mY,converterObjetoParraArray:pY,converterDataHoraBr:Ly,dataAtual:Qo,diferenca:jx,diferencaNivel1:li,diferencaObjetos:ra,dormir:hf,eliminarVazios:gY,emitter:CY,executarApi:xY,executarSql:mo,executarSqlProtegido:Mee,extenso:wY,formatarNumero:_Y,formatarTelefone:bY,fbarcode:Nee,jsbarcode:kne,BrowserQRCodeSvgWriter:GM,filtrar:IY,filtrarDigitos:$y,gconsole:Tt,geeksApi:qr,imposto:DY,impostoV2:MY,imprimir:Q9,isNumber:NY,isMobile:Vde,jsBarcode128C:zee,juntar:FY,logarDebug:kee,logarFim:gf,logarIni:vf,localIDB:Qee,mapearEstadoCodigo:J9,mapearStatus:qY,mostrarErro:cK,numberOrNull:Et,primeiraMaiuscula:Rp,primeiraMinuscula:uK,processarFilho:Ot,processarFilhoEspecifico:dK,processarFilhos:fK,ratear:mK,removerAcentos:ec,removerCaracteresEspeciais:m8,sincronismoEnviar:Je,sistemaPai:Qx,somar:pK,sqlData:Lp,sqlNum:jt,sqlStr:yt,stringOrEmpty:hK,stringOrNull:vK,selecionarCfop:Dee,tratamentoCompletoString:gK,unicos:p8,uuid:Ft,validarDocumentoNacional:jee,validarDocumentoNacionalUnico:Gee,verificarAlerta:Aee,conduta:bK,verificarPesquisa:yK,verificarErro:Da,verificarExcecao:lp,verificarSeCamposSaoValidos:See,limpeza:Eee,convertArrToObj:Wee,arredondaAbnt5891:Jee,p2p:ote,impressaoObterHtml:kde},Symbol.toStringTag,{value:"Module"}));const NN={tiposCaixa:{1:"SAT",2:"Cupom",3:"NFCe",4:"NFe"},grava:()=>{},abra:async e=>{const t=await NN.le({id:e.idCaixa}),o=Qo();let r=$db.usuario.logado.numeroDocumentoNacional,a;if(r){let s;s=await $erp().contato.where({numeroDocumentoNacional:r}).toArray(),a=s[0],a||(r=r.replace(/\D/g,""),s=await $erp().contato.where({numeroDocumentoNacional:r}).toArray(),a=s[0])}if(!(a!=null&&a.id))throw new Error("GError:Usu\xE1rio n\xE3o cadastrado.");const i={id:Ft(),tipo:"Caixa",operacao:"Abertura Caixa",status:"Aberto",idEmpresa:t.idEmpresa,idContato:a.id,dataHoraEmissao:o,valorAbertura:e.valor,idFinanceiroPlanoContaCaixa:t.idPlanoConta,observacao:e.observacao,idCaixa:e.idCaixa};await Z().documento.put(i),await Je("adicionar","documento",i.id,i);const n={id:Ft(),idDocumento:i.id,operacao:"Abertura Caixa",statusFinalizado:"Aberto",dataHoraEmissao:o,cpfUsuario:$db.usuario.logado.numeroDocumentoNacional,idDocumentoCaixa:i.id};Z().documentoStatus.put(n),await Je("adicionar","documentoStatus",n.id,n)},fecha:async e=>{e=Na(e),await Ot("documentoStatus",[],e.documentoStatus||[]),await Ot("caixaConsolidacao2",[],e.caixaConsolidacao2||[]);const t=ra(e.documentoCaixaOriginal||{},e.documentoCaixa||{});Object.keys(t).length&&(await Z().documento.update(e.documentoCaixa.id,t),await Je("atualizar","documento",e.documentoCaixa.id,t))},leNew:async e=>{if(e=e||{},"id"in e)return e.id?await Z().caixa.get(e.id)||{}:{};let t={};"idEmpresa"in e&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa);let o=Z().caixa;return Object.keys(t).length&&(o=Z().caixa.where(t)),o.toArray()},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().caixa.get(e.id)||{}:{};let t={};"idEmpresa"in e&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa);let o=Z().caixa;if(Object.keys(t).length&&(o=Z().caixa.where(t)),o=await o.toArray()||[],"idContato"in e&&e.idContato&&(t.idContato=e.idContato),t={tipo:"Caixa",...t},e.aberto===!1){const r=(await $db.hibrido.lista({table:"documento",where:{status:"Aberto",...t}})).map(a=>a.idCaixa);return o.filter(a=>!r.includes(a.id))}return e.aberto===!0?await $db.hibrido.lista({table:"documento",where:t,whereFilter:{status:["Aberto","Reaberto"]}}):[]}},Bde={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().caixaConsolidacao.put(e.atual),await Je("adicionar","caixaConsolidacao",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().caixaConsolidacao.update(e.atual.id,t),await Je("atualizar","caixaConsolidacao",e.atual.id,t))}},le:async e=>{if(e=e||{},e.id)return await Z().caixaConsolidacao.get(e.id)||{};let t=[];return e.idDocumentoCaixa&&(t=await Z().caixaConsolidacao.where({idDocumentoCaixa:e.idDocumentoCaixa}).toArray()||[]),t}},Lde={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().caixaConsolidacao2.put(e.atual),await Je("adicionar","caixaConsolidacao2",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().caixaConsolidacao2.update(e.atual.id,t),await Je("atualizar","caixaConsolidacao2",e.atual.id,t))}},le:async e=>{if(e=e||{},e.id)return await Z().caixaConsolidacao2.get(e.id)||{};let t=[];return e.idDocumentoCaixa&&(t=await Z().caixaConsolidacao2.where({idDocumentoCaixa:e.idDocumentoCaixa}).toArray()||[]),e.idDocumentoStatus&&(t=await Z().caixaConsolidacao2.where({idDocumentoStatus:e.idDocumentoStatus}).toArray()||[]),e.tabela&&(t=await Z().caixaConsolidacao2.where({tabela:e.tabela}).toArray()||[]),e.idTabela&&(t=await Z().caixaConsolidacao2.where({idTabela:e.idTabela}).toArray()||[]),t}};var $de={nomeTabela:"cfop",filtrosTabela:["cfop","codigoCfop"],async le(e={}){if(Tt.log(this.nomeTabela,"le",e),"id"in e)return e.id?await Z()[this.nomeTabela].get(e.id)||{}:{};let t={};for(const o of this.filtrosTabela)if(o in e)if(![null,void 0].includes(e[o]))t[o]=e[o];else return[];return Object.keys(t).length?Z()[this.nomeTabela].where(t).toArray():Z()[this.nomeTabela].toArray()},async grava(e){Tt.log(this.nomeTabela,"grava",e);const t=li(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(t).length&&(await Z()[this.nomeTabela].update(e.atual.id,t),await Je("atualizar",this.nomeTabela,e.atual.id,t)):(await Z()[this.nomeTabela].put(t),await Je("adicionar",this.nomeTabela,t.id,t))}},Ude={nomeTabela:"_cidade",filtrosTabela:["cidadeCodIbge","ativo"],async le(e={}){if("id"in e)return e.id?await Z()[this.nomeTabela].get(e.id)||{}:{};let t={},o={};for(const a of this.filtrosTabela){if([!0,!1].includes(e[a])){o[a]=e[a];continue}[null,void 0].includes(e[a])||(t[a]=e[a])}let r=Z()[this.nomeTabela];return Object.keys(t).length&&(r=r.where(t)),Object.keys(o).length&&(r=r.filter(a=>{for(const i of Object.keys(o))if(a[i]!==o[i])return!1;return!0})),r.toArray()}},Ul={},e_={};(function(){e_.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(Ht);var FN={},zl={},Br={};(function(){var e,t,o,r,a,i,n,s=[].slice,l={}.hasOwnProperty;e=function(){var u,c,d,m,f,p;if(p=arguments[0],f=2<=arguments.length?s.call(arguments,1):[],a(Object.assign))Object.assign.apply(null,arguments);else for(u=0,d=f.length;u<d;u++)if(m=f[u],m!=null)for(c in m)!l.call(m,c)||(p[c]=m[c]);return p},a=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},i=function(u){var c;return!!u&&((c=typeof u)=="function"||c==="object")},o=function(u){return a(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},r=function(u){var c;if(o(u))return!u.length;for(c in u)if(!!l.call(u,c))return!1;return!0},n=function(u){var c,d;return i(u)&&(d=Object.getPrototypeOf(u))&&(c=d.constructor)&&typeof c=="function"&&c instanceof c&&Function.prototype.toString.call(c)===Function.prototype.toString.call(Object)},t=function(u){return a(u.valueOf)?u.valueOf():u},Br.assign=e,Br.isFunction=a,Br.isObject=i,Br.isArray=o,Br.isEmpty=r,Br.isPlainObject=n,Br.getValue=t}).call(Ht);var wI={exports:{}};(function(){wI.exports=function(){function e(){}return e.prototype.hasFeature=function(t,o){return!0},e.prototype.createDocumentType=function(t,o,r){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(t,o,r){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(t,o){throw new Error("This DOM method is not implemented.")},e}()}).call(Ht);var II={exports:{}},RN={exports:{}},kN={exports:{}};(function(){kN.exports=function(){function e(){}return e.prototype.handleError=function(t){throw new Error(t)},e}()}).call(Ht);var VN={exports:{}};(function(){VN.exports=function(){function e(t){this.arr=t||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(t){return this.arr[t]||null},e.prototype.contains=function(t){return this.arr.indexOf(t)!==-1},e}()}).call(Ht);(function(){var e,t;e=kN.exports,t=VN.exports,RN.exports=function(){function o(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(o.prototype,"parameterNames",{get:function(){return new t(Object.keys(this.defaultParams))}}),o.prototype.getParameter=function(r){return this.params.hasOwnProperty(r)?this.params[r]:null},o.prototype.canSetParameter=function(r,a){return!0},o.prototype.setParameter=function(r,a){return a!=null?this.params[r]=a:delete this.params[r]},o}()}).call(Ht);var Mn={exports:{}},EI={exports:{}},$a={exports:{}};(function(){$a.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(Ht);var SI={exports:{}};(function(){var e;e=$a.exports,SI.exports=function(){function t(o,r,a){if(this.parent=o,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),r==null)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(a),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(o){return this.value=o||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(o){return this.options.writer.attribute(this,this.options.writer.filterOptions(o))},t.prototype.debugInfo=function(o){return o=o||this.name,o==null?"parent: <"+this.parent.name+">":"attribute: {"+o+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(o){return!(o.namespaceURI!==this.namespaceURI||o.prefix!==this.prefix||o.localName!==this.localName||o.value!==this.value)},t}()}).call(Ht);var AI={exports:{}};(function(){AI.exports=function(){function e(t){this.nodes=t}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(t){return this.nodes[t]},e.prototype.setNamedItem=function(t){var o;return o=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,o||null},e.prototype.removeNamedItem=function(t){var o;return o=this.nodes[t],delete this.nodes[t],o||null},e.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},e.prototype.getNamedItemNS=function(t,o){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(t,o){throw new Error("This DOM method is not implemented.")},e}()}).call(Ht);(function(){var e,t,o,r,a,i,n,s,l=function(c,d){for(var m in d)u.call(d,m)&&(c[m]=d[m]);function f(){this.constructor=c}return f.prototype=d.prototype,c.prototype=new f,c.__super__=d.prototype,c},u={}.hasOwnProperty;s=Br,n=s.isObject,i=s.isFunction,a=s.getValue,r=Mn.exports,e=$a.exports,t=SI.exports,o=AI.exports,EI.exports=function(c){l(d,c);function d(m,f,p){var g,b,x,_;if(d.__super__.constructor.call(this,m),f==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(f),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,p!=null&&this.attribute(p),m.type===e.Document&&(this.isRoot=!0,this.documentObject=m,m.rootObject=this,m.children)){for(_=m.children,b=0,x=_.length;b<x;b++)if(g=_[b],g.type===e.DocType){g.name=this.name;break}}}return Object.defineProperty(d.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(d.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(d.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(d.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(d.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(d.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(d.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(d.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new o(this.attribs)),this.attributeMap}}),d.prototype.clone=function(){var m,f,p,g;p=Object.create(this),p.isRoot&&(p.documentObject=null),p.attribs={},g=this.attribs;for(f in g)!u.call(g,f)||(m=g[f],p.attribs[f]=m.clone());return p.children=[],this.children.forEach(function(b){var x;return x=b.clone(),x.parent=p,p.children.push(x)}),p},d.prototype.attribute=function(m,f){var p,g;if(m!=null&&(m=a(m)),n(m))for(p in m)!u.call(m,p)||(g=m[p],this.attribute(p,g));else i(f)&&(f=f.apply()),this.options.keepNullAttributes&&f==null?this.attribs[m]=new t(this,m,""):f!=null&&(this.attribs[m]=new t(this,m,f));return this},d.prototype.removeAttribute=function(m){var f,p,g;if(m==null)throw new Error("Missing attribute name. "+this.debugInfo());if(m=a(m),Array.isArray(m))for(p=0,g=m.length;p<g;p++)f=m[p],delete this.attribs[f];else delete this.attribs[m];return this},d.prototype.toString=function(m){return this.options.writer.element(this,this.options.writer.filterOptions(m))},d.prototype.att=function(m,f){return this.attribute(m,f)},d.prototype.a=function(m,f){return this.attribute(m,f)},d.prototype.getAttribute=function(m){return this.attribs.hasOwnProperty(m)?this.attribs[m].value:null},d.prototype.setAttribute=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getAttributeNode=function(m){return this.attribs.hasOwnProperty(m)?this.attribs[m]:null},d.prototype.setAttributeNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.removeAttributeNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getAttributeNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.setAttributeNS=function(m,f,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.removeAttributeNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getAttributeNodeNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.setAttributeNodeNS=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagNameNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.hasAttribute=function(m){return this.attribs.hasOwnProperty(m)},d.prototype.hasAttributeNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.setIdAttribute=function(m,f){return this.attribs.hasOwnProperty(m)?this.attribs[m].isId:f},d.prototype.setIdAttributeNS=function(m,f,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.setIdAttributeNode=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagNameNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByClassName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.isEqualNode=function(m){var f,p,g;if(!d.__super__.isEqualNode.apply(this,arguments).isEqualNode(m)||m.namespaceURI!==this.namespaceURI||m.prefix!==this.prefix||m.localName!==this.localName||m.attribs.length!==this.attribs.length)return!1;for(f=p=0,g=this.attribs.length-1;0<=g?p<=g:p>=g;f=0<=g?++p:--p)if(!this.attribs[f].isEqualNode(m.attribs[f]))return!1;return!0},d}(r)}).call(Ht);var TI={exports:{}},w0={exports:{}};(function(){var e,t=function(r,a){for(var i in a)o.call(a,i)&&(r[i]=a[i]);function n(){this.constructor=r}return n.prototype=a.prototype,r.prototype=new n,r.__super__=a.prototype,r},o={}.hasOwnProperty;e=Mn.exports,w0.exports=function(r){t(a,r);function a(i){a.__super__.constructor.call(this,i),this.value=""}return Object.defineProperty(a.prototype,"data",{get:function(){return this.value},set:function(i){return this.value=i||""}}),Object.defineProperty(a.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(a.prototype,"textContent",{get:function(){return this.value},set:function(i){return this.value=i||""}}),a.prototype.clone=function(){return Object.create(this)},a.prototype.substringData=function(i,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.appendData=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.insertData=function(i,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.deleteData=function(i,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.replaceData=function(i,n,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isEqualNode=function(i){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(i)||i.data!==this.data)},a}(e)}).call(Ht);(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;e=$a.exports,t=w0.exports,TI.exports=function(a){o(i,a);function i(n,s){if(i.__super__.constructor.call(this,n),s==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(n){return this.options.writer.cdata(this,this.options.writer.filterOptions(n))},i}(t)}).call(Ht);var OI={exports:{}};(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;e=$a.exports,t=w0.exports,OI.exports=function(a){o(i,a);function i(n,s){if(i.__super__.constructor.call(this,n),s==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(n){return this.options.writer.comment(this,this.options.writer.filterOptions(n))},i}(t)}).call(Ht);var DI={exports:{}};(function(){var e,t,o,r=function(i,n){for(var s in n)a.call(n,s)&&(i[s]=n[s]);function l(){this.constructor=i}return l.prototype=n.prototype,i.prototype=new l,i.__super__=n.prototype,i},a={}.hasOwnProperty;o=Br.isObject,t=Mn.exports,e=$a.exports,DI.exports=function(i){r(n,i);function n(s,l,u,c){var d;n.__super__.constructor.call(this,s),o(l)&&(d=l,l=d.version,u=d.encoding,c=d.standalone),l||(l="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(l),u!=null&&(this.encoding=this.stringify.xmlEncoding(u)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return n.prototype.toString=function(s){return this.options.writer.declaration(this,this.options.writer.filterOptions(s))},n}(t)}).call(Ht);var PI={exports:{}},MI={exports:{}};(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;t=Mn.exports,e=$a.exports,MI.exports=function(a){o(i,a);function i(n,s,l,u,c,d){if(i.__super__.constructor.call(this,n),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(l==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(s));if(!u)throw new Error("Missing DTD attribute type. "+this.debugInfo(s));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(s));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(s));if(d&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(s));this.elementName=this.stringify.name(s),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(l),this.attributeType=this.stringify.dtdAttType(u),d&&(this.defaultValue=this.stringify.dtdAttDefault(d)),this.defaultValueType=c}return i.prototype.toString=function(n){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(n))},i}(t)}).call(Ht);var NI={exports:{}};(function(){var e,t,o,r=function(i,n){for(var s in n)a.call(n,s)&&(i[s]=n[s]);function l(){this.constructor=i}return l.prototype=n.prototype,i.prototype=new l,i.__super__=n.prototype,i},a={}.hasOwnProperty;o=Br.isObject,t=Mn.exports,e=$a.exports,NI.exports=function(i){r(n,i);function n(s,l,u,c){if(n.__super__.constructor.call(this,s),u==null)throw new Error("Missing DTD entity name. "+this.debugInfo(u));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(u));if(this.pe=!!l,this.name=this.stringify.name(u),this.type=e.EntityDeclaration,!o(c))this.value=this.stringify.dtdEntityValue(c),this.internal=!0;else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(u));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(u));if(this.internal=!1,c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(u))}}return Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(s){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(s))},n}(t)}).call(Ht);var FI={exports:{}};(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;t=Mn.exports,e=$a.exports,FI.exports=function(a){o(i,a);function i(n,s,l){if(i.__super__.constructor.call(this,n),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());l||(l="(#PCDATA)"),Array.isArray(l)&&(l="("+l.join(",")+")"),this.name=this.stringify.name(s),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(l)}return i.prototype.toString=function(n){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(n))},i}(t)}).call(Ht);var RI={exports:{}};(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;t=Mn.exports,e=$a.exports,RI.exports=function(a){o(i,a);function i(n,s,l){if(i.__super__.constructor.call(this,n),s==null)throw new Error("Missing DTD notation name. "+this.debugInfo(s));if(!l.pubID&&!l.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(s));this.name=this.stringify.name(s),this.type=e.NotationDeclaration,l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID))}return Object.defineProperty(i.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(i.prototype,"systemId",{get:function(){return this.sysID}}),i.prototype.toString=function(n){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(n))},i}(t)}).call(Ht);(function(){var e,t,o,r,a,i,n,s,l=function(c,d){for(var m in d)u.call(d,m)&&(c[m]=d[m]);function f(){this.constructor=c}return f.prototype=d.prototype,c.prototype=new f,c.__super__=d.prototype,c},u={}.hasOwnProperty;s=Br.isObject,n=Mn.exports,e=$a.exports,t=MI.exports,r=NI.exports,o=FI.exports,a=RI.exports,i=AI.exports,PI.exports=function(c){l(d,c);function d(m,f,p){var g,b,x,_,y,I;if(d.__super__.constructor.call(this,m),this.type=e.DocType,m.children){for(_=m.children,b=0,x=_.length;b<x;b++)if(g=_[b],g.type===e.Element){this.name=g.name;break}}this.documentObject=m,s(f)&&(y=f,f=y.pubID,p=y.sysID),p==null&&(I=[f,p],p=I[0],f=I[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),p!=null&&(this.sysID=this.stringify.dtdSysID(p))}return Object.defineProperty(d.prototype,"entities",{get:function(){var m,f,p,g,b;for(g={},b=this.children,f=0,p=b.length;f<p;f++)m=b[f],m.type===e.EntityDeclaration&&!m.pe&&(g[m.name]=m);return new i(g)}}),Object.defineProperty(d.prototype,"notations",{get:function(){var m,f,p,g,b;for(g={},b=this.children,f=0,p=b.length;f<p;f++)m=b[f],m.type===e.NotationDeclaration&&(g[m.name]=m);return new i(g)}}),Object.defineProperty(d.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(d.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(d.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),d.prototype.element=function(m,f){var p;return p=new o(this,m,f),this.children.push(p),this},d.prototype.attList=function(m,f,p,g,b){var x;return x=new t(this,m,f,p,g,b),this.children.push(x),this},d.prototype.entity=function(m,f){var p;return p=new r(this,!1,m,f),this.children.push(p),this},d.prototype.pEntity=function(m,f){var p;return p=new r(this,!0,m,f),this.children.push(p),this},d.prototype.notation=function(m,f){var p;return p=new a(this,m,f),this.children.push(p),this},d.prototype.toString=function(m){return this.options.writer.docType(this,this.options.writer.filterOptions(m))},d.prototype.ele=function(m,f){return this.element(m,f)},d.prototype.att=function(m,f,p,g,b){return this.attList(m,f,p,g,b)},d.prototype.ent=function(m,f){return this.entity(m,f)},d.prototype.pent=function(m,f){return this.pEntity(m,f)},d.prototype.not=function(m,f){return this.notation(m,f)},d.prototype.up=function(){return this.root()||this.documentObject},d.prototype.isEqualNode=function(m){return!(!d.__super__.isEqualNode.apply(this,arguments).isEqualNode(m)||m.name!==this.name||m.publicId!==this.publicId||m.systemId!==this.systemId)},d}(n)}).call(Ht);var kI={exports:{}};(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;e=$a.exports,t=Mn.exports,kI.exports=function(a){o(i,a);function i(n,s){if(i.__super__.constructor.call(this,n),s==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(n){return this.options.writer.raw(this,this.options.writer.filterOptions(n))},i}(t)}).call(Ht);var VI={exports:{}};(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;e=$a.exports,t=w0.exports,VI.exports=function(a){o(i,a);function i(n,s){if(i.__super__.constructor.call(this,n),s==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(s)}return Object.defineProperty(i.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(i.prototype,"wholeText",{get:function(){var n,s,l;for(l="",s=this.previousSibling;s;)l=s.data+l,s=s.previousSibling;for(l+=this.data,n=this.nextSibling;n;)l=l+n.data,n=n.nextSibling;return l}}),i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(n){return this.options.writer.text(this,this.options.writer.filterOptions(n))},i.prototype.splitText=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.replaceWholeText=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},i}(t)}).call(Ht);var qI={exports:{}};(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;e=$a.exports,t=w0.exports,qI.exports=function(a){o(i,a);function i(n,s,l){if(i.__super__.constructor.call(this,n),s==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(s),this.name=this.target,l&&(this.value=this.stringify.insValue(l))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(n){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(n))},i.prototype.isEqualNode=function(n){return!(!i.__super__.isEqualNode.apply(this,arguments).isEqualNode(n)||n.target!==this.target)},i}(t)}).call(Ht);var qN={exports:{}};(function(){var e,t,o=function(a,i){for(var n in i)r.call(i,n)&&(a[n]=i[n]);function s(){this.constructor=a}return s.prototype=i.prototype,a.prototype=new s,a.__super__=i.prototype,a},r={}.hasOwnProperty;t=Mn.exports,e=$a.exports,qN.exports=function(a){o(i,a);function i(n){i.__super__.constructor.call(this,n),this.type=e.Dummy}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(n){return""},i}(t)}).call(Ht);var BN={exports:{}};(function(){BN.exports=function(){function e(t){this.nodes=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(t){return this.nodes[t]||null},e}()}).call(Ht);var LN={exports:{}};(function(){LN.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(Ht);(function(){var e,t,o,r,a,i,n,s,l,u,c,d,m,f,p,g,b,x={}.hasOwnProperty;b=Br,g=b.isObject,p=b.isFunction,f=b.isEmpty,m=b.getValue,s=null,o=null,r=null,a=null,i=null,c=null,d=null,u=null,n=null,t=null,l=null,e=null,Mn.exports=function(){function _(y){this.parent=y,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,s||(s=EI.exports,o=TI.exports,r=OI.exports,a=DI.exports,i=PI.exports,c=kI.exports,d=VI.exports,u=qI.exports,n=qN.exports,t=$a.exports,l=BN.exports,e=LN.exports)}return Object.defineProperty(_.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(_.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(_.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(_.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(_.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(_.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(_.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(_.prototype,"previousSibling",{get:function(){var y;return y=this.parent.children.indexOf(this),this.parent.children[y-1]||null}}),Object.defineProperty(_.prototype,"nextSibling",{get:function(){var y;return y=this.parent.children.indexOf(this),this.parent.children[y+1]||null}}),Object.defineProperty(_.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(_.prototype,"textContent",{get:function(){var y,I,S,O,F;if(this.nodeType===t.Element||this.nodeType===t.DocumentFragment){for(F="",O=this.children,I=0,S=O.length;I<S;I++)y=O[I],y.textContent&&(F+=y.textContent);return F}else return null},set:function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),_.prototype.setParent=function(y){var I,S,O,F,M;for(this.parent=y,y&&(this.options=y.options,this.stringify=y.stringify),F=this.children,M=[],S=0,O=F.length;S<O;S++)I=F[S],M.push(I.setParent(this));return M},_.prototype.element=function(y,I,S){var O,F,M,E,D,P,N,R,z,W,j;if(P=null,I===null&&S==null&&(z=[{},null],I=z[0],S=z[1]),I==null&&(I={}),I=m(I),g(I)||(W=[I,S],S=W[0],I=W[1]),y!=null&&(y=m(y)),Array.isArray(y))for(M=0,N=y.length;M<N;M++)F=y[M],P=this.element(F);else if(p(y))P=this.element(y.apply());else if(g(y)){for(D in y)if(!!x.call(y,D))if(j=y[D],p(j)&&(j=j.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)P=this.attribute(D.substr(this.stringify.convertAttKey.length),j);else if(!this.options.separateArrayItems&&Array.isArray(j)&&f(j))P=this.dummy();else if(g(j)&&f(j))P=this.element(D);else if(!this.options.keepNullNodes&&j==null)P=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(j))for(E=0,R=j.length;E<R;E++)F=j[E],O={},O[D]=F,P=this.element(O);else g(j)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&D.indexOf(this.stringify.convertTextKey)===0?P=this.element(j):(P=this.element(D),P.element(j)):P=this.element(D,j)}else!this.options.keepNullNodes&&S===null?P=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&y.indexOf(this.stringify.convertTextKey)===0?P=this.text(S):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&y.indexOf(this.stringify.convertCDataKey)===0?P=this.cdata(S):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&y.indexOf(this.stringify.convertCommentKey)===0?P=this.comment(S):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&y.indexOf(this.stringify.convertRawKey)===0?P=this.raw(S):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&y.indexOf(this.stringify.convertPIKey)===0?P=this.instruction(y.substr(this.stringify.convertPIKey.length),S):P=this.node(y,I,S);if(P==null)throw new Error("Could not create any elements with: "+y+". "+this.debugInfo());return P},_.prototype.insertBefore=function(y,I,S){var O,F,M,E,D;if(y!=null&&y.type)return M=y,E=I,M.setParent(this),E?(F=children.indexOf(E),D=children.splice(F),children.push(M),Array.prototype.push.apply(children,D)):children.push(M),M;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return F=this.parent.children.indexOf(this),D=this.parent.children.splice(F),O=this.parent.element(y,I,S),Array.prototype.push.apply(this.parent.children,D),O},_.prototype.insertAfter=function(y,I,S){var O,F,M;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return F=this.parent.children.indexOf(this),M=this.parent.children.splice(F+1),O=this.parent.element(y,I,S),Array.prototype.push.apply(this.parent.children,M),O},_.prototype.remove=function(){var y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return y=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[y,y-y+1].concat([])),this.parent},_.prototype.node=function(y,I,S){var O,F;return y!=null&&(y=m(y)),I||(I={}),I=m(I),g(I)||(F=[I,S],S=F[0],I=F[1]),O=new s(this,y,I),S!=null&&O.text(S),this.children.push(O),O},_.prototype.text=function(y){var I;return g(y)&&this.element(y),I=new d(this,y),this.children.push(I),this},_.prototype.cdata=function(y){var I;return I=new o(this,y),this.children.push(I),this},_.prototype.comment=function(y){var I;return I=new r(this,y),this.children.push(I),this},_.prototype.commentBefore=function(y){var I,S;return I=this.parent.children.indexOf(this),S=this.parent.children.splice(I),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,S),this},_.prototype.commentAfter=function(y){var I,S;return I=this.parent.children.indexOf(this),S=this.parent.children.splice(I+1),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,S),this},_.prototype.raw=function(y){var I;return I=new c(this,y),this.children.push(I),this},_.prototype.dummy=function(){var y;return y=new n(this),y},_.prototype.instruction=function(y,I){var S,O,F,M,E;if(y!=null&&(y=m(y)),I!=null&&(I=m(I)),Array.isArray(y))for(M=0,E=y.length;M<E;M++)S=y[M],this.instruction(S);else if(g(y))for(S in y)!x.call(y,S)||(O=y[S],this.instruction(S,O));else p(I)&&(I=I.apply()),F=new u(this,y,I),this.children.push(F);return this},_.prototype.instructionBefore=function(y,I){var S,O;return S=this.parent.children.indexOf(this),O=this.parent.children.splice(S),this.parent.instruction(y,I),Array.prototype.push.apply(this.parent.children,O),this},_.prototype.instructionAfter=function(y,I){var S,O;return S=this.parent.children.indexOf(this),O=this.parent.children.splice(S+1),this.parent.instruction(y,I),Array.prototype.push.apply(this.parent.children,O),this},_.prototype.declaration=function(y,I,S){var O,F;return O=this.document(),F=new a(O,y,I,S),O.children.length===0?O.children.unshift(F):O.children[0].type===t.Declaration?O.children[0]=F:O.children.unshift(F),O.root()||O},_.prototype.dtd=function(y,I){var S,O,F,M,E,D,P,N,R,z;for(O=this.document(),F=new i(O,y,I),R=O.children,M=E=0,P=R.length;E<P;M=++E)if(S=R[M],S.type===t.DocType)return O.children[M]=F,F;for(z=O.children,M=D=0,N=z.length;D<N;M=++D)if(S=z[M],S.isRoot)return O.children.splice(M,0,F),F;return O.children.push(F),F},_.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},_.prototype.root=function(){var y;for(y=this;y;){if(y.type===t.Document)return y.rootObject;if(y.isRoot)return y;y=y.parent}},_.prototype.document=function(){var y;for(y=this;y;){if(y.type===t.Document)return y;y=y.parent}},_.prototype.end=function(y){return this.document().end(y)},_.prototype.prev=function(){var y;if(y=this.parent.children.indexOf(this),y<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[y-1]},_.prototype.next=function(){var y;if(y=this.parent.children.indexOf(this),y===-1||y===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[y+1]},_.prototype.importDocument=function(y){var I;return I=y.root().clone(),I.parent=this,I.isRoot=!1,this.children.push(I),this},_.prototype.debugInfo=function(y){var I,S;return y=y||this.name,y==null&&!((I=this.parent)!=null&&I.name)?"":y==null?"parent: <"+this.parent.name+">":(S=this.parent)!=null&&S.name?"node: <"+y+">, parent: <"+this.parent.name+">":"node: <"+y+">"},_.prototype.ele=function(y,I,S){return this.element(y,I,S)},_.prototype.nod=function(y,I,S){return this.node(y,I,S)},_.prototype.txt=function(y){return this.text(y)},_.prototype.dat=function(y){return this.cdata(y)},_.prototype.com=function(y){return this.comment(y)},_.prototype.ins=function(y,I){return this.instruction(y,I)},_.prototype.doc=function(){return this.document()},_.prototype.dec=function(y,I,S){return this.declaration(y,I,S)},_.prototype.e=function(y,I,S){return this.element(y,I,S)},_.prototype.n=function(y,I,S){return this.node(y,I,S)},_.prototype.t=function(y){return this.text(y)},_.prototype.d=function(y){return this.cdata(y)},_.prototype.c=function(y){return this.comment(y)},_.prototype.r=function(y){return this.raw(y)},_.prototype.i=function(y,I){return this.instruction(y,I)},_.prototype.u=function(){return this.up()},_.prototype.importXMLBuilder=function(y){return this.importDocument(y)},_.prototype.replaceChild=function(y,I){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.removeChild=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.appendChild=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.hasChildNodes=function(){return this.children.length!==0},_.prototype.cloneNode=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isSupported=function(y,I){return!0},_.prototype.hasAttributes=function(){return this.attribs.length!==0},_.prototype.compareDocumentPosition=function(y){var I,S;return I=this,I===y?0:this.document()!==y.document()?(S=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?S|=e.Preceding:S|=e.Following,S):I.isAncestor(y)?e.Contains|e.Preceding:I.isDescendant(y)?e.Contains|e.Following:I.isPreceding(y)?e.Preceding:e.Following},_.prototype.isSameNode=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.lookupPrefix=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isDefaultNamespace=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.lookupNamespaceURI=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isEqualNode=function(y){var I,S,O;if(y.nodeType!==this.nodeType||y.children.length!==this.children.length)return!1;for(I=S=0,O=this.children.length-1;0<=O?S<=O:S>=O;I=0<=O?++S:--S)if(!this.children[I].isEqualNode(y.children[I]))return!1;return!0},_.prototype.getFeature=function(y,I){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.setUserData=function(y,I,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.getUserData=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.contains=function(y){return y?y===this||this.isDescendant(y):!1},_.prototype.isDescendant=function(y){var I,S,O,F,M;for(M=this.children,O=0,F=M.length;O<F;O++)if(I=M[O],y===I||(S=I.isDescendant(y),S))return!0;return!1},_.prototype.isAncestor=function(y){return y.isDescendant(this)},_.prototype.isPreceding=function(y){var I,S;return I=this.treePosition(y),S=this.treePosition(this),I===-1||S===-1?!1:I<S},_.prototype.isFollowing=function(y){var I,S;return I=this.treePosition(y),S=this.treePosition(this),I===-1||S===-1?!1:I>S},_.prototype.treePosition=function(y){var I,S;return S=0,I=!1,this.foreachTreeNode(this.document(),function(O){if(S++,!I&&O===y)return I=!0}),I?S:-1},_.prototype.foreachTreeNode=function(y,I){var S,O,F,M,E;for(y||(y=this.document()),M=y.children,O=0,F=M.length;O<F;O++){if(S=M[O],E=I(S))return E;if(E=this.foreachTreeNode(S,I),E)return E}},_}()}).call(Ht);var BI={exports:{}};(function(){var e=function(o,r){return function(){return o.apply(r,arguments)}},t={}.hasOwnProperty;BI.exports=function(){function o(r){this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this);var a,i,n;r||(r={}),this.options=r,this.options.version||(this.options.version="1.0"),i=r.stringify||{};for(a in i)!t.call(i,a)||(n=i[a],this[a]=n)}return o.prototype.name=function(r){return this.options.noValidation?r:this.assertLegalName(""+r||"")},o.prototype.text=function(r){return this.options.noValidation?r:this.assertLegalChar(this.textEscape(""+r||""))},o.prototype.cdata=function(r){return this.options.noValidation?r:(r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r))},o.prototype.comment=function(r){if(this.options.noValidation)return r;if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},o.prototype.raw=function(r){return this.options.noValidation?r:""+r||""},o.prototype.attValue=function(r){return this.options.noValidation?r:this.assertLegalChar(this.attEscape(r=""+r||""))},o.prototype.insTarget=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},o.prototype.insValue=function(r){if(this.options.noValidation)return r;if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return this.assertLegalChar(r)},o.prototype.xmlVersion=function(r){if(this.options.noValidation)return r;if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},o.prototype.xmlEncoding=function(r){if(this.options.noValidation)return r;if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return this.assertLegalChar(r)},o.prototype.xmlStandalone=function(r){return this.options.noValidation?r:r?"yes":"no"},o.prototype.dtdPubID=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},o.prototype.dtdSysID=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},o.prototype.dtdElementValue=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},o.prototype.dtdAttType=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},o.prototype.dtdAttDefault=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},o.prototype.dtdEntityValue=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},o.prototype.dtdNData=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},o.prototype.convertAttKey="@",o.prototype.convertPIKey="?",o.prototype.convertTextKey="#text",o.prototype.convertCDataKey="#cdata",o.prototype.convertCommentKey="#comment",o.prototype.convertRawKey="#raw",o.prototype.assertLegalChar=function(r){var a,i;if(this.options.noValidation)return r;if(a="",this.options.version==="1.0"){if(a=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,i=r.match(a))throw new Error("Invalid character in string: "+r+" at index "+i.index)}else if(this.options.version==="1.1"&&(a=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,i=r.match(a)))throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},o.prototype.assertLegalName=function(r){var a;if(this.options.noValidation)return r;if(this.assertLegalChar(r),a=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!r.match(a))throw new Error("Invalid character in name");return r},o.prototype.textEscape=function(r){var a;return this.options.noValidation?r:(a=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(a,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},o.prototype.attEscape=function(r){var a;return this.options.noValidation?r:(a=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(a,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},o}()}).call(Ht);var t_={exports:{}},LI={exports:{}},I0={exports:{}};(function(){I0.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(Ht);(function(){var e,t,o,r={}.hasOwnProperty;o=Br.assign,e=$a.exports,t=I0.exports,LI.exports=function(){function a(i){var n,s,l;i||(i={}),this.options=i,s=i.writer||{};for(n in s)!r.call(s,n)||(l=s[n],this["_"+n]=this[n],this[n]=l)}return a.prototype.filterOptions=function(i){var n,s,l,u,c,d,m,f;return i||(i={}),i=o({},this.options,i),n={writer:this},n.pretty=i.pretty||!1,n.allowEmpty=i.allowEmpty||!1,n.indent=(s=i.indent)!=null?s:"  ",n.newline=(l=i.newline)!=null?l:`
`,n.offset=(u=i.offset)!=null?u:0,n.dontPrettyTextNodes=(c=(d=i.dontPrettyTextNodes)!=null?d:i.dontprettytextnodes)!=null?c:0,n.spaceBeforeSlash=(m=(f=i.spaceBeforeSlash)!=null?f:i.spacebeforeslash)!=null?m:"",n.spaceBeforeSlash===!0&&(n.spaceBeforeSlash=" "),n.suppressPrettyCount=0,n.user={},n.state=t.None,n},a.prototype.indent=function(i,n,s){var l;return!n.pretty||n.suppressPrettyCount?"":n.pretty&&(l=(s||0)+n.offset+1,l>0)?new Array(l).join(n.indent):""},a.prototype.endline=function(i,n,s){return!n.pretty||n.suppressPrettyCount?"":n.newline},a.prototype.attribute=function(i,n,s){var l;return this.openAttribute(i,n,s),l=" "+i.name+'="'+i.value+'"',this.closeAttribute(i,n,s),l},a.prototype.cdata=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s)+"<![CDATA[",n.state=t.InsideTag,l+=i.value,n.state=t.CloseTag,l+="]]>"+this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.comment=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s)+"<!-- ",n.state=t.InsideTag,l+=i.value,n.state=t.CloseTag,l+=" -->"+this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.declaration=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s)+"<?xml",n.state=t.InsideTag,l+=' version="'+i.version+'"',i.encoding!=null&&(l+=' encoding="'+i.encoding+'"'),i.standalone!=null&&(l+=' standalone="'+i.standalone+'"'),n.state=t.CloseTag,l+=n.spaceBeforeSlash+"?>",l+=this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.docType=function(i,n,s){var l,u,c,d,m;if(s||(s=0),this.openNode(i,n,s),n.state=t.OpenTag,d=this.indent(i,n,s),d+="<!DOCTYPE "+i.root().name,i.pubID&&i.sysID?d+=' PUBLIC "'+i.pubID+'" "'+i.sysID+'"':i.sysID&&(d+=' SYSTEM "'+i.sysID+'"'),i.children.length>0){for(d+=" [",d+=this.endline(i,n,s),n.state=t.InsideTag,m=i.children,u=0,c=m.length;u<c;u++)l=m[u],d+=this.writeChildNode(l,n,s+1);n.state=t.CloseTag,d+="]"}return n.state=t.CloseTag,d+=n.spaceBeforeSlash+">",d+=this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),d},a.prototype.element=function(i,n,s){var l,u,c,d,m,f,p,g,b,x,_,y,I,S;s||(s=0),x=!1,_="",this.openNode(i,n,s),n.state=t.OpenTag,_+=this.indent(i,n,s)+"<"+i.name,y=i.attribs;for(b in y)!r.call(y,b)||(l=y[b],_+=this.attribute(l,n,s));if(c=i.children.length,d=c===0?null:i.children[0],c===0||i.children.every(function(O){return(O.type===e.Text||O.type===e.Raw)&&O.value===""}))n.allowEmpty?(_+=">",n.state=t.CloseTag,_+="</"+i.name+">"+this.endline(i,n,s)):(n.state=t.CloseTag,_+=n.spaceBeforeSlash+"/>"+this.endline(i,n,s));else if(n.pretty&&c===1&&(d.type===e.Text||d.type===e.Raw)&&d.value!=null)_+=">",n.state=t.InsideTag,n.suppressPrettyCount++,x=!0,_+=this.writeChildNode(d,n,s+1),n.suppressPrettyCount--,x=!1,n.state=t.CloseTag,_+="</"+i.name+">"+this.endline(i,n,s);else{if(n.dontPrettyTextNodes){for(I=i.children,m=0,p=I.length;m<p;m++)if(u=I[m],(u.type===e.Text||u.type===e.Raw)&&u.value!=null){n.suppressPrettyCount++,x=!0;break}}for(_+=">"+this.endline(i,n,s),n.state=t.InsideTag,S=i.children,f=0,g=S.length;f<g;f++)u=S[f],_+=this.writeChildNode(u,n,s+1);n.state=t.CloseTag,_+=this.indent(i,n,s)+"</"+i.name+">",x&&n.suppressPrettyCount--,_+=this.endline(i,n,s),n.state=t.None}return this.closeNode(i,n,s),_},a.prototype.writeChildNode=function(i,n,s){switch(i.type){case e.CData:return this.cdata(i,n,s);case e.Comment:return this.comment(i,n,s);case e.Element:return this.element(i,n,s);case e.Raw:return this.raw(i,n,s);case e.Text:return this.text(i,n,s);case e.ProcessingInstruction:return this.processingInstruction(i,n,s);case e.Dummy:return"";case e.Declaration:return this.declaration(i,n,s);case e.DocType:return this.docType(i,n,s);case e.AttributeDeclaration:return this.dtdAttList(i,n,s);case e.ElementDeclaration:return this.dtdElement(i,n,s);case e.EntityDeclaration:return this.dtdEntity(i,n,s);case e.NotationDeclaration:return this.dtdNotation(i,n,s);default:throw new Error("Unknown XML node type: "+i.constructor.name)}},a.prototype.processingInstruction=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s)+"<?",n.state=t.InsideTag,l+=i.target,i.value&&(l+=" "+i.value),n.state=t.CloseTag,l+=n.spaceBeforeSlash+"?>",l+=this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.raw=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s),n.state=t.InsideTag,l+=i.value,n.state=t.CloseTag,l+=this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.text=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s),n.state=t.InsideTag,l+=i.value,n.state=t.CloseTag,l+=this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.dtdAttList=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s)+"<!ATTLIST",n.state=t.InsideTag,l+=" "+i.elementName+" "+i.attributeName+" "+i.attributeType,i.defaultValueType!=="#DEFAULT"&&(l+=" "+i.defaultValueType),i.defaultValue&&(l+=' "'+i.defaultValue+'"'),n.state=t.CloseTag,l+=n.spaceBeforeSlash+">"+this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.dtdElement=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s)+"<!ELEMENT",n.state=t.InsideTag,l+=" "+i.name+" "+i.value,n.state=t.CloseTag,l+=n.spaceBeforeSlash+">"+this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.dtdEntity=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s)+"<!ENTITY",n.state=t.InsideTag,i.pe&&(l+=" %"),l+=" "+i.name,i.value?l+=' "'+i.value+'"':(i.pubID&&i.sysID?l+=' PUBLIC "'+i.pubID+'" "'+i.sysID+'"':i.sysID&&(l+=' SYSTEM "'+i.sysID+'"'),i.nData&&(l+=" NDATA "+i.nData)),n.state=t.CloseTag,l+=n.spaceBeforeSlash+">"+this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.dtdNotation=function(i,n,s){var l;return this.openNode(i,n,s),n.state=t.OpenTag,l=this.indent(i,n,s)+"<!NOTATION",n.state=t.InsideTag,l+=" "+i.name,i.pubID&&i.sysID?l+=' PUBLIC "'+i.pubID+'" "'+i.sysID+'"':i.pubID?l+=' PUBLIC "'+i.pubID+'"':i.sysID&&(l+=' SYSTEM "'+i.sysID+'"'),n.state=t.CloseTag,l+=n.spaceBeforeSlash+">"+this.endline(i,n,s),n.state=t.None,this.closeNode(i,n,s),l},a.prototype.openNode=function(i,n,s){},a.prototype.closeNode=function(i,n,s){},a.prototype.openAttribute=function(i,n,s){},a.prototype.closeAttribute=function(i,n,s){},a}()}).call(Ht);(function(){var e,t=function(r,a){for(var i in a)o.call(a,i)&&(r[i]=a[i]);function n(){this.constructor=r}return n.prototype=a.prototype,r.prototype=new n,r.__super__=a.prototype,r},o={}.hasOwnProperty;e=LI.exports,t_.exports=function(r){t(a,r);function a(i){a.__super__.constructor.call(this,i)}return a.prototype.document=function(i,n){var s,l,u,c,d;for(n=this.filterOptions(n),c="",d=i.children,l=0,u=d.length;l<u;l++)s=d[l],c+=this.writeChildNode(s,n,0);return n.pretty&&c.slice(-n.newline.length)===n.newline&&(c=c.slice(0,-n.newline.length)),c},a}(e)}).call(Ht);(function(){var e,t,o,r,a,i,n,s=function(u,c){for(var d in c)l.call(c,d)&&(u[d]=c[d]);function m(){this.constructor=u}return m.prototype=c.prototype,u.prototype=new m,u.__super__=c.prototype,u},l={}.hasOwnProperty;n=Br.isPlainObject,o=wI.exports,t=RN.exports,r=Mn.exports,e=$a.exports,i=BI.exports,a=t_.exports,II.exports=function(u){s(c,u);function c(d){c.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new t,d||(d={}),d.writer||(d.writer=new a),this.options=d,this.stringify=new i(d)}return Object.defineProperty(c.prototype,"implementation",{value:new o}),Object.defineProperty(c.prototype,"doctype",{get:function(){var d,m,f,p;for(p=this.children,m=0,f=p.length;m<f;m++)if(d=p[m],d.type===e.DocType)return d;return null}}),Object.defineProperty(c.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(c.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(c.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(c.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(c.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(c.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(c.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(c.prototype,"origin",{get:function(){return null}}),Object.defineProperty(c.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(c.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(c.prototype,"contentType",{get:function(){return null}}),c.prototype.end=function(d){var m;return m={},d?n(d)&&(m=d,d=this.options.writer):d=this.options.writer,d.document(this,d.filterOptions(m))},c.prototype.toString=function(d){return this.options.writer.document(this,this.options.writer.filterOptions(d))},c.prototype.createElement=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createTextNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createComment=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createCDATASection=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createProcessingInstruction=function(d,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createAttribute=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createEntityReference=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.importNode=function(d,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createElementNS=function(d,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createAttributeNS=function(d,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(d,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementById=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.adoptNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.renameNode=function(d,m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByClassName=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createEvent=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createNodeIterator=function(d,m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createTreeWalker=function(d,m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},c}(r)}).call(Ht);var $N={exports:{}};(function(){var e,t,o,r,a,i,n,s,l,u,c,d,m,f,p,g,b,x,_,y,I,S,O,F={}.hasOwnProperty;O=Br,I=O.isObject,y=O.isFunction,S=O.isPlainObject,_=O.getValue,e=$a.exports,d=II.exports,m=EI.exports,r=TI.exports,a=OI.exports,p=kI.exports,x=VI.exports,f=qI.exports,u=DI.exports,c=PI.exports,i=MI.exports,s=NI.exports,n=FI.exports,l=RI.exports,o=SI.exports,b=BI.exports,g=t_.exports,t=I0.exports,$N.exports=function(){function M(E,D,P){var N;this.name="?xml",this.type=e.Document,E||(E={}),N={},E.writer?S(E.writer)&&(N=E.writer,E.writer=new g):E.writer=new g,this.options=E,this.writer=E.writer,this.writerOptions=this.writer.filterOptions(N),this.stringify=new b(E),this.onDataCallback=D||function(){},this.onEndCallback=P||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return M.prototype.createChildNode=function(E){var D,P,N,R,z,W,j,Q;switch(E.type){case e.CData:this.cdata(E.value);break;case e.Comment:this.comment(E.value);break;case e.Element:N={},j=E.attribs;for(P in j)!F.call(j,P)||(D=j[P],N[P]=D.value);this.node(E.name,N);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(E.value);break;case e.Text:this.text(E.value);break;case e.ProcessingInstruction:this.instruction(E.target,E.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+E.constructor.name)}for(Q=E.children,z=0,W=Q.length;z<W;z++)R=Q[z],this.createChildNode(R),R.type===e.Element&&this.up();return this},M.prototype.dummy=function(){return this},M.prototype.node=function(E,D,P){var N;if(E==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(E));return this.openCurrent(),E=_(E),D==null&&(D={}),D=_(D),I(D)||(N=[D,P],P=N[0],D=N[1]),this.currentNode=new m(this,E,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,P!=null&&this.text(P),this},M.prototype.element=function(E,D,P){var N,R,z,W,j,Q;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(E)||I(E)||y(E))for(W=this.options.noValidation,this.options.noValidation=!0,Q=new d(this.options).element("TEMP_ROOT"),Q.element(E),this.options.noValidation=W,j=Q.children,R=0,z=j.length;R<z;R++)N=j[R],this.createChildNode(N),N.type===e.Element&&this.up();else this.node(E,D,P);return this},M.prototype.attribute=function(E,D){var P,N;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(E));if(E!=null&&(E=_(E)),I(E))for(P in E)!F.call(E,P)||(N=E[P],this.attribute(P,N));else y(D)&&(D=D.apply()),this.options.keepNullAttributes&&D==null?this.currentNode.attribs[E]=new o(this,E,""):D!=null&&(this.currentNode.attribs[E]=new o(this,E,D));return this},M.prototype.text=function(E){var D;return this.openCurrent(),D=new x(this,E),this.onData(this.writer.text(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.cdata=function(E){var D;return this.openCurrent(),D=new r(this,E),this.onData(this.writer.cdata(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.comment=function(E){var D;return this.openCurrent(),D=new a(this,E),this.onData(this.writer.comment(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.raw=function(E){var D;return this.openCurrent(),D=new p(this,E),this.onData(this.writer.raw(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.instruction=function(E,D){var P,N,R,z,W;if(this.openCurrent(),E!=null&&(E=_(E)),D!=null&&(D=_(D)),Array.isArray(E))for(P=0,z=E.length;P<z;P++)N=E[P],this.instruction(N);else if(I(E))for(N in E)!F.call(E,N)||(R=E[N],this.instruction(N,R));else y(D)&&(D=D.apply()),W=new f(this,E,D),this.onData(this.writer.processingInstruction(W,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},M.prototype.declaration=function(E,D,P){var N;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return N=new u(this,E,D,P),this.onData(this.writer.declaration(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.doctype=function(E,D,P){if(this.openCurrent(),E==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,D,P),this.currentNode.rootNodeName=E,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},M.prototype.dtdElement=function(E,D){var P;return this.openCurrent(),P=new n(this,E,D),this.onData(this.writer.dtdElement(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.attList=function(E,D,P,N,R){var z;return this.openCurrent(),z=new i(this,E,D,P,N,R),this.onData(this.writer.dtdAttList(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.entity=function(E,D){var P;return this.openCurrent(),P=new s(this,!1,E,D),this.onData(this.writer.dtdEntity(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.pEntity=function(E,D){var P;return this.openCurrent(),P=new s(this,!0,E,D),this.onData(this.writer.dtdEntity(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.notation=function(E,D){var P;return this.openCurrent(),P=new l(this,E,D),this.onData(this.writer.dtdNotation(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},M.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},M.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},M.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},M.prototype.openNode=function(E){var D,P,N,R;if(!E.isOpen){if(!this.root&&this.currentLevel===0&&E.type===e.Element&&(this.root=E),P="",E.type===e.Element){this.writerOptions.state=t.OpenTag,P=this.writer.indent(E,this.writerOptions,this.currentLevel)+"<"+E.name,R=E.attribs;for(N in R)!F.call(R,N)||(D=R[N],P+=this.writer.attribute(D,this.writerOptions,this.currentLevel));P+=(E.children?">":"/>")+this.writer.endline(E,this.writerOptions,this.currentLevel),this.writerOptions.state=t.InsideTag}else this.writerOptions.state=t.OpenTag,P=this.writer.indent(E,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+E.rootNodeName,E.pubID&&E.sysID?P+=' PUBLIC "'+E.pubID+'" "'+E.sysID+'"':E.sysID&&(P+=' SYSTEM "'+E.sysID+'"'),E.children?(P+=" [",this.writerOptions.state=t.InsideTag):(this.writerOptions.state=t.CloseTag,P+=">"),P+=this.writer.endline(E,this.writerOptions,this.currentLevel);return this.onData(P,this.currentLevel),E.isOpen=!0}},M.prototype.closeNode=function(E){var D;if(!E.isClosed)return D="",this.writerOptions.state=t.CloseTag,E.type===e.Element?D=this.writer.indent(E,this.writerOptions,this.currentLevel)+"</"+E.name+">"+this.writer.endline(E,this.writerOptions,this.currentLevel):D=this.writer.indent(E,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(E,this.writerOptions,this.currentLevel),this.writerOptions.state=t.None,this.onData(D,this.currentLevel),E.isClosed=!0},M.prototype.onData=function(E,D){return this.documentStarted=!0,this.onDataCallback(E,D+1)},M.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},M.prototype.debugInfo=function(E){return E==null?"":"node: <"+E+">"},M.prototype.ele=function(){return this.element.apply(this,arguments)},M.prototype.nod=function(E,D,P){return this.node(E,D,P)},M.prototype.txt=function(E){return this.text(E)},M.prototype.dat=function(E){return this.cdata(E)},M.prototype.com=function(E){return this.comment(E)},M.prototype.ins=function(E,D){return this.instruction(E,D)},M.prototype.dec=function(E,D,P){return this.declaration(E,D,P)},M.prototype.dtd=function(E,D,P){return this.doctype(E,D,P)},M.prototype.e=function(E,D,P){return this.element(E,D,P)},M.prototype.n=function(E,D,P){return this.node(E,D,P)},M.prototype.t=function(E){return this.text(E)},M.prototype.d=function(E){return this.cdata(E)},M.prototype.c=function(E){return this.comment(E)},M.prototype.r=function(E){return this.raw(E)},M.prototype.i=function(E,D){return this.instruction(E,D)},M.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},M.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},M.prototype.ent=function(E,D){return this.entity(E,D)},M.prototype.pent=function(E,D){return this.pEntity(E,D)},M.prototype.not=function(E,D){return this.notation(E,D)},M}()}).call(Ht);var UN={exports:{}};(function(){var e,t,o,r=function(i,n){for(var s in n)a.call(n,s)&&(i[s]=n[s]);function l(){this.constructor=i}return l.prototype=n.prototype,i.prototype=new l,i.__super__=n.prototype,i},a={}.hasOwnProperty;e=$a.exports,o=LI.exports,t=I0.exports,UN.exports=function(i){r(n,i);function n(s,l){this.stream=s,n.__super__.constructor.call(this,l)}return n.prototype.endline=function(s,l,u){return s.isLastRootNode&&l.state===t.CloseTag?"":n.__super__.endline.call(this,s,l,u)},n.prototype.document=function(s,l){var u,c,d,m,f,p,g,b,x;for(g=s.children,c=d=0,f=g.length;d<f;c=++d)u=g[c],u.isLastRootNode=c===s.children.length-1;for(l=this.filterOptions(l),b=s.children,x=[],m=0,p=b.length;m<p;m++)u=b[m],x.push(this.writeChildNode(u,l,0));return x},n.prototype.attribute=function(s,l,u){return this.stream.write(n.__super__.attribute.call(this,s,l,u))},n.prototype.cdata=function(s,l,u){return this.stream.write(n.__super__.cdata.call(this,s,l,u))},n.prototype.comment=function(s,l,u){return this.stream.write(n.__super__.comment.call(this,s,l,u))},n.prototype.declaration=function(s,l,u){return this.stream.write(n.__super__.declaration.call(this,s,l,u))},n.prototype.docType=function(s,l,u){var c,d,m,f;if(u||(u=0),this.openNode(s,l,u),l.state=t.OpenTag,this.stream.write(this.indent(s,l,u)),this.stream.write("<!DOCTYPE "+s.root().name),s.pubID&&s.sysID?this.stream.write(' PUBLIC "'+s.pubID+'" "'+s.sysID+'"'):s.sysID&&this.stream.write(' SYSTEM "'+s.sysID+'"'),s.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(s,l,u)),l.state=t.InsideTag,f=s.children,d=0,m=f.length;d<m;d++)c=f[d],this.writeChildNode(c,l,u+1);l.state=t.CloseTag,this.stream.write("]")}return l.state=t.CloseTag,this.stream.write(l.spaceBeforeSlash+">"),this.stream.write(this.endline(s,l,u)),l.state=t.None,this.closeNode(s,l,u)},n.prototype.element=function(s,l,u){var c,d,m,f,p,g,b,x,_;u||(u=0),this.openNode(s,l,u),l.state=t.OpenTag,this.stream.write(this.indent(s,l,u)+"<"+s.name),x=s.attribs;for(b in x)!a.call(x,b)||(c=x[b],this.attribute(c,l,u));if(m=s.children.length,f=m===0?null:s.children[0],m===0||s.children.every(function(y){return(y.type===e.Text||y.type===e.Raw)&&y.value===""}))l.allowEmpty?(this.stream.write(">"),l.state=t.CloseTag,this.stream.write("</"+s.name+">")):(l.state=t.CloseTag,this.stream.write(l.spaceBeforeSlash+"/>"));else if(l.pretty&&m===1&&(f.type===e.Text||f.type===e.Raw)&&f.value!=null)this.stream.write(">"),l.state=t.InsideTag,l.suppressPrettyCount++,this.writeChildNode(f,l,u+1),l.suppressPrettyCount--,l.state=t.CloseTag,this.stream.write("</"+s.name+">");else{for(this.stream.write(">"+this.endline(s,l,u)),l.state=t.InsideTag,_=s.children,p=0,g=_.length;p<g;p++)d=_[p],this.writeChildNode(d,l,u+1);l.state=t.CloseTag,this.stream.write(this.indent(s,l,u)+"</"+s.name+">")}return this.stream.write(this.endline(s,l,u)),l.state=t.None,this.closeNode(s,l,u)},n.prototype.processingInstruction=function(s,l,u){return this.stream.write(n.__super__.processingInstruction.call(this,s,l,u))},n.prototype.raw=function(s,l,u){return this.stream.write(n.__super__.raw.call(this,s,l,u))},n.prototype.text=function(s,l,u){return this.stream.write(n.__super__.text.call(this,s,l,u))},n.prototype.dtdAttList=function(s,l,u){return this.stream.write(n.__super__.dtdAttList.call(this,s,l,u))},n.prototype.dtdElement=function(s,l,u){return this.stream.write(n.__super__.dtdElement.call(this,s,l,u))},n.prototype.dtdEntity=function(s,l,u){return this.stream.write(n.__super__.dtdEntity.call(this,s,l,u))},n.prototype.dtdNotation=function(s,l,u){return this.stream.write(n.__super__.dtdNotation.call(this,s,l,u))},n}(o)}).call(Ht);(function(){var e,t,o,r,a,i,n,s,l,u;u=Br,s=u.assign,l=u.isFunction,o=wI.exports,r=II.exports,a=$N.exports,n=t_.exports,i=UN.exports,e=$a.exports,t=I0.exports,zl.create=function(c,d,m,f){var p,g;if(c==null)throw new Error("Root element needs a name.");return f=s({},d,m,f),p=new r(f),g=p.element(c),f.headless||(p.declaration(f),(f.pubID!=null||f.sysID!=null)&&p.dtd(f)),g},zl.begin=function(c,d,m){var f;return l(c)&&(f=[c,d],d=f[0],m=f[1],c={}),d?new a(c,d,m):new r(c)},zl.stringWriter=function(c){return new n(c)},zl.streamWriter=function(c,d){return new i(c,d)},zl.implementation=new o,zl.nodeType=e,zl.writerState=t}).call(Ht);(function(){var e,t,o,r,a,i={}.hasOwnProperty;e=zl,t=e_.defaults,r=function(n){return typeof n=="string"&&(n.indexOf("&")>=0||n.indexOf(">")>=0||n.indexOf("<")>=0)},a=function(n){return"<![CDATA["+o(n)+"]]>"},o=function(n){return n.replace("]]>","]]]]><![CDATA[>")},FN.Builder=function(){function n(s){var l,u,c;this.options={},u=t["0.2"];for(l in u)!i.call(u,l)||(c=u[l],this.options[l]=c);for(l in s)!i.call(s,l)||(c=s[l],this.options[l]=c)}return n.prototype.buildObject=function(s){var l,u,c,d,m;return l=this.options.attrkey,u=this.options.charkey,Object.keys(s).length===1&&this.options.rootName===t["0.2"].rootName?(m=Object.keys(s)[0],s=s[m]):m=this.options.rootName,c=function(f){return function(p,g){var b,x,_,y,I,S;if(typeof g!="object")f.options.cdata&&r(g)?p.raw(a(g)):p.txt(g);else if(Array.isArray(g)){for(y in g)if(!!i.call(g,y)){x=g[y];for(I in x)_=x[I],p=c(p.ele(I),_).up()}}else for(I in g)if(!!i.call(g,I))if(x=g[I],I===l){if(typeof x=="object")for(b in x)S=x[b],p=p.att(b,S)}else if(I===u)f.options.cdata&&r(x)?p=p.raw(a(x)):p=p.txt(x);else if(Array.isArray(x))for(y in x)!i.call(x,y)||(_=x[y],typeof _=="string"?f.options.cdata&&r(_)?p=p.ele(I).raw(a(_)).up():p=p.ele(I,_).up():p=c(p.ele(I),_).up());else typeof x=="object"?p=c(p.ele(I),x).up():typeof x=="string"&&f.options.cdata&&r(x)?p=p.ele(I).raw(a(x)).up():(x==null&&(x=""),p=p.ele(I,x.toString()).up());return p}}(this),d=e.create(m,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),c(d,s).end(this.options.renderOpts)},n}()}).call(Ht);var zN={},HN={},jN={},CC={exports:{}},GN={},o_={};o_.byteLength=jde;o_.toByteArray=Wde;o_.fromByteArray=Kde;var vs=[],gn=[],zde=typeof Uint8Array!="undefined"?Uint8Array:Array,g2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dd=0,Hde=g2.length;Dd<Hde;++Dd)vs[Dd]=g2[Dd],gn[g2.charCodeAt(Dd)]=Dd;gn["-".charCodeAt(0)]=62;gn["_".charCodeAt(0)]=63;function WN(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");o===-1&&(o=t);var r=o===t?0:4-o%4;return[o,r]}function jde(e){var t=WN(e),o=t[0],r=t[1];return(o+r)*3/4-r}function Gde(e,t,o){return(t+o)*3/4-o}function Wde(e){var t,o=WN(e),r=o[0],a=o[1],i=new zde(Gde(e,r,a)),n=0,s=a>0?r-4:r,l;for(l=0;l<s;l+=4)t=gn[e.charCodeAt(l)]<<18|gn[e.charCodeAt(l+1)]<<12|gn[e.charCodeAt(l+2)]<<6|gn[e.charCodeAt(l+3)],i[n++]=t>>16&255,i[n++]=t>>8&255,i[n++]=t&255;return a===2&&(t=gn[e.charCodeAt(l)]<<2|gn[e.charCodeAt(l+1)]>>4,i[n++]=t&255),a===1&&(t=gn[e.charCodeAt(l)]<<10|gn[e.charCodeAt(l+1)]<<4|gn[e.charCodeAt(l+2)]>>2,i[n++]=t>>8&255,i[n++]=t&255),i}function Xde(e){return vs[e>>18&63]+vs[e>>12&63]+vs[e>>6&63]+vs[e&63]}function Yde(e,t,o){for(var r,a=[],i=t;i<o;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),a.push(Xde(r));return a.join("")}function Kde(e){for(var t,o=e.length,r=o%3,a=[],i=16383,n=0,s=o-r;n<s;n+=i)a.push(Yde(e,n,n+i>s?s:n+i));return r===1?(t=e[o-1],a.push(vs[t>>2]+vs[t<<4&63]+"==")):r===2&&(t=(e[o-2]<<8)+e[o-1],a.push(vs[t>>10]+vs[t>>4&63]+vs[t<<2&63]+"=")),a.join("")}var $I={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$I.read=function(e,t,o,r,a){var i,n,s=a*8-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=o?a-1:0,m=o?-1:1,f=e[t+d];for(d+=m,i=f&(1<<-c)-1,f>>=-c,c+=s;c>0;i=i*256+e[t+d],d+=m,c-=8);for(n=i&(1<<-c)-1,i>>=-c,c+=r;c>0;n=n*256+e[t+d],d+=m,c-=8);if(i===0)i=1-u;else{if(i===l)return n?NaN:(f?-1:1)*(1/0);n=n+Math.pow(2,r),i=i-u}return(f?-1:1)*n*Math.pow(2,i-r)};$I.write=function(e,t,o,r,a,i){var n,s,l,u=i*8-a-1,c=(1<<u)-1,d=c>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,p=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,n=c):(n=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-n))<1&&(n--,l*=2),n+d>=1?t+=m/l:t+=m*Math.pow(2,1-d),t*l>=2&&(n++,l/=2),n+d>=c?(s=0,n=c):n+d>=1?(s=(t*l-1)*Math.pow(2,a),n=n+d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),n=0));a>=8;e[o+f]=s&255,f+=p,s/=256,a-=8);for(n=n<<a|s,u+=a;u>0;e[o+f]=n&255,f+=p,n/=256,u-=8);e[o+f-p]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=o_,o=$I,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var H=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf(H,q),H.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function n(H){if(H>a)throw new RangeError('The value "'+H+'" is invalid for option "size"');var q=new Uint8Array(H);return Object.setPrototypeOf(q,s.prototype),q}function s(H,q,k){if(typeof H=="number"){if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(H)}return l(H,q,k)}s.poolSize=8192;function l(H,q,k){if(typeof H=="string")return m(H,q);if(ArrayBuffer.isView(H))return p(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(U(H,ArrayBuffer)||H&&U(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(U(H,SharedArrayBuffer)||H&&U(H.buffer,SharedArrayBuffer)))return g(H,q,k);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=H.valueOf&&H.valueOf();if(Y!=null&&Y!==H)return s.from(Y,q,k);var ne=b(H);if(ne)return ne;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return s.from(H[Symbol.toPrimitive]("string"),q,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}s.from=function(H,q,k){return l(H,q,k)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function c(H,q,k){return u(H),H<=0?n(H):q!==void 0?typeof k=="string"?n(H).fill(q,k):n(H).fill(q):n(H)}s.alloc=function(H,q,k){return c(H,q,k)};function d(H){return u(H),n(H<0?0:x(H)|0)}s.allocUnsafe=function(H){return d(H)},s.allocUnsafeSlow=function(H){return d(H)};function m(H,q){if((typeof q!="string"||q==="")&&(q="utf8"),!s.isEncoding(q))throw new TypeError("Unknown encoding: "+q);var k=y(H,q)|0,Y=n(k),ne=Y.write(H,q);return ne!==k&&(Y=Y.slice(0,ne)),Y}function f(H){for(var q=H.length<0?0:x(H.length)|0,k=n(q),Y=0;Y<q;Y+=1)k[Y]=H[Y]&255;return k}function p(H){if(U(H,Uint8Array)){var q=new Uint8Array(H);return g(q.buffer,q.byteOffset,q.byteLength)}return f(H)}function g(H,q,k){if(q<0||H.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<q+(k||0))throw new RangeError('"length" is outside of buffer bounds');var Y;return q===void 0&&k===void 0?Y=new Uint8Array(H):k===void 0?Y=new Uint8Array(H,q):Y=new Uint8Array(H,q,k),Object.setPrototypeOf(Y,s.prototype),Y}function b(H){if(s.isBuffer(H)){var q=x(H.length)|0,k=n(q);return k.length===0||H.copy(k,0,0,q),k}if(H.length!==void 0)return typeof H.length!="number"||ie(H.length)?n(0):f(H);if(H.type==="Buffer"&&Array.isArray(H.data))return f(H.data)}function x(H){if(H>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return H|0}function _(H){return+H!=H&&(H=0),s.alloc(+H)}s.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==s.prototype},s.compare=function(q,k){if(U(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),U(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),!s.isBuffer(q)||!s.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===k)return 0;for(var Y=q.length,ne=k.length,oe=0,Ce=Math.min(Y,ne);oe<Ce;++oe)if(q[oe]!==k[oe]){Y=q[oe],ne=k[oe];break}return Y<ne?-1:ne<Y?1:0},s.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(q,k){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return s.alloc(0);var Y;if(k===void 0)for(k=0,Y=0;Y<q.length;++Y)k+=q[Y].length;var ne=s.allocUnsafe(k),oe=0;for(Y=0;Y<q.length;++Y){var Ce=q[Y];if(U(Ce,Uint8Array))oe+Ce.length>ne.length?s.from(Ce).copy(ne,oe):Uint8Array.prototype.set.call(ne,Ce,oe);else if(s.isBuffer(Ce))Ce.copy(ne,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=Ce.length}return ne};function y(H,q){if(s.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||U(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var k=H.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&k===0)return 0;for(var ne=!1;;)switch(q){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return Me(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return V(H).length;default:if(ne)return Y?-1:Me(H).length;q=(""+q).toLowerCase(),ne=!0}}s.byteLength=y;function I(H,q,k){var Y=!1;if((q===void 0||q<0)&&(q=0),q>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,q>>>=0,k<=q))return"";for(H||(H="utf8");;)switch(H){case"hex":return _e(this,q,k);case"utf8":case"utf-8":return z(this,q,k);case"ascii":return Q(this,q,k);case"latin1":case"binary":return se(this,q,k);case"base64":return R(this,q,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,q,k);default:if(Y)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),Y=!0}}s.prototype._isBuffer=!0;function S(H,q,k){var Y=H[q];H[q]=H[k],H[k]=Y}s.prototype.swap16=function(){var q=this.length;if(q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<q;k+=2)S(this,k,k+1);return this},s.prototype.swap32=function(){var q=this.length;if(q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<q;k+=4)S(this,k,k+3),S(this,k+1,k+2);return this},s.prototype.swap64=function(){var q=this.length;if(q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<q;k+=8)S(this,k,k+7),S(this,k+1,k+6),S(this,k+2,k+5),S(this,k+3,k+4);return this},s.prototype.toString=function(){var q=this.length;return q===0?"":arguments.length===0?z(this,0,q):I.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(q){if(!s.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:s.compare(this,q)===0},s.prototype.inspect=function(){var q="",k=e.INSPECT_MAX_BYTES;return q=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(q+=" ... "),"<Buffer "+q+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(q,k,Y,ne,oe){if(U(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),!s.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(k===void 0&&(k=0),Y===void 0&&(Y=q?q.length:0),ne===void 0&&(ne=0),oe===void 0&&(oe=this.length),k<0||Y>q.length||ne<0||oe>this.length)throw new RangeError("out of range index");if(ne>=oe&&k>=Y)return 0;if(ne>=oe)return-1;if(k>=Y)return 1;if(k>>>=0,Y>>>=0,ne>>>=0,oe>>>=0,this===q)return 0;for(var Ce=oe-ne,ve=Y-k,Fe=Math.min(Ce,ve),Le=this.slice(ne,oe),tt=q.slice(k,Y),ot=0;ot<Fe;++ot)if(Le[ot]!==tt[ot]){Ce=Le[ot],ve=tt[ot];break}return Ce<ve?-1:ve<Ce?1:0};function O(H,q,k,Y,ne){if(H.length===0)return-1;if(typeof k=="string"?(Y=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,ie(k)&&(k=ne?0:H.length-1),k<0&&(k=H.length+k),k>=H.length){if(ne)return-1;k=H.length-1}else if(k<0)if(ne)k=0;else return-1;if(typeof q=="string"&&(q=s.from(q,Y)),s.isBuffer(q))return q.length===0?-1:F(H,q,k,Y,ne);if(typeof q=="number")return q=q&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(H,q,k):Uint8Array.prototype.lastIndexOf.call(H,q,k):F(H,[q],k,Y,ne);throw new TypeError("val must be string, number or Buffer")}function F(H,q,k,Y,ne){var oe=1,Ce=H.length,ve=q.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(H.length<2||q.length<2)return-1;oe=2,Ce/=2,ve/=2,k/=2}function Fe(Zt,vo){return oe===1?Zt[vo]:Zt.readUInt16BE(vo*oe)}var Le;if(ne){var tt=-1;for(Le=k;Le<Ce;Le++)if(Fe(H,Le)===Fe(q,tt===-1?0:Le-tt)){if(tt===-1&&(tt=Le),Le-tt+1===ve)return tt*oe}else tt!==-1&&(Le-=Le-tt),tt=-1}else for(k+ve>Ce&&(k=Ce-ve),Le=k;Le>=0;Le--){for(var ot=!0,It=0;It<ve;It++)if(Fe(H,Le+It)!==Fe(q,It)){ot=!1;break}if(ot)return Le}return-1}s.prototype.includes=function(q,k,Y){return this.indexOf(q,k,Y)!==-1},s.prototype.indexOf=function(q,k,Y){return O(this,q,k,Y,!0)},s.prototype.lastIndexOf=function(q,k,Y){return O(this,q,k,Y,!1)};function M(H,q,k,Y){k=Number(k)||0;var ne=H.length-k;Y?(Y=Number(Y),Y>ne&&(Y=ne)):Y=ne;var oe=q.length;Y>oe/2&&(Y=oe/2);for(var Ce=0;Ce<Y;++Ce){var ve=parseInt(q.substr(Ce*2,2),16);if(ie(ve))return Ce;H[k+Ce]=ve}return Ce}function E(H,q,k,Y){return L(Me(q,H.length-k),H,k,Y)}function D(H,q,k,Y){return L(fe(q),H,k,Y)}function P(H,q,k,Y){return L(V(q),H,k,Y)}function N(H,q,k,Y){return L(G(q,H.length-k),H,k,Y)}s.prototype.write=function(q,k,Y,ne){if(k===void 0)ne="utf8",Y=this.length,k=0;else if(Y===void 0&&typeof k=="string")ne=k,Y=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(Y)?(Y=Y>>>0,ne===void 0&&(ne="utf8")):(ne=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var oe=this.length-k;if((Y===void 0||Y>oe)&&(Y=oe),q.length>0&&(Y<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");for(var Ce=!1;;)switch(ne){case"hex":return M(this,q,k,Y);case"utf8":case"utf-8":return E(this,q,k,Y);case"ascii":case"latin1":case"binary":return D(this,q,k,Y);case"base64":return P(this,q,k,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,q,k,Y);default:if(Ce)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ce=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(H,q,k){return q===0&&k===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(q,k))}function z(H,q,k){k=Math.min(H.length,k);for(var Y=[],ne=q;ne<k;){var oe=H[ne],Ce=null,ve=oe>239?4:oe>223?3:oe>191?2:1;if(ne+ve<=k){var Fe,Le,tt,ot;switch(ve){case 1:oe<128&&(Ce=oe);break;case 2:Fe=H[ne+1],(Fe&192)===128&&(ot=(oe&31)<<6|Fe&63,ot>127&&(Ce=ot));break;case 3:Fe=H[ne+1],Le=H[ne+2],(Fe&192)===128&&(Le&192)===128&&(ot=(oe&15)<<12|(Fe&63)<<6|Le&63,ot>2047&&(ot<55296||ot>57343)&&(Ce=ot));break;case 4:Fe=H[ne+1],Le=H[ne+2],tt=H[ne+3],(Fe&192)===128&&(Le&192)===128&&(tt&192)===128&&(ot=(oe&15)<<18|(Fe&63)<<12|(Le&63)<<6|tt&63,ot>65535&&ot<1114112&&(Ce=ot))}}Ce===null?(Ce=65533,ve=1):Ce>65535&&(Ce-=65536,Y.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),Y.push(Ce),ne+=ve}return j(Y)}var W=4096;function j(H){var q=H.length;if(q<=W)return String.fromCharCode.apply(String,H);for(var k="",Y=0;Y<q;)k+=String.fromCharCode.apply(String,H.slice(Y,Y+=W));return k}function Q(H,q,k){var Y="";k=Math.min(H.length,k);for(var ne=q;ne<k;++ne)Y+=String.fromCharCode(H[ne]&127);return Y}function se(H,q,k){var Y="";k=Math.min(H.length,k);for(var ne=q;ne<k;++ne)Y+=String.fromCharCode(H[ne]);return Y}function _e(H,q,k){var Y=H.length;(!q||q<0)&&(q=0),(!k||k<0||k>Y)&&(k=Y);for(var ne="",oe=q;oe<k;++oe)ne+=we[H[oe]];return ne}function Ee(H,q,k){for(var Y=H.slice(q,k),ne="",oe=0;oe<Y.length-1;oe+=2)ne+=String.fromCharCode(Y[oe]+Y[oe+1]*256);return ne}s.prototype.slice=function(q,k){var Y=this.length;q=~~q,k=k===void 0?Y:~~k,q<0?(q+=Y,q<0&&(q=0)):q>Y&&(q=Y),k<0?(k+=Y,k<0&&(k=0)):k>Y&&(k=Y),k<q&&(k=q);var ne=this.subarray(q,k);return Object.setPrototypeOf(ne,s.prototype),ne};function J(H,q,k){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+q>k)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(q,k,Y){q=q>>>0,k=k>>>0,Y||J(q,k,this.length);for(var ne=this[q],oe=1,Ce=0;++Ce<k&&(oe*=256);)ne+=this[q+Ce]*oe;return ne},s.prototype.readUintBE=s.prototype.readUIntBE=function(q,k,Y){q=q>>>0,k=k>>>0,Y||J(q,k,this.length);for(var ne=this[q+--k],oe=1;k>0&&(oe*=256);)ne+=this[q+--k]*oe;return ne},s.prototype.readUint8=s.prototype.readUInt8=function(q,k){return q=q>>>0,k||J(q,1,this.length),this[q]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(q,k){return q=q>>>0,k||J(q,2,this.length),this[q]|this[q+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(q,k){return q=q>>>0,k||J(q,2,this.length),this[q]<<8|this[q+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(q,k){return q=q>>>0,k||J(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(q,k){return q=q>>>0,k||J(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},s.prototype.readIntLE=function(q,k,Y){q=q>>>0,k=k>>>0,Y||J(q,k,this.length);for(var ne=this[q],oe=1,Ce=0;++Ce<k&&(oe*=256);)ne+=this[q+Ce]*oe;return oe*=128,ne>=oe&&(ne-=Math.pow(2,8*k)),ne},s.prototype.readIntBE=function(q,k,Y){q=q>>>0,k=k>>>0,Y||J(q,k,this.length);for(var ne=k,oe=1,Ce=this[q+--ne];ne>0&&(oe*=256);)Ce+=this[q+--ne]*oe;return oe*=128,Ce>=oe&&(Ce-=Math.pow(2,8*k)),Ce},s.prototype.readInt8=function(q,k){return q=q>>>0,k||J(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},s.prototype.readInt16LE=function(q,k){q=q>>>0,k||J(q,2,this.length);var Y=this[q]|this[q+1]<<8;return Y&32768?Y|4294901760:Y},s.prototype.readInt16BE=function(q,k){q=q>>>0,k||J(q,2,this.length);var Y=this[q+1]|this[q]<<8;return Y&32768?Y|4294901760:Y},s.prototype.readInt32LE=function(q,k){return q=q>>>0,k||J(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},s.prototype.readInt32BE=function(q,k){return q=q>>>0,k||J(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},s.prototype.readFloatLE=function(q,k){return q=q>>>0,k||J(q,4,this.length),o.read(this,q,!0,23,4)},s.prototype.readFloatBE=function(q,k){return q=q>>>0,k||J(q,4,this.length),o.read(this,q,!1,23,4)},s.prototype.readDoubleLE=function(q,k){return q=q>>>0,k||J(q,8,this.length),o.read(this,q,!0,52,8)},s.prototype.readDoubleBE=function(q,k){return q=q>>>0,k||J(q,8,this.length),o.read(this,q,!1,52,8)};function re(H,q,k,Y,ne,oe){if(!s.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>ne||q<oe)throw new RangeError('"value" argument is out of bounds');if(k+Y>H.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(q,k,Y,ne){if(q=+q,k=k>>>0,Y=Y>>>0,!ne){var oe=Math.pow(2,8*Y)-1;re(this,q,k,Y,oe,0)}var Ce=1,ve=0;for(this[k]=q&255;++ve<Y&&(Ce*=256);)this[k+ve]=q/Ce&255;return k+Y},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(q,k,Y,ne){if(q=+q,k=k>>>0,Y=Y>>>0,!ne){var oe=Math.pow(2,8*Y)-1;re(this,q,k,Y,oe,0)}var Ce=Y-1,ve=1;for(this[k+Ce]=q&255;--Ce>=0&&(ve*=256);)this[k+Ce]=q/ve&255;return k+Y},s.prototype.writeUint8=s.prototype.writeUInt8=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,1,255,0),this[k]=q&255,k+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,2,65535,0),this[k]=q&255,this[k+1]=q>>>8,k+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,2,65535,0),this[k]=q>>>8,this[k+1]=q&255,k+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,4,4294967295,0),this[k+3]=q>>>24,this[k+2]=q>>>16,this[k+1]=q>>>8,this[k]=q&255,k+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,4,4294967295,0),this[k]=q>>>24,this[k+1]=q>>>16,this[k+2]=q>>>8,this[k+3]=q&255,k+4},s.prototype.writeIntLE=function(q,k,Y,ne){if(q=+q,k=k>>>0,!ne){var oe=Math.pow(2,8*Y-1);re(this,q,k,Y,oe-1,-oe)}var Ce=0,ve=1,Fe=0;for(this[k]=q&255;++Ce<Y&&(ve*=256);)q<0&&Fe===0&&this[k+Ce-1]!==0&&(Fe=1),this[k+Ce]=(q/ve>>0)-Fe&255;return k+Y},s.prototype.writeIntBE=function(q,k,Y,ne){if(q=+q,k=k>>>0,!ne){var oe=Math.pow(2,8*Y-1);re(this,q,k,Y,oe-1,-oe)}var Ce=Y-1,ve=1,Fe=0;for(this[k+Ce]=q&255;--Ce>=0&&(ve*=256);)q<0&&Fe===0&&this[k+Ce+1]!==0&&(Fe=1),this[k+Ce]=(q/ve>>0)-Fe&255;return k+Y},s.prototype.writeInt8=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,1,127,-128),q<0&&(q=255+q+1),this[k]=q&255,k+1},s.prototype.writeInt16LE=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,2,32767,-32768),this[k]=q&255,this[k+1]=q>>>8,k+2},s.prototype.writeInt16BE=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,2,32767,-32768),this[k]=q>>>8,this[k+1]=q&255,k+2},s.prototype.writeInt32LE=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,4,2147483647,-2147483648),this[k]=q&255,this[k+1]=q>>>8,this[k+2]=q>>>16,this[k+3]=q>>>24,k+4},s.prototype.writeInt32BE=function(q,k,Y){return q=+q,k=k>>>0,Y||re(this,q,k,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[k]=q>>>24,this[k+1]=q>>>16,this[k+2]=q>>>8,this[k+3]=q&255,k+4};function ye(H,q,k,Y,ne,oe){if(k+Y>H.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ge(H,q,k,Y,ne){return q=+q,k=k>>>0,ne||ye(H,q,k,4),o.write(H,q,k,Y,23,4),k+4}s.prototype.writeFloatLE=function(q,k,Y){return ge(this,q,k,!0,Y)},s.prototype.writeFloatBE=function(q,k,Y){return ge(this,q,k,!1,Y)};function De(H,q,k,Y,ne){return q=+q,k=k>>>0,ne||ye(H,q,k,8),o.write(H,q,k,Y,52,8),k+8}s.prototype.writeDoubleLE=function(q,k,Y){return De(this,q,k,!0,Y)},s.prototype.writeDoubleBE=function(q,k,Y){return De(this,q,k,!1,Y)},s.prototype.copy=function(q,k,Y,ne){if(!s.isBuffer(q))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!ne&&ne!==0&&(ne=this.length),k>=q.length&&(k=q.length),k||(k=0),ne>0&&ne<Y&&(ne=Y),ne===Y||q.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),q.length-k<ne-Y&&(ne=q.length-k+Y);var oe=ne-Y;return this===q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,Y,ne):Uint8Array.prototype.set.call(q,this.subarray(Y,ne),k),oe},s.prototype.fill=function(q,k,Y,ne){if(typeof q=="string"){if(typeof k=="string"?(ne=k,k=0,Y=this.length):typeof Y=="string"&&(ne=Y,Y=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!s.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(q.length===1){var oe=q.charCodeAt(0);(ne==="utf8"&&oe<128||ne==="latin1")&&(q=oe)}}else typeof q=="number"?q=q&255:typeof q=="boolean"&&(q=Number(q));if(k<0||this.length<k||this.length<Y)throw new RangeError("Out of range index");if(Y<=k)return this;k=k>>>0,Y=Y===void 0?this.length:Y>>>0,q||(q=0);var Ce;if(typeof q=="number")for(Ce=k;Ce<Y;++Ce)this[Ce]=q;else{var ve=s.isBuffer(q)?q:s.from(q,ne),Fe=ve.length;if(Fe===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(Ce=0;Ce<Y-k;++Ce)this[Ce+k]=ve[Ce%Fe]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function he(H){if(H=H.split("=")[0],H=H.trim().replace(Oe,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Me(H,q){q=q||1/0;for(var k,Y=H.length,ne=null,oe=[],Ce=0;Ce<Y;++Ce){if(k=H.charCodeAt(Ce),k>55295&&k<57344){if(!ne){if(k>56319){(q-=3)>-1&&oe.push(239,191,189);continue}else if(Ce+1===Y){(q-=3)>-1&&oe.push(239,191,189);continue}ne=k;continue}if(k<56320){(q-=3)>-1&&oe.push(239,191,189),ne=k;continue}k=(ne-55296<<10|k-56320)+65536}else ne&&(q-=3)>-1&&oe.push(239,191,189);if(ne=null,k<128){if((q-=1)<0)break;oe.push(k)}else if(k<2048){if((q-=2)<0)break;oe.push(k>>6|192,k&63|128)}else if(k<65536){if((q-=3)<0)break;oe.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((q-=4)<0)break;oe.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return oe}function fe(H){for(var q=[],k=0;k<H.length;++k)q.push(H.charCodeAt(k)&255);return q}function G(H,q){for(var k,Y,ne,oe=[],Ce=0;Ce<H.length&&!((q-=2)<0);++Ce)k=H.charCodeAt(Ce),Y=k>>8,ne=k%256,oe.push(ne),oe.push(Y);return oe}function V(H){return t.toByteArray(he(H))}function L(H,q,k,Y){for(var ne=0;ne<Y&&!(ne+k>=q.length||ne>=H.length);++ne)q[ne+k]=H[ne];return ne}function U(H,q){return H instanceof q||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===q.name}function ie(H){return H!==H}var we=function(){for(var H="0123456789abcdef",q=new Array(256),k=0;k<16;++k)for(var Y=k*16,ne=0;ne<16;++ne)q[Y+ne]=H[k]+H[ne];return q}()})(GN);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var o=GN,r=o.Buffer;function a(n,s){for(var l in n)s[l]=n[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=o:(a(o,t),t.Buffer=i);function i(n,s,l){return r(n,s,l)}i.prototype=Object.create(r.prototype),a(r,i),i.from=function(n,s,l){if(typeof n=="number")throw new TypeError("Argument must not be a number");return r(n,s,l)},i.alloc=function(n,s,l){if(typeof n!="number")throw new TypeError("Argument must be a number");var u=r(n);return s!==void 0?typeof l=="string"?u.fill(s,l):u.fill(s):u.fill(0),u},i.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return r(n)},i.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(n)}})(CC,CC.exports);var UI=CC.exports.Buffer,H3=UI.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Qde(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Jde(e){var t=Qde(e);if(typeof t!="string"&&(UI.isEncoding===H3||!H3(e)))throw new Error("Unknown encoding: "+e);return t||e}jN.StringDecoder=E0;function E0(e){this.encoding=Jde(e);var t;switch(this.encoding){case"utf16le":this.text=rfe,this.end=ife,t=4;break;case"utf8":this.fillLast=tfe,t=4;break;case"base64":this.text=nfe,this.end=sfe,t=3;break;default:this.write=lfe,this.end=cfe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=UI.allocUnsafe(t)}E0.prototype.write=function(e){if(e.length===0)return"";var t,o;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";o=this.lastNeed,this.lastNeed=0}else o=0;return o<e.length?t?t+this.text(e,o):this.text(e,o):t||""};E0.prototype.end=afe;E0.prototype.text=ofe;E0.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function _2(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Zde(e,t,o){var r=t.length-1;if(r<o)return 0;var a=_2(t[r]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--r<o||a===-2?0:(a=_2(t[r]),a>=0?(a>0&&(e.lastNeed=a-2),a):--r<o||a===-2?0:(a=_2(t[r]),a>=0?(a>0&&(a===2?a=0:e.lastNeed=a-3),a):0))}function efe(e,t,o){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function tfe(e){var t=this.lastTotal-this.lastNeed,o=efe(this,e);if(o!==void 0)return o;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function ofe(e,t){var o=Zde(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=o;var r=e.length-(o-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function afe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function rfe(e,t){if((e.length-t)%2===0){var o=e.toString("utf16le",t);if(o){var r=o.charCodeAt(o.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],o.slice(0,-1)}return o}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function ife(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var o=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,o)}return t}function nfe(e,t){var o=(e.length-t)%3;return o===0?e.toString("base64",t):(this.lastNeed=3-o,this.lastTotal=3,o===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-o))}function sfe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function lfe(e){return e.toString(this.encoding)}function cfe(e){return e&&e.length?this.write(e):""}(function(e){(function(t){t.parser=function(G,V){return new r(G,V)},t.SAXParser=r,t.SAXStream=c,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(G,V){if(!(this instanceof r))return new r(G,V);var L=this;i(L),L.q=L.c="",L.bufferCheckPosition=t.MAX_BUFFER_LENGTH,L.opt=V||{},L.opt.lowercase=L.opt.lowercase||L.opt.lowercasetags,L.looseCase=L.opt.lowercase?"toLowerCase":"toUpperCase",L.tags=[],L.closed=L.closedRoot=L.sawRoot=!1,L.tag=L.error=null,L.strict=!!G,L.noscript=!!(G||L.opt.noscript),L.state=R.BEGIN,L.strictEntities=L.opt.strictEntities,L.ENTITIES=L.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),L.attribList=[],L.opt.xmlns&&(L.ns=Object.create(I)),L.trackPosition=L.opt.position!==!1,L.trackPosition&&(L.position=L.line=L.column=0),W(L,"onready")}Object.create||(Object.create=function(G){function V(){}V.prototype=G;var L=new V;return L}),Object.keys||(Object.keys=function(G){var V=[];for(var L in G)G.hasOwnProperty(L)&&V.push(L);return V});function a(G){for(var V=Math.max(t.MAX_BUFFER_LENGTH,10),L=0,U=0,ie=o.length;U<ie;U++){var we=G[o[U]].length;if(we>V)switch(o[U]){case"textNode":Q(G);break;case"cdata":j(G,"oncdata",G.cdata),G.cdata="";break;case"script":j(G,"onscript",G.script),G.script="";break;default:_e(G,"Max buffer length exceeded: "+o[U])}L=Math.max(L,we)}var H=t.MAX_BUFFER_LENGTH-L;G.bufferCheckPosition=H+G.position}function i(G){for(var V=0,L=o.length;V<L;V++)G[o[V]]=""}function n(G){Q(G),G.cdata!==""&&(j(G,"oncdata",G.cdata),G.cdata=""),G.script!==""&&(j(G,"onscript",G.script),G.script="")}r.prototype={end:function(){Ee(this)},write:fe,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){n(this)}};var s;try{s=require("stream").Stream}catch{s=function(){}}var l=t.EVENTS.filter(function(G){return G!=="error"&&G!=="end"});function u(G,V){return new c(G,V)}function c(G,V){if(!(this instanceof c))return new c(G,V);s.apply(this),this._parser=new r(G,V),this.writable=!0,this.readable=!0;var L=this;this._parser.onend=function(){L.emit("end")},this._parser.onerror=function(U){L.emit("error",U),L._parser.error=null},this._decoder=null,l.forEach(function(U){Object.defineProperty(L,"on"+U,{get:function(){return L._parser["on"+U]},set:function(ie){if(!ie)return L.removeAllListeners(U),L._parser["on"+U]=ie,ie;L.on(U,ie)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(s.prototype,{constructor:{value:c}}),c.prototype.write=function(G){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(G)){if(!this._decoder){var V=jN.StringDecoder;this._decoder=new V("utf8")}G=this._decoder.write(G)}return this._parser.write(G.toString()),this.emit("data",G),!0},c.prototype.end=function(G){return G&&G.length&&this.write(G),this._parser.end(),!0},c.prototype.on=function(G,V){var L=this;return!L._parser["on"+G]&&l.indexOf(G)!==-1&&(L._parser["on"+G]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,G),L.emit.apply(L,U)}),s.prototype.on.call(L,G,V)};var d=`\r
	 `,m="0124356789",f="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",p=`'"`,g=d+">",b="[CDATA[",x="DOCTYPE",_="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",I={xml:_,xmlns:y};d=E(d),m=E(m),f=E(f);var S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,F=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;p=E(p),g=E(g);function E(G){return G.split("").reduce(function(V,L){return V[L]=!0,V},{})}function D(G){return Object.prototype.toString.call(G)==="[object RegExp]"}function P(G,V){return D(G)?!!V.match(G):G[V]}function N(G,V){return!P(G,V)}var R=0;t.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(G){var V=t.ENTITIES[G],L=typeof V=="number"?String.fromCharCode(V):V;t.ENTITIES[G]=L});for(var z in t.STATE)t.STATE[t.STATE[z]]=z;R=t.STATE;function W(G,V,L){G[V]&&G[V](L)}function j(G,V,L){G.textNode&&Q(G),W(G,V,L)}function Q(G){G.textNode=se(G.opt,G.textNode),G.textNode&&W(G,"ontext",G.textNode),G.textNode=""}function se(G,V){return G.trim&&(V=V.trim()),G.normalize&&(V=V.replace(/\s+/g," ")),V}function _e(G,V){return Q(G),G.trackPosition&&(V+=`
Line: `+G.line+`
Column: `+G.column+`
Char: `+G.c),V=new Error(V),G.error=V,W(G,"onerror",V),G}function Ee(G){return G.sawRoot&&!G.closedRoot&&J(G,"Unclosed root tag"),G.state!==R.BEGIN&&G.state!==R.BEGIN_WHITESPACE&&G.state!==R.TEXT&&_e(G,"Unexpected end"),Q(G),G.c="",G.closed=!0,W(G,"onend"),r.call(G,G.strict,G.opt),G}function J(G,V){if(typeof G!="object"||!(G instanceof r))throw new Error("bad call to strictFail");G.strict&&_e(G,V)}function re(G){G.strict||(G.tagName=G.tagName[G.looseCase]());var V=G.tags[G.tags.length-1]||G,L=G.tag={name:G.tagName,attributes:{}};G.opt.xmlns&&(L.ns=V.ns),G.attribList.length=0}function ye(G,V){var L=G.indexOf(":"),U=L<0?["",G]:G.split(":"),ie=U[0],we=U[1];return V&&G==="xmlns"&&(ie="xmlns",we=""),{prefix:ie,local:we}}function ge(G){if(G.strict||(G.attribName=G.attribName[G.looseCase]()),G.attribList.indexOf(G.attribName)!==-1||G.tag.attributes.hasOwnProperty(G.attribName)){G.attribName=G.attribValue="";return}if(G.opt.xmlns){var V=ye(G.attribName,!0),L=V.prefix,U=V.local;if(L==="xmlns")if(U==="xml"&&G.attribValue!==_)J(G,"xml: prefix must be bound to "+_+`
Actual: `+G.attribValue);else if(U==="xmlns"&&G.attribValue!==y)J(G,"xmlns: prefix must be bound to "+y+`
Actual: `+G.attribValue);else{var ie=G.tag,we=G.tags[G.tags.length-1]||G;ie.ns===we.ns&&(ie.ns=Object.create(we.ns)),ie.ns[U]=G.attribValue}G.attribList.push([G.attribName,G.attribValue])}else G.tag.attributes[G.attribName]=G.attribValue,j(G,"onattribute",{name:G.attribName,value:G.attribValue});G.attribName=G.attribValue=""}function De(G,V){if(G.opt.xmlns){var L=G.tag,U=ye(G.tagName);L.prefix=U.prefix,L.local=U.local,L.uri=L.ns[U.prefix]||"",L.prefix&&!L.uri&&(J(G,"Unbound namespace prefix: "+JSON.stringify(G.tagName)),L.uri=U.prefix);var ie=G.tags[G.tags.length-1]||G;L.ns&&ie.ns!==L.ns&&Object.keys(L.ns).forEach(function(Le){j(G,"onopennamespace",{prefix:Le,uri:L.ns[Le]})});for(var we=0,H=G.attribList.length;we<H;we++){var q=G.attribList[we],k=q[0],Y=q[1],ne=ye(k,!0),oe=ne.prefix,Ce=ne.local,ve=oe===""?"":L.ns[oe]||"",Fe={name:k,value:Y,prefix:oe,local:Ce,uri:ve};oe&&oe!=="xmlns"&&!ve&&(J(G,"Unbound namespace prefix: "+JSON.stringify(oe)),Fe.uri=oe),G.tag.attributes[k]=Fe,j(G,"onattribute",Fe)}G.attribList.length=0}G.tag.isSelfClosing=!!V,G.sawRoot=!0,G.tags.push(G.tag),j(G,"onopentag",G.tag),V||(!G.noscript&&G.tagName.toLowerCase()==="script"?G.state=R.SCRIPT:G.state=R.TEXT,G.tag=null,G.tagName=""),G.attribName=G.attribValue="",G.attribList.length=0}function Oe(G){if(!G.tagName){J(G,"Weird empty close tag."),G.textNode+="</>",G.state=R.TEXT;return}if(G.script){if(G.tagName!=="script"){G.script+="</"+G.tagName+">",G.tagName="",G.state=R.SCRIPT;return}j(G,"onscript",G.script),G.script=""}var V=G.tags.length,L=G.tagName;G.strict||(L=L[G.looseCase]());for(var U=L;V--;){var ie=G.tags[V];if(ie.name!==U)J(G,"Unexpected close tag");else break}if(V<0){J(G,"Unmatched closing tag: "+G.tagName),G.textNode+="</"+G.tagName+">",G.state=R.TEXT;return}G.tagName=L;for(var we=G.tags.length;we-- >V;){var H=G.tag=G.tags.pop();G.tagName=G.tag.name,j(G,"onclosetag",G.tagName);var q={};for(var k in H.ns)q[k]=H.ns[k];var Y=G.tags[G.tags.length-1]||G;G.opt.xmlns&&H.ns!==Y.ns&&Object.keys(H.ns).forEach(function(ne){var oe=H.ns[ne];j(G,"onclosenamespace",{prefix:ne,uri:oe})})}V===0&&(G.closedRoot=!0),G.tagName=G.attribValue=G.attribName="",G.attribList.length=0,G.state=R.TEXT}function he(G){var V=G.entity,L=V.toLowerCase(),U,ie="";return G.ENTITIES[V]?G.ENTITIES[V]:G.ENTITIES[L]?G.ENTITIES[L]:(V=L,V.charAt(0)==="#"&&(V.charAt(1)==="x"?(V=V.slice(2),U=parseInt(V,16),ie=U.toString(16)):(V=V.slice(1),U=parseInt(V,10),ie=U.toString(10))),V=V.replace(/^0+/,""),ie.toLowerCase()!==V?(J(G,"Invalid character entity"),"&"+G.entity+";"):String.fromCodePoint(U))}function Me(G,V){V==="<"?(G.state=R.OPEN_WAKA,G.startTagPosition=G.position):N(d,V)&&(J(G,"Non-whitespace before first tag."),G.textNode=V,G.state=R.TEXT)}function fe(G){var V=this;if(this.error)throw this.error;if(V.closed)return _e(V,"Cannot write after close. Assign an onready handler.");if(G===null)return Ee(V);for(var L=0,U="";U=G.charAt(L++),V.c=U,!!U;)switch(V.trackPosition&&(V.position++,U===`
`?(V.line++,V.column=0):V.column++),V.state){case R.BEGIN:if(V.state=R.BEGIN_WHITESPACE,U==="\uFEFF")continue;Me(V,U);continue;case R.BEGIN_WHITESPACE:Me(V,U);continue;case R.TEXT:if(V.sawRoot&&!V.closedRoot){for(var ie=L-1;U&&U!=="<"&&U!=="&";)U=G.charAt(L++),U&&V.trackPosition&&(V.position++,U===`
`?(V.line++,V.column=0):V.column++);V.textNode+=G.substring(ie,L-1)}U==="<"&&!(V.sawRoot&&V.closedRoot&&!V.strict)?(V.state=R.OPEN_WAKA,V.startTagPosition=V.position):(N(d,U)&&(!V.sawRoot||V.closedRoot)&&J(V,"Text data outside of root node."),U==="&"?V.state=R.TEXT_ENTITY:V.textNode+=U);continue;case R.SCRIPT:U==="<"?V.state=R.SCRIPT_ENDING:V.script+=U;continue;case R.SCRIPT_ENDING:U==="/"?V.state=R.CLOSE_TAG:(V.script+="<"+U,V.state=R.SCRIPT);continue;case R.OPEN_WAKA:if(U==="!")V.state=R.SGML_DECL,V.sgmlDecl="";else if(!P(d,U))if(P(S,U))V.state=R.OPEN_TAG,V.tagName=U;else if(U==="/")V.state=R.CLOSE_TAG,V.tagName="";else if(U==="?")V.state=R.PROC_INST,V.procInstName=V.procInstBody="";else{if(J(V,"Unencoded <"),V.startTagPosition+1<V.position){var we=V.position-V.startTagPosition;U=new Array(we).join(" ")+U}V.textNode+="<"+U,V.state=R.TEXT}continue;case R.SGML_DECL:(V.sgmlDecl+U).toUpperCase()===b?(j(V,"onopencdata"),V.state=R.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+U==="--"?(V.state=R.COMMENT,V.comment="",V.sgmlDecl=""):(V.sgmlDecl+U).toUpperCase()===x?(V.state=R.DOCTYPE,(V.doctype||V.sawRoot)&&J(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):U===">"?(j(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=R.TEXT):(P(p,U)&&(V.state=R.SGML_DECL_QUOTED),V.sgmlDecl+=U);continue;case R.SGML_DECL_QUOTED:U===V.q&&(V.state=R.SGML_DECL,V.q=""),V.sgmlDecl+=U;continue;case R.DOCTYPE:U===">"?(V.state=R.TEXT,j(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=U,U==="["?V.state=R.DOCTYPE_DTD:P(p,U)&&(V.state=R.DOCTYPE_QUOTED,V.q=U));continue;case R.DOCTYPE_QUOTED:V.doctype+=U,U===V.q&&(V.q="",V.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:V.doctype+=U,U==="]"?V.state=R.DOCTYPE:P(p,U)&&(V.state=R.DOCTYPE_DTD_QUOTED,V.q=U);continue;case R.DOCTYPE_DTD_QUOTED:V.doctype+=U,U===V.q&&(V.state=R.DOCTYPE_DTD,V.q="");continue;case R.COMMENT:U==="-"?V.state=R.COMMENT_ENDING:V.comment+=U;continue;case R.COMMENT_ENDING:U==="-"?(V.state=R.COMMENT_ENDED,V.comment=se(V.opt,V.comment),V.comment&&j(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+U,V.state=R.COMMENT);continue;case R.COMMENT_ENDED:U!==">"?(J(V,"Malformed comment"),V.comment+="--"+U,V.state=R.COMMENT):V.state=R.TEXT;continue;case R.CDATA:U==="]"?V.state=R.CDATA_ENDING:V.cdata+=U;continue;case R.CDATA_ENDING:U==="]"?V.state=R.CDATA_ENDING_2:(V.cdata+="]"+U,V.state=R.CDATA);continue;case R.CDATA_ENDING_2:U===">"?(V.cdata&&j(V,"oncdata",V.cdata),j(V,"onclosecdata"),V.cdata="",V.state=R.TEXT):U==="]"?V.cdata+="]":(V.cdata+="]]"+U,V.state=R.CDATA);continue;case R.PROC_INST:U==="?"?V.state=R.PROC_INST_ENDING:P(d,U)?V.state=R.PROC_INST_BODY:V.procInstName+=U;continue;case R.PROC_INST_BODY:if(!V.procInstBody&&P(d,U))continue;U==="?"?V.state=R.PROC_INST_ENDING:V.procInstBody+=U;continue;case R.PROC_INST_ENDING:U===">"?(j(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=R.TEXT):(V.procInstBody+="?"+U,V.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:P(O,U)?V.tagName+=U:(re(V),U===">"?De(V):U==="/"?V.state=R.OPEN_TAG_SLASH:(N(d,U)&&J(V,"Invalid character in tag name"),V.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:U===">"?(De(V,!0),Oe(V)):(J(V,"Forward-slash in opening tag not followed by >"),V.state=R.ATTRIB);continue;case R.ATTRIB:if(P(d,U))continue;U===">"?De(V):U==="/"?V.state=R.OPEN_TAG_SLASH:P(S,U)?(V.attribName=U,V.attribValue="",V.state=R.ATTRIB_NAME):J(V,"Invalid attribute name");continue;case R.ATTRIB_NAME:U==="="?V.state=R.ATTRIB_VALUE:U===">"?(J(V,"Attribute without value"),V.attribValue=V.attribName,ge(V),De(V)):P(d,U)?V.state=R.ATTRIB_NAME_SAW_WHITE:P(O,U)?V.attribName+=U:J(V,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if(U==="=")V.state=R.ATTRIB_VALUE;else{if(P(d,U))continue;J(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",j(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",U===">"?De(V):P(S,U)?(V.attribName=U,V.state=R.ATTRIB_NAME):(J(V,"Invalid attribute name"),V.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(P(d,U))continue;P(p,U)?(V.q=U,V.state=R.ATTRIB_VALUE_QUOTED):(J(V,"Unquoted attribute value"),V.state=R.ATTRIB_VALUE_UNQUOTED,V.attribValue=U);continue;case R.ATTRIB_VALUE_QUOTED:if(U!==V.q){U==="&"?V.state=R.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=U;continue}ge(V),V.q="",V.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:P(d,U)?V.state=R.ATTRIB:U===">"?De(V):U==="/"?V.state=R.OPEN_TAG_SLASH:P(S,U)?(J(V,"No whitespace between attributes"),V.attribName=U,V.attribValue="",V.state=R.ATTRIB_NAME):J(V,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(N(g,U)){U==="&"?V.state=R.ATTRIB_VALUE_ENTITY_U:V.attribValue+=U;continue}ge(V),U===">"?De(V):V.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(V.tagName)U===">"?Oe(V):P(O,U)?V.tagName+=U:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=R.SCRIPT):(N(d,U)&&J(V,"Invalid tagname in closing tag"),V.state=R.CLOSE_TAG_SAW_WHITE);else{if(P(d,U))continue;N(S,U)?V.script?(V.script+="</"+U,V.state=R.SCRIPT):J(V,"Invalid tagname in closing tag."):V.tagName=U}continue;case R.CLOSE_TAG_SAW_WHITE:if(P(d,U))continue;U===">"?Oe(V):J(V,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var H,q;switch(V.state){case R.TEXT_ENTITY:H=R.TEXT,q="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:H=R.ATTRIB_VALUE_QUOTED,q="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:H=R.ATTRIB_VALUE_UNQUOTED,q="attribValue";break}U===";"?(V[q]+=he(V),V.entity="",V.state=H):P(V.entity.length?M:F,U)?V.entity+=U:(J(V,"Invalid character in entity name"),V[q]+="&"+V.entity+U,V.entity="",V.state=H);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&a(V),V}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var G=String.fromCharCode,V=Math.floor,L=function(){var U=16384,ie=[],we,H,q=-1,k=arguments.length;if(!k)return"";for(var Y="";++q<k;){var ne=Number(arguments[q]);if(!isFinite(ne)||ne<0||ne>1114111||V(ne)!==ne)throw RangeError("Invalid code point: "+ne);ne<=65535?ie.push(ne):(ne-=65536,we=(ne>>10)+55296,H=ne%1024+56320,ie.push(we,H)),(q+1===k||ie.length>U)&&(Y+=G.apply(null,ie),ie.length=0)}return Y};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L}()})(e)})(HN);var ufe={},dfe=Object.freeze(Object.defineProperty({__proto__:null,default:ufe},Symbol.toStringTag,{value:"Module"})),ffe=JH(dfe),XN={};(function(){XN.stripBOM=function(e){return e[0]==="\uFEFF"?e.substring(1):e}}).call(Ht);var ou={};(function(){var e;e=new RegExp(/(?!xmlns)^.*:/),ou.normalize=function(t){return t.toLowerCase()},ou.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},ou.stripPrefix=function(t){return t.replace(e,"")},ou.parseNumbers=function(t){return isNaN(t)||(t=t%1===0?parseInt(t,10):parseFloat(t)),t},ou.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t=t.toLowerCase()==="true"),t}}).call(Ht);var YN={};YN.every=function(e){return new zI(e)};var Hs={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};for(var Pd in Hs)Pd==="millisecond"?Hs.ms=Hs[Pd]:Hs[Pd.charAt(0)]=Hs[Pd],Hs[Pd+"s"]=Hs[Pd];function zI(e){this.count=0;var t=pfe(e);t&&(this.time=Number(t[0])*Hs[t[1]],this.type=t[1])}zI.prototype.do=function(e){this.time&&(this.interval=setInterval(o,this.time));var t=this;function o(){t.count++,e.call(t)}return this};zI.prototype.stop=function(){return this.interval&&(clearInterval(this.interval),delete this.interval),this};var mfe=/^\s*(\d+(?:\.\d+)?)\s*([a-z]+)\s*$/;function pfe(e){var t=e.match(mfe);return t&&Hs[t[2]]?t.slice(1):null}(function(e){(function(){var t,o,r,a,i,n,s,l,u,c=function(f,p){return function(){return f.apply(p,arguments)}},d=function(f,p){for(var g in p)m.call(p,g)&&(f[g]=p[g]);function b(){this.constructor=f}return b.prototype=p.prototype,f.prototype=new b,f.__super__=p.prototype,f},m={}.hasOwnProperty;l=HN,a=ffe,t=XN,s=ou,u=YN.setImmediate,o=e_.defaults,i=function(f){return typeof f=="object"&&f!=null&&Object.keys(f).length===0},n=function(f,p,g){var b,x,_;for(b=0,x=f.length;b<x;b++)_=f[b],p=_(p,g);return p},r=function(f,p,g){var b;return b=Object.create(null),b.value=g,b.writable=!0,b.enumerable=!0,b.configurable=!0,Object.defineProperty(f,p,b)},e.Parser=function(f){d(p,f);function p(g){this.parseStringPromise=c(this.parseStringPromise,this),this.parseString=c(this.parseString,this),this.reset=c(this.reset,this),this.assignOrPush=c(this.assignOrPush,this),this.processAsync=c(this.processAsync,this);var b,x,_;if(!(this instanceof e.Parser))return new e.Parser(g);this.options={},x=o["0.2"];for(b in x)!m.call(x,b)||(_=x[b],this.options[b]=_);for(b in g)!m.call(g,b)||(_=g[b],this.options[b]=_);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return p.prototype.processAsync=function(){var g,b;try{return this.remaining.length<=this.options.chunkSize?(g=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(g),this.saxParser.close()):(g=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(g),u(this.processAsync))}catch(x){if(b=x,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(b)}},p.prototype.assignOrPush=function(g,b,x){return b in g?(g[b]instanceof Array||r(g,b,[g[b]]),g[b].push(x)):this.options.explicitArray?r(g,b,[x]):r(g,b,x)},p.prototype.reset=function(){var g,b,x,_;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(y){return function(I){if(y.saxParser.resume(),!y.saxParser.errThrown)return y.saxParser.errThrown=!0,y.emit("error",I)}}(this),this.saxParser.onend=function(y){return function(){if(!y.saxParser.ended)return y.saxParser.ended=!0,y.emit("end",y.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,_=[],g=this.options.attrkey,b=this.options.charkey,this.saxParser.onopentag=function(y){return function(I){var S,O,F,M,E;if(F={},F[b]="",!y.options.ignoreAttrs){E=I.attributes;for(S in E)!m.call(E,S)||(!(g in F)&&!y.options.mergeAttrs&&(F[g]={}),O=y.options.attrValueProcessors?n(y.options.attrValueProcessors,I.attributes[S],S):I.attributes[S],M=y.options.attrNameProcessors?n(y.options.attrNameProcessors,S):S,y.options.mergeAttrs?y.assignOrPush(F,M,O):r(F[g],M,O))}return F["#name"]=y.options.tagNameProcessors?n(y.options.tagNameProcessors,I.name):I.name,y.options.xmlns&&(F[y.options.xmlnskey]={uri:I.uri,local:I.local}),_.push(F)}}(this),this.saxParser.onclosetag=function(y){return function(){var I,S,O,F,M,E,D,P,N,R;if(E=_.pop(),M=E["#name"],(!y.options.explicitChildren||!y.options.preserveChildrenOrder)&&delete E["#name"],E.cdata===!0&&(I=E.cdata,delete E.cdata),N=_[_.length-1],E[b].match(/^\s*$/)&&!I?(S=E[b],delete E[b]):(y.options.trim&&(E[b]=E[b].trim()),y.options.normalize&&(E[b]=E[b].replace(/\s{2,}/g," ").trim()),E[b]=y.options.valueProcessors?n(y.options.valueProcessors,E[b],M):E[b],Object.keys(E).length===1&&b in E&&!y.EXPLICIT_CHARKEY&&(E=E[b])),i(E)&&(typeof y.options.emptyTag=="function"?E=y.options.emptyTag():E=y.options.emptyTag!==""?y.options.emptyTag:S),y.options.validator!=null&&(R="/"+function(){var z,W,j;for(j=[],z=0,W=_.length;z<W;z++)F=_[z],j.push(F["#name"]);return j}().concat(M).join("/"),function(){var z;try{return E=y.options.validator(R,N&&N[M],E)}catch(W){return z=W,y.emit("error",z)}}()),y.options.explicitChildren&&!y.options.mergeAttrs&&typeof E=="object"){if(!y.options.preserveChildrenOrder)F={},y.options.attrkey in E&&(F[y.options.attrkey]=E[y.options.attrkey],delete E[y.options.attrkey]),!y.options.charsAsChildren&&y.options.charkey in E&&(F[y.options.charkey]=E[y.options.charkey],delete E[y.options.charkey]),Object.getOwnPropertyNames(E).length>0&&(F[y.options.childkey]=E),E=F;else if(N){N[y.options.childkey]=N[y.options.childkey]||[],D={};for(O in E)!m.call(E,O)||r(D,O,E[O]);N[y.options.childkey].push(D),delete E["#name"],Object.keys(E).length===1&&b in E&&!y.EXPLICIT_CHARKEY&&(E=E[b])}}return _.length>0?y.assignOrPush(N,M,E):(y.options.explicitRoot&&(P=E,E={},r(E,M,P)),y.resultObject=E,y.saxParser.ended=!0,y.emit("end",y.resultObject))}}(this),x=function(y){return function(I){var S,O;if(O=_[_.length-1],O)return O[b]+=I,y.options.explicitChildren&&y.options.preserveChildrenOrder&&y.options.charsAsChildren&&(y.options.includeWhiteChars||I.replace(/\\n/g,"").trim()!=="")&&(O[y.options.childkey]=O[y.options.childkey]||[],S={"#name":"__text__"},S[b]=I,y.options.normalize&&(S[b]=S[b].replace(/\s{2,}/g," ").trim()),O[y.options.childkey].push(S)),O}}(this),this.saxParser.ontext=x,this.saxParser.oncdata=function(y){return function(I){var S;if(S=x(I),S)return S.cdata=!0}}()},p.prototype.parseString=function(g,b){var x;b!=null&&typeof b=="function"&&(this.on("end",function(_){return this.reset(),b(null,_)}),this.on("error",function(_){return this.reset(),b(_)}));try{return g=g.toString(),g.trim()===""?(this.emit("end",null),!0):(g=t.stripBOM(g),this.options.async?(this.remaining=g,u(this.processAsync),this.saxParser):this.saxParser.write(g).close())}catch(_){if(x=_,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw x}else return this.emit("error",x),this.saxParser.errThrown=!0}},p.prototype.parseStringPromise=function(g){return new Promise(function(b){return function(x,_){return b.parseString(g,function(y,I){return y?_(y):x(I)})}}(this))},p}(a),e.parseString=function(f,p,g){var b,x,_;return g!=null?(typeof g=="function"&&(b=g),typeof p=="object"&&(x=p)):(typeof p=="function"&&(b=p),x={}),_=new e.Parser(x),_.parseString(f,b)},e.parseStringPromise=function(f,p){var g,b;return typeof p=="object"&&(g=p),b=new e.Parser(g),b.parseStringPromise(f)}}).call(Ht)})(zN);(function(){var e,t,o,r,a=function(n,s){for(var l in s)i.call(s,l)&&(n[l]=s[l]);function u(){this.constructor=n}return u.prototype=s.prototype,n.prototype=new u,n.__super__=s.prototype,n},i={}.hasOwnProperty;t=e_,e=FN,o=zN,r=ou,Ul.defaults=t.defaults,Ul.processors=r,Ul.ValidationError=function(n){a(s,n);function s(l){this.message=l}return s}(Error),Ul.Builder=e.Builder,Ul.Parser=o.Parser,Ul.parseString=o.parseString,Ul.parseStringPromise=o.parseStringPromise}).call(Ht);const hfe={"01":"Dinheiro","02":"Cheque","03":"Cart\xE3o de Cr\xE9dito","04":"Cart\xE3o de D\xE9bito","05":"Cr\xE9dito Loja",10:"Vale Alimenta\xE7\xE3o",11:"Vale Refei\xE7\xE3o",12:"Vale Presente",13:"Vale Combust\xEDvel",14:"Duplicata Mercantil",15:"Boleto Bancario",16:"Dep\xF3sito Banc\xE1rio",17:"Pagamento Instant\xE2neo (PIX)",18:"Transfer\xEAncia banc\xE1ria, Carteira Digital",19:"Programa de fidelidade, Cashback, Cr\xE9dito Virtual",90:"Sem Pagamento",99:"Outros"};function vfe(e){const t=e.nfeProc.NFe[0].infNFe[0],o=e.nfeProc.NFe[0].infNFe[0].det,r={infNFe:{ide:{}},protNFe:{infProt:{chNFe:e.nfeProc.protNFe[0].infProt[0].chNFe[0]}}};return t.ide&&(r.infNFe.ide=Cfe(t.ide[0])),t.emit&&(r.infNFe.emit=xfe(t.emit[0])),t.dest&&(r.infNFe.dest=wfe(t.dest[0])),o&&(r.infNFe.det=Ife(o)),t.total&&(r.infNFe.total=Tfe(t.total[0])),t.pag&&(r.infNFe.pag=Dfe(t.pag[0])),t.infAdic&&(r.infNFe.infAdic=Ofe(t.infAdic[0])),t.cobr&&(r.infNFe.cobr=Pfe(t==null?void 0:t.cobr[0])),t.transp&&(r.infNFe.transp=Mfe(t.transp[0])),r}async function gfe(e,t,o){var l,u,c,d,m,f,p;const r={id:$utils.uuid(),codigoDocumento:null,tipo:"Compra",operacao:(l=o==null?void 0:o.operacao)!=null?l:"Nota de Entrada",status:(u=o==null?void 0:o.status)!=null?u:"Digita\xE7\xE3o",notaNumero:(c=e.ide.nNF)!=null?c:null,notaSerie:(d=e.ide.serie)!=null?d:null,naturezaOperacao:(m=e.ide.natOp)!=null?m:"",dataCompra:(f=new Date(e.ide.dhEmi))!=null?f:null,chaveAcesso:(p=t.infProt.chNFe)!=null?p:"",subTotal:Number(e.total.ICMSTot.vProd),subTotalProduto:Number(e.total.ICMSTot.vProd),valorDescontoProduto:0,percentualDescontoProduto:0,totalProduto:Number(e.total.ICMSTot.vProd),valorFrete:Number(e.total.ICMSTot.vFrete),valorSeguro:Number(e.total.ICMSTot.vSeg),valorOutrasDespesas:Number(e.total.ICMSTot.vOutro),valorIPI:Number(e.total.ICMSTot.vIPI),totalDocumento:Number(e.total.ICMSTot.vNF),totalTroco:0,valorBaseIcms:Number(e.total.ICMSTot.vBC),valorIcms:Number(e.total.ICMSTot.vICMS),valorBaseIcmsSt:0,calcularTributacao:1,formaDePagamento:hfe[e.pag.detPag.tPag]},a=(await $db.empresa.le()).filter(g=>{if($utils.filtrarDigitos(g.numeroDocumentoNacional)===$utils.filtrarDigitos(e.dest.CNPJ))return g})[0];r.codigoEmpresa=a.codigoContato,r.descricaoEmpresa=a.nome,r.numeroDocumentoEmpresa=a.numeroDocumentoNacional,r.idEmpresa=a.idContato,r.dataHoraEmissao=new Date(e.ide.dhEmi);let i="";if(e.transp.modFrete===1&&(i="FOB"),e.transp.modFrete===0&&(i="CIF"),r.tipoFrete=i,["CIF","FOB"].indexOf(i)>=0){const b=(await $db.contato.le({ativo:!0,transportadoras:!0})).find(_=>$utils.filtrarDigitos(_.numeroDocumentoNacional)===$utils.filtrarDigitos(e.transp.transporta.CNPJ));let x=b!==void 0;if(x&&(r.idContatoTransportadora=b.id),!x){const y=(await $db.contato.le({ativo:!0})).find(S=>$utils.filtrarDigitos(S.numeroDocumentoNacional)===$utils.filtrarDigitos(e.transp.transporta.CNPJ));let I=y!==void 0;if(I){const S={id:$utils.uuid(),idContato:y.id,descricao:"Transportadora"};await $db.contatoGrupo.gravar({atual:S,original:{}}),r.idContatoTransportadora=y.id}if(!I){const S={id:$utils.uuid(),nome:e.transp.transporta.xNome,apelido:e.transp.transporta.xNome,numeroDocumentoNacional:e.transp.transporta.CNPJ},O={id:$utils.uuid(),idContato:S.id,descricao:"Transportadora"};await $db.contato.grava({original:{},atual:S}),await $db.contatoGrupo.gravar({atual:O,original:{}}),r.idContatoTransportadora=b.id}}}const s=(await $db.contato.ler({filtros:{ativo:!0,termoBusca:$utils.filtrarDigitos(e.emit.CNPJ)}})).data.find(g=>$utils.filtrarDigitos(g.numeroDocumentoNacional)===$utils.filtrarDigitos(e.emit.CNPJ));if(s!=null&&s.id&&(r.idContato=s.id,r.codigoContato=s.codigoContato,r.descricaoContato=s.apelido),!(s!=null&&s.id)){const g={contato:{id:$utils.uuid(),nome:e.emit.xNome,apelido:e.emit.xFant,tipoDocumentoNacional:"CNPJ",numeroDocumentoEstadual:e.emit.IE,numeroDocumentoNacional:e.emit.CNPJ}};await $db.contato.gravar({original:{},atual:g}),r.idContato=g.contato.id,r.descricaoContato=g.contato.apelido}try{return await $db.documento.grava({original:{},atual:r}),r}catch(g){console.lof(g.message)}}async function _fe(e,t,o){var a,i,n,s,l,u,c,d,m,f,p;let r=[];for(let g in t){const b=t[g].prod.cProd,x=(await $db.itemFornecedor.ler()).filter(I=>I.idContato===e.idContato&&I.referencia===b),_={id:$utils.uuid(),idDocumento:e.id,dataHoraEmissao:new Date(e.dataHoraEmissao),operacao:e.operacao,operacaoFator:-1,tipoItem:"Produto",quantidade:Number(t[g].prod.qCom),subTotal:Number(t[g].prod.vUnCom),total:Number(t[g].prod.vProd),valorItem:Number(t[g].prod.vUnCom),codigoCST:(a=t[g].imposto.ICMS[Object.keys(t[g].imposto.ICMS)[0]].CST)!=null?a:"",valorIcms:Number(t[g].imposto.ICMS[Object.keys(t[g].imposto.ICMS)[0]].vICMS),percentualICMS:Number(t[g].imposto.ICMS[Object.keys(t[g].imposto.ICMS)[0]].pICMS),valorBaseICMS:Number(t[g].imposto.ICMS[Object.keys(t[g].imposto.ICMS)[0]].vBC),valorIpi:null,valorIcmsSt:null,valorDifal:null,codigoCSTIPI:null,valorBaseIPI:null,percentualIPI:null,percentualIVA:null,valorBaseIcmsSt:null,percentualIcmsSt:null},y=await $erp().cfop.where({cfop:Number(t[g].prod.CFOP)}).first();if(y===void 0&&console.log("CFOP inv\xE1lido"),!x.length){_.descricaoItem=t[g].prod.xProd,_.ncm=t[g].prod.NCM,_.idCfop=(i=y.id)!=null?i:null,_.codigoCfop=(n=y.CodigoCFOP)!=null?n:null;let I={descricaoItem:t[g].prod.xProd,marca:"",referencia:t[g].prod.cProd,ipi:Number((s=t[g])!=null&&s.imposto.IPI&&(c=(u=t[g])==null?void 0:u.imposto.IPI[Object.keys((l=t[g])==null?void 0:l.imposto.IPI)[0]].pIPI)!=null?c:0),st:0,difal:0,valorPreCusto:(d=parseFloat(t[g].prod.vUnCom))!=null?d:0,valorCustoReposicao:(m=parseFloat(t[g].prod.vUnCom))!=null?m:0,itemAssociadoDescricao:"",unidade:t[g].prod.uCom,itemCompra:_,codigoBarras:t[g].prod.cEAN};r.push(I)}if(x.length){const I=(await $db.item.ler({filtros:{id:x[0].idItem}})).data[0];_.idItem=I.id,_.descricaoItem=I.descricao,_.valorCustoReposicao=I.valorCustoReposicao,_.ncm=I.ncm,_.idCfop=(f=y.id)!=null?f:null,_.codigoCfop=(p=y.CodigoCFOP)!=null?p:null,await $db.documentoItem.grava({original:{},atual:_})}}r.length>0&&await o.$refs.importacaoXML.criar(e,r)}async function bfe(e,t){const o=$utils.clonarV2(e),r=new Date(e.dataCompra);let a="",i=[];if(t!=null&&t.dup)for(let n in t.dup){a!==""&&(a+="/"),console.log(t.dup[n]);const s=new Date(`${t.dup[n].dVenc}T00:00:00`)-new Date(r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate());let l=parseInt(s/(1e3*60*60*24));l===0&&(l="00"),a+=`${l}`,i.push({id:$utils.uuid(),idDocumento:e.id,dataVencimento:new Date(`${t.dup[n].dVenc}T00:00:00`),valor:Number(t.dup[n].vDup),observacao:""})}t!=null&&t.dup||(a+="00",i.push({id:$utils.uuid(),idDocumento:e.id,dataVencimento:new Date(e.dataCompra),valor:Number(e.totalDocumento),observacao:""})),e.condicaoPagamento=a,e.freteSeparado=!1,e.naoGerarFinanceiro=!1;try{if(await $db.documento.grava({original:o,atual:e}),!e.naoGerarFinanceiro)for(let n in i)await $db.documentoCondicaoPagamento.grava({atual:i[n],original:{}})}catch(n){console.log(n.message)}}function yfe(e){const t=new Ul.Parser;let o;return t.parseString(e,(r,a)=>{r&&console.log(r),o=a}),o}function Cfe(e){try{const t={};return e!=null&&e.cUF&&(t.cUF=e==null?void 0:e.cUF[0]),e!=null&&e.cNF&&(t.cNF=e==null?void 0:e.cNF[0]),e!=null&&e.natOp&&(t.natOp=e==null?void 0:e.natOp[0]),e!=null&&e.mod&&(t.mod=e==null?void 0:e.mod[0]),e!=null&&e.serie&&(t.serie=e==null?void 0:e.serie[0]),e!=null&&e.nNF&&(t.nNF=e==null?void 0:e.nNF[0]),e!=null&&e.dhEmi&&(t.dhEmi=e==null?void 0:e.dhEmi[0]),e!=null&&e.dhSaiEnt&&(t.dhSaiEnt=e==null?void 0:e.dhSaiEnt[0]),e!=null&&e.tpNF&&(t.tpNF=e==null?void 0:e.tpNF[0]),e!=null&&e.idDest&&(t.idDest=e==null?void 0:e.idDest[0]),e!=null&&e.cMunFG&&(t.cMunFG=e==null?void 0:e.cMunFG[0]),e!=null&&e.tpImp&&(t.tpImp=e==null?void 0:e.tpImp[0]),e!=null&&e.tpEmis&&(t.tpEmis=e==null?void 0:e.tpEmis[0]),e!=null&&e.cDV&&(t.cDV=e==null?void 0:e.cDV[0]),e!=null&&e.tpAmb&&(t.tpAmb=e==null?void 0:e.tpAmb[0]),e!=null&&e.finNFe&&(t.finNFe=e==null?void 0:e.finNFe[0]),e!=null&&e.indFinal&&(t.indFinal=e==null?void 0:e.indFinal[0]),e!=null&&e.indPres&&(t.indPres=e==null?void 0:e.indPres[0]),e!=null&&e.procEmi&&(t.procEmi=e==null?void 0:e.procEmi[0]),e!=null&&e.verProc&&(t.verProc=e==null?void 0:e.verProc[0]),t}catch(t){console.log(t.message)}}function xfe(e){var t,o,r,a,i,n,s,l,u,c,d,m,f,p,g,b,x,_,y,I;try{const S={enderEmit:{}};return e!=null&&e.CNPJ&&(S.CNPJ=e==null?void 0:e.CNPJ[0]),e!=null&&e.xNome&&(S.xNome=e==null?void 0:e.xNome[0]),e!=null&&e.xFant&&(S.xFant=e==null?void 0:e.xFant[0]),(t=e==null?void 0:e.enderEmit[0])!=null&&t.CEP&&(S.enderEmit.CEP=(o=e==null?void 0:e.enderEmit[0])==null?void 0:o.CEP[0]),(r=e==null?void 0:e.enderEmit[0])!=null&&r.UF&&(S.enderEmit.UF=(a=e==null?void 0:e.enderEmit[0])==null?void 0:a.UF[0]),(i=e==null?void 0:e.enderEmit[0])!=null&&i.cMun&&(S.enderEmit.cMun=(n=e==null?void 0:e.enderEmit[0])==null?void 0:n.cMun[0]),(s=e==null?void 0:e.enderEmit[0])!=null&&s.cPais&&(S.enderEmit.cPais=(l=e==null?void 0:e.enderEmit[0])==null?void 0:l.cPais[0]),(u=e==null?void 0:e.enderEmit[0])!=null&&u.fone&&(S.enderEmit.fone=(c=e==null?void 0:e.enderEmit[0])==null?void 0:c.fone[0]),(d=e==null?void 0:e.enderEmit[0])!=null&&d.nro&&(S.enderEmit.nro=(m=e==null?void 0:e.enderEmit[0])==null?void 0:m.nro[0]),(f=e==null?void 0:e.enderEmit[0])!=null&&f.xBairro&&(S.enderEmit.xBairro=(p=e==null?void 0:e.enderEmit[0])==null?void 0:p.xBairro[0]),(g=e==null?void 0:e.enderEmit[0])!=null&&g.xLgr&&(S.enderEmit.xLgr=(b=e==null?void 0:e.enderEmit[0])==null?void 0:b.xLgr[0]),(x=e==null?void 0:e.enderEmit[0])!=null&&x.xMun&&(S.enderEmit.xMun=(_=e==null?void 0:e.enderEmit[0])==null?void 0:_.xMun[0]),(y=e==null?void 0:e.enderEmit[0])!=null&&y.xPais&&(S.enderEmit.xPais=(I=e==null?void 0:e.enderEmit[0])==null?void 0:I.xPais[0]),e!=null&&e.IE&&(S.IE=e==null?void 0:e.IE[0]),e!=null&&e.CRT&&(S.CRT=e==null?void 0:e.CRT[0]),S}catch(S){console.log(S.message)}}function wfe(e){var t,o,r,a,i,n,s,l,u,c,d,m,f,p,g,b,x,_,y,I,S,O;try{const F={enderDest:{}};return e!=null&&e.CNPJ&&(F.CNPJ=e==null?void 0:e.CNPJ[0]),e!=null&&e.IE&&(F.IE=e==null?void 0:e.IE[0]),e!=null&&e.xNome&&(F.xNome=e==null?void 0:e.xNome[0]),e!=null&&e.indIEDest&&(F.indIEDest=e==null?void 0:e.indIEDest[0]),(t=e==null?void 0:e.enderDest[0])!=null&&t.CEP&&(F.enderDest.CEP=(o=e==null?void 0:e.enderDest[0])==null?void 0:o.CEP[0]),(r=e==null?void 0:e.enderDest[0])!=null&&r.UF&&(F.enderDest.UF=(a=e==null?void 0:e.enderDest[0])==null?void 0:a.UF[0]),(i=e==null?void 0:e.enderDest[0])!=null&&i.cMun&&(F.enderDest.cMun=(n=e==null?void 0:e.enderDest[0])==null?void 0:n.cMun[0]),(s=e==null?void 0:e.enderDest[0])!=null&&s.cPais&&(F.enderDest.cPais=(l=e==null?void 0:e.enderDest[0])==null?void 0:l.cPais[0]),(u=e==null?void 0:e.enderDest[0])!=null&&u.fone&&(F.enderDest.fone=(c=e==null?void 0:e.enderDest[0])==null?void 0:c.fone[0]),(d=e==null?void 0:e.enderDest[0])!=null&&d.nro&&(F.enderDest.nro=(m=e==null?void 0:e.enderDest[0])==null?void 0:m.nro[0]),(f=e==null?void 0:e.enderDest[0])!=null&&f.xBairro&&(F.enderDest.xBairro=(p=e==null?void 0:e.enderDest[0])==null?void 0:p.xBairro[0]),(g=e==null?void 0:e.enderDest[0])!=null&&g.xCpl&&(F.enderDest.xCpl=(b=e==null?void 0:e.enderDest[0])==null?void 0:b.xCpl[0]),(x=e==null?void 0:e.enderDest[0])!=null&&x.xLgr&&(F.enderDest.xLgr=(_=e==null?void 0:e.enderDest[0])==null?void 0:_.xLgr[0]),(y=e==null?void 0:e.enderDest[0])!=null&&y.xMun&&(F.enderDest.xMun=(I=e==null?void 0:e.enderDest[0])==null?void 0:I.xMun[0]),(S=e==null?void 0:e.enderDest[0])!=null&&S.xPais&&(F.enderDest.xPais=(O=e==null?void 0:e.enderDest[0])==null?void 0:O.xPais[0]),F}catch(F){console.log(F.message)}}function Ife(e){let t={};for(let o in e)t[o]={nItem:e[o].$.nItem,prod:{CFOP:e[o].prod[0].CFOP?e[o].prod[0].CFOP[0]:"",NCM:e[o].prod[0].NCM?e[o].prod[0].NCM[0]:"",cBenef:e[o].prod[0].cBenef?e[o].prod[0].cBenef[0]:"",cEAN:e[o].prod[0].cEAN?e[o].prod[0].cEAN[0]:"",cEANTrib:e[o].prod[0].cEANTrib?e[o].prod[0].cEANTrib[0]:"",cProd:e[o].prod[0].cProd?e[o].prod[0].cProd[0]:"",indTot:e[o].prod[0].indTo?e[o].prod[0].indTot[0]:"",qCom:e[o].prod[0].qCom?Number(e[o].prod[0].qCom):0,qTrib:e[o].prod[0].qTrib?Number(e[o].prod[0].qTrib):0,uCom:e[o].prod[0].uCom?e[o].prod[0].uCom[0]:"",uTrib:e[o].prod[0].uTrib?e[o].prod[0].uTrib[0]:"",vProd:e[o].prod[0].vProd?Number(e[o].prod[0].vProd):0,vUnCom:e[o].prod[0].vUnCom?Number(e[o].prod[0].vUnCom):0,vUnTrib:e[o].prod[0].vUnTrib?Number(e[o].prod[0].vUnTrib):0,xPed:e[o].prod[0].xPed?e[o].prod[0].xPed[0]:"",xProd:e[o].prod[0].xProd?e[o].prod[0].xProd[0]:""},imposto:{COFINS:Sfe(e[o].imposto[0].COFINS[0]),ICMS:Efe(e[o].imposto[0].ICMS[0]),PIS:Afe(e[o].imposto[0].PIS[0])}};return t}function Efe(e){var r,a,i,n,s,l,u,c,d,m,f,p,g,b,x,_,y,I,S,O,F;const t=Object.keys(e)[0];let o={};return o[t]={CST:(r=e[t][0])!=null&&r.CST&&(i=(a=e[t][0])==null?void 0:a.CST[0])!=null?i:"",modBC:(n=e[t][0])!=null&&n.modBC&&(l=(s=e[t][0])==null?void 0:s.modBC[0])!=null?l:"",orig:(u=e[t][0])!=null&&u.orig&&(d=(c=e[t][0])==null?void 0:c.orig[0])!=null?d:"",pICMS:(m=e[t][0])!=null&&m.pICMS?(p=(f=e[t][0])==null?void 0:f.pICMS[0])!=null?p:0:"",pRedBC:(g=e[t][0])!=null&&g.pRedBC?(x=(b=e[t][0])==null?void 0:b.pRedBC[0])!=null?x:0:"",vBC:(_=e[t][0])!=null&&_.vBC?(I=(y=e[t][0])==null?void 0:y.vBC[0])!=null?I:0:"",vICMS:(S=e[t][0])!=null&&S.vICMS?(F=(O=e[t][0])==null?void 0:O.vICMS[0])!=null?F:0:""},o}function Sfe(e){var r,a,i,n,s,l,u,c;const t=Object.keys(e)[0];let o={};return o[t]={CST:e[t][0].hasOwnProperty("CST")&&(a=(r=e[t][0])==null?void 0:r.CST[0])!=null?a:"",vBC:e[t][0].hasOwnProperty("vBC")&&(n=(i=e[t][0])==null?void 0:i.vBC[0])!=null?n:0,pCOFINS:e[t][0].hasOwnProperty("pCOFINS")&&(l=(s=e[t][0])==null?void 0:s.pCOFINS[0])!=null?l:0,vCOFINS:e[t][0].hasOwnProperty("vCOFINS")&&(c=(u=e[t][0])==null?void 0:u.vCOFINS[0])!=null?c:0},o}function Afe(e){var r,a,i,n,s,l,u,c;const t=Object.keys(e)[0];let o={};return o[t]={CST:e[t][0].hasOwnProperty("CST")&&(a=(r=e[t][0])==null?void 0:r.CST[0])!=null?a:"",vBC:e[t][0].hasOwnProperty("vBC")&&(n=(i=e[t][0])==null?void 0:i.vBC[0])!=null?n:0,pPIS:e[t][0].hasOwnProperty("pPIS")&&(l=(s=e[t][0])==null?void 0:s.pPIS[0])!=null?l:0,vPIS:e[t][0].hasOwnProperty("vPIS")&&(c=(u=e[t][0])==null?void 0:u.vPIS[0])!=null?c:0},o}function Tfe(e){const t=Object.keys(e);let o={};for(let r in t){let a=t[r];o[a]={};const i=Object.keys(e[t][r]);for(let n in i){let s=i[n];o[a][s]=e[t][r][i[n]][0]}}return o}function Ofe(e){return{infAdFisco:e!=null&&e.infAdFisco?e==null?void 0:e.infAdFisco[0]:"",infCpl:e!=null&&e.infCpl?e==null?void 0:e.infCpl[0]:""}}function Dfe(e){try{let t=[];for(let o in e.detPag){const r={};e.detPag[o].hasOwnProperty("indPag")&&(r.indPag=e.detPag[o].indPag[0]),e.detPag[o].hasOwnProperty("tPag")&&(r.tPag=e.detPag[o].tPag[0]),e.detPag[o].hasOwnProperty("vPag")&&(r.vPag=e.detPag[o].vPag[0]),t.push(r)}return{detPag:t}}catch(t){console.log(e),console.log(t.message)}}function Pfe(e){const t=Object.keys(e);let o={};for(let r in t){let a=t[r];o[a]={};for(let i=0;i<Object.keys(e[t[r]]).length;i++){o[a][i]={};const n=Object.keys(e[t[r]][i]);for(let s in n){let l=n[s];o[a][i][l]=e[t[r]][i][n[s]][0]}}}return o}function Mfe(e){const t={};return t.modFrete=e.modFrete[0],t.transporta={},e.transporta&&Object.keys(e.transporta[0]).forEach(o=>{t.transporta[o]=e.transporta[0][o][0]}),t.vol={},e.vol&&Object.keys(e.vol).forEach(o=>{t.vol[o]={},Object.keys(e.vol[o]).forEach(r=>{t.vol[o][r]=e.vol[o][r][0]})}),t}async function Nfe({xmlString:e,tela:t}){try{const o=yfe(e),r=vfe(o),a=await gfe(r.infNFe,r.protNFe),i={id:$utils.uuid(),xmlAux:e,idDocumento:a.id};await $db.documentoXml.grava({original:{},atual:i}),await bfe(a,r.infNFe.cobr),await _fe(a,r.infNFe.det,t)}catch(o){console.log(o.message)}}const Ffe=["id","descricaoContato","descricaoEmpresa","numeroDocumentoContato","numeroDocumentoEmpresa","telefoneContato","ativo"];var Rfe={le:async function({filtros:e,termoBusca:t,limit:o,page:r,sort:a,dir:i=!1}){var I,S,O,F;let n=$utils.tratamentoCompletoString(t||"");for(const M in e){if(e[M]===null||e[M]===void 0)throw"Erro no filtro "+M;typeof e[M]=="string"&&(e[M]=e[M].trim())}let s=e||{};if("id"in s)return s.id?await Z().documento.get(s.id)||{}:{};let l={tipo:"Compra"};"idContato"in s&&s.idContato&&(l.idContato=s.idContato),"idContatoDigitador"in s&&s.idContatoDigitador&&(l.idContatoDigitador=s.idContatoDigitador),"idEmpresa"in s&&s.idEmpresa&&(l.idEmpresa=s.idEmpresa),"status"in s&&s.status&&s.status.indexOf(",")===-1&&(l.status=s.status),"operacao"in s&&s.operacao&&(l.operacao=s.operacao),"codigoContato"in s&&s.codigoContato&&(l.codigoContato=s.codigoContato);let u=await Z().documento;Object.keys(l).length&&(u=await u.where(l));let c=s.periodoEmissao&&(s.periodoEmissao.ini&&s.periodoEmissao.ini.length>2||s.periodoEmissao.fim&&s.periodoEmissao.fim.length>2);if("periodoEmissao"in s&&s.periodoEmissao&&c){const M=new Date(s.periodoEmissao.ini).setHours(0,0,0,0),E=new Date(s.periodoEmissao.fim).setHours(0,0,0,0);u=await u.filter(D=>{const P=new Date(D.dataHoraEmissao).setHours(0,0,0,0);return M&&E?P>=M&&P<=E:M?P>=M:E?P<=E:!0})}let d=s.periodoFinalizado&&(s.periodoFinalizado.ini&&s.periodoFinalizado.ini.length>2||s.periodoFinalizado.fim&&s.periodoFinalizado.fim.length>2);if("periodoFinalizado"in s&&s.periodoFinalizado&&d){const M=new Date(s.periodoFinalizado.ini).setHours(0,0,0,0),E=new Date(s.periodoFinalizado.fim).setHours(0,0,0,0);u=await u.filter(D=>{const P=new Date(D.dataHoraFinalizado).setHours(0,0,0,0);return M&&E?P>=M&&P<=E:M?P>=M:E?P<=E:!0})}if("idEmpresa"in s&&s.idEmpresa&&(u=await u.filter(M=>M.idEmpresa?s.idEmpresa===M.idEmpresa:!1)),"fornecedor"in s&&s.fornecedor.nome.length>0&&(u=await u.filter(M=>{if(!M.descricaoContato)return!1;const E=$utils.removerCaracteresEspeciais(M.descricaoContato.toString().toLowerCase()),D=$utils.removerCaracteresEspeciais(s.fornecedor.nome.toString().toLowerCase());return E.indexOf(D)!==-1})),"valorTotal"in s&&s.valorTotal!==0&&(u=await u.filter(M=>M.totalDocumento>=s.valorTotal)),s!=null&&s.status&&s.status.indexOf(",")!==-1){const M=s.status;u=u.filter(function(E){return M.indexOf(E.status)!==-1})}"termoBusca"in s&&s.termoBusca&&(n+=` ${$utils.tratamentoCompletoString(s.termoBusca||"")}`);let m=[];if(m=await u.toArray()||[],a&&i&&(m=ca.exports.orderBy(m,a,i)),n){let M=[],E=new Set(n.split(" "));E=Array.from(E);for(const D of m){let P,N,R,z="";P=((I=D.telefoneContato)!=null?I:"").replace(/\D/g,""),P&&P!==D.telefoneContato&&(z+=` ${P}`),N=(S=D.descricaoContato)!=null?S:"",N&&N!==D.descricaoContato&&(z+=` ${N}`),R=(O=D.descricaoEmpresa)!=null?O:"",R&&R!==D.descricaoEmpresa&&(z+=` ${R}`);for(const j of Ffe)j!=="ativo"&&(z+=` ${(F=D[j])!=null?F:""}`);z=$utils.tratamentoCompletoString(z);let W=!0;for(const j of E)if(!~z.indexOf(j)){W=!1;break}W&&M.push(D)}m=M}if("numero"in s&&s.numero!==0){let M=[];M=m.filter(E=>parseInt(E.notaNumero)===parseInt(s.numero)),m=M}if("numeroCompra"in s&&s.numeroCompra!==0){let M=[];M=m.filter(E=>parseInt(E.numero)===parseInt(s.numeroCompra)),M.length>0&&(m=M)}const f=m.length;let p=o,b=((r||1)-1)*p;m=m.splice(b,p);let x=m,_=f,y=Math.ceil(_/p)||1;return{data:x,total:_,totalPages:y}},async gerarFinanceiro(e){var t,o,r;console.log("gerarFinanceiro | Baseado na EXEC Sp_Compras_GeraProvisaoPedido!");try{if(!e)throw new Error("idDocumento n\xE3o fornecido");const a=await $db.documento.ler({id:e});if(!a)throw new Error("N\xE3o foi poss\xEDvel obter o documento");const i=a.idEmpresa,n=a.idContato,s=(t=a.notaNumero)!=null?t:"",l=(o=a.observacaoFaturamento)!=null?o:"",u=new Date,c=a.totalDocumento,d=(await $db.configuracoes.le({nome:"financeiro.planocontas.comprageral"}))[0],m=a.condicaoPagamento;let f=(r=a.formaDePagamento)!=null?r:"",p=`Provisionamento de pedido de compra ${a.observacaoFaturamento||""}`;s!==0&&(p=`${p} | Nota nro: ${s}`),f=`PROVIS\xC3O PEDIDO ${f}`;let g=[],b=0,y=(await(await $db.documentoItem.ler({idDocumento:a.id})).filter(S=>S.codigoPlanoContaEstoque!==(d==null?void 0:d.valor))).map(S=>{var O,F;return{codigoPlanoContaEstoque:S.codigoPlanoContaEstoque,totalItem:((O=S.total)!=null?O:0)-((F=S.descontoTotalRateado)!=null?F:0)}});y=[...new Set(y.map(S=>S))];for(let S in y)if(g.some(O=>O.codigoPlanoContaEstoque===y[S].codigoPlanoContaEstoque)){let O=g.findIndex(F=>F.codigoPlanoContaEstoque===y[S].codigoPlanoContaEstoque);g[O].valor+=y[S].totalItem}else g.push({codigoPlanoContaEstoque:y[S].codigoPlanoContaEstoque,valor:y[S].totalItem});g.porcentagem=g.valor/c,this.financeiroGerarNotaEntrada(a.id,"Compra de Mercadoria",l,0,m,c,n,f,u,a.codigoDocumento,"Pedido Compra",d,0,i,g);const I={atual:$utils.clonarV2(a),original:$utils.clonarV2(a)};I.atual.provisaoCompra=1,await $db.documento.grava({original:I.original,atual:I.atual})}catch(a){$q.notifyError(a)}},importaXml:Nfe};async function KN(e={}){if("id"in e)return e.id?await Z()[this.nomeTabela].get(e.id)||{}:{};const t={};for(const o of this.filtrosTabela)if(o in e)if(![null,void 0].includes(e[o]))t[o]=e[o];else return[];return Object.keys(t).length?Z()[this.nomeTabela].where(t).toArray():Z()[this.nomeTabela].toArray()}async function QN(e){this.cache=null;const t=li(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(t).length&&(await Z()[this.nomeTabela].update(e.atual.id,t),await Je("atualizar",this.nomeTabela,e.atual.id,t)):(await Z()[this.nomeTabela].put(t),await Je("adicionar",this.nomeTabela,t.id,t))}async function JN(e){this.cache=null,await Z()[this.nomeTabela].delete(e),await Je("remover",this.nomeTabela,e)}const zi={};async function kfe(e){var s,l;const{idContatoDestinatario:t,idContatoEmitente:o}=e,r=new Date;if((zi==null?void 0:zi.timeout)&&!(r>new Date(zi.timeout)))return;const a=await $erp().documentoOperacao.toArray();let i=[],n=[];if(t){const u=await $erp().contato.get(t),c=await $erp().contatoEndereco.where({idContato:t}).toArray(),d=(s=c.find(m=>{var f,p;return((p=(f=m.grupo)==null?void 0:f.trim())==null?void 0:p.toLowerCase())==="principal"}))!=null?s:c[0];i.push(u),d&&n.push(d)}if(o){const u=await $erp().contato.get(o),c=await $erp().contatoEndereco.where({idContato:o}).toArray(),d=(l=c.find(m=>{var f,p;return((p=(f=m.grupo)==null?void 0:f.trim())==null?void 0:p.toLowerCase())==="principal"}))!=null?l:c[0];i.push(u),d&&n.push(d)}zi.documentoOperacao=a,zi.contatos=i,zi.contatosEndereco=n,zi.timeout=r.setSeconds(r.getSeconds()+3)}function Vfe(e={}){const{ufOrigem:t,ufDestino:o,origemMercadoria:r}=e,a=new Date;if(a.setHours(0,0,0,0),[1,2,3,6,7].includes(Number(r))&&t!==o)return 4;if(t===o){if(["ES","GO","MS","MT","RS","SC"].includes(t))return t==="GO"&&a>=new Date(2024,3,1)?19:17;if(["RO"].includes(t))return a>=new Date(2024,0,12)?19.5:17.5;if(["AP","CE","DF","MG","PB","PE","RJ","SP","TO"].includes(t))return["CE","PB","TO"].includes(t)&&a>=new Date(2024,0,1)?20:t==="PE"&&a>=new Date(2024,0,1)?20.5:t==="DF"&&a>=new Date(2024,0,21)||t==="RJ"&&a>=new Date(2024,2,20)?20:18;if(["AC","AL","BA","PA","PR","SE"].includes(t))return t==="BA"&&a>=new Date(2024,1,7)?20.5:t==="PR"&&a>=new Date(2024,2,18)?19.5:19;if(["AM","MA","RN","RR"].includes(t))return t==="RN"&&a>=new Date(2024,0,1)?18:t==="MA"&&a>=new Date(2024,1,19)?22:20;if(["PI"].includes(t))return 21}return["MG","PR","RS","RJ","SC","SP"].includes(o)?12:["MG","PR","RS","RJ","SC","SP"].includes(t)?7:12}async function qfe(e={}){const{documento:t,documentosItens:o}=e,r=t==null?void 0:t.idEmpresa,a=t==null?void 0:t.idContato;await kfe({idContatoEmitente:r,idContatoDestinatario:a});const i=zi.documentoOperacao.find(c=>c.codigoDocumentoOperacao===(t==null?void 0:t.codigoDocumentoOperacao)),n=(i==null?void 0:i.finalidade)===100;let s,l;s=t.tipoFrete==="FOB",l=t.valorFrete||0;const u=$utils.ratear({itens:o.map(c=>({id:c.id,valor:c.valorRealTotal})),saldo:l});for(const c of o){const d=await $utils.impostoV2({documento:t,documentoItem:c}),m=u.find(O=>O.id===c.id);let f=(m==null?void 0:m.parcela)||0,p,g,b,x,_;const y=d==null?void 0:d.saida;b=(y==null?void 0:y.pIPI)/100*c.valorRealTotal,b=$utils.arredondar(b),p=c.valorRealTotal+(!n&&s?f:0),p=$utils.arredondar(p),g=(c.valorRealTotal+(n?b:0)+(!n&&s?f:0))*(1+(y==null?void 0:y.pMVAST)/100),g=$utils.arredondar(g),x=p*((y==null?void 0:y.pICMS)/100),x=$utils.arredondar(x),c.operacaoFator===-1&&(_=g*((y==null?void 0:y.pICMSST)/100)-x,_=$utils.arredondar(_),_<0&&(_=0)),c.operacaoFator===1&&(_=g*((y==null?void 0:y.pICMSST)/100)+-1*x,_=$utils.arredondar(_),_>0&&(_=0)),zi.contatos.find(O=>O.id===r);const I=zi.contatosEndereco.find(O=>O.idContato===r);zi.contatos.find(O=>O.id===a);const S=zi.contatosEndereco.find(O=>O.idContato===a);S==null||S.uf,I==null||I.uf,c.valorIpi=b||0,c.valorIcms=x||0,c.valorIcmsSt=0,c.valorDifal=0,n&&_&&(c.valorDifal=_),!n&&_&&(c.valorIcmsSt=_)}}const Qc={};async function Bfe(){var o;const e=new Date;if((Qc==null?void 0:Qc.timeout)&&!(e>new Date(Qc.timeout)))return;const t=await $erp().configuracaoImposto.toArray();for(const r of t)r.json=JSON.parse((o=r.json)!=null?o:null);Qc.configuracaoImposto=t,Qc.timeout=e.setSeconds(e.getSeconds()+3)}var Lfe={nomeTabela:"configuracaoImposto",filtrosTabela:[],le:KN,grava:QN,remove:JN,async pesquisa(e,t=[]){e.emitente.tributacaoSetor=e.emitente.tributacaoSetor||"99",e.emitente.tributacao=e.emitente.tributacao||"",e.destinatario=e.destinatario||{},e.destinatario.uf=e.destinatario.uf||e.emitente.uf,e.destinatario.pessoa=e.destinatario.pessoa||"",e.destinatario.regime=e.destinatario.regime||"",e.destinatario.tributacaoSetor=e.destinatario.tributacaoSetor||"99",e.destinatario.tributacao=e.destinatario.tributacao||"",e.destinatario.indicadorIE=e.destinatario.indicadorIE||"",e.destinatario.consumidor=e.destinatario.consumidor||"S",e.destinatario.destino=e.destinatario.destino||(e.destinatario.uf===e.emitente.uf?"1":"2"),e.cest=e.cest||"",e.origemMercadoria=e.origemMercadoria||"0",await Bfe();const o=new Date(new Date().toDateString());let r,a=0,i="";for(const n of Qc.configuracaoImposto){const s=n.json;if(a&&Number(s.ordem)>a||!!s.dataInicio&&new Date(s.dataInicio)>o||!!s.dataFim&&new Date(s.dataFim)<o)continue;const l=[{entrada:e.cfop,config:s.cfops||[],campoLista:"codigo"},{entrada:e.destinatario.consumidor,config:s.destinatario.consumidor},{entrada:e.destinatario.destino,config:s.destinatario.destino},{entrada:e.destinatario.indicadorIE,config:s.destinatario.indicadorIE},{entrada:e.destinatario.pessoa,config:s.destinatario.pessoa},{entrada:e.destinatario.regime,config:s.destinatario.regime},{entrada:e.destinatario.tributacao,config:s.destinatario.tributacao},{entrada:e.destinatario.tributacaoSetor,config:s.destinatario.tributacaoSetor},{entrada:e.destinatario.uf,config:s.destinatario.ufs||[],campoLista:"codigo"},{entrada:e.emitente.regime,config:s.emitente.regime},{entrada:e.emitente.tributacao,config:s.emitente.tributacao},{entrada:e.emitente.tributacaoSetor,config:s.emitente.tributacaoSetor},{entrada:e.emitente.uf,config:s.emitente.ufs||[],campoLista:"codigo"},{entrada:e.ncm,config:s.ncms||[],campoLista:"codigo"},{entrada:e.origemMercadoria,config:s.origemMercadoria}];let u=!0;for(const p of l){const{entrada:g,config:b,campoLista:x}=p;if(x){if(!!g&&b.length>0&&!b.find(_=>_[x]===g)){u=!1;break}}else if(!!g&&g!==b&&b!=="T"){u=!1;break}}if(!u)continue;if(!!s.ncms&&!!s.ncms.length&&!s.ncms.find(p=>p.codigo===e.ncm&&(p.cest===e.cest||!p.cest))){u=!1;continue}a=Number(s.ordem),i=s.descricao,r=s.imposto;const c=s.icmsInterestadual.find(p=>p.uf===e.destinatario.uf),d=e.emitente.uf,m=e.destinatario.uf;r.icmsInterestadual=c,d!==m&&(r.pICMS=Vfe({ufOrigem:e.emitente.uf,ufDestino:e.destinatario.uf,origemMercadoria:e.origemMercadoria})),d===m&&(r.pICMS=Number(c.pICMSUFDest||0));const f=await $db.ncm.ncmST({idItem:e.idItem,ncm:e.ncm,ufDestinatario:e.destinatario.uf});r.pICMSST=0,r.pMVAST=0,r.pRedBCST=0,f&&r.cstCsosn!=="500"&&(r.pICMSST=Number(c.pICMSUFDest||0),r.pMVAST=Number(c.pMVAST||0),r.pRedBCST=Number(c.pRedBCSTInter||0))}return a===0&&(console.error(`Filtro de entrada:
`,JSON.stringify(e,0,2)),t.push(e)),{ordem:a,descricao:i,saida:r,entrada:e}}};const $fe={id:"",nome:"",valor:"",texto:"",observacao:""},Ufe={vazio:$fe,valores:{},async inicializa(){},le:async e=>{if(e=e||{},e.id)return Z().configuracoes.get(e.id)||{};let t=await Z().configuracoes.toArray()||[];return e.nome&&(t=t.filter(o=>o.nome===e.nome)),e.prefixoNome&&(t=t.filter(o=>o.nome.startsWith(e.prefixoNome))),e.valor&&(t=t.filter(o=>o.valor===e.valor)),e.texto&&(t=t.filter(o=>o.texto===e.texto)),e.observacao&&(t=t.filter(o=>o.observacao===e.observacao)),e.idEmpresa&&(t=t.filter(o=>o.idEmpresa===e.idEmpresa)),t},async porNome(e,t){Da(!e,"Nome de configura\xE7\xE3o n\xE3o especificado.");const o=await Z().configuracoes.where({nome:e}).toArray();let r=t?o.filter(n=>(n.valor||"").trim()&&n.idEmpresa===t):[],a=o.filter(n=>(n.valor||"").trim()&&!n.idEmpresa);const i=[];return r=r.filter(n=>i.includes(n.valor)?!1:(i.push(n.valor),!0)),a=a.filter(n=>i.includes(n.valor)?!1:(i.push(n.valor),!0)),[...r,...a]},async leLaboratorioEssilor(e,t){let o=await Z().configuracoes.where({nome:"compra.essilor.webservice"}).toArray();o=o.filter(n=>Number(n.valor)===e);let r=o.find(n=>n.idEmpresa===t);r||(r=o.find(n=>(n.idEmpresa||"")==="")),Da(!r,"Laborat\xF3rio sem configura\xE7ao de usuario e senha. (compra.essilor.webservice)");const[a,i]=r.texto.split(";");return Da(!a||!i,"Laborat\xF3rio com configura\xE7ao inv\xE1lida de usuario e senha. (compra.essilor.webservice)"),{usuario:a,senha:i}},async leLaboratorioZeiss(e,t){let o=await Z().configuracoes.where({nome:"compra.zeiss.webservice"}).toArray();o=o.filter(i=>Number(i.valor)===e);let r=o.find(i=>i.idEmpresa===t);return r||(r=o.find(i=>(i.idEmpresa||"")==="")),Da(!r,"Laborat\xF3rio sem configura\xE7ao de apiKey. (compra.zeiss.webservice)"),{apiKey:r.texto}},async leLista(e){return Z().configuracoes.where({nome:e}).toArray()},async leValor(e,t=""){return(await Z().configuracoes.where({nome:e}).first()||{}).valor||t},async leValorComFiltroEmpresa(e,t,o=""){const r=await Z().configuracoes.where({nome:e}).toArray();let a=r.find(i=>i.idEmpresa===t);return a||(a=r.find(i=>(i.idEmpresa||"")==="")),(a||{}).valor||o},async leValorNumerico(e,t=0){const o=await Z().configuracoes.where({nome:e}).first();if(!o||!o.valor)return t;const r=Number(o.valor);return r===0||!!r?r:t},async leValorNumericoComFiltroEmpresa(e,t,o=0){const r=await Z().configuracoes.where({nome:e}).toArray();let a=r.find(n=>n.idEmpresa===t);if(a||(a=r.find(n=>(n.idEmpresa||"")==="")),!a||!a.valor)return o;const i=Number(a.valor);return i===0||!!i?i:o},async leOnline(e){return e.nome?mo(`select valor from configuracoes where nome=${yt(e.nome)}`):[]},async atualizaPorNome(e,t,o){const r={atual:{},original:{}},a=await Z().configuracoes.where({nome:e}).toArray();let i=a.find(n=>n.idEmpresa===t);i||(i=a.find(n=>(n.idEmpresa||"")==="")),i&&(r.original=$utils.clonarV2(i),r.atual=$utils.clonarV2(i),r.atual.valor=o),i||(r.original={},r.atual={id:$utils.uuid(),nome:e,valor:o}),this.grava(r)},grava:async e=>{if(e=$utils.compactarObjeto(e),!Object.keys(e.original||{}).length)await Z().configuracoes.put(e.atual),await $utils.sincronismoEnviar("adicionar","configuracoes",e.atual.id,e.atual);else{const t=$utils.diferencaObjetos(e.original,e.atual);Object.keys(t).length&&(await Z().configuracoes.update(e.atual.id,t),await $utils.sincronismoEnviar("atualizar","configuracoes",e.atual.id,t))}}},ZN=["id","idContatoVendedor","idContatoAssistente","codigoContato","nome","apelido","numeroDocumentoNacional","numeroDocumentoMunicipal","segmento","ativo","telefones","municipios"];let fp=[],Wc;const Md={id:"",apelido:"",nome:"",imagem:"",numeroDocumentoNacional:"",ativo:!0,consulta:[],endereco:[{bairro:"",cep:"",complemento:"",grupo:"",ibgeCod:"",logradouro:"",municipio:"",numero:"",pais:"",uf:""}],filhos:[],grupo:[],nomesGrupo:[],redeSocial:[],telefone:[{}]};let b2="contato",zfe=["tipo"];async function Hfe(e={}){var d,m,f,p;const{filtros:t={},sort:o}=e,r=$utils.tratamentoCompletoString(t.termoBusca||"");let{limit:a,page:i}=e,n=[],s=fp,l=[],u,c;await eF();for(const g of["id","codigoContato"])g in t&&l.push(g);for(const g of l){const b=s.find(x=>x[g]===t[g]);if(!b){s=[];break}s=[b]}if("ativo"in t&&(s=s.filter(g=>{if("ativo"in g)return g.ativo===t.ativo;if(!t.ativo)return!0})),"codigoContatoVendedor"in t&&t.codigoContatoVendedor&&(s=s.filter(g=>{if("codigoContatoVendedor"in g)return g.codigoContatoVendedor===t.codigoContatoVendedor;if("codigoContatoAssistente"in g)return g.codigoContatoAssistente===t.codigoContatoVendedor;if(!t.codigoContatoAssistente||!t.codigoContatoVendedor)return!1})),t.somenteCarteira&&!je.usuario.logado.administrador&&await je.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos")&&!await je.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos")){let g,b,x,_;g=await $erp().configuracoes.where({nome:"venda.codigoconsumidor"}).toArray(),b=Number(g[0].valor),b&&(x=(await $erp().contato.where({codigoContato:b}).toArray())[0]),$db.usuario.logado.numeroDocumentoNacional&&(_=(await $erp().contato.where({numeroDocumentoNacional:$db.usuario.logado.numeroDocumentoNacional}).toArray())[0]),_||(s=[]),s=s.filter(y=>{if(y.id===_.id||y.id===(x==null?void 0:x.id)||y.idContatoVendedor===_.id||y.idContatoAssistente===_.id)return!0})}if(t.empresas){if(je.usuario.logado.administrador){const b=(await $erp().empresa.toArray()).filter(x=>x.ativo).map(x=>x.idContato);s=s.filter(x=>~b.indexOf(x.id))}je.usuario.logado.administrador||(await Ka.empresaUsuarioPermissao.inicializarPermissao(),s=s.filter(g=>~Ka.empresaUsuarioPermissao.permissao.indexOf(g.codigoContato)))}if(t.usuario){const b=(await $erp().contato.where("codigoUsuario").notEqual("").toArray()).map(x=>x.id);s=s.filter(x=>~b.indexOf(x.id))}if(t.vendedores){const g=["vendedor","vendedora","vendedores","Vendedor","Vendedora","Vendedores","VENDEDOR","VENDEDORA","VENDEDORES"],x=(await Z().contatoGrupo.where("descricao").anyOf(g).toArray()).map(_=>_.idContato);s=s.filter(_=>~x.indexOf(_.id))}if(t.tecnicos){const g=["tecnico","tecnica","tecnicos","Tecnico","Tecnica","Tecnicos","TECNICO","TECNICA","TECNICOS","t\xE9cnico","t\xE9cnica","t\xE9cnicos","T\xE9cnico","T\xE9cnica","T\xE9cnicos","T\xC9CNICO","T\xC9CNICA","T\xC9CNICOS"],x=(await Z().contatoGrupo.where("descricao").anyOf(g).toArray()).map(_=>_.idContato);s=s.filter(_=>~x.indexOf(_.id))}if(t.transportadoras){const g=["transportador","transportadora","transportadores","transportadoras","Transportador","Transportadora","Transportadores","Transportadoras","TRANSPORTADOR","TRANSPORTADORA","TRANSPORTADORES","TRANSPORTADORAS"],x=(await Z().contatoGrupo.where("descricao").anyOf(g).toArray()).map(_=>_.idContato);s=s.filter(_=>~x.indexOf(_.id))}if(t.medicos){const g=["medico","medica","medicos","Medico","Medica","Medicos","MEDICO","MEDICA","MEDICOS","m\xE9dico","m\xE9dica","m\xE9dicos","M\xE9dico","M\xE9dica","M\xE9dicos","M\xC9DICO","M\xC9DICA","M\xC9DICOS"],x=(await Z().contatoGrupo.where("descricao").anyOf(g).toArray()).map(_=>_.idContato);s=s.filter(_=>~x.indexOf(_.id))}if(t.operadores){const g=["operador","operadora","operadores","Operador","Operadora","Operadores","OPERADOR","OPERADORA","OPERADORES"],x=(await Z().contatoGrupo.where("descricao").anyOf(g).toArray()).map(_=>_.idContato);s=s.filter(_=>~x.indexOf(_.id))}if(t.compradores){const g=["comprador","compradora","compradores","Comprador","Compradora","Compradores","COMPRADOR","COMPRADORA","COMPRADORES"],x=(await Z().contatoGrupo.where("descricao").anyOf(g).toArray()).map(_=>_.idContato);s=s.filter(_=>~x.indexOf(_.id))}if(t.segmento){const g=$utils.tratamentoCompletoString(t.segmento);s=s.filter(b=>b.segmento?$utils.tratamentoCompletoString(b.segmento)===g:!1)}if(t.numeroDocumentoNacional&&(s=s.filter(g=>g.numeroDocumentoNacional)),r){let g=[],b=new Set(r.split(" "));b=Array.from(b);for(const x of s){let _,y,I,S="";I=((d=x.telefones)!=null?d:"").replace(/\D/g,""),I&&I!==x.telefones&&(S+=` ${I}`),_=((m=x.numeroDocumentoNacional)!=null?m:"").replace(/\D/g,""),_&&_!==x.numeroDocumentoNacional&&(S+=` ${_}`),y=((f=x.numeroDocumentoMunicipal)!=null?f:"").replace(/\D/g,""),y&&y!==x.numeroDocumentoMunicipal&&(S+=` ${y}`),S+=` #${x.codigoContato}`;for(const F of ZN)F!=="ativo"&&(S+=` ${(p=x[F])!=null?p:""}`);S=$utils.tratamentoCompletoString(S);let O=!0;for(const F of b)if(!~S.indexOf(F)){O=!1;break}O&&g.push(x)}s=g}if("usuarios"in t&&(s=s.filter(g=>{if("id"in g&&t.usuarios.indexOf(g.id)>=0)return g})),typeof t.empresas=="boolean"&&!t.empresas){const b=(await $erp().empresa.toArray()).map(x=>x.idContato);s=s.filter(x=>!~b.indexOf(x.id))}o&&(s=$lodash.orderBy(s,...o)),u=s.length,a=a||s.length,i=i||1,c=u>1?Math.ceil(u/a):0,s=s.slice((i-1)*a,i*a);for(const g of s.map(b=>b.id)){const b=await $erp().contato.get(g);!b||n.push(b)}return{data:n,total:u,totalPages:c}}async function eF(e){const t=o=>{const r={};for(const a of ZN)o[a]&&(r[a]=o[a]);return fp.push(r),r};if(Wc&&e){await Wc;const o=fp.findIndex(a=>a.id===e);o>-1&&fp.splice(o,1);const r=await $erp().contato.get(e);if(r){const a=t(r);$erp().contatoTelefone.where({idContato:a.id}).toArray().then(i=>{a.telefones=i.map(n=>n.telefone).join(" ")}),$erp().contatoEndereco.where({idContato:a.id}).toArray().then(i=>{a.municipios=i.map(n=>n.municipio).join(" ")})}return Wc}return Wc||(Wc=new Promise(async(o,r)=>{var l,u,c,d,m,f;const a={},i={};let n,s;s=5e4,n=await $erp().contatoTelefone.count();for(let p=0;p<n;p+=s){const g=await $erp().contatoTelefone.offset(p).limit(s).toArray();for(const b of g)a[b.idContato]=((l=a[b.idContato])!=null?l:"")+" "+((u=b.telefone)!=null?u:"")}n=await $erp().contatoEndereco.count();for(let p=0;p<n;p+=s){const g=await $erp().contatoEndereco.offset(p).limit(s).toArray();for(const b of g)i[b.idContato]=((c=i[b.idContato])!=null?c:"")+" "+((d=b.municipio)!=null?d:"")}n=await $erp().contato.count();for(let p=0;p<n;p+=s){const g=await $erp().contato.offset(p).limit(s).toArray();for(const b of g)b.telefones=(m=a[b.id])!=null?m:"",b.municipios=(f=i[b.id])!=null?f:"",t(b)}o()}),Wc)}async function jfe(e){var r;if(!e)return;let t,o;t=await $erp().contato.get(e),o=(r=t==null?void 0:t.condutaObservacao)==null?void 0:r.trim(),o&&$q.notify({message:o,timeout:0,type:"warning",closeBtn:!0})}const Jm={vazio:Md,ler:Hfe,carregarMemoria:eF,contatos:fp,exibirCondutaObservacao:jfe,contatoBase:()=>({id:null,ativo:!0,consulta:[],endereco:[{bairro:"",cep:"",complemento:"",grupo:"",ibgeCod:"",logradouro:"",municipio:"",numero:"",pais:"",uf:""}],filhos:[],grupo:[],nomesGrupo:[],redeSocial:[],telefone:[{}]}),le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().contato.get(e.id)||{}:{};if("usuario"in e&&e.usuario){let o=Z().contato.where("codigoUsuario").notEqual("");return e.ativo&&(o=o.and(r=>r.ativo)),await o.toArray()||[]}let t=[];if(e.vendedores){let o=await Z().contatoGrupo.toArray()||[];o=o.filter(r=>(r.descricao||"").toUpperCase()==="VENDEDOR");for(const r of o){const a=await Z().contato.get(r.idContato);a.ativo&&t.push(a)}return t}if(e.compradores){let o=await Z().contatoGrupo.toArray()||[];o=o.filter(r=>(r.descricao||"").toUpperCase()==="COMPRADOR");for(const r of o){const a=await Z().contato.get(r.idContato);a.ativo&&t.push(a)}return t}if(e.tecnicos){let o=await Z().contatoGrupo.toArray()||[];o=o.filter(r=>(r.descricao||"").toUpperCase()==="T\xC9CNICO");for(const r of o){const a=await Z().contato.get(r.idContato);a.ativo&&t.push(a)}return t}if(e.medicos){let o=await Z().contatoGrupo.toArray()||[];o=o.filter(r=>(r.descricao||"").toUpperCase()==="M\xC9DICO"||(r.descricao||"").toUpperCase()==="OPTOMETRISTA");for(const r of o){const a=await Z().contato.get(r.idContato);a&&a.ativo&&t.push(a)}return t}if(e.transportadoras){let o=await Z().contatoGrupo.toArray()||[];o=o.filter(r=>(r.descricao||"").toUpperCase()==="TRANSPORTADORA");for(const r of o){const a=await Z().contato.get(r.idContato);a.ativo&&t.push(a)}return t}if(e.empresas){let o={},r="",a="",i="N\xE3o foi poss\xEDvel localizar o c\xF3digo do sistema.";try{if(o=JSON.parse(localStorage.getItem("clienteSistema")),!o.codigoClienteSistema)return[];r=o.codigoClienteSistema,i="N\xE3o foi poss\xEDvel localizar o c\xF3digo do usu\xE1rio.",a=je.usuario.logado.codigoUsuario}catch{return console.log(i),[]}let n=await Z().empresa.toArray()||[];for(const s of n){const l=await Z().contato.get(s.idContato);l.ativo&&t.push(l)}if(!je.usuario.logado.administrador){const s=await Ka.empresa.le({codigoClienteSistema:r});let l=[];s.reduce((u,c)=>(u[c.codigoEmpresa]||(u[c.codigoEmpresa]=!0,l.push(Ka.empresaUsuarioPermissao.le({codigoUsuario:a,codigoEmpresa:c.codigoEmpresa}))),u),{});for await(const u of l)l=[...l,...u];l=l.map(u=>u.codigoContato),t=t.filter(u=>l.includes(u.codigoContato))}return t}if(e.numeroDocumentoNacional){if(t=await Z().contato.where({numeroDocumentoNacional:e.numeroDocumentoNacional}).toArray(),!t.length){const o=$y(e.numeroDocumentoNacional);if(o===e.numeroDocumentoNacional){const r=$filters.cpfCnpj(o);t=await Z().contato.where({numeroDocumentoNacional:r}).toArray()}else t=await Z().contato.where({numeroDocumentoNacional:o}).toArray()}return t}if(t=await Z().contato.toArray(),e.ativo&&(t=t.filter(o=>o.ativo)),e.ativo===!1&&(t=t.filter(o=>!o.ativo)),e.dataAbertura){let o=new Date(e.dataAbertura.ini),r=new Date(e.dataAbertura.fim);t=await t.filter(a=>{if(!a.dataAbertura)return!1;let i=new Date(a.dataAbertura);return o.setFullYear(i.getFullYear()),r.setFullYear(i.getFullYear()),i.setHours(0,0,0,0),o&&r?i>=o&&i<=r:o?i>=o:r?i<=r:!0})}if(e.segmento){const o=ec(e.segmento).toLowerCase();t=t.filter(r=>r.segmento&&ec(r.segmento).toLowerCase()===o)}return e.idUsuario&&(t=t.filter(o=>o.idUsuario===e.idUsuario)),e.idContatoVendedor&&(t=t.filter(o=>o.idContatoVendedor===e.idContatoVendedor)),e.idContatoAssistente&&(t=t.filter(o=>o.idContatoAssistente===e.idContatoAssistente)),e.codigoContato&&(t=t.filter(o=>o.codigoContato===e.codigoContato)),t},async grava(e){e=Yl(e);const t=Yl(e.dadosOriginais||{}),r=Na(e).contato;if(!r.nome)throw new Error("O nome \xE9 obrigat\xF3rio.");r.apelido||(r.apelido=r.nome),e.endereco=(e.endereco||[]).filter(i=>!(i.bairro===""&&i.cep===""&&i.complemento===""&&i.logradouro===""&&i.municipio===""&&i.numero===""&&i.uf===""));let a=!1;if(a=await Ot("contatoConsulta",t.consulta,e.consulta)||a,a=await Ot("contatoEndereco",t.endereco,e.endereco)||a,a=await Ot("contatoRedeSocial",t.redeSocial,e.redeSocial)||a,a=await Ot("contatoTelefone",t.telefone,e.telefone)||a,a=await Ot("contatoGrupo",t.grupo,e.grupo)||a,a=await Ot("contatoFilho",t.filhos,e.filhos)||a,!Object.keys(t.contato||{}).length)r.dataAlteracao=Qo(),r.dataCadastro=r.dataAlteracao,await Z().contato.put(r),await Je("adicionar","contato",r.id,r);else{const i=Qo();a&&(r.dataAlteracao=i);const n=ra(t.contato,r);Object.keys(n).length&&(r.dataAlteracao=i,n.dataAlteracao=i,await Z().contato.update(r.id,n),await Je("atualizar","contato",r.id,n))}return je.contato.carregarMemoria(r.id),r.id},async gravar(e){const t=ji(e.atual),o=ji(e.original||{});if(!t.contato.nome)throw new Error("O nome \xE9 obrigat\xF3rio.");t.contato.apelido||(t.contato.apelido=t.contato.nome),t.endereco=(t.endereco||[]).filter(a=>!(a.bairro===""&&a.cep===""&&a.complemento===""&&a.logradouro===""&&a.municipio===""&&a.numero===""&&a.uf===""));let r=!1;if(r=await Ot("contatoConsulta",o.consulta,t.consulta)||r,r=await Ot("contatoEndereco",o.endereco,t.endereco)||r,r=await Ot("contatoRedeSocial",o.redeSocial,t.redeSocial)||r,r=await Ot("contatoTelefone",o.telefone,t.telefone)||r,r=await Ot("contatoGrupo",o.grupo,t.grupo)||r,r=await Ot("contatoFilho",o.filhos,t.filhos)||r,!Object.keys(o||{}).length)t.contato.dataAlteracao=Qo(),t.contato.dataCadastro=t.contato.dataAlteracao,await Z().contato.put(t.contato),await Je("adicionar","contato",t.contato.id,t.contato);else{const a=Qo();r&&(t.contato.dataAlteracao=a);const i=ra(o.contato,t.contato);Object.keys(i).length&&(t.contato.dataAlteracao=a,i.dataAlteracao=a,await Z().contato.update(t.contato.id,i),await Je("atualizar","contato",t.contato.id,i))}await je.contato.carregarMemoria(t.contato.id)},async lePorNumeroDocumentoNacional(e){if(!e)return{};let t=await Z().contato.where({numeroDocumentoNacional:e}).first();if(!t){const o=$y(e);if(o===e){const r=o.length===14?o.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"):o.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4");t=await Z().contato.where({numeroDocumentoNacional:r}).first()}else t=await Z().contato.where({numeroDocumentoNacional:o}).first()}return t||{}},async leRefatorado({filtros:e,limit:t,page:o,sort:r}){if(e=e||{},"id"in e)return e.id?await Z()[b2].get(e.id)||{}:{};let a={};for(const p of zfe)p in e&&e[p]&&(a[p]=e[p]);let i=await Z()[b2];Object.keys(a).length&&(i=i.where(a)),"ativo"in e&&typeof e.ativo=="boolean"&&(i=i.filter(p=>p.ativo===e.ativo)),"codigo"in e&&(i=i.filter(p=>p.codigo===Number(e.codigo))),"nome"in e&&(i=i.filter(p=>p.nome&&p.nome.toLowerCase().indexOf(e.nome.toLowerCase())!==-1)),"apelido"in e&&(i=i.filter(p=>p.apelido&&p.apelido.toLowerCase().indexOf(e.apelido)!==-1)),"numeroDocumentoNacional"in e&&(i=i.filter(p=>p.numeroDocumentoNacional===e.numeroDocumentoNacional)),"segmento"in e&&(i=i.filter(p=>p.segmento===e.segmento)),"codigoContatoVendedor"in e&&e.codigoContatoVendedor&&(i=i.filter(p=>{if("codigoContatoVendedor"in p)return p.codigoContatoVendedor===e.codigoContatoVendedor;if("codigoContatoAssistente"in p)return p.codigoContatoAssistente===e.codigoContatoVendedor;if(!p.codigoContatoAssistente||!p.codigoContatoVendedor)return!1}));let n=[],s=[];await i.each(p=>{n.push({nome:ec(p.nome||"").toUpperCase().trim(),apelido:ec(p.apelido||"").toUpperCase().trim(),id:p.id})});let l=[];if("telefone"in e||"cidade"in e||"uf"in e){for(let p of n){let g=!0;if("telefone"in e){const b=e.telefone.replace(/[\s-()]/g,"");g=(await $db.contatoTelefone.le({idContato:p.id,telefone:b})).length||!1}"cidade"in e&&g&&(g=(await $db.contatoEndereco.le({idContato:p.id,cidade:e.cidade})).length||!1),"uf"in e&&g&&(g=(await $db.contatoEndereco.le({idContato:p.id,uf:e.uf})).length||!1),g&&l.push(p)}n=l,console.log("returnQuery =>",n)}const u=n.length;n=n.sort((p,g)=>p.descricao>g.descricao?1:g.descricao>p.descricao?-1:0),t=t||u,o=o||1;let c=(o-1)*t;n=n.splice(c,t);for(let p of n)s.push(await Z()[b2].get({id:p.id}));let d=s,m=u,f=Math.ceil(m/t)||1;return{data:d,total:m,totalPages:f}},leOnline:async(e={})=>"segmento"in e?mo(`Select id, codigoContato, nome, apelido, numeroDocumentoNacional from Contato where Segmento=${yt(e.segmento,"")}`):"codigoContato"in e?mo(`Select id, codigoContato, nome, apelido, numeroDocumentoNacional, imagem from Contato where codigoContato=${jt(e.codigoContato)}`):"ativo"in e&&e.numeroDocumentoNacionalPreenchido?mo(`Select id, codigoContato, nome, apelido, numeroDocumentoNacional, numeroDocumentoEstadual, imagem
         from Contato where ativo=${jt(e.ativo?1:0)} and numeroDocumentoNacional <> ''`):[],leCompleto:async e=>{let t;if(!e)return t=Yl(Md),t.dadosOriginais={contato:Yl(Md)},t;t=await Z().contato.get(e)||{},!t.emailNfe&&!!t.emailNFE&&(t.emailNfe=t.emailNFE,delete t.emailNFE),t.dadosOriginais={contato:{...t},endereco:await Z().contatoEndereco.where("idContato").equals(e).toArray()||[],telefone:await Z().contatoTelefone.where("idContato").equals(e).toArray()||[],redeSocial:await Z().contatoRedeSocial.where("idContato").equals(e).toArray()||[],consulta:ca.exports.orderBy(await Z().contatoConsulta.where("idContato").equals(e).toArray()||[],"dataConsulta","desc"),grupo:await Z().contatoGrupo.where("idContato").equals(e).toArray()||[],filhos:[...await Z().contatoFilho.where("idContato").equals(e).toArray()||[],...await Z().contatoFilho.where("idContatoRelacionado").equals(e).toArray()||[]]};for(const o of t.dadosOriginais.endereco){let r=(o.cep||"").replace(/[^0-9]/g,"");r.length===8&&(o.cep=r.substr(0,5)+"-"+r.substr(5,3))}return t.endereco=JSON.parse(JSON.stringify(t.dadosOriginais.endereco)),t.telefone=JSON.parse(JSON.stringify(t.dadosOriginais.telefone)),t.redeSocial=JSON.parse(JSON.stringify(t.dadosOriginais.redeSocial)),t.consulta=JSON.parse(JSON.stringify(t.dadosOriginais.consulta)),t.grupo=JSON.parse(JSON.stringify(t.dadosOriginais.grupo)),t.dadosOriginais.nomesGrupo=t.grupo.map(o=>o.descricao).sort(),t.nomesGrupo=JSON.parse(JSON.stringify(t.dadosOriginais.nomesGrupo)),t.filhos=JSON.parse(JSON.stringify(t.dadosOriginais.filhos)),t.filhos.forEach(o=>{o.socio=o.socio||!1,o.cobranca=o.cobranca||!1}),t},async leCompletoV2(e){Tt.log("contato","leCompletoV2",e);let t=e?await Z().contato.get(e)||{}:{};e=e||"",!t.emailNfe&&!!t.emailNFE&&(t.emailNfe=t.emailNFE,delete t.emailNFE),t.endereco=await Z().contatoEndereco.where("idContato").equals(e).toArray(),t.telefone=await Z().contatoTelefone.where("idContato").equals(e).toArray(),t.redeSocial=await Z().contatoRedeSocial.where("idContato").equals(e).toArray(),t.consulta=ca.exports.orderBy(await Z().contatoConsulta.where("idContato").equals(e).toArray(),"dataConsulta","desc"),t.grupo=await Z().contatoGrupo.where("idContato").equals(e).toArray(),t.filhos=[...await Z().contatoFilho.where("idContato").equals(e).toArray(),...await Z().contatoFilho.where("idContatoRelacionado").equals(e).toArray()],t.nomesGrupo=t.grupo.map(r=>r.descricao).sort();for(const r of t.endereco){let a=(r.cep||"").replace(/[^0-9]/g,"");a.length===8&&(r.cep=a.substr(0,5)+"-"+a.substr(5,3))}t={...ji(Md),...t};const o=ji(t);return{atual:t,original:o}},async leCompletoV3(e){Tt.log("contato","leCompletoV2",e);const t={};e=e||"",t.contato=await Z().contato.get(e)||{};const o={id:"",apelido:"",nome:"",imagem:"",numeroDocumentoNacional:"",ativo:!0};t.contato={...o,...t.contato},!t.contato.emailNfe&&!!t.contato.emailNFE&&(t.contato.emailNfe=t.contato.emailNFE,delete t.contato.emailNFE),t.endereco=await Z().contatoEndereco.where("idContato").equals(e).toArray(),t.telefone=await Z().contatoTelefone.where("idContato").equals(e).toArray(),t.redeSocial=await Z().contatoRedeSocial.where("idContato").equals(e).toArray(),t.consulta=ca.exports.orderBy(await Z().contatoConsulta.where("idContato").equals(e).toArray(),"dataConsulta","desc"),t.grupo=await Z().contatoGrupo.where("idContato").equals(e).toArray(),t.filhos=[...await Z().contatoFilho.where("idContato").equals(e).toArray(),...await Z().contatoFilho.where("idContatoRelacionado").equals(e).toArray()],t.nomesGrupo=t.grupo.map(r=>r.descricao).sort();for(const r of t.endereco){let a=(r.cep||"").replace(/[^0-9]/g,"");a.length===8&&(r.cep=a.substr(0,5)+"-"+a.substr(5,3))}return t},async leUnicos(e){return Z().contato.orderBy(e).uniqueKeys()},async gravaImportarContato(e){Tt.log("contato","grava",e);const t=ji(e.atual),o=ji(e.original||{});t.apelido||(t.apelido=t.nome),delete t.numeroDocumentoNacionalErro,t.endereco=(t.endereco||[]).filter(a=>!(a.bairro===""&&a.cep===""&&a.complemento===""&&a.logradouro===""&&a.municipio===""&&a.numero===""&&a.uf===""));{t.grupo=(t.grupo||[]).filter(i=>t.nomesGrupo.includes(i.descricao));const a=(t.nomesGrupo||[]).filter(i=>!t.nomesGrupo.includes(i)).map(i=>({id:Ft(),idContato:t.id,descricao:i}));t.grupo=[...t.grupo,...a]}let r=!1;if(r=await Ot("contatoConsulta",o.consulta,t.consulta)||r,r=await Ot("contatoEndereco",o.endereco,t.endereco)||r,r=await Ot("contatoRedeSocial",o.redeSocial,t.redeSocial)||r,r=await Ot("contatoTelefone",o.telefone,t.telefone)||r,r=await Ot("contatoGrupo",o.grupo,t.grupo)||r,r=await Ot("contatoFilho",o.filhos,t.filhos)||r,Object.keys(o||{}).length){const a=li(o,t);(r||Object.keys(a).length)&&(t.dataAlteracao=Qo(),a.dataAlteracao=t.dataAlteracao,await Z().contato.update(t.id,a),await Je("atualizar","contato",t.id,a),je.contato.carregarMemoria(t.id))}else{t.dataCadastro=Qo(),t.dataAlteracao=t.dataCadastro;const a=li({},t);await Z().contato.put(a),await Je("adicionar","contato",a.id,a),je.contato.carregarMemoria(a.id)}},leFilhos:async e=>{const t=await Z().contatoFilho.where("idContato").equals(e).toArray(),o=await Z().contatoFilho.where("idContatoRelacionado").equals(e).toArray(),r=[...new Set([...t.map(i=>i.idContatoRelacionado),...o.map(i=>i.idContato)])],a=[];for(const i of r){if(!i)continue;const n=await Z().contato.get(i);!n||a.push(n)}return a},leConvenios:async e=>{let t=await Jm.leFilhos(e);return t=t.filter(async o=>(await Z().contatoGrupo.where("idContato").equals(o.id).toArray()).map(r=>r.descricao).includes("Conv\xEAnio")),t},leCompradores:async e=>{let t=await Jm.leFilhos(e);return t=t.filter(async o=>(await Z().contatoGrupo.where("idContato").equals(o.id).toArray()).map(r=>r.descricao).includes("Comprador")),t},leLogado:async()=>{let e="";const t=await Jm.le({idUsuario:je.usuario.logado.id});if(t.length)e=t[0].id;else{const o=await Jm.le({codigoContato:2});o.length&&(e=o[0].id)}return e},async leGruposUnicos(){let e=await Z().contatoGrupo.toArray()||[];return e=e.map(t=>t.descricao),e=[...e,"Cliente","Transportadora","Vendedor","M\xE9dico","Optometrista"],e=[...new Set(e)],e=e.sort(),e=e.map(t=>({descricao:t})),e},async leSegmentosUnicos(){let e=await Z().contato.toArray()||[];return e=e.map(t=>t.segmento),e=e.filter(t=>t),e=e.filter((t,o,r)=>r.indexOf(t)===o),e=e.sort(),e=e.map(t=>({descricao:t})),e},criarContatoBasico:async e=>{let t=Yl(e);if(t={...Md,...t},t.dataAlteracao=Qo(),!t.nome)throw new Error("O nome \xE9 obrigat\xF3rio.");return t.apelido||(t.apelido=t.nome),t.id=Ft(),t.ativo=!0,t.dataCadastro=t.dataAlteracao,await Z().contato.add(t),await Je("adicionar","contato",t.id,t),t},criarContatoGrupo:async({idContato:e,descricaoGrupo:t})=>{const o={id:Ft(),idContato:e,descricao:t};return await Z().contatoGrupo.add(o),await Je("adicionar","contatoGrupo",o.id,o),o},async criarDependenciaContatos({contatoPai:e,contatoFilho:t}){const o={id:Ft(),idContato:e.id,idContatoRelacionado:t.id,observacao:"Dependente"};return await Z().contatoFilho.add(o),await Je("adicionar","contatoFilho",o.id,o),o},selecionado:{...Md}};var Gfe={grava:async e=>{await $erp().contatoAnotacao.put(e),await $utils.sincronismoEnviar("adicionar","contatoAnotacao",e.id,e)},leAnotacoesDeUmContato:async e=>{var r,a,i,n,s;let t;const o=[];t=await $erp().contatoAnotacao.where({idContato:e}).toArray(),t=t.filter(l=>l.tipo==="Atendimento 4.0"),t.sort((l,u)=>l.dataHora<u.dataHora?-1:1);for(const l of t){const u={};if(l.cpfUsuario&&!u[l.cpfUsuario]){let c,d,m;m=l.cpfUsuario,c=await $erp().contato.where({numeroDocumentoNacional:m}).toArray(),d=c[0],m=l.cpfUsuario.replace(/\D/g,""),!d&&m!==l.cpfUsuario&&(c=await $erp().contato.where({numeroDocumentoNacional:m}).toArray(),d=c[0]),d&&(u[l.cpfUsuario]=d)}o.push({...l,usuarioApelido:(a=(r=u[l.cpfUsuario])==null?void 0:r.apelido)!=null?a:"Usu\xE1rio n\xE3o identificado",usuarioImagem:(n=(i=u[l.cpfUsuario])==null?void 0:i.imagem)!=null?n:"",rotulo:new Date(l.dataHora).toLocaleString("pt-BR"),enviado:!!~[$db.usuario.logado.numeroDocumentoNacional,(s=$db.usuario.logado.numeroDocumentoNacional)==null?void 0:s.replace(/\D/g,"")].indexOf(l.cpfUsuario),mensagens:[l.descricao]})}return o}};const Wfe={le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().contatoCreditoExtrato.get(e.id)||{}:{};let t={};"idContato"in e&&e.idContato&&(t.idContato=e.idContato);let o=[];return Object.keys(t).length?o=await Z().contatoCreditoExtrato.where(t).toArray()||[]:o=await Z().contatoCreditoExtrato.toArray()||[],o}},Xfe={grava:()=>{},le:async e=>{if(e=e||{},e.id)return Z().contatoEndereco.get(e.id)||{};const t={};e.idContato&&(t.idContato=e.idContato);let o=[];return Object.keys(t).length?o=await Z().contatoEndereco.where(t).toArray()||[]:o=await Z().contatoEndereco.toArray()||[],"cidade"in e&&(o=o.filter(r=>r.municipio&&r.municipio.toLowerCase()===e.cidade.toLowerCase())),"uf"in e&&(o=o.filter(r=>r.municipio&&r.uf.toLowerCase()===e.uf.toLowerCase())),o},async leEnderecoPrincipal(e){if(!e)return{};const t=await Z().contatoEndereco.where({idContato:e}).toArray();if(!t||t.length===0)return{};let o=t.find(r=>r.grupo==="Principal");return o||(o=t[0]||{}),o},leNew:async e=>{if(e=e||{},"id"in e)return e.id?await Z().contatoEndereco.get(e.id)||{}:{};let t={};"idContato"in e&&e.idContato&&(t.idContato=e.idContato);let o=Z().contatoEndereco;return Object.keys(t).length&&(o=o.where(t)),await o.toArray()||[]}};async function Yfe(e){const t={...e.atual},o={...e.original};if(!Object.keys(o||{}).length)await $erp().contatoGrupo.put(t),await $utils.sincronismoEnviar("adicionar","contatoGrupo",t.id,t);else{const r=$utils.diferencaObjetos(o,t);Object.keys(r).length&&(await $erp().contatoGrupo.update(t.id,r),await $utils.sincronismoEnviar("atualizar","contatoGrupo",t.id,r))}}async function Kfe(e){const t={};let o=$erp().contatoGrupo;if(e!=null&&e.id)return await o.get(e.id);e==null||delete e.id;for(const r of Object.keys(e!=null?e:{}))e[r]!==void 0&&(t[r]=e[r]);return Object.keys(e!=null?e:{}).length>0&&!(Object.keys(t).length>0)?[]:Object.keys(t).length>0?await o.where(t).toArray():await o.toArray()}async function Qfe(e){await $erp().contatoGrupo.delete(e),await $utils.sincronismoEnviar("remover","contatoGrupo",e)}var Jfe={gravar:Yfe,ler:Kfe,remover:Qfe};const Zfe={grava:()=>{},le:async(e={})=>{if("id"in e)return e.id?await Z().contatoTelefone.get(e.id)||{}:{};const t={};e.idContato&&(t.idContato=e.idContato);let o=Z().contatoTelefone;return Object.keys(t).length&&(o=o.where(t)),"telefone"in e&&(o=o.filter(r=>r.telefone===e.telefone)),"idContato"in e&&(o=o.filter(r=>r.idContato===e.idContato)),"tipoTelefone"in e&&(o=o.filter(r=>e.tipoTelefone.indexOf(r.tipoTelefone)!==-1)),o.toArray()},leNew:async e=>{if(e=e||{},"id"in e)return e.id?await Z().contatoTelefone.get(e.id)||{}:{};let t={};"idContato"in e&&e.idContato&&(t.idContato=e.idContato);let o=Z().contatoTelefone;return Object.keys(t).length&&(o=o.where(t)),await o.toArray()||[]}},y2="documento",eme=["id","idContato","idFatura","idDocumentoAdicional","idContatoVendedor","idContatoDigitador","idEmpresa","documentoId","tipo","status","idEquipamento"],tme={grava:async e=>{if(e=Na(e),await Ot("documentoItem",e.documentoItensAnterior||[],e.documentoItens||[]),!Object.keys(e.documentoAnterior||{}).length)await Z().documento.put(e.documento),await Je("adicionar","documento",e.documento.id,e.documento);else{const t=ra(e.documentoAnterior,e.documento);Object.keys(t).length&&(await Z().documento.update(e.documento.id,t),await Je("atualizar","documento",e.documento.id,t))}},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documento.get(e.id)||{}:{};let t={tipo:"Contrato"};"tipo"in e&&e.tipo&&(t.tipo=e.tipo),"operacao"in e&&e.operacao&&(t.operacao=e.operacao),"idContato"in e&&e.idContato&&(t.idContato=e.idContato),"idEmpresa"in e&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa),"status"in e&&e.status&&(t.status=e.status);let o=Z().documento;Object.keys(t).length&&("periodoEmissao"in e||"diaVencimento"in e?o=o.where(t).and(function(n){if("periodoEmissao"in e&&e.periodoEmissao){let s=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),l=new Date(e.periodoEmissao.fim).setHours(0,0,0,0),u=new Date(n.dataHoraEmissao).setHours(0,0,0,0);return s&&l?u>=s&&u<=l:s?u>=s:l?u<=l:!0}}).and(function(n){if("diaVencimento"in e&&e.diaVencimento){let s=e.diaVencimento.ini,l=e.diaVencimento.fim,u=n.numeroVolumeTransporte;return s&&l?u>=s&&u<=l:s?u>=s:l?u<=l:!0}}):o=o.where(t));const r=e.offset,a=e.limit;let i=o;return i=await i.count(),Number.isInteger(r)&&Number.isInteger(a)?Promise.all([o.offset(r).limit(a).toArray(),i]):Promise.all([o.toArray(),i])},leRefatorado:async function({filtros:e,limit:t,page:o,sort:r}){if(e=e||{},"id"in e)return e.id?await Z()[y2].get(e.id)||{}:{};for(const f in e){if(e[f]===null||e[f]===void 0)throw"Erro no filtro "+f;typeof e[f]=="string"&&(e[f]=e[f].trim())}let a={tipo:"Contrato"};"tipo"in e&&e.tipo&&(a.tipo=e.tipo),"operacao"in e&&e.operacao&&(a.operacao=e.operacao),"status"in e&&e.status&&(a.status=e.status);for(const f of eme)f in e&&e[f]&&(a[f]=e[f]);let i=await Z()[y2];if(Object.keys(a).length&&(i=i.where(a)),"periodoEmissao"in e&&e.periodoEmissao){let f=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),p=new Date(e.periodoEmissao.fim).setHours(0,0,0,0);i=i.filter(g=>{let b=new Date(g.dataHoraEmissao).setHours(0,0,0,0);return f&&p?b>=f&&b<=p:f?b>=f:p?b<=p:!0})}if("periodoFinalizado"in e&&e.periodoFinalizado){let f=new Date(e.periodoFinalizado.ini).setHours(0,0,0,0),p=new Date(e.periodoFinalizado.fim).setHours(0,0,0,0);i=i.filter(g=>{let b=new Date(g.dataHoraEmissao).setHours(0,0,0,0);return f&&p?b>=f&&b<=p:f?b>=f:p?b<=p:!0})}if("diaVencimento"in e&&e.diaVencimento){let f=e.diaVencimento.ini,p=e.diaVencimento.fim;i=i.filter(g=>{let b=g.numeroVolumeTransporte;return f&&p?b>=f&&b<=p:f?b>=f:p?b<=p:!0})}let n=[],s=[];await i.each(f=>{n.push({codigoDocumento:f.codigoDocumento,id:f.id})});const l=n.length;n=n.sort((f,p)=>f.codigoDocumento>p.codigoDocumento?1:p.codigoDocumento>f.codigoDocumento?-1:0),t=t||l,o=o||1;let u=(o-1)*t;n=n.splice(u,t);for(let f of n)s.push(await Z()[y2].get({id:f.id}));let c=s,d=l,m=Math.ceil(d/t)||1;return{data:c,total:d,totalPages:m}},leItens:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documentoItem.get(e.id)||{}:{};let t={};"idDocumento"in e&&e.idDocumento&&(t.idDocumento=e.idDocumento),"idItem"in e&&e.idItem&&(t.idItem=e.idItem);let o=Z().documentoItem;if(Object.keys(t).length)o=o.where(t);else return[];return o.toArray()},gerarNFSEapartirContrato:async()=>{let e=await(async()=>{var s;let r=(await Z().documento.where({tipo:"Contrato",status:"Ativo"}).toArray())[0],a=(s=(await Z().contato.where({codigoContato:r.codigoEmpresa}).toArray())[0])==null?void 0:s.numeroDocumentoMunicipal,i=await $db.documentoFiscalEletronico.ler({tipo:"NFSe"});a&&(i=i.filter(l=>JSON.parse(l.json).rps.inscricaoMunicipal===a));for(const l of i){const{rps:u}=JSON.parse(l.json);l.rps=u}const n=i.sort((l,u)=>l.dataHoraEmissao>u.dataHoraEmissao?-1:l.dataHoraEmissao<u.dataHoraEmissao?1:0);return n.length?parseInt(n[0].rps.identificacaoRps.numero)+1:1})(),t=(await Z().documento.where({tipo:"Contrato",status:"Ativo"}).toArray()).sort((r,a)=>r.numero>a.numero?-1:r.numero<a.numero?1:0),o=$utils.clonarV2($db.nfse.modelo);o.dataHoraCriacao=$utils.dataAtual(),o.dataHoraEmissao=$utils.dataAtual(),o.dataEmissao=$utils.dataAtual(),o.status="1",o.identificacaoRps.tipo="1",o.identificacaoRps.serie="1";for(let r in t){let a={},i={};const n="Rascunho";let u=(await Z().documentoItem.where({idDocumento:t[r].id}).toArray()).map(m=>parseFloat(m.total)).reduce((m,f)=>m+f,0),c=[],d=[];if(t[r].codigoContato&&t[r].codigoEmpresa){o.numeroLote=e,o.identificacaoRps.numero=e++,c=await Z().contato.where({codigoContato:t[r].codigoContato}).toArray(),d=await Z().contato.where({codigoContato:t[r].codigoEmpresa}).toArray();const m=await $db.contatoEndereco.leEnderecoPrincipal(c[0].id),f=await $db.empresa.leOnlineTemp(d[0].id),p=await $db.contatoEndereco.leEnderecoPrincipal(d[0].id);o.prestador.documento=d[0].numeroDocumentoNacional.replace(/\D/g,""),o.prestador.razaoSocial=d[0].nome,o.prestador.inscricaoMunicipal=d[0].numeroDocumentoMunicipal,o.inscricaoMunicipal=d[0].numeroDocumentoMunicipal,o.optanteSimplesNacional=f[0].nfseOptanteSimples,o.incentivadorCultural=f[0].nfseIncentivadorCultural,o.naturezaOperacao=f[0].nfseNaturezaOperacao,o.regimeEspecialTributacao=f[0].nfseRegimeTributario,o.servico.discriminacao=f[0].nfseDescricaoServico,o.servico.valores.aliquota=f[0].nfseAliquotaIss,o.servico.municipioPrestacaoServico=p.ibgeCod,o.tomador.razaoSocial=c[0].nome,o.tomador.documento=c[0].numeroDocumentoNacional?c[0].numeroDocumentoNacional.match(/\d+/g).join(""):"",o.tomador.endereco.numero=m.numero,o.tomador.endereco.rua=m.logradouro,o.tomador.endereco.bairro=m.bairro,o.tomador.endereco.cidade=m.ibgeCod,o.tomador.endereco.estado=m.uf,o.tomador.endereco.cep=m.cep;const g=JSON.parse(f[0].nfseItensListaDeServico).find(b=>Number(b.codigo)===Number(f[0].nfseCodigoServico.toString()));o.servico.itemListaServico=g.codigo,o.servico.codigoCnae=g.codigoCNAE,o.servico.codigoTributacaoMunicipio=g.codigoTributacao,o.servico.valores.valorServicos=u,o.servico.valores.baseCalculo=o.servico.valores.valorServicos,o.servico.valores.valorIss=parseFloat((o.servico.valores.baseCalculo*(o.servico.valores.aliquota/100)).toFixed(2)),o.servico.valores.valorLiquidoNfse=o.servico.valores.valorServicos,a={id:$utils.uuid(),tipo:"NFSe",tpAmb:"2",situacao:n,mod:"",serie:"",nNF:"",chNFe:"",vNF:0,dhEmi:Vy.formatarDataNFe(new Date(o.dataEmissao)),cpfCnpjEmitente:o.prestador.documento,xNomeEmitente:o.prestador.razaoSocial,cpfCnpjDestinatario:o.tomador.documento,xNomeDestinatario:o.tomador.razaoSocial,dataHoraEmissao:o.dataEmissao,dataHoraCriacao:$utils.dataAtual(),json:JSON.stringify({rps:o})},i={id:$utils.uuid(),tipo:a.tipo,situacao:a.situacao,tpAmb:a.tpAmb,dataHoraEnvio:o.dataEmissao,cpfCnpjEmitente:a.cpfCnpjEmitente,idDocumentoFiscalEletronico:a.id};try{await $db.documentoFiscalEletronico.grava({atual:a,original:{}}),await $db.documentoFiscalEletronicoXml.grava({atual:i,original:{}}),console.log(r.numero,JSON.parse(a.json))}catch(b){$q.notifyError(b.message)}}}},async remove(e){this.removeItens(e),await Z().documento.delete(e),await Je("remover","documento",e)},async removeItens(e){let t=await Z().documentoItem.where({idDocumento:e}).toArray();for(let o of t)await Z().documentoItem.where({id:o.id}).delete(),await Je("remover","documentoItem",o.id)}},ome={id:"",tipo:"CRM",operacao:"Normal",status:"",crmFunil:"",crmFunilStatus:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0};var ame={vazio:ome,async leOnline({entregueInicio:e,entregueFim:t,codigoContato:o}){const r=new Date(e).toLocaleDateString(),a=new Date(t).toLocaleDateString(),i=`
    select
    venda.id,
        venda.codigoDocumento,
        venda.status,
        venda.dataHoraEmissao,
        venda.dataHoraFinalizado,
        venda.codigoContato,
        venda.codigoEmpresa,
        isNull(empresa.sigla, empresa.apelido) descricaoEmpresa,
        venda.codigoContatoDigitador,
        digitador.apelido nomeDigitador,
        venda.codigoContatoVendedor,
        vendedor.apelido nomeVendedor,
        cliente.apelido nomeCliente,
        venda.numero numeroVenda,
    CASE
      WHEN venda.dataHoraFinalizado is null THEN venda.crmFunilStatus
      ELSE 'Conclu\xEDdo'
    END AS crmFunilStatus,
        venda.totalDocumento
      from documento venda
      left join contato digitador on digitador.codigoContato = venda.codigoContatoDigitador
      left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor
      left join contato cliente on cliente.codigoContato = venda.codigoContato
      left join empresa on empresa.codigoContato = venda.codigoEmpresa
      where
        (
    (venda.status = 'Or\xE7amento') or
    (cast(venda.dataHoraFinalizado as date) between '${r}' and '${a}' and isnull(venda.status,'')
      not in ('N\xE3o aprovado','Cancelado','Cancelada'))
    )
    and venda.Tipo = 'Venda'
    ${o?`and (venda.codigoContatoVendedor = ${o} or venda.codigoContatoDigitador = ${o})`:""}`;return mo(i)},async leOnlineVendedoresDigitadores({entregueInicio:e,entregueFim:t}){const o=new Date(e).toLocaleDateString(),r=new Date(t).toLocaleDateString(),a=`
    select
    venda.codigoContatoDigitador codigo,
    digitador.id,
    digitador.nome
    from documento venda
    left join contato digitador on digitador.codigoContato = venda.codigoContatoDigitador
    left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor
    where
    (
    (venda.status = 'Or\xE7amento') or
    (venda.dataHoraFinalizado between '${o}' and '${r}' and isnull(venda.status,'')
      not in ('N\xE3o aprovado','Cancelado','Cancelada'))
    )
    and venda.Tipo = 'Venda'
    group by venda.codigoContatoDigitador, digitador.id, digitador.nome

    union

    select
    venda.codigoContatoVendedor codigo,
    vendedor.id,
    vendedor.nome
    from documento venda
    left join contato digitador on digitador.codigoContato = venda.codigoContatoDigitador
    left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor
    where
    (
    (venda.status = 'Or\xE7amento') or
    (venda.dataHoraFinalizado between '${o}' and '${r}' and isnull(venda.status,'')
      not in ('N\xE3o aprovado','Cancelado','Cancelada'))
    )
    and venda.Tipo = 'Venda'
    group by venda.codigoContatoVendedor, vendedor.id, vendedor.nome`;return mo(a)},async trocaStatusOnline(e){return mo(`set nocount on
      update documento set
          crmFunilStatus = ${yt(e.statusNovo)}
      where codigoDocumento = ${jt(e.codigoDocumento)}
      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,
        statusOriginal, statusFinalizado, dataHoraEmissao, cpfUsuario, observacao)
      values(${jt(e.codigoDocumento)}, NULL, NULL, 'Mudan\xE7a status CRM',
        ${yt(e.statusAtual)}, ${yt(e.statusNovo)}, getdate(), ${yt(e.cpfUsuario)}, ${yt(e.observacao,"")})`)}};const rme={id:"",tipo:"Custom",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0};var ime={vazio:rme,async leOnline({entregueInicio:e,entregueFim:t,empresas:o}){let r=[];for(const a of o||[])r.push(`'${a}'`);return r=r.join(","),mo(`select
      custom.id,
      custom.codigoDocumento,
      custom.status,
      custom.dataHoraEmissao,
      custom.dataHoraPrevisto,
      custom.dataHoraFinalizado,
      custom.dataHoraRetorno,
      custom.codigoContato,
      custom.descricao,
      empresa.codigoContato codigoEmpresa,
      empresa.apelido descricaoEmpresa,
      custom.codigoContatoVendedor,
      vendedor.nome nomeVendedor,
      custom.descricaoContato nomeCliente,
      fornecedor.codigoContato codigoFornecedor,
      contatoFornecedor.apelido nomeFornecedor,
      venda.numero numeroVenda,
      custom.numero numeroCustom,
      compra.numero numeroCompra
    from Documento custom
    left join documento venda on venda.codigoDocumento = custom.documentoCodigo
    left join contato vendedor on vendedor.codigoContato = venda.codigoContatoVendedor
    left join contato empresa on empresa.codigoContato = venda.codigoEmpresa
    left join documentoContato fornecedor on fornecedor.codigoDocumento = custom.codigoDocumento
    left join contato contatoFornecedor on contatoFornecedor.codigoContato = fornecedor.codigoContato
    left join documento compra on compra.codigoDocumento = custom.codigoDocumentoOperacao and compra.tipo = 'Compra'
    where custom.tipo = 'Custom'
      ${r?`and custom.idEmpresa in (${r})`:""}
      and custom.status not in ('Or\xE7amento', 'Cancelado', 'N\xE3o aprovado', '')
      and (custom.status <> 'Entregue' or cast(custom.dataHoraFinalizado as date) between ${Lp(e)} and ${Lp(t)})`)},async leProdutosServicos(e){const t=await mo(`select
      codigoDocumento,
      numero,
      descricao,
      observacao
    from documento custom
    where custom.codigoDocumento = ${jt(e)}`),o=await mo(`select
      prod.codigoDocumentoItem,
      prod.descricaoItem,
      prod.quantidade,
      prod.codigoItem,
      prod.observacao,
      itn.referencia,
      itn.imagem
    from documento custom
    inner join documentoItem prod on prod.codigoDocumentoAdicional = custom.codigoDocumento
    inner join item itn on itn.codigoItem = prod.codigoItem
    where custom.codigoDocumento = ${jt(e)}`);return{custom:t.find(r=>r.codigoDocumento)||{},produtos:o}},async geraPedidoOnline(e){return mo(`exec sp_compras_pedidoViaCustom '${jt(e.codigoDocumento)}', ${jt(e.codigoUsuario)}`)},async gravaFornecedorOnline(e){return mo(`set nocount on
      update documentoContato
      set codigoContato = ${jt(e.codigoFornecedor)}
      where descricao = 'Fornecedor' and codigoDocumento = ${jt(e.codigoDocumento)}
      if @@RowCount = 0
        insert into documentoContato (codigoContato, descricao, codigoDocumento)
        values(${jt(e.codigoFornecedor)}, 'Fornecedor', ${jt(e.codigoDocumento)})`)},async trocaStatusOnline(e){return mo(`set nocount on
      update documento set
          status = ${yt(e.statusNovo)},
          dataHoraFinalizado = case ${yt(e.statusNovo)} when 'Entregue' then getdate() else null end
        where codigoDocumento = ${jt(e.codigoDocumento)}
      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,
        statusOriginal, statusFinalizado, dataHoraEmissao, cpfUsuario, observacao)
      values(${jt(e.codigoDocumento)}, NULL, ${jt(e.codigoContatoResponsavel)}, 'Mudan\xE7a status Custom',
        ${yt(e.statusAtual)}, ${yt(e.statusNovo)}, getdate(), ${yt(e.cpfUsuario)}, ${yt(e.observacao,"")})`)}},nme={async grava(e,t){await Z(t).dispositivoCliente.put(e),await Je("atualizar","dispositivoCliente",e.id,e,t)}};const sme={grava:async e=>{if(e=$utils.compactarObjeto(e),!Object.keys(e.original||{}).length)await $erp().documento.put(e.atual),await $utils.sincronismoEnviar("adicionar","documento",e.atual.id,e.atual);else{const t=$utils.diferencaObjetos(e.original,e.atual);Object.keys(t).length&&(await $erp().documento.update(e.atual.id,t),await $utils.sincronismoEnviar("atualizar","documento",e.atual.id,t))}},ler:async e=>{var r;if(e=e||{},typeof(e==null?void 0:e.id)=="string"&&(e==null?void 0:e.id))return(r=(await $db.hibrido.ler({table:"documento",where:{id:e.id}}))[0])!=null?r:{};if("id"in e)return{};let t={},o;return e!=null&&e.idContato&&(t.idContato=e.idContato),e!=null&&e.idFatura&&(t.idFatura=e.idFatura),e!=null&&e.idDocumentoAdicional&&(t.idDocumentoAdicional=e.idDocumentoAdicional),e!=null&&e.idContatoVendedor&&(t.idContatoVendedor=e.idContatoVendedor),e!=null&&e.idContatoDigitador&&(t.idContatoDigitador=e.idContatoDigitador),e!=null&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa),e!=null&&e.documentoId&&(t.documentoId=e.documentoId),e!=null&&e.tipo&&(t.tipo=e.tipo),e!=null&&e.status&&(t.status=e.status),e!=null&&e.operacao&&(t.operacao=e.operacao),Object.keys(t).length>0?(o=$erp().documento.where(t),e!=null&&e.idCaixa&&(o=o.filter(a=>a.idCaixa===e.idCaixa)),e!=null&&e.documentoTipo&&(o=o.filter(a=>a.documentoTipo===e.documentoTipo)),await o.toArray()||[]):[]},checarConflitoStatus:async(e={})=>{const{id:t}=e;if(!!await $erp().documento.get(t))for(let r=0;r<2;r++){const{id:a,status:i}=e,n={status:{funcao:"A548FAFD-533C-4580-8965-E1905F93A8A9",id:a}},s={timeout:1e3};if((await $utils.geeksApi(n,s)).data.status!==i)throw new Error("status")}}},lme={ler:async e=>{var o;let t=await $db.hibrido.ler({table:"documentoCondicaoPagamento",where:e});return e!=null&&e.id?(o=t[0])!=null?o:{}:t},gerarParcelamento:async(e,t,o)=>{var d,m,f,p,g,b,x,_;const r=await $db.documento.ler({id:e}),a=await $db.documentoCondicaoPagamento.ler({idDocumento:e});for(let y in a)await Z().documentoCondicaoPagamento.where({id:a[y].id}).delete(),await Je("remover","documentoCondicaoPagamento",a[y].id);const i=t.split("/").length,n=(m=(d=r==null?void 0:r.dataCompra)!=null?d:r==null?void 0:r.dataHoraPrevisto)!=null?m:new Date,s=(f=r==null?void 0:r.freteSeparado)!=null?f:0;let l=r==null?void 0:r.totalDocumento;if(s){const y=((p=r==null?void 0:r.valorFrete)!=null?p:0)+((g=r==null?void 0:r.valorSeguro)!=null?g:0);if((r==null?void 0:r.tipoFrete)==="FOB"&&y>0){let I={id:$utils.uuid(),codigoDocumento:r==null?void 0:r.codigoDocumento,idDocumento:r==null?void 0:r.id,dataVencimento:n,valor:y,observacao:"Valor Frete + Seguro"};await Z().documentoCondicaoPagamento.put(I),await Je("adicionar","documentoCondicaoPagamento",I.id,I)}}let u=0,c=l/i;for(let y in t.split("/")){let I=(x=(b=r==null?void 0:r.dataCompra)!=null?b:r==null?void 0:r.dataHoraPrevisto)!=null?x:new Date;typeof I=="string"&&(I=(_=new Date(I))!=null?_:new Date),I.setDate(I.getDate()+parseInt(t.split("/")[y]));let S={id:$utils.uuid(),codigoDocumento:r==null?void 0:r.codigoDocumento,idDocumento:r==null?void 0:r.id,dataVencimento:I,valor:c,observacao:""};await Z().documentoCondicaoPagamento.put(S),await Je("adicionar","documentoCondicaoPagamento",S.id,S),u+=c!=null?c:0}if(l!==u){const y=await $db.documentoCondicaoPagamento.ler({idDocumento:e}),I={original:$utils.clonarV2(y[0]),atual:$utils.clonarV2(y[0])};I.atual.valor+=(l!=null?l:0)-(u!=null?u:0);const S=ra(I.original,I.atual);Object.keys(S).length&&(await Z().documentoCondicaoPagamento.update(I.atual.id,S),await Je("atualizar","documentoCondicaoPagamento",I.atual.id,S))}},async grava(e){var t;try{if(!((t=e.original)!=null&&t.id))await Z().documentoCondicaoPagamento.put(e.atual),await Je("adicionar","documentoCondicaoPagamento",e.atual.id,e.atual);else{const o=ra(e.original,e.atual);Object.keys(o).length&&(await Z().documentoCondicaoPagamento.update(e.atual.id,o),await Je("atualizar","documentoCondicaoPagamento",e.atual.id,o))}}catch(o){console.log(o.message)}},async remover(e){await Z().documentoCondicaoPagamento.delete(e),await Je("remover","documentoCondicaoPagamento",e)},async removeParcela(e){await Z().documentoCondicaoPagamento.where({id:e}).delete(),await Je("remover","documentoCondicaoPagamento",e)}};async function cme(e){var o;let t=await $db.hibrido.ler({table:"documentoContato",where:e});return e!=null&&e.id?(o=t[0])!=null?o:{}:t}var ume={ler:cme};async function dme(e){var o;let t=await $db.hibrido.ler({table:"documentoEndereco",where:e});return e!=null&&e.id?(o=t[0])!=null?o:{}:t}var fme={ler:dme};async function mme(e){var o;let t=await $db.hibrido.ler({table:"documentoFiscalEletronico",where:e});return e!=null&&e.id?(o=t[0])!=null?o:{}:t}var pme={nomeTabela:"documentoFiscalEletronico",filtrosTabela:["idDocumento","tpAmb","cpfCnpjEmitente","mod","serie","nNF","situacao","tipo"],ler:mme,async grava(e){Tt.log(this.nomeTabela,"grava",e);const t=li(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(t).length&&(await Z()[this.nomeTabela].update(e.atual.id,t),await Je("atualizar",this.nomeTabela,e.atual.id,t)):(await Z()[this.nomeTabela].put(t),await Je("adicionar",this.nomeTabela,t.id,t))},async remove(e){await Z()[this.nomeTabela].delete(e),await Je("remover",this.nomeTabela,e)},async buscarMaisRecentes(e,t,o,r,a){var i;try{const n=await $utils.geeksApi({buscarMaisRecentes:{funcao:"E850235E-80E0-45BA-AE09-49615B5D9FEA",tpAmb:e,cpfCnpjEmitente:t,mod:Number(o),serie:Number(r),idDocumentoFiscalEletronico:a}});return(i=n==null?void 0:n.data)==null?void 0:i.buscarMaisRecentes}catch{return[]}},async proximoNumero(e,t,o,r,a,i){var s,l;let n=0;try{const u=await $utils.geeksApi({proximoNumero:{funcao:"410D8248-58F6-4018-B544-EC34D9FF598D",tpAmb:e,cpfCnpjEmitente:t,mod:Number(o),serie:Number(r),idDocumentoFiscalEletronico:i}});n=(l=(s=u==null?void 0:u.data)==null?void 0:s.proximoNumero)==null?void 0:l.nNF}catch(u){console.error(u),await Z()[this.nomeTabela].where({tpAmb:e,cpfCnpjEmitente:t,mod:Number(o),serie:Number(r)}).each(c=>{i&&c.id===i||Number(c.nNF)>n&&(n=Number(c.nNF))})}return n||(n=await $db.configuracoes.leValorNumericoComFiltroEmpresa(o==="65"?"nfce.ultimanota":"nfe.ultimanota",a,0)),n+1}};async function hme(e){var o;let t=await $db.hibrido.ler({table:"documentoFiscalEletronicoErro",where:e});return e!=null&&e.id?(o=t[0])!=null?o:{}:t}var vme={nomeTabela:"documentoFiscalEletronicoErro",filtrosTabela:["idDocumento","idDocumentoFiscalEletronico","chNFe","tpAmb","cpfCnpjEmitente","mod","serie","nNF","situacao"],ler:hme,async grava(e){Tt.log(this.nomeTabela,"grava",e);const t=li(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(t).length&&(await Z()[this.nomeTabela].update(e.atual.id,t),await Je("atualizar",this.nomeTabela,e.atual.id,t)):(await Z()[this.nomeTabela].put(t),await Je("adicionar",this.nomeTabela,t.id,t))},async remove(e){Tt.log(this.nomeTabela,"remove",e),await Z()[this.nomeTabela].delete(e),await Je("remover",this.nomeTabela,e)}};async function gme(e){var o;let t=await $db.hibrido.ler({table:"documentoFiscalEletronicoXml",where:e});return e!=null&&e.id?(o=t[0])!=null?o:{}:t}var _me={nomeTabela:"documentoFiscalEletronicoXml",filtrosTabela:["idDocumento","idDocumentoFiscalEletronico","status","situacao"],ler:gme,async grava(e){Tt.log(this.nomeTabela,"grava",e);const t=li(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(t).length&&(await Z()[this.nomeTabela].update(e.atual.id,t),await Je("atualizar",this.nomeTabela,e.atual.id,t)):(await Z()[this.nomeTabela].put(t),await Je("adicionar",this.nomeTabela,t.id,t))},async remove(e){Tt.log(this.nomeTabela,"remove",e),await Z()[this.nomeTabela].delete(e),await Je("remover",this.nomeTabela,e)},async proximoNumeroSequencialEvento(e,t){Tt.log(this.nomeTabela,"proximoNumeroSequencialEvento",e,t);let o=0;return await Z()[this.nomeTabela].where({idDocumentoFiscalEletronico:e,operacao:t}).each(r=>{Number(r.nSeqEvento)>o&&(o=Number(r.nSeqEvento))}),o+1}};const bme={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().documentoItem.put(e.atual),await Je("adicionar","documentoItem",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().documentoItem.update(e.atual.id,t),await Je("atualizar","documentoItem",e.atual.id,t))}},remove:async e=>{for(const t of e)await Z().documentoItem.delete(t.id),await Je("remover","documentoItem",t.id)},ler:async e=>{var o;let t=await $db.hibrido.ler({table:"documentoItem",where:e});return e!=null&&e.id?(o=t[0])!=null?o:{}:t},leApontamento:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documentoItem.get(e.id)||{}:{};let t={};if("idDocumento"in e){if(!e.idDocumento)return[];t.idDocumento=e.idDocumento}if("tipoItem"in e){if(!e.tipoItem)return[];t.tipoItem=e.tipoItem}return await(await Z().documentoItem.where(t)).toArray()||[]},async removeApontamento(e){await Z().documentoItem.where({id:e,tipoItem:"ApontamentoPCP"}).delete(),await Je("remover","documentoItem",e)}};var yme={gravar:async e=>{if(e=$utils.compactarObjeto(e),!Object.keys(e.original||{}).length)await Z().documentoOperacao.put(e.atual),await $utils.sincronismoEnviar("adicionar","documentoOperacao",e.atual.id,e.atual);else{const t=$utils.diferencaObjetos(e.original,e.atual);Object.keys(t).length&&(await Z().documentoOperacao.update(e.original.id,t),await $utils.sincronismoEnviar("atualizar","documentoOperacao",e.original.id,t))}},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documentoOperacao.get(e.id)||{}:{};let t=await Z().documentoOperacao.toArray()||[];return e.codigoDocumentoOperacao&&(t=t.filter(o=>parseInt(o.codigoDocumentoOperacao)===e.codigoDocumentoOperacao)),t},ler:async(e={})=>{if(e.id){const o=await Z().documentoOperacao.get(e.id);return o||{}}let t=null;for(const o of Object.keys(e).filter(r=>r!=="id")){if(~[void 0,null].indexOf(e[o]))continue;if(t){t=t.filter(a=>a[o]===e[o]);continue}const r={};r[o]=e[o],t=await Z().documentoOperacao.where(r).toArray()}return t||await Z().documentoOperacao.toArray()},remover:async e=>{await Z().documentoOperacao.delete(e.id),await $utils.sincronismoEnviar("remover","documentoOperacao",e.id)}};async function Cme(e){var o;let t=await $db.hibrido.ler({table:"documentoSat",where:e});return e!=null&&e.id?(o=t[0])!=null?o:{}:t}const xme={grava:async e=>{if(e=$utils.compactarObjeto(e),!Object.keys(e.original||{}).length)await $erp().documentoSat.put(e.atual),await $utils.sincronismoEnviar("adicionar","documentoSat",e.atual.id,e.atual);else{const t=$utils.diferencaObjetos(e.original,e.atual);Object.keys(t).length&&(await $erp().documentoSat.update(e.atual.id,t),await $utils.sincronismoEnviar("atualizar","documentoSat",e.atual.id,t))}},ler:Cme},wme={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().documentoStatus.put(e.atual),await Je("adicionar","documentoStatus",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().documentoStatus.update(e.atual.id,t),await Je("atualizar","documentoStatus",e.atual.id,t))}},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documentoStatus.get(e.id)||{}:{};let t={};"idDocumento"in e&&e.idDocumento&&(t.idDocumento=e.idDocumento),"idDocumentoCaixa"in e&&e.idDocumentoCaixa&&(t.idDocumentoCaixa=e.idDocumentoCaixa),"idDocumentoItem"in e&&e.idDocumentoItem&&(t.idDocumentoItem=e.idDocumentoItem),"idContatoResponsavel"in e&&e.idContatoResponsavel&&(t.idContatoResponsavel=e.idContatoResponsavel);let o=[];return Object.keys(t).length?o=await Z().documentoStatus.where(t).toArray()||[]:o=await Z().documentoStatus.toArray()||[],e.operacao&&(o=o.filter(r=>r.operacao===e.operacao)),o},async leHistoricoOnline(e){lp(!e,"N\xE3o foi poss\xEDvel encontrar o id do documento.");const t=Number.isInteger(Number(e));return await mo(`select
        codigoDocumentoStatus,
        statusOriginal,
        statusFinalizado,
        dataHoraEmissao,
        observacao,
        cpfUsuario
      from documentoStatus
      where `+(t?"codigoDocumento":"idDocumento")+` = '${e}'
      order by dataHoraEmissao desc`)}};var Ime={nomeTabela:"documentoXML",filtrosTabela:["id","idDocumento","xmlAux"],async grava(e){Tt.log(this.nomeTabela,"grava",e);const t=li(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(t).length&&(await Z()[this.nomeTabela].update(e.atual.id,t),await Je("atualizar",this.nomeTabela,e.atual.id,t)):(await Z()[this.nomeTabela].put(t),await Je("adicionar",this.nomeTabela,t.id,t))}};async function Eme(e){var r,a;const{eCommerce:t}=e!=null?e:{},o=(a=(r=t==null?void 0:t.json)==null?void 0:r.auth)!=null?a:{};return await $utils.geeksApi({autenticacao:{funcao:"D66FBB8B-40BA-4CBD-9AA1-B842BC4A3253",apiHost:o.apiHost,authorizationCode:o.authorizationCode}})}async function Sme(e){const t={...e.atual},o={...e.original};if(Object.keys(o||{}).length){const r=$utils.diferencaObjetos(o,t);if(Object.keys(r).length){const a=$utils.dataAtual();r.dataHoraModificacao=a,await $erp().eCommerce.update(t.id,r),await $utils.sincronismoEnviar("atualizar","eCommerce",t.id,r)}}else{const r=$utils.dataAtual();t.dataHoraCriacao=r,t.dataHoraModificacao=r,await $erp().eCommerce.put(t),await $utils.sincronismoEnviar("adicionar","eCommerce",t.id,t)}}async function Ame(){return await $erp().eCommerce.toArray()}async function Tme(e){await $erp().eCommerce.delete(e),await $utils.sincronismoEnviar("remover","eCommerce",e)}var Ome={obterToken:Eme,gravar:Sme,ler:Ame,remover:Tme};async function Dme(e){const{filtro:t}=e!=null?e:{};let o=$erp().empresa;return typeof t.ativo=="boolean"&&(o=o.filter(r=>r.ativo===t.ativo)),o=await o.toArray(),o}var Pme={grava:()=>{},ler:Dme,le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().empresa.get(e.id)||{}:{};let t={};"idContato"in e&&e.idContato&&(t.idContato=e.idContato);let o=Z().empresa;return Object.keys(t).length&&(o=o.where(t)),o.toArray()||[]},leOnline:async(e={})=>mo("select codigoContato, nome, numeroDocumentoNacional from empresa"),leOnlineTemp:async e=>mo(`
      select
        id,
        codigoEmpresa,
        idContato,
        codigoContato,
        idClienteSistema,
        codigoClienteSistema,
        nome,
        apelido,
        numeroDocumentoNacional,
        numeroDocumentoEstadual,
        dataCadastro,
        hashCSCHomologacao,
        tokenCSCHomologacao,
        hashCSCProducao,
        tokenCSCProducao,
        tokenIBPT,
        nSerieCert,
        ativo,
        sigla,
        codigoPai,
        idPai,
        corPrincipal,
        corSecundaria,
        nfseOptanteSimples,
        nfseIncentivadorCultural,
        nfseNaturezaOperacao,
        nfseRegimeTributario,
        nfseDescricaoServico,
        nfseCodigoServico,
        nfseAliquotaIss,
        nfseHistoricoIss,
        nfseItensListaDeServico
      from empresa
      where idContato='${e}'
      order by apelido`),leOnlinePlat:async(e={})=>"codigoClienteSistema"in e?mo(`
        select
          id,
          codigoEmpresa,
          idContato,
          codigoContato,
          idClienteSistema,
          codigoClienteSistema,
          nome,
          apelido,
          numeroDocumentoNacional,
          numeroDocumentoEstadual,
          dataCadastro,
          hashCSCHomologacao,
          tokenCSCHomologacao,
          hashCSCProducao,
          tokenCSCProducao,
          tokenIBPT,
          nSerieCert,
          ativo,
          sigla,
          codigoPai,
          idPai,
          corPrincipal,
          corSecundaria,
          nfseOptanteSimples,
          nfseIncentivadorCultural,
          nfseNaturezaOperacao,
          nfseRegimeTributario,
          nfseDescricaoServico,
          nfseCodigoServico,
          nfseAliquotaIss,
          nfseHistoricoIss,
          nfseItensListaDeServico
        from empresa
        where codigoClienteSistema=${jt(e.codigoClienteSistema)}
        order by apelido`,"GeeksPlat15A"):{},gravaOnline:async({atual:e})=>{const t=`
update empresa set
  idContato=${yt(e.idContato)},
  idClienteSistema=${yt(e.idClienteSistema)},
  codigoClienteSistema=${jt(e.codigoClienteSistema)},
  nome=${yt(e.nome)},
  apelido=${yt(e.apelido)},
  numeroDocumentoNacional=${yt(e.numeroDocumentoNacional)},
  numeroDocumentoEstadual=${yt(e.numeroDocumentoEstadual)},
  hashCSCHomologacao=${yt(e.hashCSCHomologacao)},
  tokenCSCHomologacao=${yt(e.tokenCSCHomologacao)},
  hashCSCProducao=${yt(e.hashCSCProducao)},
  tokenCSCProducao=${yt(e.tokenCSCProducao)},
  tokenIBPT=${yt(e.tokenIBPT)},
  nSerieCert=${yt(e.nSerieCert)},
  ativo=${yt(e.ativo)},
  sigla=${yt(e.sigla)},
  codigoPai=${yt(e.codigoPai)},
  idPai=${yt(e.idPai)},
  corPrincipal=${yt(e.corPrincipal)},
  corSecundaria=${yt(e.corSecundaria)},
  nfseOptanteSimples=${jt(e.nfseOptanteSimples)},
  nfseIncentivadorCultural=${jt(e.nfseIncentivadorCultural)},
  nfseNaturezaOperacao=${jt(e.nfseNaturezaOperacao)},
  nfseRegimeTributario=${jt(e.nfseRegimeTributario)},
  nfseDescricaoServico=${yt(e.nfseDescricaoServico)},
  nfseCodigoServico=${jt(e.nfseCodigoServico)},
  nfseAliquotaIss=${jt(e.nfseAliquotaIss)},
  nfseHistoricoIss=${yt(e.nfseHistoricoIss)},
  nfseItensListaDeServico=${yt(e.nfseItensListaDeServico)}
where codigoContato=${jt(e.codigoContato)}
  and (codigoClienteSistema=${jt(e.codigoClienteSistema)}
   or codigoClienteSistema is null)

if @@rowcount = 0
begin
  insert empresa(
    idContato,
    codigoContato,
    idClienteSistema,
    codigoClienteSistema,
    nome,
    apelido,
    numeroDocumentoNacional,
    numeroDocumentoEstadual,
    dataCadastro,
    hashCSCHomologacao,
    tokenCSCHomologacao,
    hashCSCProducao,
    tokenCSCProducao,
    tokenIBPT,
    nSerieCert,
    nfseOptanteSimples,
    nfseIncentivadorCultural,
    nfseNaturezaOperacao,
    nfseRegimeTributario,
    nfseDescricaoServico,
    nfseCodigoServico,
    nfseAliquotaIss,
    nfseHistoricoIss,
    nfseItensListaDeServico)
  values(
    ${yt(e.idContato)},
    ${jt(e.codigoContato)},
    ${yt(e.idClienteSistema)},
    ${jt(e.codigoClienteSistema)},
    ${yt(e.nome)},
    ${yt(e.apelido)},
    ${yt(e.numeroDocumentoNacional)},
    ${yt(e.numeroDocumentoEstadual)},
    getdate(),
    ${yt(e.hashCSCHomologacao)},
    ${yt(e.tokenCSCHomologacao)},
    ${yt(e.hashCSCProducao)},
    ${yt(e.tokenCSCProducao)},
    ${yt(e.tokenIBPT)},
    ${yt(e.nSerieCert)},
    ${jt(e.nfseOptanteSimples)},
    ${jt(e.nfseIncentivadorCultural)},
    ${jt(e.nfseNaturezaOperacao)},
    ${jt(e.nfseRegimeTributario)},
    ${yt(e.nfseDescricaoServico)},
    ${jt(e.nfseCodigoServico)},
    ${jt(e.nfseAliquotaIss)},
    ${yt(e.nfseHistoricoIss)},
    ${yt(e.nfseItensListaDeServico)})
end`;await mo(t),await mo(t,"GeeksPlat15A")},removeOnline:async e=>{const t=`
declare @codigoEmpresa int
select top 1 @codigoEmpresa=codigoEmpresa
from empresa
where codigoContato=${jt(e.codigoContato)}
  and (codigoClienteSistema=${jt(e.codigoClienteSistema)}
   or codigoClienteSistema is null)
delete empresaUsuarioPermissao where codigoEmpresa=@codigoEmpresa
delete empresa where codigoEmpresa=@codigoEmpresa`;await mo(t),await mo(t,"GeeksPlat15A")}};async function Mme({envelope:e,itensEnvelope:t,campoAlterado:o}){let r=0;for(const i of t)r+=i.valorItem;if(e.subTotal=$utils.arredondar(r),o===void 0){e.totalDesconto=0;for(const i of t)e.totalDesconto=$utils.arredondar(e.totalDesconto+i.descontoItem);e.totalPercentualDesconto=$utils.arredondar(e.totalDesconto/e.subTotal*100)}o==="desconto"&&(e.totalPercentualDesconto=$utils.arredondar(e.totalDesconto/e.subTotal*100)),o==="descontoPercentual"&&(e.totalDesconto=$utils.arredondar(e.totalPercentualDesconto/100*e.subTotal));let a=$utils.arredondar(e.subTotal-e.totalDesconto);if(a>e.subTotal){let i=0;for(const n of t)n.total=n.valorItem,n.descontoItem=n.descontoPercentualItem=0,i+=n.valorItem;e.totalDocumento=e.subTotal=$utils.arredondar(i),e.totalDesconto=e.totalPercentualDesconto=0}if(e.totalDocumento=a,o&&t.length){const i=[];for(const l of t)i.push({id:l.id,valorItem:l.valorItem});i.sort((l,u)=>l.valorItem<u.valorItem?-1:1);let n=0;for(const l of i)l.descontoItem=(l.valorItem*e.totalPercentualDesconto|0)/100,n+=l.descontoItem;const s=$utils.arredondar(n)-e.totalDesconto;s&&(i[i.length-1].descontoItem-=s,i[i.length-1].descontoItem=$utils.arredondar(i[i.length-1].descontoItem));for(const l of t)l.descontoPercentualItem=e.totalPercentualDesconto,l.descontoItem=(i.find(u=>u.id===l.id)||{}).descontoItem,l.subTotal=$utils.arredondar(l.valorItem-l.descontoItem),l.total=l.subTotal,l.valorReal=l.subTotal,l.valorRealTotal=l.subTotal}return{envelope:e,itensEnvelope:t}}async function Nme({envelope:e,itemEnvelope:t,campoAlterado:o}){o==="descontoPercentualItem"&&(t.descontoItem=$utils.arredondar(t.descontoPercentualItem/100*t.valorItem)),o==="descontoItem"&&(t.descontoPercentualItem=$utils.arredondar(t.descontoItem/t.valorItem*100)),o==="valorItem"&&(t.valorItem<t.valorOriginal&&(t.valorItem=t.valorOriginal),t.descontoItem=0,t.descontoPercentualItem=0,t.subTotal=t.valorItem);let r=t.valorItem-t.descontoItem;return $utils.arredondar(r)>$utils.arredondar(t.valorItem)&&(r=t.valorItem,t.descontoPercentualItem=t.descontoItem=0),t.subTotal=$utils.arredondar(r*t.quantidade),t.total=t.subTotal,t.valorReal=$utils.arredondar(r),t.valorRealTotal=t.total,{itemEnvelope:t}}const Fme={id:"",tipo:"Envelope",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0};function Rme(){const e=new Date;return{hoje:e.toISOString(),seteDiasDepois:new Date(e.getTime()+7*24*60*60*1e3).toISOString(),umMesDepois:new Date(e.getFullYear(),e.getMonth()+1,e.getDate()).toISOString()}}var kme={vazio:Fme,grava:()=>{},ler:async function(e){var l,u,c,d,m,f;const{id:t,filtros:o,termoBusca:r,limit:a,page:i,sort:n,dir:s}=e!=null?e:{};if($db.hibrido.get("mode")==="remoto"){console.log("Consulta operando ONLINE / API");let p,g,b;const _=(await $utils.geeksApi({envelopes:{funcao:"F4906981-D1C5-499F-8CE2-9AC606761BF0",id:t,filtros:o,limit:a,page:i,sort:n,dir:s}})).data.envelopes;return p=_.data,g=_.total,b=_.totalPages,{data:p,total:g,totalPages:b}}else{console.log("Consulta operando OFFLINE / IndexedDB");let p=o||{};if(o!=null&&o.id)return await Z().documento.get(o.id);let g={tipo:"Envelope"};"empresaSelecionada"in p&&p.empresaSelecionada.id&&(g.idEmpresa=p.empresaSelecionada.id),"status"in p&&p.status&&p.status!=="Todos"&&(g.status=p.status);let b=await Z().documento;if(Object.keys(g).length&&(b=await b.where(g)),"dataHoraEmissao"in o&&(((l=p.dataHoraEmissao.ini)!=null?l:!1)||((u=p.dataHoraEmissao.fim)!=null?u:!1))){const E=new Date(p.dataHoraEmissao.ini).setHours(0,0,0,0),D=new Date(p.dataHoraEmissao.fim).setHours(0,0,0,0);b=await b.filter(P=>{const N=new Date(P.dataHoraEmissao).setHours(0,0,0,0);return E&&D?N>=E&&N<=D:E?N>=E:D?N<=D:!0})}if("dataHoraPrevisto"in o&&(((c=p.dataHoraPrevisto.ini)!=null?c:!1)||((d=p.dataHoraPrevisto.fim)!=null?d:!1))){const E=new Date(p.dataHoraPrevisto.ini).setHours(0,0,0,0),D=new Date(p.dataHoraPrevisto.fim).setHours(0,0,0,0);b=await b.filter(P=>{const N=new Date(P.dataHoraPrevisto).setHours(0,0,0,0);return E&&D?N>=E&&N<=D:E?N>=E:D?N<=D:!0})}if("dataHoraFinalizado"in o&&(((m=p.dataHoraFinalizado.ini)!=null?m:!1)||((f=p.dataHoraFinalizado.fim)!=null?f:!1))){const E=new Date(p.dataHoraFinalizado.ini).setHours(0,0,0,0),D=new Date(p.dataHoraFinalizado.fim).setHours(0,0,0,0);b=await b.filter(P=>{const N=new Date(P.dataHoraFinalizado).setHours(0,0,0,0);return E&&D?N>=E&&N<=D:E?N>=E:D?N<=D:!0})}if("prazoSelecionado"in o&&p.prazoSelecionado.value){const E=Rme();let D,P;p.prazoSelecionado.value==="adiantadoEntrega"?(D=new Date(E.hoje).setHours(0,0,0,0),P=new Date(E.umMesDepois).setHours(0,0,0,0)):p.prazoSelecionado.value==="proximaEntrega"?(D=new Date(E.hoje).setHours(0,0,0,0),P=new Date(E.seteDiasDepois).setHours(0,0,0,0)):p.prazoSelecionado.value==="atrasadoEntrega"&&(P=new Date(E.hoje).setHours(0,0,0,0)),b=await b.filter(N=>{const R=new Date(N.dataHoraPrevisto).setHours(0,0,0,0);return D&&P?R>=D&&R<=P&&(N.status!=="Entregue"||N.status!=="Or\xE7amento"):D?R>=D&&(N.status!=="Entregue"||N.status!=="Or\xE7amento"):P?R<=P&&(N.status!=="Entregue"||N.status!=="Or\xE7amento"):!0})}"frase"in p&&p.frase.length>0&&(b=await b.filter(E=>{if(!E.descricaoContato)return!1;const D=$utils.removerCaracteresEspeciais(E.descricaoContato.toString().toLowerCase()),P=$utils.removerCaracteresEspeciais(p.frase.toString().toLowerCase());return D.indexOf(P)!==-1})),"numeroEnvelope"in p&&p.numeroEnvelope!==0&&(b=await b.filter(E=>E.numero===p.numeroEnvelope));let x=[];x=await b.toArray()||[],n&&s&&(x=ca.exports.orderBy(x,n,s));const _=x.length;let y=a,S=((i||1)-1)*y;x=x.splice(S,y);let O=x,F=_,M=Math.ceil(F/y)||1;return{data:O,total:F,totalPages:M}}},async trocaStatusOnline(e){return mo(`set nocount on
      update documento set
          status = ${yt(e.statusNovo)},
          dataHoraFinalizado = case ${yt(e.statusNovo)} when 'Entregue' then getdate() else null end
        where tipo='Envelope' and codigoDocumento = ${jt(e.codigoDocumento)}
      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,
        statusOriginal, statusFinalizado, dataHoraEmissao, cpfUsuario, observacao)
      values(${jt(e.codigoDocumento)}, NULL, ${jt(e.codigoContatoResponsavel)}, 'Mudan\xE7a status envelope',
        ${yt(e.statusAtual)}, ${yt(e.statusNovo)}, getdate(), ${yt(e.cpfUsuario)}, ${yt(e.observacao,"")})`)},async gravaLaboratorioOnline(e){return mo(`set nocount on
      update documentoContato
      set codigoContato=${jt(e.codigoLaboratorio)}
      where descricao='Laborat\xF3rio' and codigoDocumento=${jt(e.codigoDocumento)}
      if @@RowCount = 0
        insert into documentoContato (codigoContato, descricao, codigoDocumento)
        values(${jt(e.codigoLaboratorio)}, 'Laborat\xF3rio', ${jt(e.codigoDocumento)})
      select top 1 numeroDocumentoNacional cnpjLaboratorio from contato where codigoContato=${jt(e.codigoLaboratorio)}`)},async comprasPedidoViaEnvelopeOnline(e){return mo(`exec Sp_Compras_PedidoViaEnvelope '${jt(e.codigoDocumento)}', ${jt(e.codigoUsuario)}`)},calculaTotal:Mme,calculaTotalItem:Nme},Vme={nomeTabela:"equipamento",filtrosTabela:["idItem","idContato"],le:KN,grava:QN,remove:JN};class qme{constructor(t={}){this.bancoDeDados=t.bancoDeDados||localStorage.getItem("bancoDeDados"),this.modelo=this.bancoDeDados==="GeeksPlat15A"?Pt:Z()}async get(t,o,r={}){if(!o)return{};let a=this.modelo[t];if(!a)return{};Tt.log("robust","get",t,...Object.keys(r));let i=await a.get(o);return i?(i=await this._join(r.joinOne,i,1),i=await this._join(r.joinMany,i,0),i):{}}async list(t,o={}){Tt.log("robust","list",t,...Object.keys(o));let r=this.modelo[t];if(!r)return{};if(o.filter){for(const i in o.filter)if([null,void 0].includes(o.filter[i]))return[];r=r.where(o.filter)}o.limit>0&&(r=r.limit(o.limit));let a=await r.toArray();if(o.filterNi&&(a=a.filter(i=>this._filter(i,o.filterNi))),o.joinOne||o.joinMany)for(const i in a)a[i]=await this._join(o.joinOne,a[i],1),a[i]=await this._join(o.joinMany,a[i],0);return a}async first(t,o={}){Tt.log("robust","first",t,...Object.keys(o));let r=this.modelo[t];if(!r)return{};if(o.filter){for(const i in o.filter)if([null,void 0].includes(o.filter[i]))return{};r=r.where(o.filter)}o.filterNi&&(r=r.filter(i=>this._filter(i,o.filterNi))),r.constructor.name==="Table"&&(r=r.toCollection());let a=await r.first();return a?(a=await this._join(o.joinOne,a,1),a=await this._join(o.joinMany,a,0),a):{}}_filter(t,o){let r=!0;for(const a in o)if(r=r&&t[a]===o[a],!r)return!1;return r}async _join(t,o,r){if(t){t.constructor!==Array&&(t=[t]);for(let a of t){let i,n,s,l;a.constructor===String&&([i,n,s,l]=a.split(" "),a={field:i,joinTable:n,joinKey:s,key:l}),r===1?a.joinKey==="id"?o[a.field]=await this.get(a.joinTable,o[a.key]):o[a.field]=await this.modelo[a.joinTable].where({[a.joinKey]:o[a.key]}).first():o[a.field]=await this.modelo[a.joinTable].where({[a.joinKey]:o[a.key]}).toArray()}}return o}}function uu(){return new qme}async function Bme(e,t){const o=[];if(!e)return o;try{const a=((await $utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:e,idEmpresa:t}})||{}).data||{}).estoque||[],i=Array.from(new Set(a.map(n=>n.codigoEmpresa)));i.sort((n,s)=>n.codigoEmpresa<s.codigoEmpresa?-1:1);for(const n of i){const s=(a.find(l=>l.codigoEmpresa===n)||{}).idEmpresa;o.push({codigoEmpresa:n,estoquePorLote:a.filter(l=>l.codigoEmpresa===n),nomeEmpresa:(await $erp().contato.get(s)||{}).apelido})}}catch{const a=await uu().list("estoqueSaldoProdutoEmpresa",{filter:{idItem:e}});let i={},n;for(const s of a){if(n=i[s.idEmpresa],n===void 0){const l=await uu().get("contato",s.idEmpresa);n=o.push({codigoEmpresa:l.codigoContato,nomeEmpresa:l.apelido||"",estoquePorLote:[]})-1,i[s.idEmpresa]=n}o[n].estoquePorLote.push(s)}}return o}async function Lme(e){if(e=e||{},"id"in e)return e.id?await $erp().estoqueSaldoProdutoEmpresa.get(e.id)||{}:{};let t={};return"idItem"in e&&e.idItem&&(t.idItem=e.idItem),"idEmpresa"in e&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa),"tipoEstoque"in e&&e.tipoEstoque&&(t.tipoEstoque=e.tipoEstoque),await $erp().estoqueSaldoProdutoEmpresa.where(t).toArray()||[]}var $me={le:Lme,leEstoquePorEmpresa:Bme};async function Ume(e){const t={...e.atual},o={...e.original};if(!Object.keys(o||{}).length)await $erp().etiqueta.put(t),await $utils.sincronismoEnviar("adicionar","etiqueta",t.id,t);else{const r=$utils.diferencaObjetos(o,t);Object.keys(r).length&&(await $erp().etiqueta.update(t.id,r),await $utils.sincronismoEnviar("atualizar","etiqueta",t.id,r))}}async function zme(e){const t={};let o=$erp().etiqueta;if(e!=null&&e.id)return o.get(e.id);e==null||delete e.id;for(const r of Object.keys(e!=null?e:{}))e[r]!==void 0&&(t[r]=e[r]);return Object.keys(e!=null?e:{}).length>0&&!(Object.keys(t).length>0)?[]:Object.keys(t).length>0?o.where(t).toArray():o.toArray()}async function Hme(e){await $erp().etiqueta.delete(e),await $utils.sincronismoEnviar("remover","etiqueta",e)}var jme={gravar:Ume,ler:zme,remover:Hme};async function Gme(e){var i;const{where:t,page:o,limit:r}=e!=null?e:{};let a;if($db.hibrido.get("mode")==="remoto"){let n,s,l,u,c,d;(t==null?void 0:t.status)==="aberta"&&(c="Aberta"),(t==null?void 0:t.status)==="finalizada"&&(d="Aberta,Cancelada"),(t==null?void 0:t.status)==="cancelada"&&(c="Cancelada");const m=await $utils.geeksApi({listarFatura:{funcao:"56AD4077-0FDE-4986-8654-47A64181B43B",filtros:{...t,status:c,statusDiferenteDe:d},termoBusca:"",limit:r,page:o,sort:["dataHoraFinalizado","dataHoraEmissao"],dir:["desc","desc"]}});return n=m.data.listarFatura.data,s=m.data.listarFatura.total,l=m.data.listarFatura.totalPages,u=m.data.listarFatura.somaTotalDocumento,{data:n,total:s,totalPages:l,somaTotalDocumento:u}}if($db.hibrido.get("mode")==="local"){const{idContato:n,periodo:s,grupos:l,status:u}=t,c=await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos"),d=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data;let m=[],f=new Date(new Date(s.dataIni).setHours(0,0,0,0)).toISOString().replace(/T.*/,"T00:00:00.000Z"),p=new Date(new Date(s.dataFim).setHours(0,0,0,0)).toISOString().replace(/T.*/,"T23:59:59.999Z");await $erp().documento.where(["tipo","idContato","dataHoraFinalizado"]).between(["Fatura",n,f],["Fatura",n,p],!0,!0).each(y=>{m.push(y)}),await $erp().documento.where(["tipo","idContato","dataHoraEmissao"]).between(["Fatura",n,f],["Fatura",n,p],!0,!0).each(y=>{m.find(I=>I.id===y.id)||m.push(y)}),c||(m=m.filter(y=>d.find(I=>I.id===y.idEmpresa)));for(const y of l){const I=y.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");m=m.filter(S=>{if(S.descricaoContato.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").search(I)!==-1)return!0;let F=Number(S.codigoDocumento);if(Number.isInteger(F)&&String(F).search(I)!==-1)return!0;let M=Number(S.numero);if(Number.isInteger(M)&&String(M).search(I)!==-1)return!0})}m=$lodash.orderBy(m,"dataHoraEmissao","desc");const g=m.filter(y=>y.status==="Aberta");f=new Date(new Date(f).toDateString()),p=new Date(new Date(p).toDateString());const b=m.filter(y=>{if(~["Aberta","Cancelada"].indexOf(y.status)||!y.dataHoraFinalizado)return!1;const I=new Date(new Date(y.dataHoraFinalizado).toDateString());return!(I<f||I>p)}),x=m.filter(y=>{if(y.status!=="Cancelada"||!y.dataHoraFinalizado)return!1;const I=new Date(new Date(y.dataHoraFinalizado).toDateString());return!(I<f||I>p)});u==="aberta"&&(m=g),u==="finalizada"&&(m=b),u==="cancelada"&&(m=x);let _;_=0;for(const y of m)_+=(i=y.totalDocumento)!=null?i:0;a={data:m.slice((o-1)*r,(o-1)*r+r),total:m.length,totalPages:(m.length/r|0)+(m.length%r>0?1:0),somaTotalDocumento:_}}return a}async function Wme(e){var t,o,r;try{let a,i,n,s,l,u;if(a=await $db.configuracoes.porNome("protheus.credentials"),i=!!((t=a[0])!=null&&t.valor),!i||(u=await new Promise((c,d)=>{$q.dialog({title:"Enviar para",options:{type:"radio",model:"0104",items:[{label:"Filial",value:"0104",color:"secondary"},{label:"Matriz",value:"0101"}]},cancel:!0,persistent:!0}).onOk(m=>{c(m)}).onCancel(()=>{c()}).onDismiss(()=>{c()})}),!u))return;n=await $erp().documento.where({idFatura:e}).toArray(),n=n.filter(c=>c.dataHoraFinalizado&&c.tipo==="Venda"),s=await $erp().documentoItem.where("idDocumento").anyOf(n.map(c=>c.id)).toArray(),s=s.filter(c=>c.operacaoFator===-1),l=await $erp().item.where("id").anyOf(s.map(c=>c.idItem)).toArray();for(const c of n){let d,m;d={destino:u,documento:{numero:c.numero,numeroDocumentoContato:c.numeroDocumentoContato,dataHoraEmissao:c.dataHoraEmissao,codigoDocumentoOperacao:c.codigoDocumentoOperacao},documentosItem:s.filter(f=>f.idDocumento===c.id).map(f=>({idItem:f.idItem,quantidade:f.quantidade,valorReal:f.valorReal})),itens:l.filter(f=>~s.filter(p=>p.idDocumento===c.id).map(p=>p.idItem).indexOf(f.id)).map(f=>({id:f.id,referencia:f.referencia}))},$q.loading.show({message:`Enviando pedido #${c.numero||c.id.slice(-6)} para o Protheus`});try{if(m=(await $utils.geeksApi({"erp/protheus/cadastrar_pedido":{funcao:"56CA9A08-2015-4441-B6EC-8996AB679B97",pedido:d}},{timeout:3e5})).data["erp/protheus/cadastrar_pedido"],m&&!(m!=null&&m.RETORNO_INCLUSAO)&&($q.loading.hide(),$q.notify({type:"negative",message:`N\xE3o foi poss\xEDvel enviar o pedido #${c.numero||c.id.slice(-6)} para o Protheus`}),await new Promise((f,p)=>{$q.dialog({title:"Retorno Erro - Protheus",html:!0,message:m.replace(/\n/g,"<br/>").replace(/\t/g,"&nbsp;").replace(/\s+/g,"&nbsp;")}).onOk(()=>{f()})})),!((r=(o=m==null?void 0:m.RETORNO_INCLUSAO)==null?void 0:o[0])!=null&&r.STATUS_CODE))continue;m.RETORNO_INCLUSAO[0].STATUS_CODE==="200"&&$q.notify({type:"positive",message:"Retorno Protheus: "+m.RETORNO_INCLUSAO[0].MENSAGEM}),m.RETORNO_INCLUSAO[0].STATUS_CODE!=="200"&&$q.notify({type:"negative",message:"Retorno Protheus: "+m.RETORNO_INCLUSAO[0].MENSAGEM})}catch(f){console.error(f),$q.notify({type:"negative",message:`N\xE3o foi poss\xEDvel enviar o pedido #${c.numero||c.id.slice(-6)} para o Protheus`})}}}catch(a){console.log("err: ",a),$q.notify({type:"negative",message:"N\xE3o foi poss\xEDvel enviar pedidos para o Protheus"})}finally{$q.loading.hide()}}const Xme={grava:async e=>{if(e=Na(e),await Ot("documentoItem",e.documentoItensOriginal||[],e.documentoItens||[]),await Ot("documentoCondicaoPagamento",e.condicaoPagamentoOriginal||[],e.condicaoPagamento||[]),await Ot("documentoStatus",[],e.documentoStatus||[]),await Ot("documento",e.vendasOriginal||[],e.vendas||[]),await Ot("documento",e.envelopesOriginal||[],e.envelopes||[]),await Ot("financeiroTitulo",e.financeiroTituloOriginal||[],e.financeiroTitulo||[]),await Ot("financeiroMovimentacao",[],e.financeiroMovimentacao||[]),await Ot("financeiroRenegociacao",[],e.financeiroRenegociacao||[]),!Object.keys(e.faturaOriginal||{}).length)await Z().documento.put(e.fatura),await Je("adicionar","documento",e.fatura.id,e.fatura);else{const t=ra(e.faturaOriginal,e.fatura);Object.keys(t).length&&(await Z().documento.update(e.fatura.id,t),await Je("atualizar","documento",e.fatura.id,t))}},leNew:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documento.get(e.id)||{}:{};let t={tipo:"Fatura"};"idContato"in e&&e.idContato&&(t.idContato=e.idContato),"idDocumentoAdicional"in e&&e.idDocumentoAdicional&&(t.idDocumentoAdicional=e.idDocumentoAdicional),"idContatoVendedor"in e&&e.idContatoVendedor&&(t.idContatoVendedor=e.idContatoVendedor),"idContatoDigitador"in e&&e.idContatoDigitador&&(t.idContatoDigitador=e.idContatoDigitador),"idEmpresa"in e&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa),"documentoId"in e&&e.documentoId&&(t.documentoId=e.documentoId),"status"in e&&e.status&&(t.status=e.status);let o=Z().documento.where(t);return e.or&&(o=o.filter(r=>{for(const a in e.or)if(e.or[a]&&r[a]===e.or[a])return!0;return!1})),e.and&&(o=o.filter(r=>{for(const a in e.and)if(e.and[a]&&r[a]!==e.and[a])return!1;return!0})),await o.toArray()||[]},leRefatorado:async function({filtros:e,termoBusca:t,limit:o,page:r,sort:a,dir:i=!1}){let n=e||{};if("id"in n)return n.id?await Z().documento.get(n.id)||{}:{};for(const _ in e){if(e[_]===null||e[_]===void 0)throw"Erro no filtro "+_;typeof e[_]=="string"&&(e[_]=e[_].trim())}let s={tipo:"Fatura"};"idContato"in n&&n.idContato&&(s.idContato=n.idContato),"idFatura"in n&&n.idFatura&&(s.idFatura=n.idFatura),"idDocumentoAdicional"in n&&n.idDocumentoAdicional&&(s.idDocumentoAdicional=n.idDocumentoAdicional),"idContatoVendedor"in n&&n.idContatoVendedor&&(s.codigoContatoVendedor=n.idContatoVendedor||""),"idContatoDigitador"in n&&n.idContatoDigitador&&(s.idContatoDigitador=n.idContatoDigitador),"idEmpresa"in n&&n.idEmpresa&&(s.idEmpresa=n.idEmpresa),"documentoId"in n&&n.documentoId&&(s.documentoId=n.documentoId),"status"in n&&n.status&&n.status.indexOf(",")===-1&&(s.status=n.status),"operacao"in n&&n.operacao&&(s.operacao=n.operacao),"codigoContato"in n&&n.codigoContato&&(s.codigoContato=n.codigoContato);let l=await Z().documento;Object.keys(s).length&&(l=await l.where(s));let u=n.periodoEmissao&&n.periodoEmissao.ini&&n.periodoEmissao.ini.length>2&&n.periodoEmissao.fim&&n.periodoEmissao.fim.length>2;if("periodoEmissao"in n&&n.periodoEmissao&&u){const _=new Date(n.periodoEmissao.ini).setHours(0,0,0,0),y=new Date(n.periodoEmissao.fim).setHours(0,0,0,0);l=await l.filter(I=>{const S=new Date(I.dataHoraEmissao).setHours(0,0,0,0);return _&&y?S>=_&&S<=y:_?S>=_:y?S<=y:!0})}if("periodoFinalizado"in n&&n.periodoFinalizado){const _=new Date(n.periodoFinalizado.ini).setHours(0,0,0,0),y=new Date(n.periodoFinalizado.fim).setHours(0,0,0,0);l=await l.filter(I=>{const S=new Date(I.dataHoraFinalizado).setHours(0,0,0,0);return _&&y?S>=_&&S<=y:_?S>=_:y?S<=y:!0})}if("idEmpresa"in n&&n.idEmpresa&&(l=await l.filter(_=>_.idEmpresa?n.idEmpresa===_.idEmpresa:!1)),"cliente"in n&&n.cliente.length>0&&(l=await l.filter(_=>{if(!_.descricaoContato)return!1;const y=$utils.removerCaracteresEspeciais(_.descricaoContato.toString().toLowerCase()),I=$utils.removerCaracteresEspeciais(n.cliente.toString().toLowerCase());return y.indexOf(I)!==-1})),"valorTotal"in n&&n.valorTotal!==0&&(l=await l.filter(_=>_.totalDocumento>=n.valorTotal)),"faturado"in n){const _=new Date(n.faturado.ini).setHours(0,0,0,0),y=new Date(n.faturado.fim).setHours(0,0,0,0);let I=Z().documento.where({tipo:"Fatura"});const S=[];await I.each(O=>{let F=new Date(O.dataHoraFinalizado).setHours(0,0,0,0)||0;_&&y&&F>=_&&F<=y&&S.push(O.id),!y&&_&&F>=_&&S.push(O.id),!_&&y&&F<=y&&S.push(O.id)}),l=l.filter(function(O){return n.status.indexOf("Finalizado")===-1?!0:O.idFatura?!!S.find(F=>F===O.idFatura):!1})}if("termoBusca"in n&&n.termoBusca.length>0&&(l=await l.filter(_=>{if(!_.descricaoContato)return!1;const y=$utils.removerCaracteresEspeciais(_.descricaoContato.toString().toLowerCase()),I=$utils.removerCaracteresEspeciais(n.termoBusca.toString().toLowerCase());return y.indexOf(I)!==-1})),n.status.indexOf(",")!==-1){const _=n.status;l=l.filter(function(y){return _.indexOf(y.status)!==-1})}n.or&&(l=l.filter(_=>{for(const y in n.or)if(_[y]===n.or[y])return!0;return!1})),n.and&&(l=l.filter(_=>{for(const y in n.and)if(_[y]!==n.and[y])return!1;return!0})),n.statusEnvio&&(n.statusEnvio==="Enviados"&&(l=l.filter(_=>_.rotaJson!==null&&_.rotaJson!=="")),n.statusEnvio==="N\xE3o Enviados"&&(l=l.filter(_=>_.rotaJson===null||_.rotaJson==="")));let c=[];c=await l.toArray()||[],a&&i&&(c=ca.exports.orderBy(c,a,i));const d=c.length;let m=o,p=((r||1)-1)*m;c=c.splice(p,m);let g=c,b=d,x=Math.ceil(b/m)||1;return{data:g,total:b,totalPages:x}},le:async({filtros:e,colunas:t})=>{e=e||{};let o=[];if(localStorage.getItem("rede")==="offline"){if(e.id)return Z().documento.get(e.id)||{};delete e.id,o=await Z().documento.toArray()||[],o=o.filter(r=>r.tipo==="Fatura"),o=o.filter(r=>{let a=!0;for(const i in e)if(r[i]!==e[i]){a=!1;break}return a})}else{let r="";for(const i in e)r+=`${i} = '${e[i]}' and `;r+=" tipo='Fatura'";let a=`select top 30 ${t.split(" ").join(", ")} from documento where ${r}`;o=await mo(a,"x_req48473u")}return o.slice(0,30)},leCompleto:async e=>{const t=await $db.hibrido.le({table:"documento",id:e}),[o,r,a]=await $db.hibrido.lista([{table:"documentoCondicaoPagamento",where:{idDocumento:e}},{table:"documento",where:{tipo:"Venda",idFatura:e}},{table:"financeiroTitulo",where:{idFatura:e}}]);return{fatura:t,condicaoPagamento:o,vendas:r,carnes:a}},checarTitulosLiquidados:async(e={})=>{const{condicoesPagamento:t}=e,o=[],r="T\xEDtulo liquidado encontrado. N\xE3o \xE9 poss\xEDvel excluir o financeiro.";let a=!1;for(const i of t){const n=await $db.financeiroTitulo.le({id:i.idFinanceiroTitulo});!n||o.push(n)}if(o.find(i=>i.dataPagamento&&i.idFatura&&i.documentoId!==i.idFatura)&&(a=!0),!a){const i=await $db.permissao.objeto("Diretiva_Vendas_Reabertura_EstornaTitulosLiquidados");o.find(n=>n.dataPagamento)&&!i&&(a=!0)}if(a)throw new Error(r)},criar:e=>({id:Ft(),dataHoraEmissao:Qo(),calcularAutomatico:"Sim",tipo:"Fatura",operacao:"Faturamento",status:"Aberta",tipoFrete:"CIF",freteSeparado:!1,totalDesconto:0,totalPercentualDesconto:0,subTotal:e.subTotal||0,totalDocumento:e.totalDocumento||0,idEmpresa:e.idEmpresa||"",idEmpresaEndereco:e.idEmpresaEndereco||"",descricaoEmpresa:e.descricaoEmpresa||"",numeroDocumentoEmpresa:e.numeroDocumentoEmpresa||"",inscricaoMunicipalEmpresa:e.inscricaoMunicipalEmpresa||"",codigoMunicipioEmpresa:e.codigoMunicipioEmpresa||"",optanteSimplesNacional:e.optanteSimplesNacional||"",idContato:e.idContato||"",idContatoEndereco:e.idContatoEndereco||"",numeroDocumentoContato:e.numeroDocumentoContato||"",descricaoContato:e.descricaoContato||"",descricaoContatoEndereco:e.descricaoContatoEndereco||"",telefoneContato:e.telefoneContato||"",emailContato:e.emailContato||"",regimeContato:e.regimeContato||""}),remover:async e=>{await Z().documento.delete(e),await Je("remover","documento",e)},obterAbertas:(e,t)=>$db.hibrido.lista({table:"documento",where:{idContato:e,idEmpresa:t,tipo:"Fatura",status:"Aberta"}}),filtrar:Gme,enviarPedidosProtheus:Wme},Yme={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().financeiroBanco.put(e.atual),await Je("adicionar","financeiroBanco",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().financeiroBanco.update(e.atual.id,t),await Je("atualizar","financeiroBanco",e.atual.id,t))}},le:async e=>(e=e||{},e.id?await Z().financeiroBanco.get(e.id)||{}:[]),remove:async e=>{for(const t of e)await Z().financeiroBanco.delete(t.id),await Je("remover","financeiroBanco",t.id)}},Kme={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().financeiroBoleto.put(e.atual),await Je("adicionar","financeiroBoleto",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().financeiroBoleto.update(e.atual.id,t),await Je("atualizar","financeiroBoleto",e.atual.id,t))}},le:async e=>(e=e||{},e.id?await Z().financeiroBoleto.get(e.id)||{}:[]),remove:async e=>{for(const t of e)await Z().financeiroBoleto.delete(t.id),await Je("remover","financeiroBoleto",t.id)}},Qme={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().financeiroBoletoTitulo.put(e.atual),await Je("adicionar","financeiroBoletoTitulo",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().financeiroBoletoTitulo.update(e.atual.id,t),await Je("atualizar","financeiroBoletoTitulo",e.atual.id,t))}},le:async e=>(e=e||{},e.id?await Z().financeiroBoletoTitulo.get(e.id)||{}:[]),remove:async e=>{for(const t of e)await Z().financeiroBoletoTitulo.delete(t.id),await Je("remover","financeiroBoletoTitulo",t.id)}},Jme={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().financeiroMovimentacao.put(e.atual),await Je("adicionar","financeiroMovimentacao",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().financeiroMovimentacao.update(e.atual.id,t),await Je("atualizar","financeiroMovimentacao",e.atual.id,t))}},lerV2:async e=>{if(e=e||{},"id"in e)return e.id?await Z().financeiroMovimentacao.get(e.id)||{}:{};let t={};return"idDocumentoCaixa"in e&&e.idDocumentoCaixa&&(t.idDocumentoCaixa=e.idDocumentoCaixa),"idFinanceiroPlanoConta"in e&&e.idFinanceiroPlanoConta&&(t.idFinanceiroPlanoConta=e.idFinanceiroPlanoConta),"idFinanceiroMovimentacaoN"in e&&e.idFinanceiroMovimentacaoN&&(t.idFinanceiroMovimentacaoN=e.idFinanceiroMovimentacaoN),"documentoId"in e&&e.documentoId&&(t.documentoId=e.documentoId),"documentoTipo"in e&&e.documentoTipo&&(t.documentoTipo=e.documentoTipo),await Z().financeiroMovimentacao.where(t).toArray()||[]},le:async e=>{e=e||{};let t={};"idDocumentoCaixa"in e&&e.idDocumentoCaixa&&(t.idDocumentoCaixa=e.idDocumentoCaixa),"idFinanceiroPlanoConta"in e&&e.idFinanceiroPlanoConta&&(t.idFinanceiroPlanoConta=e.idFinanceiroPlanoConta);let o=[];return Object.keys(t).length?o=await Z().financeiroMovimentacao.where(t).toArray()||[]:o=await Z().financeiroMovimentacao.toArray()||[],e.idFinanceiroMovimentacaoN&&(o=o.filter(r=>r.idFinanceiroMovimentacaoN===e.idFinanceiroMovimentacaoN)),e.documentoId&&(o=o.filter(r=>r.documentoId===e.documentoId)),e.documentoTipo&&(o=o.filter(r=>r.documentoTipo===e.documentoTipo)),o},remove:async e=>{for(const t of e)await Z().financeiroMovimentacao.delete(t.id),await Je("remover","financeiroMovimentacao",t.id)}},Zme={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().financeiroMovimentacaoN.put(e.atual),await Je("adicionar","financeiroMovimentacaoN",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().financeiroMovimentacaoN.update(e.atual.id,t),await Je("atualizar","financeiroMovimentacaoN",e.atual.id,t))}},le:async e=>{}},epe={grava:async()=>{},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().financeiroPlanoConta.get(e.id)||{}:{};let t=await Z().financeiroPlanoConta.toArray()||[];if(e.codigoFinanceiroPlanoConta){const o=t.filter(r=>r.codigoFinanceiroPlanoConta===e.codigoFinanceiroPlanoConta);return o.length?o[0]:{}}return Object.keys(e.despesa||{}).length&&(t=t.filter(o=>o.ativo&&(o.classificacao||"")==="DESPESA"&&!/inconsist|título/g.test((o.descricao||"").toLowerCase())&&(!o.idEmpresaConta||o.idEmpresaConta===e.despesa.idContatoEmpresa))),t},leV2:async e=>{if(e=e||{},"id"in e)return e.id?await Z().financeiroPlanoConta.get(e.id)||{}:{};let t=await Z().financeiroPlanoConta.toArray()||[];if(e.codigoFinanceiroPlanoConta){const o=t.filter(r=>r.codigoFinanceiroPlanoConta===e.codigoFinanceiroPlanoConta);return o.length?o[0]:{}}return Object.keys(e.despesa||{}).length&&(t=t.filter(o=>o.ativo&&((o.classificacao||"")==="DESPESA"||o.paiCodigo===15)&&!/inconsist|título/g.test((o.descricao||"").toLowerCase())&&(!o.idEmpresaConta||o.idEmpresaConta===e.despesa.idContatoEmpresa))),t}},tpe={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().financeiroRenegociacao.put(e.atual),await Je("adicionar","financeiroRenegociacao",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().financeiroRenegociacao.update(e.atual.id,t),await Je("atualizar","financeiroRenegociacao",e.atual.id,t))}},le:async e=>{if(e=e||{},e.id)return await Z().financeiroRenegociacao.get(e.id)||{};let t=[];return e.idFinanceiroMovimentacaoN&&(t=await Z().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:e.idFinanceiroMovimentacaoN}).toArray()||[]),t},remove:async e=>{for(const t of e)await Z().financeiroRenegociacao.delete(t.id),await Je("remover","financeiroRenegociacao",t.id)}},ope={grava:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().financeiroTitulo.put(e.atual),await Je("adicionar","financeiroTitulo",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().financeiroTitulo.update(e.original.id,t),await Je("atualizar","financeiroTitulo",e.original.id,t))}},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().financeiroTitulo.get(e.id)||{}:{};if(e.idDocumentoCaixa&&e.idDocumentoCaixaLiquidacao)return await Z().financeiroTitulo.where("idDocumentoCaixa").equals(e.idDocumentoCaixa).or("idDocumentoCaixaLiquidacao").equals(e.idDocumentoCaixaLiquidacao).toArray()||[];let t={};"idContato"in e&&e.idContato&&(t.idContato=e.idContato),"idFatura"in e&&e.idFatura&&(t.idFatura=e.idFatura),"documentoId"in e&&e.documentoId&&(t.documentoId=e.documentoId),"idFinanceiroBoleto"in e&&e.idFinanceiroBoleto&&(t.idFinanceiroBoleto=e.idFinanceiroBoleto),"idDocumentoCaixa"in e&&e.idDocumentoCaixa&&(t.idDocumentoCaixa=e.idDocumentoCaixa),"idDocumentoCaixaLiquidacao"in e&&e.idDocumentoCaixaLiquidacao&&(t.idDocumentoCaixaLiquidacao=e.idDocumentoCaixaLiquidacao),"documentoCodigo"in e&&e.documentoCodigo&&(t.documentoCodigo=e.documentoCodigo);let o=[];return Object.keys(t).length?o=await Z().financeiroTitulo.where(t).toArray()||[]:o=await Z().financeiroTitulo.toArray()||[],e.emAberto===!0&&(o=o.filter(r=>!!r.receberPagar&&!r.dataPagamento)),e.emAberto===!1&&(o=o.filter(r=>!!r.receberPagar&&!!r.dataPagamento)),o},remove:async e=>{for(const t of e)await Z().financeiroTitulo.delete(t.id),await Je("remover","financeiroTitulo",t.id)}},ape={grava:()=>{},le:async e=>(e=e||{},e.id?await Z().formaPagamento.get(e.id)||{}:await Z().formaPagamento.toArray()||[])};async function rpe({table:e,columns:t,id:o}){var a,i,n,s;const r=await $utils.geeksApi({leHibrido:{funcao:"7934AE25-B337-43F4-9FC1-842C3486C491",table:e,id:o,columns:t}});return HI((i=(a=r==null?void 0:r.data)==null?void 0:a.leHibrido)==null?void 0:i.error),(s=(n=r==null?void 0:r.data)==null?void 0:n.leHibrido)!=null?s:{}}async function ipe(e){var i,n,s,l;const{table:t,columns:o}=e,r=tF(e);if(!Object.keys(r).length)return[];const a=await $utils.geeksApi({listaHibrido:{funcao:"FCC75497-9CAD-4D28-AB39-F669142BE8A9",table:t,columns:o,where:r}});return HI((n=(i=a==null?void 0:a.data)==null?void 0:i.listaHibrido)==null?void 0:n.error),(l=(s=a==null?void 0:a.data)==null?void 0:s.listaHibrido)!=null?l:[]}async function npe(e){var a;const t={};for(const i in e){const{table:n,columns:s}=e[i],l="listaHibrido-"+i,u=tF(e[i]);t[l]=Object.keys(u).length?{funcao:"FCC75497-9CAD-4D28-AB39-F669142BE8A9",table:n,columns:s,where:u}:void 0}const o=await $utils.geeksApi(t),r=[];for(const i in e){const n="listaHibrido-"+i,s=(a=o==null?void 0:o.data)==null?void 0:a[n];HI(s.error),r.push(s!=null?s:[])}return r}function HI(e){var t;if(e)throw new Error(`GeeksApi Erro: ${(e==null?void 0:e.message)||""}. ${((t=e==null?void 0:e.originalError)==null?void 0:t.message)||""}`)}function tF({where:e,whereIn:t,whereFilter:o}){const r={};for(const a in e||{})e[a]!==void 0&&e[a]!==null&&(r[a]=e[a]);for(const a in t||{})t[a]!==void 0&&t[a]!==null&&(r[a]=t[a]);for(const a in o||{})o[a]!==void 0&&o[a]!==null&&(r[a]=o[a]);return r}async function spe(e){let t;return t=await $utils.geeksApi({hibrido:{funcao:"598DD669-5A78-45E4-B77C-0B7BA904FDA9",...e}}),t.data.hibrido}var Nv={le:rpe,lista:ipe,listaVarios:npe,ler:spe};async function lpe({table:e,columns:t,id:o}){const r=await $erp()[e].get(o)||{};if(!(t!=null&&t.length))return r;const a={};for(const i of t)a[i]=r[i];return a}async function cpe(e){const{table:t,columns:o}=e,r=C2(e.where),a=C2(e.whereIn),i=C2(e.whereFilter);if(!(Object.keys(r).length+Object.keys(a).length+Object.keys(i).length))return[];let n=$erp()[t];Object.keys(r).length&&(n=n.where(r));for(const l in a)n=n.where(l).anyOf(a[l]);for(const l in i)n=Array.isArray(i[l])?n.filter(u=>i[l].includes(u[l])):n.filter(u=>i[l]===u[l]);if(n=await n.toArray(),!(o!=null&&o.length))return n;const s=[];for(const l of n){const u={};for(const c of o)u[c]=l[c];s.push(u)}return s}async function upe(e){const{table:t,columns:o,where:r}=e!=null?e:{};let a=[];if(a=await $erp()[t].where(r).toArray(),Array.isArray(o)&&o.length>0){const i=[];for(const n of a){const s={};for(const l of o)n[l]!==void 0&&(s[l]=n[l]);i.push(s)}a=i}return a}function C2(e){const t={};for(const o in e||{})e[o]!==void 0&&e[o]!==null&&(t[o]=e[o]);return t}var jI={le:lpe,lista:cpe,ler:upe},zD,HD;const Ef={mode:(zD=localStorage.getItem("hibrido"))!=null?zD:"local",modoSelecionado:(HD=localStorage.getItem("hibridoModoSelecionado"))!=null?HD:"local"};async function dpe({table:e,columns:t,id:o}){return o?Ef.mode==="remoto"?Nv.le({table:e,columns:t,id:o}):jI.le({table:e,columns:t,id:o}):{}}async function oF(e){return Array.isArray(e)?Ef.mode==="remoto"?Nv.listaVarios(e):Promise.all(e.map(t=>oF(t))):Ef.mode==="remoto"?Nv.lista(e):jI.lista(e)}function fpe(e,t){e==="mode"&&localStorage.setItem("hibrido",t),e==="modoSelecionado"&&localStorage.setItem("hibridoModoSelecionado",t),Ef[e]=t}function mpe(e){return Ef[e]}async function ppe(e){var o,r;for(const a in(o=e==null?void 0:e.where)!=null?o:{})(e.where[a]===void 0||e.where[a]===null)&&delete e.where[a];return Object.keys((r=e==null?void 0:e.where)!=null?r:{}).length>0?Ef.mode==="remoto"?await Nv.ler(e):await jI.ler(e):[]}var hpe={le:dpe,lista:oF,get:mpe,set:fpe,ler:ppe};let j3="item",vpe=["tipo","ncm"],rf=[],Xc;const xC={id:"",_DataHoraUltimaAlteracao:"",ativo:!0,codigoBarras:"",dataCadastro:"",descricao:"",garantiaDias:0,grupo:"",imagem:"",marca:"",percentualMarkup:0,quantidadeDisponivel:0,status:"Linha",subGrupo:"",surfacada:"0",tempoMedioReposicao:0,tipo:"Produto",unidade:"UN",utilizaComposicaoValorReposicao:!1,utilizaMarkup:!1,validadeMeses:0,valorCustoReposicao:0,valorVenda:0,controladoExercito:0,controladoPoliciaCivil:0,controladoPoliciaFederal:0};async function gpe(e={}){var m,f,p;let{filtros:t={},termoBusca:o="",limit:r,sort:a=["descricaoConcatenada"],page:i,somenteDadosIndexados:n=!1}=e,s=[],l=rf,u,c,d;await GI(),u=[...t.id?["id"]:[],...t.codigoItem?["codigoItem"]:[]];for(const g of u){const b=l.find(x=>x[g]===t[g]);if(!b){l=[];break}l=[b]}if(t.ids&&(l=l.filter(g=>~t.ids.indexOf(g.id))),t.status&&(l=l.filter(g=>g.status===t.status)),t.codigoCompra){let b=(await Z().documentoItem.filter(x=>x.codigoDocumento===Number(t.codigoCompra)).toArray()).map(x=>x.idItem);l=l.filter(x=>~b.indexOf(x.id))}t.estoque&&(l=l.filter(g=>g.quantidadeDisponivel?g.quantidadeDisponivel>t.estoque:!1)),t.esfericoInicial&&(Number.isNaN(Number(t.esfericoInicial))||(l=l.filter(g=>g.esfericoInicial===t.esfericoInicial)),((m=t.esfericoInicial)==null?void 0:m.lte)!==void 0&&(l=l.filter(g=>(g.esfericoInicial||0)<=t.esfericoInicial.lte))),t.esfericoFinal&&(Number.isNaN(Number(t.esfericoFinal))||(l=l.filter(g=>g.esfericoFinal===t.esfericoFinal)),((f=t.esfericoFinal)==null?void 0:f.gte)!==void 0&&(l=l.filter(g=>(g.esfericoFinal||0)>=t.esfericoFinal.gte))),t.cilindrico&&(Number.isNaN(Number(t.cilindrico))||(l=l.filter(g=>g.cilindrico===t.cilindrico)),((p=t.cilindrico)==null?void 0:p.lte)!==void 0&&(l=l.filter(g=>(g.cilindrico||0)<=t.cilindrico.lte))),t.tipo&&!Array.isArray(t.tipo)&&(l=l.filter(g=>g.tipo===t.tipo)),u=[...Array.isArray(t.descricaoAplicacao)||(t.descricaoAplicacao||"").trim()?["descricaoAplicacao"]:[],...Array.isArray(t.marca)||(t.marca||"").trim()?["marca"]:[],...Array.isArray(t.grupo)||(t.grupo||"").trim()?["grupo"]:[],...Array.isArray(t.subGrupo)||(t.subGrupo||"").trim()?["subGrupo"]:[],...Array.isArray(t.aplicacao)||(t.aplicacao||"").trim()?["aplicacao"]:[],...Array.isArray(t.referencia)||(t.referencia||"").trim()?["referencia"]:[],...Array.isArray(t.codigoBarras)||(t.codigoBarras||"").trim()?["codigoBarras"]:[],...Array.isArray(t.tipo)||(t.tipo||"").trim()?["tipo"]:[],...Array.isArray(t.fornecedores)||(t.fornecedores||"").trim()?["fornecedores"]:[],...Array.isArray(t.lenteTipo)||(t.lenteTipo||"").trim()?["lenteTipo"]:[]];for(const g of u){let b=t[g],x=!1;Array.isArray(t[g])&&(b=t[g].join(" "),x=!0),b=b.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),l=l.filter(_=>{if(!(_[g]||"").trim())return!1;const y=_[g].trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");if(x){for(const I of b)if(~y.indexOf(I))return!0;return!1}for(const I of b)if(!~y.indexOf(I))return!1;return!0})}for(const g in t)!~["ativo","bloquearVenda"].indexOf(g)||typeof t[g]=="boolean"&&(l=l.filter(b=>typeof b[g]=="boolean"?b[g]===t[g]:!t[g]));if((t.termoBusca||"").trim()){let g=[],b=new Set(t.termoBusca.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "));b=Array.from(b);for(const x of l){let _=`${x.id} ${x.codigoItem?String(x.codigoItem)+" #"+String(x.codigoItem):""} `;_+=`${x.descricaoConcatenada||""} ${x.marca||""} ${x.grupo||""} ${x.subGrupo||""} `,_+=`${x.aplicacao||""} ${x.referencia?x.referencia+" Ref"+x.referencia:""} `,_+=`${x.codigoBarras||""} ${x.tipo||""} ${x.codigoBarrasAntigo||""} ${x.codigoAntigo||""}`,_=_.trim().toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"");let y=!0;for(const I of b)if(_.indexOf(I)===-1){y=!1;break}y&&g.push(x)}l=g}if(l=$lodash.orderBy(l,...a),c=l.length,r=r||l.length,i=i||1,d=c>1?Math.ceil(c/r):0,l=l.slice((i-1)*r,i*r),!n)for(const g of l.map(b=>b.id)){const b=await $erp().item.get(g);!b||s.push(b)}return n&&(s=l),{data:s,total:c,totalPages:d}}async function GI(e){const t=o=>{var a,i;const r={id:o.id,...o.codigoItem?{codigoItem:Number(o.codigoItem)}:{},...o.quantidadeDisponivel?{quantidadeDisponivel:Number(o.quantidadeDisponivel)}:{},...(o.descricaoConcatenada||"").trim()?{descricaoConcatenada:o.descricaoConcatenada}:{},...(o.marca||"").trim()?{marca:o.marca}:{},...(o.grupo||"").trim()?{grupo:o.grupo}:{},...(o.mix||"").trim()?{mix:o.mix}:{},...(o.subGrupo||"").trim()?{subGrupo:o.subGrupo}:{},...(o.aplicacao||"").trim()?{aplicacao:o.aplicacao}:{},...(o.referencia||"").trim()?{referencia:o.referencia}:{},...(o.codigoBarras||"").trim()?{codigoBarras:o.codigoBarras}:{},...(o.codigoBarrasAntigo||"").trim()?{codigoBarrasAntigo:o.codigoBarrasAntigo}:{},...(o.codigoAntigo||"").trim()?{codigoAntigo:o.codigoAntigo}:{},...(o.fornecedores||"").trim()?{fornecedores:o.fornecedores}:{},...(o.cor||"").trim()?{cor:o.cor}:{},...(o.amarcaoCor||"").trim()?{amarcaoCor:o.amarcaoCor}:{},...(o.armacaoMaterial||"").trim()?{armacaoMaterial:o.armacaoMaterial}:{},...(o.material||"").trim()?{material:o.material}:{},...(o.tipoMontagem||"").trim()?{tipoMontagem:o.tipoMontagem}:{},...(o.unidade||"").trim()?{unidade:o.unidade}:{},...(o.tipo||"").trim()?{tipo:o.tipo}:{},...(o.status||"").trim()?{status:o.status}:{},...(o.lenteTipo||"").trim()?{lenteTipo:o.lenteTipo}:{},...o.esfericoInicial?{esfericoInicial:Number(o.esfericoInicial+((a=o.adicaoInicial)!=null?a:0))}:{},...o.esfericoFinal?{esfericoFinal:Number(o.esfericoFinal+((i=o.adicaoFinal)!=null?i:0))}:{},...o.cilindrico?{cilindrico:Number(o.cilindrico)}:{},...typeof o.ativo=="boolean"?{ativo:o.ativo}:{},...typeof o.bloquearVenda=="boolean"?{bloquearVenda:o.bloquearVenda}:{},...(o.ncm||"").trim()?{ncm:o.ncm}:{}};if((o.descricaoConcatenada||"").trim()||(o.aplicacao||"").trim()){const n=(o.descricaoConcatenada||"").trim()+" "+(o.aplicacao||"").trim();r.descricaoAplicacao=n.trim()}rf.push(r)};if(Xc&&e){await Xc;const o=rf.findIndex(a=>a.id===e);o>-1&&rf.splice(o,1);const r=await $erp().item.get(e);return r&&t(r),Xc}return Xc||(Xc=new Promise(async(o,r)=>{let a,i;i=1e4,a=await $erp().item.count();for(let n=0;n<a;n+=i)await $erp().item.offset(n).limit(i).each(s=>t(s));o()}),Xc)}async function aF(e){e.descricaoConcatenada=a_(e),(!e.composicao||!e.composicao.length)&&(e.composicao=[{}]),(!e.fornecedor||!e.fornecedor.length)&&(e.fornecedor=[{}]),(!e.producaoFase||!e.producaoFase.length)&&(e.producaoFase=[{}]),(!e.qualidade||!e.qualidade.length)&&(e.qualidade=[{}]);for(const t in e.composicao){let o=e.composicao[t];o=Object.assign({},{idItemUtilizado:"",ordem:0,quantidade:1,temporario:{unidade:"",valor:0,total:0}},o),o.item=o.item||await uu().get("item",o.idItemUtilizado),o.descricaoItemUtilizado=o.item.descricao||"",e.composicao[t]=o}for(const t in e.fornecedor){let o=e.fornecedor[t];o=Object.assign({},{idContato:"",descricao:"",referencia:""},o),o.contato=o.contato||await je.contato.le({id:o.idContato}),o.descricaoContato=o.contato.apelido||"",e.fornecedor[t]=o}for(const t in e.producaoFase){let o=e.producaoFase[t];o=Object.assign({},{descricao:"",idItemEquipamento:"",idItemFerramenta:"",idItemServico:"",ordem:0},o),o.itemEquipamento=o.itemEquipamento||await uu().get("item",o.idItemEquipamento),o.itemFerramenta=o.itemFerramenta||await uu().get("item",o.idItemFerramenta),o.itemServico=o.itemServico||await uu().get("item",o.idItemServico),o.descricaoItemEquipamento=o.itemEquipamento.descricao||"",o.descricaoItemFerramenta=o.itemFerramenta.descricao||"",o.descricaoItemServico=o.itemServico.descricao||"",e.producaoFase[t]=o}return e}function a_(e){let t=e.descricao+(e.modelo?" - "+e.modelo:"")+(e.tamanho?" - "+e.tamanho:"");return e.tipo==="Lente"&&(t+=(e.esfericoInicial?" "+e.esfericoInicial:"")+(e.esfericoFinal?" "+e.esfericoFinal:"")+(e.eixo?" "+e.eixo:"")+(e.material?" - "+e.material:"")+(e.cor?" - "+e.cor:"")+(e.diametro?" - "+e.diametro:"")+(e.indiceRefracao?" - "+e.indiceRefracao:"")+(e.geometria?" - "+e.geometria:"")+(e.lenteTipo?" "+e.lenteTipo:"")),t}async function _pe(e,t){try{await Z().item.update(e,t),await Je("atualizar","item",e,t)}catch(o){throw console.log(o.message),new Error(o)}}async function bpe(e){const o={...(await je.item.leCompleto(e)).atual,id:Ft(),codigoBarras:"",referencia:"",codigoItem:void 0,quantidadeDisponivel:0};for(const r in o)if(Array.isArray(o[r]))for(const a of o[r])delete a.id;return await je.item.grava({atual:o}),o}async function ype(e){const t=li(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(t).length&&(await Z().item.update(e.atual.id,t),await Je("atualizar","item",e.atual.id,t),await je.item.carregarMemoria(e.atual.id)):(await Z().item.put(t),await Je("adicionar","item",t.id,t),await je.item.carregarMemoria(t.id))}async function Cpe(e){Tt.log("item","grava",e);const t=G3(ji(e.atual)),o=G3(ji(e.original||{}));t.descricaoConcatenada=a_(t);let r=!1;if(r=await Ot("itemComposicao",o.composicao,t.composicao)||r,r=await Ot("itemFornecedor",o.fornecedor,t.fornecedor)||r,r=await Ot("itemProducaoFase",o.producaoFase,t.producaoFase)||r,r=await Ot("itemQualidade",o.qualidade,t.qualidade)||r,r=await Ot("itemEspecificacao",o.especificacao,e.especificacao)||r,Object.keys(o||{}).length){const a=li(o,t);(r||Object.keys(a).length)&&(t._DataHoraUltimaAlteracao=Qo(),a._DataHoraUltimaAlteracao=t._DataHoraUltimaAlteracao,await Z().item.update(t.id,a),await Je("atualizar","item",t.id,a))}else{t.dataCadastro=Qo(),t._DataHoraUltimaAlteracao=t.dataCadastro;const a=li({},t);await Z().item.put(a),await Je("adicionar","item",a.id,a)}await je.item.carregarMemoria(t.id)}async function xpe(e){e=$utils.clonarV2(e);const t=$utils.clonar(e.originais||{});e.item.descricaoConcatenada=a_(e.item);const r=$utils.compactarObjeto(e).item;let a=!1;if(a=await Ot("itemComposicao",t.composicao,e.composicao)||a,a=await Ot("itemFornecedor",t.fornecedor,e.fornecedor)||a,a=await Ot("itemProducaoFase",t.producaoFase,e.producaoFase)||a,a=await Ot("itemQualidade",t.qualidade,e.qualidade)||a,a=await Ot("itemEspecificacao",t.especificacao,e.especificacao)||a,!Object.keys(t||{}).length)r.dataCadastro=Qo(),r._DataHoraUltimaAlteracao=r.dataCadastro,await Z().item.put(r),await Je("adicionar","item",r.id,r);else{const i=Qo();a&&(r._DataHoraUltimaAlteracao=i);const n=$utils.diferencaObjetos(t.item,r);Object.keys(n).length&&(r._DataHoraUltimaAlteracao=i,n._DataHoraUltimaAlteracao=i,await Z().item.update(r.id,n),await Je("atualizar","item",r.id,n))}return await je.item.carregarMemoria(r.id),r.id}async function wpe(e){if(e=e||{},"id"in e)return e.id?await Z().item.get(e.id)||{}:{};let t={};"tipo"in e&&e.tipo&&(t.tipo=e.tipo),"ativo"in e&&e.ativo&&(t.ativo=1);let o=Z().item;return Object.keys(t).length&&(o=o.where(t)),"limit"in e&&e.limit&&(o=o.limit(e.limit)),await o.toArray()||[]}async function Ipe(e){if(e=e||{},"id"in e)return e.id?await Z().item.get(e.id)||{}:{};let t=await Z().item.toArray()||[];return e.tipo&&(Array.isArray(e.tipo)?t=t.filter(o=>e.tipo.includes(o.tipo)):t=t.filter(o=>e.tipo===o.tipo)),e.ativo&&(t=t.filter(o=>o.ativo)),e.ativo===!1&&(t=t.filter(o=>!o.ativo)),t}async function Epe({filtros:e,limit:t,page:o,sort:r}){if(e=e||{},"id"in e)return e.id?await Z()[j3].get(e.id)||{}:{};let a={};for(const f of vpe)f in e&&e[f]&&(a[f]=e[f]);let i=await Z()[j3];if(Object.keys(a).length&&(i=i.where(a)),"ativo"in e&&typeof e.ativo=="boolean"&&(i=i.filter(f=>f.ativo===e.ativo)),"codigo"in e&&(i=i.filter(f=>f.codigo===Number(e.codigo))),"codigoItem"in e&&(i=i.filter(f=>f.codigoItem===Number(e.codigoItem))),"referencia"in e&&(i=i.filter(f=>f.referencia===e.referencia)),"codigoBarras"in e&&(i=i.filter(f=>f.codigoBarras===e.codigoBarras)),"codIdRef"in e){const f=e.codIdRef;i=i.filter(p=>p.id===f||p.codigoItem===Number(f)||p.referencia===f)}if("marca"in e&&(i=i.filter(f=>f.marca===e.marca)),"grupo"in e&&(i=i.filter(f=>f.grupo===e.grupo)),"tipo"in e&&(i=i.filter(f=>f.tipo===e.tipo)),"subGrupo"in e&&(i=i.filter(f=>f.subGrupo===e.subGrupo)),"fornecedor"in e){let f=[],p=[];(await Z().contato.filter(x=>{if(x.nome){let _=ec(x.nome).toLowerCase(),y=ec(e.fornecedor).toLowerCase();return _.includes(y)}}).toArray()).map(x=>f.push(x.id)),(await Z().itemFornecedor.filter(x=>f.includes(x.idContato)).toArray()).map(x=>p.push(x.idItem)),i=i.filter(x=>p.includes(x.id))}if("codigoCompra"in e){let f=await Z().documentoItem.filter(g=>g.codigoDocumento===Number(e.codigoCompra)).toArray(),p=[];f.map(g=>p.push(g.idItem)),i=i.filter(g=>p.includes(g.id))}"estoque"in e&&(i=i.filter(f=>f.quantidadeDisponivel>=e.estoque)),"descricao"in e&&(i=i.filter(f=>f.descricao.includes(e.descricao))),"descricaoAplicacao"in e&&(i=i.filter(f=>{if(f.aplicacao&&f.descricao)return f.descricao.includes(e.descricaoAplicacao)||f.aplicacao.includes(e.descricaoAplicacao);if(f.descricao)return f.descricao.includes(e.descricaoAplicacao)}));let n=[],s=[];await i.each(f=>{n.push({descricao:ec(f.descricao||"").toUpperCase().trim(),id:f.id,grupo:f.grupo})});const l=n.length;n=n.sort((f,p)=>f.descricao>p.descricao?1:p.descricao>f.descricao?-1:0),t=t||l,o=o||1;let u=(o-1)*t;n=n.splice(u,t);for(let f of n)s.push(await Z().item.get({id:f.id}));let c=s,d=l,m=Math.ceil(d/t)||1;return{data:c,total:d,totalPages:m}}async function Spe(e){Tt.log("item","leCompleto");let t=await uu().get("item",e,{joinMany:[{field:"composicao",joinTable:"itemComposicao",joinKey:"idItem",key:"id"},{field:"fornecedor",joinTable:"itemFornecedor",joinKey:"idItem",key:"id"},{field:"producaoFase",joinTable:"itemProducaoFase",joinKey:"idItem",key:"id"},{field:"qualidade",joinTable:"itemQualidade",joinKey:"idItem",key:"id"}]});t=await aF({...xC,...t});const o=ji(t);return{atual:t,original:o}}async function Ape(e){const t={};return e=e||"",t.item=await Z().item.get(e)||{},t.composicao=await Z().itemComposicao.where("idItem").equals(e).toArray(),t.fornecedor=await Z().itemFornecedor.where("idItem").equals(e).toArray(),t.producaoFase=await Z().itemProducaoFase.where("idItem").equals(e).toArray(),t.qualidade=await Z().itemQualidade.where("idItem").equals(e).toArray(),t.especificacao=await Z().itemEspecificacao.where("idItem").equals(e).toArray(),t}async function Tpe(e,t){const o={idContaEstoque:"",descricaoContaEstoque:"",idContaReceita:"",descricaoContaReceita:"",idContaDespesa:"",descricaoContaDespesa:""};let r=await Z().item.get(e),a=await je.cfop.le({id:t}),i=(await je.configuracoes.le({nome:"financeiro.planocontas.cmv"}))[0].valor,n=await je.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:i})||{},s=(await je.configuracoes.le({nome:"financeiro.planocontas.faturamentogeral"}))[0].valor,l=await je.financeiroPlanoConta.le({codigoFinanceiroPlanoConta:s})||{},u=await je.perfilContabilItem.le({idPerfilContabil:r.idPerfilContabil});const c={};for(const d of await je.financeiroPlanoConta.le()||[])c[d.id]=d;for(const d of u.filter(m=>m.idCfop===t))return{ordem:0,idPlanoContaEstoque:d.idPlanoContaEstoque,descricaoContaEstoque:c[d.idPlanoContaEstoque].apelido+" - "+c[d.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:d.idPlanoContaDestino,descricaoContaDestino:c[d.idPlanoContaDestino].apelido+" - "+c[d.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:d.idPlanoContaDespesa,descricaoContaDespesa:c[d.idPlanoContaDespesa].apelido+" - "+c[d.idPlanoContaDespesa].descricao.trim()};for(const d of u)return{ordem:1,idPlanoContaEstoque:d.idPlanoContaEstoque,descricaoContaEstoque:c[d.idPlanoContaEstoque].apelido+" - "+c[d.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:d.idPlanoContaDestino,descricaoContaDestino:c[d.idPlanoContaDestino].apelido+" - "+c[d.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:d.idPlanoContaDespesa,descricaoContaDespesa:c[d.idPlanoContaDespesa].apelido+" - "+c[d.idPlanoContaDespesa].descricao.trim()};return a.idPlanoContaEstoque&&a.idPlanoContaDestino?{ordem:2,idPlanoContaEstoque:a.idPlanoContaEstoque,descricaoContaEstoque:c[a.idPlanoContaEstoque].apelido+" - "+c[a.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:a.idPlanoContaDestino,descricaoContaDestino:c[a.idPlanoContaDestino].apelido+" - "+c[a.idPlanoContaDestino].descricao.trim(),idPlanoContaDespesa:n.id,descricaoContaDespesa:n.descricao}:a.idPlanoContaEstoque?{ordem:3,idPlanoContaEstoque:a.idPlanoContaEstoque,descricaoContaEstoque:c[a.idPlanoContaEstoque].apelido+" - "+c[a.idPlanoContaEstoque].descricao.trim(),idPlanoContaDestino:l.id,descricaoContaDestino:l.apelido+" - "+l.descricao.trim(),idPlanoContaDespesa:n.id,descricaoContaDespesa:n.descricao}:o}async function Ope(e){return Tt.log("item","leUnicos",e),Z().item.orderBy(e).uniqueKeys()}async function Dpe(e,t){Tt.log("item","leValoresUnicos"),await $db.item.carregarMemoria();const o=$db.item.itens;return p8([{[e]:""},{[e]:t},...o],e).sort((r,a)=>r.localeCompare(a,void 0,{sensitivity:"base"}))}function G3(e){if(e.fornecedor){for(const t of e.fornecedor)delete t.contato,delete t.descricaoContato,t.idItem=e.id,t.id||(t.id=Ft());e.fornecedor=e.fornecedor.filter(t=>!!t.idContato||!!t.descricao||!!t.referencia)}if(e.composicao){for(const t of e.composicao)delete t.temporario,delete t.item,delete t.descricaoItemUtilizado,t.idItem=e.id,t.id||(t.id=Ft());e.composicao=e.composicao.filter(t=>!!t.idItemUtilizado)}if(e.qualidade){for(const t of e.qualidade)delete t.item,t.idItem=e.id,t.id||(t.id=Ft());e.qualidade=e.qualidade.filter(t=>!!t.descricao||!!t.especificacao||!!t.limites)}if(e.producaoFase){for(const t of e.producaoFase)delete t.itemEquipamento,delete t.itemFerramenta,delete t.itemServico,delete t.descricaoItemEquipamento,delete t.descricaoItemFerramenta,delete t.descricaoItemServico,t.idItem=e.id,t.id||(t.id=Ft());e.producaoFase=e.producaoFase.filter(t=>!!t.ordem||!!t.descricao||!!t.idItemEquipamento||!!t.idItemFerramenta||!!t.idItemServico)}return e}async function Ppe(e,t){let o=!1;return e?(Tt.log("item","validarReferenciaUnica"),o=!await Z().item.filter(a=>a.referencia===e&&a.id!==t.id).first(),o):!0}async function Mpe({item:e,arquivosOriginal:t,alterarDescricao:o,alterarValorCusto:r,alterarValorVenda:a}){let i;if(i=await $utils.geeksApi({importarDadosReferencia:{funcao:"969B3D4B-A506-48AA-ADF7-507962EC932F",codigoBarras:e.codigoBarras}}),!i.data.importarDadosReferencia&&(i=await $utils.geeksApi({importarDadosReferencia:{funcao:"969B3D4B-A506-48AA-ADF7-507962EC932F",id:e.referencia.replace(/\s+/g,"-")}}),!i.data.importarDadosReferencia))return;const{dados:n,fotos:s}=i.data.importarDadosReferencia;e.haste=parseFloat(n.armacao["Comprimento da haste"]),e.ponte=parseFloat(n.armacao["Tamanho da ponte"]),e.largura=parseFloat(n.armacao["Dobradi\xE7a a dobradi\xE7a"]),e.armacaoMaterial=n.armacao["Material da haste"],e.tipoMontagem=n.armacao["Tipo de aro"],e.modelo=e.referencia.replace(/\s+/g,"-"),e.amarcaoCor=n.armacao.Cor,e.material=n.lente["Material da lente"],e.cor=n.lente["Cor da lente"],o&&(e.descricao=n.nome),r&&(e.valorCustoReposicao=parseFloat(n.precoCompra.replace(/[^\d,]/g,"").replace(",","."))),a&&(e.valorVenda=parseFloat(n.precoVenda.replace(/[^\d,]/g,"").replace(",",".")));const l={an:"Arnette",ar:"Giorgio Armani",ax:"Armani Exchange",gz:"Grazi Massafera",j8:"Jean Monnier",kp:"Kipling",oo:"Oakley",oy:"Oakley",p9:"Platini",rb:"Ray-Ban",rj:"Ray-Ban",rx:"Ray-Ban",tn:"Tecnol",vj:"Vogue",vo:"Vogue",vy:"Vogue"};e.marca=l[e.modelo.substring(1,3)]||n.marca||"",e.cor==="Lente de demonstra\xE7\xE3o"||e.cor==="Transparente"||n.linha==="RECEITUARIO"?(e.tipo="Arma\xE7\xE3o",e.ncm="90031990"):(n.linha,e.tipo="\xD3culos Sol",e.ncm="90041000");const u=n.armacao["Dobradi\xE7a a dobradi\xE7a"].split(",");if(u.length===2){+u[0].trim().replace(".",",");const p=+u[1].trim().replace(".",",");e.largura=p}const c=s,d=Object.keys(c).sort((p,g)=>p.localeCompare(g)),m=c[d[0]];e.imagem=m;const f=[];for(const p of d){const g={arquivo:c[p],dataCriacao:$utils.dataAtual(),id:$utils.uuid(),idTabelaMaster:e.id,nome:p.replace(/^\d+\s-\s/,""),tipoArquivo:"itemImagem"};f.push(g)}return{item:e,arquivos:f}}async function Npe(e){var y,I,S,O,F,M,E,D,P,N,R,z;const t=(y=e.qtdeMomento)!=null?y:0,o=(I=e.qtdeDesejada)!=null?I:0,r=(S=e.custoDesejado)!=null?S:0,a=(O=e.custoMomento)!=null?O:0,i=o*r-t*a,n=$utils.uuid(),s=$utils.dataAtual();let l,u,c,d,m,f,p,g,b,x,_;if(l=await $erp().empresa.toArray(),u=l.find(W=>W.codigoContato===e.codigoEmpresaSelecionada),c=await $erp().item.get(e.idItem),l=await $erp().financeiroPlanoConta.toArray(),d=l.find(W=>W.codigoFinanceiroPlanoConta===e.planoContaEstoque),m=l.find(W=>W.codigoFinanceiroPlanoConta===e.planoContaMovimento),!u)throw new Error("GError:Empresa n\xE3o encontrada.");if(!c)throw new Error("GError:Item n\xE3o encontrado.");if(!d)throw new Error("GError:Plano de conta (Estoque) n\xE3o encontrado.");if(!m)throw new Error("GError:Plano de conta (Movimenta\xE7\xE3o) n\xE3o encontrado.");f=o-t,p=f<0?-1:1,f=Math.abs(f),g={id:$utils.uuid(),idEmpresa:u.idContato,tipo:"Estoque",operacao:"Ajuste",status:"Finalizado",dataHoraEmissao:e.data,dataHoraFinalizado:e.data,observacao:e.observacao},b={id:$utils.uuid(),idDocumento:g.id,idItem:c.id,descricaoItem:c.descricao,tipoItem:"Estoque",operacao:"Ajuste Dispon\xEDvel",status:"Finalizado",operacaoFator:p,quantidade:f,valorItem:r,valorCusto:r,subTotal:f*r,total:f*r,dataHoraEmissao:e.data,dataHoraFinalizado:e.data,quantidadeUltimo:t,valorCustoUltimo:a,idPlanoContaEstoque:d.id,idPlanoContaDestino:m.id},e.lote&&(b.loteEmpresa=e.lote),_={id:$utils.uuid(),idFinanceiroMovimentacaoN:n,idFinanceiroPlanoConta:i<0?d.id:m.id,idEmpresa:u.idContato,dataEmissao:s,observacao:"Contabiliza\xE7\xE3o autom\xE1tica",valorCredito:i<0?Math.abs(i):0,valorDebito:i<0?0:Math.abs(i),descricao:Math.abs(i)?(M=(F=d.descricao)==null?void 0:F.trim())!=null?M:"":(D=(E=m.descricao)==null?void 0:E.trim())!=null?D:"",automatico:0,liquidando:0,dataCompetencia:s,dataVencimento:s,dataMovimento:s,documentoTipo:"Ajuste de Estoque",documentoId:g.id},x={id:$utils.uuid(),idFinanceiroMovimentacaoN:n,idFinanceiroPlanoConta:i<0?m.id:d.id,idEmpresa:u.idContato,dataEmissao:s,observacao:"Contabiliza\xE7\xE3o autom\xE1tica",valorCredito:i<0?0:Math.abs(i),valorDebito:i<0?Math.abs(i):0,descricao:i<0?(N=(P=m.descricao)==null?void 0:P.trim())!=null?N:"":(z=(R=d.descricao)==null?void 0:R.trim())!=null?z:"",automatico:0,liquidando:0,dataCompetencia:s,dataVencimento:s,dataMovimento:s,documentoTipo:"Ajuste de Estoque",documentoId:g.id},await $erp().documento.put(g),await $erp().documentoItem.put(b),await $erp().financeiroMovimentacao.put(_),await $erp().financeiroMovimentacao.put(x),await $utils.sincronismoEnviar("adicionar","documento",g.id,g),await $utils.sincronismoEnviar("adicionar","documentoItem",b.id,b),await $utils.sincronismoEnviar("adicionar","financeiroMovimentacao",_.id,_),await $utils.sincronismoEnviar("adicionar","financeiroMovimentacao",x.id,x)}async function Fpe(e){const{id:t,referencia:o}=e!=null?e:{};let r=(o||"").trim().toLowerCase();return r?(await GI(),!!rf.find(i=>(i.referencia||"").trim().toLowerCase()===r&&i.id!==t)):!1}var Rpe={itens:rf,carregarMemoria:GI,ler:gpe,completa:aF,descricaoConcatenada:a_,duplica:bpe,existeReferencia:Fpe,grava:Cpe,gravaV2:xpe,gravaItem:ype,gravarSimplesV1:_pe,importarDadosProdutoReferencia:Mpe,le:Ipe,leCompleto:Spe,leCompletoV2:Ape,leContas:Tpe,leNew:wpe,leUnicos:Ope,leValoresUnicos:Dpe,leRefatorado:Epe,opcoesTipo:[{rotulo:"Produto",valor:"Produto"},{rotulo:"Servi\xE7o",valor:"Servi\xE7o"}],selecionado:{...xC},validarReferenciaUnica:Ppe,ajusteEstoque:Npe,vazio:xC};let Mm={};const mp={itens:[],time:null},rF={"\xD3culos Sol":"\xD3culos de Sol",Arma\u00E7\u00E3o:"\xD3culos de Grau","Lente Contato":"Lentes de Contato",Produto:"Acess\xF3rios","\xD3culos Pronto":"\xD3culos Pronto"};function kpe(){return $utils.clonarV2(rF)}async function S0(e){var r,a,i,n,s,l,u,c;const{eCommerce:t}=e!=null?e:{},o=new Date;if(Mm.dateExpirationAccessToken||(Mm={accessToken:(a=(r=t==null?void 0:t.json)==null?void 0:r.auth)==null?void 0:a.accessToken,dateExpirationAccessToken:(n=(i=t==null?void 0:t.json)==null?void 0:i.auth)==null?void 0:n.dateExpirationAccessToken}),new Date(Mm.dateExpirationAccessToken)<new Date(o.setSeconds(o.getSeconds()+10))){const d=await $db.eCommerce.obterToken({eCommerce:t});Mm={accessToken:(l=(s=d==null?void 0:d.data)==null?void 0:s.autenticacao)==null?void 0:l.accessToken,dateExpirationAccessToken:(c=(u=d==null?void 0:d.data)==null?void 0:u.autenticacao)==null?void 0:c.dateExpirationAccessToken}}return Mm.accessToken}function W3(e){const t=new Date,o=t.getSeconds()+3;mp.itens=e,mp.time=new Date(t.setSeconds(o))}async function Vpe(e){var r,a;const{eCommerce:t}=e!=null?e:{},o=await S0({eCommerce:t});await $utils.geeksApi({deletarTodos:{funcao:"77AEAAA9-13DF-49C9-9A7E-B049C06E2F73",apiHost:(a=(r=t.json)==null?void 0:r.auth)==null?void 0:a.apiHost,accessToken:o}})}async function iF(e){var a,i,n;const{eCommerce:t}=e!=null?e:{};let o,r;return o=await S0({eCommerce:t}),r=await $utils.geeksApi({consultar_listar_categorias:{funcao:"46B5B59D-490F-486D-B567-0BD4D34C54AC",apiHost:(i=(a=t==null?void 0:t.json)==null?void 0:a.auth)==null?void 0:i.apiHost,accessToken:o}}),(n=r==null?void 0:r.data)==null?void 0:n.consultar_listar_categorias}async function nF(e){var i,n,s,l;const{eCommerce:t}=e!=null?e:{};let o,r,a;return mp.time>new Date?(W3(mp.itens),mp.itens):(o=await S0({eCommerce:t}),a=await $utils.geeksApi({itens:{funcao:"2696362E-9CF0-49E2-9013-FA9EAC1EBC5E",apiHost:(n=(i=t==null?void 0:t.json)==null?void 0:i.auth)==null?void 0:n.apiHost,accessToken:o}},{timeout:6e4}),r=(l=(s=a==null?void 0:a.data)==null?void 0:s.itens)!=null?l:[],W3(r),r)}async function qpe(e){var n,s,l,u,c;const{itemGeeks:t,itemECommerce:o,eCommerce:r}=e!=null?e:{},a=await S0({eCommerce:r});let i;if(!(o!=null&&o.idItemNoECommerce)){const d=await nF({eCommerce:r});for(const m of d){let f=!0;for(const p of(s=(n=r==null?void 0:r.json)==null?void 0:n.sincronismo)==null?void 0:s.chaves)if(!t[p]||t[p]!==m[r.json.sincronismo.dePara[p]]){f=!1;break}if(f)return m}return}return i=await $utils.geeksApi({item:{funcao:"2696362E-9CF0-49E2-9013-FA9EAC1EBC5E",idItemNoECommerce:o==null?void 0:o.idItemNoECommerce,apiHost:(u=(l=r==null?void 0:r.json)==null?void 0:l.auth)==null?void 0:u.apiHost,accessToken:a}}),(c=i==null?void 0:i.data)==null?void 0:c.item}async function Bpe(){await $utils.geeksApi({exportar_estoque:{funcao:"542AF672-0070-4589-814E-C9E90F04A87E"}})}async function Lpe(e){var f,p,g,b,x,_,y,I,S,O,F,M,E,D,P,N,R,z,W,j,Q;const{itemECommerce:t,eCommerce:o,itemGeeks:r}=e!=null?e:{},a=await iF(e),i=[],n={},s=localStorage.getItem("bancoDeDados");let l,u,c,d,m=0;for(const se of(p=(f=o==null?void 0:o.json)==null?void 0:f.sincronismo)==null?void 0:p.chaves)if(!r[se])return;for(const se of await $db.estoqueSaldoProdutoEmpresa.leEstoquePorEmpresa(r.id))for(const _e of se.estoquePorLote)i.push({idEmpresa:_e.idEmpresa,tipoEstoque:_e.tipoEstoque,saldo:_e.saldo});for(const se of(g=o.json.sincronismo.estoque)!=null?g:[]){const _e=i.find(Ee=>{var J;return Ee.idEmpresa===se.idEmpresa&&~((J=se.tipo)==null?void 0:J.indexOf(Ee.tipoEstoque))});m+=(_e==null?void 0:_e.saldo)||0}u=await S0({eCommerce:o}),c=rF[r.tipo],d=(b=a.find(se=>se.name===c))==null?void 0:b.id;for(const se of Object.keys(o.json.sincronismo.dePara)){const _e=o.json.sincronismo.dePara[se],Ee=(_=(x=o.json.sincronismo.deParaTipo)==null?void 0:x[se])!=null?_:"string";if(~_e.indexOf("Properties.")){const J=_e.split(".")[1];if(!~((I=(y=o.json.sincronismo.deParaCategoria)==null?void 0:y[c])==null?void 0:I.indexOf(J))||~[null,void 0].indexOf(r[se]))continue;n.caracteristica||(n.caracteristica={}),Ee==="string"&&(n.caracteristica[J]=String((S=r[se])!=null?S:"").trim()),Ee==="number"&&(n.caracteristica[J]=$utils.arredondar((O=r[se])!=null?O:0).toFixed(2)),Ee==="boolean"&&(n.caracteristica[J]=String(r[se]?1:0));continue}Ee==="string"&&(n[_e]=String((F=r[se])!=null?F:"").trim()),Ee==="number"&&(n[_e]=$utils.arredondar((M=r[se])!=null?M:0).toFixed(2)),Ee==="boolean"&&(n[_e]=String(r[se]?1:0)),n.category_id=d}return n[o.json.sincronismo.dePara.codigoItem]=String(t.idItemNoECommerce),n[o.json.sincronismo.dePara.descricao]=t.descricao,n[o.json.sincronismo.dePara.valorVenda]=$utils.arredondar(t.valorVenda).toFixed(2),n[o.json.sincronismo.dePara.quantidadeDisponivel]=Math.ceil(m),n.weight=$utils.arredondar((Number(n.weight)||0)*1e3,0),n.length=Math.ceil((Number(n.length)||0)/10),n.weight||(n.weight=100),n.length||(n.length=25),n.height||(n.height=Math.ceil(Number((E=n.caracteristica)==null?void 0:E["Altura da Arma\xE7\xE3o"])/10||0)),n.height||(n.height=Math.ceil(r.altura/10||0)),n.height||(n.height=10),n.width||(n.width=Math.ceil(Number((D=n.caracteristica)==null?void 0:D["Largura da Arma\xE7\xE3o"])/10||0)),n.width||(n.width=Math.ceil(r.largura/10||0)),n.width||(n.width=15),s==="JeronimoCoelhoSC"&&(n.picture_source_1=`http://storage.b15.com.br/imagens/${localStorage.getItem("bancoDeDados")}/${r.id}.png`),l=await $utils.geeksApi({cadastrar_atualizar:{funcao:"44374EF9-00BD-4F6B-A246-18629B6E1910",dados:n,apiHost:(N=(P=o.json)==null?void 0:P.auth)==null?void 0:N.apiHost,accessToken:u}}),n.id=(z=(R=l==null?void 0:l.data)==null?void 0:R.cadastrar_atualizar)==null?void 0:z.id,await $utils.geeksApi({cadastrar_atualizar_caracteristicas_produtos:{funcao:"7DE5BCD7-2778-42FB-91AB-FEF8E87382C0",dados:n,apiHost:(j=(W=o.json)==null?void 0:W.auth)==null?void 0:j.apiHost,accessToken:u}}),(Q=l==null?void 0:l.data)==null?void 0:Q.cadastrar_atualizar}async function $pe(e){const t={...e.atual},o={...e.original};if(Object.keys(o||{}).length){const r=$utils.diferencaObjetos(o,t);if(Object.keys(r).length){const a=$utils.dataAtual();r.dataHoraModificacao=a,await $erp().itemECommerce.update(t.id,r),await $utils.sincronismoEnviar("atualizar","itemECommerce",t.id,r)}}else{const r=$utils.dataAtual();t.dataHoraCriacao=r,t.dataHoraModificacao=r,await $erp().itemECommerce.put(t),await $utils.sincronismoEnviar("adicionar","itemECommerce",t.id,t)}}async function Upe(e){const t={};let o=$erp().itemECommerce;if(e!=null&&e.id)return o.get(e.id);e==null||delete e.id;for(const r of Object.keys(e!=null?e:{}))e[r]!==void 0&&(t[r]=e[r]);return Object.keys(e!=null?e:{}).length>0&&!(Object.keys(t).length>0)?[]:Object.keys(t).length>0?o.where(t).toArray():o.toArray()}async function zpe(e){await $erp().itemECommerce.delete(e),await $utils.sincronismoEnviar("remover","itemECommerce",e)}var Hpe={deletarTodos:Vpe,obterCategorias:iF,obterItem:qpe,obterItens:nF,enviarItem:Lpe,exportarEstoque:Bpe,gravar:$pe,ler:Upe,remover:zpe,getTiposGeeksCategoriasTray:kpe};async function jpe(e){const t={...e.atual},o={...e.original};if(!Object.keys(o||{}).length)await $erp().itemEspecificacao.put(t),await $utils.sincronismoEnviar("adicionar","itemEspecificacao",t.id,t);else{const r=$utils.diferencaObjetos(o,t);Object.keys(r).length&&(await $erp().itemEspecificacao.update(t.id,r),await $utils.sincronismoEnviar("atualizar","itemEspecificacao",t.id,r))}}async function Gpe(e){const t={};let o=$erp().itemEspecificacao;if(e!=null&&e.id)return await o.get(e.id);e==null||delete e.id;for(const r of Object.keys(e!=null?e:{}))e[r]!==void 0&&(t[r]=e[r]);return Object.keys(e!=null?e:{}).length>0&&!(Object.keys(t).length>0)?[]:Object.keys(t).length>0?await o.where(t).toArray():await o.toArray()}async function Wpe(e){await $erp().itemEspecificacao.delete(e),await $utils.sincronismoEnviar("remover","itemEspecificacao",e)}var Xpe={gravar:jpe,ler:Gpe,remover:Wpe};async function Ype(e){const t={...e.atual},o={...e.original};if(!Object.keys(o||{}).length)await $erp().itemFornecedor.put(t),await $utils.sincronismoEnviar("adicionar","itemFornecedor",t.id,t);else{const r=$utils.diferencaObjetos(o,t);Object.keys(r).length&&(await $erp().itemFornecedor.update(t.id,r),await $utils.sincronismoEnviar("atualizar","itemFornecedor",t.id,r))}}async function Kpe(e){const t={};let o=$erp().itemFornecedor;if(e!=null&&e.id)return await o.get(e.id);e==null||delete e.id;for(const r of Object.keys(e!=null?e:{}))e[r]!==void 0&&(t[r]=e[r]);return Object.keys(e!=null?e:{}).length>0&&!(Object.keys(t).length>0)?[]:Object.keys(t).length>0?await o.where(t).toArray():await o.toArray()}async function Qpe(e){await $erp().itemFornecedor.delete(e),await $utils.sincronismoEnviar("remover","itemFornecedor",e)}var Jpe={gravar:Ype,ler:Kpe,remover:Qpe};const x2="documento",Zpe=["id","idContato","idFatura","idDocumentoAdicional","idContatoVendedor","idContatoDigitador","idEmpresa","documentoId","tipo","status","idEquipamento"],e0e={grava:async e=>{if(e=Na(e),await Ot("documentoItem",e.documentoItensAnterior||[],e.documentoItens||[]),!Object.keys(e.documentoAnterior||{}).length)await Z().documento.put(e.documento),await Je("adicionar","documento",e.documento.id,e.documento);else{const t=ra(e.documentoAnterior,e.documento);Object.keys(t).length&&(await Z().documento.update(e.documento.id,t),await Je("atualizar","documento",e.documento.id,t))}},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documento.get(e.id)||{}:{};let t={tipo:"Produ\xE7\xE3o"};"idContato"in e&&e.idContato&&(t.idContato=e.idContato),"idEmpresa"in e&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa),"status"in e&&e.status&&(t.status=e.status);let o=Z().documento;Object.keys(t).length&&("periodoEmissao"in e||"periodoFinalizado"in e?o=o.where(t).and(function(n){if("periodoEmissao"in e&&e.periodoEmissao){let s=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),l=new Date(e.periodoEmissao.fim).setHours(0,0,0,0),u=new Date(n.dataHoraEmissao).setHours(0,0,0,0);return s&&l?u>=s&&u<=l:s?u>=s:l?u<=l:!0}}).and(function(n){if("periodoFinalizado"in e&&e.periodoFinalizado){let s=new Date(e.periodoFinalizado.ini).setHours(0,0,0,0),l=new Date(e.periodoFinalizado.fim).setHours(0,0,0,0),u=new Date(n.dataHoraFinalizado).setHours(0,0,0,0);return s&&l?u>=s&&u<=l:s?u>=s:l?u<=l:!0}}):o=o.where(t));const r=e.offset,a=e.limit;let i=o;return i=await i.count(),Number.isInteger(r)&&Number.isInteger(a)?Promise.all([o.offset(r).limit(a).toArray(),i]):Promise.all([o.toArray(),i])},leRefatorado:async function({filtros:e,limit:t,page:o,sort:r}){if(e=e||{},"id"in e)return e.id?await Z()[x2].get(e.id)||{}:{};for(const f in e){if(e[f]===null||e[f]===void 0)throw"Erro no filtro "+f;typeof e[f]=="string"&&(e[f]=e[f].trim())}let a={tipo:"Produ\xE7\xE3o"};for(const f of Zpe)f in e&&e[f]&&(a[f]=e[f]);let i=await Z()[x2];if(Object.keys(a).length&&(i=i.where(a)),"periodoEmissao"in e&&e.periodoEmissao){let f=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),p=new Date(e.periodoEmissao.fim).setHours(0,0,0,0);i=i.filter(g=>{let b=new Date(g.dataHoraEmissao).setHours(0,0,0,0);return f&&p?b>=f&&b<=p:f?b>=f:p?b<=p:!0})}if("periodoFinalizado"in e&&e.periodoFinalizado){let f=new Date(e.periodoFinalizado.ini).setHours(0,0,0,0),p=new Date(e.periodoFinalizado.fim).setHours(0,0,0,0);i=i.filter(g=>{let b=new Date(g.dataHoraEmissao).setHours(0,0,0,0);return f&&p?b>=f&&b<=p:f?b>=f:p?b<=p:!0})}"empresa"in e&&e.empresa.selecionada&&(i=i.filter(f=>f.idEmpresa===e.empresa.selecionada),console.log(e.empresa.selecionada));let n=await i.toArray();if("termoBusca"in e){const f=$utils.tratamentoCompletoString(e.termoBusca).split(" "),p=[];for(const g of n){let b,x;x=await $erp().documentoItem.where({idDocumento:g.id}).toArray(),x=x.filter(y=>y.operacaoFator===1),b=g.descricaoEmpresa;for(const y of x)b+=` ${y.descricaoItem}`;b=$utils.tratamentoCompletoString(b);let _=!0;for(const y of f)if(!(b.search(y)>-1)){_=!1;break}_&&p.push(g)}n=p}let s=[];const l=n.length;n=n.sort((f,p)=>f.codigoDocumento>p.codigoDocumento?1:p.codigoDocumento>f.codigoDocumento?-1:0),t=t||l,o=o||1;let u=(o-1)*t;n=n.splice(u,t);for(let f of n)s.push(await Z()[x2].get({id:f.id}));let c=s,d=l,m=Math.ceil(d/t)||1;return{data:c,total:d,totalPages:m}},leItens:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documentoItem.get(e.id)||{}:{};let t={};"idDocumento"in e&&e.idDocumento&&(t.idDocumento=e.idDocumento),"idItem"in e&&e.idItem&&(t.idItem=e.idItem);let o=Z().documentoItem;if(Object.keys(t).length)o=o.where(t);else return[];return o.toArray()},async remove(e){await this.removeItens(e),await Z().documento.delete(e),await Je("remover","documento",e)},async removeItens(e){let t=await Z().documentoItem.where({idDocumento:e}).toArray();for(let o of t)await Z().documentoItem.where({id:o.id}).delete(),await Je("remover","documentoItem",o.id)}},t0e={grava:()=>{},le:async(e={})=>{if(e.id)return Z().itemTabelaPreco.get(e.id)||{};const t={};let o=Z().itemTabelaPreco;return Object.keys(t).length&&(o=o.where(t)),o=await o.toArray(),e.tabelaMaster===!0&&(o=o.filter(r=>r.tabelaMaster===1)),e.tabelaMaster===!1&&(o=o.filter(r=>r.tabelaMaster!==1)),e.idEmpresa&&(o=o.filter(r=>r.idEmpresa===e.idEmpresa||!r.idEmpresa)),o},obterValores:async(e,t,o=2,r)=>{var b;if(!e.id)return;const a=(t.marca||"").trim(),i=(t.grupo||"").trim(),n=(t.subGrupo||"").trim();let s,l,u,c,d,m,f,p=[];if(c=e.maximoDesconto||0,c=c>100?100:c,d=e.maximoDescontoGerente||0,d=d>100?100:d,m=e.fatorPercentual||0,f=e.fatorArredondamento||0,t.id&&(r&&(s=r.filter(x=>x.idItem===t.id)),r||(s=await Z().itemTabelaPreco.where({idItem:t.id}).toArray()),s=s.find(x=>!x.tabelaMaster&&x.idItemTabelaPrecoPai===e.id)),s){let x=s.valorVenda||0;const _=(b=s==null?void 0:s.fatorArredondamento)!=null?b:f;return _&&(x=Oy(x,_,o)),c=s.maximoDesconto||0,c=c>100?100:c,d=s.maximoDescontoGerente||0,d=d>100?100:d,{tabelaMaster:0,valorVenda:Wa(x,o),valorVendaMaiorQue:Wa(s.valorVendaMaiorQue||0,o),quantidadeMaiorQue:Wa(s.quantidadeMaiorQue||0,o),maximoDesconto:Wa(c,o),maximoDescontoGerente:Wa(d,o),maximoDescontoMaiorQue:Wa(s.maximoDescontoMaiorQue||0,o)}}if(l=1,u=(100+m)/100*(t.valorVenda||0),a){let x;r&&(x=r.filter(_=>_.tipo==="Marca")),r||(x=await Z().itemTabelaPreco.where({tipo:"Marca"}).toArray()),x=x.find(_=>_.tabelaMaster===2&&_.idItemTabelaPrecoPai===e.id&&(_.descricao||"").trim()===a),x&&p.push(x)}if(i){let x;r&&(x=r.filter(_=>_.tipo==="Grupo")),r||(x=await Z().itemTabelaPreco.where({tipo:"Grupo"}).toArray()),x=x.find(_=>_.tabelaMaster===2&&_.idItemTabelaPrecoPai===e.id&&(_.descricao||"").trim()===i),x&&p.push(x)}if(n){let x;r&&(x=r.filter(_=>_.tipo==="Subgrupo")),r||(x=await Z().itemTabelaPreco.where({tipo:"Subgrupo"}).toArray()),x=x.find(_=>_.tabelaMaster===2&&_.idItemTabelaPrecoPai===e.id&&(_.descricao||"").trim()===n),x&&p.push(x)}const g=p[p.length-1];return g&&(l=2,u=(100+(g.fatorPercentual||0))/100*(t.valorVenda||0),c=g.maximoDesconto||0,c=c>100?100:c,d=g.maximoDescontoGerente||0,d=d>100?100:d),f&&(u=Oy(u,f,o)),{tabelaMaster:l,valorVenda:Wa(u,o),valorVendaMaiorQue:0,quantidadeMaiorQue:0,maximoDesconto:Wa(c,o),maximoDescontoGerente:Wa(d,o),maximoDescontoMaiorQue:0}}};async function o0e(e){var u,c;const{atuais:t,originais:o,operacaoFatorDestino:r,operacaoFatorOrigem:a}=e!=null?e:{},i=[],n=[],s=[],l=await $erp().configuracoes.where({nome:"venda.kit.pcp"}).toArray();for(const d of t!=null?t:[]){const m=o==null?void 0:o.find(b=>b.documento.id===d.documento.id),f=d.documentosItem.some(b=>b.dataHoraFinalizado),p=(u=m==null?void 0:m.documentosItem)==null?void 0:u.some(b=>b.dataHoraFinalizado);let g;if(d.documento.idDocumentoAdicional){const b=await $erp().documento.get(d.documento.idDocumentoAdicional);b&&(n.push(b),i.push({...b,idDocumentoAdicional:""})),d.documento.idDocumentoAdicional=""}if(g=l.find(b=>b.idEmpresa===d.documento.idEmpresa),!(g&&!~[1,2].indexOf(Number(g.valor)))&&(g||(g=l.find(b=>!b.idEmpresa&&~[1,2].indexOf(Number(b.valor)))),!!g&&f&&!p)){const b=$utils.uuid(),x=Number(g.valor),_=$utils.dataAtual();let y,I="",S,O;x===1&&(y="Digita\xE7\xE3o"),x===2&&(y="Finalizado",I=_),d.documento.idDocumentoAdicional=b,S=d.documentosItem.reduce((F,M)=>M.operacaoFator===a?F+M.quantidade*M.valorCustoMedio:F,0),O=d.documentosItem.reduce((F,M)=>M.operacaoFator===r?F+M.quantidade:F,0),i.push({id:b,documentoId:d.documento.documentoId,idDocumentoAdicional:d.documento.id,idEmpresa:d.documento.idEmpresa,descricaoEmpresa:d.documento.descricaoEmpresa,idContato:d.documento.idContato,descricaoContato:d.documento.descricaoContato,tipo:"Produ\xE7\xE3o",operacao:"Manipula\xE7\xE3o",status:y,observacao:(c=d.documentosItem.find(F=>F.operacaoFator===r).observacao)!=null?c:"",dataHoraEmissao:_,dataHoraFinalizado:I,totalDocumento:S,subTotal:S});for(const F of d.documentosItem){let M=0,E=0,D=0,P=0;F.operacaoFator===r&&(M=1,E=S/O,D=S,P=S),F.operacaoFator===a&&(M=-1,E=F.valorCustoMedio,D=F.quantidade*F.valorCustoMedio,P=F.quantidade*F.valorCustoMedio),s.push({id:$utils.uuid(),idDocumento:b,idDocumentoAdicional:d.documento.id,idItem:F.idItem,operacao:"Manipula\xE7\xE3o",operacaoFator:M,status:y,descricaoItem:F.descricaoItem,tipoItem:F.tipoItem,dataHoraEmissao:_,dataHoraFinalizado:I,quantidade:F.quantidade,quantidadeRealizado:F.quantidade,valorItem:E,subTotal:D,total:P,valorCustoMedio:E})}}}await $utils.processarFilho("documento",n,i),await $utils.processarFilho("documentoItem",[],s)}async function a0e(e){var r;const{atuais:t,originais:o}=e!=null?e:{};for(const a of t!=null?t:[]){const i=o==null?void 0:o.find(n=>n.documento.id===a.documento.id);if(!a.documento.idDocumentoAdicional&&((r=i==null?void 0:i.documento)==null?void 0:r.idDocumentoAdicional)){let n,s;n=await $erp().documento.get(i.documento.idDocumentoAdicional),n!=null&&n.id&&(s=await $erp().documentoItem.where({idDocumento:n.id}).toArray(),await $erp().documento.delete(n.id),await $utils.sincronismoEnviar("remover","documento",n.id));for(const l of s!=null?s:[])await $erp().documentoItem.delete(l.id),await $utils.sincronismoEnviar("remover","documentoItem",l.id)}}}async function r0e(e){const{atuais:t,originais:o}=e!=null?e:{},r=[],a=[];let i=[],n=[];for(const s of t!=null?t:[])r.push(s.documento),i=i.concat(s.documentosItem);for(const s of o!=null?o:[])a.push(s.documento),n=n.concat(s.documentosItem);await a0e(e),await o0e(e),await $utils.processarFilho("documento",a,r),await $utils.processarFilho("documentoItem",n,i)}var i0e={salvar:r0e};const Jc={};async function n0e(){var o;const e=new Date;if((Jc==null?void 0:Jc.timeout)&&!(e>new Date(Jc.timeout)))return;const t=await $erp()._ncm.toArray();for(const r of t)r.json=JSON.parse((o=r.json)!=null?o:null);Jc.ncm=t,Jc.timeout=e.setSeconds(e.getSeconds()+3)}var s0e={nomeTabela:"_ncm",filtrosTabela:["ncm"],async le(e={}){if(Tt.log(this.nomeTabela,"le",e),"id"in e)return e.id?await Z()[this.nomeTabela].get(e.id)||{}:{};let t={};for(const o of this.filtrosTabela)if(o in e)if(![null,void 0].includes(e[o]))t[o]=e[o];else return[];return Object.keys(t).length?Z()[this.nomeTabela].where(t).toArray():Z()[this.nomeTabela].toArray()},ler:async(e={})=>{if(e.id){const o=await Z()._ncm.get(e.id);return o||{}}let t=null;for(const o of Object.keys(e).filter(r=>r!=="id")){if(~[void 0,null].indexOf(e[o]))continue;if(t){t=t.filter(a=>a[o]===e[o]);continue}const r={};r[o]=e[o],t=await Z()._ncm.where(r).toArray()}return t||await Z()._ncm.toArray()},gravar:async e=>{if(e=$utils.compactarObjeto(e),!Object.keys(e.original||{}).length)await Z()._ncm.put(e.atual),await $utils.sincronismoEnviar("adicionar","_ncm",e.atual.id,e.atual);else{const t=$utils.diferencaObjetos(e.original,e.atual);Object.keys(t).length&&(await Z()._ncm.update(e.original.id,t),await $utils.sincronismoEnviar("atualizar","_ncm",e.original.id,t))}},remover:async e=>{await Z()._ncm.delete(e.id),await $utils.sincronismoEnviar("remover","_ncm",e.id)},async ncmST(e={}){var t;try{const{ncm:o,idItem:r,ufDestinatario:a}=e;let i;if(r){const s=await $erp().item.get(r),l=s==null?void 0:s.ncm,u=JSON.parse((t=s.json)!=null?t:null)||{},c=u==null?void 0:u.impostoST;if(l&&c)return!!~c.indexOf(a)}await n0e(),i=Jc.ncm.find(s=>s.ncm===o);let n=!!(i!=null&&i.st);return i!=null&&i.json&&(n=!!~i.json.indexOf(a)),n}catch(o){return console.log(o.message),!1}}},l0e={nomeTabela:"nfeIbpt",filtrosTabela:["codigo","idContato"],async le(e={}){if(Tt.log(this.nomeTabela,"le",e),"id"in e)return e.id?await Z()[this.nomeTabela].get(e.id)||{}:{};let t={};for(const o of this.filtrosTabela)if(o in e)if(![null,void 0].includes(e[o]))t[o]=e[o];else return[];return Object.keys(t).length?Z()[this.nomeTabela].where(t).toArray():Z()[this.nomeTabela].toArray()},async grava(e){Tt.log(this.nomeTabela,"grava",e);const t=li(e.original||{},e.atual);Object.keys(e.original||{}).length?Object.keys(t).length&&(await Z()[this.nomeTabela].update(e.atual.id,t),await Je("atualizar",this.nomeTabela,e.atual.id,t)):(await Z()[this.nomeTabela].put(t),await Je("adicionar",this.nomeTabela,t.id,t))},async atualiza(e,t){Tt.log(this.nomeTabela,"atualiza",t);const o={id:Ft(),codigo:Number(t.Codigo),ex:String(t.EX),tipo:Number(t.Tipo),descricao:String(t.Descricao),nacionalFederal:String(t.Nacional),importadosFederal:String(t.Importado),estadual:String(t.Estadual),municipal:String(t.Municipal),vigenciaInicio:Ly(t.VigenciaInicio),vigenciaFim:Ly(t.VigenciaFim),chave:String(t.Chave),versao:String(t.Versao),fonte:String(t.Fonte),idContato:e};let r={};const a=await this.le({codigo:Number(o.codigo),idContato:e});for(const i in a)i==="0"?(o.id=a[i].id,r=a[i]):await Z()[this.nomeTabela].delete(a[i].id);return this.grava({atual:o,original:r})}};const c0e={numero:null,numeroLote:"",inscricaoMunicipal:"",quantidadeRps:1,identificacaoRps:{numero:"",serie:"",tipo:"1"},dataEmissao:"",dataHoraCriacao:"",naturezaOperacao:"",optanteSimplesNacional:"",incentivadorCultural:"",status:"1",regimeEspecialTributacao:"",protocoloRetorno:"",servico:{valores:{valorServicos:0,valorPis:0,valorCofins:0,valorInss:0,valorIr:0,valorCsll:0,issRetido:"2",valorIss:0,baseCalculo:0,aliquota:0,valorLiquidoNfse:0,descontoIncondicionado:0,descontoCondicionado:0},itemListaServico:"",codigoCnae:"",codigoTributacaoMunicipio:"",discriminacao:"",municipioPrestacaoServico:""},prestador:{documento:"",razaoSocial:"",inscricaoMunicipal:""},tomador:{documento:"",razaoSocial:"",endereco:{rua:"",numero:"",bairro:"",cidade:"",estado:"",cep:""}}};async function u0e(e){var s,l,u,c;const t=e==null?void 0:e.aguardarRetorno;let o,r=(s=e==null?void 0:e.nfse)==null?void 0:s.situacao,a,i,n;if(a=$utils.clonarV2(e==null?void 0:e.nfse),a.tomador.endereco.cep=(l=a.tomador.endereco.cep)==null?void 0:l.replace(/\D+/g,""),Object.keys(a.servico.valores).forEach(d=>{a.servico.valores[d]=$utils.arredondar(a.servico.valores[d])}),n=String(a.servico.municipioPrestacaoServico)!=="3543402",!n){const d=await $db.configuracoes.leValorComFiltroEmpresa("nfse.motor");n=(d==null?void 0:d.toLowerCase())==="plugnotas"}if(n){if(console.log("emitindo via plugNotas"),!(a!=null&&a.protocoloRetorno))try{await $db.configuracoes.leValorComFiltroEmpresa("nfse.zerarIss")==="sim"&&a.tomador.endereco.cidade!==a.servico.municipioPrestacaoServico&&(a.servico.valores.valorIss=0);const m=await $api.plugnotas.nfse.montarJsonParaPlugNotas(a);o=await $api.plugnotas.nfse.transmitir(m),a.mensagemDeRetorno=o==null?void 0:o.mensagem,a.protocoloRetorno=o==null?void 0:o.protocolo,r="Protocolada"}catch(d){throw console.log(d.message),new Error("db.nfse.sincronizarLote: N\xE3o foi poss\xEDvel estabelecer comunica\xE7\xE3o com o servidor")}return a!=null&&a.protocoloRetorno&&(i=await $api.plugnotas.nfse.consultar(a.protocoloRetorno),a.plugNotasConsulta=i,(i==null?void 0:i.situacao)==="CONCLUIDO"&&(r="Enviada",a.numero=i.numeroNfse,a.numeroLote=i.lote,a.identificacaoRps.numero=i.numero,a.xml=i.xml,a.mensagemDeRetorno=null),(i==null?void 0:i.situacao)==="PROCESSANDO"&&(r="Protocolada"),(i==null?void 0:i.situacao)==="REJEITADO"&&(a.mensagemDeRetorno=i==null?void 0:i.mensagem,a.protocoloRetorno=null,r="Rascunho")),{nfse:a,situacao:r}}if(!n){try{let d=$utils.clonarV2(a);if(~["07660198000189","09492015000199"].indexOf(d.prestador.documento)){const{baseCalculo:f,aliquota:p}=d.servico.valores;let g=f*(p/100);d.servico.valores.valorIss=$utils.arredondaAbnt5891(g)}d.tomador.documento===""&&(delete d.tomador,d.tomador={documento:"00000000000"});const m=new Headers;m.append("Content-Type","application/json; charset=utf-8"),o=await fetch("https://api.b15.com.br/integradorjs/nfse/emitir",{method:"POST",headers:m,body:JSON.stringify({nfse:d,aguardarRetorno:t})}),o=await o.json()}catch(d){throw console.log(d.message),new Error("db.nfse.sincronizarLote: N\xE3o foi poss\xEDvel estabelecer comunica\xE7\xE3o com o servidor")}return a.xml=o==null?void 0:o.xml,a.protocoloRetorno=a.protocoloRetorno||(o==null?void 0:o.protocoloRetorno),a.mensagemDeRetorno=null,r="Protocolada",o!=null&&o.numeroDaNfse&&(a.numero=o.numeroDaNfse,a.link=o.linkNfse,r="Enviada"),!(o!=null&&o.numeroDaNfse)&&(o==null?void 0:o.mensagemDeRetorno)&&(o==null?void 0:o.mensagemDeRetorno)!=="Tempo excedido."&&Number((u=o==null?void 0:o.mensagemDeRetorno)==null?void 0:u.codigo)!==99999&&(a.mensagemDeRetorno=o.mensagemDeRetorno,a.protocoloRetorno=null,r="Rascunho"),((o==null?void 0:o.mensagemDeRetorno)==="Tempo excedido."||Number((c=o==null?void 0:o.mensagemDeRetorno)==null?void 0:c.codigo)===99999)&&(a.mensagemDeRetorno=o.mensagemDeRetorno),{nfse:a,situacao:r}}}function d0e(e){var n,s,l,u,c,d,m,f,p,g,b,x,_,y,I;const t=[],o=new DOMParser,r=new XMLSerializer,a=o.parseFromString(e,"text/xml");let i;if(i=o.parseFromString(e,"text/xml"),i.getElementsByTagName("ListaNfse")[0],!i.getElementsByTagName("ListaNfse")[0])throw new Error("db.nfse.sincronizarLote: Pedido n\xE3o encontrado");i.getElementsByTagName("ListaNfse")[0].textContent="",i=r.serializeToString(i);for(const S of Array.from(a.getElementsByTagName("CompNfse"))){let O,F,M,E,D;D=o.parseFromString(i,"text/xml"),D.getElementsByTagName("ListaNfse")[0].appendChild(S),D=r.serializeToString(D);const P={identificacaoPrestador:"",identificacaoTomador:"",dataEmissaoRps:"",numero:"",numeroRps:"",serie:"",xmlStr:D};M=(s=(n=S.getElementsByTagName("tc:IdentificacaoPrestador")[0])==null?void 0:n.getElementsByTagName("tc:Cpf")[0])==null?void 0:s.textContent,E=(u=(l=S.getElementsByTagName("tc:IdentificacaoPrestador")[0])==null?void 0:l.getElementsByTagName("tc:Cnpj")[0])==null?void 0:u.textContent,O=(d=(c=S.getElementsByTagName("tc:IdentificacaoTomador")[0])==null?void 0:c.getElementsByTagName("tc:Cpf")[0])==null?void 0:d.textContent,F=(f=(m=S.getElementsByTagName("tc:IdentificacaoTomador")[0])==null?void 0:m.getElementsByTagName("tc:Cnpj")[0])==null?void 0:f.textContent,P.identificacaoPrestador=M!=null?M:E,P.identificacaoTomador=O!=null?O:F,P.dataEmissaoRps=(p=S.getElementsByTagName("tc:DataEmissaoRps")[0])==null?void 0:p.textContent,P.numero=Number((b=(g=S.getElementsByTagName("tc:InfNfse")[0])==null?void 0:g.getElementsByTagName("tc:Numero")[0])==null?void 0:b.textContent),P.numeroRps=Number((_=(x=S.getElementsByTagName("tc:IdentificacaoRps")[0])==null?void 0:x.getElementsByTagName("tc:Numero")[0])==null?void 0:_.textContent),P.serie=Number((I=(y=S.getElementsByTagName("tc:IdentificacaoRps")[0])==null?void 0:y.getElementsByTagName("tc:Serie")[0])==null?void 0:I.textContent),!Object.values(P).some(N=>!N)&&t.push(P)}return t}async function f0e(e,t){var o,r;for(const{docFiscal:a}of e)try{const i=(r=JSON.parse((o=a.json)!=null?o:null))==null?void 0:r.rps;t(i,"Solicitando URL impress\xE3o..."),await sF(a.id)}catch{console.log("N\xE3o foi poss\xEDvel obter URL de impress\xE3o: ",a)}}async function sF(e){var a,i,n,s;let t,o,r;if(t=await $db.documentoFiscalEletronico.ler({id:e}),o=$utils.clonarV2(t),!t.id)throw new Error("db.nfse.sincronizarLote: N\xE3o foi poss\xEDvel obter o documento fiscal");if(r=(i=JSON.parse((a=t.json)!=null?a:null))==null?void 0:i.rps,!r)throw new Error("db.nfse.sincronizarLote: Dados de RPS n\xE3o informados");if((n=r.plugNotasConsulta)!=null&&n.pdf){if(/^data:application\/pdf;base64,.+$/.test(r.pdf))return r.pdf;const l=await $api.plugnotas.nfse.imprimirNFSe(r.plugNotasConsulta.id);r.pdf=l;const u={...t,json:JSON.stringify({rps:r})};return await $db.documentoFiscalEletronico.grava({atual:u,original:t}),l}if(!((s=r.plugNotasConsulta)!=null&&s.pdf)){if(console.log("API Geeks"),r!=null&&r.link)return r.link;let l,u,c;if(l=new Headers,l.append("Content-Type","application/json; charset=utf-8"),u=await fetch("https://api.b15.com.br/integradorjs/nfse/obter-link",{method:"POST",headers:l,body:JSON.stringify(r)}),c=await u.json(),!(c!=null&&c.url))throw new Error("db.nfse.sincronizarLote: URL n\xE3o encontrada");return r.link=c.url,o.json=JSON.stringify({rps:r}),await $db.documentoFiscalEletronico.grava({atual:o,original:t}),c.url}}async function m0e(e){var o,r;const t=[];e.forEach(a=>{a.dataEmissaoRps=new Date(a.dataEmissaoRps)});for(const a of await $db.documentoFiscalEletronico.ler({tipo:"NFSe",situacao:"Protocolada"})){const i=(r=JSON.parse((o=a.json)!=null?o:null))==null?void 0:r.rps;let n,s;s=new Date(i==null?void 0:i.dataEmissao),s=new Date(s.setSeconds(s.getSeconds(),0)),n=e.find(l=>{var u,c;return l.identificacaoPrestador===((u=i==null?void 0:i.prestador)==null?void 0:u.documento)&&l.identificacaoTomador===((c=i==null?void 0:i.tomador)==null?void 0:c.documento)&&l.dataEmissaoRps>=s&&l.dataEmissaoRps<=s&&Number(l.numeroRps)===Number(i==null?void 0:i.identificacaoRps.numero)&&Number(l.serie)===Number(i==null?void 0:i.identificacaoRps.serie)}),n&&t.push({docFiscal:a,dadosXml:n})}return t.sort((a,i)=>{var l,u,c,d,m,f,p,g;const n=(d=(c=(u=JSON.parse((l=a.docFiscal.json)!=null?l:null))==null?void 0:u.rps)==null?void 0:c.identificacaoRps)==null?void 0:d.numero,s=(g=(p=(f=JSON.parse((m=i.docFiscal.json)!=null?m:null))==null?void 0:f.rps)==null?void 0:p.identificacaoRps)==null?void 0:g.numero;return n>s?1:-1}),t}async function p0e(e,t){var o,r;for(const{docFiscal:a,dadosXml:i}of e){const n=$utils.clonarV2(a),s=(await $db.documentoFiscalEletronicoXml.ler({idDocumentoFiscalEletronico:a.id}))[0],l=$utils.clonarV2(s),u=(r=JSON.parse((o=a.json)!=null?o:null))==null?void 0:r.rps;t(u,"Sincronizando..."),u.numero=i.numero,u.xml=i.xmlStr,u.mensagemDeRetorno="",a.json=JSON.stringify({rps:u}),a.situacao="Enviada",s.situacao="Enviada",s.xmlEnvio=i.xmlStr,await $db.documentoFiscalEletronico.grava({atual:a,original:n}),await $db.documentoFiscalEletronicoXml.grava({atual:s,original:l})}}async function h0e(e,t){var l,u,c,d;e=e!=null?e:{};const o=new Headers,r={inscricaoMunicipal:(l=e.inscricaoMunicipal)==null?void 0:l.replace(/\D+/g,""),cnpj:(u=e.cnpj)==null?void 0:u.replace(/\D+/g,""),periodo:{inicial:new Date(new Date((c=e==null?void 0:e.periodo)==null?void 0:c.inicial).toDateString()),final:new Date(new Date((d=e==null?void 0:e.periodo)==null?void 0:d.final).toDateString())}};let a,i;if(!r.inscricaoMunicipal)throw new Error("db.nfse.sincronizarLote: Empresa sem inscri\xE7\xE3o municipal");if(!r.cnpj)throw new Error("db.nfse.sincronizarLote: Empresa sem CNPJ");if(!(r.periodo.inicial<=r.periodo.final))throw new Error("db.nfse.sincronizarLote: Per\xEDodo incorreto");if(o.append("Content-Type","application/json; charset=utf-8"),a=await fetch("https://api.b15.com.br/integradorjs/nfse/sincronizar-lote",{method:"POST",headers:o,body:JSON.stringify({...r,periodo:{inicial:r.periodo.inicial.toISOString().replace(/T.+$/,""),final:r.periodo.final.toISOString().replace(/T.+$/,"")}})}),i=await a.json(),i!=null&&i.msgErro)throw new Error(`db.nfse.sincronizarLote: ${i.msgErro}`);if(!(i!=null&&i.xml))throw new Error("db.nfse.sincronizarLote: Pedido n\xE3o retornado");const n=d0e(i.xml),s=await m0e(n);await p0e(s,t),await f0e(s,t)}var v0e={emitir:u0e,sincronizarLote:h0e,solicitarURLImpressao:sF,modelo:c0e};async function g0e(e){var t;try{const{nota:o,elogios:r,sugestoes:a,observacao:i}=e!=null?e:{};let n,s,l,u;n=JSON.parse((t=localStorage.getItem("clienteSistema"))!=null?t:null),s=JSON.stringify($db.usuario.obterDispositivo()),l=localStorage.getItem("bancoDeDados"),u=$db.usuario.logado.cpf.replace(/\D/g,"");let c={funcao:"A55FF73B-A806-4852-AE59-0E03AE16CCDD",id:$utils.uuid(),bancoDados:l,idSistema:n.idSistema,sistema:n.sistema,cpfUsuario:u,dataHora:new Date,nota:o,elogios:r,sugestoes:a,observacao:i,idDispositivoCliente:localStorage.getItem("dispositivoCliente"),dispositivo:s};await $utils.geeksApi({nps:c})}catch(o){console.error(o)}}var _0e={gravar:g0e};async function b0e({os:e,itensOs:t}){let o=0;for(const r of t)o+=r.subTotal;return e.subTotal=$utils.arredondar(o),e.totalDocumento=e.subTotal,{os:e}}async function y0e({os:e,itemOs:t,campoAlterado:o}){o==="descontoPercentualItem"&&(t.descontoItem=$utils.arredondar(t.descontoPercentualItem/100*t.valorItem)),o==="descontoItem"&&(t.descontoPercentualItem=$utils.arredondar(t.descontoItem/t.valorItem*100)),o==="valorItem"&&(t.valorItem<t.valorOriginal&&(t.valorItem=t.valorOriginal),t.descontoItem=0,t.descontoPercentualItem=0,t.subTotal=t.valorItem);let r=t.valorItem-t.descontoItem;return $utils.arredondar(r)>$utils.arredondar(t.valorItem)&&(r=t.valorItem,t.descontoPercentualItem=t.descontoItem=0),t.subTotal=$utils.arredondar(r*t.quantidade),t.total=t.subTotal,t.valorReal=$utils.arredondar(r),t.valorRealTotal=t.total,{itemOs:t}}const C0e={id:"",tipo:"Ordem de Servi\xE7o",operacao:"Normal",status:"",idEmpresa:"",descricaoEmpresa:"",numeroDocumentoEmpresa:"",idContato:"",descricaoContato:"",numeroDocumentoContato:"",idContatoResponsavel:"",dataHoraEmissao:"",dataHoraRealizado:"",dataHoraPrevisto:"",documentoId:"",documentoTipo:"",subTotal:0,totalDocumento:0};var x0e={vazio:C0e,async leAdmOSOnline({entregueInicio:e,entregueFim:t,empresas:o}){let r=[];for(const a of o||[])r.push(`'${a}'`);return r=r.join(","),mo(`select
      os.id,
      os.codigoDocumento,
      os.status,
      os.descricao,
      os.dataHoraEmissao,
      os.dataHoraPrevisto,
      os.dataHoraFinalizado,
      os.dataHoraRetorno,
      os.codigoContato,
      os.codigoEmpresa,
      os.descricaoEmpresa,
      os.codigoContatoResponsavel,
      responsavel.nome nomeResponsavel,
      os.descricaoContato nomeCliente,
      venda.numero numeroVenda,
      os.numero numeroOS
    from Documento os
    left join contato responsavel on responsavel.codigoContato = os.codigoContatoResponsavel
    left join documento venda on venda.codigoDocumento = os.documentoCodigo
    where os.tipo='Ordem de Servi\xE7o'
      ${r?`and os.idEmpresa in (${r})`:""}
      and os.status not in ('Or\xE7amento', 'Cancelado', 'N\xE3o aprovado', '')
      and (os.status <> 'Entregue' or cast(os.dataHoraFinalizado as date) between ${Lp(e)} and ${Lp(t)})`)},async trocaStatusOnline(e){return mo(`set nocount on
      update documento set
          status = ${yt(e.statusNovo)},
          dataHoraFinalizado = case ${yt(e.statusNovo)} when 'Entregue' then getdate() else null end
        where codigoDocumento = ${jt(e.codigoDocumento)}
      insert into documentoStatus (codigoDocumento, codigoDocumentoItem, codigoContatoResponsavel, operacao,
        statusOriginal, statusFinalizado, dataHoraEmissao, cpfUsuario, observacao)
      values(${jt(e.codigoDocumento)}, NULL, ${jt(e.codigoContatoResponsavel)}, 'Mudan\xE7a status OS',
        ${yt(e.statusAtual)}, ${yt(e.statusNovo)}, getdate(), ${yt(e.cpfUsuario)}, ${yt(e.observacao,"")})`)},calculaTotal:b0e,calculaTotalItem:y0e};const w0e=[{codigo:132,nome:"Afeganistao"},{codigo:7560,nome:"Africa Do Sul"},{codigo:175,nome:"Albania, Republica Da"},{codigo:230,nome:"Alemanha"},{codigo:370,nome:"Andorra"},{codigo:400,nome:"Angola"},{codigo:418,nome:"Anguilla"},{codigo:434,nome:"Antigua E Barbuda"},{codigo:477,nome:"Antilhas Holandesas"},{codigo:531,nome:"Arabia Saudita"},{codigo:590,nome:"Argelia"},{codigo:639,nome:"Argentina"},{codigo:647,nome:"Armenia, Republica Da"},{codigo:655,nome:"Aruba"},{codigo:698,nome:"Australia"},{codigo:728,nome:"Austria"},{codigo:736,nome:"Azerbaijao, Republica Do"},{codigo:779,nome:"Bahamas, Ilhas"},{codigo:809,nome:"Bahrein, Ilhas"},{codigo:9950,nome:"Bancos Centrais"},{codigo:817,nome:"Bangladesh"},{codigo:833,nome:"Barbados"},{codigo:850,nome:"Belarus, Republica Da"},{codigo:876,nome:"Belgica"},{codigo:884,nome:"Belize"},{codigo:2291,nome:"Benin"},{codigo:906,nome:"Bermudas"},{codigo:973,nome:"Bolivia"},{codigo:981,nome:"Bosnia-herzegovina (republica Da)"},{codigo:1015,nome:"Botsuana"},{codigo:1058,nome:"Brasil"},{codigo:1082,nome:"Brunei"},{codigo:1112,nome:"Bulgaria, Republica Da"},{codigo:310,nome:"Burkina Faso"},{codigo:1155,nome:"Burundi"},{codigo:1198,nome:"Butao"},{codigo:1279,nome:"Cabo Verde, Republica De"},{codigo:1457,nome:"Camaroes"},{codigo:1414,nome:"Camboja"},{codigo:1490,nome:"Canada"},{codigo:1511,nome:"Canarias, Ilhas"},{codigo:1546,nome:"Catar"},{codigo:1376,nome:"Cayman, Ilhas"},{codigo:1538,nome:"Cazaquistao, Republica Do"},{codigo:7889,nome:"Chade"},{codigo:1589,nome:"Chile"},{codigo:1600,nome:"China, Republica Popular"},{codigo:1635,nome:"Chipre"},{codigo:5118,nome:"Christmas,ilha (navidad)"},{codigo:7412,nome:"Cingapura"},{codigo:1651,nome:"Cocos(keeling),ilhas"},{codigo:1694,nome:"Colombia"},{codigo:1732,nome:"Comores, Ilhas"},{codigo:1775,nome:"Congo"},{codigo:8885,nome:"Congo, Republica Democratica Do"},{codigo:1830,nome:"Cook, Ilhas"},{codigo:1872,nome:"Coreia, Rep.pop.democratica"},{codigo:1902,nome:"Coreia, Republica Da"},{codigo:1937,nome:"Costa Do Marfim"},{codigo:1961,nome:"Costa Rica"},{codigo:1988,nome:"Coveite"},{codigo:1953,nome:"Croacia (republica Da)"},{codigo:1996,nome:"Cuba"},{codigo:2321,nome:"Dinamarca"},{codigo:7838,nome:"Djibuti"},{codigo:2356,nome:"Dominica,ilha"},{codigo:2402,nome:"Egito"},{codigo:6874,nome:"El Salvador"},{codigo:2445,nome:"Emirados Arabes Unidos"},{codigo:2399,nome:"Equador"},{codigo:2437,nome:"Eritreia"},{codigo:2470,nome:"Eslovaca, Republica"},{codigo:2461,nome:"Eslovenia, Republica Da"},{codigo:2453,nome:"Espanha"},{codigo:2496,nome:"Estados Unidos"},{codigo:2518,nome:"Estonia, Republica Da"},{codigo:2534,nome:"Etiopia"},{codigo:2550,nome:"Falkland (ilhas Malvinas)"},{codigo:2593,nome:"Feroe, Ilhas"},{codigo:8702,nome:"Fiji"},{codigo:2674,nome:"Filipinas"},{codigo:2712,nome:"Finlandia"},{codigo:1619,nome:"Formosa (taiwan)"},{codigo:2755,nome:"Franca"},{codigo:2810,nome:"Gabao"},{codigo:2852,nome:"Gambia"},{codigo:2895,nome:"Gana"},{codigo:2917,nome:"Georgia, Republica Da"},{codigo:2933,nome:"Gibraltar"},{codigo:2976,nome:"Granada"},{codigo:3018,nome:"Grecia"},{codigo:3050,nome:"Groenlandia"},{codigo:3093,nome:"Guadalupe"},{codigo:3131,nome:"Guam"},{codigo:3174,nome:"Guatemala"},{codigo:1504,nome:"Guernsey, Ilha Do Canal (inclui Alderney E Sark)"},{codigo:3379,nome:"Guiana"},{codigo:3255,nome:"Guiana Francesa"},{codigo:3298,nome:"Guine"},{codigo:3344,nome:"Guine-bissau"},{codigo:3310,nome:"Guine-equatorial"},{codigo:3417,nome:"Haiti"},{codigo:3450,nome:"Honduras"},{codigo:3514,nome:"Hong Kong"},{codigo:3557,nome:"Hungria, Republica Da"},{codigo:3573,nome:"Iemen"},{codigo:3611,nome:"India"},{codigo:3654,nome:"Indonesia"},{codigo:3727,nome:"Ira, Republica Islamica Do"},{codigo:3697,nome:"Iraque"},{codigo:3751,nome:"Irlanda"},{codigo:3794,nome:"Islandia"},{codigo:3832,nome:"Israel"},{codigo:3867,nome:"Italia"},{codigo:3913,nome:"Jamaica"},{codigo:3999,nome:"Japao"},{codigo:1508,nome:"Jersey, Ilha Do Canal"},{codigo:3964,nome:"Johnston, Ilhas"},{codigo:4030,nome:"Jordania"},{codigo:4111,nome:"Kiribati"},{codigo:4200,nome:"Laos, Rep.pop.democr.do"},{codigo:4260,nome:"Lesoto"},{codigo:4278,nome:"Letonia, Republica Da"},{codigo:4316,nome:"Libano"},{codigo:4340,nome:"Liberia"},{codigo:4383,nome:"Libia"},{codigo:4405,nome:"Liechtenstein"},{codigo:4421,nome:"Lituania, Republica Da"},{codigo:4456,nome:"Luxemburgo"},{codigo:4472,nome:"Macau"},{codigo:4499,nome:"Macedonia, Ant.rep.iugoslava"},{codigo:4502,nome:"Madagascar"},{codigo:4525,nome:"Madeira, Ilha Da"},{codigo:4553,nome:"Malasia"},{codigo:4588,nome:"Malavi"},{codigo:4618,nome:"Maldivas"},{codigo:4642,nome:"Mali"},{codigo:4677,nome:"Malta"},{codigo:3595,nome:"Man, Ilha De"},{codigo:4723,nome:"Marianas Do Norte"},{codigo:4740,nome:"Marrocos"},{codigo:4766,nome:"Marshall,ilhas"},{codigo:4774,nome:"Martinica"},{codigo:4855,nome:"Mauricio"},{codigo:4880,nome:"Mauritania"},{codigo:4936,nome:"Mexico"},{codigo:930,nome:"Mianmar (birmania)"},{codigo:4995,nome:"Micronesia"},{codigo:4901,nome:"Midway, Ilhas"},{codigo:5053,nome:"Mocambique"},{codigo:4944,nome:"Moldavia, Republica Da"},{codigo:4952,nome:"Monaco"},{codigo:4979,nome:"Mongolia"},{codigo:4985,nome:"Montenegro"},{codigo:5010,nome:"Montserrat,ilhas"},{codigo:5070,nome:"Namibia"},{codigo:5088,nome:"Nauru"},{codigo:5177,nome:"Nepal"},{codigo:5215,nome:"Nicaragua"},{codigo:5258,nome:"Niger"},{codigo:5282,nome:"Nigeria"},{codigo:5312,nome:"Niue,ilha"},{codigo:5355,nome:"Norfolk,ilha"},{codigo:5380,nome:"Noruega"},{codigo:5428,nome:"Nova Caledonia"},{codigo:5487,nome:"Nova Zelandia"},{codigo:5568,nome:"Oma"},{codigo:9970,nome:"Organizacoes Internacionais"},{codigo:5665,nome:"Pacifico,ilhas Do (possessao Dos Eua)"},{codigo:5738,nome:"Paises Baixos (holanda)"},{codigo:5754,nome:"Palau"},{codigo:5800,nome:"Panama"},{codigo:5452,nome:"Papua Nova Guine"},{codigo:5762,nome:"Paquistao"},{codigo:5860,nome:"Paraguai"},{codigo:5894,nome:"Peru"},{codigo:5932,nome:"Pitcairn,ilha"},{codigo:5991,nome:"Polinesia Francesa"},{codigo:6033,nome:"Polonia, Republica Da"},{codigo:6114,nome:"Porto Rico"},{codigo:6076,nome:"Portugal"},{codigo:9903,nome:"Provisao De Navios E Aeronaves"},{codigo:6238,nome:"Quenia"},{codigo:6254,nome:"Quirguiz, Republica"},{codigo:6289,nome:"Reino Unido"},{codigo:6408,nome:"Republica Centro-africana"},{codigo:6475,nome:"Republica Dominicana"},{codigo:6602,nome:"Reuniao, Ilha"},{codigo:6700,nome:"Romenia"},{codigo:6750,nome:"Ruanda"},{codigo:6769,nome:"Russia, Federacao Da"},{codigo:6858,nome:"Saara Ocidental"},{codigo:6781,nome:"Saint Kitts E Nevis"},{codigo:6777,nome:"Salomao, Ilhas"},{codigo:6904,nome:"Samoa"},{codigo:6912,nome:"Samoa Americana"},{codigo:6971,nome:"San Marino"},{codigo:7102,nome:"Santa Helena"},{codigo:7153,nome:"Santa Lucia"},{codigo:6955,nome:"Sao Cristovao E Neves,ilhas"},{codigo:7005,nome:"Sao Pedro E Miquelon"},{codigo:7200,nome:"Sao Tome E Principe, Ilhas"},{codigo:7056,nome:"Sao Vicente E Granadinas"},{codigo:7285,nome:"Senegal"},{codigo:7358,nome:"Serra Leoa"},{codigo:7370,nome:"Servia"},{codigo:7315,nome:"Seychelles"},{codigo:7447,nome:"Siria, Republica Arabe Da"},{codigo:7480,nome:"Somalia"},{codigo:7501,nome:"Sri Lanka"},{codigo:7544,nome:"Suazilandia"},{codigo:7595,nome:"Sudao"},{codigo:7641,nome:"Suecia"},{codigo:7676,nome:"Suica"},{codigo:7706,nome:"Suriname"},{codigo:7722,nome:"Tadjiquistao, Republica Do"},{codigo:7765,nome:"Tailandia"},{codigo:7803,nome:"Tanzania, Rep.unida Da"},{codigo:7919,nome:"Tcheca, Republica"},{codigo:7820,nome:"Territorio Brit.oc.indico"},{codigo:7951,nome:"Timor Leste"},{codigo:8001,nome:"Togo"},{codigo:8109,nome:"Tonga"},{codigo:8052,nome:"Toquelau,ilhas"},{codigo:8150,nome:"Trinidad E Tobago"},{codigo:8206,nome:"Tunisia"},{codigo:8230,nome:"Turcas E Caicos,ilhas"},{codigo:8249,nome:"Turcomenistao, Republica Do"},{codigo:8273,nome:"Turquia"},{codigo:8281,nome:"Tuvalu"},{codigo:8311,nome:"Ucrania"},{codigo:8338,nome:"Uganda"},{codigo:8451,nome:"Uruguai"},{codigo:8478,nome:"Uzbequistao, Republica Do"},{codigo:5517,nome:"Vanuatu"},{codigo:8486,nome:"Vaticano, Est.da Cidade Do"},{codigo:8508,nome:"Venezuela"},{codigo:8583,nome:"Vietna"},{codigo:8630,nome:"Virgens,ilhas (britanicas)"},{codigo:8664,nome:"Virgens,ilhas (e.u.a.)"},{codigo:8737,nome:"Wake, Ilha"},{codigo:8907,nome:"Zambia"},{codigo:6653,nome:"Zimbabue"},{codigo:8958,nome:"Zona Do Canal Do Panama"}];var I0e={lista:w0e};const E0e={grava:async()=>{},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().perfilContabilItem.get(e.id)||{}:{};let t={};"idPerfilContabil"in e&&e.idPerfilContabil&&(t.idPerfilContabil=e.idPerfilContabil),"idCfop"in e&&e.idCfop&&(t.idCfop=e.idCfop);let o=Z().perfilContabilItem;return Object.keys(t).length&&(o=o.where(t)),e.and&&(o=o.filter(r=>{for(const a in e.and)if(r[a]!==e.and[a])return!1;return!0})),await o.toArray()||[]}};var S0e={async verificarPermissao(e,t,o){const r=await Pt.objeto.filter(u=>u.nomeObjeto===o).first()||{};if(r.menuDesenvolvimento&&!(je.usuario.logado.desenvolvedor&&je.usuario.logado.desenvolvedor()))return!1;const a=await Pt.usuarioPermissaoSistema.filter(u=>u.idUsuario===e&&u.idClienteSistema===t).toArray(),i=a.map(u=>u.id),n=a.map(u=>u.idGrupo),s=await Pt.usuarioPermissao.filter(u=>i.includes(u.idUsuarioPermissaoSistema)&&u.idObjeto===r.id&&!!u.permitir).toArray(),l=await Pt.grupoPermissao.filter(u=>n.includes(u.idGrupo)&&u.idObjeto===r.id&&!!u.permitir).toArray();return s.length>0||l.length>0},async objeto(e){const t=JSON.parse(localStorage.getItem("usuario"));if(!t)return!1;const o=JSON.parse(localStorage.getItem("clienteSistema"));if(!o.idSistema||!o.idClienteSistema)return!1;if(t.administrador){const r=await Pt.objeto.filter(i=>i.nomeObjeto===e).first()||{};return!!(await Pt.sistemaObjeto.filter(i=>i.idObjeto===r.id&&i.idSistema===o.idSistema&&(!i.idClienteGeeks||i.idClienteGeeks===o.idCliente)).first()||{}).id}return this.verificarPermissao(t.id,o.idClienteSistema,e)},async objetoClienteSistema(e){let t,o,r;return t=JSON.parse(localStorage.getItem("clienteSistema")),!(!t.idSistema||!t.idClienteSistema||(o=await Pt.objeto.filter(a=>a.nomeObjeto===e).first()||{},r=await Pt.sistemaObjeto.filter(a=>a.idObjeto===o.id&&a.idSistema===t.idSistema&&(!a.idClienteGeeks||a.idClienteGeeks===t.idCliente)).first()||{},!r.id))},async menu(e=!1){const t=JSON.parse(localStorage.getItem("usuario"));if(!t)return[];const o=JSON.parse(localStorage.getItem("clienteSistema")),r=await Pt.sistemaObjeto.filter(c=>c.idSistema===o.idSistema&&(!c.idClienteGeeks||c.idClienteGeeks===o.idCliente)).toArray(),a=r.map(c=>c.idObjeto),n=(await Pt.objeto.filter(c=>!!c.ativo&&!!c.visivelMenu&&!!c.menuDesenvolvimento===e&&a.includes(c.id)).toArray()).reduce((c,d)=>(c[d.id]=d,c),{});for(const c of r)c.idObjeto&&n[c.idObjeto]&&(c.objeto=n[c.idObjeto]);let s=r.filter(c=>!!c.objeto&&!!(c.rota||c.objeto.rota)).sort((c,d)=>(c.ordem||99999)-(d.ordem||99999)).map(c=>{let d=null;try{d=JSON.parse(c.rota||c.objeto.rota||"{}")}catch(m){console.error("JSON.parse error na rota do menu objeto:",c.objeto.nomeObjeto,`
`,String(m))}return{id:c.id,idObjeto:c.idObjeto,idPai:c.idPai,nomeObjeto:c.objeto.nomeObjeto,descricao:c.objeto.descricao,icone:c.objeto.icone,rota:d}});if(!(!!t.administrador&&(t.grupoInterno===1||t.grupoInterno===2&&[37,23,42,40,52,53,57,58,63,68].includes(o.codigoSistema)))){const c=await Pt.usuarioPermissaoSistema.filter(_=>_.idUsuario===t.id&&_.idClienteSistema===o.idClienteSistema).toArray(),d=c.map(_=>_.id),m=c.map(_=>_.idGrupo),p=(await Pt.grupo.filter(_=>_.idClienteSistema===o.idClienteSistema&&m.includes(_.id)).toArray()).map(_=>_.id),g=await Pt.grupoPermissao.filter(_=>p.includes(_.idGrupo)&&!!_.permitir).toArray(),b=await Pt.usuarioPermissao.filter(_=>d.includes(_.idUsuarioPermissaoSistema)&&!!_.permitir).toArray(),x=[...g.map(_=>_.idObjeto),...b.map(_=>_.idObjeto)];s=s.filter(_=>x.includes(_.idObjeto))}const u=s.reduce((c,d)=>(c[d.idObjeto]=d,c),{});for(const c of s)c.idPai&&u[c.idPai]&&(u[c.idPai].filhos||(u[c.idPai].filhos=[]),u[c.idPai].filhos.push(c));return s.filter(c=>!c.idPai)},async telaInicial(){let e={name:"AtendimentoVenda"},t=null;const o=JSON.parse(localStorage.getItem("usuario")),r=JSON.parse(localStorage.getItem("clienteSistema")),a=await Pt.usuarioPermissaoSistema.filter(i=>i.idUsuario===o.id&&i.idClienteSistema===r.idClienteSistema).first();if(a&&(t=a.codigoObjetoInicialMobile||a.codigoObjetoInicial),!t){const i=await Pt.sistema.get(r.idSistema);i&&(t=i.codigoObjetoInicialMobile||i.codigoObjetoInicial)}if(t){const i=await Pt.objeto.filter(n=>n.codigoObjeto===Number(t)).first();if(!!i&&!!i.rota)try{e=JSON.parse(i.rota)}catch(n){console.error(`Erro no JSON.parse da rota do objeto
`,n.toString())}}return e}};const Fv={foto:"",fotoOriginal:"",medidas:{},calcularDistanciasCartao:function(){let e=Fv.medidas;e.cartao.distanciapx=Math.hypot(Math.abs(e.cartao.p2.left-e.cartao.p1.left),Math.abs(e.cartao.p1.top-e.cartao.p2.top)),e.fator=e.cartao.distanciapx/e.cartao.tamanho,e.dip.total=Math.hypot(Math.abs(e.olhoDireito.centroOlho.left-e.olhoEsquerdo.centroOlho.left),Math.abs(e.olhoDireito.centroOlho.top-e.olhoEsquerdo.centroOlho.top))/e.fator;const t=(e.olhoDireito.centroOlho.top+e.olhoEsquerdo.centroOlho.top)/2;e.dnp.od=Math.hypot(Math.abs(e.olhoDireito.centroOlho.left-e.nariz.left),Math.abs(t-e.olhoDireito.centroOlho.top))/e.fator,e.dnp.oe=Math.hypot(Math.abs(e.olhoEsquerdo.centroOlho.left-e.nariz.left),Math.abs(t-e.olhoEsquerdo.centroOlho.top))/e.fator},calcularDistancias:function(){let e=Fv.medidas;const t=Math.hypot(Math.abs(e.olhoDireito.superior.left-e.olhoEsquerdo.superior.left),Math.abs(e.olhoDireito.superior.top-e.olhoEsquerdo.superior.top))/e.tamanhoArmacao;e.fator=t,e.tamanhoArmacaoPx=e.tamanhoArmacao*t,e.dip.total=Math.hypot(Math.abs(e.olhoDireito.centroOlho.left-e.olhoEsquerdo.centroOlho.left),Math.abs(e.olhoDireito.centroOlho.top-e.olhoEsquerdo.centroOlho.top))/t,e.dip.od.altura=(e.olhoDireito.inferior.top-e.olhoDireito.centroOlho.top)/t,e.dip.oe.altura=(e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.centroOlho.top)/t,e.dnp.od=(e.tamanhoArmacaoPx/2-(e.olhoDireito.centroOlho.left-e.olhoDireito.superior.left))/t,e.dnp.oe=(e.tamanhoArmacaoPx/2-(e.olhoEsquerdo.superior.left-e.olhoEsquerdo.centroOlho.left))/t,e.ponte=(e.olhoEsquerdo.inferior.left-e.olhoDireito.inferior.left)/t,e.bifocalOlhoEsquerdo=e.olhoEsquerdo.bifocalAltura/t,e.bifocalOlhoDireito=e.olhoDireito.bifocalAltura/t,e.diagonal.distanciapx=Math.hypot(Math.abs(e.diagonal.p2.left-e.diagonal.p1.left),Math.abs(e.diagonal.p1.top-e.diagonal.p2.top)),e.diagonal.distancia=e.diagonal.distanciapx/t,e.alturaArmacaoPx=(e.olhoDireito.inferior.top-e.olhoDireito.superior.top+(e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.superior.top))/2,e.alturaArmacao=e.alturaArmacaoPx/t},gravar:async e=>{if(e=Na(e),!Object.keys(e.original||{}).length)await Z().json.put(e.atual),await Je("adicionar","json",e.atual.id,e.atual);else{const t=ra(e.original,e.atual);Object.keys(t).length&&(await Z().json.update(e.atual.id,t),await Je("atualizar","json",e.atual.id,t))}},ler:async e=>{var c,d,m,f,p;const t=$utils.tratamentoCompletoString((c=e==null?void 0:e.termoBusca)!=null?c:""),o=(d=e==null?void 0:e.recordsPerPage)!=null?d:25,r=(m=e==null?void 0:e.page)!=null?m:1,a=(r-1)*o,i=r*o,n=$erp().json.where({descricao:"Pupil\xF4metro"});let s=[],l,u;if(t){const g=t.split(" ");await n.each(x=>{delete x.json,s.push(x)});let b=s.length;for(let x=0;x<b;x++){const _=s[x],y=/^idEnvelope:/.test(_.referencia)?(f=_.referencia)==null?void 0:f.replace(/^idEnvelope:/,""):null;let I=/^idContato:/.test(_.referencia)?(p=_.referencia)==null?void 0:p.replace(/^idContato:/,""):null,S,O,F;if(!y&&!I){s.splice(x,1),x--,b--;continue}if(y){if(S=await $db.documento.ler({id:y}),!(S!=null&&S.idContato)){s.splice(x,1),x--,b--;continue}I=S.idContato}if(O=(await $db.contato.ler({filtros:{id:I}})).data,F=O[0],!(F!=null&&F.nome)){s.splice(x,1),x--,b--;continue}const M=$utils.tratamentoCompletoString(F.nome);for(const E of g)if(!~M.search(E)){s.splice(x,1),x--,b--;break}}l=Math.floor(s.length/o)+(s.length%o>0?1:0),u=s.length,s.sort((x,_)=>!x.dataCriacao||new Date(x.dataCriacao)>new Date(_.dataCriacao)?-1:1),s=s.slice(a,i),s=await $erp().json.where("id").anyOf(s.map(x=>x.id)).toArray()}if(!t){const g=await n.count();s=await n.offset(o*(r-1)).limit(o).toArray(),l=Math.floor(g/o)+(g%o>0?1:0),u=g}return{result:s,totalPages:l,totalRecords:u}},limpar:function(){this.foto="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",this.fotoOriginal="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",this.medidas={tipo:"",tamanhoArmacao:100,tamanhoArmacaoPx:0,alturaArmacao:0,alturaArmacaoPx:0,olhoDireito:{superior:{left:257,top:462},centroOlho:{left:421,top:549},inferior:{left:540,top:699},bifocalAltura:0},olhoEsquerdo:{superior:{left:950,top:463},centroOlho:{left:784,top:549},inferior:{left:665,top:699},bifocalAltura:0},nariz:{left:0,top:0},dip:{total:0,od:{altura:0},oe:{altura:0}},dnp:{od:0,oe:0},ponte:0,bifocal:!1,bifocalOlhoEsquerdo:0,bifocalOlhoDireito:0,fator:0,diagonal:{p1:{left:0,top:0},p2:{left:0,top:0},distancia:0,distanciapx:0},cartao:{p1:{left:0,top:0},p2:{left:0,top:0},distancia:0,distanciapx:0,tamanho:86.6}}}};Fv.limpar();const Ql={desempenhoGeeksApi:{consolidado:{quantidadeChamadas:0,tempoTotal:0,tempoMedio:0,tamanhoTotal:0,tamanhoMedio:0,errosComunicacao:0,qualidadeSinal:2},parciais:{}}};function A0e(){let e=0,t=0,o=0,r=0;const a=Ba.formatDate(Ba.subtractFromDate(new Date,{minutes:5}),"YYYY-MM-DDTHH:mm");for(const s in Ql.desempenhoGeeksApi.parciais)if(s<a)delete Ql.desempenhoGeeksApi.parciais[s];else{const l=Ql.desempenhoGeeksApi.parciais[s];e+=l.quantidadeChamadas,t+=l.tempoTotal,o+=l.tamanhoTotal,r+=l.errosComunicacao}const i=t/e,n=i<200?4:i<1e3?3:i<3e3?2:1;Ql.desempenhoGeeksApi.consolidado={quantidadeChamadas:e,tempoTotal:t,tempoMedio:i,tamanhoTotal:o,tamanhoMedio:o/e,velocidade:o/t,errosComunicacao:r,qualidadeSinal:n},Ql.modoSelecionado==="automatico"&&(n===1?set("mode","local"):set("mode","remoto"))}function T0e({horario:e,tempo:t,tamanho:o,erroComunicacao:r}){const a=Ba.formatDate(e,"YYYY-MM-DDTHH:mm");let{quantidadeChamadas:i=0,tempoTotal:n=0,tamanhoTotal:s=0,errosComunicacao:l=0}=Ql.desempenhoGeeksApi.parciais[a]||{};i++,n+=t,s+=o,l+=r,Ql.desempenhoGeeksApi.parciais[a]={quantidadeChamadas:i,tempoTotal:n,tamanhoTotal:s,errosComunicacao:l},A0e()}var O0e={contabilizarQualidadeSinal:T0e,desempenhoGeeksApi:Ql.desempenhoGeeksApi};async function D0e(e){var r;const{idDocumento:t}=e!=null?e:{};let o;if(!t)throw new Error("id da receita n\xE3o fornecido");return o=await $erp().json.where({descricao:"Optometria",referencia:`documento: ${t}`}).toArray(),(r=o==null?void 0:o[0])!=null?r:{}}async function P0e(e){const{original:t,atual:o,idDocumento:r}=e!=null?e:{};if(!Object.keys(t||{}).length)o.id=$utils.uuid(),o.descricao="Optometria",o.referencia=`documento: ${r}`,await $erp().json.put(o),await $utils.sincronismoEnviar("adicionar","json",o.id,o);else{let a;o.dataModificacao=$utils.dataAtual(),a=$utils.diferencaObjetos(t,o),Object.keys(a).length&&(await $erp().json.update(o.id,a),await $utils.sincronismoEnviar("atualizar","json",o.id,a))}}const M0e={obterOptometria:D0e,gravarOptometria:P0e,grava:async e=>{e.dadosNovos={documentoItem:[]},e.dadosNovos.documento={id:e.id,idEmpresa:e.idEmpresa,dataHoraEmissao:e.data,dataHoraFinalizado:e.validade,observacao:e.observacoes,tipo:"Prescri\xE7\xE3o",idContato:e.paciente.id,descricaoContato:e.paciente.nome},e.dadosNovos.documentoContato={id:e.medico.idDocumentoContato,idContato:e.medico.id,idDocumento:e.id,descricao:"Medico"};{let o=e.prescricao||{},r=[];r.push(((o.dioptria||{}).od||{}).longe||{}),r.push(((o.dioptria||{}).od||{}).medio||{}),r.push(((o.dioptria||{}).od||{}).perto||{}),r.push(((o.dioptria||{}).oe||{}).longe||{}),r.push(((o.dioptria||{}).oe||{}).medio||{}),r.push(((o.dioptria||{}).oe||{}).perto||{});const a=r.find(f=>f.status==="Longe"&&f.operacao==="Olho Direito"),i=r.find(f=>f.status==="Longe"&&f.operacao==="Olho Esquerdo"),n=!!(a.cilindrico||a.dnp||a.eixo||a.esferico||i.cilindrico||i.dnp||i.eixo||i.esferico),s=r.find(f=>f.status==="Medio"&&f.operacao==="Olho Direito"),l=r.find(f=>f.status==="Medio"&&f.operacao==="Olho Esquerdo"),u=!!(s.cilindrico||s.dnp||s.eixo||s.esferico||s.adicao||l.cilindrico||l.dnp||l.eixo||l.esferico||l.adicao),c=r.find(f=>f.status==="Perto"&&f.operacao==="Olho Direito"),d=r.find(f=>f.status==="Perto"&&f.operacao==="Olho Esquerdo"),m=!!(c.cilindrico||c.dnp||c.eixo||c.esferico||d.cilindrico||d.dnp||d.eixo||d.esferico);n||(a.base="",i.base="",a.prisma=null,i.prisma=null),u||(s.base="",l.base="",s.prisma=null,l.prisma=null,s.cilindrico=null,l.cilindrico=null,s.eixo=null,l.eixo=null),m||(c.base="",d.base="",c.prisma=null,d.prisma=null,c.cilindrico=null,d.cilindrico=null,c.eixo=null,d.eixo=null),n&&u&&(s.cilindrico=a.cilindrico,l.cilindrico=i.cilindrico,s.eixo=a.eixo,l.eixo=i.eixo),n&&m&&(c.cilindrico=a.cilindrico,d.cilindrico=i.cilindrico,c.eixo=a.eixo,d.eixo=i.eixo),n&&(a.prisma=o.prisma.od.valor,a.base=o.prisma.od.base,i.prisma=o.prisma.oe.valor,i.base=o.prisma.oe.base),u&&(s.prisma=o.prisma.od.valor,s.base=o.prisma.od.base,l.prisma=o.prisma.oe.valor,l.base=o.prisma.oe.base),m&&(c.prisma=o.prisma.od.valor,c.base=o.prisma.od.base,d.prisma=o.prisma.oe.valor,d.base=o.prisma.oe.base);for(const f of r){let p={};p.id=f.id,p.idDocumento=e.id,p.tipoItem="Prescri\xE7\xE3o",p.operacao=f.operacao,p.status=f.status,p.di=f.dnp,p.adicao=f.adicao,p.esferico=f.esferico,p.cilindrico=f.cilindrico,p.eixo=f.eixo,p.prisma=f.prisma,p.base=f.base,e.dadosNovos.documentoItem.push(p)}}let t=ji(e);if(t.dadosOriginais||(t.dadosOriginais={}),t.dadosOriginais.documentoContato=t.dadosOriginais.documentoContato?[t.dadosOriginais.documentoContato]:[],t.dadosOriginais.documentoItem=t.dadosOriginais.documentoItem?t.dadosOriginais.documentoItem:[],t.dadosOriginais.documento=t.dadosOriginais.documento?t.dadosOriginais.documento:{},t.dadosNovos.documentoContato=t.dadosNovos.documentoContato?[t.dadosNovos.documentoContato]:[],await Ot("documentoContato",t.dadosOriginais.documentoContato,t.dadosNovos.documentoContato),await Ot("documentoItem",t.dadosOriginais.documentoItem,t.dadosNovos.documentoItem,{mantemNull:!0}),!Object.keys(t.dadosOriginais.documento||{}).length)await Z().documento.put(t.dadosNovos.documento),await Je("adicionar","documento",t.dadosNovos.documento.id,t.dadosNovos.documento);else{const o=li(t.dadosOriginais.documento,t.dadosNovos.documento,{mantemNull:!0});Object.keys(o).length&&(await Z().documento.update(t.dadosNovos.documento.id,o),await Je("atualizar","documento",t.dadosNovos.documento.id,o))}return e},exclui:async e=>{const t=await Z().documento.get(e),o=await Z().documentoContato.where("idDocumento").equals(t.id).toArray();for(const a of o)await Z().documentoContato.delete(a.id),await Je("remover","documentoContato",a.id);const r=await Z().documentoItem.where("idDocumento").equals(t.id).toArray();for(const a of r)await Z().documentoItem.delete(a.id),await Je("remover","documentoItem",a.id);await Z().documento.delete(t.id),await Je("remover","documento",t.id)},le:async e=>{const t=e.id,o=e.idContato,r=e.descricaoContato,a={id:t,idEmpresa:"",paciente:{id:o!=null?o:$db.contato.selecionado.id,nome:r!=null?r:$db.contato.selecionado.nome},medico:{id:"",nome:"",idDocumentoContato:Ft()},data:"",validade:"",observacoes:"",dadosOriginais:{}};let i={},n={},s={},l={},u={},c={};const d=await $db.hibrido.le({table:"documento",id:t});if(a.dadosOriginais={documento:d},d.id){a.idEmpresa=d.idEmpresa,a.data=d.dataHoraEmissao,a.validade=d.dataHoraFinalizado,a.observacoes=d.observacao,a.paciente={id:d.idContato||"",nome:d.descricaoContato||""};const b=(await $db.hibrido.lista({table:"documentoContato",where:{idDocumento:a.id},whereFilter:{descricao:"Medico"}}))[0]||{};a.dadosOriginais.documentoContato=b;const x=await Z().contato.get(b.idContato||"")||{};a.medico={idDocumentoContato:b.id||Ft(),id:x.id||"",nome:x.nome||""},a.prescricao=await $db.hibrido.lista({table:"documentoItem",where:{idDocumento:a.id,tipoItem:"Prescri\xE7\xE3o"}}),a.dadosOriginais.documentoItem=a.prescricao||[],i=a.prescricao.filter(_=>_.operacao==="Olho Direito"&&_.status==="Longe")[0]||{},n=a.prescricao.filter(_=>_.operacao==="Olho Direito"&&_.status==="Medio")[0]||{},s=a.prescricao.filter(_=>_.operacao==="Olho Direito"&&_.status==="Perto")[0]||{},l=a.prescricao.filter(_=>_.operacao==="Olho Esquerdo"&&_.status==="Longe")[0]||{},u=a.prescricao.filter(_=>_.operacao==="Olho Esquerdo"&&_.status==="Medio")[0]||{},c=a.prescricao.filter(_=>_.operacao==="Olho Esquerdo"&&_.status==="Perto")[0]||{}}let m=Et(i.prisma||n.prisma||s.prisma),f=i.base||n.base||s.base||"",p=Et(l.prisma||u.prisma||c.prisma),g=l.base||u.base||c.base||"";return a.prescricao={dioptria:{od:{longe:{cilindrico:Et(i.cilindrico),dnp:Et(i.di),eixo:Et(i.eixo),esferico:Et(i.esferico),id:i.id||Ft(),operacao:"Olho Direito",status:"Longe"},medio:{cilindrico:Et(n.cilindrico),eixo:Et(n.eixo),adicao:Et(n.adicao),dnp:Et(n.di),esferico:Et(n.esferico),id:n.id||Ft(),operacao:"Olho Direito",status:"Medio"},perto:{adicao:Et(s.adicao),cilindrico:Et(s.cilindrico),dnp:Et(s.di),eixo:Et(s.eixo),esferico:Et(s.esferico),id:s.id||Ft(),operacao:"Olho Direito",status:"Perto"}},oe:{longe:{cilindrico:Et(l.cilindrico),dnp:Et(l.di),eixo:Et(l.eixo),esferico:Et(l.esferico),id:l.id||Ft(),operacao:"Olho Esquerdo",status:"Longe"},medio:{cilindrico:Et(u.cilindrico),eixo:Et(u.eixo),adicao:Et(u.adicao),dnp:Et(u.di),esferico:Et(u.esferico),id:u.id||Ft(),operacao:"Olho Esquerdo",status:"Medio"},perto:{adicao:Et(c.adicao),cilindrico:Et(c.cilindrico),dnp:Et(c.di),eixo:Et(c.eixo),esferico:Et(c.esferico),id:c.id||Ft(),operacao:"Olho Esquerdo",status:"Perto"}}},prisma:{od:{base:f,valor:m},oe:{base:g,valor:p}}},a},async leListaCompleta(e){if($db.hibrido.get("mode")==="remoto"){const{where:t,limit:o,page:r,sort:a,dir:i}=e;return(await $utils.geeksApi({listaReceitas:{funcao:"F78F3D09-7114-45FD-94C2-BAA2C8B3D06F",where:t,limit:o,page:r,sort:a,dir:i}})).data.listaReceitas.data}else{const t=await $db.contato.leFilhos(e.where.idContato)||[];t.push({id:e.where.idContato});let o=[];for(const r of t){const a=await $db.hibrido.lista({table:"documento",where:{tipo:"Prescri\xE7\xE3o",idContato:r.id}});o=o.concat(a)}for(const r of o){const a=(await $db.hibrido.lista({table:"documentoContato",where:{idDocumento:r.id},whereFilter:{descricao:"Medico"}}))[0]||{},i=await Z().contato.get(a.idContato||"")||{},n=await $db.hibrido.lista({table:"documentoItem",where:{idDocumento:r.id,tipoItem:"Prescri\xE7\xE3o"}});r.envelopes=await $db.hibrido.lista({table:"documento",where:{idDocumentoAdicional:r.id},columns:["id","tipo"]}),r.medico={idDocumentoContato:a.id,idContato:i.id,nome:i.nome},r.prescricao=n}return o}},montaReceita(e){const{medico:t,prescricao:o,envelopes:r}=e,a={id:e.id,idEmpresa:e.idEmpresa,paciente:{id:e.idContato||"",nome:e.descricaoContato||""},medico:{idDocumentoContato:t.idDocumentoContato||Ft(),id:t.idContato||"",nome:t.nome||""},envelopes:r,data:e.dataHoraEmissao,validade:e.dataHoraFinalizado,observacoes:e.observacao,dadosOriginais:{documento:e,documentoContato:t,documentoItem:o||[]}},i=o.filter(g=>g.operacao==="Olho Direito"&&g.status==="Longe")[0]||{},n=o.filter(g=>g.operacao==="Olho Direito"&&g.status==="Medio")[0]||{},s=o.filter(g=>g.operacao==="Olho Direito"&&g.status==="Perto")[0]||{},l=o.filter(g=>g.operacao==="Olho Esquerdo"&&g.status==="Longe")[0]||{},u=o.filter(g=>g.operacao==="Olho Esquerdo"&&g.status==="Medio")[0]||{},c=o.filter(g=>g.operacao==="Olho Esquerdo"&&g.status==="Perto")[0]||{},d=Et(i.prisma||n.prisma||s.prisma),m=i.base||n.base||s.base||"",f=Et(l.prisma||u.prisma||c.prisma),p=l.base||u.base||c.base||"";return a.prescricao={dioptria:{od:{longe:{cilindrico:Et(i.cilindrico),dnp:Et(i.di),eixo:Et(i.eixo),esferico:Et(i.esferico),id:i.id||Ft(),operacao:"Olho Direito",status:"Longe"},medio:{cilindrico:Et(n.cilindrico),eixo:Et(n.eixo),adicao:Et(n.adicao),dnp:Et(n.di),esferico:Et(n.esferico),id:n.id||Ft(),operacao:"Olho Direito",status:"Medio"},perto:{adicao:Et(s.adicao),cilindrico:Et(s.cilindrico),dnp:Et(s.di),eixo:Et(s.eixo),esferico:Et(s.esferico),id:s.id||Ft(),operacao:"Olho Direito",status:"Perto"}},oe:{longe:{cilindrico:Et(l.cilindrico),dnp:Et(l.di),eixo:Et(l.eixo),esferico:Et(l.esferico),id:l.id||Ft(),operacao:"Olho Esquerdo",status:"Longe"},medio:{cilindrico:Et(u.cilindrico),eixo:Et(u.eixo),adicao:Et(u.adicao),dnp:Et(u.di),esferico:Et(u.esferico),id:u.id||Ft(),operacao:"Olho Esquerdo",status:"Medio"},perto:{adicao:Et(c.adicao),cilindrico:Et(c.cilindrico),dnp:Et(c.di),eixo:Et(c.eixo),esferico:Et(c.esferico),id:c.id||Ft(),operacao:"Olho Esquerdo",status:"Perto"}}},prisma:{od:{base:m,valor:d},oe:{base:p,valor:f}}},a},leReceitas:async e=>{let t=[];const o=await Z().documento.where({tipo:"Prescri\xE7\xE3o"}).toArray(),r={idContato:"",idsPaciente:[],idsMedico:[],validade:"",...e},a=new Date().setHours(0,0,0,0);for(const i of o)i.tipo==="Prescri\xE7\xE3o"&&(r.idContato&&r.idContato!==i.idContato||r.idsPaciente.length&&!r.idsPaciente.includes(i.idContato)||r.validade==="aVencer"&&new Date(i.validade).setHours(0,0,0,0)<a||r.validade==="vencido"&&new Date(i.validade).setHours(0,0,0,0)>=a||t.push(i));return t}},w2="documento",N0e=["id","idContato","idFatura","idDocumentoAdicional","idContatoVendedor","idContatoDigitador","idEmpresa","documentoId","tipo","status","idEquipamento"],F0e={grava:async e=>{if(e=Na(e),await Ot("documentoItem",e.documentoItensAnterior||[],e.documentoItens||[]),!Object.keys(e.documentoAnterior||{}).length)await Z().documento.put(e.documento),await Je("adicionar","documento",e.documento.id,e.documento);else{const t=ra(e.documentoAnterior,e.documento);Object.keys(t).length&&(await Z().documento.update(e.documento.id,t),await Je("atualizar","documento",e.documento.id,t))}},le:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documento.get(e.id)||{}:{};let t={tipo:""};"tipo"in e&&e.tipo&&(t.tipo=e.tipo),"operacao"in e&&e.operacao&&(t.operacao=e.operacao),"idContato"in e&&e.idContato&&(t.idContato=e.idContato),"idEmpresa"in e&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa),"status"in e&&e.status&&(t.status=e.status),"digitador"in e&&e.digitador.codigo&&(t.codigoContatoDigitador=e.digitador.codigo);let o=Z().documento;Object.keys(t).length&&("periodo"in e in e?o=o.where(t).and(function(n){if("periodo"in e&&e.periodo.emissao){let s=new Date(e.periodo.emissao.ini).setHours(0,0,0,0),l=new Date(e.periodo.emissao.fim).setHours(0,0,0,0),u=new Date(n.dataHoraEmissao).setHours(0,0,0,0);return s&&l?u>=s&&u<=l:s?u>=s:l?u<=l:!0}}):o=o.where(t));const r=e.offset,a=e.limit;let i=o;return i=await i.count(),Number.isInteger(r)&&Number.isInteger(a)?Promise.all([o.offset(r).limit(a).toArray(),i]):Promise.all([o.toArray(),i])},leRefatorado:async function({filtros:e,limit:t,page:o,sort:r}){if(e=e||{},"id"in e)return e.id?await Z()[w2].get(e.id)||{}:{};for(const f in e){if(e[f]===null||e[f]===void 0)throw"Erro no filtro "+f;typeof e[f]=="string"&&(e[f]=e[f].trim())}let a={tipo:""};"tipo"in e&&e.tipo&&(a.tipo=e.tipo),"operacao"in e&&e.operacao&&(a.operacao=e.operacao),"cliente"in e&&e.cliente.id&&(console.log(e.cliente.id),a.codigoContato=e.cliente.id),"digitador"in e&&e.digitador.codigo&&(a.codigoContatoDigitador=e.digitador.codigo);for(const f of N0e)f in e&&e[f]&&(a[f]=e[f]);let i=await Z()[w2];Object.keys(a).length&&("periodo"in e?i=i.where(a).and(function(f){if("periodo"in e&&e.periodo.emissao){let p=new Date(e.periodo.emissao.ini).setHours(0,0,0,0),g=new Date(e.periodo.emissao.fim).setHours(0,0,0,0),b=new Date(f.dataHoraEmissao).setHours(0,0,0,0);return p&&g?(console.log("aqui"),b>=p&&b<=g):p?b>=p:g?b<=g:!0}}).and(function(f){if("periodo"in e&&e.periodo.finalizado){let p=new Date(e.periodo.finalizado.ini).setHours(0,0,0,0),g=new Date(e.periodo.finalizado.fim).setHours(0,0,0,0),b=new Date(f.dataHoraFinalizado).setHours(0,0,0,0);return p&&g?(console.log("aqui"),b>=p&&b<=g):p?b>=p:g?b<=g:!0}}):i=i.where(a));let n=[],s=[];if(await i.each(f=>{n.push({codigoDocumento:f.codigoDocumento,id:f.id,descricaoContato:f.descricaoContato,descricaoEmpresa:f.descricaoEmpresa})}),"termoBusca"in e){const f=$utils.tratamentoCompletoString(e.termoBusca).split(" "),p=[];for(const g of n){let b,x;x=await $erp().documentoItem.where({idDocumento:g.id}).toArray(),b=g.descricaoContato,b+=` ${g.descricaoEmpresa}`;for(const y of x)b+=` ${y.descricaoItem}`;b=$utils.tratamentoCompletoString(b);let _=!0;for(const y of f)if(!(b.search(y)>-1)){_=!1;break}_&&p.push(g)}n=p}const l=n.length;n=n.sort((f,p)=>f.codigoDocumento>p.codigoDocumento?1:p.codigoDocumento>f.codigoDocumento?-1:0),t=t||l,o=o||1;let u=(o-1)*t;n=n.splice(u,t);for(let f of n)s.push(await Z()[w2].get({id:f.id}));let c=s,d=l,m=Math.ceil(d/t)||1;return{data:c,total:d,totalPages:m}},leItens:async e=>{if(e=e||{},"id"in e)return e.id?await Z().documentoItem.get(e.id)||{}:{};let t={};"idDocumento"in e&&e.idDocumento&&(t.idDocumento=e.idDocumento),"idItem"in e&&e.idItem&&(t.idItem=e.idItem);let o=Z().documentoItem;if(Object.keys(t).length)o=o.where(t);else return[];return o.toArray()},async remove(e){this.removeItens(e),await Z().documento.delete(e),await Je("remover","documento",e)},async removeItens(e){let t=await Z().documentoItem.where({idDocumento:e}).toArray();for(let o of t)await Z().documentoItem.where({id:o.id}).delete(),await Je("remover","documentoItem",o.id)}};var R0e={log:`${new Date().toLocaleTimeString("pt-br")} iniciou`,logar(e){this.log=(e+`
`+this.log).substr(0,1e4),localStorage.setItem("sincronismoLog",this.log)}};const k0e="v2024.0116.1642";var lF={versao:k0e};async function V0e(e){var a,i;const{rota:t}=e!=null?e:{},o=JSON.parse((a=localStorage.getItem("clienteSistema"))!=null?a:null),r=localStorage.getItem("dispositivoCliente");!t||(e.id=$utils.uuid(),e.dataHora=$utils.dataAtual(),e.usuarioCpf=(i=$db.usuario.logado.numeroDocumentoNacional)!=null?i:"",e.dispositivoCliente=r,e.sistema=o==null?void 0:o.sistema,e.versao=lF.versao,await $erp().sistemaUsoLog.put(e))}async function q0e(e){await $erp().sistemaUsoLog.delete(e)}async function B0e({limit:e,page:t}){let o=await $erp().sistemaUsoLog.toArray(),r;const a=o.length;return e=e||a,t=t||1,r=(t-1)*e,o=o.splice(r,e),{data:o,total:a,totalPages:Math.ceil(a/e)||1}}var L0e={registrar:V0e,remover:q0e,le:B0e},$0e={async baixaConteudoOnline(e){return mo(`select nome, arquivo from SpedArquivo where id=${yt(e)}`)},async leOnline(){return mo("select id, nome, situacao, dataHoraSolicitacao, cnpj, codigoEmpresa, dataInicio, dataFim, dataInventario from SpedArquivo order by dataHoraSolicitacao desc")}};const cF={id:"",ordem:0,tipo:"Tarefa",assunto:"",descricao:"",dataHoraCriacao:"",dataHoraFinalizado:"",dataLimite:"",status:"Aberto",operacao:"",tags:{id:""},pai:{id:"",assunto:""},item:{id:"",descricao:"",prioridade:""},empresa:{id:"",cnpj:"",razaosocial:""},organizador:{id:"",cpf:"",nome:""},responsavel:{id:"",cpf:"",nome:""},solicitante:{id:"",cpf:"",nome:""},cliente:{id:"",cpfCnpj:"",nome:"",apelido:"",email:"",imagem:"",telefones:{id:{tipoTelefone:"",telefone:""}},tipoEndereco:"",endereco:""},convidados:{cpfCnpj:{nome:"",email:"",observacoes:"",tags:{id:""}}},anotacoes:{id:{dataHoraCriacao:"",usuario:{cpf:"",nome:""},texto:""}},apontamentos:{id:{dataHoraInicio:"",dataHoraFim:"",usuario:{cpf:"",nome:""},tags:{id:""}}}};function U0e(){const e=$utils.clonarV2(cF);return delete e.convidados.cpfCnpj,delete e.anotacoes.id,delete e.apontamentos.id,e}async function z0e(e){console.log("Tarefa gravar",e),await $utils.geeksApi({upinsert:{funcao:"D92A7D42-6706-43C5-8D5B-F5969FAA0B92",data:e}})}async function H0e(e){return $utils.geeksApi({excluirTarefa:{funcao:"12D80CE5-F0DD-4FB1-A527-C949A7AC6266",id:e}})}async function j0e(e={}){return console.log("Tarefa ler",e),(await $utils.geeksApi({lerTarefas:{funcao:"A396BF94-2E09-4990-8C8D-F51B35378734",...e}})).data.lerTarefas}async function G0e(){return["Tarefa","SubTarefa"].map(e=>({rotulo:e,valor:e}))}async function W0e(){return["Aberto","Fechado"].map(e=>({rotulo:e,valor:e}))}async function X0e(e){await $utils.geeksApi({excluir:{funcao:"12D80CE5-F0DD-4FB1-A527-C949A7AC6266",id:e==null?void 0:e.id}})}var Y0e={criar:U0e,ler:j0e,gravar:z0e,remover:H0e,model:cF,lerTipos:G0e,lerStatus:W0e,excluir:X0e},uF={exports:{}},dF={exports:{}};(function(e,t){(function(o,r){e.exports=r()})(Ht,function(){var o=o||function(r,a){var i;if(typeof window!="undefined"&&window.crypto&&(i=window.crypto),typeof self!="undefined"&&self.crypto&&(i=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window!="undefined"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Ht!="undefined"&&Ht.crypto&&(i=Ht.crypto),!i&&typeof ZH=="function")try{i=require("crypto")}catch{}var n=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function _(){}return function(y){var I;return _.prototype=y,I=new _,_.prototype=null,I}}(),l={},u=l.lib={},c=u.Base=function(){return{extend:function(_){var y=s(this);return _&&y.mixIn(_),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var y in _)_.hasOwnProperty(y)&&(this[y]=_[y]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=c.extend({init:function(_,y){_=this.words=_||[],y!=a?this.sigBytes=y:this.sigBytes=_.length*4},toString:function(_){return(_||f).stringify(this)},concat:function(_){var y=this.words,I=_.words,S=this.sigBytes,O=_.sigBytes;if(this.clamp(),S%4)for(var F=0;F<O;F++){var M=I[F>>>2]>>>24-F%4*8&255;y[S+F>>>2]|=M<<24-(S+F)%4*8}else for(var E=0;E<O;E+=4)y[S+E>>>2]=I[E>>>2];return this.sigBytes+=O,this},clamp:function(){var _=this.words,y=this.sigBytes;_[y>>>2]&=4294967295<<32-y%4*8,_.length=r.ceil(y/4)},clone:function(){var _=c.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var y=[],I=0;I<_;I+=4)y.push(n());return new d.init(y,_)}}),m=l.enc={},f=m.Hex={stringify:function(_){for(var y=_.words,I=_.sigBytes,S=[],O=0;O<I;O++){var F=y[O>>>2]>>>24-O%4*8&255;S.push((F>>>4).toString(16)),S.push((F&15).toString(16))}return S.join("")},parse:function(_){for(var y=_.length,I=[],S=0;S<y;S+=2)I[S>>>3]|=parseInt(_.substr(S,2),16)<<24-S%8*4;return new d.init(I,y/2)}},p=m.Latin1={stringify:function(_){for(var y=_.words,I=_.sigBytes,S=[],O=0;O<I;O++){var F=y[O>>>2]>>>24-O%4*8&255;S.push(String.fromCharCode(F))}return S.join("")},parse:function(_){for(var y=_.length,I=[],S=0;S<y;S++)I[S>>>2]|=(_.charCodeAt(S)&255)<<24-S%4*8;return new d.init(I,y)}},g=m.Utf8={stringify:function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return p.parse(unescape(encodeURIComponent(_)))}},b=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var y,I=this._data,S=I.words,O=I.sigBytes,F=this.blockSize,M=F*4,E=O/M;_?E=r.ceil(E):E=r.max((E|0)-this._minBufferSize,0);var D=E*F,P=r.min(D*4,O);if(D){for(var N=0;N<D;N+=F)this._doProcessBlock(S,N);y=S.splice(0,D),I.sigBytes-=P}return new d.init(y,P)},clone:function(){var _=c.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});u.Hasher=b.extend({cfg:c.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(_){return function(y,I){return new _.init(I).finalize(y)}},_createHmacHelper:function(_){return function(y,I){return new x.HMAC.init(_,I).finalize(y)}}});var x=l.algo={};return l}(Math);return o})})(dF);(function(e,t){(function(o,r){e.exports=r(dF.exports)})(Ht,function(o){return function(r){var a=o,i=a.lib,n=i.WordArray,s=i.Hasher,l=a.algo,u=[];(function(){for(var g=0;g<64;g++)u[g]=r.abs(r.sin(g+1))*4294967296|0})();var c=l.MD5=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,b){for(var x=0;x<16;x++){var _=b+x,y=g[_];g[_]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var I=this._hash.words,S=g[b+0],O=g[b+1],F=g[b+2],M=g[b+3],E=g[b+4],D=g[b+5],P=g[b+6],N=g[b+7],R=g[b+8],z=g[b+9],W=g[b+10],j=g[b+11],Q=g[b+12],se=g[b+13],_e=g[b+14],Ee=g[b+15],J=I[0],re=I[1],ye=I[2],ge=I[3];J=d(J,re,ye,ge,S,7,u[0]),ge=d(ge,J,re,ye,O,12,u[1]),ye=d(ye,ge,J,re,F,17,u[2]),re=d(re,ye,ge,J,M,22,u[3]),J=d(J,re,ye,ge,E,7,u[4]),ge=d(ge,J,re,ye,D,12,u[5]),ye=d(ye,ge,J,re,P,17,u[6]),re=d(re,ye,ge,J,N,22,u[7]),J=d(J,re,ye,ge,R,7,u[8]),ge=d(ge,J,re,ye,z,12,u[9]),ye=d(ye,ge,J,re,W,17,u[10]),re=d(re,ye,ge,J,j,22,u[11]),J=d(J,re,ye,ge,Q,7,u[12]),ge=d(ge,J,re,ye,se,12,u[13]),ye=d(ye,ge,J,re,_e,17,u[14]),re=d(re,ye,ge,J,Ee,22,u[15]),J=m(J,re,ye,ge,O,5,u[16]),ge=m(ge,J,re,ye,P,9,u[17]),ye=m(ye,ge,J,re,j,14,u[18]),re=m(re,ye,ge,J,S,20,u[19]),J=m(J,re,ye,ge,D,5,u[20]),ge=m(ge,J,re,ye,W,9,u[21]),ye=m(ye,ge,J,re,Ee,14,u[22]),re=m(re,ye,ge,J,E,20,u[23]),J=m(J,re,ye,ge,z,5,u[24]),ge=m(ge,J,re,ye,_e,9,u[25]),ye=m(ye,ge,J,re,M,14,u[26]),re=m(re,ye,ge,J,R,20,u[27]),J=m(J,re,ye,ge,se,5,u[28]),ge=m(ge,J,re,ye,F,9,u[29]),ye=m(ye,ge,J,re,N,14,u[30]),re=m(re,ye,ge,J,Q,20,u[31]),J=f(J,re,ye,ge,D,4,u[32]),ge=f(ge,J,re,ye,R,11,u[33]),ye=f(ye,ge,J,re,j,16,u[34]),re=f(re,ye,ge,J,_e,23,u[35]),J=f(J,re,ye,ge,O,4,u[36]),ge=f(ge,J,re,ye,E,11,u[37]),ye=f(ye,ge,J,re,N,16,u[38]),re=f(re,ye,ge,J,W,23,u[39]),J=f(J,re,ye,ge,se,4,u[40]),ge=f(ge,J,re,ye,S,11,u[41]),ye=f(ye,ge,J,re,M,16,u[42]),re=f(re,ye,ge,J,P,23,u[43]),J=f(J,re,ye,ge,z,4,u[44]),ge=f(ge,J,re,ye,Q,11,u[45]),ye=f(ye,ge,J,re,Ee,16,u[46]),re=f(re,ye,ge,J,F,23,u[47]),J=p(J,re,ye,ge,S,6,u[48]),ge=p(ge,J,re,ye,N,10,u[49]),ye=p(ye,ge,J,re,_e,15,u[50]),re=p(re,ye,ge,J,D,21,u[51]),J=p(J,re,ye,ge,Q,6,u[52]),ge=p(ge,J,re,ye,M,10,u[53]),ye=p(ye,ge,J,re,W,15,u[54]),re=p(re,ye,ge,J,O,21,u[55]),J=p(J,re,ye,ge,R,6,u[56]),ge=p(ge,J,re,ye,Ee,10,u[57]),ye=p(ye,ge,J,re,P,15,u[58]),re=p(re,ye,ge,J,se,21,u[59]),J=p(J,re,ye,ge,E,6,u[60]),ge=p(ge,J,re,ye,j,10,u[61]),ye=p(ye,ge,J,re,F,15,u[62]),re=p(re,ye,ge,J,z,21,u[63]),I[0]=I[0]+J|0,I[1]=I[1]+re|0,I[2]=I[2]+ye|0,I[3]=I[3]+ge|0},_doFinalize:function(){var g=this._data,b=g.words,x=this._nDataBytes*8,_=g.sigBytes*8;b[_>>>5]|=128<<24-_%32;var y=r.floor(x/4294967296),I=x;b[(_+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,b[(_+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,g.sigBytes=(b.length+1)*4,this._process();for(var S=this._hash,O=S.words,F=0;F<4;F++){var M=O[F];O[F]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return S},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g}});function d(g,b,x,_,y,I,S){var O=g+(b&x|~b&_)+y+S;return(O<<I|O>>>32-I)+b}function m(g,b,x,_,y,I,S){var O=g+(b&_|x&~_)+y+S;return(O<<I|O>>>32-I)+b}function f(g,b,x,_,y,I,S){var O=g+(b^x^_)+y+S;return(O<<I|O>>>32-I)+b}function p(g,b,x,_,y,I,S){var O=g+(x^(b|~_))+y+S;return(O<<I|O>>>32-I)+b}a.MD5=s._createHelper(c),a.HmacMD5=s._createHmacHelper(c)}(Math),o.MD5})})(uF);var K0e=uF.exports;const Nm={id:"",apelido:"",nome:"",imagem:"",numeroDocumentoNacional:"",administrador:!1,codigoUsuario:"",desenvolvedor:function(){return["21913066835","26088910801","01859441599","22591100888","21397498803","27379313800","33209680841","39516496822","46881300824","09096257944","27784678827","74700928620"].includes(this.numeroDocumentoNacional.replace(/\.|-/g,""))}},Zm={vazio:Nm,desenvolvedor(){return!!this.logado&&!!this.logado.desenvolvedor&&this.logado.desenvolvedor()},grava:()=>{},le:async(e={})=>{let t={};if("id"in e&&e.id&&(t=await Z().contato.where({idUsuario:e.id}).first()),!t)try{t=(await qr({consultarUsuario:{funcao:"0A267FF5-E96A-4B47-9818-DB27EDA3555A",id:e.id}})).data.consultarUsuario||{}}catch(o){console.error(o),t=null}return t||{}},leOnline:async e=>mo(`SELECT id, codigoUsuario, Nome as nome, Nome as apelido, NumeroDocumentoNacional as numeroDocumentoNacional, Img as imagem
       FROM Usuario WHERE id = ${yt(e,"")}`,"GeeksPlat15A"),async carregaDados(){Tt.log("carregaDados",je.cache.get("bancoDeDados")),await Ka.empresaUsuarioPermissao.inicializarPermissao(),je.contato.carregarMemoria(),je.item.carregarMemoria(),je.configuracoes.inicializa(),$utils.conduta.exibir()},async inicializaLogado(){if(!Zm.logado.id){Tt.log("usuario","inicializaLogado()");let e=JSON.parse(localStorage.getItem("usuario"));e&&e.cpf&&(e=await Pt.login.get({cpf:e.cpf}),Zm.logado={...Nm,...e})}},async autentica({cpf:e,senha:t}){Tt.log("usuario","autentica()",e);const o=K0e(t).toString();let r;if(!navigator.onLine)throw new Error("Usu\xE1rio n\xE3o encontrado. Conecte-se \xE0 Internet.");const i=(await qr({login:{funcao:"0F8E5067-A8B2-4C82-9275-25B114B9ED70",cpf:e,senha:t}})).data.login;return Tt.log("usuario","login graphql ok",i.usuario.nome),r={...i.usuario,token:i.token,cpf:e,senha:o},await Pt.login.put(r),localStorage.setItem("usuario",JSON.stringify(r)),Zm.logado={...Nm,...r},Tt.log("usuario","salva usuario indexeddb, localStore e db.logado ok"),r},async verificaUsuarioClienteSistema(){var e;try{if(!$db.usuario.logado.id)return;let t,o,r,a;t=$db.cache.get("bancoDeDados"),a=await $utils.geeksApi({clienteSistemas:{funcao:"50BD6521-7654-4455-A161-BDFFCC1AA3A9"}},{bancoDeDados:"GeeksPlat15A"}),o=(e=a==null?void 0:a.data)==null?void 0:e.clienteSistemas,r=o==null?void 0:o.some(i=>i.bancoDeDados===t),r||($db.usuario.desconecta(),localStorage.clear(),window.location.reload())}catch(t){console.error(t)}},desconecta(){localStorage.removeItem("usuario"),localStorage.removeItem("contatoSelecionado"),localStorage.removeItem("itemSelecionado"),Zm.logado=Yl(Nm)},obterDispositivo(){let e=localStorage.getItem("dispositivoCliente");return e||(e=$utils.uuid(),localStorage.setItem("dispositivoCliente",e)),{id:e,detalhe:JSON.stringify({navigator:navigator?{platform:navigator.platform,vendor:navigator.vendor,appVersion:navigator.appVersion,userAgent:navigator.userAgent,deviceMemory:navigator.deviceMemory,connection_downlink:(navigator.connection||{}).downlink}:{},screen:screen?{width:screen.width,height:screen.height}:{},usuario:{id:$db.usuario.logado.id,nome:$db.usuario.logado.nome},dataHora:$utils.dataAtual()})}},logado:{...Nm}};async function Q0e({objsVenda:e,campoAlterado:t}){let{venda:o,carrinho:r,envelopes:a,itensEnvelopes:i,customs:n,oss:s,kits:l}=e;o.subTotal=0,o.totalProduto=0,o.totalServico=0;let u=0;for(const d of r||[])o.subTotal=$utils.arredondar(o.subTotal+d.total),o.calcularTributacao&&(u+=(d.valorIpi||0)+(d.valorIcmsSt||0)+(d.valorDifal||0));for(const d in a||{}){let m=a[d];if(o.subTotal=$utils.arredondar(o.subTotal+m.totalDocumento),o.calcularTributacao)for(const f of i.filter(p=>p.idDocumentoAdicional===d))u+=(f.valorIpi||0)+(f.valorIcmsSt||0)+(f.valorDifal||0)}for(const d of n||[])if(o.subTotal=$utils.arredondar(o.subTotal+d.documento.totalDocumento),o.calcularTributacao)for(const m of d.documentoItens)u+=(m.valorIpi||0)+(m.valorIcmsSt||0)+(m.valorDifal||0);for(let d of s||[]){for(let m of d.documentoItens)await $db.os.calculaTotalItem({os:d.documento,itemOs:$utils.clonarV2(m)}).then(f=>{m=f.itemOs}),o.calcularTributacao&&(u+=(m.valorIpi||0)+(m.valorIcmsSt||0)+(m.valorDifal||0));await $db.os.calculaTotal({os:$utils.clonarV2(d.documento),itensOs:d.documentoItens}).then(m=>{d.documento=m.os}),o.subTotal=$utils.arredondar(o.subTotal+d.documento.totalDocumento)}for(const d of l!=null?l:[])if(o.subTotal=$utils.arredondar(o.subTotal+d.documento.totalDocumento),o.calcularTributacao)for(const m of d.documentosItem.filter(f=>f.operacaoFator===-1))u+=(m.valorIpi||0)+(m.valorIcmsSt||0)+(m.valorDifal||0);t==="totalPercentualDesconto"&&(o.subTotal>0?o.totalDesconto=$utils.arredondar(o.totalPercentualDesconto/100*o.subTotal):(o.totalDesconto=0,o.totalPercentualDesconto=0,o.totalDocumento=0)),t==="totalDesconto"&&(o.subTotal>0?o.totalPercentualDesconto=$utils.arredondar(o.totalDesconto/o.subTotal*100):(o.totalDesconto=0,o.totalPercentualDesconto=0,o.totalDocumento=0)),t||(o.totalPercentualDesconto=$utils.arredondar(o.totalDesconto/o.subTotal*100));const c=o.tipoFrete==="CIF"&&o.valorFrete||0;return o.totalProduto=o.subTotal,o.totalDocumento=$utils.arredondar(o.subTotal-o.totalDesconto+c+u),{venda:o}}async function X3(e={},t){for(const o of e.documentoItens){if(e.listaMaximoDesconto.find(l=>l.id===o.id)||!o.idItem||o.operacaoFator===1)continue;let r,a,i,n,s;await e.configurarValoresTabelaPreco(e.tbMaster,o),r=e.valoresTabelaPreco.find(l=>l.id===o.id),r&&(t&&r.maximoDescontoGerente<r.maximoDesconto||(r.quantidadeMaiorQue&&o.quantidade>=r.quantidadeMaiorQue?a=r.maximoDescontoMaiorQue:a=t?r.maximoDescontoGerente:r.maximoDesconto,n=$utils.arredondar(o.valorOriginal-a/100*o.valorOriginal),s=$utils.arredondar(o.valorItem-o.descontoItem-o.descontoTotalRateado/(o.quantidade||1)),i=a,o.valorItem!==o.valorOriginal&&(i=$utils.arredondar((o.valorItem-n)/o.valorItem*100)),e.totalVMinimo=$utils.arredondar(e.totalVMinimo+n*o.quantidade),s<n&&e.listaMaximoDesconto.push({id:o.id,descricao:o.descricaoItem,maximoDesconto:i})))}}async function J0e(e={}){const{tela:t,carrinho:o,itensEnvelopes:r,documentosItensCustoms:a,documentosItensOSs:i,documentosItemKits:n}=e;if(!t.venda.idItemTabelaPreco)return!0;const s=await $erp().itemTabelaPreco.get(t.venda.idItemTabelaPreco);if(!s)throw new Error("N\xE3o foi poss\xEDvel obter a tabela de pre\xE7o");const l=[];let u=[],c=await $db.permissao.objeto("Diretiva_Vendas_DescontoMaximo"),d=await $db.permissao.objeto("Diretiva_Vendas_DescontoMaximoNivelGerente"),m=await $db.permissao.objetoClienteSistema("Diretiva_Vendas_DescontoMaximoNivelGerente"),f=!1;o.forEach(y=>l.push(y)),a.forEach(y=>l.push(y)),i.forEach(y=>l.push(y)),n.forEach(y=>l.push(y)),r.forEach(y=>l.push(y));let p=0,g=t.venda.totalDocumento;for(const y of l)if(!y.idItem||y.operacaoFator===1){g=$utils.arredondar(g-y.valorRealTotal);continue}const b={configurarValoresTabelaPreco:t.configurarValoresTabelaPreco,valoresTabelaPreco:t.valoresTabelaPreco,tbMaster:s,totalVMinimo:p,documentoItens:l,listaMaximoDesconto:u};m&&(await X3(b,!0),b.listaMaximoDesconto.length&&(f=!0)),await X3(b);const _=(parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.margem.trava",t.venda.idEmpresa,0))||0)&&$lodash.get(t.margem[t.venda.id],"limite",!1);if(b.listaMaximoDesconto.length||g>0&&g<p||_){if(!_){const I="Existe(m) produto(s) com desconto superior ao m\xE1ximo permitido";$q.notifyError(I)}_&&(t.modalDescontoMaximo.msg="\xCDndice geral n\xE3o permitido"),t.modalDescontoMaximo.titulo="Limite de desconto excedido",t.modalDescontoMaximo.permiteDescontoMaximo=c,f&&(t.modalDescontoMaximo.titulo="Limite de desconto excedido (Gerente)",t.modalDescontoMaximo.permiteDescontoMaximo=d),t.modalDescontoMaximo.itens=b.listaMaximoDesconto,$q.loading.hide();let y=!1;if(await new Promise(async(I,S)=>{t.modalDescontoMaximo.resolve=I,t.modalDescontoMaximo.reject=S,t.modalDescontoMaximo.visivel=!0}).then(I=>{if(I==="continuar"){const S=t.venda.status,O="Aguardando Libera\xE7\xE3o";t.documentoStatus.push({id:$utils.uuid(),idDocumento:t.venda.id,operacao:t.venda.operacao,statusOriginal:S,statusFinalizado:O,dataHoraEmissao:$utils.dataAtual(),cpfUsuario:$db.usuario.logado.numeroDocumentoNacional,observacao:t.modalDescontoMaximo.itens.reduce((F,M)=>F+M.descricao+" | ","").slice(0,-3)}),t.venda.status=O,t.salvarVenda().then(()=>{t.$emit("executar","atualizar")}),y=!0}t.modalDescontoMaximo.visivel=!1}).catch(()=>{y=!0}),y)return!1;$q.loading.show({message:"Processando..."})}return!0}async function Z0e({objsVendaOrig:e}){const t=[],{venda:o,carrinho:r,itensEnvelopes:a,customs:i,oss:n}=e,l=(await $db.configuracoes.porNome("vendas.checaestoque",o.idEmpresa)).find(d=>parseInt(d.valor)===1),u=i.reduce((d,m)=>[...d,...m.documentoItens||[]],[]),c=n.reduce((d,m)=>[...d,...m.documentoItens||[]],[]);if(l){let d=[],m=[];const f=[...r||[],...a||[],...u||[],...c||[]];for(const p of f)!p.idItem||m.push(p.idItem);m=Array.from(new Set(m));try{d=(((await $utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:m,idEmpresa:o.idEmpresa}})||{}).data||{}).estoque||[]).filter(b=>b.tipoEstoque==="Dispon\xEDvel");let g=[];for(const b of m)g.push({idItem:b,saldo:d.filter(x=>x.idItem===b).reduce((x,_)=>x+_.saldo,0),idEmpresa:o.idEmpresa});d=g}catch(p){console.error("Erro na consulta do estoque online",p),d=await $erp().estoqueSaldoProdutoEmpresa.where("idItem").anyOf(m).toArray(),d=d.filter(b=>b.tipoEstoque==="Dispon\xEDvel"),o.idEmpresa&&(d=d.filter(b=>b.idEmpresa===o.idEmpresa));let g=[];for(const b of m)g.push({idItem:b,saldo:d.filter(x=>x.idItem===b).reduce((x,_)=>x+_.saldo,0),idEmpresa:o.idEmpresa,offline:!0});d=g}for(const p of f){if(!p.idItem||!o.idEmpresa||p.operacaoFator===1||t.find(y=>y.idItem===p.idItem))continue;const g=await $erp().item.get(p.idItem)||{};if(!g.id||["servico","tratamento","lente"].includes((g.tipo||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")))continue;const b=d.find(y=>y.idItem===p.idItem)||{},x=Number((b||{}).saldo)?b.saldo:0,_=f.reduce((y,I)=>y+(I.idItem===p.idItem&&I.quantidade||0),0);x>=_||t.find(y=>y.idItem===p.idItem)||t.push({idItem:p.idItem,descricao:p.descricaoItem||"",saldo:x,offline:!!b.offline})}}return{itensSemEstoque:t}}function ehe({objsVendaOrig:e,itensSemEstoque:t}){const o={venda:$utils.clonarV2(e.venda),carrinho:[],envelopes:{},itensEnvelopes:[],customs:[],oss:[],documentoEndereco:$utils.clonarV2(e.documentoEndereco),documentoContato:$utils.clonarV2(e.documentoContato),arquivo:[]},{carrinho:r,envelopes:a,itensEnvelopes:i,customs:n,oss:s,arquivo:l}=e;t=t.map(c=>({idItem:c.idItem,saldo:c.saldo}));for(let c of r){const d=t.find(p=>p.idItem===c.idItem);if(!d)continue;c=$utils.clonarV2(c);const m=c.quantidade||0,f=d.saldo||0;m>f?(f>0&&(c.quantidade=$utils.arredondar(m-f),c.quantidadeRealizado=c.quantidade,d.saldo=0),o.carrinho.push(c)):d.saldo=$utils.arredondar(f-m)}for(const c in a)for(const d of i.filter(m=>m.idDocumentoAdicional===c)){const m=t.find(p=>p.idItem===d.idItem);if(!m)continue;if(m.saldo>=1){m.saldo--;continue}if(o.envelopes[c])continue;o.envelopes[c]=$utils.clonarV2(a[c]);let f=i.filter(p=>p.idDocumentoAdicional===c);o.itensEnvelopes=o.itensEnvelopes.concat($utils.clonarV2(f)),f=l.filter(p=>p.idTabelaMaster===c),o.arquivo=o.arquivo.concat($utils.clonarV2(f))}for(const c of n){let d=!1;for(const m of c.documentoItens){const f=t.find(p=>p.idItem===m.idItem);if(!!f&&m.quantidade>f.saldo){d=!0;break}}if(d){o.customs.push($utils.clonarV2(c));continue}for(const m of c.documentoItens){const f=t.find(p=>p.idItem===m.idItem);!f||f.saldo>0&&(f.saldo=$utils.arredondar(f.saldo-m.quantidade))}}for(const c of s){const d=$utils.clonarV2(c);d.documentoItens=[];for(const f of c.documentoItens){const p=t.find(g=>g.idItem===f.idItem);!p||f.quantidade>p.saldo&&d.documentoItens.push($utils.clonarV2(f))}o.oss.push(d);const m=c.documentoItens.filter(f=>!d.documentoItens.find(p=>p.id===f.id));for(const f of m){const p=t.find(g=>g.idItem===f.idItem);!p||p.saldo>0&&(p.saldo=$utils.arredondar(p.saldo-f.quantidade))}}return{objsVendaSemEstoque:$db.venda.trocarStatus({status:"Aguardando Estoque",objsVenda:o}).objsVenda}}function the({objsVendaOrig:e,objsVendaSemEstoque:t}){const o={venda:$utils.clonarV2(e.venda),carrinho:[],envelopes:{},itensEnvelopes:[],customs:[],oss:[],documentoEndereco:$utils.clonarV2(e.documentoEndereco),documentoContato:$utils.clonarV2(e.documentoContato),arquivo:[]},{carrinho:r,envelopes:a,itensEnvelopes:i,customs:n,oss:s,arquivo:l}=e;for(let u of r){const c=t.carrinho.find(d=>d.id===u.id);if(u=$utils.clonarV2(u),!c){o.carrinho.push(u);continue}u.quantidade=$utils.arredondar(u.quantidade-c.quantidade),u.quantidadeRealizado=u.quantidade,u.quantidade&&o.carrinho.push(u)}for(const u in a)if(!t.envelopes[u]){o.envelopes[u]=$utils.clonarV2(a[u]);let c=i.filter(d=>d.idDocumentoAdicional===u);o.itensEnvelopes=o.itensEnvelopes.concat($utils.clonarV2(c)),c=l.filter(d=>d.idTabelaMaster===u),o.arquivo=o.arquivo.concat($utils.clonarV2(c))}for(const u of n)t.customs.find(c=>c.documento.id===u.documento.id)||o.customs.push($utils.clonarV2(u));for(const u of s){const c=t.oss.find(m=>m.documento.id===u.documento.id);if(!c){o.oss.push($utils.clonarV2(u));continue}const d=$utils.clonarV2(u);d.documentoItens=[];for(const m of u.documentoItens)c.documentoItens.find(f=>f.id===m.id)||d.documentoItens.push($utils.clonarV2(m));d.documentoItens.length&&o.oss.push(d)}return{objsVendaComEstoque:o}}async function Y3({venda:e,carrinho:t}){for(const o of t){let r=o.valorItem-o.descontoItem;o.subTotal=$utils.arredondar(r*o.quantidade),o.total=o.subTotal,o.valorReal=r,o.valorRealTotal=o.total}return{carrinho:t}}async function ohe(e){let t,o={},r={};const a=(await Z0e({objsVendaOrig:e})).itensSemEstoque;if(a.length){t=ehe({objsVendaOrig:e,itensSemEstoque:a}),o=t.objsVendaSemEstoque,t=the({objsVendaOrig:e,objsVendaSemEstoque:o}),r=t.objsVendaComEstoque,o=await $db.venda.duplicar(o);for(let i of r.oss){for(let n of i.documentoItens)await $db.os.calculaTotalItem({os:i.documento,itemOs:n}).then(s=>{n=s.itemOs});await $db.os.calculaTotal({os:i.documento,itensOs:i.documentoItens}).then(n=>{i.documento=n.os})}for(let i of o.oss){for(let n of i.documentoItens)await $db.os.calculaTotalItem({os:i.documento,itemOs:n}).then(s=>{n=s.itemOs});await $db.os.calculaTotal({os:i.documento,itensOs:i.documentoItens}).then(n=>{i.documento=n.os})}await Y3({venda:r.venda,carrinho:r.carrinho}).then(i=>{r.carrinho=i.carrinho}),await Y3({venda:o.venda,carrinho:o.carrinho}).then(i=>{o.carrinho=i.carrinho}),await $db.venda.calcularTotais({objsVenda:r,campoAlterado:"totalPercentualDesconto"}).then(i=>{r.venda=i.venda}),await $db.venda.calcularTotais({objsVenda:o,campoAlterado:"totalPercentualDesconto"}).then(i=>{o.venda=i.venda})}return{objsVendaComEstoque:r,objsVendaSemEstoque:o,itensSemEstoque:a}}async function ahe(e={}){const{idContato:t}=e,o=new Date(new Date().toDateString());let r,a,i,n=[];if(!t)throw new Error("idContato n\xE3o encontrado.");if(r=await $erp().contato.get(t),!r)throw new Error("Contato n\xE3o encontrado.");if(a=await $erp().configuracoes.where({nome:"venda.codigoconsumidor"}).toArray(),a.find(s=>Number(s.valor)===r.codigoContato))return[];i=await $db.hibrido.lista({table:"financeiroTitulo",where:{idContato:t}});for(const s of i){const l=new Date(new Date(s.dataVencimento).toDateString());!s.receberPagar||!s.dataVencimento||l>=o||s.dataPagamento||n.push(s)}return n}async function rhe(e){let t=$db.usuario.logado.numeroDocumentoNacional,o;if(t){let _;_=await $erp().contato.where({numeroDocumentoNacional:t}).toArray(),o=_[0],o||(t=t.replace(/\D/g,""),_=await $erp().contato.where({numeroDocumentoNacional:t}).toArray(),o=_[0])}if(!(o!=null&&o.id))throw new Error("GError:N\xE3o foi poss\xEDvel localizar o usu\xE1rio da a\xE7\xE3o, opera\xE7\xE3o n\xE3o permitida.");const r=_=>{delete _.codigoDocumento,delete _.codigoDocumentoAdicional,delete _.codigoNFe,delete _.codigoEmpresa,delete _.codigoEmpresaEndereco,delete _.codigoContatoEndereco,delete _.codigoContatoResponsavel,delete _.codigoContato,delete _.codigoContatoFinalizado,delete _.codigoContatoComprador,delete _.codigoContatoVendedor,delete _.codigoContatoDigitador,delete _.codigoContatoCobranca,delete _.codigoContatoEnderecoEntrega,delete _.codigoContatoTransportadora,delete _.codigoMinuta,delete _.codigoFatura,delete _.codigoFinanceiroPlanoContaFaturamento,delete _.codigoItemTabelaPreco,delete _.codigoContatoResponsavelMinuta,delete _.codigoCaixa,delete _.codigoFinanceiroPlanoContaCaixa,delete _.codigoContatoIndicacao,delete _.codigoDocumentoItem,delete _.codigoDocumento,delete _.codigoDocumentoAdicional,delete _.codigoPlanoContaEstoque,delete _.codigoPlanoContaDestino,delete _.codigoItem,delete _.codigoDocumentoItemPai,delete _.codigoCFOP,delete _.codigoCfop,delete _.codigoDocumentoVenda,delete _.codigoDocumentoItemVenda,delete _.codigoDocumentoRemessa,delete _.codigoDocumentoCompra,delete _.codigoDocumentoTriagem,delete _.codigoContatoFornecedor,delete _.documentoCodigo,delete _.numero},a=_=>{const y=[];for(const I of _){const S={...I.documento},O=S.numero;S.id=Ft(),S.documentoId=n.id,r(S),S.tipo==="Custom"&&(S.numero=O);const F=[];for(const E of I.arquivo)F.push({...E,id:Ft(),idTabelaMaster:S.id});const M=[];for(const E of I.documentoItens){const D={...E};D.id=Ft(),D.idDocumento=n.id,D.idDocumentoAdicional=S.id,r(D),M.push(D)}y.push({arquivo:F,documento:S,documentoItens:M})}return y},i=_=>{const y=[];for(const I of _){const S={...I.documento},O=[];S.id=Ft(),S.documentoId=n.id,S.idDocumentoAdicional="",r(S);for(const F of I.documentosItem){if(F.operacao==="Manipula\xE7\xE3o")continue;const M={...F};M.id=Ft(),I.documento.documentoId===M.idDocumento&&(M.idDocumento=S.documentoId),I.documento.id===M.idDocumento&&(M.idDocumento=S.id),M.idDocumentoAdicional=S.id,r(M),O.push(M)}y.push({documento:S,documentosItem:O})}return y},n={...e.venda};n.id=Ft(),n.idContatoDigitador=o.id,r(n);const s=[];for(const _ of e.documentoEndereco||[])s.push({..._,id:Ft(),idDocumento:n.id});const l=[];for(const _ of e.documentoContato||[])l.push({..._,id:Ft(),idDocumento:n.id});const u=[];for(const _ of e.documentoStatus||[])u.push({..._,id:Ft(),idDocumento:n.id});const c={},d={};for(const _ in e.envelopes||{}){const y={...e.envelopes[_]};y.id=Ft(),c[_]=y.id,y.documentoId=n.id,r(y);const I=[];for(const S of y.documentoContato||[])I.push({...S,idDocumento:y.id});y.documentoContato=I,d[y.id]=y}const m=[];for(const _ of e.arquivo||[]){const y={..._,id:Ft(),idTabelaMaster:c[_.idTabelaMaster]};_.idTabelaMaster===e.venda.id&&(y.idTabelaMaster=n.id),m.push(y)}const f=[];for(const _ of e.itensEnvelopes||[]){const y={..._};y.id=Ft(),y.idDocumento=n.id,y.idDocumentoAdicional=c[y.idDocumentoAdicional],r(y),f.push(y)}const p=[];for(const _ of e.carrinho||[]){const y={..._};y.id=Ft(),y.idDocumento=n.id,r(y),p.push(y)}const g=a(e.customs||[]),b=a(e.oss||[]),x=i(e.kits||[]);return{venda:n,carrinho:p,customs:g,oss:b,kits:x,envelopes:d,itensEnvelopes:f,documentoEndereco:s,documentoContato:l,documentoStatus:u,arquivo:m}}async function ihe({tela:e,continueMesmaTela:t=!1}){let o,r,a;try{await new Promise((i,n)=>{$q.dialog({cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},message:"Esta a\xE7\xE3o ir\xE1 finalizar este or\xE7amento",ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0},title:"Tem certeza?"}).onOk(()=>{i()}).onCancel(()=>{n()})})}catch{return}try{o=new Date;const i=await $db.contato.le({numeroDocumentoNacional:$db.usuario.logado.numeroDocumentoNacional}),n=(i[0]||{}).id||"",s=(i[0]||{}).numeroDocumentoNacional||"";let l=[];$q.loading.show({message:"Processando..."});try{await $db.venda.checarConflitoStatus({id:e.venda.id,status:e.vendaOriginal.status})}catch(V){return $q.notifyError(V.message),!1}for(const V of e.carrinho.map(L=>L.id))await e.carrinhoCalcularTotais(V,null,!1);if(await e.calcularTotais(),e.erroCalculo){$q.loading.hide(),$q.notifyError("N\xE3o \xE9 poss\xEDvel finalizar a Venda. Erro de c\xE1lculo encontrado.");return}if(e.venda.totalDocumento>0&&(l=await $db.venda.titulosPendentesAtraso({idContato:e.venda.idContato}),l.length)){$q.loading.hide();const V=await new Promise((L,U)=>{e.mostrarTitulosPendentesEmAtraso={acao:L,titulosPendentesAtraso:l}});if(V==="cancelar")return;if(V==="continuar"){const L=e.venda.status,U="Aguardando Financeiro";e.documentoStatus.push({id:$utils.uuid(),idDocumento:e.venda.id,operacao:e.venda.operacao,statusOriginal:L,statusFinalizado:U,dataHoraEmissao:$utils.dataAtual(),cpfUsuario:s,observacao:"T\xEDtulos pendentes em atraso"}),e.venda.status=U,e.salvarVenda().then(()=>{e.$emit("executar","atualizar")});return}$q.loading.show({message:"Processando..."})}const u={venda:e.venda,carrinho:e.carrinho,envelopes:e.envelopes,itensEnvelopes:e.itensEnvelopes,customs:e.customs,oss:e.oss,documentoEndereco:e.documentoEndereco,documentoContato:e.documentoContato,arquivo:e.arquivo},{objsVendaComEstoque:c,objsVendaSemEstoque:d,itensSemEstoque:m}=await $db.venda.separaSemEstoque(u);if(m.length){const V=new Promise((U,ie)=>{e.modalItemSemEstoque.resolve=U,e.modalItemSemEstoque.reject=ie});e.modalItemSemEstoque.itens=m,e.modalItemSemEstoque.opcao="separar",e.modalItemSemEstoque.opcoes=[{label:"Separar pedido com itens sem estoque",value:"separar"},{label:"Colocar pedido todo como Aguardando Estoque",value:"aguardar"}],!c.carrinho.length&&!Object.keys(c.envelopes).length&&!c.customs.length&&!c.oss.length&&(e.modalItemSemEstoque.opcao="aguardar",e.modalItemSemEstoque.opcoes=[]),!d.carrinho.length&&!Object.keys(d.envelopes).length&&d.customs.length&&!d.oss.length&&(e.modalItemSemEstoque.opcao="finalizar",e.modalItemSemEstoque.opcoes=[]),e.modalItemSemEstoque.visivel=!0;let L=!0;try{await V,e.modalItemSemEstoque.visivel=!1}catch{L=!1}if(!L)return;if(e.modalItemSemEstoque.opcao==="aguardar"){const U=$db.venda.trocarStatus({status:"Aguardando Estoque",objsVenda:{venda:e.venda,carrinho:e.carrinho,envelopes:e.envelopes,itensEnvelopes:e.itensEnvelopes,customs:e.customs,oss:e.oss,kits:e.kits,arquivo:e.arquivo}});e.venda=U.objsVenda.venda,e.carrinho=U.objsVenda.carrinho,e.envelopes=U.objsVenda.envelopes,e.itensEnvelopes=U.objsVenda.itensEnvelopes,e.customs=U.objsVenda.customs,e.oss=U.objsVenda.oss,await e.salvarVenda(),e.$emit("executar","fechar");return}if(e.modalItemSemEstoque.opcao==="separar"){e.venda=c.venda,e.carrinho=c.carrinho,e.envelopes=c.envelopes,e.itensEnvelopes=c.itensEnvelopes,e.customs=c.customs,e.oss=c.oss,e.arquivo=c.arquivo;for(const H of e.carrinho.map(q=>q.id))await e.carrinhoCalcularTotais(H,null,!1);if(await e.calcularTotais(),e.erroCalculo){$q.loading.hide(),$q.notifyError("N\xE3o \xE9 poss\xEDvel finalizar a Venda. Erro de c\xE1lculo encontrado.");return}const U=[d.venda];let ie=d.arquivo||[],we=d.carrinho||[];we=we.concat(d.itensEnvelopes||[]);for(const H in d.envelopes)U.push(d.envelopes[H]);for(const H of d.customs)U.push(H.documento),we=we.concat(H.documentoItens||[]),ie=ie.concat(H.arquivo);for(const H of d.oss)U.push(H.documento),we=we.concat(H.documentoItens||[]),ie=ie.concat(H.arquivo);await $utils.processarFilho("documento",[],U),await $utils.processarFilho("documentoItem",[],we),await $utils.processarFilho("arquivo",[],ie)}}let f,p,g,b,x,_,y,I,S,O,F,M,E,D=[];f=$utils.clonar(e.venda),p=$utils.clonar(e.carrinho),g=$utils.clonar(e.envelopes),b=$utils.clonar(e.itensEnvelopes),x=$utils.clonar(e.documentoEndereco),_=e.customs.reduce((V,L)=>[...V,...L.documentoItens||[]],[]),y=e.oss.reduce((V,L)=>[...V,...L.documentoItens||[]],[]);for(const V of e.kits){const L=V.documentosItem.find(U=>U.operacaoFator===-1);D.push(L)}if(I=await $db.contato.le({id:f.idContato}),S=await $db.empresa.le({idContato:f.idEmpresa}),S=S.length?S[0]:{},O=await $db.contato.le({id:S.idContato}),F=await $db.contatoEndereco.le({idContato:f.idContato}),M=await $db.contatoTelefone.le({idContato:f.idContato}),E=F.filter(V=>V.grupo==="Principal"),!!e.$refs.faturamento.formasPagamento.find(V=>V.utilizaLimite)){const V=$utils.arredondar(I.creditoDisponivel),L=$utils.arredondar(f.totalDocumento);if(L>V){e.modalCreditoDisponivel.permiteFinalizar=await $db.permissao.objeto("Diretiva_Vendas_LimiteCredito"),e.modalCreditoDisponivel.title="Limite de cr\xE9dito insuficiente",e.modalCreditoDisponivel.body=`Limite ${e.$filters.numero(V,2)} - Venda ${e.$filters.numero(L,2)}`,$q.loading.hide();let U=!1;if(await new Promise(async(ie,we)=>{e.modalCreditoDisponivel.resolve=ie,e.modalCreditoDisponivel.reject=we,e.modalCreditoDisponivel.visivel=!0}).then(ie=>{if(ie==="continuar"){const we=e.venda.status,H="Aguardando Financeiro";e.documentoStatus.push({id:$utils.uuid(),idDocumento:f.id,operacao:f.operacao,statusOriginal:we,statusFinalizado:H,dataHoraEmissao:$utils.dataAtual(),cpfUsuario:$db.usuario.logado.numeroDocumentoNacional,observacao:e.modalCreditoDisponivel.title+". "+e.modalCreditoDisponivel.body}),e.venda.status=H,e.salvarVenda().then(()=>{e.$emit("executar","atualizar")}),U=!0}e.modalCreditoDisponivel.visivel=!1}).catch(()=>{U=!0}),U)return}}$q.loading.show({message:"Processando..."});const N=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.usaExpedicao",f.idEmpresa,0))||0,R=N?"Aguardando Separa\xE7\xE3o":"Aguardando Faturamento";if(e.$refs.transporte&&N&&!e.$refs.transporte.transporte)return $q.notify({message:"\xC9 necess\xE1rio incluir transporte para finalizar!"}),!1;await e.atualizaUsaFatura(S);let z=!1;e.geraFatura===1&&(z=!0);const W=$utils.arredondar(e.$refs.faturamento.condicaoPagamento.reduce((V,L)=>V+(L.valor||0),0));if(e.geraFatura===2&&!W)try{$q.loading.hide(),await $q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},message:"N\xE3o h\xE1 condi\xE7\xE3o de pagamento. Deseja gerar fatura?",noRefocus:!0,ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0},preventClose:!0,title:"Confirma?"}),$q.loading.show({message:"Processando..."}),z=!0}catch{}if(!z&&e.venda.totalDocumento&&!W)return $q.notify({message:"\xC9 necess\xE1rio incluir forma de pagamento para finalizar!"}),!1;let j={};for(const V of await $db.configuracoes.le())j[V.nome]||(j[V.nome]=[]),j[V.nome].push(V);if(j["vendas.validarestricao"]&&parseInt(j["vendas.validarestricao"][0].valor)===1&&(I.condutaRestricao||"").trim())return $q.notify({message:I.condutaRestricao,timeout:0,type:"negative",closeBtn:!0}),!1;let Q="";if(f.numeroDocumentoContato||(I.numeroDocumentoNacional?f.numeroDocumentoContato=I.numeroDocumentoNacional:Q+="N\xFAmero CPF/CNPJ, "),F.length){const V=[...E,...F][0];if(!f.descricaoContatoEndereco){f.descricaoContatoEndereco="".concat(V.logradouro||"",", ",V.numero||""," ",V.complemento||""," - ",V.bairro||""," - ",V.cep||""," - ",V.municipio||"","/",V.uf||"");for(const L of x)L.idContatoEndereco=V.id,L.idCidade=V.idCidade,L.descricao=f.descricaoContatoEndereco,L.logradouro=V.logradouro,L.numero=V.numero,L.complemento=V.complemento,L.condominio=V.condominio,L.bairro=V.bairro,L.cep=V.cep,L.ibgeCod=V.ibgeCod,L.municipio=V.municipio,L.uf=V.uf,L.ufCod=V.ufCod,L.pais=V.pais,L.grupo=V.grupo,L.cidadeCodChave=V.cidadeCodChave,L.observacao=V.observacao}}else Q+="Endere\xE7o, ";if(f.telefoneContato||(M.length?f.telefoneContato=M[0].telefone:Q+="Telefone, "),f.numeroDocumentoContato||(f.numeroDocumentoContato=I.numeroDocumentoNacional),(f.numeroDocumentoContato||"").length>14&&(I.numeroDocumentoEstadual===""&&(Q+="I.E., "),f.regimeContato||(I.regime?f.regimeContato=I.regime:Q+="Regime fiscal, ")),O.email||O.emailNfe||(Q+="E-mail do emitente, "),j["vendas.validainformacoes"]&&parseInt(j["vendas.validainformacoes"][0].valor)===1&&Q!=="")return $q.notify({message:"Faltando campos obrigat\xF3rios do cliente: "+Q.slice(0,-2),timeout:0,type:"negative",closeBtn:!0}),!1;f.pesoTotalTransporte=0;let se=0,_e,Ee;for(const V of p){if(V.descontoItem===0&&V.total===0)return $q.notify({message:"Existe item no pedido com valor zerado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(V.operacaoFator===1){let L=0;!_e&&!Ee&&(_e=await $erp().documento.where({tipo:"Venda",idContato:f.idContato}).toArray(),_e=_e.filter(U=>U.status&&!~["N\xE3o Aprovado","Cancelado"].indexOf(U.status)&&U.dataHoraFinalizado),Ee=await $erp().documentoItem.where("idDocumento").anyOf(_e.map(U=>U.id)).toArray());for(const U of Ee)U.idItem===V.idItem&&(!U.operacaoFator||(L+=U.quantidade*U.operacaoFator*-1));if(V.quantidade>L){$q.notify(V.descricaoItem.trim()+" - Saldo dispon\xEDvel para devolu\xE7\xF5es: "+L);return}}if(V.total>0){const L=$utils.arredondar((V.total||0)*100/(f.subTotal||1)),U=$utils.arredondar((f.totalDesconto||0)*(L||0)/100),ie=(V.valorItem||0)*(V.quantidade||1)-(V.descontoItem||0)*(V.quantidade||1)-(U||0),we=(ie||0)/(V.quantidade||1);V.descontoTotalRateado=$utils.arredondar(U),V.valorReal=$utils.arredondar(we),V.valorRealTotal=$utils.arredondar(ie),se+=U}else V.valorReal=$utils.arredondar(V.total/(V.quantidade||1)),V.valorRealTotal=$utils.arredondar(V.total);f.pesoTotalTransporte=$utils.arredondar(f.pesoTotalTransporte+(V.peso||0))}for(const V of b){if(V.descontoItem===0&&V.total===0&&V.idItem)return $q.notify({message:"Existe item no envelope com valor zerado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(V.total>0){const L=$utils.arredondar((V.total||0)*100/(f.subTotal||1)),U=$utils.arredondar((f.totalDesconto||0)*(L||0)/100),ie=(V.valorItem||0)*(V.quantidade||1)-(V.descontoItem||0)*(V.quantidade||1)-(U||0),we=(ie||0)/(V.quantidade||1);V.descontoTotalRateado=$utils.arredondar(U),V.valorReal=$utils.arredondar(we),V.valorRealTotal=$utils.arredondar(ie),se+=U}f.pesoTotalTransporte=$utils.arredondar(f.pesoTotalTransporte+(V.peso||0))}for(const V of _){if(V.quantidade===0&&V.idItem)return $q.notify({message:`${V.descricaoItem} com quantidade zerada n\xE3o permitido.`,timeout:0,type:"warning",closeBtn:!0}),!1;if(V.descontoItem===0&&V.total===0&&V.idItem)return $q.notify({message:"Item com valor zerado encontrado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(V.total>0){const L=$utils.arredondar((V.total||0)*100/(f.subTotal||1)),U=$utils.arredondar((f.totalDesconto||0)*(L||0)/100),ie=(V.valorItem||0)*(V.quantidade||1)-(V.descontoItem||0)*(V.quantidade||1)-(U||0),we=(ie||0)/(V.quantidade||1);V.descontoTotalRateado=$utils.arredondar(U),V.valorReal=$utils.arredondar(we),V.valorRealTotal=$utils.arredondar(ie),se+=U}f.pesoTotalTransporte=$utils.arredondar(f.pesoTotalTransporte+(V.peso||0))}for(const V of y){if(V.descontoItem===0&&V.total===0&&V.idItem)return $q.notify({message:"Item com valor zerado encontrado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(V.total>0){const L=$utils.arredondar((V.total||0)*100/(f.subTotal||1)),U=$utils.arredondar((f.totalDesconto||0)*(L||0)/100),ie=(V.valorItem||0)*(V.quantidade||1)-(V.descontoItem||0)*(V.quantidade||1)-(U||0),we=(ie||0)/(V.quantidade||1);V.descontoTotalRateado=$utils.arredondar(U),V.valorReal=$utils.arredondar(we),V.valorRealTotal=$utils.arredondar(ie),se+=U}f.pesoTotalTransporte=$utils.arredondar(f.pesoTotalTransporte+(V.peso||0))}for(const V of D){if(V.descontoItem===0&&V.total===0&&V.idItem)return $q.notify({message:"Item com valor zerado encontrado.",timeout:0,type:"warning",closeBtn:!0}),!1;if(V.total>0){const L=$utils.arredondar((V.total||0)*100/(f.subTotal||1)),U=$utils.arredondar((f.totalDesconto||0)*(L||0)/100),ie=(V.valorItem||0)*(V.quantidade||1)-(V.descontoItem||0)*(V.quantidade||1)-(U||0),we=(ie||0)/(V.quantidade||1);V.descontoTotalRateado=$utils.arredondar(U),V.valorReal=$utils.arredondar(we),V.valorRealTotal=$utils.arredondar(ie),se+=U}f.pesoTotalTransporte=$utils.arredondar(f.pesoTotalTransporte+(V.peso||0))}for(const V of b)if($utils.arredondar(V.valorItem-V.descontoItem)!==$utils.arredondar(V.total)&&V.idItem)return $q.notify({message:`${V.descricaoItem} com valor total incorreto.`,timeout:0,type:"warning",closeBtn:!0}),!1;if(f.totalDesconto!==$utils.arredondar(se)){const V=$utils.arredondar((f.totalDesconto||0)-(se||0));let L,U=0;for(const ie of p)ie.total>U&&(U=ie.total,L=ie);for(const ie of b)ie.total>U&&(U=ie.total,L=ie);for(const ie of _)ie.total>U&&(U=ie.total,L=ie);for(const ie of y)ie.total>U&&(U=ie.total,L=ie);for(const ie of D)ie.total>U&&(U=ie.total,L=ie);if(L){const ie=(L.descontoTotalRateado||0)+(V||0),we=(L.valorItem||0)*(L.quantidade||1)-(L.descontoItem||0)-(ie||0),H=(we||0)/(L.quantidade||1);L.descontoTotalRateado=$utils.arredondar(ie),L.valorReal=$utils.arredondar(H),L.valorRealTotal=$utils.arredondar(we)}}const J=[],re=(I.numeroDocumentoNacional||"").replace(/[^\d+]/gi,"");let ye=new Date(new Date().setDate(1)).toISOString().replace(/T.*/,"T00:00:00.000Z"),ge=new Date().toISOString().replace(/T.*/,"T23:59:59.999Z");const De=[];await $erp().documento.where(["tipo","idContato","dataHoraFinalizado"]).between(["Venda",I.id,ye],["Venda",I.id,ge],!0,!0).each(V=>{["N\xE3o Aprovado","Or\xE7amento"].includes(V.status)||De.push(V)});let Oe=re.length===11,he=re.length===14;e.modalProdutoControlado.permiteQuantidadeExcedida=!1;for(const V of[...p,..._,...y,...D,...b])if(V.idItem&&V.operacaoFator===-1&&V.ncm==="87089990"){const L=await $erp().item.get(V.idItem)||{};if(L.id){let U=V.quantidade,ie=!1,we="";U+=[...p,..._,...y,...D,...b].reduce((H,q)=>q.idItem===V.idItem&&q.id!==V.id?H+(q.quantidade||0):H,0);for(const H of De)U+=(await $erp().documentoItem.where({idItem:V.idItem,idDocumento:H.id}).toArray()).reduce((k,Y)=>k+(Y.quantidade||0),0);U=$utils.arredondar(U,4),L.controladoExercito&&Oe&&(we="Venda proibida para pessoa f\xEDsica",ie=!0),!ie&&he&&L.controladoExercito&&L.controladoExercito<U&&(we="M\xE1ximo permitido pelo Ex\xE9rcito para vendas no m\xEAs: "+e.$filters.numero(L.controladoExercito,4),ie=!0),!ie&&Oe&&L.controladoPoliciaFederal&&L.controladoPoliciaFederal<U&&(we="M\xE1ximo permitido pela Pol\xEDcia Federal para vendas no m\xEAs: "+e.$filters.numero(L.controladoPoliciaFederal,4),ie=!0),!ie&&Oe&&L.controladoPoliciaCivil&&L.controladoPoliciaCivil<U&&(we="M\xE1ximo permitido pela Pol\xEDcia Civil para vendas no m\xEAs: "+e.$filters.numero(L.controladoPoliciaCivil,4),ie=!0),!ie&&he&&L.controladoPoliciaFederal&&L.controladoPoliciaFederal<U&&(we="M\xE1ximo permitido pela Pol\xEDcia Federal para vendas no m\xEAs: "+e.$filters.numero(L.controladoPoliciaFederal,4),ie=!0,e.modalProdutoControlado.permiteQuantidadeExcedida=!0,$q.notify({message:"Solicitar permiss\xE3o para a venda"})),!ie&&he&&L.controladoPoliciaCivil&&L.controladoPoliciaCivil<U&&(we="M\xE1ximo permitido pela Pol\xEDcia Civil para vendas no m\xEAs: "+e.$filters.numero(L.controladoPoliciaCivil,4),ie=!0,e.modalProdutoControlado.permiteQuantidadeExcedida=!0,$q.notify({message:"Solicitar permiss\xE3o para a venda"})),ie&&J.push({descricao:L.descricao,tooltip:we})}}if(J.length){e.modalProdutoControlado.itens=J,$q.loading.hide();let V=!1;if(await new Promise(async(L,U)=>{e.modalProdutoControlado.resolve=L,e.modalProdutoControlado.reject=U,e.modalProdutoControlado.visivel=!0}).catch(()=>{V=!0}),V)return;$q.loading.show({message:"Processando..."})}if(R){f.dataHoraFinalizado=$utils.dataAtual(),f.idContatoFinalizado=n;const V=f.status;f.status=R;for(const L of p)L.dataHoraFinalizado=f.dataHoraFinalizado,L.valorReal=$utils.arredondar(L.valorReal),L.valorRealTotal=$utils.arredondar(L.valorRealTotal),L.operacaoFator<0&&(L.status=R),L.operacaoFator>0&&(L.status="Entregue");for(const L in g)g[L].status="Processando";for(const L of b)L.dataHoraFinalizado=f.dataHoraFinalizado,L.descontoTotalRateado=$utils.arredondar(L.descontoTotalRateado),L.valorReal=$utils.arredondar(L.valorReal),L.valorRealTotal=$utils.arredondar(L.valorRealTotal),L.operacaoFator<0&&(L.status=R),L.operacaoFator>0&&(L.status="Entregue");for(const L of e.customs)L.documento.status="Processando";for(const L of e.oss)L.documento.status="Processando";for(const L of e.kits)L.documento.status="Processando";for(const L of _)L.dataHoraFinalizado=f.dataHoraFinalizado,L.descontoTotalRateado=$utils.arredondar(L.descontoTotalRateado),L.valorReal=$utils.arredondar(L.valorReal),L.valorRealTotal=$utils.arredondar(L.valorRealTotal),L.operacaoFator<0&&(L.status=R),L.operacaoFator>0&&(L.status="Entregue");for(const L of y)L.dataHoraFinalizado=f.dataHoraFinalizado,L.descontoTotalRateado=$utils.arredondar(L.descontoTotalRateado),L.valorReal=$utils.arredondar(L.valorReal),L.valorRealTotal=$utils.arredondar(L.valorRealTotal),L.operacaoFator<0&&(L.status=R),L.operacaoFator>0&&(L.status="Entregue");for(const L of D)L.dataHoraFinalizado=f.dataHoraFinalizado,L.descontoTotalRateado=$utils.arredondar(L.descontoTotalRateado),L.valorReal=$utils.arredondar(L.valorReal),L.valorRealTotal=$utils.arredondar(L.valorRealTotal),L.operacaoFator<0&&(L.status=R),L.operacaoFator>0&&(L.status="Entregue");e.documentoStatus.push({id:$utils.uuid(),idDocumento:f.id,operacao:f.operacao,statusOriginal:V,statusFinalizado:R,dataHoraEmissao:f.dataHoraFinalizado,cpfUsuario:$db.usuario.logado.numeroDocumentoNacional});for(const L in g)e.documentoStatus.push({id:$utils.uuid(),idDocumento:g[L].id,operacao:"Mudan\xE7a status envelope",statusOriginal:V,statusFinalizado:"Processando",dataHoraEmissao:f.dataHoraFinalizado,cpfUsuario:$db.usuario.logado.numeroDocumentoNacional})}else{f.dataHoraFinalizado=$utils.dataAtual(),f.idContatoFinalizado=n,f.status="Aguardando Entrega";for(const V of p)V.dataHoraFinalizado=f.dataHoraFinalizado,V.operacaoFator<0&&(V.status="Finalizado"),V.operacaoFator>0&&(V.status="Entregue");for(const V in g)g[V].status="Processando",g[V].dataHoraFinalizado=f.dataHoraFinalizado;for(const V of b)V.dataHoraFinalizado=f.dataHoraFinalizado,V.operacaoFator<0&&(V.status="Finalizado"),V.operacaoFator>0&&(V.status="Entregue");for(const V of e.customs)V.documento.status="Processando",V.documento.dataHoraFinalizado=f.dataHoraFinalizado;for(const V of e.oss)V.documento.status="Processando",V.documento.dataHoraFinalizado=f.dataHoraFinalizado;for(const V of e.kits)V.documento.status="Processando",V.documento.dataHoraFinalizado=f.dataHoraFinalizado;for(const V of _)V.dataHoraFinalizado=f.dataHoraFinalizado,V.operacaoFator<0&&(V.status="Finalizado"),V.operacaoFator>0&&(V.status="Entregue");for(const V of y)V.dataHoraFinalizado=f.dataHoraFinalizado,V.operacaoFator<0&&(V.status="Finalizado"),V.operacaoFator>0&&(V.status="Entregue");for(const V of D)V.dataHoraFinalizado=f.dataHoraFinalizado,V.operacaoFator<0&&(V.status="Finalizado"),V.operacaoFator>0&&(V.status="Entregue")}const Me=await $db.permissao.objeto("Diretiva_Vendas_DescontoMaximo"),fe=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.margem.trava",f.idEmpresa,0))||0;if(!Me&&fe&&$lodash.get(e.margem[f.id],"limite",!1))return $q.notify({message:"Venda com \xEDndice inferior ao permitido"}),!1;if(!await $db.venda.checarTabelasPreco({carrinho:p,itensEnvelopes:b,documentosItensCustoms:_,documentosItensOSs:y,documentosItemKits:D,tela:e}))return;let G=!1;if(z){let V={};const L=await $db.configuracoes.leValorNumerico("venda.codigoconsumidor");if(I.codigoContato!==L&&(V=await $db.documento.ler({idContato:f.idContato,idEmpresa:f.idEmpresa,tipo:"Fatura",status:"Aberta"})),V.length)V=$lodash.orderBy(V,"dataHoraEmissao","desc"),f.idFatura=V[0].id;else{let U=0,ie=0,we=f.totalDocumento;f.idFatura=$utils.uuid(),$db.fatura.grava({fatura:{id:f.idFatura,dataHoraEmissao:f.dataHoraFinalizado,calcularAutomatico:"Sim",tipo:"Fatura",operacao:"Faturamento",status:"Aberta",tipoFrete:"CIF",freteSeparado:!1,totalDesconto:U,totalPercentualDesconto:ie,subTotal:f.subTotal,totalDocumento:we,idEmpresa:f.idEmpresa,idEmpresaEndereco:f.idEmpresaEndereco,descricaoEmpresa:f.descricaoEmpresa,numeroDocumentoEmpresa:f.numeroDocumentoEmpresa,inscricaoMunicipalEmpresa:f.inscricaoMunicipalEmpresa,codigoMunicipioEmpresa:f.codigoMunicipioEmpresa,optanteSimplesNacional:f.optanteSimplesNacional,idContato:f.idContato,idContatoEndereco:f.idContatoEndereco,numeroDocumentoContato:f.numeroDocumentoContato,descricaoContato:f.descricaoContato,descricaoContatoEndereco:f.descricaoContatoEndereco,telefoneContato:f.telefoneContato,emailContato:f.emailContato,regimeContato:f.regimeContato}})}G=await $db.permissao.objeto("atendimento//fatura")}return e.venda=f,e.carrinho=p,e.envelopes=g,e.itensEnvelopes=b,e.documentoEndereco=x,await e.salvarVenda(),$q.notifyPositive("Or\xE7amento finalizado"),G&&!t?(localStorage.setItem("idFatura",e.venda.idFatura),await e.$nextTick(),e.$router.push({name:"AtendimentoFatura",params:{id:e.venda.idContato}})):(e.$emit("fechar"),e.$emit("executar","atualizar")),!0}catch(i){let n="Erro ao finalizar.";/^GError:.+/.test(i.message)&&(n=i.message.slice(7)),this.$q.notify({type:"negative",message:n}),console.error(i)}finally{$q.loading.hide(),r=new Date,a=(r.getTime()-o.getTime())/1e3,$db.sincronismo.logar(`${new Date().toLocaleTimeString("pt-br")} venda finalizada ${new Intl.NumberFormat("pt-BR").format(a)}s`)}}function nhe({status:e,objsVenda:t}){const{venda:o,carrinho:r,envelopes:a,itensEnvelopes:i,customs:n,oss:s,kits:l}=t,u=[...r,...i];o.status=e;for(const c in a)a[c].status=e;for(const c of u)c.status=e;for(const c of n){c.documento.status=e;for(const d of c.documentoItens)d.status=e}for(const c of s){c.documento.status=e;for(const d of c.documentoItens)d.status=e}for(const c of l!=null?l:[]){const d=c.documentosItem.find(m=>m.operacaoFator===-1);c.documento.status=e,d.status=e}return{objsVenda:t}}async function she(e){var l,u,c,d,m;const t=await $db.venda.leCompleto(e),o=await $db.venda.duplicar(t),r="Or\xE7amento",a=$utils.dataAtual(),i=[],n=[];let s;delete o.venda.idFatura,delete o.venda.dataHoraFinalizado,delete o.venda.pesoTotalTransporte,o.venda.status=r,o.venda.dataHoraEmissao=a,o.venda.subTotal=0,o.venda.totalDesconto=0,o.venda.totalDocumento=0,o.venda.totalPercentualDesconto=0,o.venda.totalProduto=0,o.venda.totalServico=0,o.venda.valorFrete=0,o.arquivo=[],o.carrinho=o.carrinho.filter(f=>f.operacaoFator===-1),Array.prototype.push.apply(i,o.carrinho),Array.prototype.push.apply(i,o.itensEnvelopes);for(const f in o.envelopes){const p=o.envelopes[f];n.push(p)}o.envelopes=n,o.customs.forEach(f=>{f.arquivo=[],f.documento.status=r,f.documento.dataHoraEmissao=a,f.documento.dataHoraFinalizado="",Array.prototype.push.apply(i,f.documentoItens)}),o.oss.forEach(f=>{f.arquivo=[],f.documento.status=r,f.documento.dataHoraEmissao=a,f.documento.dataHoraFinalizado="",Array.prototype.push.apply(i,f.documentoItens)}),o.kits.forEach(f=>{f.documento.dataHoraEmissao=a,delete f.documento.status,delete f.documento.dataHoraFinalizado,delete f.documento.freteSeparado,delete f.documento.calcularAutomatico,delete f.documento.idDocumentoAdicional,delete f.documento.totalDesconto,delete f.documento.totalPercentualDesconto,Array.prototype.push.apply(i,f.documentosItem)}),o.envelopes.forEach(f=>{f.arquivo=[],f.status=r,f.dataHoraEmissao=a,f.dataHoraFinalizado=""});for(const f of i){let p,g,b=!0;if(delete f.dataHoraFinalizado,delete f.quantidadeRealizado,f.status=r,f.dataHoraEmissao=a,f.descontoFaturaRateado=0,f.descontoItem=0,f.descontoPercentualItem=0,f.descontoSubTotal=0,f.descontoTotalRateado=0,f.valorDifal=0,f.valorIcms=0,f.valorIcmsSt=0,f.valorIpi=0,!!f.idItem){if(p=await $erp().item.get(f.idItem),g=(l=p==null?void 0:p.valorVenda)!=null?l:0,o.venda.idItemTabelaPreco){let x,_;x=await $erp().itemTabelaPreco.get(o.venda.idItemTabelaPreco),x&&(_=await $db.itemTabelaPreco.obterValores(x,p,4),g=(u=_==null?void 0:_.valorVenda)!=null?u:0)}s=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:p.id,idEmpresa:o.venda.idEmpresa,tipoEstoque:"Dispon\xEDvel"})).find(x=>x.idItem),f.total=$utils.arredondar(g*f.quantidade),f.subTotal=f.total,f.valorCusto=0,f.valorCustoMedio=(c=s==null?void 0:s.valorCustoMedio)!=null?c:0,f.valorCustoReposicao=(d=p.valorCustoReposicao)!=null?d:0,f.valorCustoUltimo=(m=s==null?void 0:s.valorCusto)!=null?m:0,f.valorItem=g,f.valorItemUltimo=p.valorVenda,f.valorOriginal=g,f.valorReal=g,f.valorRealTotal=f.total;for(const x of o.kits){const _=x.documentosItem.find(y=>y.id===f.id);if(_){_.idDocumento===_.idDocumentoAdicional&&(delete _.status,delete _.valorDifal,delete _.valorIcms,delete _.valorIcmsSt,delete _.valorIpi,b=!1);break}}b&&(o.venda.subTotal+=f.total)}}return o.venda.subTotal=$utils.arredondar(o.venda.subTotal),o.venda.totalDocumento=o.venda.subTotal,o.oss.forEach(f=>{f.documento.subTotal=$utils.arredondar(f.documentoItens.reduce((p,g)=>p+g.subTotal,0)),f.documento.totalDocumento=f.documento.subTotal,f.documento.totalDesconto=0,f.documento.totalPercentualDesconto=0}),o.customs.forEach(f=>{f.documento.subTotal=$utils.arredondar(f.documentoItens.reduce((p,g)=>p+g.subTotal,0)),f.documento.totalDocumento=f.documento.subTotal,f.documento.totalDesconto=0,f.documento.totalPercentualDesconto=0}),o.kits.forEach(f=>{f.documento.subTotal=$utils.arredondar(f.documentosItem.reduce((p,g)=>g.idDocumento===g.idDocumentoAdicional?p:p+g.subTotal,0)),f.documento.totalDocumento=f.documento.subTotal}),o.envelopes.forEach(f=>{const p=o.itensEnvelopes.filter(g=>g.idDocumentoAdicional===f.id);f.subTotal=$utils.arredondar(p.reduce((g,b)=>g+b.subTotal,0)),f.totalDocumento=f.subTotal,f.totalDesconto=0,f.totalPercentualDesconto=0}),await $db.venda.grava({venda:o.venda,customs:o.customs,kits:o.kits,oss:o.oss,envelopes:o.envelopes,carrinho:[...o.carrinho,...o.itensEnvelopes],documentoEndereco:o.documentoEndereco,documentoContato:o.documentoContato,arquivo:o.arquivo}),o.venda.id}async function lhe(e){var u,c;const{where:t,page:o,limit:r}=e!=null?e:{};if(!t.idContato)return{data:[],allData:[],total:0,totalPages:0,somaTotalDocumento:0};const a=["Aguardando Libera\xE7\xE3o","Aguardando Estoque","Aguardando Financeiro","Or\xE7amento"],i=["N\xE3o Aprovado","Cancelado"];let n,s,l;if(t.status==="aberta"&&(s=a.join(",")),t.status==="finalizada"&&(l=[...a,...i].join(",")),t.status==="cancelada"&&(s=i.join(",")),$db.hibrido.get("mode")==="remoto"&&(n=await $db.venda.leRefatorado({filtros:{...t,status:s,statusDiferenteDe:l},termoBusca:"",limit:r,page:o,sort:["dataHoraFinalizado","dataHoraEmissao"],dir:["desc","desc"]})),$db.hibrido.get("mode")==="local"){const{idContato:d,periodo:m,grupos:f}=t,p=await $db.permissao.objeto("Diretiva_Venda/Fatura_OutrasLojas_VerTodos"),g=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data;let b=[],x=new Date(new Date(m.dataIni).toDateString()),_=new Date(new Date(m.dataFim).toDateString());if(b=await $db.documento.ler({idContato:d,tipo:"Venda"}),s&&(b=b.filter(y=>y.status&&~(s==null?void 0:s.indexOf(y.status)))),l&&(b=b.filter(y=>y.status&&!~(l==null?void 0:l.indexOf(y.status)))),p||(b=b.filter(y=>g.find(I=>I.id===y.idEmpresa))),m.dataIni&&m.dataFim&&(b=b.filter(y=>{let I=y.dataHoraFinalizado||y.dataHoraEmissao;if(I)return I=new Date(new Date(I).toDateString()),I>=x&&I<=_})),!f.length){let y;y=0;for(const I of b)y+=(u=I.totalDocumento)!=null?u:0;b=$lodash.orderBy(b,["dataHoraFinalizado","dataHoraEmissao"],["desc","desc"]),n={data:b.slice((o-1)*r,(o-1)*r+r),allData:b,total:b.length,totalPages:(b.length/r|0)+(b.length%r>0?1:0),somaTotalDocumento:y}}if(f.length){const y=$utils.clonarV2(f).map(N=>$utils.removerAcentos(N));let I=b.filter(N=>{if(!N.numero)return!1;const R=String(N.numero);for(const z of y){const W=new RegExp(z,"gi");if(R.match(W))return!0}}),S=[];for(const N of b){const R=await $db.documentoItem.ler({idDocumento:N.id});S=[...S,...R.filter(z=>z.idItem)]}let O=[],F={};for(const N of S)if(N.idItem&&!O.filter(R=>R.id===N.idItem).length){const R=await $db.item.leNew({id:N.idItem});O.push(R)}let M=[],E=S.filter(N=>{if(!N.idItem&&!N.descricaoItem)return!1;const R=$utils.removerAcentos(N.descricaoItem);for(const z of y){const W=new RegExp(z,"gi");if(R.match(W))return M.push(N.id),!0}});F=O.filter(N=>{const R=N.marca||"",z=N.referencia||"",W=N.codigoItem?String(N.codigoItem):"",j=N.codigoBarras||"",Q=$utils.removerAcentos(R+z+W+j);for(const se of y){const _e=new RegExp(se,"gi");if(Q.match(_e))return!0}});for(const N of I){const R=S.filter(z=>{if(z.idItem&&z.idDocumento===N.id&&!M.includes(z.id))return M.push(z.id),!0});E=[...E,...R]}for(const N of F){const R=S.filter(z=>{if(z.idItem===N.id&&!M.includes(z.id))return M.push(z.id),!0});E=[...E,...R]}E=E.filter(N=>{let R=$utils.clonar(y),z=b.filter(Q=>Q.id===N.idDocumento),W=O.filter(Q=>Q.id===N.idItem);z=z.length?z[0]:{},W=W.length?W[0]:{};let j=z.numero?String(z.numero):"";if(j+=N.descricaoItem||"",j+=W.marca||"",j+=W.referencia||"",j+=W.codigoItem?String(W.codigoItem):"",j+=W.codigoBarras||"",j)for(const Q of y){const se=new RegExp(Q,"gi");j.match(se)&&(R=R.filter(_e=>_e!==Q))}if(!R.length)return!0});let D=[];I=[],F={};for(const N of E)if(D.includes(N.idDocumento)||(D.push(N.idDocumento),I=[...I,...b.filter(R=>R.id===N.idDocumento)]),!F[N.idItem]){const R=O.filter(z=>z.id===N.idItem);R.length&&(F[N.idItem]=R[0])}let P;b=$lodash.orderBy(I,["dataHoraEmissao"],["desc"]),P=0;for(const N of b)P+=(c=N.totalDocumento)!=null?c:0;n={data:b.slice((o-1)*r,(o-1)*r+r),allData:b,total:b.length,totalPages:(b.length/r|0)+(b.length%r>0?1:0),somaTotalDocumento:P}}}return n}async function che(e){var c,d,m,f;const{filtro:t,termoBusca:o,limit:r,page:a,sort:i,dir:n=!1}=e!=null?e:{},s={};let l,u;if($db.hibrido.get("mode")==="remoto"){~((c=t.status)==null?void 0:c.indexOf("Finalizado"))||delete t.faturado;let p,g,b,x;const _=await $utils.geeksApi({listarVendas:{funcao:"A43AD40B-2496-4349-9789-968A32487885",filtro:t,limit:r,page:a,sort:i,dir:n}});return p=_.data.listarVendas.data,g=_.data.listarVendas.total,b=_.data.listarVendas.totalPages,x=_.data.listarVendas.somaTotalDocumento,{data:p,total:g,totalPages:b,somaTotalDocumento:x}}if(/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test((d=t.id)!=null?d:t.termoBusca)){const p=((m=t.id)!=null?m:t.termoBusca).toUpperCase(),g=[],b=await $erp().documento.get(p);return(b==null?void 0:b.tipo)==="Venda"&&t.idsEmpresa.indexOf(b.idEmpresa)&&g.push(b),{data:g,total:1,totalPages:1}}if(s.tipo="Venda",!s.id&&t.status&&typeof t.status=="string"&&(s.status=t.status),l=Z().documento.where(s),t.termoBusca){const p=$utils.tratamentoCompletoString(t.termoBusca);l=l.filter(g=>~$utils.tratamentoCompletoString(g.descricaoContato).indexOf(p))}if(t.status&&Array.isArray(t.status)&&t.status.length&&(l=l.filter(p=>~t.status.indexOf(p.status))),t.idEmpresa&&(l=l.filter(p=>p.idEmpresa===t.idEmpresa)),!t.idEmpresa&&((f=t.idsEmpresa)==null?void 0:f.length)>0&&(l=l.filter(p=>~t.idsEmpresa.indexOf(p.idEmpresa))),typeof t.idContatoVendedorDigitador=="string"&&(l=l.filter(p=>~[p.idContatoDigitador,p.idContatoVendedor].indexOf(t.idContatoVendedorDigitador))),t.statusEnvio==="Enviados"&&(l=l.filter(p=>p==null?void 0:p.rotaJson)),t.statusEnvio==="N\xE3o Enviados"&&(l=l.filter(p=>!(p!=null&&p.rotaJson))),t.descricaoContato){const p=$utils.tratamentoCompletoString(t.descricaoContato.toLowerCase());l=l.filter(g=>{let b;return g.descricaoContato?(b=$utils.tratamentoCompletoString(g.descricaoContato.toLowerCase()),!!~b.indexOf(p)):!1})}if(Number(t.totalDocumento)&&t.totalDocumento!==0&&(l=await l.filter(p=>p.totalDocumento>t.totalDocumento)),t.tipoData==="dataFaturado"){const p=new Date(t.periodoIni).setHours(0,0,0,0),g=new Date(t.periodoFim).setHours(0,0,0,0),b=[];await Z().documento.where({tipo:"Fatura"}).each(_=>{let y=new Date(_.dataHoraFinalizado).setHours(0,0,0,0);if(!y)return!1;p&&g&&y>=p&&y<=g&&b.push(_.id),!g&&p&&y>=p&&b.push(_.id),!p&&g&&y<=g&&b.push(_.id)}),l=l.filter(function(_){return t.status.indexOf("Finalizado")===-1?!0:_.idFatura?!!b.find(y=>y===_.idFatura):!1})}if(~["dataEmissao","dataFinalizacao"].indexOf(t.tipoData)){const p=new Date(t.periodoIni).setHours(0,0,0,0),g=new Date(t.periodoFim).setHours(0,0,0,0);l=await l.filter(b=>{let x;return t.tipoData==="dataEmissao"&&(x=new Date(b.dataHoraEmissao).setHours(0,0,0,0)),t.tipoData==="dataFinalizacao"&&(x=new Date(b.dataHoraFinalizado).setHours(0,0,0,0)),x?p&&g?x>=p&&x<=g:p?x>=p:g?x<=g:!1:!1})}return l=await l.toArray(),l=$lodash.orderBy(l,i,n),u=l.length,l=l.splice((a-1)*r,r),{data:l,total:u,totalPages:Math.ceil(u/r)||1}}var uhe={grava:async e=>{e=Na(e);let t=(e.customs||[]).map(c=>c.documento||{}),o=(e.customsOriginal||[]).map(c=>c.documento||{}),r=(e.customs||[]).reduce((c,d)=>[...c,...d.documentoItens||[]],[]),a=(e.customsOriginal||[]).reduce((c,d)=>[...c,...d.documentoItens||[]],[]),i=(e.customs||[]).reduce((c,d)=>[...c,...d.arquivo||[]],[]),n=(e.customsOriginal||[]).reduce((c,d)=>[...c,...d.arquivo||[]],[]);await Ot("documento",o,t),await Ot("documentoItem",a,r),await Ot("arquivo",n,i),t=(e.oss||[]).map(c=>c.documento||{}),o=(e.ossOriginal||[]).map(c=>c.documento||{}),r=(e.oss||[]).reduce((c,d)=>[...c,...d.documentoItens||[]],[]),a=(e.ossOriginal||[]).reduce((c,d)=>[...c,...d.documentoItens||[]],[]),i=(e.oss||[]).reduce((c,d)=>[...c,...d.arquivo||[]],[]),n=(e.ossOriginal||[]).reduce((c,d)=>[...c,...d.arquivo||[]],[]),await Ot("documento",o,t),await Ot("documentoItem",a,r),await Ot("arquivo",n,i),await $db.kit.salvar({atuais:e.kits,originais:e.kitsOriginal,operacaoFatorDestino:-1,operacaoFatorOrigem:0});let s=[],l=[],u={};for(const c of e.envelopesOriginal||[])s=[...s,...c.documentoContato||[]],delete c.documentoContato;for(const c of e.envelopes||[]){if(l=[...l,...c.documentoContato||[]],u=c.armacao||{},(c.pupilometro||{}).atual&&($db.pupilometro.gravar({original:(c.pupilometro||{}).original,atual:(c.pupilometro||{}).atual}),console.log("pupilometro: ",c.pupilometro)),u.id){const d=await Z().item.get(u.id)||{};if(d.id){const m={};d.tamanho!==u.tamanho&&(m.tamanho=u.tamanho),d.altura!==u.altura&&(m.altura=u.altura),d.largura!==u.largura&&(m.largura=u.largura),d.diagonal!==u.diagonal&&(m.diagonal=u.diagonal||0),d.ponte!==u.ponte&&(m.ponte=u.ponte),d.armacaoMaterial!==u.armacaoMaterial&&(m.armacaoMaterial=u.armacaoMaterial),d.tipoMontagem!==u.tipoMontagem&&(m.tipoMontagem=u.tipoMontagem),Object.keys(m).length&&(await Z().item.update(u.id,m),await Je("atualizar","item",u.id,m),$db.item.carregarMemoria(d.id))}}delete c.documentoContato,delete c.armacao,delete c.pupilometro}if(await Ot("documento",e.envelopesOriginal||[],e.envelopes||[]),await Ot("documentoContato",s||[],l||[]),await Ot("documentoItem",e.carrinhoOriginal||[],e.carrinho||[]),await Ot("documentoCondicaoPagamento",e.condicaoPagamentoOriginal||[],e.condicaoPagamento||[]),await Ot("documentoEndereco",e.documentoEnderecoOriginal||[],e.documentoEndereco||[]),await Ot("documentoContato",e.documentoContatoOriginal||[],e.documentoContato||[]),await Ot("documentoStatus",[],e.documentoStatus||[]),await Ot("arquivo",e.arquivoOriginal||[],e.arquivo||[]),!Object.keys(e.vendaOriginal||{}).length)await Z().documento.put(e.venda),await Je("adicionar","documento",e.venda.id,e.venda);else{const c=ra(e.vendaOriginal,e.venda);Object.keys(c).length&&(await Z().documento.update(e.venda.id,c),await Je("atualizar","documento",e.venda.id,c))}},leRefatorado:async function(e){var y,I,S;const{filtros:t,termoBusca:o,limit:r,page:a,sort:i,dir:n=!1}=e!=null?e:{};if($db.hibrido.get("mode")==="remoto"){~((y=t.status)==null?void 0:y.indexOf("Finalizado"))||delete t.faturado;let O,F,M,E;const D=await $utils.geeksApi({listarAtendimentoVendas:{funcao:"36F67A5B-BC74-4786-BCB5-F3A24ABA6467",filtros:t,termoBusca:o,limit:r,page:a,sort:i,dir:n}});return O=D.data.listarAtendimentoVendas.data,F=D.data.listarAtendimentoVendas.total,M=D.data.listarAtendimentoVendas.totalPages,E=D.data.listarAtendimentoVendas.somaTotalDocumento,{data:O,total:F,totalPages:M,somaTotalDocumento:E}}let s=t||{};if(t!=null&&t.id)return await Z().documento.get(t.id);for(const O in t){if(t[O]===null||t[O]===void 0)throw"Erro no filtro "+O;typeof t[O]=="string"&&(t[O]=t[O].trim())}let l={tipo:"Venda"};"idContato"in s&&s.idContato&&(l.idContato=s.idContato),"idFatura"in s&&s.idFatura&&(l.idFatura=s.idFatura),"idDocumentoAdicional"in s&&s.idDocumentoAdicional&&(l.idDocumentoAdicional=s.idDocumentoAdicional),s.idContatoVendedor&&(l.idContatoVendedor=s.idContatoVendedor),"idContatoDigitador"in s&&s.idContatoDigitador&&(l.idContatoDigitador=s.idContatoDigitador),"idEmpresa"in s&&s.idEmpresa&&(l.idEmpresa=s.idEmpresa),"documentoId"in s&&s.documentoId&&(l.documentoId=s.documentoId),(t==null?void 0:t.status)&&!~((I=t.status)==null?void 0:I.indexOf(","))&&(l.status=s.status),"operacao"in s&&s.operacao&&(l.operacao=s.operacao),"codigoContato"in s&&s.codigoContato&&(l.codigoContato=s.codigoContato);let u=await Z().documento;Object.keys(l).length&&(u=await u.where(l));let c=s.periodoEmissao&&s.periodoEmissao.ini&&s.periodoEmissao.ini.length>2&&s.periodoEmissao.fim&&s.periodoEmissao.fim.length>2;if("periodoEmissao"in s&&s.periodoEmissao&&c){const O=new Date(s.periodoEmissao.ini).setHours(0,0,0,0),F=new Date(s.periodoEmissao.fim).setHours(0,0,0,0);u=await u.filter(M=>{const E=new Date(M.dataHoraEmissao).setHours(0,0,0,0);return O&&F?E>=O&&E<=F:O?E>=O:F?E<=F:!0})}if("periodoFinalizado"in s&&s.periodoFinalizado){const O=new Date(s.periodoFinalizado.ini).setHours(0,0,0,0),F=new Date(s.periodoFinalizado.fim).setHours(0,0,0,0);u=await u.filter(M=>{const E=new Date(M.dataHoraFinalizado).setHours(0,0,0,0);return O&&F?E>=O&&E<=F:O?E>=O:F?E<=F:!0})}if("idEmpresa"in s&&s.idEmpresa&&(u=await u.filter(O=>O.idEmpresa?s.idEmpresa===O.idEmpresa:!1)),"cliente"in s&&s.cliente.length>0&&(u=await u.filter(O=>{if(!O.descricaoContato)return!1;const F=$utils.removerCaracteresEspeciais(O.descricaoContato.toString().toLowerCase()),M=$utils.removerCaracteresEspeciais(s.cliente.toString().toLowerCase());return F.indexOf(M)!==-1})),"valorTotal"in s&&s.valorTotal!==0&&(u=await u.filter(O=>O.totalDocumento>s.valorTotal)),"faturado"in s){const O=new Date(s.faturado.ini).setHours(0,0,0,0),F=new Date(s.faturado.fim).setHours(0,0,0,0);let M=Z().documento.where({tipo:"Fatura"});const E=[];await M.each(D=>{let P=new Date(D.dataHoraFinalizado).setHours(0,0,0,0)||0;O&&F&&P>=O&&P<=F&&E.push(D.id),!F&&O&&P>=O&&E.push(D.id),!O&&F&&P<=F&&E.push(D.id)}),u=u.filter(function(D){return s.status.indexOf("Finalizado")===-1?!0:D.idFatura?!!E.find(P=>P===D.idFatura):!1})}if(~((S=t.status)==null?void 0:S.indexOf(","))){const O=t.status;u=u.filter(function(F){return O.indexOf(F.status)!==-1})}s.or&&(u=u.filter(O=>{for(const F in s.or)if(O[F]===s.or[F])return!0;return!1})),s.and&&(u=u.filter(O=>{for(const F in s.and)if(O[F]!==s.and[F])return!1;return!0})),s.statusEnvio==="Enviados"&&(u=u.filter(O=>O==null?void 0:O.rotaJson)),s.statusEnvio==="N\xE3o Enviados"&&(u=u.filter(O=>!(O!=null&&O.rotaJson)));let d=[];d=await u.toArray()||[],i&&n&&(d=$lodash.orderBy(d,i,n));const m=d.length;let f=r,g=((a||1)-1)*f;d=d.splice(g,f);let b=d,x=m,_=Math.ceil(x/f)||1;return{data:b,total:x,totalPages:_}},ler:async e=>{var a;if(e=e||{},e!=null&&e.id)return(a=(await $db.hibrido.ler({table:"documento",where:{id:e.id}}))[0])!=null?a:{};let t={tipo:"Venda"};e!=null&&e.idContato&&(t.idContato=e.idContato),e!=null&&e.idFatura&&(t.idFatura=e.idFatura),e!=null&&e.idDocumentoAdicional&&(t.idDocumentoAdicional=e.idDocumentoAdicional),e!=null&&e.idContatoVendedor&&(t.idContatoVendedor=e.idContatoVendedor),e!=null&&e.idContatoDigitador&&(t.idContatoDigitador=e.idContatoDigitador),e!=null&&e.idEmpresa&&(t.idEmpresa=e.idEmpresa),e!=null&&e.documentoId&&(t.documentoId=e.documentoId),e!=null&&e.status&&(t.status=e.status),e!=null&&e.operacao&&(t.operacao=e.operacao);let o=Z().documento;Object.keys(t).length&&("periodoEmissao"in e||"periodoFinalizado"in e?o=o.where(t).and(function(i){if("periodoEmissao"in e&&e.periodoEmissao){let n=new Date(e.periodoEmissao.ini).setHours(0,0,0,0),s=new Date(e.periodoEmissao.fim).setHours(0,0,0,0),l=new Date(i.dataHoraEmissao).setHours(0,0,0,0);return n&&s?l>=n&&l<=s:n?l>=n:s?l<=s:!0}}).and(function(i){if("periodoFinalizado"in e&&e.periodoFinalizado){let n=new Date(e.periodoFinalizado.ini).setHours(0,0,0,0),s=new Date(e.periodoFinalizado.fim).setHours(0,0,0,0),l=new Date(i.dataHoraFinalizado).setHours(0,0,0,0);return n&&s?l>=n&&l<=s:n?l>=n:s?l<=s:!0}}):o=o.where(t)),e.or&&(o=o.filter(i=>{for(const n in e.or)if(i[n]===e.or[n])return!0;return!1})),e.and&&(o=o.filter(i=>{for(const n in e.and)if(i[n]!==e.and[n])return!1;return!0}));let r=parseInt(e.numero);return e.numero&&r&&(o=o.filter(i=>i.numero===r)),await o.toArray()||[]},le:async({filtros:e,colunas:t})=>{e=e||{};let o=[];if(localStorage.getItem("rede")==="offline"){if(e.id)return await Z().documento.get(e.id)||{};delete e.id,o=await Z().documento.toArray()||[],o=o.filter(r=>r.tipo==="Venda"),o=o.filter(r=>{let a=!0;for(const i in e)if(r[i]!==e[i]){a=!1;break}return a})}else{let r="";for(const i in e)r+=`${i} = '${e[i]}' and `;r+=" tipo = 'Venda'";let a=`select top 30 ${t.split(" ").join(", ")} from documento where ${r}`;o=await mo(a,"x_req48473u")}return o},leCompleto:async e=>{const t={};let o;t.venda=await $db.documento.ler({id:e}),o=await $db.documentoItem.ler({idDocumento:t.venda.id}),o=o.filter(s=>!s.idDocumentoAdicional),o.sort((s,l)=>new Date(s.dataHoraEmissao)<new Date(l.dataHoraEmissao)?-1:1),t.carrinho=o,t.arquivo=await $db.arquivo.ler({filtros:{idTabelaMaster:t.venda.id}}),t.condicaoPagamento=await $db.documentoCondicaoPagamento.ler({idDocumento:t.venda.id}),t.documentoEndereco=await $db.documentoEndereco.ler({idDocumento:t.venda.id});const[r,a,i,n]=await $db.hibrido.lista([{table:"documento",where:{tipo:"Envelope",documentoId:t.venda.id}},{table:"documento",where:{tipo:"Custom",documentoId:t.venda.id}},{table:"documento",where:{tipo:"Ordem de Servi\xE7o",documentoId:t.venda.id}},{table:"documento",where:{tipo:"Venda Kit",documentoId:t.venda.id}}]);t.itensEnvelopes=[],t.envelopes={};for(const s of r){t.envelopes[s.id]=s;const l=await $db.documentoItem.ler({idDocumentoAdicional:s.id});t.itensEnvelopes=[...t.itensEnvelopes,...l]}t.customs=a.map(s=>({documento:{...s}}));for(const s of t.customs)s.documentoItens=await $db.documentoItem.ler({idDocumentoAdicional:s.documento.id}),s.arquivo=await $db.arquivo.ler({filtros:{idTabelaMaster:s.documento.id}});t.oss=i.map(s=>({documento:{...s}}));for(const s of t.oss)s.documentoItens=await $db.documentoItem.ler({idDocumentoAdicional:s.documento.id}),s.arquivo=await $db.arquivo.ler({filtros:{idTabelaMaster:s.documento.id}});t.kits=n.map(s=>({documento:{...s}}));for(const s of t.kits)s.documentosItem=await $db.documentoItem.ler({idDocumentoAdicional:s.documento.id});t.item={};for(const s of t.carrinho){let l=s.idItem?await Z().item.get(s.idItem)||{}:{};l={...l,marca:l.marca||"",referencia:l.referencia||"",imagem:l.imagem||""},t.item[l.id]=l}return t},checarConflitoStatus:async({id:e,status:t})=>{try{await $db.documento.checarConflitoStatus({id:e,status:t})}catch(o){if(o.message==="status")throw new Error("N\xE3o \xE9 poss\xEDvel continuar pois o status atual difere do status encontrado no servidor.");const a=(await $erp().configuracoes.where({nome:"vendas.bloqueia.offline"}).toArray())[0];if(Number(a==null?void 0:a.valor))throw new Error("N\xE3o foi poss\xEDvel consultar o status no servidor.")}},lerV2:che,duplicarVenda:she,calcularTotais:Q0e,checarTabelasPreco:J0e,duplicar:rhe,finalizar:ihe,filtrar:lhe,separaSemEstoque:ohe,titulosPendentesAtraso:ahe,trocarStatus:nhe};let d1=[];var dhe={async ler(){async function e(){navigator.onLine&&(d1=(await qr({vitrine:{funcao:"F61D68B6-3212-4B39-AF26-152634610BDD"}},{bancoDeDados:"GeeksPlat15A",convidado:!0})).data.vitrine)}return d1.lenght>0?($lodash.debounce(this.atualizar,3e4)(),d1):(await e(),d1)}};const je={agenda:bz,arquivo:yz,banco:YH,cache:KH,caixa:NN,caixaConsolidacao:Bde,caixaConsolidacao2:Lde,cfop:$de,cidade:Ude,compra:Rfe,configuracaoImposto:Lfe,configuracoes:Ufe,contato:Jm,contatoAnotacao:Gfe,contatoCreditoExtrato:Wfe,contatoEndereco:Xfe,contatoGrupo:Jfe,contatoTelefone:Zfe,contrato:tme,crm:ame,custom:ime,dispositivoCliente:nme,documento:sme,documentoCondicaoPagamento:lme,documentoContato:ume,documentoEndereco:fme,documentoFiscalEletronico:pme,documentoFiscalEletronicoErro:vme,documentoFiscalEletronicoXml:_me,documentoItem:bme,documentoOperacao:yme,documentoSat:xme,documentoStatus:wme,documentoXml:Ime,eCommerce:Ome,empresa:Pme,envelope:kme,equipamento:Vme,estoqueSaldoProdutoEmpresa:$me,etiqueta:jme,fatura:Xme,financeiroBanco:Yme,financeiroBoleto:Kme,financeiroBoletoTitulo:Qme,financeiroMovimentacao:Jme,financeiroMovimentacaoN:Zme,financeiroPlanoConta:epe,financeiroRenegociacao:tpe,financeiroTitulo:ope,formaPagamento:ape,hibrido:hpe,item:Rpe,itemECommerce:Hpe,itemEspecificacao:Xpe,itemFornecedor:Jpe,itemManipulacao:e0e,itemTabelaPreco:t0e,kit:i0e,ncm:s0e,nfeIbpt:l0e,nfse:v0e,nps:_0e,os:x0e,pais:I0e,perfilContabilItem:E0e,permissao:S0e,pupilometro:Fv,qualidadeSinal:O0e,receita:M0e,registro:F0e,sincronismo:R0e,sistemaUsoLog:L0e,spedArquivo:$0e,tarefa:Y0e,usuario:Zm,venda:uhe,vitrine:dhe},K3={tentativaErro:1,async executarEnviar(){const e=vf("sincEnviar","verificando envio sincronismo erp");let t=0;try{if(!Pt.isOpen())return;const o=await Ka.sincronismo.le();for(const r of o){const{bancoDeDados:a}=r;if(_o.proximoReiniciar>new Date){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} ${a} interrompeu executarEnviar`);break}t+=await this.enviarDados(a)||0}return t&&_o.descarregarErp(8),t}catch(o){console.error(`Erro no sincronismo erp enviar
`,o)}finally{gf(e,t)}return-1},async executarDescarregar(){const e=vf("sincDescarregar","verificando descarregamento sincronismo erp");let t=0;try{if(!je.usuario.logado.token||!Pt.isOpen())return;const o=await Ka.sincronismo.le(),r=o.filter(n=>n.bancoDeDados===je.cache.get("bancoDeDados")),a=o.filter(n=>n.bancoDeDados!==je.cache.get("bancoDeDados")),i=[...r,...a];for(const n of i){if(_o.proximoReiniciar>new Date){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} ${n.bancoDeDados} interrompeu executarDescarregar`);break}!n.status||n.status==="sincronismoInicial"?t+=await this.descarregarInicial(n):t+=await this.descarregarPeriodico(n),n.bancoDeDados===je.cache.get("bancoDeDados")&&n.tamanhoPagina===0&&await this.enviarLogs(n.bancoDeDados)}_o.descarregarErp(60),this.tentativaErro=1}catch(o){this.tentativaErro+=1,console.error(`${new Date().toLocaleTimeString("pt-br")} Erro no descarregar. Nova tentativa: ${this.tentativaErro}
`,o.toString()),_o.descarregarErp(this.tentativaErro)}finally{gf(e,t)}},async enviarDados(e){var r,a;const t=Z(e);if(!t.isOpen())return;const o=await t.sincronismoFila.toArray();o.length>0&&await $db.usuario.verificaUsuarioClienteSistema();for(const i of o){let n=!1;if(_o.proximoReiniciar>new Date){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} ${e} interrompeu enviarDados`);break}if(e===je.cache.get("bancoDeDados")&&je.sincronismo.logar(`${new Date().toLocaleTimeString("pt-br")} subiu  ${i.tabela.padEnd(26)} ${i.chave} ${i.acao} ${e}`),~["json","arquivo"].indexOf(i.tabela)&&(n=(await qr({consultaSincronismoId:{funcao:"5A7B9571-4222-46B4-823B-93D625F897FE",id:i.id}})).data.consultaSincronismoId),!n){const l=(await qr({sincronismoErpEnviar:{funcao:"FF40DFDD-BC07-4A9E-B854-FB00E3C125BD",dados:[{id:i.id,acao:i.acao,chave:i.chave,dataHora:i.dataHora,tabela:i.tabela,valor:JSON.stringify(i.valor),dispositivo:_o.obterIdDispositivo(),idUsuario:i.idUsuario,nomeUsuario:i.nomeUsuario}]}},{bancoDeDados:e})).data.sincronismoErpEnviar;if(!l.sucesso&&!~((a=(r=l==null?void 0:l.error)==null?void 0:r.message)==null?void 0:a.indexOf("idx_Sincronismo_id"))){console.error(`Erro no sincronismo ${e} enviar. ${JSON.stringify(l)}.`);break}}await t.sincronismoFila.delete(i._ordem)}return o.length&&Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} ${e} enviar ${o.length} registro(s)`),o.length},enviarLogs:async e=>{const t=(await $db.sistemaUsoLog.le({limit:15,page:1})).data;if(t.length!==0)for(const o of t){const a=(await qr({sistemaUsoLog:{funcao:"ABEE8E19-1BEB-465C-8786-0AD6DA2817B2",...o}},{bancoDeDados:e})).data.sistemaUsoLog;if(!a.sucesso){console.error(`Erro no sincronismo ${e} enviar. ${JSON.stringify(a)}.`);break}await $db.sistemaUsoLog.remover(o.id)}},async descarregarInicial(e){let{bancoDeDados:t}=e;if(e.status="sincronismoInicial",!e.pagina){const r=await qr({sincronismoErpIniciarDispositivo:{funcao:"40AA16FD-4749-4B8F-A2BB-D07EE001D4B2",idDispositivo:_o.obterIdDispositivo()}},{bancoDeDados:t});e={...e,...r.data.sincronismoErpIniciarDispositivo,tabelas:void 0,adicionar:void 0,atualizar:void 0,remover:void 0},await Ka.sincronismo.grava(e)}let o=qr({sincronismoErpInicial:{funcao:"4C94AD01-F71D-4322-A1F8-2B7842ED49B5",pagina:e.pagina,idDispositivo:_o.obterIdDispositivo()}},{bancoDeDados:t});for(;!e.finalizou;){if(_o.proximoReiniciar>new Date){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} ${t} interrompeu descarregarInicial`);break}const r=(await o).data.sincronismoErpInicial;if(!r.pagina){console.error(`Erro no sincronismo ${t}. P\xE1gina '${r.pagina}' inv\xE1lida. P\xE1gina anterior: '${e.pagina}'`);break}r.finalizou||(o=qr({sincronismoErpInicial:{funcao:"4C94AD01-F71D-4322-A1F8-2B7842ED49B5",pagina:r.pagina,idDispositivo:_o.obterIdDispositivo()}},{bancoDeDados:t})),await this.atualizarIndexdbBulk(t,r.tabelas);const a=(r.quantidadeRealizada/r.quantidadeTotal*1e4|0)/100;e={...e,...r,percentagem:a,ultimo:Qo(),tabelas:void 0,adicionar:void 0,atualizar:void 0,remover:void 0,inicial:{ultimo:Qo()}},e.finalizou&&(e.status="normal",e.percentagem=100),await Ka.sincronismo.grava(e),$utils.emitter.emit("atualizarStatusSincronismo",t,{percentagem:a,status:e.status})}return e.finalizou&&t===je.cache.get("bancoDeDados")&&(_o.status.concluidoErp=!0,je.usuario.carregaDados()),e.quantidadeRealizada},async descarregarPeriodico(e){let{bancoDeDados:t}=e,o=qr({sincronismoErpPeriodico:{funcao:"7D5B80F7-8BEA-460E-8026-305B31E7647D",pagina:e.pagina,idDispositivo:_o.obterIdDispositivo()}},{bancoDeDados:t});for(e.finalizou=!1,e.status=Ka.sincronismo.verificaBloqueioHoras(e)?"bloqueado":"normal";!e.finalizou;){if(_o.proximoReiniciar>new Date){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} ${t} interrompeu descarregarPeriodico`);break}const r=(await o).data.sincronismoErpPeriodico,a=r.quantidadeRestante+r.registrosPagina;if($utils.emitter.emit("atualizarStatusSincronismo",t,{quantidadeRestantePeriodico:a,dataHoraServidor:r.dataHoraServidor}),!r.pagina){console.error(`Erro no sincronismo ${t}. P\xE1gina '${r.pagina}' inv\xE1lida. P\xE1gina anterior: '${e.pagina}'`);break}r.finalizou||(o=qr({sincronismoErpPeriodico:{funcao:"7D5B80F7-8BEA-460E-8026-305B31E7647D",pagina:r.pagina,idDispositivo:_o.obterIdDispositivo()}},{bancoDeDados:t})),await this.crudIndexdb(t,r.dados,e.status==="normal");const i=Object.keys(r.dados||{}).length;e.periodico=e.periodico||{},e={...e,...r,tabelas:void 0,adicionar:void 0,atualizar:void 0,remover:void 0,ultimo:Qo(),quantidadeRestantePeriodico:a,periodico:{ultimo:Qo(),sequencia:(e.periodico.sequencia||0)+1,tamanho:i,tamanhoTotal:(e.periodico.tamanhoTotal||0)+i}},e.finalizou&&(e.status="normal",e.percentagem=100),await Ka.sincronismo.grava(e)}return $utils.emitter.emit("atualizarStatusSincronismo",t,{status:e.status}),e.finalizou&&t===je.cache.get("bancoDeDados")&&(_o.status.concluidoErp=!0,je.usuario.carregaDados()),e.quantidadeRealizada},async atualizarIndexdbBulk(e,t){for(const o in t){const r=t[o];try{for(let i=0;i<r.length;i+=1e3){const n=r.slice(i,i+1e3);await Z(e)[o].bulkPut(n)}Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} ${e} ${o} ${r.length} registro(s).`)}catch(a){console.error(`Erro no sincronismo ${e}. Falha no bulkPut tabela '${o}'.
`,a)}}},async acertaDados(e,t,o,r,a){a&&e===je.cache.get("bancoDeDados")&&(je.sincronismo.logar(`${new Date().toLocaleTimeString("pt-br")} desceu ${t.padEnd(26)} ${r.id} ${o} ${e}`),t==="contato"&&await je.contato.carregarMemoria(r.id),t==="item"&&await je.item.carregarMemoria(r.id))},async crudIndexdb(e,t,o){let r=0;for(const a in t){const{tabela:i,acao:n,valor:s}=t[a];try{if(n==="remover")await Z(e)[i].delete(s.id);else if(n==="adicionar")try{await Z(e)[i].add(s)}catch{await Z(e)[i].update(s.id,s)}else n==="atualizar"?await Z(e)[i].update(s.id,s)===0&&await Z(e)[i].put(s):console.error(`Erro no sincronismo ${e}. A\xE7\xE3o nao permitida '${n}' tabela '${i}'.`);await this.acertaDados(e,i,n,s,o);const l=37;r++,r>=l&&($utils.emitter.emit("atualizarStatusSincronismoPeriodico",e,l),r-=l)}catch(l){console.error(`Erro no sincronismo ${e}. Falha na tabela '${i}' acao '${n}'.
`,l)}}r&&$utils.emitter.emit("atualizarStatusSincronismoPeriodico",e,r)}},fhe={tentativaErro:1,async executarDescarregar(){const e=vf("sincDescarregar","verificando descarregamento sincronismo plataforma");let t=0;try{if(!je.usuario.logado.token)return;const o=localStorage.getItem("clienteSistemaBaixados");if(!o)return;if(_o.proximoReiniciar>new Date){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} interrompeu executarDescarregarPlataforma`);return}localStorage.getItem("sincronismoPlat")!=="ok"?t=await this.descarregarInicial(o):($utils.emitter.emit("sincronismoPlataformaPercentagem","100 %"),t=await this.descarregarPeriodico(o)),_o.descarregarPlataforma(60)}catch(o){this.tentativaErro+=1,console.error(`${new Date().toLocaleTimeString("pt-br")} Erro no descarregar plataforma. Nova tentativa: ${this.tentativaErro}
`,o.toString()),_o.descarregarPlataforma(this.tentativaErro)}finally{gf(e,t)}},async descarregarInicial(e){const o=JSON.parse(e).map(a=>a.idClienteSistema);let r=je.cache.getJson("sincronismoPlataforma");for(r.pagina||(r=(await qr({sincronismoPlataformaIniciarDispositivo:{funcao:"912047D5-73D4-401C-AF27-5C7223586C27",idsClienteSistema:o,idDispositivo:_o.obterIdDispositivo()}})).data.sincronismoPlataformaIniciarDispositivo,je.cache.setJson("sincronismoPlataforma",r));!r.finalizou;){if(_o.proximoReiniciar>new Date){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} interrompeu descarregarInicialPlataforma`);break}const a=(await qr({sincronismoPlataformaInicial:{funcao:"0BA0A03C-7896-44C1-8CC6-5D6B55064F40",idsClienteSistema:o,pagina:r.pagina}})).data.sincronismoPlataformaInicial;await this.atualizarIndexdb(a.tabelas);const i=`${Math.floor(100*a.quantidadeRealizada/(a.quantidadeTotal||1e10))} %`;$utils.emitter.emit("sincronismoPlataformaPercentagem",i),Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} plataforma descarregar ${a.registrosPagina} registro(s).`),r={...r,...a,tabelas:void 0,remover:void 0,inicial:{ultimo:Qo()}},je.cache.setJson("sincronismoPlataforma",r)}return r.finalizou&&(localStorage.setItem("sincronismoPlat","ok"),$utils.emitter.emit("sincronismoPlataformaPercentagem","100 %")),r.quantidadeTotal||0},async descarregarPeriodico(e){const o=JSON.parse(e).map(s=>s.idClienteSistema);let r=je.cache.getJson("sincronismoPlataforma");r.versaoAtual||(r.versaoAtual=localStorage.getItem("versaoPlataforma")||"");const a=(await qr({sincronismoPlataformaPeriodico:{funcao:"94C02F51-5B68-4374-A099-35562E8DC419",idsClienteSistema:o,versaoAnterior:r.versaoAtual}})).data.sincronismoPlataformaPeriodico;await this.atualizarIndexdb(a.tabelas),await this.removerIndexdb(a.remover);const i=Object.keys(a.tabelas||{}).length,n=Object.keys(a.remover||{}).length;return r.periodico=r.periodico||{},r={...r,...a,tabelas:void 0,remover:void 0,periodico:{ultimo:Qo(),sequencia:(r.periodico.sequencia||0)+1,tamanho:i,tamanhoTotal:(r.periodico.tamanhoTotal||0)+i,remover:n,removerTotal:(r.periodico.removerTotal||0)+n}},je.cache.setJson("sincronismoPlataforma",r),i+n},async atualizarIndexdb(e){for(const t in e){const o=e[t];try{for(let a=0;a<o.length;a+=100){const i=o.slice(a,a+100);await Pt[t].bulkPut(i)}Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} plataforma ${t} ${o.length} registro(s).`)}catch(r){console.error(`Erro no sincronismo plataforma. Falha no bulkPut tabela '${t}'.
`,r)}}},async removerIndexdb(e){for(const t in e){const o=e[t];for(const r of o)try{await Pt[t].delete(r)}catch(a){console.error(`Erro no sincronismo plataforma. Falha no delete tabela '${t}' id '${r}'.
'`,a)}Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} plataforma delete ${t} ${o.length} registro(s).`)}}},_o={executando:!1,dispositivo:null,proximoDescarregarErp:new Date,proximoDescarregarPlataforma:new Date,proximoReiniciar:new Date,status:{carregando:!1,carregou:!1,concluidoBancos:{},concluidoErp:!1,percentagemErp:"",tamanhoFila:0},sessaoId:Ft(),async atualizarStatus(){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} atualizarStatus`);const e=await Ka.sincronismo.le();Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} listaBancos
 ${e.map(o=>o.bancoDeDados+" "+(o.status||"???")).join(`
 `)}`);for(const o of e){if(Ka.sincronismo.verificaBloqueioHoras(o)&&o.status==="normal"&&(o.status="bloqueado",await Ka.sincronismo.grava({bancoDeDados:o.bancoDeDados,status:o.status}),Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} ${o.bancoDeDados} ${o.status}`)),o.status==="normal"||o.status==="bloqueado")try{const a=(await qr({quantidadeRestante:{funcao:"6D66BC44-6EFC-46BB-9F97-390E00957F69",pagina:o.pagina}},{bancoDeDados:o.bancoDeDados})).data.quantidadeRestante.quant;await Ka.sincronismo.grava({bancoDeDados:o.bancoDeDados,quantidadeRestantePeriodico:a}),Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} quantidade restante ${o.bancoDeDados} ${a}`)}catch(r){console.error(`Erro no sincronismo roteador atualizarStatus
`,r),o.quantidadeRestantePeriodico=0}this.status.concluidoBancos[o.bancoDeDados]=o.status==="normal"}const t=je.cache.get("bancoDeDados");this.status.concluidoErp=this.status.concluidoBancos[t],this.status.carregou=!0},async carregarStatus(){!Pt.isOpen()||this.status.carregando||(this.status.carregando=!0,await this.atualizarStatus(),this.status.concluidoErp&&(await hf(2e3),je.usuario.carregaDados()))},async executar(){if(!!je.cache.getJson("clienteSistema")&&(this.status.carregando||await this.carregarStatus(),!!navigator.onLine&&!this.executando))try{if(this.executando=!0,navigator.storage&&navigator.storage.persist&&await navigator.storage.persist(),this.sessaoViva().sort()[0]!==this.sessaoId){je.sincronismo.log=localStorage.getItem("sincronismoLog")||je.sincronismo.log,_o.atualizarTamanhoFila();return}const t=new Date;if(this.proximoReiniciar>t){Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} interrompeu sincronismoRoteadorExecutar`);return}let o=await K3.executarEnviar();this.proximoDescarregarPlataforma<t&&(this.descarregarPlataforma(60),await fhe.executarDescarregar()),this.proximoDescarregarErp<t&&(this.descarregarErp(60),await K3.executarDescarregar()),o!==0&&_o.atualizarTamanhoFila()}catch(e){console.error(`Erro no sincronismo roteador
`,e)}finally{this.executando=!1}},sessaoViva(){let e=JSON.parse(localStorage.getItem("sessoes")||"{}");for(const o in e)new Date-new Date(e[o])>3e4&&delete e[o];let t=[];for(const o in e)t.push(o);return e[this.sessaoId]=new Date,localStorage.setItem("sessoes",JSON.stringify(e)),t},async atualizarTamanhoFila(){const e=await Ka.sincronismo.le();let t=0;for(const o of e){const{bancoDeDados:r}=o;t+=await Z(r).sincronismoFila.count()||0}t+=await Pt.sincronismoFila.count()||0,_o.status.tamanhoFila=t,Tt.log("sincronismoRoteador","tamanhoFila:",t)},descarregarErp(e=0){const t=new Date;this.proximoDescarregarErp=t,this.proximoDescarregarErp.setSeconds(t.getSeconds()+e)},descarregarPlataforma(e=0){const t=new Date;this.proximoDescarregarPlataforma=t,this.proximoDescarregarPlataforma.setSeconds(t.getSeconds()+e)},obterIdDispositivo(){return this.dispositivo||(this.dispositivo=localStorage.getItem("dispositivoCliente")||""),this.dispositivo},reiniciar(e=30){const t=new Date;this.proximoReiniciar=t,this.proximoReiniciar.setSeconds(t.getSeconds()+e),Tt.log("LogSinc",`${new Date().toLocaleTimeString("pt-br")} reiniciar - parar at\xE9 ${this.proximoReiniciar.toLocaleTimeString("pt-br")}`)}};_o.atualizarTamanhoFila();var Ja=At({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const o=X(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>ee(e.tag,{class:o.value},ho(t.default))}});const mhe=["top","middle","bottom"];var Bn=At({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>mhe.includes(e)}},setup(e,{slots:t}){const o=X(()=>e.align!==void 0?{verticalAlign:e.align}:null),r=X(()=>{const a=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(a!==void 0?` text-${a}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>ee("div",{class:r.value,style:o.value,role:"status","aria-label":e.label},bi(t.default,e.label!==void 0?[e.label]:[]))}}),Ie=At({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const o=X(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>ee("div",{class:o.value},ho(t.default))}}),at=At({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const o=X(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>ee("div",{class:o.value,role:"toolbar"},ho(t.default))}}),Be=At({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const o=X(()=>parseInt(e.lines,10)),r=X(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),a=X(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>ee("div",{style:a.value,class:r.value},ho(t.default))}});const Sa={dark:{type:Boolean,default:null}};function Aa(e,t){return X(()=>e.dark===null?t.dark.isActive:e.dark)}var We=At({name:"QItem",props:{...Sa,...wg,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:o}){const{proxy:{$q:r}}=Ct(),a=Aa(e,r),{hasLink:i,linkAttrs:n,linkClass:s,linkTag:l,navigateOnClick:u}=s8(),c=$e(null),d=$e(null),m=X(()=>e.clickable===!0||i.value===!0||e.tag==="label"),f=X(()=>e.disable!==!0&&m.value===!0),p=X(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(a.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?s.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(f.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),g=X(()=>{if(e.insetLevel===void 0)return null;const y=r.lang.rtl===!0?"Right":"Left";return{["padding"+y]:16+e.insetLevel*56+"px"}});function b(y){f.value===!0&&(d.value!==null&&(y.qKeyEvent!==!0&&document.activeElement===c.value?d.value.focus():document.activeElement===d.value&&c.value.focus()),u(y))}function x(y){if(f.value===!0&&En(y,[13,32])===!0){bo(y),y.qKeyEvent=!0;const I=new MouseEvent("click",y);I.qKeyEvent=!0,c.value.dispatchEvent(I)}o("keyup",y)}function _(){const y=mx(t.default,[]);return f.value===!0&&y.unshift(ee("div",{class:"q-focus-helper",tabindex:-1,ref:d})),y}return()=>{const y={ref:c,class:p.value,style:g.value,role:"listitem",onClick:b,onKeyup:x};return f.value===!0?(y.tabindex=e.tabindex||"0",Object.assign(y,n.value)):m.value===!0&&(y["aria-disabled"]="true"),ee(l.value,y,_())}}}),wt=At({name:"QList",props:{...Sa,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const o=Ct(),r=Aa(e,o.proxy.$q),a=X(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>ee(e.tag,{class:a.value},ho(t.default))}}),phe=At({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:o}){let r=!1,a,i,n=null,s=null,l,u;function c(){a&&a(),a=null,r=!1,n!==null&&(clearTimeout(n),n=null),s!==null&&(clearTimeout(s),s=null),i!==void 0&&i.removeEventListener("transitionend",l),l=null}function d(g,b,x){b!==void 0&&(g.style.height=`${b}px`),g.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,a=x}function m(g,b){g.style.overflowY=null,g.style.height=null,g.style.transition=null,c(),b!==u&&o(b)}function f(g,b){let x=0;i=g,r===!0?(c(),x=g.offsetHeight===g.scrollHeight?0:void 0):(u="hide",g.style.overflowY="hidden"),d(g,x,b),n=setTimeout(()=>{n=null,g.style.height=`${g.scrollHeight}px`,l=_=>{s=null,(Object(_)!==_||_.target===g)&&m(g,"show")},g.addEventListener("transitionend",l),s=setTimeout(l,e.duration*1.1)},100)}function p(g,b){let x;i=g,r===!0?c():(u="show",g.style.overflowY="hidden",x=g.scrollHeight),d(g,x,b),n=setTimeout(()=>{n=null,g.style.height=0,l=_=>{s=null,(Object(_)!==_||_.target===g)&&m(g,"hide")},g.addEventListener("transitionend",l),s=setTimeout(l,e.duration*1.1)},100)}return wo(()=>{r===!0&&c()}),()=>ee(wi,{css:!1,appear:e.appear,onEnter:f,onLeave:p},t.default)}});const hhe={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},I2={xs:2,sm:4,md:8,lg:16,xl:24};var Ho=At({name:"QSeparator",props:{...Sa,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=Ct(),o=Aa(e,t.proxy.$q),r=X(()=>e.vertical===!0?"vertical":"horizontal"),a=X(()=>` q-separator--${r.value}`),i=X(()=>e.inset!==!1?`${a.value}-${hhe[e.inset]}`:""),n=X(()=>`q-separator${a.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(o.value===!0?" q-separator--dark":"")),s=X(()=>{const l={};if(e.size!==void 0&&(l[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const u=e.spaced===!0?`${I2.md}px`:e.spaced in I2?`${I2[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${c[0]}`]=l[`margin${c[1]}`]=u}return l});return()=>ee("hr",{class:n.value,style:s.value,"aria-orientation":r.value})}});const A0={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},T0=["beforeShow","show","beforeHide","hide"];function O0({showing:e,canShow:t,hideOnRouteChange:o,handleShow:r,handleHide:a,processOnMount:i}){const n=Ct(),{props:s,emit:l,proxy:u}=n;let c;function d(_){e.value===!0?p(_):m(_)}function m(_){if(s.disable===!0||_!==void 0&&_.qAnchorHandled===!0||t!==void 0&&t(_)!==!0)return;const y=s["onUpdate:modelValue"]!==void 0;y===!0&&(l("update:modelValue",!0),c=_,Do(()=>{c===_&&(c=void 0)})),(s.modelValue===null||y===!1)&&f(_)}function f(_){e.value!==!0&&(e.value=!0,l("beforeShow",_),r!==void 0?r(_):l("show",_))}function p(_){if(s.disable===!0)return;const y=s["onUpdate:modelValue"]!==void 0;y===!0&&(l("update:modelValue",!1),c=_,Do(()=>{c===_&&(c=void 0)})),(s.modelValue===null||y===!1)&&g(_)}function g(_){e.value!==!1&&(e.value=!1,l("beforeHide",_),a!==void 0?a(_):l("hide",_))}function b(_){s.disable===!0&&_===!0?s["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):_===!0!==e.value&&(_===!0?f:g)(c)}rt(()=>s.modelValue,b),o!==void 0&&Xx(n)===!0&&rt(()=>u.$route.fullPath,()=>{o.value===!0&&e.value===!0&&p()}),i===!0&&tr(()=>{b(s.modelValue)});const x={show:m,hide:p,toggle:d};return Object.assign(u,x),x}const Yc=Yv({}),vhe=Object.keys(wg);var Vr=At({name:"QExpansionItem",props:{...wg,...A0,...Sa,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...T0,"click","afterShow","afterHide"],setup(e,{slots:t,emit:o}){const{proxy:{$q:r}}=Ct(),a=Aa(e,r),i=$e(e.modelValue!==null?e.modelValue:e.defaultOpened),n=$e(null),s=_f(),{show:l,hide:u,toggle:c}=O0({showing:i});let d,m;const f=X(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),p=X(()=>{if(e.contentInsetLevel===void 0)return null;const Q=r.lang.rtl===!0?"Right":"Left";return{["padding"+Q]:e.contentInsetLevel*56+"px"}}),g=X(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),b=X(()=>{const Q={};return vhe.forEach(se=>{Q[se]=e[se]}),Q}),x=X(()=>g.value===!0||e.expandIconToggle!==!0),_=X(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||r.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),y=X(()=>e.disable!==!0&&(g.value===!0||e.expandIconToggle===!0)),I=X(()=>({expanded:i.value===!0,detailsId:e.targetUid,toggle:c,show:l,hide:u})),S=X(()=>{const Q=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:r.lang.label[i.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":s,"aria-label":Q}});rt(()=>e.group,Q=>{m!==void 0&&m(),Q!==void 0&&P()});function O(Q){g.value!==!0&&c(Q),o("click",Q)}function F(Q){Q.keyCode===13&&M(Q,!0)}function M(Q,se){se!==!0&&n.value!==null&&n.value.focus(),c(Q),bo(Q)}function E(){o("afterShow")}function D(){o("afterHide")}function P(){d===void 0&&(d=_f()),i.value===!0&&(Yc[e.group]=d);const Q=rt(i,_e=>{_e===!0?Yc[e.group]=d:Yc[e.group]===d&&delete Yc[e.group]}),se=rt(()=>Yc[e.group],(_e,Ee)=>{Ee===d&&_e!==void 0&&_e!==d&&u()});m=()=>{Q(),se(),Yc[e.group]===d&&delete Yc[e.group],m=void 0}}function N(){const Q={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},se=[ee(Ve,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:_.value})];return y.value===!0&&(Object.assign(Q,{tabindex:0,...S.value,onClick:M,onKeyup:F}),se.unshift(ee("div",{ref:n,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ee(Ie,Q,()=>se)}function R(){let Q;return t.header!==void 0?Q=[].concat(t.header(I.value)):(Q=[ee(Ie,()=>[ee(Be,{lines:e.labelLines},()=>e.label||""),e.caption?ee(Be,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&Q[e.switchToggleSide===!0?"push":"unshift"](ee(Ie,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>ee(Ve,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&Q[e.switchToggleSide===!0?"unshift":"push"](N()),Q}function z(){const Q={ref:"item",style:e.headerStyle,class:e.headerClass,dark:a.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return x.value===!0&&(Q.clickable=!0,Q.onClick=O,Object.assign(Q,g.value===!0?b.value:S.value)),ee(We,Q,R)}function W(){return Te(ee("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:p.value,id:s},ho(t.default)),[[Io,i.value]])}function j(){const Q=[z(),ee(phe,{duration:e.duration,onShow:E,onHide:D},W)];return e.expandSeparator===!0&&Q.push(ee(Ho,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:a.value}),ee(Ho,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:a.value})),Q}return e.group!==void 0&&P(),wo(()=>{m!==void 0&&m()}),()=>ee("div",{class:f.value},[ee("div",{class:"q-expansion-item__container relative-position"},j())])}}),Bt=At({name:"QCard",props:{...Sa,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=Ct(),r=Aa(e,o),a=X(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>ee(e.tag,{class:a.value},ho(t.default))}});function fF(e,t,o){let r;function a(){r!==void 0&&(Ep.remove(r),r=void 0)}return wo(()=>{e.value===!0&&a()}),{removeFromHistory:a,addToHistory(){r={condition:()=>o.value===!0,handler:t},Ep.add(r)}}}function Sf(){let e=null;const t=Ct();function o(){e!==null&&(clearTimeout(e),e=null)}return fl(o),wo(o),{removeTimeout:o,registerTimeout(r,a){o(),xg(t)===!1&&(e=setTimeout(r,a))}}}function nf(){let e;const t=Ct();function o(){e=void 0}return fl(o),wo(o),{removeTick:o,registerTick(r){e=r,Do(()=>{e===r&&(xg(t)===!1&&e(),e=void 0)})}}}const r_={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function i_(e,t=()=>{},o=()=>{}){return{transitionProps:X(()=>{const r=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:X(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let du=[],Wp=[];function mF(e){Wp=Wp.filter(t=>t!==e)}function ghe(e){mF(e),Wp.push(e)}function Q3(e){mF(e),Wp.length===0&&du.length!==0&&(du[du.length-1](),du=[])}function D0(e){Wp.length===0?e():du.push(e)}function _he(e){du=du.filter(t=>t!==e)}const sf=[];function bhe(e){return sf.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function pF(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return P1(e)}else if(e.__qPortal===!0){const o=P1(e);return o!==void 0&&o.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=P1(e)}while(e!=null)}function yhe(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=pF(e,t);continue}e.hide(t)}e=P1(e)}}function Che(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function WI(e,t,o,r){const a=$e(!1),i=$e(!1);let n=null;const s={},l=r==="dialog"&&Che(e);function u(d){if(d===!0){Q3(s),i.value=!0;return}i.value=!1,a.value===!1&&(l===!1&&n===null&&(n=yg(!1,r)),a.value=!0,sf.push(e.proxy),ghe(s))}function c(d){if(i.value=!1,d!==!0)return;Q3(s),a.value=!1;const m=sf.indexOf(e.proxy);m!==-1&&sf.splice(m,1),n!==null&&(Hx(n),n=null)}return Rf(()=>{c(!0)}),e.proxy.__qPortal=!0,Wi(e.proxy,"contentEl",()=>t.value),{showPortal:u,hidePortal:c,portalIsActive:a,portalIsAccessible:i,renderPortal:()=>l===!0?o():a.value===!0?[ee(jP,{to:n},o())]:void 0}}function hF(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,By(t))}}}const wu=[];let Af;function xhe(e){Af=e.keyCode===27}function whe(){Af===!0&&(Af=!1)}function Ihe(e){Af===!0&&(Af=!1,En(e,27)===!0&&wu[wu.length-1](e))}function vF(e){window[e]("keydown",xhe),window[e]("blur",whe),window[e]("keyup",Ihe),Af=!1}function gF(e){po.is.desktop===!0&&(wu.push(e),wu.length===1&&vF("addEventListener"))}function Rv(e){const t=wu.indexOf(e);t>-1&&(wu.splice(t,1),wu.length===0&&vF("removeEventListener"))}const Iu=[];function _F(e){Iu[Iu.length-1](e)}function bF(e){po.is.desktop===!0&&(Iu.push(e),Iu.length===1&&document.body.addEventListener("focusin",_F))}function wC(e){const t=Iu.indexOf(e);t>-1&&(Iu.splice(t,1),Iu.length===0&&document.body.removeEventListener("focusin",_F))}let f1=0;const Ehe={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},J3={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Qt=At({name:"QDialog",inheritAttrs:!1,props:{...A0,...r_,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...T0,"shake","click","escapeKey"],setup(e,{slots:t,emit:o,attrs:r}){const a=Ct(),i=$e(null),n=$e(!1),s=$e(!1);let l=null,u=null,c,d;const m=X(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:f}=hF(),{registerTimeout:p}=Sf(),{registerTick:g,removeTick:b}=nf(),{transitionProps:x,transitionStyle:_}=i_(e,()=>J3[e.position][0],()=>J3[e.position][1]),{showPortal:y,hidePortal:I,portalIsAccessible:S,renderPortal:O}=WI(a,i,ge,"dialog"),{hide:F}=O0({showing:n,hideOnRouteChange:m,handleShow:z,handleHide:W,processOnMount:!0}),{addToHistory:M,removeFromHistory:E}=fF(n,F,m),D=X(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ehe[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),P=X(()=>n.value===!0&&e.seamless!==!0),N=X(()=>e.autoClose===!0?{onClick:J}:{}),R=X(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${P.value===!0?"modal":"seamless"}`,r.class]);rt(()=>e.maximized,De=>{n.value===!0&&Ee(De)}),rt(P,De=>{f(De),De===!0?(bF(ye),gF(se)):(wC(ye),Rv(se))});function z(De){M(),u=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Ee(e.maximized),y(),s.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),g(j)):b(),p(()=>{if(a.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:Oe,bottom:he}=document.activeElement.getBoundingClientRect(),{innerHeight:Me}=window,fe=window.visualViewport!==void 0?window.visualViewport.height:Me;Oe>0&&he>fe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-fe,he>=Me?1/0:Math.ceil(document.scrollingElement.scrollTop+he-fe/2))),document.activeElement.scrollIntoView()}d=!0,i.value.click(),d=!1}y(!0),s.value=!1,o("show",De)},e.transitionDuration)}function W(De){b(),E(),_e(!0),s.value=!0,I(),u!==null&&(((De&&De.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),p(()=>{I(!0),s.value=!1,o("hide",De)},e.transitionDuration)}function j(De){D0(()=>{let Oe=i.value;Oe===null||Oe.contains(document.activeElement)===!0||(Oe=(De!==""?Oe.querySelector(De):null)||Oe.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||Oe.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||Oe.querySelector("[autofocus], [data-autofocus]")||Oe,Oe.focus({preventScroll:!0}))})}function Q(De){De&&typeof De.focus=="function"?De.focus({preventScroll:!0}):j(),o("shake");const Oe=i.value;Oe!==null&&(Oe.classList.remove("q-animate--scale"),Oe.classList.add("q-animate--scale"),l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,i.value!==null&&(Oe.classList.remove("q-animate--scale"),j())},170))}function se(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&Q():(o("escapeKey"),F()))}function _e(De){l!==null&&(clearTimeout(l),l=null),(De===!0||n.value===!0)&&(Ee(!1),e.seamless!==!0&&(f(!1),wC(ye),Rv(se))),De!==!0&&(u=null)}function Ee(De){De===!0?c!==!0&&(f1<1&&document.body.classList.add("q-body--dialog"),f1++,c=!0):c===!0&&(f1<2&&document.body.classList.remove("q-body--dialog"),f1--,c=!1)}function J(De){d!==!0&&(F(De),o("click",De))}function re(De){e.persistent!==!0&&e.noBackdropDismiss!==!0?F(De):e.noShake!==!0&&Q()}function ye(De){e.allowFocusOutside!==!0&&S.value===!0&&R4(i.value,De.target)!==!0&&j('[tabindex]:not([tabindex="-1"])')}Object.assign(a.proxy,{focus:j,shake:Q,__updateRefocusTarget(De){u=De||null}}),wo(_e);function ge(){return ee("div",{role:"dialog","aria-modal":P.value===!0?"true":"false",...r,class:R.value},[ee(wi,{name:"q-transition--fade",appear:!0},()=>P.value===!0?ee("div",{class:"q-dialog__backdrop fixed-full",style:_.value,"aria-hidden":"true",tabindex:-1,onClick:re}):null),ee(wi,x.value,()=>n.value===!0?ee("div",{ref:i,class:D.value,style:_.value,tabindex:-1,...N.value},ho(t.default)):null)])}return O}}),ht=(e,t)=>{const o=e.__vccOpts||e;for(const[r,a]of t)o[r]=a;return o};const She={computed:{classes(){return["Badge",this.denso?"Badge--denso":!1,`bg-${this.cor}`,this.escuro?"text-white":!1]}},props:{icone:{default:"",type:String},cor:{default:"light",type:String},denso:{default:!1,type:Boolean},escuro:{default:!1,type:Boolean},rotulo:{type:[String,Number]}}},Ahe={class:"q-pa-none"};function The(e,t,o,r,a,i){return $(),be("div",{class:ii(i.classes)},[o.icone?($(),ue(Ve,{key:0,name:o.icone,class:"q-mr-xs"},null,8,["name"])):ce("",!0),A("span",Ahe,de(o.rotulo),1),ZC(e.$slots,"default")],2)}var vl=ht(She,[["render",The]]);const Ohe={components:{Badge:vl},data(){return{mostrar:!1,confrontos:[]}},methods:{totalDadosNaoEncontrados(e){return Object.keys(e.emitente).length+Object.keys(e.destinatario).length+Object.keys(e.outros).length},async confrontarFigurasFiscaisV2(e){const t=await $erp().configuracaoImposto.toArray();let o=[];for(const i of t)o.push(JSON.parse(i.json));o=$lodash.orderBy(o,"ordem");const r=[];for(const i of e){const n=[];for(const s of o)n.push({figura:s,descricaoFigura:s.descricao,ordemFigura:s.ordem,descricaoProduto:i.produto,encontrado:{destinatario:{...s.destinatario.consumidor==="T"||s.destinatario.consumidor===i.destinatario.consumidor?{consumidor:i.destinatario.consumidor}:{},...s.destinatario.destino==="T"||s.destinatario.destino===i.destinatario.destino?{destino:i.destinatario.destino}:{},...s.destinatario.indicadorIE==="T"||s.destinatario.indicadorIE===i.destinatario.indicadorIE?{indicadorIE:i.destinatario.indicadorIE}:{},...s.destinatario.pessoa==="T"||s.destinatario.pessoa===i.destinatario.pessoa?{pessoa:i.destinatario.pessoa}:{},...s.destinatario.regime==="T"||s.destinatario.regime===i.destinatario.regime?{regime:i.destinatario.regime}:{},...s.destinatario.tributacao==="T"||s.destinatario.tributacao===i.destinatario.tributacao?{tributacao:i.destinatario.tributacao}:{},...s.destinatario.tributacaoSetor==="T"||s.destinatario.tributacaoSetor===i.destinatario.tributacaoSetor?{tributacaoSetor:i.destinatario.tributacaoSetor}:{},...(s.destinatario.ufs||[]).length===0||(s.destinatario.ufs||[]).find(l=>l.codigo===i.destinatario.uf)?{uf:i.destinatario.uf}:{}},emitente:{...s.emitente.regime==="T"||s.emitente.regime===i.emitente.regime?{regime:i.emitente.regime}:{},...s.emitente.tributacao==="T"||s.emitente.tributacao===i.emitente.tributacao?{tributacao:i.emitente.tributacao}:{},...s.emitente.tributacaoSetor==="T"||s.emitente.tributacaoSetor===i.emitente.tributacaoSetor?{tributacaoSetor:i.emitente.tributacaoSetor}:{},...(s.emitente.ufs||[]).length===0||(s.emitente.ufs||[]).find(l=>l.codigo===i.emitente.uf)?{uf:i.emitente.uf}:{}},outros:{...(s.ncms||[]).length===0||(s.ncms||[]).find(l=>String(l.codigo)===String(i.ncm))?{ncm:i.ncm}:{},...(s.ncms||[]).length===0||(s.ncms||[]).find(l=>String(l.codigo)===i.ncm&&(!l.cest||l.cest===i.cest))?{cest:i.cest}:{},...(s.cfops||[]).length===0||(s.cfops||[]).find(l=>String(l.codigo)===String(i.cfop))?{cfop:i.cfop}:{},...s.origemMercadoria==="T"||s.origemMercadoria===i.origemMercadoria?{origemMercadoria:i.origemMercadoria}:{}}},naoEncontrado:{destinatario:{...s.destinatario.consumidor!=="T"&&s.destinatario.consumidor!==i.destinatario.consumidor?{consumidor:i.destinatario.consumidor}:{},...s.destinatario.destino!=="T"&&s.destinatario.destino!==i.destinatario.destino?{destino:i.destinatario.destino}:{},...s.destinatario.indicadorIE!=="T"&&s.destinatario.indicadorIE!==i.destinatario.indicadorIE?{indicadorIE:i.destinatario.indicadorIE}:{},...s.destinatario.pessoa!=="T"&&s.destinatario.pessoa!==i.destinatario.pessoa?{pessoa:i.destinatario.pessoa}:{},...s.destinatario.regime!=="T"&&s.destinatario.regime!==i.destinatario.regime?{regime:i.destinatario.regime}:{},...s.destinatario.tributacao!=="T"&&s.destinatario.tributacao!==i.destinatario.tributacao?{tributacao:i.destinatario.tributacao}:{},...s.destinatario.tributacaoSetor!=="T"&&s.destinatario.tributacaoSetor!==i.destinatario.tributacaoSetor?{tributacaoSetor:i.destinatario.tributacaoSetor}:{},...(s.destinatario.ufs||[]).length&&!(s.destinatario.ufs||[]).find(l=>l.codigo===i.destinatario.uf)?{uf:i.destinatario.uf}:{}},emitente:{...s.emitente.regime!=="T"&&s.emitente.regime!==i.emitente.regime?{regime:i.emitente.regime}:{},...s.emitente.tributacao!=="T"&&s.emitente.tributacao!==i.emitente.tributacao?{tributacao:i.emitente.tributacao}:{},...s.emitente.tributacaoSetor!=="T"&&s.emitente.tributacaoSetor!==i.emitente.tributacaoSetor?{tributacaoSetor:i.emitente.tributacaoSetor}:{},...(s.emitente.ufs||[]).length&&!(s.emitente.ufs||[]).find(l=>l.codigo===i.emitente.uf)?{uf:i.emitente.uf}:{}},outros:{...(s.ncms||[]).length&&!(s.ncms||[]).find(l=>String(l.codigo)===i.ncm)?{ncm:i.ncm}:{},...(s.ncms||[]).length&&!(s.ncms||[]).find(l=>String(l.codigo)===i.ncm&&(!l.cest||l.cest===i.cest))?{cest:i.cest}:{},...(s.cfops||[]).length&&!(s.cfops||[]).find(l=>String(l.codigo)===i.cfop)?{cfop:i.cfop}:{},...s.origemMercadoria!=="T"&&s.origemMercadoria!==i.origemMercadoria?{origemMercadoria:i.origemMercadoria}:{}}}});r.push(n)}const a=[];for(const i of r){const n=[],s=[];for(const u of i){if(this.totalDadosNaoEncontrados(u.naoEncontrado)===0){n.push(u);continue}s.push(u)}n.sort((u,c)=>{const d=Number(u.ordemFigura),m=Number(c.ordemFigura);return d<m?-1:1}),s.sort((u,c)=>{const d=Number(u.ordemFigura),m=Number(c.ordemFigura);return d<m?-1:1}),s.sort((u,c)=>{const d=this.totalDadosNaoEncontrados(u.naoEncontrado),m=this.totalDadosNaoEncontrados(c.naoEncontrado);return d<m?-1:1});const l=[];for(const u of n)l.push(u);for(const u of s)l.push(u);a.push(l)}this.confrontos=a,this.mostrar=!0}},mounted(){$utils.emitter.off("confrontarFigurasFiscais"),$utils.emitter.on("confrontarFigurasFiscais",this.confrontarFigurasFiscaisV2)}},Dhe=A("div",{class:"text-h6"},"Confer\xEAncia de figuras fiscais",-1),Phe={class:"q-pa-md"},Mhe={class:"row items-center"},Nhe={class:"col-12 col-md-6"},Fhe={class:"q-pl-sm q-pt-sm q-pb-sm"},Rhe=A("div",{class:"q-subtitle"},"Configura\xE7\xE3o encontrada",-1),khe={class:"text-weight-bold"},Vhe={class:"text-weight-bold"},qhe={class:"text-weight-bold"},Bhe={class:"col-12 col-md-6"},Lhe={class:"q-pr-sm q-pt-sm q-pb-sm"},$he=A("div",{class:"q-subtitle"},"Configura\xE7\xE3o n\xE3o encontrada",-1),Uhe={class:"text-weight-bold"},zhe={class:"text-weight-bold"},Hhe={class:"text-weight-bold"};function jhe(e,t,o,r,a,i){const n=ke("badge"),s=ke("row");return $(),ue(Qt,{modelValue:a.mostrar,"onUpdate:modelValue":t[0]||(t[0]=l=>a.mostrar=l)},{default:w(()=>[v(Bt,{style:{width:"768px","max-width":"100%"}},{default:w(()=>[v(Ja,null,{default:w(()=>[Dhe]),_:1}),v(Ja,null,{default:w(()=>[v(wt,{bordered:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.confrontos,l=>($(),be("div",{key:l,group:"produtos"},[v(Vr,{"default-opened":a.confrontos.length===1,icon:"mdi-tag-minus",label:l[0].descricaoProduto,"header-class":"text-tertiary"},{default:w(()=>[A("div",Phe,[v(wt,{bordered:""},{default:w(()=>[($(!0),be(Qe,null,zt(l,u=>($(),be("div",{key:u.descricaoFigura,group:"figuras"},[v(Vr,{"header-class":"text-tertiary"},{header:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Bn,{color:"tertiary"},{default:w(()=>[te(" Ordem "+de(u.ordemFigura),1)]),_:2},1024)]),_:2},1024),v(Ie,null,{default:w(()=>[te(de(u.descricaoFigura),1)]),_:2},1024),v(Ie,{side:""},{default:w(()=>[A("div",Mhe,[i.totalDadosNaoEncontrados(u.naoEncontrado)?($(),ue(n,{key:0,cor:"negative",denso:"",escuro:""},{default:w(()=>[te(de(i.totalDadosNaoEncontrados(u.naoEncontrado)),1)]),_:2},1024)):($(),ue(Ve,{key:1,name:"mdi-check-bold",color:"positive"}))])]),_:2},1024)]),default:w(()=>[v(s,{class:"q-mb-md"},{default:w(()=>[A("div",Nhe,[A("div",Fhe,[v(at,{class:"bg-primary text-white shadow-2"},{default:w(()=>[Rhe]),_:1}),Object.keys(u.encontrado.emitente).length?($(),ue(wt,{key:0,bordered:"",padding:""},{default:w(()=>[v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Emitente")]),_:1}),($(!0),be(Qe,null,zt(Object.keys(u.encontrado.emitente),c=>($(),ue(Be,{key:c,caption:""},{default:w(()=>[A("span",khe,de(c),1),te(" "+de(u.encontrado.emitente[c]),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)):ce("",!0),Object.keys(u.encontrado.destinatario).length?($(),ue(wt,{key:1,bordered:"",padding:""},{default:w(()=>[v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Destinat\xE1rio")]),_:1}),($(!0),be(Qe,null,zt(Object.keys(u.encontrado.destinatario),c=>($(),ue(Be,{key:c,caption:""},{default:w(()=>[A("span",Vhe,de(c),1),te(" "+de(u.encontrado.destinatario[c]),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)):ce("",!0),Object.keys(u.encontrado.outros).length?($(),ue(wt,{key:2,bordered:"",padding:""},{default:w(()=>[v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Outros")]),_:1}),($(!0),be(Qe,null,zt(Object.keys(u.encontrado.outros),c=>($(),ue(Be,{key:c,caption:""},{default:w(()=>[A("span",qhe,de(c),1),te(" "+de(u.encontrado.outros[c]),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)):ce("",!0)])]),A("div",Bhe,[A("div",Lhe,[v(at,{class:"bg-negative text-white shadow-2"},{default:w(()=>[$he]),_:1}),Object.keys(u.naoEncontrado.emitente).length?($(),ue(wt,{key:0,bordered:"",padding:""},{default:w(()=>[v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Emitente")]),_:1}),($(!0),be(Qe,null,zt(Object.keys(u.naoEncontrado.emitente),c=>($(),ue(Be,{key:c,caption:""},{default:w(()=>[A("span",Uhe,de(c),1),te(" "+de(u.naoEncontrado.emitente[c]),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)):ce("",!0),Object.keys(u.naoEncontrado.destinatario).length?($(),ue(wt,{key:1,bordered:"",padding:""},{default:w(()=>[v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Destinat\xE1rio")]),_:1}),($(!0),be(Qe,null,zt(Object.keys(u.naoEncontrado.destinatario),c=>($(),ue(Be,{key:c,caption:""},{default:w(()=>[A("span",zhe,de(c),1),te(" "+de(u.naoEncontrado.destinatario[c]),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)):ce("",!0),Object.keys(u.naoEncontrado.outros).length?($(),ue(wt,{key:2,bordered:"",padding:""},{default:w(()=>[v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Outros")]),_:1}),($(!0),be(Qe,null,zt(Object.keys(u.naoEncontrado.outros),c=>($(),ue(Be,{key:c,caption:""},{default:w(()=>[A("span",Hhe,de(c),1),te(" "+de(u.naoEncontrado.outros[c]),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)):ce("",!0)])])]),_:2},1024)]),_:2},1024),v(Ho)]))),128))]),_:2},1024)])]),_:2},1032,["default-opened","label"]),v(Ho)]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var Ghe=ht(Ohe,[["render",jhe]]),nt=At({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const o=X(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>ee("div",{class:o.value},ho(t.default))}});function Z3(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var lt=a0({name:"close-popup",beforeMount(e,{value:t}){const o={depth:Z3(t),handler(r){o.depth!==0&&setTimeout(()=>{const a=bhe(e);a!==void 0&&yhe(a,r,o.depth)})},handlerKey(r){En(r,13)===!0&&o.handler(r)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=Z3(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const Whe={data(){return{modal:{visivel:!1,titulo:"Erro",erros:[],btn:[]}}},mounted(){$g.modalAlerta={show:e=>{var t,o;this.modal={visivel:!0,titulo:e.titulo||"Erro",erros:(t=e.erros)!=null?t:[],btn:(o=e.btn)!=null?o:[]}},hide:e=>{this.modal={visivel:!1,titulo:"Erro",erros:[],btn:[]}}}}};function Xhe(e,t,o,r,a,i){const n=ke("row");return $(),be("div",null,[v(Qt,{modelValue:a.modal.visivel,"onUpdate:modelValue":t[0]||(t[0]=s=>a.modal.visivel=s)},{default:w(()=>[v(Bt,null,{default:w(()=>[v(at,{class:"bg-red text-white"},{default:w(()=>[v(nt,{class:"q-mx-sm"},{default:w(()=>[te(de(a.modal.titulo),1)]),_:1}),Te(v(pe,{dense:"",flat:"",round:"",icon:"close"},null,512),[[lt]])]),_:1}),v(Ja,{class:"text-body1 q-mx-lg q-my-sm"},{default:w(()=>[($(!0),be(Qe,null,zt(a.modal.erros,(s,l)=>($(),ue(n,{key:l},{default:w(()=>[te(de(s),1)]),_:2},1024))),128))]),_:1}),v(Ho),v(at,{class:"bg-light"},{default:w(()=>[v(nt,null,{default:w(()=>[v(n,{class:"justify-end"},{default:w(()=>[a.modal.btn.length?ce("",!0):Te(($(),ue(pe,{key:0,flat:"",label:"Fechar"},null,512)),[[lt]]),($(!0),be(Qe,null,zt(a.modal.btn,(s,l)=>($(),ue(pe,{key:l,flat:"",label:s.label,color:s.color,onClick:s.click},null,8,["label","color","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Yhe=ht(Whe,[["render",Xhe]]);const Khe={data(){return{modal:{visivel:!1,titulo:"Sucesso",mensagens:[]}}},mounted(){$g.modalSucesso={show:e=>{this.modal={visivel:!0,titulo:e.titulo||"Sucesso",mensagens:e.mensagens||[]}}}}};function Qhe(e,t,o,r,a,i){const n=ke("row");return $(),ue(Qt,{modelValue:a.modal.visivel,"onUpdate:modelValue":t[0]||(t[0]=s=>a.modal.visivel=s)},{default:w(()=>[v(Bt,null,{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,{class:"q-mx-sm"},{default:w(()=>[te(de(a.modal.titulo),1)]),_:1}),Te(v(pe,{dense:"",flat:"",round:"",icon:"close"},null,512),[[lt]])]),_:1}),v(Ja,{class:"text-body1 q-mx-lg q-my-sm"},{default:w(()=>[($(!0),be(Qe,null,zt(a.modal.mensagens,(s,l)=>($(),ue(n,{key:l},{default:w(()=>[te(de(s),1)]),_:2},1024))),128))]),_:1}),v(Ho),v(at,{class:"bg-light"},{default:w(()=>[v(nt,null,{default:w(()=>[v(n,{class:"justify-end"},{default:w(()=>[Te(v(pe,{flat:"",label:"OK"},null,512),[[lt]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var Jhe=ht(Khe,[["render",Qhe]]);function Zhe({validate:e,resetValidation:t,requiresQForm:o}){const r=gr(M4,!1);if(r!==!1){const{props:a,proxy:i}=Ct();Object.assign(i,{validate:e,resetValidation:t}),rt(()=>a.disable,n=>{n===!0?(typeof t=="function"&&t(),r.unbindComponent(i)):r.bindComponent(i)}),tr(()=>{a.disable!==!0&&r.bindComponent(i)}),wo(()=>{a.disable!==!0&&r.unbindComponent(i)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const eD=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,tD=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,oD=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,m1=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,p1=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,E2={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>eD.test(e),hexaColor:e=>tD.test(e),hexOrHexaColor:e=>oD.test(e),rgbColor:e=>m1.test(e),rgbaColor:e=>p1.test(e),rgbOrRgbaColor:e=>m1.test(e)||p1.test(e),hexOrRgbColor:e=>eD.test(e)||m1.test(e),hexaOrRgbaColor:e=>tD.test(e)||p1.test(e),anyColor:e=>oD.test(e)||m1.test(e)||p1.test(e)},e1e=[!0,!1,"ondemand"],t1e={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>e1e.includes(e)}};function o1e(e,t){const{props:o,proxy:r}=Ct(),a=$e(!1),i=$e(null),n=$e(null);Zhe({validate:p,resetValidation:f});let s=0,l;const u=X(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length!==0),c=X(()=>o.disable!==!0&&u.value===!0&&t.value===!1),d=X(()=>o.error===!0||a.value===!0),m=X(()=>typeof o.errorMessage=="string"&&o.errorMessage.length!==0?o.errorMessage:i.value);rt(()=>o.modelValue,()=>{n.value=!0,c.value===!0&&o.lazyRules===!1&&g()}),rt(()=>o.reactiveRules,b=>{b===!0?l===void 0&&(l=rt(()=>o.rules,()=>{c.value===!0&&n.value===!0&&o.lazyRules!=="ondemand"&&g()},{immediate:!0})):l!==void 0&&(l(),l=void 0)},{immediate:!0}),rt(()=>o.lazyRules,b=>{b===!1&&c.value===!0&&n.value===!0&&g()}),rt(e,b=>{b===!0?n.value===null&&(n.value=o.lazyRules===!0):c.value===!0&&(o.lazyRules===!1||o.lazyRules===!0&&n.value===!0)&&g()});function f(){s++,t.value=!1,n.value=null,a.value=!1,i.value=null,g.cancel()}function p(b=o.modelValue){if(o.disable===!0||u.value===!1)return!0;const x=++s,_=t.value!==!0?()=>{n.value=!0}:()=>{},y=(S,O)=>{S===!0&&_(),a.value=S,i.value=O||null,t.value=!1},I=[];for(let S=0;S<o.rules.length;S++){const O=o.rules[S];let F;if(typeof O=="function"?F=O(b,E2):typeof O=="string"&&E2[O]!==void 0&&(F=E2[O](b)),F===!1||typeof F=="string")return y(!0,F),!1;F!==!0&&F!==void 0&&I.push(F)}return I.length===0?(y(!1),!0):(t.value=!0,Promise.all(I).then(S=>{if(S===void 0||Array.isArray(S)===!1||S.length===0)return x===s&&y(!1),!0;const O=S.find(F=>F===!1||typeof F=="string");return x===s&&y(O!==void 0,O),O===void 0},S=>(x===s&&(console.error(S),y(!0)),!1)))}const g=cx(p,0);return wo(()=>{l!==void 0&&l(),g.cancel()}),Object.assign(r,{resetValidation:f,validate:p}),Wi(r,"hasError",()=>d.value),{isDirtyModel:n,hasRules:u,hasError:d,errorMessage:m,validate:p,resetValidation:f}}const aD=/^on[A-Z]/;function a1e(e,t){const o={listeners:$e({}),attributes:$e({})};function r(){const a={},i={};for(const n in e)n!=="class"&&n!=="style"&&aD.test(n)===!1&&(a[n]=e[n]);for(const n in t.props)aD.test(n)===!0&&(i[n]=t.props[n]);o.attributes.value=a,o.listeners.value=i}return ag(r),r(),o}function yF(e,t){return e===void 0?t===!0?`f_${_f()}`:void 0:e}function Xp(e){return e!=null&&(""+e).length!==0}const n_={...Sa,...t1e,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},XI=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function YI({requiredForAttr:e=!0,tagProp:t}={}){const{props:o,attrs:r,proxy:a,vnode:i}=Ct(),n=Aa(o,a.$q);return{requiredForAttr:e,tag:t===!0?X(()=>o.tag):{value:"label"},isDark:n,editable:X(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:$e(!1),focused:$e(!1),hasPopupOpen:!1,splitAttrs:a1e(r,i),targetUid:$e(yF(o.for,e)),rootRef:$e(null),targetRef:$e(null),controlRef:$e(null)}}function KI(e){const{props:t,emit:o,slots:r,attrs:a,proxy:i}=Ct(),{$q:n}=i;let s=null;e.hasValue===void 0&&(e.hasValue=X(()=>Xp(t.modelValue))),e.emitValue===void 0&&(e.emitValue=Q=>{o("update:modelValue",Q)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:E,onFocusout:D}),Object.assign(e,{clearValue:P,onControlFocusin:E,onControlFocusout:D,focus:F}),e.computedCounter===void 0&&(e.computedCounter=X(()=>{if(t.counter!==!1){const Q=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,se=t.maxlength!==void 0?t.maxlength:t.maxValues;return Q+(se!==void 0?" / "+se:"")}}));const{isDirtyModel:l,hasRules:u,hasError:c,errorMessage:d,resetValidation:m}=o1e(e.focused,e.innerLoading),f=e.floatingLabel!==void 0?X(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):X(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),p=X(()=>t.bottomSlots===!0||t.hint!==void 0||u.value===!0||t.counter===!0||t.error!==null),g=X(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),b=X(()=>`q-field row no-wrap items-start q-field--${g.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(f.value===!0?" q-field--float":"")+(_.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&p.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),x=X(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),_=X(()=>t.labelSlot===!0||t.label!==void 0),y=X(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),I=X(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:f.value,modelValue:t.modelValue,emitValue:e.emitValue})),S=X(()=>{const Q={for:e.targetUid.value};return t.disable===!0&&(Q["aria-disabled"]="true"),Q});rt(()=>t.for,Q=>{e.targetUid.value=yF(Q,e.requiredForAttr)});function O(){const Q=document.activeElement;let se=e.targetRef!==void 0&&e.targetRef.value;se&&(Q===null||Q.id!==e.targetUid.value)&&(se.hasAttribute("tabindex")===!0||(se=se.querySelector("[tabindex]")),se&&se!==Q&&se.focus({preventScroll:!0}))}function F(){D0(O)}function M(){_he(O);const Q=document.activeElement;Q!==null&&e.rootRef.value.contains(Q)&&Q.blur()}function E(Q){s!==null&&(clearTimeout(s),s=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",Q))}function D(Q,se){s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,o("blur",Q)),se!==void 0&&se())})}function P(Q){bo(Q),n.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",t.modelValue),Do(()=>{m(),n.platform.is.mobile!==!0&&(l.value=!1)})}function N(){const Q=[];return r.prepend!==void 0&&Q.push(ee("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:oi},r.prepend())),Q.push(ee("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},R())),c.value===!0&&t.noErrorIcon===!1&&Q.push(W("error",[ee(Ve,{name:n.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?Q.push(W("inner-loading-append",r.loading!==void 0?r.loading():[ee(tn,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&Q.push(W("inner-clearable-append",[ee(Ve,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||n.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:P})])),r.append!==void 0&&Q.push(ee("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:oi},r.append())),e.getInnerAppend!==void 0&&Q.push(W("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&Q.push(e.getControlChild()),Q}function R(){const Q=[];return t.prefix!==void 0&&t.prefix!==null&&Q.push(ee("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&Q.push(e.getShadowControl()),e.getControl!==void 0?Q.push(e.getControl()):r.rawControl!==void 0?Q.push(r.rawControl()):r.control!==void 0&&Q.push(ee("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},r.control(I.value))),_.value===!0&&Q.push(ee("div",{class:y.value},ho(r.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&Q.push(ee("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),Q.concat(ho(r.default))}function z(){let Q,se;c.value===!0?d.value!==null?(Q=[ee("div",{role:"alert"},d.value)],se=`q--slot-error-${d.value}`):(Q=ho(r.error),se="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(Q=[ee("div",t.hint)],se=`q--slot-hint-${t.hint}`):(Q=ho(r.hint),se="q--slot-hint"));const _e=t.counter===!0||r.counter!==void 0;if(t.hideBottomSpace===!0&&_e===!1&&Q===void 0)return;const Ee=ee("div",{key:se,class:"q-field__messages col"},Q);return ee("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:oi},[t.hideBottomSpace===!0?Ee:ee(wi,{name:"q-transition--field-message"},()=>Ee),_e===!0?ee("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():e.computedCounter.value):null])}function W(Q,se){return se===null?null:ee("div",{key:Q,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},se)}let j=!1;return fl(()=>{j=!0}),Uu(()=>{j===!0&&t.autofocus===!0&&i.focus()}),tr(()=>{Jn.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${_f()}`),t.autofocus===!0&&i.focus()}),wo(()=>{s!==null&&clearTimeout(s)}),Object.assign(i,{focus:F,blur:M}),function(){const se=e.getControl===void 0&&r.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...S.value}:S.value;return ee(e.tag.value,{ref:e.rootRef,class:[b.value,a.class],style:a.style,...se},[r.before!==void 0?ee("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:oi},r.before()):null,ee("div",{class:"q-field__inner relative-position col self-stretch"},[ee("div",{ref:e.controlRef,class:x.value,tabindex:-1,...e.controlEvents},N()),p.value===!0?z():null]),r.after!==void 0?ee("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:oi},r.after()):null])}}const rD={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},kv={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},CF=Object.keys(kv);CF.forEach(e=>{kv[e].regex=new RegExp(kv[e].pattern)});const r1e=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+CF.join("")+"])|(.)","g"),iD=/[.*+?^${}()|[\]\\]/g,Ha=String.fromCharCode(1),i1e={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function n1e(e,t,o,r){let a,i,n,s,l,u;const c=$e(null),d=$e(f());function m(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}rt(()=>e.type+e.autogrow,g),rt(()=>e.mask,E=>{if(E!==void 0)b(d.value,!0);else{const D=F(d.value);g(),e.modelValue!==D&&t("update:modelValue",D)}}),rt(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&b(d.value,!0)}),rt(()=>e.unmaskedValue,()=>{c.value===!0&&b(d.value)});function f(){if(g(),c.value===!0){const E=S(F(e.modelValue));return e.fillMask!==!1?M(E):E}return e.modelValue}function p(E){if(E<a.length)return a.slice(-E);let D="",P=a;const N=P.indexOf(Ha);if(N>-1){for(let R=E-P.length;R>0;R--)D+=Ha;P=P.slice(0,N)+D+P.slice(N)}return P}function g(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&m(),c.value===!1){s=void 0,a="",i="";return}const E=rD[e.mask]===void 0?e.mask:rD[e.mask],D=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",P=D.replace(iD,"\\$&"),N=[],R=[],z=[];let W=e.reverseFillMask===!0,j="",Q="";E.replace(r1e,(J,re,ye,ge,De)=>{if(ge!==void 0){const Oe=kv[ge];z.push(Oe),Q=Oe.negate,W===!0&&(R.push("(?:"+Q+"+)?("+Oe.pattern+"+)?(?:"+Q+"+)?("+Oe.pattern+"+)?"),W=!1),R.push("(?:"+Q+"+)?("+Oe.pattern+")?")}else if(ye!==void 0)j="\\"+(ye==="\\"?"":ye),z.push(ye),N.push("([^"+j+"]+)?"+j+"?");else{const Oe=re!==void 0?re:De;j=Oe==="\\"?"\\\\\\\\":Oe.replace(iD,"\\\\$&"),z.push(Oe),N.push("([^"+j+"]+)?"+j+"?")}});const se=new RegExp("^"+N.join("")+"("+(j===""?".":"[^"+j+"]")+"+)?"+(j===""?"":"["+j+"]*")+"$"),_e=R.length-1,Ee=R.map((J,re)=>re===0&&e.reverseFillMask===!0?new RegExp("^"+P+"*"+J):re===_e?new RegExp("^"+J+"("+(Q===""?".":Q)+"+)?"+(e.reverseFillMask===!0?"$":P+"*")):new RegExp("^"+J));n=z,s=J=>{const re=se.exec(e.reverseFillMask===!0?J:J.slice(0,z.length+1));re!==null&&(J=re.slice(1).join(""));const ye=[],ge=Ee.length;for(let De=0,Oe=J;De<ge;De++){const he=Ee[De].exec(Oe);if(he===null)break;Oe=Oe.slice(he.shift().length),ye.push(...he)}return ye.length!==0?ye.join(""):J},a=z.map(J=>typeof J=="string"?J:Ha).join(""),i=a.split(Ha).join(D)}function b(E,D,P){const N=r.value,R=N.selectionEnd,z=N.value.length-R,W=F(E);D===!0&&g();const j=S(W),Q=e.fillMask!==!1?M(j):j,se=d.value!==Q;N.value!==Q&&(N.value=Q),se===!0&&(d.value=Q),document.activeElement===N&&Do(()=>{if(Q===i){const Ee=e.reverseFillMask===!0?i.length:0;N.setSelectionRange(Ee,Ee,"forward");return}if(P==="insertFromPaste"&&e.reverseFillMask!==!0){const Ee=N.selectionEnd;let J=R-1;for(let re=l;re<=J&&re<Ee;re++)a[re]!==Ha&&J++;_.right(N,J);return}if(["deleteContentBackward","deleteContentForward"].indexOf(P)>-1){const Ee=e.reverseFillMask===!0?R===0?Q.length>j.length?1:0:Math.max(0,Q.length-(Q===i?0:Math.min(j.length,z)+1))+1:R;N.setSelectionRange(Ee,Ee,"forward");return}if(e.reverseFillMask===!0)if(se===!0){const Ee=Math.max(0,Q.length-(Q===i?0:Math.min(j.length,z+1)));Ee===1&&R===1?N.setSelectionRange(Ee,Ee,"forward"):_.rightReverse(N,Ee)}else{const Ee=Q.length-z;N.setSelectionRange(Ee,Ee,"backward")}else if(se===!0){const Ee=Math.max(0,a.indexOf(Ha),Math.min(j.length,R)-1);_.right(N,Ee)}else{const Ee=R-1;_.right(N,Ee)}});const _e=e.unmaskedValue===!0?F(Q):Q;String(e.modelValue)!==_e&&(e.modelValue!==null||_e!=="")&&o(_e,!0)}function x(E,D,P){const N=S(F(E.value));D=Math.max(0,a.indexOf(Ha),Math.min(N.length,D)),l=D,E.setSelectionRange(D,P,"forward")}const _={left(E,D){const P=a.slice(D-1).indexOf(Ha)===-1;let N=Math.max(0,D-1);for(;N>=0;N--)if(a[N]===Ha){D=N,P===!0&&D++;break}if(N<0&&a[D]!==void 0&&a[D]!==Ha)return _.right(E,0);D>=0&&E.setSelectionRange(D,D,"backward")},right(E,D){const P=E.value.length;let N=Math.min(P,D+1);for(;N<=P;N++)if(a[N]===Ha){D=N;break}else a[N-1]===Ha&&(D=N);if(N>P&&a[D-1]!==void 0&&a[D-1]!==Ha)return _.left(E,P);E.setSelectionRange(D,D,"forward")},leftReverse(E,D){const P=p(E.value.length);let N=Math.max(0,D-1);for(;N>=0;N--)if(P[N-1]===Ha){D=N;break}else if(P[N]===Ha&&(D=N,N===0))break;if(N<0&&P[D]!==void 0&&P[D]!==Ha)return _.rightReverse(E,0);D>=0&&E.setSelectionRange(D,D,"backward")},rightReverse(E,D){const P=E.value.length,N=p(P),R=N.slice(0,D+1).indexOf(Ha)===-1;let z=Math.min(P,D+1);for(;z<=P;z++)if(N[z-1]===Ha){D=z,D>0&&R===!0&&D--;break}if(z>P&&N[D-1]!==void 0&&N[D-1]!==Ha)return _.leftReverse(E,P);E.setSelectionRange(D,D,"forward")}};function y(E){t("click",E),u=void 0}function I(E){if(t("keydown",E),ug(E)===!0||E.altKey===!0)return;const D=r.value,P=D.selectionStart,N=D.selectionEnd;if(E.shiftKey||(u=void 0),E.keyCode===37||E.keyCode===39){E.shiftKey&&u===void 0&&(u=D.selectionDirection==="forward"?P:N);const R=_[(E.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(E.preventDefault(),R(D,u===P?N:P),E.shiftKey){const z=D.selectionStart;D.setSelectionRange(Math.min(u,z),Math.max(u,z),"forward")}}else E.keyCode===8&&e.reverseFillMask!==!0&&P===N?(_.left(D,P),D.setSelectionRange(D.selectionStart,N,"backward")):E.keyCode===46&&e.reverseFillMask===!0&&P===N&&(_.rightReverse(D,N),D.setSelectionRange(P,D.selectionEnd,"forward"))}function S(E){if(E==null||E==="")return"";if(e.reverseFillMask===!0)return O(E);const D=n;let P=0,N="";for(let R=0;R<D.length;R++){const z=E[P],W=D[R];if(typeof W=="string")N+=W,z===W&&P++;else if(z!==void 0&&W.regex.test(z))N+=W.transform!==void 0?W.transform(z):z,P++;else return N}return N}function O(E){const D=n,P=a.indexOf(Ha);let N=E.length-1,R="";for(let z=D.length-1;z>=0&&N>-1;z--){const W=D[z];let j=E[N];if(typeof W=="string")R=W+R,j===W&&N--;else if(j!==void 0&&W.regex.test(j))do R=(W.transform!==void 0?W.transform(j):j)+R,N--,j=E[N];while(P===z&&j!==void 0&&W.regex.test(j));else return R}return R}function F(E){return typeof E!="string"||s===void 0?typeof E=="number"?s(""+E):E:s(E)}function M(E){return i.length-E.length<=0?E:e.reverseFillMask===!0&&E.length!==0?i.slice(0,-E.length)+E:E+i.slice(E.length)}return{innerValue:d,hasMask:c,moveCursorForPaste:x,updateMaskValue:b,onMaskedKeydown:I,onMaskedClick:y}}const P0={name:String};function s1e(e){return X(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function QI(e={}){return(t,o,r)=>{t[o](ee("input",{class:"hidden"+(r||""),...e.value}))}}function xF(e){return X(()=>e.name||e.for)}function l1e(e,t){function o(){const r=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(i=>{a.items.add(i)}),{files:a.files}}catch{return{files:void 0}}}return X(t===!0?()=>{if(e.type==="file")return o()}:o)}const c1e=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,u1e=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,d1e=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,f1e=/[a-z0-9_ -]$/i;function wF(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(po.is.firefox===!0?f1e.test(o.data)===!1:c1e.test(o.data)===!0||u1e.test(o.data)===!0||d1e.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}var Ca=At({name:"QInput",inheritAttrs:!1,props:{...n_,...i1e,...P0,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...XI,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:o}){const{proxy:r}=Ct(),{$q:a}=r,i={};let n=NaN,s,l,u=null,c;const d=$e(null),m=xF(e),{innerValue:f,hasMask:p,moveCursorForPaste:g,updateMaskValue:b,onMaskedKeydown:x,onMaskedClick:_}=n1e(e,t,j,d),y=l1e(e,!0),I=X(()=>Xp(f.value)),S=wF(z),O=YI(),F=X(()=>e.type==="textarea"||e.autogrow===!0),M=X(()=>F.value===!0||["text","search","url","tel","password"].includes(e.type)),E=X(()=>{const re={...O.splitAttrs.listeners.value,onInput:z,onPaste:R,onChange:se,onBlur:_e,onFocus:ti};return re.onCompositionstart=re.onCompositionupdate=re.onCompositionend=S,p.value===!0&&(re.onKeydown=x,re.onClick=_),e.autogrow===!0&&(re.onAnimationend=W),re}),D=X(()=>{const re={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:m.value,...O.splitAttrs.attributes.value,id:O.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return F.value===!1&&(re.type=e.type),e.autogrow===!0&&(re.rows=1),re});rt(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),rt(()=>e.modelValue,re=>{if(p.value===!0){if(l===!0&&(l=!1,String(re)===n))return;b(re)}else f.value!==re&&(f.value=re,e.type==="number"&&i.hasOwnProperty("value")===!0&&(s===!0?s=!1:delete i.value));e.autogrow===!0&&Do(Q)}),rt(()=>e.autogrow,re=>{re===!0?Do(Q):d.value!==null&&o.rows>0&&(d.value.style.height="auto")}),rt(()=>e.dense,()=>{e.autogrow===!0&&Do(Q)});function P(){D0(()=>{const re=document.activeElement;d.value!==null&&d.value!==re&&(re===null||re.id!==O.targetUid.value)&&d.value.focus({preventScroll:!0})})}function N(){d.value!==null&&d.value.select()}function R(re){if(p.value===!0&&e.reverseFillMask!==!0){const ye=re.target;g(ye,ye.selectionStart,ye.selectionEnd)}t("paste",re)}function z(re){if(!re||!re.target)return;if(e.type==="file"){t("update:modelValue",re.target.files);return}const ye=re.target.value;if(re.target.qComposing===!0){i.value=ye;return}if(p.value===!0)b(ye,!1,re.inputType);else if(j(ye),M.value===!0&&re.target===document.activeElement){const{selectionStart:ge,selectionEnd:De}=re.target;ge!==void 0&&De!==void 0&&Do(()=>{re.target===document.activeElement&&ye.indexOf(re.target.value)===0&&re.target.setSelectionRange(ge,De)})}e.autogrow===!0&&Q()}function W(re){t("animationend",re),Q()}function j(re,ye){c=()=>{u=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==re&&n!==re&&(n=re,ye===!0&&(l=!0),t("update:modelValue",re),Do(()=>{n===re&&(n=NaN)})),c=void 0},e.type==="number"&&(s=!0,i.value=re),e.debounce!==void 0?(u!==null&&clearTimeout(u),i.value=re,u=setTimeout(c,e.debounce)):c()}function Q(){requestAnimationFrame(()=>{const re=d.value;if(re!==null){const ye=re.parentNode.style,{scrollTop:ge}=re,{overflowY:De,maxHeight:Oe}=a.platform.is.firefox===!0?{}:window.getComputedStyle(re),he=De!==void 0&&De!=="scroll";he===!0&&(re.style.overflowY="hidden"),ye.marginBottom=re.scrollHeight-1+"px",re.style.height="1px",re.style.height=re.scrollHeight+"px",he===!0&&(re.style.overflowY=parseInt(Oe,10)<re.scrollHeight?"auto":"hidden"),ye.marginBottom="",re.scrollTop=ge}})}function se(re){S(re),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),t("change",re.target.value)}function _e(re){re!==void 0&&ti(re),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),s=!1,l=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=f.value!==void 0?f.value:"")})}function Ee(){return i.hasOwnProperty("value")===!0?i.value:f.value!==void 0?f.value:""}wo(()=>{_e()}),tr(()=>{e.autogrow===!0&&Q()}),Object.assign(O,{innerValue:f,fieldClass:X(()=>`q-${F.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:X(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:j,hasValue:I,floatingLabel:X(()=>I.value===!0&&(e.type!=="number"||isNaN(f.value)===!1)||Xp(e.displayValue)),getControl:()=>ee(F.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...D.value,...E.value,...e.type!=="file"?{value:Ee()}:y.value}),getShadowControl:()=>ee("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(F.value===!0?"":" text-no-wrap")},[ee("span",{class:"invisible"},Ee()),ee("span",e.shadowText)])});const J=KI(O);return Object.assign(r,{focus:P,select:N,getNativeElement:()=>d.value}),Wi(r,"nativeEl",()=>d.value),J}}),xa=At({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:o}){const{proxy:{$q:r}}=Ct(),a=gr(kf,qa);if(a===qa)return console.error("QHeader needs to be child of QLayout"),qa;const i=$e(parseInt(e.heightHint,10)),n=$e(!0),s=X(()=>e.reveal===!0||a.view.value.indexOf("H")>-1||r.platform.is.ios&&a.isContainer.value===!0),l=X(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return n.value===!0?i.value:0;const _=i.value-a.scroll.value.position;return _>0?_:0}),u=X(()=>e.modelValue!==!0||s.value===!0&&n.value!==!0),c=X(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),d=X(()=>"q-header q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),m=X(()=>{const _=a.rows.value.top,y={};return _[0]==="l"&&a.left.space===!0&&(y[r.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),_[2]==="r"&&a.right.space===!0&&(y[r.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),y});function f(_,y){a.update("header",_,y)}function p(_,y){_.value!==y&&(_.value=y)}function g({height:_}){p(i,_),f("size",_)}function b(_){c.value===!0&&p(n,!0),o("focusin",_)}rt(()=>e.modelValue,_=>{f("space",_),p(n,!0),a.animate()}),rt(l,_=>{f("offset",_)}),rt(()=>e.reveal,_=>{_===!1&&p(n,e.modelValue)}),rt(n,_=>{a.animate(),o("reveal",_)}),rt(a.scroll,_=>{e.reveal===!0&&p(n,_.direction==="up"||_.position<=e.revealOffset||_.position-_.inflectionPoint<100)});const x={};return a.instances.header=x,e.modelValue===!0&&f("size",i.value),f("space",e.modelValue),f("offset",l.value),wo(()=>{a.instances.header===x&&(a.instances.header=void 0,f("size",0),f("offset",0),f("space",!1))}),()=>{const _=mx(t.default,[]);return e.elevated===!0&&_.push(ee("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_.push(ee(ni,{debounce:0,onResize:g})),ee("header",{class:d.value,style:m.value,onFocusin:b},_)}}}),Ru=At({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:o}}=Ct(),r=gr(kf,qa);if(r===qa)return console.error("QPage needs to be a deep child of QLayout"),qa;if(gr(P4,qa)===qa)return console.error("QPage needs to be child of QPageContainer"),qa;const i=X(()=>{const s=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const l=r.isContainer.value===!0?r.containerHeight.value:o.screen.height;return e.styleFn(s,l)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-s+"px":o.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":o.screen.height-s+"px"}}),n=X(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>ee("main",{class:n.value,style:i.value},ho(t.default))}}),La=At({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:o}}=Ct(),r=gr(kf,qa);if(r===qa)return console.error("QPageContainer needs to be child of QLayout"),qa;_s(P4,!0);const a=X(()=>{const i={};return r.header.space===!0&&(i.paddingTop=`${r.header.size}px`),r.right.space===!0&&(i[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${r.right.size}px`),r.footer.space===!0&&(i.paddingBottom=`${r.footer.size}px`),r.left.space===!0&&(i[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${r.left.size}px`),i});return()=>ee("div",{class:"q-page-container",style:a.value},ho(t.default))}}),m1e=[{valor:"1",rotulo:"1 - Entrada ou aquisi\xE7\xE3o de servi\xE7os do estado"},{valor:"2",rotulo:"2 - Entrada ou aquisi\xE7\xE3o de servi\xE7os de outros estados"},{valor:"3",rotulo:"3 - Entrada ou aquisi\xE7\xE3o de servi\xE7os do exterior"},{valor:"5",rotulo:"5 - Sa\xEDdas ou presta\xE7\xF5es de servi\xE7os para o estado"},{valor:"6",rotulo:"6 - Sa\xEDdas ou presta\xE7\xF5es de servi\xE7os para outros estados"},{valor:"7",rotulo:"7 - Sa\xEDdas ou presta\xE7\xF5es de servi\xE7os para o exterior"}];const p1e={data(){return{carregando:!0,listaFiltrada:[],placeholder:"Selecione o CFOP",termo:"",visivel:!1}},methods:{filtrar(){let e;if(this.termo){const t=$utils.removerAcentos(this.termo.toUpperCase()).split(" ").filter(o=>o!=="");e=this.listaCompleta.filter(o=>{const r=$utils.removerAcentos(" "+$utils.stringOrEmpty(o.cfop)+" "+$utils.stringOrEmpty(o.descr).toUpperCase());let a=!0;for(const i of t)isNaN(Number(i))?a=a&&r.includes(i):a=a&&r.includes(" "+i+" ");return a})}else e=this.listaCompleta;this.listaFiltrada=e.slice(0,50),this.carregando=!1},classeCfop(e){const t=String(e||"").substr(0,1);return(m1e.find(o=>o.valor===t)||{}).rotulo||""},limpar(){this.listaFiltrada=[],this.placeholder="Selecione o CFOP",this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.carregando=!0,this.visivel=!0,this.listaCompleta=(await $db.cfop.le()).sort((t,o)=>$utils.stringOrEmpty(t.cfop).localeCompare($utils.stringOrEmpty(o.cfop))),this.filtrar(),new Promise((t,o)=>{this.resolve=t})}},mounted(){$g.promptCfop={show:this.show}}},h1e={key:0,class:"bg-light q-px-lg q-py-xl round-borders text-tertiary text-center"},v1e={key:1,class:"bg-light q-px-lg q-py-xl round-borders text-tertiary text-center"};function g1e(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=n=>a.visivel=n),onHide:t[2]||(t[2]=n=>i.onHide()),onShow:t[3]||(t[3]=n=>i.onShow()),maximized:""},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{icon:"arrow_back",flat:"",round:"",dense:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=n=>a.termo=n),i.filtrar],placeholder:a.placeholder,ref:"search",debounce:"600","clear-icon":"close",clearable:"",standout:"",filled:"",dark:"",dense:""},null,8,["modelValue","placeholder","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[v(Ru,{class:"u-container"},{default:w(()=>[a.carregando?($(),be("div",h1e," Carregando... ")):a.listaFiltrada.length?($(),ue(wt,{key:2,link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.listaFiltrada,n=>($(),ue(We,{key:n.id,onClick:s=>i.item_click(n),clickable:"",class:"q-pa-sm"},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[A("strong",null,de(n.cfop),1),te(" - "+de(n.descr),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[te(" Classe:"+de(i.classeCfop(n.cfop)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):($(),be("div",v1e," Nenhum resultado encontrado "))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var _1e=ht(p1e,[["render",g1e]]);const b1e=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function s_({r:e,g:t,b:o,a:r}){const a=r!==void 0;if(e=Math.round(e),t=Math.round(t),o=Math.round(o),e>255||t>255||o>255||a&&r>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return r=a?(Math.round(255*r/100)|1<<8).toString(16).slice(1):"","#"+(o|t<<8|e<<16|1<<24).toString(16).slice(1)+r}function b6e({r:e,g:t,b:o,a:r}){return`rgb${r!==void 0?"a":""}(${e},${t},${o}${r!==void 0?","+r/100:""})`}function IF(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((t&255)/2.55)}:{r:t>>16,g:t>>8&255,b:t&255}}function y1e({h:e,s:t,v:o,a:r}){let a,i,n;t=t/100,o=o/100,e=e/360;const s=Math.floor(e*6),l=e*6-s,u=o*(1-t),c=o*(1-l*t),d=o*(1-(1-l)*t);switch(s%6){case 0:a=o,i=d,n=u;break;case 1:a=c,i=o,n=u;break;case 2:a=u,i=o,n=d;break;case 3:a=u,i=c,n=o;break;case 4:a=d,i=u,n=o;break;case 5:a=o,i=u,n=c;break}return{r:Math.round(a*255),g:Math.round(i*255),b:Math.round(n*255),a:r}}function C1e({r:e,g:t,b:o,a:r}){const a=Math.max(e,t,o),i=Math.min(e,t,o),n=a-i,s=a===0?0:n/a,l=a/255;let u;switch(a){case i:u=0;break;case e:u=t-o+n*(t<o?6:0),u/=6*n;break;case t:u=o-e+n*2,u/=6*n;break;case o:u=e-t+n*4,u/=6*n;break}return{h:Math.round(u*360),s:Math.round(s*100),v:Math.round(l*100),a:r}}function yc(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),o=b1e.exec(t);if(o===null)return IF(t);const r={r:Math.min(255,parseInt(o[2],10)),g:Math.min(255,parseInt(o[3],10)),b:Math.min(255,parseInt(o[4],10))};if(o[1]){const a=parseFloat(o[5]);r.a=Math.min(1,isNaN(a)===!0?1:a)*100}return r}function x1e(e,t){if(typeof e!="string")throw new TypeError("Expected a string as color");if(typeof t!="number")throw new TypeError("Expected a numeric percent");const o=yc(e),r=t<0?0:255,a=Math.abs(t)/100,i=o.r,n=o.g,s=o.b;return"#"+(16777216+(Math.round((r-i)*a)+i)*65536+(Math.round((r-n)*a)+n)*256+(Math.round((r-s)*a)+s)).toString(16).slice(1)}function w1e(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const t=typeof e=="string"?yc(e):e,o=t.r/255,r=t.g/255,a=t.b/255,i=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),n=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),s=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);return .2126*i+.7152*n+.0722*s}function I1e(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const t=typeof e=="string"?yc(e):e;return(t.r*299+t.g*587+t.b*114)/1e3}function E1e(e,t){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b[, a]} object as fgColor");if(typeof t!="string"&&(!t||t.r===void 0))throw new TypeError("Expected a string or a {r, g, b[, a]} object as bgColor");const o=typeof e=="string"?yc(e):e,r=o.r/255,a=o.g/255,i=o.b/255,n=o.a!==void 0?o.a/100:1,s=typeof t=="string"?yc(t):t,l=s.r/255,u=s.g/255,c=s.b/255,d=s.a!==void 0?s.a/100:1,m=n+d*(1-n),f=Math.round((r*n+l*d*(1-n))/m*255),p=Math.round((a*n+u*d*(1-n))/m*255),g=Math.round((i*n+c*d*(1-n))/m*255),b={r:f,g:p,b:g,a:Math.round(m*100)};return typeof e=="string"?s_(b):b}function S1e(e,t){if(typeof e!="string")throw new TypeError("Expected a string as color");if(t===void 0||t<-1||t>1)throw new TypeError("Expected offset to be between -1 and 1");const{r:o,g:r,b:a,a:i}=yc(e),n=i!==void 0?i/100:0;return s_({r:o,g:r,b:a,a:Math.round(Math.min(1,Math.max(0,n+t))*100)})}function A1e(e){if(typeof e!="string")throw new TypeError("Expected a string as color");const t=document.createElement("div");t.className=`text-${e} invisible fixed no-pointer-events`,document.body.appendChild(t);const o=getComputedStyle(t).getPropertyValue("color");return t.remove(),s_(yc(o))}var T1e={rgbToHex:s_,hexToRgb:IF,hsvToRgb:y1e,rgbToHsv:C1e,textToRgb:yc,lighten:x1e,luminosity:w1e,brightness:I1e,blend:E1e,changeAlpha:S1e,getPaletteColor:A1e};const O1e={computed:{classes(){return{Avatar:!0,"Avatar--quadrado":!this.redondo}},cor(){return this.letras?this.cores[this.rotulo.length%this.cores.length]:this.cores[new Date().getDate()%this.cores.length]},estilos(){var t;let e={height:`${this.tamanho}px`,width:this.redondo?`${this.tamanho}px`:"100%"};return this.imagem||(e.backgroundColor=(t=this.color)!=null?t:this.cor,e.color=this.color?"#757575":this.fonteCor,e.fontSize=this.color?"20px":`${this.tamanho/2.5}px`),e},fonteCor(){return T1e.lighten(this.cor,this.brilho)},letras(){const e=this.rotulo;return typeof e!="string"||!e||e.length<2?!1:e.slice(0,1)}},data(){return{cores:["#f44336","#ff4081","#9c27B0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607D8b"]}},props:{brilho:{type:[Number,String],default:60},imagem:{type:String},color:{type:String,required:!1},icone:{type:String,default:"person"},redondo:{type:Boolean,default:!0},rotulo:{type:[Boolean,String]},tamanho:{type:[Number,String],default:50}}},D1e=["alt","src"],P1e={key:1,style:{width:"100%","text-align":"center"}};function M1e(e,t,o,r,a,i){return $(),be("div",{class:ii([i.classes,"q-px-none"]),style:Pf(i.estilos)},[o.imagem?($(),be("img",{key:0,alt:o.rotulo,class:"Avatar-imagem",src:o.imagem},null,8,D1e)):i.letras?($(),be("span",P1e,de(i.letras),1)):($(),ue(Ve,{key:2,name:o.icone},null,8,["name"]))],6)}var Sc=ht(O1e,[["render",M1e]]);const N1e={components:{Avatar:Sc,Badge:vl},computed:{badgeCor(){return this.contato.ativo?this.contato.condutaRestricao?"negative":this.contato.condutaObservacao?"orange":"positive":"tertiary"},eLista(){return this.modo==="lista"}},data(){return{telefones:"",municipios:"",crm:""}},methods:{selecionar(){this.$emit("selecionar",this.contato)}},props:{contato:{type:[Boolean,Object,String]},modo:{type:String,default:"card"}},emits:["selecionar"],created(){if(this.contato.id){Z().contatoTelefone.where({idContato:this.contato.id}).toArray().then(t=>{let o="";for(const r of t.map(a=>(a.telefone||"").replace(/\D/g,"")))r&&(o+=r+" | ");this.telefones=o.substring(0,o.length-3)}),Z().contatoEndereco.where({idContato:this.contato.id}).toArray().then(t=>{let o="";for(const r of t.map(a=>(a.municipio||"").replace(/\s+/g," ").trim()))r&&(o+=r+" | ");this.municipios=o.substring(0,o.length-3)});const e=(this.contato.numeroDocumentoMunicipal||"").trim();e&&Z().contatoGrupo.where({idContato:this.contato.id}).toArray().then(t=>{for(const o of t){let r;r=(o.descricao||"").trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),["medico","medica","medicos"].find(a=>a===r)&&(this.crm=e)}})}}},F1e=A("strong",null,"CRM:",-1);function R1e(e,t,o,r,a,i){const n=ke("avatar"),s=ke("badge");return o.contato.id!=="0"?($(),ue(We,{key:0,onClick:i.selecionar,is:i.eLista?"q-item":"q-card",clickable:"",class:"q-pa-sm"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(n,{imagem:o.contato.imagem,redondo:i.eLista,rotulo:o.contato.apelido,tamanho:"60"},null,8,["imagem","redondo","rotulo"])]),_:1}),v(Ie,{label:i.eLista,is:i.eLista?"q-item-section":"q-card-section"},{default:w(()=>[v(Be,null,{default:w(()=>[te(de(o.contato.apelido),1)]),_:1}),o.contato.nome?($(),ue(Be,{key:0,caption:""},{default:w(()=>[te(de(o.contato.nome),1)]),_:1})):ce("",!0),o.contato.numeroDocumentoNacional?($(),ue(Be,{key:1,caption:""},{default:w(()=>[te(de(o.contato.numeroDocumentoNacional),1)]),_:1})):ce("",!0),a.municipios?($(),ue(Be,{key:2,caption:"",class:"hideondesktop"},{default:w(()=>[v(s,{cor:"grey-3"},{default:w(()=>[te(de(a.municipios),1)]),_:1})]),_:1})):ce("",!0)]),_:1},8,["label","is"]),v(Ie,{sublabel:i.eLista,is:i.eLista?"q-item-section":"q-card-section",class:"text-tertiary hideonmobile"},{default:w(()=>[a.crm?($(),ue(Be,{key:0,caption:""},{default:w(()=>[F1e,te(" "+de(a.crm),1)]),_:1})):ce("",!0),a.telefones?($(),ue(Be,{key:1,caption:""},{default:w(()=>[A("strong",null,de(/\s\|\s/g.test(a.telefones)?"Telefones:":"Telefone:"),1),te(" "+de(a.telefones),1)]),_:1})):ce("",!0),a.municipios?($(),ue(Be,{key:2,caption:""},{default:w(()=>[A("strong",null,de(/\s\|\s/g.test(a.municipios)?"Munic\xEDpios:":"Munic\xEDpio:"),1),te(" "+de(a.municipios),1)]),_:1})):ce("",!0)]),_:1},8,["sublabel","is"]),i.eLista?($(),ue(Ie,{key:0,avatar:"",right:""},{default:w(()=>[v(s,{cor:i.badgeCor,escuro:""},{default:w(()=>[te(" #"+de((o.contato.codigoContato||0).toString().padStart(6,"0")),1)]),_:1},8,["cor"])]),_:1})):ce("",!0)]),_:1},8,["onClick","is"])):ce("",!0)}var k1e=ht(N1e,[["render",R1e]]);const V1e={components:{ContatoCard:k1e},computed:{contatosEncontrados(){return this.contatos.length}},data(){return{carregando:!1,contatos:[],contato:{},filtro:{},placeholder:"Buscar",termo:"",visivel:!1}},methods:{async filtrar(){let e;try{this.carregando=!0,e=setTimeout(()=>{$q.loading.show({message:"Carregando informa\xE7\xF5es...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})},500);const t=await $db.contato.ler({filtros:{termoBusca:this.termo,...this.filtro},limit:30,page:1,sort:["nome"]});this.contatos=t.data}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},limpar(){this.contatos=[],this.filtro={},this.placeholder="Buscar",this.termo="",this.visivel=!1},onHide(){this.resolve()},item_click(e={}){this.contato=JSON.parse(JSON.stringify(e)),this.resolve(e),this.visivel=!1},async show(e){return this.limpar(),e.filtro&&(this.filtro=e.filtro),e.placeholder&&(this.placeholder=e.placeholder),await this.filtrar(),this.visivel=!0,new Promise((t,o)=>{this.resolve=t})}},mounted(){$g.promptContato={show:this.show}},updated(){this.$nextTick(function(){this.$refs.search&&this.$refs.search.focus()})}},q1e={key:0},B1e={key:1,class:"bg-light q-px-lg q-py-xl round-borders text-tertiary text-subtitle1 text-center fit"};function L1e(e,t,o,r,a,i){const n=ke("ContatoCard");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=s=>a.visivel=s),onHide:t[2]||(t[2]=s=>i.onHide()),maximized:""},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{icon:"arrow_back",flat:"",round:"",dense:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=s=>a.termo=s),i.filtrar],placeholder:a.placeholder,debounce:"1500",ref:"search","clear-icon":"close",clearable:"",filled:"",standout:"",dark:"",dense:""},null,8,["modelValue","placeholder","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[v(Ru,null,{default:w(()=>[i.contatosEncontrados?($(),be("div",q1e,[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.contatos,s=>($(),ue(n,{key:s.id,onSelecionar:i.item_click,contato:s,modo:"lista"},null,8,["onSelecionar","contato"]))),128))]),_:1})])):ce("",!0),!a.carregando&&!i.contatosEncontrados?($(),be("div",B1e," Nenhum resultado encontrado ")):ce("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var $1e=ht(V1e,[["render",L1e]]),JI=At({name:"QCardActions",props:{...r8,vertical:Boolean},setup(e,{slots:t}){const o=i8(e),r=X(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>ee("div",{class:r.value},ho(t.default))}});const U1e={components:{},computed:{},data(){return{buttons:[],visivel:!1}},methods:{limpar(){this.visivel=!1},async show(e){const{buttons:t}=e!=null?e:{};let o=[],r,a,i;r=new Promise((n,s)=>{a=n});for(const n of t)o.push({label:n.label,resolvePromise:a});return this.buttons=o,this.visivel=!0,i=await r,this.visivel=!1,i}},mounted(){$g.promptServicoIntegrador={show:this.show}}},z1e=A("span",{class:"q-ml-sm"},"Enviar utilizando servidor:",-1);function H1e(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[0]||(t[0]=n=>a.visivel=n),persistent:""},{default:w(()=>[v(Bt,null,{default:w(()=>[v(Ja,{class:"row items-center"},{default:w(()=>[v(o8,{icon:"dns",color:"primary","text-color":"white"}),z1e]),_:1}),v(JI,{align:"right"},{default:w(()=>[($(!0),be(Qe,null,zt(a.buttons,(n,s)=>Te(($(),ue(pe,{key:s,flat:"",label:n.label,color:"primary",onClick:()=>{n.resolvePromise(s)}},null,8,["label","onClick"])),[[lt]])),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])}var j1e=ht(U1e,[["render",H1e]]);const G1e={data(){return{itens:[],termo:"",visivel:!1}},methods:{async atualizar(){const e=this.termo||"";if(this.itens=await $db.contato.leGruposUnicos(),!this.termo)return;const t=$utils.tratamentoCompletoString(e).split(" ");for(const o of t)this.itens=this.itens.filter(r=>$utils.tratamentoCompletoString(r.descricao).includes(o))},limpar(){this.itens=[],this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(){return await this.atualizar(),this.visivel=!0,new Promise((e,t)=>{this.resolve=e})}},mounted(){$g.promptGrupoUnico={show:this.show}}},W1e={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"};function X1e(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=n=>a.visivel=n),maximized:"",onHide:t[2]||(t[2]=n=>i.onHide()),onShow:t[3]||(t[3]=n=>i.onShow())},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=n=>a.termo=n),i.atualizar],color:"none",ref:"search",dark:"",placeholder:"Grupos",debounce:"600"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.itens,n=>($(),ue(We,{key:n.id,clickable:"",onClick:s=>i.item_click(n)},{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),a.itens.length?ce("",!0):($(),be("div",W1e," N\xE3o encontramos registros com os crit\xE9rios selecionados. "))]),_:1})]),_:1})]),_:1},8,["modelValue"])}var Y1e=ht(G1e,[["render",X1e]]);const K1e={data(){return{itens:[],termo:"",visivel:!1}},methods:{async atualizar(){const e=this.termo||"";if(this.itens=await $db.contato.leSegmentosUnicos(),!this.termo)return;const t=$utils.tratamentoCompletoString(e).split(" ");for(const o of t)this.itens=this.itens.filter(r=>$utils.tratamentoCompletoString(r.descricao).includes(o))},limpar(){this.itens=[],this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(){return await this.atualizar(),this.visivel=!0,new Promise((e,t)=>{this.resolve=e})}},mounted(){$g.promptSegmentoUnico={show:this.show}}},Q1e={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"};function J1e(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=n=>a.visivel=n),maximized:"",onHide:t[2]||(t[2]=n=>i.onHide()),onShow:t[3]||(t[3]=n=>i.onShow())},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=n=>a.termo=n),i.atualizar],color:"none",ref:"search",dark:"",placeholder:"Segmentos",debounce:"600"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.itens,n=>($(),ue(We,{key:n.id,clickable:"",onClick:s=>i.item_click(n)},{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),a.itens.length?ce("",!0):($(),be("div",Q1e," N\xE3o encontramos registros com os crit\xE9rios selecionados. "))]),_:1})]),_:1})]),_:1},8,["modelValue"])}var Z1e=ht(K1e,[["render",J1e]]);const eve={data(){return{itens:[],filtro:{},termo:"",visivel:!1}},methods:{atualizar(){},limpar(){this.itens=[],this.filtro={},this.placeholder="Buscar",this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.itens=await $db.formaPagamento.le(),this.visivel=!0,new Promise((t,o)=>{this.resolve=t})}}},tve={class:"layout-padding",container:""},ove=A("strong",null,"Tipo financeito:",-1),ave={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"};function rve(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=n=>a.visivel=n),maximized:"",onHide:t[2]||(t[2]=n=>i.onHide()),onShow:t[3]||(t[3]=n=>i.onShow())},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=n=>a.termo=n),i.atualizar],color:"none",ref:"search",dark:"",placeholder:"Buscar",debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",tve,[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.itens,n=>($(),ue(We,{key:n.id,clickable:"",onClick:s=>i.item_click(n)},{default:w(()=>[v(Be,null,{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(n.descricao),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[ove,te(de(n.tipoFinanceiro),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),a.itens.length?ce("",!0):($(),be("div",ave," Nenhum resultado encontrado "))])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var ive=ht(eve,[["render",rve]]),dl=At({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:o}){const{proxy:{$q:r}}=Ct(),a=gr(kf,qa);if(a===qa)return console.error("QFooter needs to be child of QLayout"),qa;const i=$e(parseInt(e.heightHint,10)),n=$e(!0),s=$e(Jn.value===!0||a.isContainer.value===!0?0:window.innerHeight),l=X(()=>e.reveal===!0||a.view.value.indexOf("F")>-1||r.platform.is.ios&&a.isContainer.value===!0),u=X(()=>a.isContainer.value===!0?a.containerHeight.value:s.value),c=X(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return n.value===!0?i.value:0;const S=a.scroll.value.position+u.value+i.value-a.height.value;return S>0?S:0}),d=X(()=>e.modelValue!==!0||l.value===!0&&n.value!==!0),m=X(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),f=X(()=>"q-footer q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(d.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(l.value!==!0?" hidden":""):"")),p=X(()=>{const S=a.rows.value.bottom,O={};return S[0]==="l"&&a.left.space===!0&&(O[r.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),S[2]==="r"&&a.right.space===!0&&(O[r.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),O});function g(S,O){a.update("footer",S,O)}function b(S,O){S.value!==O&&(S.value=O)}function x({height:S}){b(i,S),g("size",S)}function _(){if(e.reveal!==!0)return;const{direction:S,position:O,inflectionPoint:F}=a.scroll.value;b(n,S==="up"||O-F<100||a.height.value-u.value-O-i.value<300)}function y(S){m.value===!0&&b(n,!0),o("focusin",S)}rt(()=>e.modelValue,S=>{g("space",S),b(n,!0),a.animate()}),rt(c,S=>{g("offset",S)}),rt(()=>e.reveal,S=>{S===!1&&b(n,e.modelValue)}),rt(n,S=>{a.animate(),o("reveal",S)}),rt([i,a.scroll,a.height],_),rt(()=>r.screen.height,S=>{a.isContainer.value!==!0&&b(s,S)});const I={};return a.instances.footer=I,e.modelValue===!0&&g("size",i.value),g("space",e.modelValue),g("offset",c.value),wo(()=>{a.instances.footer===I&&(a.instances.footer=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const S=bi(t.default,[ee(ni,{debounce:0,onResize:x})]);return e.elevated===!0&&S.push(ee("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),ee("footer",{class:f.value,style:p.value,onFocusin:y},S)}}});function uc(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Z1.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const EF={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function SF({showing:e,avoidEmit:t,configureAnchorEl:o}){const{props:r,proxy:a,emit:i}=Ct(),n=$e(null);let s=null;function l(f){return n.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const u={};o===void 0&&(Object.assign(u,{hide(f){a.hide(f)},toggle(f){a.toggle(f),f.qAnchorHandled=!0},toggleKey(f){En(f,13)===!0&&u.toggle(f)},contextClick(f){a.hide(f),oi(f),Do(()=>{a.show(f),f.qAnchorHandled=!0})},prevent:oi,mobileTouch(f){if(u.mobileCleanup(f),l(f)!==!0)return;a.hide(f),n.value.classList.add("non-selectable");const p=f.target;sr(u,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,a.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){n.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&f!==void 0&&uc()}}),o=function(f=r.contextMenu){if(r.noParentEvent===!0||n.value===null)return;let p;f===!0?a.$q.platform.is.mobile===!0?p=[[n.value,"touchstart","mobileTouch","passive"]]:p=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:p=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],sr(u,"anchor",p)});function c(){Qi(u,"anchor")}function d(f){for(n.value=f;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;o()}function m(){if(r.target===!1||r.target===""||a.$el.parentNode===null)n.value=null;else if(r.target===!0)d(a.$el.parentNode);else{let f=r.target;if(typeof r.target=="string")try{f=document.querySelector(r.target)}catch{f=void 0}f!=null?(n.value=f.$el||f,o()):(n.value=null,console.error(`Anchor: target "${r.target}" not found`))}}return rt(()=>r.contextMenu,f=>{n.value!==null&&(c(),o(f))}),rt(()=>r.target,()=>{n.value!==null&&c(),m()}),rt(()=>r.noParentEvent,f=>{n.value!==null&&(f===!0?c():o())}),tr(()=>{m(),t!==!0&&r.modelValue===!0&&n.value===null&&i("update:modelValue",!1)}),wo(()=>{s!==null&&clearTimeout(s),c()}),{anchorEl:n,canShow:l,anchorEvents:u}}function AF(e,t){const o=$e(null);let r;function a(s,l){const u=`${l!==void 0?"add":"remove"}EventListener`,c=l!==void 0?l:r;s!==window&&s[u]("scroll",c,Pa.passive),window[u]("scroll",c,Pa.passive),r=l}function i(){o.value!==null&&(a(o.value),o.value=null)}const n=rt(()=>e.noParentEvent,()=>{o.value!==null&&(i(),t())});return wo(n),{localScrollTarget:o,unconfigureScrollTarget:i,changeScrollEvent:a}}const{notPassiveCapture:Vv}=Pa,Eu=[];function qv(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let o=sf.length-1;for(;o>=0;){const r=sf[o].$;if(r.type.name==="QTooltip"){o--;continue}if(r.type.name!=="QDialog")break;if(r.props.seamless!==!0)return;o--}for(let r=Eu.length-1;r>=0;r--){const a=Eu[r];if((a.anchorEl.value===null||a.anchorEl.value.contains(t)===!1)&&(t===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(t)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function TF(e){Eu.push(e),Eu.length===1&&(document.addEventListener("mousedown",qv,Vv),document.addEventListener("touchstart",qv,Vv))}function Bv(e){const t=Eu.findIndex(o=>o===e);t>-1&&(Eu.splice(t,1),Eu.length===0&&(document.removeEventListener("mousedown",qv,Vv),document.removeEventListener("touchstart",qv,Vv)))}let nD,sD;function Lv(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function OF(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const IC={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{IC[`${e}#ltr`]=e,IC[`${e}#rtl`]=e});function $v(e,t){const o=e.split(" ");return{vertical:o[0],horizontal:IC[`${o[1]}#${t===!0?"rtl":"ltr"}`]}}function nve(e,t){let{top:o,left:r,right:a,bottom:i,width:n,height:s}=e.getBoundingClientRect();return t!==void 0&&(o-=t[1],r-=t[0],i+=t[1],a+=t[0],n+=t[0],s+=t[1]),{top:o,bottom:i,height:s,left:r,right:a,width:n,middle:r+(a-r)/2,center:o+(i-o)/2}}function sve(e,t,o){let{top:r,left:a}=e.getBoundingClientRect();return r+=t.top,a+=t.left,o!==void 0&&(r+=o[1],a+=o[0]),{top:r,bottom:r+1,height:1,left:a,right:a+1,width:1,middle:a,center:r}}function lve(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function lD(e,t,o,r){return{top:e[o.vertical]-t[r.vertical],left:e[o.horizontal]-t[r.horizontal]}}function ZI(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ZI(e,t+1)},10);return}const{targetEl:o,offset:r,anchorEl:a,anchorOrigin:i,selfOrigin:n,absoluteOffset:s,fit:l,cover:u,maxHeight:c,maxWidth:d}=e;if(po.is.ios===!0&&window.visualViewport!==void 0){const O=document.body.style,{offsetLeft:F,offsetTop:M}=window.visualViewport;F!==nD&&(O.setProperty("--q-pe-left",F+"px"),nD=F),M!==sD&&(O.setProperty("--q-pe-top",M+"px"),sD=M)}const{scrollLeft:m,scrollTop:f}=o,p=s===void 0?nve(a,u===!0?[0,0]:r):sve(a,s,r);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:d||"100vw",maxHeight:c||"100vh",visibility:"visible"});const{offsetWidth:g,offsetHeight:b}=o,{elWidth:x,elHeight:_}=l===!0||u===!0?{elWidth:Math.max(p.width,g),elHeight:u===!0?Math.max(p.height,b):b}:{elWidth:g,elHeight:b};let y={maxWidth:d,maxHeight:c};(l===!0||u===!0)&&(y.minWidth=p.width+"px",u===!0&&(y.minHeight=p.height+"px")),Object.assign(o.style,y);const I=lve(x,_);let S=lD(p,I,i,n);if(s===void 0||r===void 0)S2(S,p,I,i,n);else{const{top:O,left:F}=S;S2(S,p,I,i,n);let M=!1;if(S.top!==O){M=!0;const E=2*r[1];p.center=p.top-=E,p.bottom-=E+2}if(S.left!==F){M=!0;const E=2*r[0];p.middle=p.left-=E,p.right-=E+2}M===!0&&(S=lD(p,I,i,n),S2(S,p,I,i,n))}y={top:S.top+"px",left:S.left+"px"},S.maxHeight!==void 0&&(y.maxHeight=S.maxHeight+"px",p.height>S.maxHeight&&(y.minHeight=y.maxHeight)),S.maxWidth!==void 0&&(y.maxWidth=S.maxWidth+"px",p.width>S.maxWidth&&(y.minWidth=y.maxWidth)),Object.assign(o.style,y),o.scrollTop!==f&&(o.scrollTop=f),o.scrollLeft!==m&&(o.scrollLeft=m)}function S2(e,t,o,r,a){const i=o.bottom,n=o.right,s=C1(),l=window.innerHeight-s,u=document.body.clientWidth;if(e.top<0||e.top+i>l)if(a.vertical==="center")e.top=t[r.vertical]>l/2?Math.max(0,l-i):0,e.maxHeight=Math.min(i,l);else if(t[r.vertical]>l/2){const c=Math.min(l,r.vertical==="center"?t.center:r.vertical===a.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,c),e.top=Math.max(0,c-i)}else e.top=Math.max(0,r.vertical==="center"?t.center:r.vertical===a.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,l-e.top);if(e.left<0||e.left+n>u)if(e.maxWidth=Math.min(n,u),a.horizontal==="middle")e.left=t[r.horizontal]>u/2?Math.max(0,u-n):0;else if(t[r.horizontal]>u/2){const c=Math.min(u,r.horizontal==="middle"?t.middle:r.horizontal===a.horizontal?t.right:t.left);e.maxWidth=Math.min(n,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,r.horizontal==="middle"?t.middle:r.horizontal===a.horizontal?t.left:t.right),e.maxWidth=Math.min(n,u-e.left)}var Mt=At({name:"QTooltip",inheritAttrs:!1,props:{...EF,...A0,...r_,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Lv},self:{type:String,default:"top middle",validator:Lv},offset:{type:Array,default:()=>[14,14],validator:OF},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...T0],setup(e,{slots:t,emit:o,attrs:r}){let a,i;const n=Ct(),{proxy:{$q:s}}=n,l=$e(null),u=$e(!1),c=X(()=>$v(e.anchor,s.lang.rtl)),d=X(()=>$v(e.self,s.lang.rtl)),m=X(()=>e.persistent!==!0),{registerTick:f,removeTick:p}=nf(),{registerTimeout:g}=Sf(),{transitionProps:b,transitionStyle:x}=i_(e),{localScrollTarget:_,changeScrollEvent:y,unconfigureScrollTarget:I}=AF(e,Ee),{anchorEl:S,canShow:O,anchorEvents:F}=SF({showing:u,configureAnchorEl:_e}),{show:M,hide:E}=O0({showing:u,canShow:O,handleShow:R,handleHide:z,hideOnRouteChange:m,processOnMount:!0});Object.assign(F,{delayShow:Q,delayHide:se});const{showPortal:D,hidePortal:P,renderPortal:N}=WI(n,l,re,"tooltip");if(s.platform.is.mobile===!0){const ye={anchorEl:S,innerRef:l,onClickOutside(De){return E(De),De.target.classList.contains("q-dialog__backdrop")&&bo(De),!0}},ge=X(()=>e.modelValue===null&&e.persistent!==!0&&u.value===!0);rt(ge,De=>{(De===!0?TF:Bv)(ye)}),wo(()=>{Bv(ye)})}function R(ye){D(),f(()=>{i=new MutationObserver(()=>j()),i.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),j(),Ee()}),a===void 0&&(a=rt(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,j)),g(()=>{D(!0),o("show",ye)},e.transitionDuration)}function z(ye){p(),P(),W(),g(()=>{P(!0),o("hide",ye)},e.transitionDuration)}function W(){i!==void 0&&(i.disconnect(),i=void 0),a!==void 0&&(a(),a=void 0),I(),Qi(F,"tooltipTemp")}function j(){ZI({targetEl:l.value,offset:e.offset,anchorEl:S.value,anchorOrigin:c.value,selfOrigin:d.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Q(ye){if(s.platform.is.mobile===!0){uc(),document.body.classList.add("non-selectable");const ge=S.value,De=["touchmove","touchcancel","touchend","click"].map(Oe=>[ge,Oe,"delayHide","passiveCapture"]);sr(F,"tooltipTemp",De)}g(()=>{M(ye)},e.delay)}function se(ye){s.platform.is.mobile===!0&&(Qi(F,"tooltipTemp"),uc(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),g(()=>{E(ye)},e.hideDelay)}function _e(){if(e.noParentEvent===!0||S.value===null)return;const ye=s.platform.is.mobile===!0?[[S.value,"touchstart","delayShow","passive"]]:[[S.value,"mouseenter","delayShow","passive"],[S.value,"mouseleave","delayHide","passive"]];sr(F,"anchor",ye)}function Ee(){if(S.value!==null||e.scrollTarget!==void 0){_.value=dg(S.value,e.scrollTarget);const ye=e.noParentEvent===!0?j:E;y(_.value,ye)}}function J(){return u.value===!0?ee("div",{...r,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,x.value],role:"tooltip"},ho(t.default)):null}function re(){return ee(wi,b.value,J)}return wo(W),Object.assign(n.proxy,{updatePosition:j}),N}});const cve={components:{Avatar:Sc},computed:{exibirBadgeSemEstoque(){var t,o;const e=(o=(t=this.estoque)==null?void 0:t.tiposSaldos)==null?void 0:o.find(r=>r.tipoEstoque==="Dispon\xEDvel");return this.checaEstoque&&((e==null?void 0:e.saldo)<=0&&(e==null?void 0:e.saldoTotal)<=0||!e)},exibirBadgeOutroEstoque(){var t,o;const e=(o=(t=this.estoque)==null?void 0:t.tiposSaldos)==null?void 0:o.find(r=>r.tipoEstoque==="Dispon\xEDvel");return this.checaEstoque&&(e==null?void 0:e.saldo)<=0&&(e==null?void 0:e.saldoTotal)>0},exibirBadgeEstoque(){return this.checaEstoque&&!this.exibirBadgeSemEstoque&&!this.exibirBadgeOutroEstoque},badgeCor(){return this.item.ativo?((this.estoque||{}).saldo||0)<0?"negative":((this.estoque||{}).saldo||0)<=(this.item.quantidadeMinimaEstoque||0)?"orange":"positive":"faded"},eLista(){return this.modo==="lista"},hintBottomMargin(){return this.hintValorVenda||this.item.embalagem?"q-mb-md":""},hintValorVenda(){var t,o;let e=this.hintDescontoPercentual;return this.valores.quantidadeMaiorQue&&(e&&(e+=" | "),e+=`>${this.valores.quantidadeMaiorQue-1}${(o=(t=this.item.unidade)==null?void 0:t.toLocaleLowerCase())!=null?o:"un"} = ${$filters.numeroZerosDireita(this.valores.valorVendaMaiorQue,4,2)}`),e},hintDescontoPercentual(){return`Orig: ${$filters.numeroZerosDireita(this.valorVendaOriginal,4,2)}`},habilitarDescontoPercentual(){return!(this.valorVenda>this.valorVendaOriginal||this.valorVenda<0&&this.valorVendaOriginal>0)}},data(){return{quantidade:this.quantidadeSelecionada||0,valorVenda:0,valorVendaOriginal:0,descontoPercentual:0}},emits:["adicionar","concluir"],methods:{abrirItem(){document.querySelectorAll(".input :focus").length||(this.adicionar(),this.$emit("concluir"))},adicionar(e){this.valores.quantidadeMaiorQue&&this.quantidade>=this.valores.quantidadeMaiorQue&&(this.valorVenda=this.valores.valorVendaMaiorQue),this.atualizarValores(e),this.valorVenda!==this.valorVendaOriginal&&!(this.quantidade>0)&&(this.quantidade=1),this.$emit("adicionar",{item:{...this.item,novoValorVenda:this.valorVenda},quantidade:this.quantidade})},atualizarValores(e){if(this.valorVenda>this.valorVendaOriginal||this.valorVenda<0&&this.valorVendaOriginal>0){this.descontoPercentual=0;return}e==="descontoPercentual"&&(this.descontoPercentual=(this.valorVendaOriginal-this.valorVenda)*100/(this.valorVendaOriginal||1)),e==="valorVenda"&&(this.valorVenda=this.valorVendaOriginal-this.valorVendaOriginal*this.descontoPercentual/100)}},props:{checaEstoque:{type:Boolean,default:!1},estoque:{type:Object},item:{type:Object,required:!0},idEmpresa:String,modo:{type:String,default:"card"},exibirValorVenda:{type:Boolean,default:!0},habilitarQuantidade:{type:Boolean,default:!1},quantidadeSelecionada:{type:Number},valores:{type:Object,default:()=>({}),required:!1},ultimaVenda:{type:Object,default:()=>({}),required:!1}},created(){this.valorVenda=this.item.novoValorVenda!==void 0?this.item.novoValorVenda:this.item.valorVenda,this.valorVendaOriginal=this.item.valorVenda,this.atualizarValores("descontoPercentual")}},uve=A("br",null,null,-1),dve=A("br",null,null,-1),fve=A("br",null,null,-1),mve=A("strong",null,"Estoque",-1),pve=A("br",null,null,-1),hve=A("strong",null,"\xDAltima venda",-1),vve=A("br",null,null,-1),gve={key:0,style:{"text-decoration":"line-through"}};function _ve(e,t,o,r,a,i){const n=ke("avatar"),s=ke("campo"),l=ke("g-col"),u=ke("g-row");return $(),ue(We,{clickable:"",class:"q-pa-sm items-center listresponsive itemcard itemHover"},{default:w(()=>[v(Ie,{onClick:t[0]||(t[0]=c=>i.abrirItem()),class:"no-margin"},{default:w(()=>[v(We,{class:"no-padding"},{default:w(()=>[v(Ie,{class:"no-margin",style:{"max-width":"40px"}},{default:w(()=>[v(n,{imagem:o.item.imagem,redondo:i.eLista,rotulo:o.item.descricao,tamanho:"40",style:{"max-width":"40px",display:"flex","align-self":"center"}},null,8,["imagem","redondo","rotulo"])]),_:1}),v(Ie,{class:"no-margin q-pl-sm"},{default:w(()=>[v(Be,{class:"text-tertiary text-weight-bold"},{default:w(()=>[te(de(o.item.descricaoConcatenada||o.item.descricao),1)]),_:1}),v(Be,{caption:""},{default:w(()=>[v(Bn,{color:i.badgeCor,dark:"",class:"q-mr-sm"},{default:w(()=>[te(" #"+de((o.item.codigoItem||0).toString().padStart(6,"0"))+" ",1),v(Mt,{anchor:"bottom middle",self:"center middle",class:"hideonmobile"},{default:w(()=>[te("C\xF3digo Item")]),_:1})]),_:1},8,["color"]),o.item.referencia?($(),ue(Bn,{key:0,class:"q-mr-sm",color:"tertiary"},{default:w(()=>[te(de(o.item.referencia)+" ",1),v(Mt,{anchor:"bottom middle",self:"center middle",class:"hideonmobile"},{default:w(()=>[te("Refer\xEAncia")]),_:1})]),_:1})):ce("",!0),o.item.unidade?($(),ue(Bn,{key:1,class:"q-mr-sm text-tertiary",color:"light"},{default:w(()=>[te(de(o.item.unidade)+" ",1),v(Mt,{anchor:"bottom middle",self:"center middle",class:"hideonmobile"},{default:w(()=>[te("Unidade")]),_:1})]),_:1})):ce("",!0),o.item.marca?($(),ue(Bn,{key:2,color:"white",class:"text-tertiary"},{default:w(()=>[te(de(o.item.marca)+" ",1),v(Mt,{anchor:"bottom middle",self:"center middle",class:"hideonmobile"},{default:w(()=>[te("Marca")]),_:1})]),_:1})):ce("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),v(Ie,{onClick:t[1]||(t[1]=c=>i.abrirItem()),class:"no-margin q-pl-sm"},{default:w(()=>[v(We,{class:"no-padding"},{default:w(()=>[v(Ie,{class:"no-margin"},{default:w(()=>[o.estoque?($(),ue(Be,{key:0,caption:""},{default:w(()=>{var c,d,m,f;return[i.exibirBadgeSemEstoque?($(),be(Qe,{key:0},[v(Bn,{color:"red"},{default:w(()=>[te("SEM ESTOQUE")]),_:1}),te(),uve],64)):ce("",!0),i.exibirBadgeOutroEstoque?($(),be(Qe,{key:1},[v(Bn,{color:"orange"},{default:w(()=>[te("OUTRO ESTOQUE")]),_:1}),te(),dve],64)):ce("",!0),(d=(c=o.estoque)==null?void 0:c.tiposSaldos)!=null&&d.length?($(),be(Qe,{key:2},[i.exibirBadgeEstoque?($(),be(Qe,{key:0},[v(Bn,{color:"green"},{default:w(()=>[te("ESTOQUE")]),_:1}),te(),fve],64)):ce("",!0),i.exibirBadgeEstoque?ce("",!0):($(),be(Qe,{key:1},[mve,te(),pve],64))],64)):ce("",!0),(m=o.estoque)!=null&&m.offline?($(),be(Qe,{key:3},[te(" (Offline) ")],64)):ce("",!0),($(!0),be(Qe,null,zt((f=o.estoque)==null?void 0:f.tiposSaldos,p=>{var g,b,x,_;return $(),be("span",{key:p.tipoEstoque},[te(de(p.tipoEstoque)+" ",1),A("strong",null,de(p.saldo),1),"saldoTotal"in p?($(),be(Qe,{key:0},[te(" , Total "),A("strong",null,de(p.saldoTotal),1)],64)):ce("",!0),((b=(g=o.estoque)==null?void 0:g.tiposSaldos)==null?void 0:b.indexOf(p))!==((_=(x=o.estoque)==null?void 0:x.tiposSaldos)==null?void 0:_.length)-1?($(),be(Qe,{key:1},[te(" | ")],64)):ce("",!0)])}),128))]}),_:1})):ce("",!0),o.item.status==="Fora de Linha"?($(),ue(Be,{key:1,class:"q-mt-sm"},{default:w(()=>[v(Bn,{class:"q-mr-sm text-tertiary",color:"light"},{default:w(()=>[te("Fora de Linha")]),_:1})]),_:1})):ce("",!0)]),_:1}),o.ultimaVenda.valorItem&&o.ultimaVenda.dataHoraFinalizado?($(),ue(Ie,{key:0,class:"no-margin q-pl-sm"},{default:w(()=>[v(Be,{caption:""},{default:w(()=>[hve,te(" "+de(e.$filters.data(o.ultimaVenda.dataHoraFinalizado))+":",1),vve,o.ultimaVenda.valorReal!==o.ultimaVenda.valorItem?($(),be("span",gve,de(e.$filters.numero(o.ultimaVenda.valorItem,2)),1)):ce("",!0),te(" "+de(e.$filters.numero(o.ultimaVenda.valorReal,2))+" x "+de(o.ultimaVenda.quantidade)+" = "+de(e.$filters.numero(o.ultimaVenda.valorRealTotal,2)),1)]),_:1})]),_:1})):ce("",!0)]),_:1})]),_:1}),v(Ie,{class:"no-margin q-pl-sm"},{default:w(()=>[v(u,{gutter:"xs",items:"center",justify:"end"},{default:w(()=>[o.exibirValorVenda?($(),ue(l,{key:0,col:o.habilitarQuantidade?"8 sm8 md8 lg9":"12",class:ii(`${i.hintBottomMargin}`)},{default:w(()=>[v(u,null,{default:w(()=>[v(l,null,{default:w(()=>[v(s,{modelValue:a.descontoPercentual,"onUpdate:modelValue":t[2]||(t[2]=c=>a.descontoPercentual=c),onBlur:t[3]||(t[3]=c=>i.adicionar("valorVenda")),opcoes:{minimumValue:0},somenteLeitura:!i.habilitarDescontoPercentual,rotulo:"Desconto",tipo:"decimal",decimals:"4",zerosDireita:"2",suffix:"%",aviso:"",outlined:"",dense:"",class:"input q-ma-none"},null,8,["modelValue","somenteLeitura"])]),_:1}),o.item.status!=="Promo\xE7\xE3o"?($(),ue(l,{key:0},{default:w(()=>[v(s,{modelValue:a.valorVenda,"onUpdate:modelValue":t[4]||(t[4]=c=>a.valorVenda=c),opcoes:{minimumValue:0},onBlur:t[5]||(t[5]=c=>i.adicionar("descontoPercentual")),avisoRotulo:i.hintValorVenda,rotulo:"Valor de Venda",tipo:"decimal",decimals:"4",zerosDireita:"2",aviso:"",outlined:"",dense:"",class:"input q-ma-none"},null,8,["modelValue","avisoRotulo"])]),_:1})):ce("",!0),o.item.status==="Promo\xE7\xE3o"?($(),ue(l,{key:1},{default:w(()=>[v(s,{modelValue:a.valorVenda,"onUpdate:modelValue":t[6]||(t[6]=c=>a.valorVenda=c),onBlur:t[7]||(t[7]=c=>i.adicionar("descontoPercentual")),before:[{icon:"mdi-fire",color:"red"}],opcoes:{minimumValue:0},avisoRotulo:i.hintValorVenda,rotulo:"Valor em Promo\xE7\xE3o",tipo:"decimal",decimals:"4",zerosDireita:"2",aviso:"",outlined:"",dense:"",class:"input q-ma-none"},null,8,["modelValue","avisoRotulo"])]),_:1})):ce("",!0)]),_:1})]),_:1},8,["col","class"])):ce("",!0),o.habilitarQuantidade?($(),ue(l,{key:1,col:"4 sm4 md4 lg3",class:ii(`${i.hintBottomMargin}`)},{default:w(()=>[v(s,{modelValue:a.quantidade,"onUpdate:modelValue":[t[8]||(t[8]=c=>a.quantidade=c),t[9]||(t[9]=c=>i.adicionar())],modelModifiers:{number:!0},avisoRotulo:o.item.embalagem,min:"0",tipo:"quantidade",decimals:"4",aviso:"",outlined:"",dense:""},null,8,["modelValue","avisoRotulo"])]),_:1},8,["class"])):ce("",!0)]),_:1})]),_:1})]),_:1})}var DF=ht(cve,[["render",_ve]]);const bve={components:{ItemCard:DF},computed:{itensEncontrados(){return this.itens.length},sku(){let e=0;for(const t in this.itensSelecionados)e+=this.itensSelecionados[t].quantidade>0?1:0;return e},valorItensSelecionados(){let e=0;for(const t in this.itensSelecionados){const o=$utils.arredondar((this.itensSelecionados[t].item.novoValorVenda||this.itensSelecionados[t].item.valorVenda||0)*this.itensSelecionados[t].quantidade);e=$utils.arredondar(e+o)}return e}},data(){return{carregando:!0,carregandoEstoque:!0,estoque:[],itens:[],itensSelecionados:{},filtro:{},termo:"",visivel:!1,habilitarQuantidade:!1}},methods:{onShow(){this.$refs.search.focus()},onHide(){this.resolve({}),this.visivel=!1},adicionar(e){const t=$utils.clonarV2(this.itensSelecionados);t[e.item.id]=e,this.itensSelecionados=t},async atualizar(){this.carregando=!0,await $utils.dormir(500);let t=(await $db.item.ler({filtros:{termoBusca:this.termo,...this.filtro},limit:30})).data;if(t=$utils.clonarV2(t),t.length&&this.filtro.idTabelaPreco){let o=await $erp().itemTabelaPreco.get(this.filtro.idTabelaPreco)||{};if(o.id)for(let r of t.filter(a=>a.valorVenda)){let a;a=await $db.itemTabelaPreco.obterValores(o,r,4)||{},r.valorVenda=a.valorVenda||0,r.valorReal=a.valorVenda||0}}t=t.map(o=>this.itensSelecionados[o.id]?this.itensSelecionados[o.id].item:o),this.itens=t,this.carregarEstoque(),this.carregando=!1},async carregarEstoque(){this.carregandoEstoque=!0,this.estoque=[];let e=[];const t=this.itens.map(o=>o.id);if(t.length)try{const r=(((await this.$utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:t,idEmpresa:this.filtro.idEmpresa}})||{}).data||{}).estoque||[]).filter(a=>a.tipoEstoque==="Dispon\xEDvel");for(const a of t)e.push({idItem:a,saldo:r.filter(i=>i.idItem===a).reduce((i,n)=>i+n.saldo,0)})}catch{let r=await $erp().estoqueSaldoProdutoEmpresa.where("idItem").anyOf(t).toArray();r=r.filter(a=>a.tipoEstoque==="Dispon\xEDvel"),this.filtro.idEmpresa&&(r=r.filter(a=>a.idEmpresa===this.filtro.idEmpresa));for(const a of t)e.push({idItem:a,saldo:r.filter(i=>i.idItem===a).reduce((i,n)=>i+n.saldo,0),offline:!0})}this.carregandoEstoque=!1,this.estoque=e},async concluir(){this.resolve({acao:"selecionarItens",itensSelecionados:this.itensSelecionados}),this.visivel=!1},obterEstoque(e,t){if(!this.carregandoEstoque)return e?this.estoque.find(o=>o.idItem===e)||{}:{}},refresh(){this.carregando=!0,this.itens=[],this.itensSelecionados={}},selecionar(e,t){this.resolve({id:e,item:t}),this.visivel=!1},async show(e){return e.filtro&&(this.filtro=e.filtro),e.placeholder&&(this.placeholder=e.placeholder),e.habilitarQuantidade&&(this.habilitarQuantidade=e.habilitarQuantidade),this.itens=[],this.itensSelecionados={},await this.atualizar(),this.visivel=!0,new Promise((t,o)=>{this.resolve=t})}},mounted(){$g.promptItem={show:this.show}}},yve={class:"layout-padding"},Cve={key:0,class:"q-mt-lg text-center"},xve={key:1,class:"q-py-xl"},wve={key:2,class:"bg-light q-pa-lg round-borders text-black text-center"},Ive={class:"text-tertiary"},Eve={class:"text-positive float-right"};function Sve(e,t,o,r,a,i){const n=ke("item-card");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=s=>a.visivel=s),maximized:"",onHide:t[2]||(t[2]=s=>i.onHide()),onShow:t[3]||(t[3]=s=>i.onShow())},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=s=>a.termo=s),i.atualizar],color:"none",ref:"search",dark:"",placeholder:"Buscar",debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),A("div",yve,[a.carregando?($(),be("div",Cve,[v(tn,{color:"faded",size:50})])):ce("",!0),!a.carregando&&i.itensEncontrados?($(),be("div",xve,[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.itens,s=>($(),ue(n,{key:s.id,item:s,estoque:i.obterEstoque(s.id),idEmpresa:a.filtro.idEmpresa,modo:"lista",onSelecionar:i.selecionar,onAdicionar:i.adicionar,onConcluir:i.concluir,quantidadeSelecionada:(a.itensSelecionados[s.id]||{}).quantidade||0,habilitarQuantidade:a.habilitarQuantidade},null,8,["item","estoque","idEmpresa","onSelecionar","onAdicionar","onConcluir","quantidadeSelecionada","habilitarQuantidade"]))),128))]),_:1})])):ce("",!0),!a.carregando&&!i.itensEncontrados?($(),be("div",wve," N\xE3o encontramos itens com os crit\xE9rios selecionados. ")):ce("",!0)]),i.sku>0?($(),ue(dl,{key:0,class:"bg-light"},{default:w(()=>[v(at,null,{default:w(()=>[v(nt,null,{default:w(()=>[A("span",Ive,de(i.sku)+" SKU(s)",1),A("span",Eve,"R$ "+de(e.$filters.numero(i.valorItensSelecionados,2)),1)]),_:1}),v(pe,{class:"q-ml-sm no-shadow float-right",color:"primary",label:"Concluir",onClick:i.concluir,unelevated:""},null,8,["onClick"])]),_:1})]),_:1})):ce("",!0)]),_:1})]),_:1},8,["modelValue"])}var Ave=ht(bve,[["render",Sve]]);const Tve={computed:{registrosEncontrados(){return!!this.itens.length}},data(){return{itens:[],termo:"",visivel:!1}},methods:{async atualizar(){},limpar(){this.itens=[],this.termo=""},onHide(){this.resolve({}),this.limpar()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.itens=await $erp().itemTabelaPreco.toArray(),this.visivel=!0,new Promise((t,o)=>{this.resolve=t})}},updated(){this.$nextTick(function(){this.$refs.search&&this.$refs.search.focus()})}},Ove={class:"layout-padding"},Dve=A("strong",null,"Empresa: ",-1),Pve=A("strong",null,"Fator (%): ",-1),Mve=A("strong",null,"Arredondamento: ",-1),Nve={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"};function Fve(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=n=>a.visivel=n),maximized:"",onHide:t[2]||(t[2]=n=>i.onHide())},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=n=>a.termo=n),i.atualizar],color:"none",ref:"search",dark:"",placeholder:"Tabela de Pre\xE7os",debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",Ove,[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.itens,n=>($(),ue(We,{key:n.id,clickable:"",onClick:s=>i.item_click(n)},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(n.descricao),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[Dve,te(de(n.empresa),1)]),_:2},1024),n.fatorPercentual?($(),ue(Ie,{key:0,sublabel:""},{default:w(()=>[Pve,te(de(e.$filters.numero(n.fatorPercentual,2))+" %",1)]),_:2},1024)):ce("",!0),v(Be,{caption:""},{default:w(()=>[Mve,te(de(n.arredondamento?"Sim":"N\xE3o"),1)]),_:2},1024)]),_:2},1024),v(Ho)]),_:2},1032,["onClick"]))),128))]),_:1}),a.itens.length?ce("",!0):($(),be("div",Nve," N\xE3o encontramos registros com os crit\xE9rios selecionados. "))])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var Rve=ht(Tve,[["render",Fve]]);const kve={data(){return{carregando:!0,listaFiltrada:[],placeholder:"Selecione o NCM",termo:"",visivel:!1}},methods:{filtrar(){let e;if(this.termo){const t=$utils.removerAcentos(this.termo.toUpperCase()).split(" ").filter(o=>o!=="");e=this.listaCompleta.filter(o=>{const r=$utils.removerAcentos(" "+$utils.stringOrEmpty(o.ncm)+" "+$utils.stringOrEmpty(o.descricao).toUpperCase());let a=!0;for(const i of t)isNaN(Number(i))?a=a&&r.includes(i):a=a&&r.includes(" "+i);return a})}else e=this.listaCompleta;this.listaFiltrada=e.slice(0,50),this.carregando=!1},limpar(){this.listaFiltrada=[],this.placeholder="Selecione o NCM",this.termo=""},onHide(){this.resolve({}),this.limpar()},onShow(){this.$refs.search.focus()},item_click(e={}){this.resolve(e),this.visivel=!1},async show(e){return this.carregando=!0,this.visivel=!0,this.listaCompleta=(await $db.ncm.le()).sort((t,o)=>$utils.stringOrEmpty(t.ncm).localeCompare($utils.stringOrEmpty(o.ncm))),this.filtrar(),new Promise((t,o)=>{this.resolve=t})}},mounted(){$g.promptNcm={show:this.show}}},Vve={key:0,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},qve={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"};function Bve(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=n=>a.visivel=n),maximized:"",onHide:t[2]||(t[2]=n=>i.onHide()),onShow:t[3]||(t[3]=n=>i.onShow())},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=n=>a.termo=n),i.filtrar],color:"none",ref:"search",dark:"",placeholder:a.placeholder,debounce:"600",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","placeholder","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,{class:"u-container"},{default:w(()=>[v(Ru,null,{default:w(()=>[a.carregando?($(),be("div",Vve," Carregando... ")):a.listaFiltrada.length?($(),ue(wt,{key:2,link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.listaFiltrada,n=>($(),ue(We,{key:n.id,clickable:"",onClick:s=>i.item_click(n)},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[A("strong",null,de(n.ncm),1),te(" - "+de(n.descricao),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):($(),be("div",qve," Nenhum resultado encontrado "))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var Lve=ht(kve,[["render",Bve]]),EC=At({name:"QBanner",props:{...Sa,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=Ct(),r=Aa(e,o),a=X(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(r.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),i=X(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const n=[ee("div",{class:"q-banner__avatar col-auto row items-center self-start"},ho(t.avatar)),ee("div",{class:"q-banner__content col text-body2"},ho(t.default))],s=ho(t.action);return s!==void 0&&n.push(ee("div",{class:i.value},s)),ee("div",{class:a.value+(e.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},n)}}}),Xa=At({name:"QMenu",inheritAttrs:!1,props:{...EF,...A0,...Sa,...r_,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Lv},self:{type:String,validator:Lv},offset:{type:Array,validator:OF},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...T0,"click","escapeKey"],setup(e,{slots:t,emit:o,attrs:r}){let a=null,i,n,s;const l=Ct(),{proxy:u}=l,{$q:c}=u,d=$e(null),m=$e(!1),f=X(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=Aa(e,c),{registerTick:g,removeTick:b}=nf(),{registerTimeout:x}=Sf(),{transitionProps:_,transitionStyle:y}=i_(e),{localScrollTarget:I,changeScrollEvent:S,unconfigureScrollTarget:O}=AF(e,ye),{anchorEl:F,canShow:M}=SF({showing:m}),{hide:E}=O0({showing:m,canShow:M,handleShow:Ee,handleHide:J,hideOnRouteChange:f,processOnMount:!0}),{showPortal:D,hidePortal:P,renderPortal:N}=WI(l,d,Me,"menu"),R={anchorEl:F,innerRef:d,onClickOutside(fe){if(e.persistent!==!0&&m.value===!0)return E(fe),(fe.type==="touchstart"||fe.target.classList.contains("q-dialog__backdrop"))&&bo(fe),!0}},z=X(()=>$v(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),W=X(()=>e.cover===!0?z.value:$v(e.self||"top start",c.lang.rtl)),j=X(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),Q=X(()=>e.autoClose===!0?{onClick:ge}:{}),se=X(()=>m.value===!0&&e.persistent!==!0);rt(se,fe=>{fe===!0?(gF(Oe),TF(R)):(Rv(Oe),Bv(R))});function _e(){D0(()=>{let fe=d.value;fe&&fe.contains(document.activeElement)!==!0&&(fe=fe.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||fe.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||fe.querySelector("[autofocus], [data-autofocus]")||fe,fe.focus({preventScroll:!0}))})}function Ee(fe){if(a=e.noRefocus===!1?document.activeElement:null,bF(De),D(),ye(),i=void 0,fe!==void 0&&(e.touchPosition||e.contextMenu)){const G=es(fe);if(G.left!==void 0){const{top:V,left:L}=F.value.getBoundingClientRect();i={left:G.left-L,top:G.top-V}}}n===void 0&&(n=rt(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,he)),e.noFocus!==!0&&document.activeElement.blur(),g(()=>{he(),e.noFocus!==!0&&_e()}),x(()=>{c.platform.is.ios===!0&&(s=e.autoClose,d.value.click()),he(),D(!0),o("show",fe)},e.transitionDuration)}function J(fe){b(),P(),re(!0),a!==null&&(fe===void 0||fe.qClickOutside!==!0)&&(((fe&&fe.type.indexOf("key")===0?a.closest('[tabindex]:not([tabindex^="-"])'):void 0)||a).focus(),a=null),x(()=>{P(!0),o("hide",fe)},e.transitionDuration)}function re(fe){i=void 0,n!==void 0&&(n(),n=void 0),(fe===!0||m.value===!0)&&(wC(De),O(),Bv(R),Rv(Oe)),fe!==!0&&(a=null)}function ye(){(F.value!==null||e.scrollTarget!==void 0)&&(I.value=dg(F.value,e.scrollTarget),S(I.value,he))}function ge(fe){s!==!0?(pF(u,fe),o("click",fe)):s=!1}function De(fe){se.value===!0&&e.noFocus!==!0&&R4(d.value,fe.target)!==!0&&_e()}function Oe(fe){o("escapeKey"),E(fe)}function he(){ZI({targetEl:d.value,offset:e.offset,anchorEl:F.value,anchorOrigin:z.value,selfOrigin:W.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Me(){return ee(wi,_.value,()=>m.value===!0?ee("div",{role:"menu",...r,ref:d,tabindex:-1,class:["q-menu q-position-engine scroll"+j.value,r.class],style:[r.style,y.value],...Q.value},ho(t.default)):null)}return wo(re),Object.assign(u,{focus:_e,updatePosition:he}),N}});const eE={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},$ve=Object.keys(eE);eE.all=!0;function Uv(e){const t={};for(const o of $ve)e[o]===!0&&(t[o]=!0);return Object.keys(t).length===0?eE:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Uve=["INPUT","TEXTAREA"];function zv(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Uve.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function A2(e,t,o){const r=es(e);let a,i=r.left-t.event.x,n=r.top-t.event.y,s=Math.abs(i),l=Math.abs(n);const u=t.direction;u.horizontal===!0&&u.vertical!==!0?a=i<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?a=n<0?"up":"down":u.up===!0&&n<0?(a="up",s>l&&(u.left===!0&&i<0?a="left":u.right===!0&&i>0&&(a="right"))):u.down===!0&&n>0?(a="down",s>l&&(u.left===!0&&i<0?a="left":u.right===!0&&i>0&&(a="right"))):u.left===!0&&i<0?(a="left",s<l&&(u.up===!0&&n<0?a="up":u.down===!0&&n>0&&(a="down"))):u.right===!0&&i>0&&(a="right",s<l&&(u.up===!0&&n<0?a="up":u.down===!0&&n>0&&(a="down")));let c=!1;if(a===void 0&&o===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};a=t.event.lastDir,c=!0,a==="left"||a==="right"?(r.left-=i,s=0,i=0):(r.top-=n,l=0,n=0)}return{synthetic:c,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:r,direction:a,isFirst:t.event.isFirst,isFinal:o===!0,duration:Date.now()-t.event.time,distance:{x:s,y:l},offset:{x:i,y:n},delta:{x:r.left-t.event.lastX,y:r.top-t.event.lastY}}}}let zve=0;var _r=a0({name:"touch-pan",beforeMount(e,{value:t,modifiers:o}){if(o.mouse!==!0&&po.has.touch!==!0)return;function r(i,n){o.mouse===!0&&n===!0?bo(i):(o.stop===!0&&ti(i),o.prevent===!0&&oi(i))}const a={uid:"qvtp_"+zve++,handler:t,modifiers:o,direction:Uv(o),noop:Zn,mouseStart(i){zv(i,a)&&lx(i)&&(sr(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(i,!0))},touchStart(i){if(zv(i,a)){const n=i.target;sr(a,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","passiveCapture"],[n,"touchend","end","passiveCapture"]]),a.start(i)}},start(i,n){if(po.is.firefox===!0&&Zd(e,!0),a.lastEvt=i,n===!0||o.stop===!0){if(a.direction.all!==!0&&(n!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const u=i.type.indexOf("mouse")>-1?new MouseEvent(i.type,i):new TouchEvent(i.type,i);i.defaultPrevented===!0&&oi(u),i.cancelBubble===!0&&ti(u),Object.assign(u,{qKeyEvent:i.qKeyEvent,qClickOutside:i.qClickOutside,qAnchorHandled:i.qAnchorHandled,qClonedBy:i.qClonedBy===void 0?[a.uid]:i.qClonedBy.concat(a.uid)}),a.initialEvent={target:i.target,event:u}}ti(i)}const{left:s,top:l}=es(i);a.event={x:s,y:l,time:Date.now(),mouse:n===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:l}},move(i){if(a.event===void 0)return;const n=es(i),s=n.left-a.event.x,l=n.top-a.event.y;if(s===0&&l===0)return;a.lastEvt=i;const u=a.event.mouse===!0,c=()=>{r(i,u);let f;o.preserveCursor!==!0&&o.preservecursor!==!0&&(f=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),uc(),a.styleCleanup=p=>{if(a.styleCleanup=void 0,f!==void 0&&(document.documentElement.style.cursor=f),document.body.classList.remove("non-selectable"),u===!0){const g=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{g(),p()},50):g()}else p!==void 0&&p()}};if(a.event.detected===!0){a.event.isFirst!==!0&&r(i,a.event.mouse);const{payload:f,synthetic:p}=A2(i,a,!1);f!==void 0&&(a.handler(f)===!1?a.end(i):(a.styleCleanup===void 0&&a.event.isFirst===!0&&c(),a.event.lastX=f.position.left,a.event.lastY=f.position.top,a.event.lastDir=p===!0?void 0:f.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||u===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){c(),a.event.detected=!0,a.move(i);return}const d=Math.abs(s),m=Math.abs(l);d!==m&&(a.direction.horizontal===!0&&d>m||a.direction.vertical===!0&&d<m||a.direction.up===!0&&d<m&&l<0||a.direction.down===!0&&d<m&&l>0||a.direction.left===!0&&d>m&&s<0||a.direction.right===!0&&d>m&&s>0?(a.event.detected=!0,a.move(i)):a.end(i,!0))},end(i,n){if(a.event!==void 0){if(Qi(a,"temp"),po.is.firefox===!0&&Zd(e,!1),n===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(A2(i===void 0?a.lastEvt:i,a).payload);const{payload:s}=A2(i===void 0?a.lastEvt:i,a,!0),l=()=>{a.handler(s)};a.styleCleanup!==void 0?a.styleCleanup(l):l()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(e.__qtouchpan=a,o.mouse===!0){const i=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";sr(a,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}po.has.touch===!0&&sr(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchpan;o!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&o.end(),o.handler=t.value),o.direction=Uv(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),Qi(t,"main"),Qi(t,"temp"),po.is.firefox===!0&&Zd(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const cD=150;var PF=At({name:"QDrawer",inheritAttrs:!1,props:{...A0,...Sa,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...T0,"onLayout","miniState"],setup(e,{slots:t,emit:o,attrs:r}){const a=Ct(),{proxy:{$q:i}}=a,n=Aa(e,i),{preventBodyScroll:s}=hF(),{registerTimeout:l,removeTimeout:u}=Sf(),c=gr(kf,qa);if(c===qa)return console.error("QDrawer needs to be child of QLayout"),qa;let d,m=null,f;const p=$e(e.behavior==="mobile"||e.behavior!=="desktop"&&c.totalWidth.value<=e.breakpoint),g=X(()=>e.mini===!0&&p.value!==!0),b=X(()=>g.value===!0?e.miniWidth:e.width),x=$e(e.showIfAbove===!0&&p.value===!1?!0:e.modelValue===!0),_=X(()=>e.persistent!==!0&&(p.value===!0||Ee.value===!0));function y(ve,Fe){if(F(),ve!==!1&&c.animate(),U(0),p.value===!0){const Le=c.instances[j.value];Le!==void 0&&Le.belowBreakpoint===!0&&Le.hide(!1),ie(1),c.isContainer.value!==!0&&s(!0)}else ie(0),ve!==!1&&we(!1);l(()=>{ve!==!1&&we(!0),Fe!==!0&&o("show",ve)},cD)}function I(ve,Fe){M(),ve!==!1&&c.animate(),ie(0),U(P.value*b.value),Y(),Fe!==!0?l(()=>{o("hide",ve)},cD):u()}const{show:S,hide:O}=O0({showing:x,hideOnRouteChange:_,handleShow:y,handleHide:I}),{addToHistory:F,removeFromHistory:M}=fF(x,O,_),E={belowBreakpoint:p,hide:O},D=X(()=>e.side==="right"),P=X(()=>(i.lang.rtl===!0?-1:1)*(D.value===!0?1:-1)),N=$e(0),R=$e(!1),z=$e(!1),W=$e(b.value*P.value),j=X(()=>D.value===!0?"left":"right"),Q=X(()=>x.value===!0&&p.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:b.value:0),se=X(()=>e.overlay===!0||e.miniToOverlay===!0||c.view.value.indexOf(D.value?"R":"L")>-1||i.platform.is.ios===!0&&c.isContainer.value===!0),_e=X(()=>e.overlay===!1&&x.value===!0&&p.value===!1),Ee=X(()=>e.overlay===!0&&x.value===!0&&p.value===!1),J=X(()=>"fullscreen q-drawer__backdrop"+(x.value===!1&&R.value===!1?" hidden":"")),re=X(()=>({backgroundColor:`rgba(0,0,0,${N.value*.4})`})),ye=X(()=>D.value===!0?c.rows.value.top[2]==="r":c.rows.value.top[0]==="l"),ge=X(()=>D.value===!0?c.rows.value.bottom[2]==="r":c.rows.value.bottom[0]==="l"),De=X(()=>{const ve={};return c.header.space===!0&&ye.value===!1&&(se.value===!0?ve.top=`${c.header.offset}px`:c.header.space===!0&&(ve.top=`${c.header.size}px`)),c.footer.space===!0&&ge.value===!1&&(se.value===!0?ve.bottom=`${c.footer.offset}px`:c.footer.space===!0&&(ve.bottom=`${c.footer.size}px`)),ve}),Oe=X(()=>{const ve={width:`${b.value}px`,transform:`translateX(${W.value}px)`};return p.value===!0?ve:Object.assign(ve,De.value)}),he=X(()=>"q-drawer__content fit "+(c.isContainer.value!==!0?"scroll":"overflow-auto")),Me=X(()=>`q-drawer q-drawer--${e.side}`+(z.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(n.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":x.value===!0?"":" q-layout--prevent-focus")+(p.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${g.value===!0?"mini":"standard"}`+(se.value===!0||_e.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ye.value===!0?" q-drawer--top-padding":""))),fe=X(()=>{const ve=i.lang.rtl===!0?e.side:j.value;return[[_r,q,void 0,{[ve]:!0,mouse:!0}]]}),G=X(()=>{const ve=i.lang.rtl===!0?j.value:e.side;return[[_r,k,void 0,{[ve]:!0,mouse:!0}]]}),V=X(()=>{const ve=i.lang.rtl===!0?j.value:e.side;return[[_r,k,void 0,{[ve]:!0,mouse:!0,mouseAllDir:!0}]]});function L(){oe(p,e.behavior==="mobile"||e.behavior!=="desktop"&&c.totalWidth.value<=e.breakpoint)}rt(p,ve=>{ve===!0?(d=x.value,x.value===!0&&O(!1)):e.overlay===!1&&e.behavior!=="mobile"&&d!==!1&&(x.value===!0?(U(0),ie(0),Y()):S(!1))}),rt(()=>e.side,(ve,Fe)=>{c.instances[Fe]===E&&(c.instances[Fe]=void 0,c[Fe].space=!1,c[Fe].offset=0),c.instances[ve]=E,c[ve].size=b.value,c[ve].space=_e.value,c[ve].offset=Q.value}),rt(c.totalWidth,()=>{(c.isContainer.value===!0||document.qScrollPrevented!==!0)&&L()}),rt(()=>e.behavior+e.breakpoint,L),rt(c.isContainer,ve=>{x.value===!0&&s(ve!==!0),ve===!0&&L()}),rt(c.scrollbarWidth,()=>{U(x.value===!0?0:void 0)}),rt(Q,ve=>{ne("offset",ve)}),rt(_e,ve=>{o("onLayout",ve),ne("space",ve)}),rt(D,()=>{U()}),rt(b,ve=>{U(),Ce(e.miniToOverlay,ve)}),rt(()=>e.miniToOverlay,ve=>{Ce(ve,b.value)}),rt(()=>i.lang.rtl,()=>{U()}),rt(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(H(),c.animate())}),rt(g,ve=>{o("miniState",ve)});function U(ve){ve===void 0?Do(()=>{ve=x.value===!0?0:b.value,U(P.value*ve)}):(c.isContainer.value===!0&&D.value===!0&&(p.value===!0||Math.abs(ve)===b.value)&&(ve+=P.value*c.scrollbarWidth.value),W.value=ve)}function ie(ve){N.value=ve}function we(ve){const Fe=ve===!0?"remove":c.isContainer.value!==!0?"add":"";Fe!==""&&document.body.classList[Fe]("q-body--drawer-toggle")}function H(){m!==null&&clearTimeout(m),a.proxy&&a.proxy.$el&&a.proxy.$el.classList.add("q-drawer--mini-animate"),z.value=!0,m=setTimeout(()=>{m=null,z.value=!1,a&&a.proxy&&a.proxy.$el&&a.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function q(ve){if(x.value!==!1)return;const Fe=b.value,Le=Cn(ve.distance.x,0,Fe);if(ve.isFinal===!0){Le>=Math.min(75,Fe)===!0?S():(c.animate(),ie(0),U(P.value*Fe)),R.value=!1;return}U((i.lang.rtl===!0?D.value!==!0:D.value)?Math.max(Fe-Le,0):Math.min(0,Le-Fe)),ie(Cn(Le/Fe,0,1)),ve.isFirst===!0&&(R.value=!0)}function k(ve){if(x.value!==!0)return;const Fe=b.value,Le=ve.direction===e.side,tt=(i.lang.rtl===!0?Le!==!0:Le)?Cn(ve.distance.x,0,Fe):0;if(ve.isFinal===!0){Math.abs(tt)<Math.min(75,Fe)===!0?(c.animate(),ie(1),U(0)):O(),R.value=!1;return}U(P.value*tt),ie(Cn(1-tt/Fe,0,1)),ve.isFirst===!0&&(R.value=!0)}function Y(){s(!1),we(!0)}function ne(ve,Fe){c.update(e.side,ve,Fe)}function oe(ve,Fe){ve.value!==Fe&&(ve.value=Fe)}function Ce(ve,Fe){ne("size",ve===!0?e.miniWidth:Fe)}return c.instances[e.side]=E,Ce(e.miniToOverlay,b.value),ne("space",_e.value),ne("offset",Q.value),e.showIfAbove===!0&&e.modelValue!==!0&&x.value===!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",!0),tr(()=>{o("onLayout",_e.value),o("miniState",g.value),d=e.showIfAbove===!0;const ve=()=>{(x.value===!0?y:I)(!1,!0)};if(c.totalWidth.value!==0){Do(ve);return}f=rt(c.totalWidth,()=>{f(),f=void 0,x.value===!1&&e.showIfAbove===!0&&p.value===!1?S(!1):ve()})}),wo(()=>{f!==void 0&&f(),m!==null&&(clearTimeout(m),m=null),x.value===!0&&Y(),c.instances[e.side]===E&&(c.instances[e.side]=void 0,ne("size",0),ne("offset",0),ne("space",!1))}),()=>{const ve=[];p.value===!0&&(e.noSwipeOpen===!1&&ve.push(Te(ee("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),fe.value)),ve.push(Sp("div",{ref:"backdrop",class:J.value,style:re.value,"aria-hidden":"true",onClick:O},void 0,"backdrop",e.noSwipeBackdrop!==!0&&x.value===!0,()=>V.value)));const Fe=g.value===!0&&t.mini!==void 0,Le=[ee("div",{...r,key:""+Fe,class:[he.value,r.class]},Fe===!0?t.mini():ho(t.default))];return e.elevated===!0&&x.value===!0&&Le.push(ee("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),ve.push(Sp("aside",{ref:"content",class:Me.value,style:Oe.value},Le,"contentclose",e.noSwipeClose!==!0&&p.value===!0,()=>G.value)),ee("div",{class:"q-drawer-container"},ve)}}});const Hve={name:"MenuGeradorItem",computed:{sincronismoStatus(){return _o.status}},data(){return{}},methods:{repete_evento(e){this.$emit("menuClick",e)},menu_click(e){this.$lodash.get(e,"rota.name")==="Plataforma15"&&(e=JSON.parse(JSON.stringify(e.rota.params)),this.$emit("menuClick",e))}},props:{itens:{default:()=>[],type:Array}},emits:["menuClick"]};function jve(e,t,o,r,a,i){const n=ke("menu-gerador-item",!0);return $(!0),be(Qe,null,zt(o.itens.filter(s=>s.mostrar),s=>($(),be(Qe,{key:s.id},[e.$lodash.get(s,"filhos.length")?($(),ue(Vr,{key:0,onClick:st(l=>i.menu_click(s),["stop"]),icon:s.icone||"label",label:s.descricao,to:s.rota,duration:160,separator:"",dense:"",class:"text-tertiary submenu-geradorItem"},{default:w(()=>[v(n,{onMenuClick:i.repete_evento,itens:s.filhos},null,8,["onMenuClick","itens"])]),_:2},1032,["onClick","icon","label","to"])):($(),ue(We,{key:1,onClick:st(l=>i.menu_click(s),["stop"]),to:s.rota,clickable:"",dense:"",class:"text-tertiary menu-geradorItem"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:s.icone||"label",size:"sm"},null,8,["name"])]),_:2},1024),v(Ie,null,{default:w(()=>[te(de(s.descricao),1)]),_:2},1024)]),_:2},1032,["onClick","to"]))],64))),128)}var Gve=ht(Hve,[["render",jve]]);const Wve={components:{MenuGeradorItem:Gve},data(){return{carregando:!1,menuPrincipal:[],menuDesenvolvimento:[]}},methods:{menu_click(e){this.$emit("menuClick",e)},marcar(e){e.forEach(t=>{if((t.filhos||[]).length&&this.marcar(t.filhos),(t.descricao||"").toLowerCase().search(this.termoBusca)!==-1){t.mostrar=!0;return}t.mostrar=!!(t.filhos||[]).find(o=>o.mostrar)})},gerarIds(e){e.forEach(t=>{(t.filhos||[]).length&&this.gerarIds(t.filhos),this.$lodash.get(t,"rota.name")==="Plataforma15"&&this.$lodash.set(t,"rota.params.id",this.$utils.uuid())})}},props:{termoBusca:{type:String}},emits:["menuClick"],watch:{termoBusca(){this.marcar(this.menuPrincipal),this.marcar(this.menuDesenvolvimento)}},async created(){try{this.carregando=!0;let e=await je.permissao.menu();this.marcar(e),this.gerarIds(e),this.menuPrincipal=e.filter(r=>{if(!this.$q.platform.is.mobile||!/\/plataforma15\//.test((r.rota||{}).path))return!0});const t=!!je.usuario.logado.desenvolvedor&&je.usuario.logado.desenvolvedor();let o=t?await je.permissao.menu(!0):[];this.marcar(o),this.gerarIds(o),this.menuDesenvolvimento=t?[...o,{descricao:"Desenvolvedor",icone:"build",id:$utils.uuid(),mostrar:!0,rota:{name:"Desenvolvedor"}}]:[]}catch(e){this.$q.notifyError("Erro ao obter permiss\xF5es",e)}finally{this.carregando=!1}}},Xve={key:0,class:"text-tertiary"},Yve={key:1},Kve={key:2};function Qve(e,t,o,r,a,i){const n=ke("menu-gerador-item");return $(),be("div",null,[a.menuPrincipal.length?($(),be("div",Xve,[v(wt,null,{default:w(()=>[v(Be,{header:"",class:"q-pb-xs"},{default:w(()=>[te("Menu Principal")]),_:1}),v(Ho,{inset:"true"}),v(n,{itens:a.menuPrincipal,onMenuClick:i.menu_click},null,8,["itens","onMenuClick"])]),_:1}),v(Ho),a.menuDesenvolvimento.length?($(),ue(wt,{key:0,class:"text-tertiary"},{default:w(()=>[v(Be,{header:""},{default:w(()=>[te("Menu Desenvolvimento")]),_:1}),v(n,{itens:a.menuDesenvolvimento,onMenuClick:i.menu_click},null,8,["itens","onMenuClick"])]),_:1})):ce("",!0),v(Ho)])):a.carregando?($(),be("div",Yve," Carregando... ")):($(),be("div",Kve," Ops! Parece que voc\xEA n\xE3o possui permiss\xF5es de acesso. "))])}var Jve=ht(Wve,[["render",Qve]]);function MF(e,t){const o=$e(null),r=X(()=>e.disable===!0?null:ee("span",{ref:o,class:"no-outline",tabindex:-1}));function a(i){const n=t.value;i!==void 0&&i.type.indexOf("key")===0?n!==null&&document.activeElement!==n&&n.contains(document.activeElement)===!0&&n.focus():o.value!==null&&(i===void 0||n!==null&&n.contains(i.target)===!0)&&o.value.focus()}return{refocusTargetEl:r,refocusTarget:a}}var NF={xs:30,sm:35,md:40,lg:50,xl:60};const Zve=ee("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[ee("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),ee("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Zs=At({name:"QRadio",props:{...Sa,...wc,...P0,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:o}){const{proxy:r}=Ct(),a=Aa(e,r.$q),i=Ic(e,NF),n=$e(null),{refocusTargetEl:s,refocusTarget:l}=MF(e,n),u=X(()=>oo(e.modelValue)===oo(e.val)),c=X(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(a.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),d=X(()=>{const y=e.color!==void 0&&(e.keepColor===!0||u.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${u.value===!0?"truthy":"falsy"}${y}`}),m=X(()=>(u.value===!0?e.checkedIcon:e.uncheckedIcon)||null),f=X(()=>e.disable===!0?-1:e.tabindex||0),p=X(()=>{const y={type:"radio"};return e.name!==void 0&&Object.assign(y,{".checked":u.value===!0,"^checked":u.value===!0?"checked":void 0,name:e.name,value:e.val}),y}),g=QI(p);function b(y){y!==void 0&&(bo(y),l(y)),e.disable!==!0&&u.value!==!0&&o("update:modelValue",e.val,y)}function x(y){(y.keyCode===13||y.keyCode===32)&&bo(y)}function _(y){(y.keyCode===13||y.keyCode===32)&&b(y)}return Object.assign(r,{set:b}),()=>{const y=m.value!==null?[ee("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[ee(Ve,{class:"q-radio__icon",name:m.value})])]:[Zve];e.disable!==!0&&g(y,"unshift"," q-radio__native q-ma-none q-pa-none");const I=[ee("div",{class:d.value,style:i.value,"aria-hidden":"true"},y)];s.value!==null&&I.push(s.value);const S=e.label!==void 0?bi(t.default,[e.label]):ho(t.default);return S!==void 0&&I.push(ee("div",{class:"q-radio__label q-anchor--skip"},S)),ee("div",{ref:n,class:c.value,tabindex:f.value,role:"radio","aria-label":e.label,"aria-checked":u.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:b,onKeydown:x,onKeyup:_},I)}}}),FF={exports:{}};(function(e,t){(function(o,r){e.exports=r(r.toString()).default})(Ht,function(o){return function(r){function a(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}var i={};return a.m=r,a.c=i,a.i=function(n){return n},a.d=function(n,s,l){a.o(n,s)||Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:l})},a.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(s,"a",s),s},a.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},a.p="/",a(a.s=166)}([function(r,a){function i(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}r.exports=i},function(r,a,i){function n(l,u){return this._row=[],this.config=l||{},this.supplements=u,this}var s=i(3);n.prototype._nextUnset=function(l,u){var c;for(u===void 0&&(u=0),c=u;c<l.length;c++)if(!l[c])return c;return l.length},n.prototype._matchPattern=function(l,u,c){var d,m,f,p,g=0,b=0,x=0,_=0;for(c=c||this.SINGLE_CODE_ERROR||1,d=0;d<l.length;d++)x+=l[d],_+=u[d];if(x<_)return Number.MAX_VALUE;for(m=x/_,c*=m,d=0;d<l.length;d++){if(f=l[d],p=u[d]*m,(b=Math.abs(f-p)/p)>c)return Number.MAX_VALUE;g+=b}return g/_},n.prototype._nextSet=function(l,u){var c;for(u=u||0,c=u;c<l.length;c++)if(l[c])return c;return l.length},n.prototype._correctBars=function(l,u,c){for(var d=c.length,m=0;d--;)(m=l[c[d]]*(1-(1-u)/2))>1&&(l[c[d]]=m)},n.prototype._matchTrace=function(l,u){var c,d,m=[],f=this,p=f._nextSet(f._row),g=!f._row[p],b=0,x={error:Number.MAX_VALUE,code:-1,start:0};if(l){for(c=0;c<l.length;c++)m.push(0);for(c=p;c<f._row.length;c++)if(f._row[c]^g)m[b]++;else{if(b===m.length-1)return d=f._matchPattern(m,l),d<u?(x.start=c-p,x.end=c,x.counter=m,x):null;b++,m[b]=1,g=!g}}else for(m.push(0),c=p;c<f._row.length;c++)f._row[c]^g?m[b]++:(b++,m.push(0),m[b]=1,g=!g);return x.start=p,x.end=f._row.length-1,x.counter=m,x},n.prototype.decodePattern=function(l){var u,c=this;return c._row=l,u=c._decode(),u===null?(c._row.reverse(),(u=c._decode())&&(u.direction=n.DIRECTION.REVERSE,u.start=c._row.length-u.start,u.end=c._row.length-u.end)):u.direction=n.DIRECTION.FORWARD,u&&(u.format=c.FORMAT),u},n.prototype._matchRange=function(l,u,c){var d;for(l=l<0?0:l,d=l;d<u;d++)if(this._row[d]!==c)return!1;return!0},n.prototype._fillCounters=function(l,u,c){var d,m=this,f=0,p=[];for(c=c===void 0||c,l=l!==void 0?l:m._nextUnset(m._row),u=u||m._row.length,p[f]=0,d=l;d<u;d++)m._row[d]^c?p[f]++:(f++,p[f]=1,c=!c);return p},n.prototype._toCounters=function(l,u){var c,d=this,m=u.length,f=d._row.length,p=!d._row[l],g=0;for(s.a.init(u,0),c=l;c<f;c++)if(d._row[c]^p)u[g]++;else{if(++g===m)break;u[g]=1,p=!p}return u},Object.defineProperty(n.prototype,"FORMAT",{value:"unknown",writeable:!1}),n.DIRECTION={FORWARD:1,REVERSE:-1},n.Exception={StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"},n.CONFIG_KEYS={},a.a=n},function(r,a){var i=Array.isArray;r.exports=i},function(r,a,i){a.a={init:function(n,s){for(var l=n.length;l--;)n[l]=s},shuffle:function(n){var s,l,u=n.length-1;for(u;u>=0;u--)s=Math.floor(Math.random()*u),l=n[u],n[u]=n[s],n[s]=l;return n},toPointList:function(n){var s,l,u=[],c=[];for(s=0;s<n.length;s++){for(u=[],l=0;l<n[s].length;l++)u[l]=n[s][l];c[s]="["+u.join(",")+"]"}return"["+c.join(`,\r
`)+"]"},threshold:function(n,s,l){var u,c=[];for(u=0;u<n.length;u++)l.apply(n,[n[u]])>=s&&c.push(n[u]);return c},maxIndex:function(n){var s,l=0;for(s=0;s<n.length;s++)n[s]>n[l]&&(l=s);return l},max:function(s){var l,u=0;for(l=0;l<s.length;l++)s[l]>u&&(u=s[l]);return u},sum:function(s){for(var l=s.length,u=0;l--;)u+=s[l];return u}}},function(r,a,i){function n(f,p){f=u()(s(),f),c.a.call(this,f,p)}function s(){var f={};return Object.keys(n.CONFIG_KEYS).forEach(function(p){f[p]=n.CONFIG_KEYS[p].default}),f}var l=i(28),u=i.n(l),c=i(1),d=Object.assign||function(f){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(f[b]=g[b])}return f},m={CODE_L_START:{value:0},CODE_G_START:{value:10},START_PATTERN:{value:[1,1,1]},STOP_PATTERN:{value:[1,1,1]},MIDDLE_PATTERN:{value:[1,1,1,1,1]},EXTENSION_START_PATTERN:{value:[1,1,2]},CODE_PATTERN:{value:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]]},CODE_FREQUENCY:{value:[0,11,13,14,19,25,28,21,22,26]},SINGLE_CODE_ERROR:{value:.7},AVG_CODE_ERROR:{value:.48},FORMAT:{value:"ean_13",writeable:!1}};n.prototype=Object.create(c.a.prototype,m),n.prototype.constructor=n,n.prototype._decodeCode=function(f,p){var g,b,x,_=[0,0,0,0],y=this,I=f,S=!y._row[I],O=0,F={error:Number.MAX_VALUE,code:-1,start:f,end:f};for(p||(p=y.CODE_PATTERN.length),g=I;g<y._row.length;g++)if(y._row[g]^S)_[O]++;else{if(O===_.length-1){for(b=0;b<p;b++)(x=y._matchPattern(_,y.CODE_PATTERN[b]))<F.error&&(F.code=b,F.error=x);return F.end=g,F.error>y.AVG_CODE_ERROR?null:F}O++,_[O]=1,S=!S}return null},n.prototype._findPattern=function(f,p,g,b,x){var _,y,I,S,O=[],F=this,M=0,E={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(p||(p=F._nextSet(F._row)),g===void 0&&(g=!1),b===void 0&&(b=!0),x===void 0&&(x=F.AVG_CODE_ERROR),_=0;_<f.length;_++)O[_]=0;for(_=p;_<F._row.length;_++)if(F._row[_]^g)O[M]++;else{if(M===O.length-1){for(S=0,I=0;I<O.length;I++)S+=O[I];if((y=F._matchPattern(O,f))<x)return E.error=y,E.start=_-S,E.end=_,E;if(!b)return null;for(I=0;I<O.length-2;I++)O[I]=O[I+2];O[O.length-2]=0,O[O.length-1]=0,M--}else M++;O[M]=1,g=!g}return null},n.prototype._findStart=function(){for(var f,p,g=this,b=g._nextSet(g._row);!p;){if(!(p=g._findPattern(g.START_PATTERN,b)))return null;if((f=p.start-(p.end-p.start))>=0&&g._matchRange(f,p.start,0))return p;b=p.end,p=null}},n.prototype._verifyTrailingWhitespace=function(f){var p,g=this;return p=f.end+(f.end-f.start),p<g._row.length&&g._matchRange(f.end,p,0)?f:null},n.prototype._findEnd=function(f,p){var g=this,b=g._findPattern(g.STOP_PATTERN,f,p,!1);return b!==null?g._verifyTrailingWhitespace(b):null},n.prototype._calculateFirstDigit=function(f){var p,g=this;for(p=0;p<g.CODE_FREQUENCY.length;p++)if(f===g.CODE_FREQUENCY[p])return p;return null},n.prototype._decodePayload=function(f,p,g){var b,x,_=this,y=0;for(b=0;b<6;b++){if(!(f=_._decodeCode(f.end)))return null;f.code>=_.CODE_G_START?(f.code=f.code-_.CODE_G_START,y|=1<<5-b):y|=0<<5-b,p.push(f.code),g.push(f)}if((x=_._calculateFirstDigit(y))===null||(p.unshift(x),(f=_._findPattern(_.MIDDLE_PATTERN,f.end,!0,!1))===null))return null;for(g.push(f),b=0;b<6;b++){if(!(f=_._decodeCode(f.end,_.CODE_G_START)))return null;g.push(f),p.push(f.code)}return f},n.prototype._decode=function(){var f,p,g=this,b=[],x=[],_={};if(!(f=g._findStart())||(p={code:f.code,start:f.start,end:f.end},x.push(p),!(p=g._decodePayload(p,b,x)))||!(p=g._findEnd(p.end,!1))||(x.push(p),!g._checksum(b)))return null;if(this.supplements.length>0){var y=this._decodeExtensions(p.end);if(!y)return null;var I=y.decodedCodes[y.decodedCodes.length-1],S={start:I.start+((I.end-I.start)/2|0),end:I.end};if(!g._verifyTrailingWhitespace(S))return null;_={supplement:y,code:b.join("")+y.code}}return d({code:b.join(""),start:f.start,end:p.end,codeset:"",startInfo:f,decodedCodes:x},_)},n.prototype._decodeExtensions=function(f){var p,g,b=this._nextSet(this._row,f),x=this._findPattern(this.EXTENSION_START_PATTERN,b,!1,!1);if(x===null)return null;for(p=0;p<this.supplements.length;p++)if((g=this.supplements[p].decode(this._row,x.end))!==null)return{code:g.code,start:b,startInfo:x,end:g.end,codeset:"",decodedCodes:g.decodedCodes};return null},n.prototype._checksum=function(f){var p,g=0;for(p=f.length-2;p>=0;p-=2)g+=f[p];for(g*=3,p=f.length-1;p>=0;p-=2)g+=f[p];return g%10==0},n.CONFIG_KEYS={supplements:{type:"arrayOf(string)",default:[],description:"Allowed extensions to be decoded (2 and/or 5)"}},a.a=n},function(r,a,i){var n=i(38),s=typeof self=="object"&&self&&self.Object===Object&&self,l=n||s||Function("return this")();r.exports=l},function(r,a){function i(n){return n!=null&&typeof n=="object"}r.exports=i},function(r,a){function i(n){var s=new Float32Array(2);return s[0]=n[0],s[1]=n[1],s}r.exports=i},function(r,a,i){function n(f){return f==null?f===void 0?d:c:m&&m in Object(f)?l(f):u(f)}var s=i(11),l=i(119),u=i(146),c="[object Null]",d="[object Undefined]",m=s?s.toStringTag:void 0;r.exports=n},function(r,a,i){a.a={drawRect:function(n,s,l,u){l.strokeStyle=u.color,l.fillStyle=u.color,l.lineWidth=1,l.beginPath(),l.strokeRect(n.x,n.y,s.x,s.y)},drawPath:function(n,s,l,u){l.strokeStyle=u.color,l.fillStyle=u.color,l.lineWidth=u.lineWidth,l.beginPath(),l.moveTo(n[0][s.x],n[0][s.y]);for(var c=1;c<n.length;c++)l.lineTo(n[c][s.x],n[c][s.y]);l.closePath(),l.stroke()},drawImage:function(n,s,l){var u,c=l.getImageData(0,0,s.x,s.y),d=c.data,m=n.length,f=d.length;if(f/m!=4)return!1;for(;m--;)u=n[m],d[--f]=255,d[--f]=u,d[--f]=u,d[--f]=u;return l.putImageData(c,0,0),!0}}},function(r,a,i){function n(m){var f=-1,p=m==null?0:m.length;for(this.clear();++f<p;){var g=m[f];this.set(g[0],g[1])}}var s=i(133),l=i(134),u=i(135),c=i(136),d=i(137);n.prototype.clear=s,n.prototype.delete=l,n.prototype.get=u,n.prototype.has=c,n.prototype.set=d,r.exports=n},function(r,a,i){var n=i(5),s=n.Symbol;r.exports=s},function(r,a,i){function n(l,u){for(var c=l.length;c--;)if(s(l[c][0],u))return c;return-1}var s=i(17);r.exports=n},function(r,a,i){function n(d,m){return s(d)?d:l(d,m)?[d]:u(c(d))}var s=i(2),l=i(130),u=i(154),c=i(165);r.exports=n},function(r,a,i){function n(l,u){var c=l.__data__;return s(u)?c[typeof u=="string"?"string":"hash"]:c.map}var s=i(131);r.exports=n},function(r,a){function i(l,u){return!!(u=u==null?n:u)&&(typeof l=="number"||s.test(l))&&l>-1&&l%1==0&&l<u}var n=9007199254740991,s=/^(?:0|[1-9]\d*)$/;r.exports=i},function(r,a,i){var n=i(22),s=n(Object,"create");r.exports=s},function(r,a){function i(n,s){return n===s||n!==n&&s!==s}r.exports=i},function(r,a,i){var n=i(96),s=i(6),l=Object.prototype,u=l.hasOwnProperty,c=l.propertyIsEnumerable,d=n(function(){return arguments}())?n:function(m){return s(m)&&u.call(m,"callee")&&!c.call(m,"callee")};r.exports=d},function(r,a,i){function n(P,N){return{x:P,y:N,toVec2:function(){return M.clone([this.x,this.y])},toVec3:function(){return E.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function s(P,N,R){R||(R=P);for(var z=P.data,W=z.length,j=R.data;W--;)j[W]=z[W]<N?1:0}function l(P,N){N||(N=8);for(var R=P.data,z=R.length,W=8-N,j=1<<N,Q=new Int32Array(j);z--;)Q[R[z]>>W]++;return Q}function u(P,N){function R(se,_e){var Ee,J=0;for(Ee=se;Ee<=_e;Ee++)J+=j[Ee];return J}function z(se,_e){var Ee,J=0;for(Ee=se;Ee<=_e;Ee++)J+=Ee*j[Ee];return J}function W(){var se,_e,Ee,J,re,ye,ge,De=[0],Oe=(1<<N)-1;for(j=l(P,N),J=1;J<Oe;J++)se=R(0,J),_e=R(J+1,Oe),Ee=se*_e,Ee===0&&(Ee=1),re=z(0,J)*_e,ye=z(J+1,Oe)*se,ge=re-ye,De[J]=ge*ge/Ee;return F.a.maxIndex(De)}N||(N=8);var j,Q=8-N;return W()<<Q}function c(P,N){var R=u(P);return s(P,R,N),R}function d(P,N,R){function z(Ee){var J=!1;for(j=0;j<_e.length;j++)Q=_e[j],Q.fits(Ee)&&(Q.add(Ee),J=!0);return J}var W,j,Q,se,_e=[];for(R||(R="rad"),W=0;W<P.length;W++)se=O.a.createPoint(P[W],W,R),z(se)||_e.push(O.a.create(se,N));return _e}function m(P,N,R){var z,W,j,Q,se=0,_e=0,Ee=[];for(z=0;z<N;z++)Ee[z]={score:0,item:null};for(z=0;z<P.length;z++)if((W=R.apply(this,[P[z]]))>_e)for(j=Ee[se],j.score=W,j.item=P[z],_e=Number.MAX_VALUE,Q=0;Q<N;Q++)Ee[Q].score<_e&&(_e=Ee[Q].score,se=Q);return Ee}function f(P,N,R){for(var z,W=0,j=N.x,Q=Math.floor(P.length/4),se=N.x/2,_e=0,Ee=N.x;j<Q;){for(z=0;z<se;z++)R[_e]=(.299*P[4*W+0]+.587*P[4*W+1]+.114*P[4*W+2]+(.299*P[4*(W+1)+0]+.587*P[4*(W+1)+1]+.114*P[4*(W+1)+2])+(.299*P[4*j+0]+.587*P[4*j+1]+.114*P[4*j+2])+(.299*P[4*(j+1)+0]+.587*P[4*(j+1)+1]+.114*P[4*(j+1)+2]))/4,_e++,W+=2,j+=2;W+=Ee,j+=Ee}}function p(P,N,R){var z,W=P.length/4|0;if(R&&R.singleChannel===!0)for(z=0;z<W;z++)N[z]=P[4*z+0];else for(z=0;z<W;z++)N[z]=.299*P[4*z+0]+.587*P[4*z+1]+.114*P[4*z+2]}function g(P,N){for(var R=P.data,z=P.size.x,W=N.data,j=0,Q=z,se=R.length,_e=z/2,Ee=0;Q<se;){for(var J=0;J<_e;J++)W[Ee]=Math.floor((R[j]+R[j+1]+R[Q]+R[Q+1])/4),Ee++,j+=2,Q+=2;j+=z,Q+=z}}function b(P,N){var R=P[0],z=P[1],W=P[2],j=W*z,Q=j*(1-Math.abs(R/60%2-1)),se=W-j,_e=0,Ee=0,J=0;return N=N||[0,0,0],R<60?(_e=j,Ee=Q):R<120?(_e=Q,Ee=j):R<180?(Ee=j,J=Q):R<240?(Ee=Q,J=j):R<300?(_e=Q,J=j):R<360&&(_e=j,J=Q),N[0]=255*(_e+se)|0,N[1]=255*(Ee+se)|0,N[2]=255*(J+se)|0,N}function x(P){var N,R=[],z=[];for(N=1;N<Math.sqrt(P)+1;N++)P%N==0&&(z.push(N),N!==P/N&&R.unshift(Math.floor(P/N)));return z.concat(R)}function _(P,N){for(var R=0,z=0,W=[];R<P.length&&z<N.length;)P[R]===N[z]?(W.push(P[R]),R++,z++):P[R]>N[z]?z++:R++;return W}function y(P,N){function R(ge){for(var De=0,Oe=ge[Math.floor(ge.length/2)];De<ge.length-1&&ge[De]<ye;)De++;return De>0&&(Oe=Math.abs(ge[De]-ye)>Math.abs(ge[De-1]-ye)?ge[De-1]:ge[De]),ye/Oe<_e[J+1]/_e[J]&&ye/Oe>_e[J-1]/_e[J]?{x:Oe,y:Oe}:null}var z,W=x(N.x),j=x(N.y),Q=Math.max(N.x,N.y),se=_(W,j),_e=[8,10,15,20,32,60,80],Ee={"x-small":5,small:4,medium:3,large:2,"x-large":1},J=Ee[P]||Ee.medium,re=_e[J],ye=Math.floor(Q/re);return z=R(se),z||(z=R(x(Q)))||(z=R(x(ye*re))),z}function I(P){return{value:parseFloat(P),unit:(P.indexOf("%"),P.length,"%")}}function S(P,N,R){var z={width:P,height:N},W=Object.keys(R).reduce(function(j,Q){var se=R[Q],_e=I(se),Ee=D[Q](_e,z);return j[Q]=Ee,j},{});return{sx:W.left,sy:W.top,sw:W.right-W.left,sh:W.bottom-W.top}}var O=i(50),F=i(3);a.b=n,a.f=c,a.g=d,a.h=m,a.c=f,a.d=p,a.i=g,a.a=b,a.e=y,a.j=S;var M={clone:i(7)},E={clone:i(83)},D={top:function(P,N){if(P.unit==="%")return Math.floor(N.height*(P.value/100))},right:function(P,N){if(P.unit==="%")return Math.floor(N.width-N.width*(P.value/100))},bottom:function(P,N){if(P.unit==="%")return Math.floor(N.height-N.height*(P.value/100))},left:function(P,N){if(P.unit==="%")return Math.floor(N.width*(P.value/100))}}},function(r,a,i){function n(d,m,f,p){m?this.data=m:f?(this.data=new f(d.x*d.y),f===Array&&p&&u.a.init(this.data,0)):(this.data=new Uint8Array(d.x*d.y),Uint8Array===Array&&p&&u.a.init(this.data,0)),this.size=d}var s=i(53),l=i(19),u=i(3),c={clone:i(7)};n.prototype.inImageWithBorder=function(d,m){return d.x>=m&&d.y>=m&&d.x<this.size.x-m&&d.y<this.size.y-m},n.sample=function(d,m,f){var p=Math.floor(m),g=Math.floor(f),b=d.size.x,x=g*d.size.x+p,_=d.data[x+0],y=d.data[x+1],I=d.data[x+b],S=d.data[x+b+1],O=_-y;return m-=p,f-=g,Math.floor(m*(f*(O-I+S)-O)+f*(I-_)+_)},n.clearArray=function(d){for(var m=d.length;m--;)d[m]=0},n.prototype.subImage=function(d,m){return new s.a(d,m,this)},n.prototype.subImageAsCopy=function(d,m){var f,p,g=d.size.y,b=d.size.x;for(f=0;f<b;f++)for(p=0;p<g;p++)d.data[p*b+f]=this.data[(m.y+p)*this.size.x+m.x+f]},n.prototype.copyTo=function(d){for(var m=this.data.length,f=this.data,p=d.data;m--;)p[m]=f[m]},n.prototype.get=function(d,m){return this.data[m*this.size.x+d]},n.prototype.getSafe=function(d,m){var f;if(!this.indexMapping){for(this.indexMapping={x:[],y:[]},f=0;f<this.size.x;f++)this.indexMapping.x[f]=f,this.indexMapping.x[f+this.size.x]=f;for(f=0;f<this.size.y;f++)this.indexMapping.y[f]=f,this.indexMapping.y[f+this.size.y]=f}return this.data[this.indexMapping.y[m+this.size.y]*this.size.x+this.indexMapping.x[d+this.size.x]]},n.prototype.set=function(d,m,f){return this.data[m*this.size.x+d]=f,this},n.prototype.zeroBorder=function(){var d,m=this.size.x,f=this.size.y,p=this.data;for(d=0;d<m;d++)p[d]=p[(f-1)*m+d]=0;for(d=1;d<f-1;d++)p[d*m]=p[d*m+(m-1)]=0},n.prototype.invert=function(){for(var d=this.data,m=d.length;m--;)d[m]=d[m]?0:1},n.prototype.convolve=function(d){var m,f,p,g,b=d.length/2|0,x=0;for(f=0;f<this.size.y;f++)for(m=0;m<this.size.x;m++){for(x=0,g=-b;g<=b;g++)for(p=-b;p<=b;p++)x+=d[g+b][p+b]*this.getSafe(m+p,f+g);this.data[f*this.size.x+m]=x}},n.prototype.moments=function(d){var m,f,p,g,b,x,_,y,I,S,O,F,M=this.data,E=this.size.y,D=this.size.x,P=[],N=[],R=Math.PI,z=R/4;if(d<=0)return N;for(b=0;b<d;b++)P[b]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(f=0;f<E;f++)for(g=f*f,m=0;m<D;m++)(p=M[f*D+m])>0&&(x=P[p-1],x.m00+=1,x.m01+=f,x.m10+=m,x.m11+=m*f,x.m02+=g,x.m20+=m*m);for(b=0;b<d;b++)x=P[b],isNaN(x.m00)||x.m00===0||(S=x.m10/x.m00,O=x.m01/x.m00,_=x.m11/x.m00-S*O,y=x.m02/x.m00-O*O,I=x.m20/x.m00-S*S,F=(y-I)/(2*_),F=.5*Math.atan(F)+(_>=0?z:-z)+R,x.theta=(180*F/R+90)%180-90,x.theta<0&&(x.theta+=180),x.rad=F>R?F-R:F,x.vec=c.clone([Math.cos(F),Math.sin(F)]),N.push(x));return N},n.prototype.show=function(d,m){var f,p,g,b,x,_,y;for(m||(m=1),f=d.getContext("2d"),d.width=this.size.x,d.height=this.size.y,p=f.getImageData(0,0,d.width,d.height),g=p.data,b=0,y=0;y<this.size.y;y++)for(_=0;_<this.size.x;_++)x=y*this.size.x+_,b=this.get(_,y)*m,g[4*x+0]=b,g[4*x+1]=b,g[4*x+2]=b,g[4*x+3]=255;f.putImageData(p,0,0)},n.prototype.overlay=function(d,m,f){(!m||m<0||m>360)&&(m=360);for(var p=[0,1,1],g=[0,0,0],b=[255,255,255],x=[0,0,0],_=[],y=d.getContext("2d"),I=y.getImageData(f.x,f.y,this.size.x,this.size.y),S=I.data,O=this.data.length;O--;)p[0]=this.data[O]*m,_=p[0]<=0?b:p[0]>=360?x:i.i(l.a)(p,g),S[4*O+0]=_[0],S[4*O+1]=_[1],S[4*O+2]=_[2],S[4*O+3]=255;y.putImageData(I,f.x,f.y)},a.a=n},function(r,a,i){function n(l,u,c){u=="__proto__"&&s?s(l,u,{configurable:!0,enumerable:!0,value:c,writable:!0}):l[u]=c}var s=i(37);r.exports=n},function(r,a,i){function n(u,c){var d=l(u,c);return s(d)?d:void 0}var s=i(97),l=i(120);r.exports=n},function(r,a,i){function n(u){if(typeof u=="string"||s(u))return u;var c=u+"";return c=="0"&&1/u==-l?"-0":c}var s=i(27),l=1/0;r.exports=n},function(r,a,i){function n(u){return u!=null&&l(u.length)&&!s(u)}var s=i(25),l=i(26);r.exports=n},function(r,a,i){function n(f){if(!l(f))return!1;var p=s(f);return p==c||p==d||p==u||p==m}var s=i(8),l=i(0),u="[object AsyncFunction]",c="[object Function]",d="[object GeneratorFunction]",m="[object Proxy]";r.exports=n},function(r,a){function i(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=n}var n=9007199254740991;r.exports=i},function(r,a,i){function n(c){return typeof c=="symbol"||l(c)&&s(c)==u}var s=i(8),l=i(6),u="[object Symbol]";r.exports=n},function(r,a,i){var n=i(100),s=i(116),l=s(function(u,c,d){n(u,c,d)});r.exports=l},function(r,a){r.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(r,a,i){var n={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(s,l){function u(x,_,y,I){var S,O,F;for(S=0;S<7;S++){if(O=x.cy+g[x.dir][0],F=x.cx+g[x.dir][1],m=O*b+F,f[m]===_&&(p[m]===0||p[m]===y))return p[m]=y,x.cy=O,x.cx=F,!0;p[m]===0&&(p[m]=I),x.dir=(x.dir+1)%8}return!1}function c(x,_,y){return{dir:y,x,y:_,next:null,prev:null}}function d(x,_,y,I,S){var O,F,M,E=null,D={cx:_,cy:x,dir:0};if(u(D,I,y,S)){E=c(_,x,D.dir),O=E,M=D.dir,F=c(D.cx,D.cy,0),F.prev=O,O.next=F,F.next=null,O=F;do D.dir=(D.dir+6)%8,u(D,I,y,S),M!==D.dir?(O.dir=D.dir,F=c(D.cx,D.cy,0),F.prev=O,O.next=F,F.next=null,O=F):(O.dir=M,O.x=D.cx,O.y=D.cy),M=D.dir;while(D.cx!==_||D.cy!==x);E.prev=O.prev,O.prev.next=E}return E}var m,f=s.data,p=l.data,g=this.searchDirections,b=s.size.x;return{trace:function(x,_,y,I){return u(x,_,y,I)},contourTracing:function(x,_,y,I,S){return d(x,_,y,I,S)}}}};a.a=n},function(r,a,i){function n(){s.a.call(this)}var s=i(1),l=i(3),u={ALPHABETH_STRING:{value:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,46,32,42,36,47,43,37]},CHARACTER_ENCODINGS:{value:[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]},ASTERISK:{value:148},FORMAT:{value:"code_39",writeable:!1}};n.prototype=Object.create(s.a.prototype,u),n.prototype.constructor=n,n.prototype._decode=function(){var c,d,m,f,p=this,g=[0,0,0,0,0,0,0,0,0],b=[],x=p._findStart();if(!x)return null;f=p._nextSet(p._row,x.end);do{if(g=p._toCounters(f,g),(m=p._toPattern(g))<0||(c=p._patternToChar(m))<0)return null;b.push(c),d=f,f+=l.a.sum(g),f=p._nextSet(p._row,f)}while(c!=="*");return b.pop(),b.length&&p._verifyTrailingWhitespace(d,f,g)?{code:b.join(""),start:x.start,end:f,startInfo:x,decodedCodes:b}:null},n.prototype._verifyTrailingWhitespace=function(c,d,m){var f=l.a.sum(m);return 3*(d-c-f)>=f},n.prototype._patternToChar=function(c){var d,m=this;for(d=0;d<m.CHARACTER_ENCODINGS.length;d++)if(m.CHARACTER_ENCODINGS[d]===c)return String.fromCharCode(m.ALPHABET[d]);return-1},n.prototype._findNextWidth=function(c,d){var m,f=Number.MAX_VALUE;for(m=0;m<c.length;m++)c[m]<f&&c[m]>d&&(f=c[m]);return f},n.prototype._toPattern=function(c){for(var d,m,f=c.length,p=0,g=f,b=0,x=this;g>3;){for(p=x._findNextWidth(c,p),g=0,d=0,m=0;m<f;m++)c[m]>p&&(d|=1<<f-1-m,g++,b+=c[m]);if(g===3){for(m=0;m<f&&g>0;m++)if(c[m]>p&&(g--,2*c[m]>=b))return-1;return d}}return-1},n.prototype._findStart=function(){var c,d,m,f=this,p=f._nextSet(f._row),g=p,b=[0,0,0,0,0,0,0,0,0],x=0,_=!1;for(c=p;c<f._row.length;c++)if(f._row[c]^_)b[x]++;else{if(x===b.length-1){if(f._toPattern(b)===f.ASTERISK&&(m=Math.floor(Math.max(0,g-(c-g)/4)),f._matchRange(m,g,0)))return{start:g,end:c};for(g+=b[0]+b[1],d=0;d<7;d++)b[d]=b[d+2];b[7]=0,b[8]=0,x--}else x++;b[x]=1,_=!_}return null},a.a=n},function(r,a){function i(n,s){return n[0]*s[0]+n[1]*s[1]}r.exports=i},function(r,a,i){var n=i(22),s=i(5),l=n(s,"Map");r.exports=l},function(r,a,i){function n(m){var f=-1,p=m==null?0:m.length;for(this.clear();++f<p;){var g=m[f];this.set(g[0],g[1])}}var s=i(138),l=i(139),u=i(140),c=i(141),d=i(142);n.prototype.clear=s,n.prototype.delete=l,n.prototype.get=u,n.prototype.has=c,n.prototype.set=d,r.exports=n},function(r,a,i){function n(u,c,d){(d===void 0||l(u[c],d))&&(d!==void 0||c in u)||s(u,c,d)}var s=i(21),l=i(17);r.exports=n},function(r,a,i){function n(d,m,f){var p=d[m];c.call(d,m)&&l(p,f)&&(f!==void 0||m in d)||s(d,m,f)}var s=i(21),l=i(17),u=Object.prototype,c=u.hasOwnProperty;r.exports=n},function(r,a,i){var n=i(22),s=function(){try{var l=n(Object,"defineProperty");return l({},"",{}),l}catch{}}();r.exports=s},function(r,a,i){(function(n){var s=typeof n=="object"&&n&&n.Object===Object&&n;r.exports=s}).call(a,i(47))},function(r,a,i){var n=i(147),s=n(Object.getPrototypeOf,Object);r.exports=s},function(r,a){function i(s){var l=s&&s.constructor;return s===(typeof l=="function"&&l.prototype||n)}var n=Object.prototype;r.exports=i},function(r,a,i){function n(u,c,d){return c=l(c===void 0?u.length-1:c,0),function(){for(var m=arguments,f=-1,p=l(m.length-c,0),g=Array(p);++f<p;)g[f]=m[c+f];f=-1;for(var b=Array(c+1);++f<c;)b[f]=m[f];return b[c]=d(g),s(u,this,b)}}var s=i(87),l=Math.max;r.exports=n},function(r,a,i){var n=i(106),s=i(148),l=s(n);r.exports=l},function(r,a){function i(n){return n}r.exports=i},function(r,a,i){(function(n){var s=i(5),l=i(163),u=typeof a=="object"&&a&&!a.nodeType&&a,c=u&&typeof n=="object"&&n&&!n.nodeType&&n,d=c&&c.exports===u,m=d?s.Buffer:void 0,f=m?m.isBuffer:void 0,p=f||l;n.exports=p}).call(a,i(29)(r))},function(r,a,i){var n=i(98),s=i(109),l=i(145),u=l&&l.isTypedArray,c=u?s(u):n;r.exports=c},function(r,a,i){function n(c){return u(c)?s(c,!0):l(c)}var s=i(88),l=i(99),u=i(24);r.exports=n},function(r,a){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}r.exports=i},function(r,a,i){function n(k){m(k),Q=ge.a.create(q.decoder,W)}function s(k){var Y;if(q.inputStream.type==="VideoStream")Y=document.createElement("video"),N=G.a.createVideoStream(Y);else if(q.inputStream.type==="ImageStream")N=G.a.createImageStream();else if(q.inputStream.type==="LiveStream"){var ne=l();ne&&((Y=ne.querySelector("video"))||(Y=document.createElement("video"),ne.appendChild(Y))),N=G.a.createLiveStream(Y),Oe.a.request(Y,q.inputStream.constraints).then(function(){N.trigger("canrecord")}).catch(function(oe){return k(oe)})}N.setAttribute("preload","auto"),N.setInputStream(q.inputStream),N.addEventListener("canrecord",u.bind(void 0,k))}function l(){var k=q.inputStream.target;if(k&&k.nodeName&&k.nodeType===1)return k;var Y=typeof k=="string"?k:"#interactive.viewport";return document.querySelector(Y)}function u(k){ye.a.checkImageConstraints(N,q.locator),d(),R=V.a.create(N,ie.dom.image),P(q.numOfWorkers,function(){q.numOfWorkers===0&&n(),c(k)})}function c(k){N.play(),k()}function d(){if(typeof document!="undefined"){var k=l();if(ie.dom.image=document.querySelector("canvas.imgBuffer"),ie.dom.image||(ie.dom.image=document.createElement("canvas"),ie.dom.image.className="imgBuffer",k&&q.inputStream.type==="ImageStream"&&k.appendChild(ie.dom.image)),ie.ctx.image=ie.dom.image.getContext("2d"),ie.dom.image.width=N.getCanvasSize().x,ie.dom.image.height=N.getCanvasSize().y,ie.dom.overlay=document.querySelector("canvas.drawingBuffer"),!ie.dom.overlay){ie.dom.overlay=document.createElement("canvas"),ie.dom.overlay.className="drawingBuffer",k&&k.appendChild(ie.dom.overlay);var Y=document.createElement("br");Y.setAttribute("clear","all"),k&&k.appendChild(Y)}ie.ctx.overlay=ie.dom.overlay.getContext("2d"),ie.dom.overlay.width=N.getCanvasSize().x,ie.dom.overlay.height=N.getCanvasSize().y}}function m(k){W=k||new re.a({x:N.getWidth(),y:N.getHeight()}),j=[U.clone([0,0]),U.clone([0,W.size.y]),U.clone([W.size.x,W.size.y]),U.clone([W.size.x,0])],ye.a.init(W,q.locator)}function f(){return q.locate?ye.a.locate():[[U.clone(j[0]),U.clone(j[1]),U.clone(j[2]),U.clone(j[3])]]}function p(k){function Y(Le){for(var tt=Le.length;tt--;)Le[tt][0]+=ve,Le[tt][1]+=Fe}function ne(Le){Le[0].x+=ve,Le[0].y+=Fe,Le[1].x+=ve,Le[1].y+=Fe}var oe,Ce=N.getTopRight(),ve=Ce.x,Fe=Ce.y;if(ve!==0||Fe!==0){if(k.barcodes)for(oe=0;oe<k.barcodes.length;oe++)p(k.barcodes[oe]);if(k.line&&k.line.length===2&&ne(k.line),k.box&&Y(k.box),k.boxes&&k.boxes.length>0)for(oe=0;oe<k.boxes.length;oe++)Y(k.boxes[oe])}}function g(k,Y){Y&&se&&(k.barcodes?k.barcodes.filter(function(ne){return ne.codeResult}).forEach(function(ne){return g(ne,Y)}):k.codeResult&&se.addResult(Y,N.getCanvasSize(),k.codeResult))}function b(k){return k&&(k.barcodes?k.barcodes.some(function(Y){return Y.codeResult}):k.codeResult)}function x(k,Y){var ne=k;k&&H&&(p(k),g(k,Y),ne=k.barcodes||k),De.a.publish("processed",ne),b(k)&&De.a.publish("detected",ne)}function _(){var k,Y;Y=f(),Y?(k=Q.decodeFromBoundingBoxes(Y),k=k||{},k.boxes=Y,x(k,W.data)):x()}function y(){var k;if(H){if(we.length>0){if(!(k=we.filter(function(Y){return!Y.busy})[0]))return;R.attachData(k.imageData)}else R.attachData(W.data);R.grab()&&(k?(k.busy=!0,k.worker.postMessage({cmd:"process",imageData:k.imageData},[k.imageData.buffer])):_())}else _()}function I(){var k=null,Y=1e3/(q.frequency||60);z=!1,function ne(oe){k=k||oe,z||(oe>=k&&(k+=Y,y()),window.requestAnimFrame(ne))}(performance.now())}function S(){H&&q.inputStream.type==="LiveStream"?I():y()}function O(k){var Y,ne={worker:void 0,imageData:new Uint8Array(N.getWidth()*N.getHeight()),busy:!0};Y=E(),ne.worker=new Worker(Y),ne.worker.onmessage=function(oe){if(oe.data.event==="initialized")return URL.revokeObjectURL(Y),ne.busy=!1,ne.imageData=new Uint8Array(oe.data.imageData),k(ne);oe.data.event==="processed"?(ne.imageData=new Uint8Array(oe.data.imageData),ne.busy=!1,x(oe.data.result,ne.imageData)):oe.data.event},ne.worker.postMessage({cmd:"init",size:{x:N.getWidth(),y:N.getHeight()},imageData:ne.imageData,config:F(q)},[ne.imageData.buffer])}function F(k){return L({},k,{inputStream:L({},k.inputStream,{target:null})})}function M(k){function Y(ve){self.postMessage({event:"processed",imageData:Ce.data,result:ve},[Ce.data.buffer])}function ne(){self.postMessage({event:"initialized",imageData:Ce.data},[Ce.data.buffer])}if(k){var oe=k().default;if(!oe)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var Ce;self.onmessage=function(ve){if(ve.data.cmd==="init"){var Fe=ve.data.config;Fe.numOfWorkers=0,Ce=new oe.ImageWrapper({x:ve.data.size.x,y:ve.data.size.y},new Uint8Array(ve.data.imageData)),oe.init(Fe,ne,Ce),oe.onProcessed(Y)}else ve.data.cmd==="process"?(Ce.data=new Uint8Array(ve.data.imageData),oe.start()):ve.data.cmd==="setReaders"&&oe.setReaders(ve.data.readers)}}function E(){var k,Y;return o!==void 0&&(Y=o),k=new Blob(["("+M.toString()+")("+Y+");"],{type:"text/javascript"}),window.URL.createObjectURL(k)}function D(k){Q?Q.setReaders(k):H&&we.length>0&&we.forEach(function(Y){Y.worker.postMessage({cmd:"setReaders",readers:k})})}function P(k,Y){var ne=k-we.length;if(ne===0)return Y&&Y();if(ne<0)return we.slice(ne).forEach(function(ve){ve.worker.terminate()}),we=we.slice(0,ne),Y&&Y();for(var oe=function(ve){we.push(ve),we.length>=k&&Y&&Y()},Ce=0;Ce<ne;Ce++)O(oe)}Object.defineProperty(a,"__esModule",{value:!0});var N,R,z,W,j,Q,se,_e=i(28),Ee=i.n(_e),J=i(54),re=(i.n(J),i(20)),ye=i(64),ge=i(57),De=i(51),Oe=i(59),he=i(9),Me=i(49),fe=i(55),G=i(63),V=i(61),L=Object.assign||function(k){for(var Y=1;Y<arguments.length;Y++){var ne=arguments[Y];for(var oe in ne)Object.prototype.hasOwnProperty.call(ne,oe)&&(k[oe]=ne[oe])}return k},U={clone:i(7)},ie={ctx:{image:null,overlay:null},dom:{image:null,overlay:null}},we=[],H=!0,q={};a.default={init:function(k,Y,ne){if(q=Ee()({},fe.a,k),ne)return H=!1,n(ne),Y();s(Y)},start:function(){S()},stop:function(){z=!0,P(0),q.inputStream.type==="LiveStream"&&(Oe.a.release(),N.clearEventHandlers())},pause:function(){z=!0},onDetected:function(k){De.a.subscribe("detected",k)},offDetected:function(k){De.a.unsubscribe("detected",k)},onProcessed:function(k){De.a.subscribe("processed",k)},offProcessed:function(k){De.a.unsubscribe("processed",k)},setReaders:function(k){D(k)},registerResultCollector:function(k){k&&typeof k.addResult=="function"&&(se=k)},canvas:ie,decodeSingle:function(k,Y){var ne=this;k=Ee()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:k.src},numOfWorkers:1,locator:{halfSample:!1}},k),this.init(k,function(){De.a.once("processed",function(oe){ne.stop(),Y.call(null,oe)},!0),S()})},ImageWrapper:re.a,ImageDebug:he.a,ResultCollector:Me.a,CameraAccess:Oe.a}},function(r,a,i){function n(u,c){return!!c&&c.some(function(d){return Object.keys(d).every(function(m){return d[m]===u[m]})})}function s(u,c){return typeof c!="function"||c(u)}var l=i(9);a.a={create:function(u){function c(b){return p&&b&&!n(b,u.blacklist)&&s(b,u.filter)}var d=document.createElement("canvas"),m=d.getContext("2d"),f=[],p=u.capacity||20,g=u.capture===!0;return{addResult:function(b,x,_){var y={};c(_)&&(p--,y.codeResult=_,g&&(d.width=x.x,d.height=x.y,l.a.drawImage(b,x,m),y.frame=d.toDataURL()),f.push(y))},getResults:function(){return f}}}}},function(r,a,i){var n={clone:i(7),dot:i(32)};a.a={create:function(s,l){function u(){c(s),d()}function c(g){p[g.id]=g,m.push(g)}function d(){var g,b=0;for(g=0;g<m.length;g++)b+=m[g].rad;f.rad=b/m.length,f.vec=n.clone([Math.cos(f.rad),Math.sin(f.rad)])}var m=[],f={rad:0,vec:n.clone([0,0])},p={};return u(),{add:function(g){p[g.id]||(c(g),d())},fits:function(g){return Math.abs(n.dot(g.point.vec,f.vec))>l},getPoints:function(){return m},getCenter:function(){return f}}},createPoint:function(s,l,u){return{rad:s[u],point:s,id:l}}}},function(r,a,i){a.a=function(){function n(d){return c[d]||(c[d]={subscribers:[]}),c[d]}function s(){c={}}function l(d,m){d.async?setTimeout(function(){d.callback(m)},4):d.callback(m)}function u(d,m,f){var p;if(typeof m=="function")p={callback:m,async:f};else if(p=m,!p.callback)throw"Callback was not specified on options";n(d).subscribers.push(p)}var c={};return{subscribe:function(d,m,f){return u(d,m,f)},publish:function(d,m){var f=n(d),p=f.subscribers;p.filter(function(g){return!!g.once}).forEach(function(g){l(g,m)}),f.subscribers=p.filter(function(g){return!g.once}),f.subscribers.forEach(function(g){l(g,m)})},once:function(d,m,f){u(d,{callback:m,async:f,once:!0})},unsubscribe:function(d,m){var f;d?(f=n(d),f.subscribers=f&&m?f.subscribers.filter(function(p){return p.callback!==m}):[]):s()}}}()},function(r,a,i){function n(){return navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices=="function"?navigator.mediaDevices.enumerateDevices():Promise.reject(new Error("enumerateDevices is not defined"))}function s(l){return navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"?navigator.mediaDevices.getUserMedia(l):Promise.reject(new Error("getUserMedia is not defined"))}a.b=n,a.a=s},function(r,a,i){function n(s,l,u){u||(u={data:null,size:l}),this.data=u.data,this.originalSize=u.size,this.I=u,this.from=s,this.size=l}n.prototype.show=function(s,l){var u,c,d,m,f,p,g;for(l||(l=1),u=s.getContext("2d"),s.width=this.size.x,s.height=this.size.y,c=u.getImageData(0,0,s.width,s.height),d=c.data,m=0,f=0;f<this.size.y;f++)for(p=0;p<this.size.x;p++)g=f*this.size.x+p,m=this.get(p,f)*l,d[4*g+0]=m,d[4*g+1]=m,d[4*g+2]=m,d[4*g+3]=255;c.data=d,u.putImageData(c,0,0)},n.prototype.get=function(s,l){return this.data[(this.from.y+l)*this.originalSize.x+this.from.x+s]},n.prototype.updateData=function(s){this.originalSize=s.size,this.data=s.data},n.prototype.updateFrom=function(s){return this.from=s,this},a.a=n},function(r,a){typeof window!="undefined"&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){window.setTimeout(i,1e3/60)}}()),Math.imul=Math.imul||function(i,n){var s=i>>>16&65535,l=65535&i,u=n>>>16&65535,c=65535&n;return l*c+(s*c+l*u<<16>>>0)|0},typeof Object.assign!="function"&&(Object.assign=function(i){if(i===null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(i),s=1;s<arguments.length;s++){var l=arguments[s];if(l!==null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(n[u]=l[u])}return n})},function(r,a,i){var n=void 0;n=i(56),a.a=n},function(r,a){r.exports={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}}},function(r,a,i){var n=i(58),s=(i(9),i(69)),l=i(4),u=i(31),c=i(70),d=i(68),m=i(77),f=i(74),p=i(72),g=i(73),b=i(76),x=i(75),_=i(67),y=i(71),I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},S={code_128_reader:s.a,ean_reader:l.a,ean_5_reader:g.a,ean_2_reader:p.a,ean_8_reader:f.a,code_39_reader:u.a,code_39_vin_reader:c.a,codabar_reader:d.a,upc_reader:m.a,upc_e_reader:b.a,i2of5_reader:x.a,"2of5_reader":_.a,code_93_reader:y.a};a.a={create:function(O,F){function M(){O.readers.forEach(function(j){var Q,se={},_e=[];(j===void 0?"undefined":I(j))==="object"?(Q=j.format,se=j.config):typeof j=="string"&&(Q=j),se.supplements&&(_e=se.supplements.map(function(Ee){return new S[Ee]})),W.push(new S[Q](se,_e))})}function E(j,Q,se){function _e(Ee){var J={y:Ee*Math.sin(Q),x:Ee*Math.cos(Q)};j[0].y-=J.y,j[0].x-=J.x,j[1].y+=J.y,j[1].x+=J.x}for(_e(se);se>1&&(!F.inImageWithBorder(j[0],0)||!F.inImageWithBorder(j[1],0));)se-=Math.ceil(se/2),_e(-se);return j}function D(j){return[{x:(j[1][0]-j[0][0])/2+j[0][0],y:(j[1][1]-j[0][1])/2+j[0][1]},{x:(j[3][0]-j[2][0])/2+j[2][0],y:(j[3][1]-j[2][1])/2+j[2][1]}]}function P(j){var Q,se=null,_e=n.a.getBarcodeLine(F,j[0],j[1]);for(n.a.toBinaryLine(_e),Q=0;Q<W.length&&se===null;Q++)se=W[Q].decodePattern(_e.line);return se===null?null:{codeResult:se,barcodeLine:_e}}function N(j,Q,se){var _e,Ee,J,re=Math.sqrt(Math.pow(j[1][0]-j[0][0],2)+Math.pow(j[1][1]-j[0][1],2)),ye=16,ge=null,De=Math.sin(se),Oe=Math.cos(se);for(_e=1;_e<ye&&ge===null;_e++)Ee=re/ye*_e*(_e%2==0?-1:1),J={y:Ee*De,x:Ee*Oe},Q[0].y+=J.x,Q[0].x-=J.y,Q[1].y+=J.x,Q[1].x-=J.y,ge=P(Q);return ge}function R(j){return Math.sqrt(Math.pow(Math.abs(j[1].y-j[0].y),2)+Math.pow(Math.abs(j[1].x-j[0].x),2))}function z(j){var Q,se,_e,Ee;return Q=D(j),Ee=R(Q),se=Math.atan2(Q[1].y-Q[0].y,Q[1].x-Q[0].x),(Q=E(Q,se,Math.floor(.1*Ee)))===null?null:(_e=P(Q),_e===null&&(_e=N(j,Q,se)),_e===null?null:{codeResult:_e.codeResult,line:Q,angle:se,pattern:_e.barcodeLine.line,threshold:_e.barcodeLine.threshold})}var W=[];return M(),{decodeFromBoundingBox:function(j){return z(j)},decodeFromBoundingBoxes:function(j){var Q,se,_e=[],Ee=O.multiple;for(Q=0;Q<j.length;Q++){var J=j[Q];if(se=z(J)||{},se.box=J,Ee)_e.push(se);else if(se.codeResult)return se}if(Ee)return{barcodes:_e}},setReaders:function(j){O.readers=j,W.length=0,M()}}}}},function(r,a,i){var n=(i(20),{}),s={DIR:{UP:1,DOWN:-1}};n.getBarcodeLine=function(l,u,c){function d(z,W){y=D[W*P+z],N=y<N?y:N,R=y>R?y:R,E.push(y)}var m,f,p,g,b,x,_,y,I=0|u.x,S=0|u.y,O=0|c.x,F=0|c.y,M=Math.abs(F-S)>Math.abs(O-I),E=[],D=l.data,P=l.size.x,N=255,R=0;for(M&&(x=I,I=S,S=x,x=O,O=F,F=x),I>O&&(x=I,I=O,O=x,x=S,S=F,F=x),m=O-I,f=Math.abs(F-S),p=m/2|0,b=S,g=S<F?1:-1,_=I;_<O;_++)M?d(b,_):d(_,b),(p-=f)<0&&(b+=g,p+=m);return{line:E,min:N,max:R}},n.toBinaryLine=function(l){var u,c,d,m,f,p,g=l.min,b=l.max,x=l.line,_=g+(b-g)/2,y=[],I=(b-g)/12,S=-I;for(d=x[0]>_?s.DIR.UP:s.DIR.DOWN,y.push({pos:0,val:x[0]}),f=0;f<x.length-2;f++)u=x[f+1]-x[f],c=x[f+2]-x[f+1],m=u+c<S&&x[f+1]<1.5*_?s.DIR.DOWN:u+c>I&&x[f+1]>.5*_?s.DIR.UP:d,d!==m&&(y.push({pos:f,val:x[f]}),d=m);for(y.push({pos:x.length,val:x[x.length-1]}),p=y[0].pos;p<y[1].pos;p++)x[p]=x[p]>_?0:1;for(f=1;f<y.length-1;f++)for(I=y[f+1].val>y[f].val?y[f].val+(y[f+1].val-y[f].val)/3*2|0:y[f+1].val+(y[f].val-y[f+1].val)/3|0,p=y[f].pos;p<y[f+1].pos;p++)x[p]=x[p]>I?0:1;return{line:x,threshold:I}},n.debug={printFrequency:function(l,u){var c,d=u.getContext("2d");for(u.width=l.length,u.height=256,d.beginPath(),d.strokeStyle="blue",c=0;c<l.length;c++)d.moveTo(c,255),d.lineTo(c,255-l[c]);d.stroke(),d.closePath()},printPattern:function(l,u){var c,d=u.getContext("2d");for(u.width=l.length,d.fillColor="black",c=0;c<l.length;c++)l[c]===1&&d.fillRect(c,0,1,100)}},a.a=n},function(r,a,i){function n(b){return new Promise(function(x,_){function y(){I>0?b.videoWidth>10&&b.videoHeight>10?x():window.setTimeout(y,500):_("Unable to play video stream. Is webcam working?"),I--}var I=10;y()})}function s(b,x){return i.i(g.a)(x).then(function(_){return new Promise(function(y){m=_,b.setAttribute("autoplay",!0),b.setAttribute("muted",!0),b.setAttribute("playsinline",!0),b.srcObject=_,b.addEventListener("loadedmetadata",function(){b.play(),y()})})}).then(n.bind(null,b))}function l(b){var x=p()(b,["width","height","facingMode","aspectRatio","deviceId"]);return b.minAspectRatio!==void 0&&b.minAspectRatio>0&&(x.aspectRatio=b.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),b.facing!==void 0&&(x.facingMode=b.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),x}function u(b){var x={audio:!1,video:l(b)};return x.video.deviceId&&x.video.facingMode&&delete x.video.facingMode,Promise.resolve(x)}function c(){return i.i(g.b)().then(function(b){return b.filter(function(x){return x.kind==="videoinput"})})}function d(){if(m){var b=m.getVideoTracks();if(b&&b.length)return b[0]}}var m,f=i(162),p=i.n(f),g=i(52);a.a={request:function(b,x){return u(x).then(s.bind(null,b))},release:function(){var b=m&&m.getVideoTracks();b&&b.length&&b[0].stop(),m=null},enumerateVideoDevices:c,getActiveStreamLabel:function(){var b=d();return b?b.label:""},getActiveTrack:d}},function(r,a,i){function n(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;return/^blob\:/i.test(b)?l(b).then(s).then(function(_){return u(_,x)}):Promise.resolve(null)}function s(b){return new Promise(function(x){var _=new FileReader;_.onload=function(y){return x(y.target.result)},_.readAsArrayBuffer(b)})}function l(b){return new Promise(function(x,_){var y=new XMLHttpRequest;y.open("GET",b,!0),y.responseType="blob",y.onreadystatechange=function(){y.readyState!==XMLHttpRequest.DONE||y.status!==200&&y.status!==0||x(this.response)},y.onerror=_,y.send()})}function u(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g,_=new DataView(b),y=b.byteLength,I=x.reduce(function(O,F){var M=Object.keys(p).filter(function(E){return p[E]===F})[0];return M&&(O[M]=F),O},{}),S=2;if(_.getUint8(0)!==255||_.getUint8(1)!==216)return!1;for(;S<y;){if(_.getUint8(S)!==255)return!1;if(_.getUint8(S+1)===225)return c(_,S+4,I);S+=2+_.getUint16(S+2)}}function c(b,x,_){if(f(b,x,4)!=="Exif")return!1;var y=x+6,I=void 0;if(b.getUint16(y)===18761)I=!1;else{if(b.getUint16(y)!==19789)return!1;I=!0}if(b.getUint16(y+2,!I)!==42)return!1;var S=b.getUint32(y+4,!I);return!(S<8)&&d(b,y,y+S,_,I)}function d(b,x,_,y,I){for(var S=b.getUint16(_,!I),O={},F=0;F<S;F++){var M=_+12*F+2,E=y[b.getUint16(M,!I)];E&&(O[E]=m(b,M,x,_,I))}return O}function m(b,x,_,y,I){var S=b.getUint16(x+2,!I),O=b.getUint32(x+4,!I);switch(S){case 3:if(O===1)return b.getUint16(x+8,!I)}}function f(b,x,_){for(var y="",I=x;I<x+_;I++)y+=String.fromCharCode(b.getUint8(I));return y}a.a=n;var p={274:"orientation"},g=Object.keys(p).map(function(b){return p[b]})},function(r,a,i){function n(c,d){c.width!==d.x&&(c.width=d.x),c.height!==d.y&&(c.height=d.y)}var s=i(19),l=Math.PI/180,u={};u.create=function(c,d){var m,f={},p=c.getConfig(),g=(i.i(s.b)(c.getRealWidth(),c.getRealHeight()),c.getCanvasSize()),b=i.i(s.b)(c.getWidth(),c.getHeight()),x=c.getTopRight(),_=x.x,y=x.y,I=null,S=null;return m=d||document.createElement("canvas"),m.width=g.x,m.height=g.y,I=m.getContext("2d"),S=new Uint8Array(b.x*b.y),f.attachData=function(O){S=O},f.getData=function(){return S},f.grab=function(){var O,F=p.halfSample,M=c.getFrame(),E=M,D=0;if(E){if(n(m,g),p.type==="ImageStream"&&(E=M.img,M.tags&&M.tags.orientation))switch(M.tags.orientation){case 6:D=90*l;break;case 8:D=-90*l}return D!==0?(I.translate(g.x/2,g.y/2),I.rotate(D),I.drawImage(E,-g.y/2,-g.x/2,g.y,g.x),I.rotate(-D),I.translate(-g.x/2,-g.y/2)):I.drawImage(E,0,0,g.x,g.y),O=I.getImageData(_,y,b.x,b.y).data,F?i.i(s.c)(O,b,S):i.i(s.d)(O,S,p),!0}return!1},f.getSize=function(){return b},f},a.a=u},function(r,a,i){function n(u,c){u.onload=function(){c.loaded(this)}}var s=i(60),l={};l.load=function(u,c,d,m,f){var p,g,b,x=new Array(m),_=new Array(x.length);if(f===!1)x[0]=u;else for(p=0;p<x.length;p++)b=d+p,x[p]=u+"image-"+("00"+b).slice(-3)+".jpg";for(_.notLoaded=[],_.addImage=function(y){_.notLoaded.push(y)},_.loaded=function(y){for(var I=_.notLoaded,S=0;S<I.length;S++)if(I[S]===y){I.splice(S,1);for(var O=0;O<x.length;O++){var F=x[O].substr(x[O].lastIndexOf("/"));if(y.src.lastIndexOf(F)!==-1){_[O]={img:y};break}}break}I.length===0&&(f===!1?i.i(s.a)(u,["orientation"]).then(function(M){_[0].tags=M,c(_)}).catch(function(M){console.log(M),c(_)}):c(_))},p=0;p<x.length;p++)g=new Image,_.addImage(g),n(g,_),g.src=x[p]},a.a=l},function(r,a,i){var n=i(62),s={};s.createVideoStream=function(l){function u(){var _=l.videoWidth,y=l.videoHeight;c=f.size?_/y>1?f.size:Math.floor(_/y*f.size):_,d=f.size?_/y>1?Math.floor(y/_*f.size):f.size:y,x.x=c,x.y=d}var c,d,m={},f=null,p=["canrecord","ended"],g={},b={x:0,y:0},x={x:0,y:0};return m.getRealWidth=function(){return l.videoWidth},m.getRealHeight=function(){return l.videoHeight},m.getWidth=function(){return c},m.getHeight=function(){return d},m.setWidth=function(_){c=_},m.setHeight=function(_){d=_},m.setInputStream=function(_){f=_,l.src=_.src!==void 0?_.src:""},m.ended=function(){return l.ended},m.getConfig=function(){return f},m.setAttribute=function(_,y){l.setAttribute(_,y)},m.pause=function(){l.pause()},m.play=function(){l.play()},m.setCurrentTime=function(_){f.type!=="LiveStream"&&(l.currentTime=_)},m.addEventListener=function(_,y,I){p.indexOf(_)!==-1?(g[_]||(g[_]=[]),g[_].push(y)):l.addEventListener(_,y,I)},m.clearEventHandlers=function(){p.forEach(function(_){var y=g[_];y&&y.length>0&&y.forEach(function(I){l.removeEventListener(_,I)})})},m.trigger=function(_,y){var I,S=g[_];if(_==="canrecord"&&u(),S&&S.length>0)for(I=0;I<S.length;I++)S[I].apply(m,y)},m.setTopRight=function(_){b.x=_.x,b.y=_.y},m.getTopRight=function(){return b},m.setCanvasSize=function(_){x.x=_.x,x.y=_.y},m.getCanvasSize=function(){return x},m.getFrame=function(){return l},m},s.createLiveStream=function(l){l.setAttribute("autoplay",!0);var u=s.createVideoStream(l);return u.ended=function(){return!1},u},s.createImageStream=function(){function l(){_=!1,n.a.load(O,function(N){if(y=N,N[0].tags&&N[0].tags.orientation)switch(N[0].tags.orientation){case 6:case 8:p=N[0].img.height,g=N[0].img.width;break;default:p=N[0].img.width,g=N[0].img.height}else p=N[0].img.width,g=N[0].img.height;c=f.size?p/g>1?f.size:Math.floor(p/g*f.size):p,d=f.size?p/g>1?Math.floor(g/p*f.size):f.size:g,P.x=c,P.y=d,_=!0,b=0,setTimeout(function(){u("canrecord",[])},0)},S,I,f.sequence)}function u(N,R){var z,W=E[N];if(W&&W.length>0)for(z=0;z<W.length;z++)W[z].apply(m,R)}var c,d,m={},f=null,p=0,g=0,b=0,x=!0,_=!1,y=null,I=0,S=1,O=null,F=!1,M=["canrecord","ended"],E={},D={x:0,y:0},P={x:0,y:0};return m.trigger=u,m.getWidth=function(){return c},m.getHeight=function(){return d},m.setWidth=function(N){c=N},m.setHeight=function(N){d=N},m.getRealWidth=function(){return p},m.getRealHeight=function(){return g},m.setInputStream=function(N){f=N,N.sequence===!1?(O=N.src,I=1):(O=N.src,I=N.length),l()},m.ended=function(){return F},m.setAttribute=function(){},m.getConfig=function(){return f},m.pause=function(){x=!0},m.play=function(){x=!1},m.setCurrentTime=function(N){b=N},m.addEventListener=function(N,R){M.indexOf(N)!==-1&&(E[N]||(E[N]=[]),E[N].push(R))},m.setTopRight=function(N){D.x=N.x,D.y=N.y},m.getTopRight=function(){return D},m.setCanvasSize=function(N){P.x=N.x,P.y=N.y},m.getCanvasSize=function(){return P},m.getFrame=function(){var N;return _?(x||(N=y[b],b<I-1?b++:setTimeout(function(){F=!0,u("ended",[])},0)),N):null},m},a.a=s},function(r,a,i){(function(n){function s(){var ge;y=_.halfSample?new z.a({x:N.size.x/2|0,y:N.size.y/2|0}):N,P=i.i(W.e)(_.patchSize,y.size),ye.x=y.size.x/P.x|0,ye.y=y.size.y/P.y|0,D=new z.a(y.size,void 0,Uint8Array,!1),O=new z.a(P,void 0,Array,!0),ge=new ArrayBuffer(65536),S=new z.a(P,new Uint8Array(ge,0,P.x*P.y)),I=new z.a(P,new Uint8Array(ge,P.x*P.y*3,P.x*P.y),void 0,!0),R=i.i(_e.a)(typeof window!="undefined"?window:typeof self!="undefined"?self:n,{size:P.x},ge),E=new z.a({x:y.size.x/S.size.x|0,y:y.size.y/S.size.y|0},void 0,Array,!0),F=new z.a(E.size,void 0,void 0,!0),M=new z.a(E.size,void 0,Int32Array,!0)}function l(){_.useWorker||typeof document=="undefined"||(re.dom.binary=document.createElement("canvas"),re.dom.binary.className="binaryBuffer",re.ctx.binary=re.dom.binary.getContext("2d"),re.dom.binary.width=D.size.x,re.dom.binary.height=D.size.y)}function u(ge){var De,Oe,he,Me,fe,G,V,L=D.size.x,U=D.size.y,ie=-D.size.x,we=-D.size.y;for(De=0,Oe=0;Oe<ge.length;Oe++)Me=ge[Oe],De+=Me.rad;for(De/=ge.length,De=(180*De/Math.PI+90)%180-90,De<0&&(De+=180),De=(180-De)*Math.PI/180,fe=J.copy(J.create(),[Math.cos(De),Math.sin(De),-Math.sin(De),Math.cos(De)]),Oe=0;Oe<ge.length;Oe++)for(Me=ge[Oe],he=0;he<4;he++)Ee.transformMat2(Me.box[he],Me.box[he],fe);for(Oe=0;Oe<ge.length;Oe++)for(Me=ge[Oe],he=0;he<4;he++)Me.box[he][0]<L&&(L=Me.box[he][0]),Me.box[he][0]>ie&&(ie=Me.box[he][0]),Me.box[he][1]<U&&(U=Me.box[he][1]),Me.box[he][1]>we&&(we=Me.box[he][1]);for(G=[[L,U],[ie,U],[ie,we],[L,we]],V=_.halfSample?2:1,fe=J.invert(fe,fe),he=0;he<4;he++)Ee.transformMat2(G[he],G[he],fe);for(he=0;he<4;he++)Ee.scale(G[he],G[he],V);return G}function c(){i.i(W.f)(y,D),D.zeroBorder()}function d(){var ge,De,Oe,he,Me,fe,G,V=[];for(ge=0;ge<ye.x;ge++)for(De=0;De<ye.y;De++)Oe=S.size.x*ge,he=S.size.y*De,g(Oe,he),I.zeroBorder(),j.a.init(O.data,0),fe=Q.a.create(I,O),G=fe.rasterize(0),Me=O.moments(G.count),V=V.concat(b(Me,[ge,De],Oe,he));return V}function m(ge){var De,Oe,he=[];for(De=0;De<ge;De++)he.push(0);for(Oe=M.data.length;Oe--;)M.data[Oe]>0&&he[M.data[Oe]-1]++;return he=he.map(function(Me,fe){return{val:Me,label:fe+1}}),he.sort(function(Me,fe){return fe.val-Me.val}),he.filter(function(Me){return Me.val>=5})}function f(ge,De){var Oe,he,Me,fe,G=[],V=[];for(Oe=0;Oe<ge.length;Oe++){for(he=M.data.length,G.length=0;he--;)M.data[he]===ge[Oe].label&&(Me=E.data[he],G.push(Me));fe=u(G),fe&&V.push(fe)}return V}function p(ge){var De=i.i(W.g)(ge,.9),Oe=i.i(W.h)(De,1,function(G){return G.getPoints().length}),he=[],Me=[];if(Oe.length===1){he=Oe[0].item.getPoints();for(var fe=0;fe<he.length;fe++)Me.push(he[fe].point)}return Me}function g(ge,De){D.subImageAsCopy(S,i.i(W.b)(ge,De)),R.skeletonize()}function b(ge,De,Oe,he){var Me,fe,G,V,L=[],U=[],ie=Math.ceil(P.x/3);if(ge.length>=2){for(Me=0;Me<ge.length;Me++)ge[Me].m00>ie&&L.push(ge[Me]);if(L.length>=2){for(G=p(L),fe=0,Me=0;Me<G.length;Me++)fe+=G[Me].rad;G.length>1&&G.length>=L.length/4*3&&G.length>ge.length/4&&(fe/=G.length,V={index:De[1]*ye.x+De[0],pos:{x:Oe,y:he},box:[Ee.clone([Oe,he]),Ee.clone([Oe+S.size.x,he]),Ee.clone([Oe+S.size.x,he+S.size.y]),Ee.clone([Oe,he+S.size.y])],moments:G,rad:fe,vec:Ee.clone([Math.cos(fe),Math.sin(fe)])},U.push(V))}}return U}function x(ge){function De(){var L;for(L=0;L<M.data.length;L++)if(M.data[L]===0&&F.data[L]===1)return L;return M.length}function Oe(L){var U,ie,we,H,q,k={x:L%M.size.x,y:L/M.size.x|0};if(L<M.data.length)for(we=E.data[L],M.data[L]=fe,q=0;q<se.a.searchDirections.length;q++)ie=k.y+se.a.searchDirections[q][0],U=k.x+se.a.searchDirections[q][1],H=ie*M.size.x+U,F.data[H]!==0?M.data[H]===0&&Math.abs(Ee.dot(E.data[H].vec,we.vec))>G&&Oe(H):M.data[H]=Number.MAX_VALUE}var he,Me,fe=0,G=.95,V=0;for(j.a.init(F.data,0),j.a.init(M.data,0),j.a.init(E.data,null),he=0;he<ge.length;he++)Me=ge[he],E.data[Me.index]=Me,F.data[Me.index]=1;for(F.zeroBorder();(V=De())<M.data.length;)fe++,Oe(V);return fe}var _,y,I,S,O,F,M,E,D,P,N,R,z=i(20),W=i(19),j=i(3),Q=(i(9),i(65)),se=i(30),_e=i(66),Ee={clone:i(7),dot:i(32),scale:i(81),transformMat2:i(82)},J={copy:i(78),create:i(79),invert:i(80)},re={ctx:{binary:null},dom:{binary:null}},ye={x:0,y:0};a.a={init:function(ge,De){_=De,N=ge,s(),l()},locate:function(){var ge,De;if(_.halfSample&&i.i(W.i)(N,y),c(),ge=d(),ge.length<ye.x*ye.y*.05)return null;var Oe=x(ge);return Oe<1?null:(De=m(Oe),De.length===0?null:f(De))},checkImageConstraints:function(ge,De){var Oe,he,Me,fe=ge.getWidth(),G=ge.getHeight(),V=De.halfSample?.5:1;if(ge.getConfig().area&&(Me=i.i(W.j)(fe,G,ge.getConfig().area),ge.setTopRight({x:Me.sx,y:Me.sy}),ge.setCanvasSize({x:fe,y:G}),fe=Me.sw,G=Me.sh),he={x:Math.floor(fe*V),y:Math.floor(G*V)},Oe=i.i(W.e)(De.patchSize,he),ge.setWidth(Math.floor(Math.floor(he.x/Oe.x)*(1/V)*Oe.x)),ge.setHeight(Math.floor(Math.floor(he.y/Oe.y)*(1/V)*Oe.y)),ge.getWidth()%Oe.x==0&&ge.getHeight()%Oe.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width ("+fe+" )and height ("+G+") must a multiple of "+Oe.x)}}}).call(a,i(47))},function(r,a,i){var n=i(30),s={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(l,u){var c=l.data,d=u.data,m=l.size.x,f=l.size.y,p=n.a.create(l,u);return{rasterize:function(g){var b,x,_,y,I,S,O,F,M,E,D,P,N=[],R=0;for(P=0;P<400;P++)N[P]=0;for(N[0]=c[0],M=null,S=1;S<f-1;S++)for(y=0,x=N[0],I=1;I<m-1;I++)if(D=S*m+I,d[D]===0)if((b=c[D])!==x){if(y===0)_=R+1,N[_]=b,x=b,(O=p.contourTracing(S,I,_,b,s.DIR.OUTSIDE_EDGE))!==null&&(R++,y=_,F=s.createContour2D(),F.dir=s.CONTOUR_DIR.CW_DIR,F.index=y,F.firstVertex=O,F.nextpeer=M,F.insideContours=null,M!==null&&(M.prevpeer=F),M=F);else if((O=p.contourTracing(S,I,s.DIR.INSIDE_EDGE,b,y))!==null){for(F=s.createContour2D(),F.firstVertex=O,F.insideContours=null,F.dir=g===0?s.CONTOUR_DIR.CCW_DIR:s.CONTOUR_DIR.CW_DIR,F.index=g,E=M;E!==null&&E.index!==y;)E=E.nextpeer;E!==null&&(F.nextpeer=E.insideContours,E.insideContours!==null&&(E.insideContours.prevpeer=F),E.insideContours=F)}}else d[D]=y;else d[D]===s.DIR.OUTSIDE_EDGE||d[D]===s.DIR.INSIDE_EDGE?(y=0,x=d[D]===s.DIR.INSIDE_EDGE?c[D]:N[0]):(y=d[D],x=N[y]);for(E=M;E!==null;)E.index=g,E=E.nextpeer;return{cc:M,count:R}},debug:{drawContour:function(g,b){var x,_,y,I=g.getContext("2d"),S=b;for(I.strokeStyle="red",I.fillStyle="red",I.lineWidth=1,x=S!==null?S.insideContours:null;S!==null;){switch(x!==null?(_=x,x=x.nextpeer):(_=S,S=S.nextpeer,x=S!==null?S.insideContours:null),_.dir){case s.CONTOUR_DIR.CW_DIR:I.strokeStyle="red";break;case s.CONTOUR_DIR.CCW_DIR:I.strokeStyle="blue";break;case s.CONTOUR_DIR.UNKNOWN_DIR:I.strokeStyle="green"}y=_.firstVertex,I.beginPath(),I.moveTo(y.x,y.y);do y=y.next,I.lineTo(y.x,y.y);while(y!==_.firstVertex);I.stroke()}}}}}};a.a=s},function(r,a,i){function n(s,l,u){var c=new s.Uint8Array(u),d=l.size|0,m=s.Math.imul;function f(O,F){O=O|0,F=F|0;var M=0,E=0,D=0,P=0,N=0,R=0,z=0,W=0;for(M=1;(M|0)<(d-1|0);M=M+1|0)for(W=W+d|0,E=1;(E|0)<(d-1|0);E=E+1|0)P=W-d|0,N=W+d|0,R=E-1|0,z=E+1|0,D=(c[O+P+R|0]|0)+(c[O+P+z|0]|0)+(c[O+W+E|0]|0)+(c[O+N+R|0]|0)+(c[O+N+z|0]|0)|0,(D|0)==5?c[F+W+E|0]=1:c[F+W+E|0]=0}function p(O,F,M){O=O|0,F=F|0,M=M|0;var E=0;for(E=m(d,d)|0;(E|0)>0;)E=E-1|0,c[M+E|0]=(c[O+E|0]|0)-(c[F+E|0]|0)|0}function g(O,F,M){O=O|0,F=F|0,M=M|0;var E=0;for(E=m(d,d)|0;(E|0)>0;)E=E-1|0,c[M+E|0]=c[O+E|0]|0|(c[F+E|0]|0)|0}function b(O){O=O|0;var F=0,M=0;for(M=m(d,d)|0;(M|0)>0;)M=M-1|0,F=(F|0)+(c[O+M|0]|0)|0;return F|0}function x(O,F){O=O|0,F=F|0;var M=0;for(M=m(d,d)|0;(M|0)>0;)M=M-1|0,c[O+M|0]=F}function _(O,F){O=O|0,F=F|0;var M=0,E=0,D=0,P=0,N=0,R=0,z=0,W=0;for(M=1;(M|0)<(d-1|0);M=M+1|0)for(W=W+d|0,E=1;(E|0)<(d-1|0);E=E+1|0)P=W-d|0,N=W+d|0,R=E-1|0,z=E+1|0,D=(c[O+P+R|0]|0)+(c[O+P+z|0]|0)+(c[O+W+E|0]|0)+(c[O+N+R|0]|0)+(c[O+N+z|0]|0)|0,(D|0)>0?c[F+W+E|0]=1:c[F+W+E|0]=0}function y(O,F){O=O|0,F=F|0;var M=0;for(M=m(d,d)|0;(M|0)>0;)M=M-1|0,c[F+M|0]=c[O+M|0]|0}function I(O){O=O|0;var F=0,M=0;for(F=0;(F|0)<(d-1|0);F=F+1|0)c[O+F|0]=0,c[O+M|0]=0,M=M+d-1|0,c[O+M|0]=0,M=M+1|0;for(F=0;(F|0)<(d|0);F=F+1|0)c[O+M|0]=0,M=M+1|0}function S(){var O=0,F=0,M=0,E=0,D=0,P=0;F=m(d,d)|0,M=F+F|0,E=M+F|0,x(E,0),I(O);do f(O,F),_(F,M),p(O,M,M),g(E,M,E),y(F,O),D=b(O)|0,P=(D|0)==0|0;while(!P)}return{skeletonize:S}}a.a=n},function(r,a,i){function n(m){s.a.call(this,m),this.barSpaceRatio=[1,1]}var s=i(1),l=1,u=3,c={START_PATTERN:{value:[u,l,u,l,l,l]},STOP_PATTERN:{value:[u,l,l,l,u]},CODE_PATTERN:{value:[[l,l,u,u,l],[u,l,l,l,u],[l,u,l,l,u],[u,u,l,l,l],[l,l,u,l,u],[u,l,u,l,l],[l,u,u,l,l],[l,l,l,u,u],[u,l,l,u,l],[l,u,l,u,l]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.3,writable:!0},FORMAT:{value:"2of5"}},d=c.START_PATTERN.value.reduce(function(m,f){return m+f},0);n.prototype=Object.create(s.a.prototype,c),n.prototype.constructor=n,n.prototype._findPattern=function(m,f,p,g){var b,x,_,y,I=[],S=this,O=0,F={error:Number.MAX_VALUE,code:-1,start:0,end:0},M=S.AVG_CODE_ERROR;for(p=p||!1,g=g||!1,f||(f=S._nextSet(S._row)),b=0;b<m.length;b++)I[b]=0;for(b=f;b<S._row.length;b++)if(S._row[b]^p)I[O]++;else{if(O===I.length-1){for(y=0,_=0;_<I.length;_++)y+=I[_];if((x=S._matchPattern(I,m))<M)return F.error=x,F.start=b-y,F.end=b,F;if(!g)return null;for(_=0;_<I.length-2;_++)I[_]=I[_+2];I[I.length-2]=0,I[I.length-1]=0,O--}else O++;I[O]=1,p=!p}return null},n.prototype._findStart=function(){for(var m,f,p=this,g=p._nextSet(p._row),b=1;!f;){if(!(f=p._findPattern(p.START_PATTERN,g,!1,!0)))return null;if(b=Math.floor((f.end-f.start)/d),(m=f.start-5*b)>=0&&p._matchRange(m,f.start,0))return f;g=f.end,f=null}},n.prototype._verifyTrailingWhitespace=function(m){var f,p=this;return f=m.end+(m.end-m.start)/2,f<p._row.length&&p._matchRange(m.end,f,0)?m:null},n.prototype._findEnd=function(){var m,f,p,g=this;return g._row.reverse(),p=g._nextSet(g._row),m=g._findPattern(g.STOP_PATTERN,p,!1,!0),g._row.reverse(),m===null?null:(f=m.start,m.start=g._row.length-m.end,m.end=g._row.length-f,m!==null?g._verifyTrailingWhitespace(m):null)},n.prototype._decodeCode=function(m){var f,p,g,b=this,x=0,_=b.AVG_CODE_ERROR,y={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(f=0;f<m.length;f++)x+=m[f];for(g=0;g<b.CODE_PATTERN.length;g++)(p=b._matchPattern(m,b.CODE_PATTERN[g]))<y.error&&(y.code=g,y.error=p);if(y.error<_)return y},n.prototype._decodePayload=function(m,f,p){for(var g,b,x=this,_=0,y=m.length,I=[0,0,0,0,0];_<y;){for(g=0;g<5;g++)I[g]=m[_]*this.barSpaceRatio[0],_+=2;if(!(b=x._decodeCode(I)))return null;f.push(b.code+""),p.push(b)}return b},n.prototype._verifyCounterLength=function(m){return m.length%10==0},n.prototype._decode=function(){var m,f,p,g=this,b=[],x=[];return(m=g._findStart())?(x.push(m),(f=g._findEnd())?(p=g._fillCounters(m.end,f.start,!1),g._verifyCounterLength(p)&&g._decodePayload(p,b,x)?b.length<5?null:(x.push(f),{code:b.join(""),start:m.start,end:f.end,startInfo:m,decodedCodes:x}):null):null):null},a.a=n},function(r,a,i){function n(){s.a.call(this),this._counters=[]}var s=i(1),l={ALPHABETH_STRING:{value:"0123456789-$:/.+ABCD"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68]},CHARACTER_ENCODINGS:{value:[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14]},START_END:{value:[26,41,11,14]},MIN_ENCODED_CHARS:{value:4},MAX_ACCEPTABLE:{value:2},PADDING:{value:1.5},FORMAT:{value:"codabar",writeable:!1}};n.prototype=Object.create(s.a.prototype,l),n.prototype.constructor=n,n.prototype._decode=function(){var u,c,d,m,f,p=this,g=[];if(this._counters=p._fillCounters(),!(u=p._findStart()))return null;m=u.startCounter;do{if((d=p._toPattern(m))<0||(c=p._patternToChar(d))<0)return null;if(g.push(c),m+=8,g.length>1&&p._isStartEnd(d))break}while(m<p._counters.length);return g.length-2<p.MIN_ENCODED_CHARS||!p._isStartEnd(d)?null:p._verifyWhitespace(u.startCounter,m-8)&&p._validateResult(g,u.startCounter)?(m=m>p._counters.length?p._counters.length:m,f=u.start+p._sumCounters(u.startCounter,m-8),{code:g.join(""),start:u.start,end:f,startInfo:u,decodedCodes:g}):null},n.prototype._verifyWhitespace=function(u,c){return(u-1<=0||this._counters[u-1]>=this._calculatePatternLength(u)/2)&&(c+8>=this._counters.length||this._counters[c+7]>=this._calculatePatternLength(c)/2)},n.prototype._calculatePatternLength=function(u){var c,d=0;for(c=u;c<u+7;c++)d+=this._counters[c];return d},n.prototype._thresholdResultPattern=function(u,c){var d,m,f,p,g,b=this,x={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},_=c;for(f=0;f<u.length;f++){for(g=b._charToPattern(u[f]),p=6;p>=0;p--)d=(1&p)==2?x.bar:x.space,m=(1&g)==1?d.wide:d.narrow,m.size+=b._counters[_+p],m.counts++,g>>=1;_+=8}return["space","bar"].forEach(function(y){var I=x[y];I.wide.min=Math.floor((I.narrow.size/I.narrow.counts+I.wide.size/I.wide.counts)/2),I.narrow.max=Math.ceil(I.wide.min),I.wide.max=Math.ceil((I.wide.size*b.MAX_ACCEPTABLE+b.PADDING)/I.wide.counts)}),x},n.prototype._charToPattern=function(u){var c,d=this,m=u.charCodeAt(0);for(c=0;c<d.ALPHABET.length;c++)if(d.ALPHABET[c]===m)return d.CHARACTER_ENCODINGS[c];return 0},n.prototype._validateResult=function(u,c){var d,m,f,p,g,b,x=this,_=x._thresholdResultPattern(u,c),y=c;for(d=0;d<u.length;d++){for(b=x._charToPattern(u[d]),m=6;m>=0;m--){if(f=(1&m)==0?_.bar:_.space,p=(1&b)==1?f.wide:f.narrow,(g=x._counters[y+m])<p.min||g>p.max)return!1;b>>=1}y+=8}return!0},n.prototype._patternToChar=function(u){var c,d=this;for(c=0;c<d.CHARACTER_ENCODINGS.length;c++)if(d.CHARACTER_ENCODINGS[c]===u)return String.fromCharCode(d.ALPHABET[c]);return-1},n.prototype._computeAlternatingThreshold=function(u,c){var d,m,f=Number.MAX_VALUE,p=0;for(d=u;d<c;d+=2)m=this._counters[d],m>p&&(p=m),m<f&&(f=m);return(f+p)/2|0},n.prototype._toPattern=function(u){var c,d,m,f,p=7,g=u+p,b=1<<p-1,x=0;if(g>this._counters.length)return-1;for(c=this._computeAlternatingThreshold(u,g),d=this._computeAlternatingThreshold(u+1,g),m=0;m<p;m++)f=(1&m)==0?c:d,this._counters[u+m]>f&&(x|=b),b>>=1;return x},n.prototype._isStartEnd=function(u){var c;for(c=0;c<this.START_END.length;c++)if(this.START_END[c]===u)return!0;return!1},n.prototype._sumCounters=function(u,c){var d,m=0;for(d=u;d<c;d++)m+=this._counters[d];return m},n.prototype._findStart=function(){var u,c,d,m=this,f=m._nextUnset(m._row);for(u=1;u<this._counters.length;u++)if((c=m._toPattern(u))!==-1&&m._isStartEnd(c))return f+=m._sumCounters(0,u),d=f+m._sumCounters(u,u+8),{start:f,end:d,startCounter:u,endCounter:u+8}},a.a=n},function(r,a,i){function n(){l.a.call(this)}function s(c,d,m){for(var f=m.length,p=0,g=0;f--;)g+=c[m[f]],p+=d[m[f]];return g/p}var l=i(1),u={CODE_SHIFT:{value:98},CODE_C:{value:99},CODE_B:{value:100},CODE_A:{value:101},START_CODE_A:{value:103},START_CODE_B:{value:104},START_CODE_C:{value:105},STOP_CODE:{value:106},CODE_PATTERN:{value:[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]},SINGLE_CODE_ERROR:{value:.64},AVG_CODE_ERROR:{value:.3},FORMAT:{value:"code_128",writeable:!1},MODULE_INDICES:{value:{bar:[0,2,4],space:[1,3,5]}}};n.prototype=Object.create(l.a.prototype,u),n.prototype.constructor=n,n.prototype._decodeCode=function(c,d){var m,f,p,g=[0,0,0,0,0,0],b=this,x=c,_=!b._row[x],y=0,I={error:Number.MAX_VALUE,code:-1,start:c,end:c,correction:{bar:1,space:1}};for(m=x;m<b._row.length;m++)if(b._row[m]^_)g[y]++;else{if(y===g.length-1){for(d&&b._correct(g,d),f=0;f<b.CODE_PATTERN.length;f++)(p=b._matchPattern(g,b.CODE_PATTERN[f]))<I.error&&(I.code=f,I.error=p);return I.end=m,I.code===-1||I.error>b.AVG_CODE_ERROR?null:(b.CODE_PATTERN[I.code]&&(I.correction.bar=s(b.CODE_PATTERN[I.code],g,this.MODULE_INDICES.bar),I.correction.space=s(b.CODE_PATTERN[I.code],g,this.MODULE_INDICES.space)),I)}y++,g[y]=1,_=!_}return null},n.prototype._correct=function(c,d){this._correctBars(c,d.bar,this.MODULE_INDICES.bar),this._correctBars(c,d.space,this.MODULE_INDICES.space)},n.prototype._findStart=function(){var c,d,m,f,p,g=[0,0,0,0,0,0],b=this,x=b._nextSet(b._row),_=!1,y=0,I={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}};for(c=x;c<b._row.length;c++)if(b._row[c]^_)g[y]++;else{if(y===g.length-1){for(p=0,f=0;f<g.length;f++)p+=g[f];for(d=b.START_CODE_A;d<=b.START_CODE_C;d++)(m=b._matchPattern(g,b.CODE_PATTERN[d]))<I.error&&(I.code=d,I.error=m);if(I.error<b.AVG_CODE_ERROR)return I.start=c-p,I.end=c,I.correction.bar=s(b.CODE_PATTERN[I.code],g,this.MODULE_INDICES.bar),I.correction.space=s(b.CODE_PATTERN[I.code],g,this.MODULE_INDICES.space),I;for(f=0;f<4;f++)g[f]=g[f+2];g[4]=0,g[5]=0,y--}else y++;g[y]=1,_=!_}return null},n.prototype._decode=function(){var c,d,m=this,f=m._findStart(),p=null,g=!1,b=[],x=0,_=0,y=[],I=[],S=!1,O=!0;if(f===null)return null;switch(p={code:f.code,start:f.start,end:f.end,correction:{bar:f.correction.bar,space:f.correction.space}},I.push(p),_=p.code,p.code){case m.START_CODE_A:c=m.CODE_A;break;case m.START_CODE_B:c=m.CODE_B;break;case m.START_CODE_C:c=m.CODE_C;break;default:return null}for(;!g;){if(d=S,S=!1,(p=m._decodeCode(p.end,p.correction))!==null)switch(p.code!==m.STOP_CODE&&(O=!0),p.code!==m.STOP_CODE&&(y.push(p.code),x++,_+=x*p.code),I.push(p),c){case m.CODE_A:if(p.code<64)b.push(String.fromCharCode(32+p.code));else if(p.code<96)b.push(String.fromCharCode(p.code-64));else switch(p.code!==m.STOP_CODE&&(O=!1),p.code){case m.CODE_SHIFT:S=!0,c=m.CODE_B;break;case m.CODE_B:c=m.CODE_B;break;case m.CODE_C:c=m.CODE_C;break;case m.STOP_CODE:g=!0}break;case m.CODE_B:if(p.code<96)b.push(String.fromCharCode(32+p.code));else switch(p.code!==m.STOP_CODE&&(O=!1),p.code){case m.CODE_SHIFT:S=!0,c=m.CODE_A;break;case m.CODE_A:c=m.CODE_A;break;case m.CODE_C:c=m.CODE_C;break;case m.STOP_CODE:g=!0}break;case m.CODE_C:if(p.code<100)b.push(p.code<10?"0"+p.code:p.code);else switch(p.code!==m.STOP_CODE&&(O=!1),p.code){case m.CODE_A:c=m.CODE_A;break;case m.CODE_B:c=m.CODE_B;break;case m.STOP_CODE:g=!0}}else g=!0;d&&(c=c===m.CODE_A?m.CODE_B:m.CODE_A)}return p===null?null:(p.end=m._nextUnset(m._row,p.end),m._verifyTrailingWhitespace(p)?(_-=x*y[y.length-1])%103!==y[y.length-1]?null:b.length?(O&&b.splice(b.length-1,1),{code:b.join(""),start:f.start,end:p.end,codeset:c,startInfo:f,decodedCodes:I,endInfo:p}):null:null)},l.a.prototype._verifyTrailingWhitespace=function(c){var d,m=this;return d=c.end+(c.end-c.start)/2,d<m._row.length&&m._matchRange(c.end,d,0)?c:null},a.a=n},function(r,a,i){function n(){s.a.call(this)}var s=i(31),l={IOQ:/[IOQ]/g,AZ09:/[A-Z0-9]{17}/};n.prototype=Object.create(s.a.prototype),n.prototype.constructor=n,n.prototype._decode=function(){var u=s.a.prototype._decode.apply(this);if(!u)return null;var c=u.code;return c?(c=c.replace(l.IOQ,""),c.match(l.AZ09)&&this._checkChecksum(c)?(u.code=c,u):null):null},n.prototype._checkChecksum=function(u){return!!u},a.a=n},function(r,a,i){function n(){s.a.call(this)}var s=i(1),l=i(3),u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",c={ALPHABETH_STRING:{value:u},ALPHABET:{value:u.split("").map(function(d){return d.charCodeAt(0)})},CHARACTER_ENCODINGS:{value:[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]},ASTERISK:{value:350},FORMAT:{value:"code_93",writeable:!1}};n.prototype=Object.create(s.a.prototype,c),n.prototype.constructor=n,n.prototype._decode=function(){var d,m,f,p,g=this,b=[0,0,0,0,0,0],x=[],_=g._findStart();if(!_)return null;p=g._nextSet(g._row,_.end);do{if(b=g._toCounters(p,b),(f=g._toPattern(b))<0||(d=g._patternToChar(f))<0)return null;x.push(d),m=p,p+=l.a.sum(b),p=g._nextSet(g._row,p)}while(d!=="*");return x.pop(),x.length&&g._verifyEnd(m,p,b)&&g._verifyChecksums(x)?(x=x.slice(0,x.length-2),(x=g._decodeExtended(x))===null?null:{code:x.join(""),start:_.start,end:p,startInfo:_,decodedCodes:x}):null},n.prototype._verifyEnd=function(d,m){return!(d===m||!this._row[m])},n.prototype._patternToChar=function(d){var m,f=this;for(m=0;m<f.CHARACTER_ENCODINGS.length;m++)if(f.CHARACTER_ENCODINGS[m]===d)return String.fromCharCode(f.ALPHABET[m]);return-1},n.prototype._toPattern=function(d){for(var m=d.length,f=0,p=0,g=0;g<m;g++)p+=d[g];for(var b=0;b<m;b++){var x=Math.round(9*d[b]/p);if(x<1||x>4)return-1;if((1&b)==0)for(var _=0;_<x;_++)f=f<<1|1;else f<<=x}return f},n.prototype._findStart=function(){var d,m,f,p=this,g=p._nextSet(p._row),b=g,x=[0,0,0,0,0,0],_=0,y=!1;for(d=g;d<p._row.length;d++)if(p._row[d]^y)x[_]++;else{if(_===x.length-1){if(p._toPattern(x)===p.ASTERISK&&(f=Math.floor(Math.max(0,b-(d-b)/4)),p._matchRange(f,b,0)))return{start:b,end:d};for(b+=x[0]+x[1],m=0;m<4;m++)x[m]=x[m+2];x[4]=0,x[5]=0,_--}else _++;x[_]=1,y=!y}return null},n.prototype._decodeExtended=function(d){for(var m=d.length,f=[],p=0;p<m;p++){var g=d[p];if(g>="a"&&g<="d"){if(p>m-2)return null;var b=d[++p],x=b.charCodeAt(0),_=void 0;switch(g){case"a":if(!(b>="A"&&b<="Z"))return null;_=String.fromCharCode(x-64);break;case"b":if(b>="A"&&b<="E")_=String.fromCharCode(x-38);else if(b>="F"&&b<="J")_=String.fromCharCode(x-11);else if(b>="K"&&b<="O")_=String.fromCharCode(x+16);else if(b>="P"&&b<="S")_=String.fromCharCode(x+43);else{if(!(b>="T"&&b<="Z"))return null;_=String.fromCharCode(127)}break;case"c":if(b>="A"&&b<="O")_=String.fromCharCode(x-32);else{if(b!=="Z")return null;_=":"}break;case"d":if(!(b>="A"&&b<="Z"))return null;_=String.fromCharCode(x+32)}f.push(_)}else f.push(g)}return f},n.prototype._verifyChecksums=function(d){return this._matchCheckChar(d,d.length-2,20)&&this._matchCheckChar(d,d.length-1,15)},n.prototype._matchCheckChar=function(d,m,f){var p=this,g=d.slice(0,m),b=g.length,x=g.reduce(function(_,y,I){return _+((I*-1+(b-1))%f+1)*p.ALPHABET.indexOf(y.charCodeAt(0))},0);return this.ALPHABET[x%47]===d[m].charCodeAt(0)},a.a=n},function(r,a,i){function n(){s.a.call(this)}var s=i(4),l={FORMAT:{value:"ean_2",writeable:!1}};n.prototype=Object.create(s.a.prototype,l),n.prototype.constructor=n,n.prototype.decode=function(u,c){this._row=u;var d,m=0,f=0,p=c,g=this._row.length,b=[],x=[];for(f=0;f<2&&p<g;f++){if(!(d=this._decodeCode(p)))return null;x.push(d),b.push(d.code%10),d.code>=this.CODE_G_START&&(m|=1<<1-f),f!=1&&(p=this._nextSet(this._row,d.end),p=this._nextUnset(this._row,p))}return b.length!=2||parseInt(b.join(""))%4!==m?null:{code:b.join(""),decodedCodes:x,end:d.end}},a.a=n},function(r,a,i){function n(){u.a.call(this)}function s(m){var f;for(f=0;f<10;f++)if(m===d[f])return f;return null}function l(m){var f,p=m.length,g=0;for(f=p-2;f>=0;f-=2)g+=m[f];for(g*=3,f=p-1;f>=0;f-=2)g+=m[f];return(g*=3)%10}var u=i(4),c={FORMAT:{value:"ean_5",writeable:!1}},d=[24,20,18,17,12,6,3,10,9,5];n.prototype=Object.create(u.a.prototype,c),n.prototype.constructor=n,n.prototype.decode=function(m,f){this._row=m;var p,g=0,b=0,x=f,_=this._row.length,y=[],I=[];for(b=0;b<5&&x<_;b++){if(!(p=this._decodeCode(x)))return null;I.push(p),y.push(p.code%10),p.code>=this.CODE_G_START&&(g|=1<<4-b),b!=4&&(x=this._nextSet(this._row,p.end),x=this._nextUnset(this._row,x))}return y.length!=5||l(y)!==s(g)?null:{code:y.join(""),decodedCodes:I,end:p.end}},a.a=n},function(r,a,i){function n(u,c){s.a.call(this,u,c)}var s=i(4),l={FORMAT:{value:"ean_8",writeable:!1}};n.prototype=Object.create(s.a.prototype,l),n.prototype.constructor=n,n.prototype._decodePayload=function(u,c,d){var m,f=this;for(m=0;m<4;m++){if(!(u=f._decodeCode(u.end,f.CODE_G_START)))return null;c.push(u.code),d.push(u)}if((u=f._findPattern(f.MIDDLE_PATTERN,u.end,!0,!1))===null)return null;for(d.push(u),m=0;m<4;m++){if(!(u=f._decodeCode(u.end,f.CODE_G_START)))return null;d.push(u),c.push(u.code)}return u},a.a=n},function(r,a,i){function n(p){p=u()(s(),p),c.a.call(this,p),this.barSpaceRatio=[1,1],p.normalizeBarSpaceWidth&&(this.SINGLE_CODE_ERROR=.38,this.AVG_CODE_ERROR=.09)}function s(){var p={};return Object.keys(n.CONFIG_KEYS).forEach(function(g){p[g]=n.CONFIG_KEYS[g].default}),p}var l=i(28),u=i.n(l),c=i(1),d=1,m=3,f={START_PATTERN:{value:[d,d,d,d]},STOP_PATTERN:{value:[d,d,m]},CODE_PATTERN:{value:[[d,d,m,m,d],[m,d,d,d,m],[d,m,d,d,m],[m,m,d,d,d],[d,d,m,d,m],[m,d,m,d,d],[d,m,m,d,d],[d,d,d,m,m],[m,d,d,m,d],[d,m,d,m,d]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.38,writable:!0},MAX_CORRECTION_FACTOR:{value:5},FORMAT:{value:"i2of5"}};n.prototype=Object.create(c.a.prototype,f),n.prototype.constructor=n,n.prototype._matchPattern=function(p,g){if(this.config.normalizeBarSpaceWidth){var b,x=[0,0],_=[0,0],y=[0,0],I=this.MAX_CORRECTION_FACTOR,S=1/I;for(b=0;b<p.length;b++)x[b%2]+=p[b],_[b%2]+=g[b];for(y[0]=_[0]/x[0],y[1]=_[1]/x[1],y[0]=Math.max(Math.min(y[0],I),S),y[1]=Math.max(Math.min(y[1],I),S),this.barSpaceRatio=y,b=0;b<p.length;b++)p[b]*=this.barSpaceRatio[b%2]}return c.a.prototype._matchPattern.call(this,p,g)},n.prototype._findPattern=function(p,g,b,x){var _,y,I,S,O=[],F=this,M=0,E={error:Number.MAX_VALUE,code:-1,start:0,end:0},D=F.AVG_CODE_ERROR;for(b=b||!1,x=x||!1,g||(g=F._nextSet(F._row)),_=0;_<p.length;_++)O[_]=0;for(_=g;_<F._row.length;_++)if(F._row[_]^b)O[M]++;else{if(M===O.length-1){for(S=0,I=0;I<O.length;I++)S+=O[I];if((y=F._matchPattern(O,p))<D)return E.error=y,E.start=_-S,E.end=_,E;if(!x)return null;for(I=0;I<O.length-2;I++)O[I]=O[I+2];O[O.length-2]=0,O[O.length-1]=0,M--}else M++;O[M]=1,b=!b}return null},n.prototype._findStart=function(){for(var p,g,b=this,x=b._nextSet(b._row),_=1;!g;){if(!(g=b._findPattern(b.START_PATTERN,x,!1,!0)))return null;if(_=Math.floor((g.end-g.start)/4),(p=g.start-10*_)>=0&&b._matchRange(p,g.start,0))return g;x=g.end,g=null}},n.prototype._verifyTrailingWhitespace=function(p){var g,b=this;return g=p.end+(p.end-p.start)/2,g<b._row.length&&b._matchRange(p.end,g,0)?p:null},n.prototype._findEnd=function(){var p,g,b=this;return b._row.reverse(),p=b._findPattern(b.STOP_PATTERN),b._row.reverse(),p===null?null:(g=p.start,p.start=b._row.length-p.end,p.end=b._row.length-g,p!==null?b._verifyTrailingWhitespace(p):null)},n.prototype._decodePair=function(p){var g,b,x=[],_=this;for(g=0;g<p.length;g++){if(!(b=_._decodeCode(p[g])))return null;x.push(b)}return x},n.prototype._decodeCode=function(p){var g,b,x,_=this,y=0,I=_.AVG_CODE_ERROR,S={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(g=0;g<p.length;g++)y+=p[g];for(x=0;x<_.CODE_PATTERN.length;x++)(b=_._matchPattern(p,_.CODE_PATTERN[x]))<S.error&&(S.code=x,S.error=b);if(S.error<I)return S},n.prototype._decodePayload=function(p,g,b){for(var x,_,y=this,I=0,S=p.length,O=[[0,0,0,0,0],[0,0,0,0,0]];I<S;){for(x=0;x<5;x++)O[0][x]=p[I]*this.barSpaceRatio[0],O[1][x]=p[I+1]*this.barSpaceRatio[1],I+=2;if(!(_=y._decodePair(O)))return null;for(x=0;x<_.length;x++)g.push(_[x].code+""),b.push(_[x])}return _},n.prototype._verifyCounterLength=function(p){return p.length%10==0},n.prototype._decode=function(){var p,g,b,x=this,_=[],y=[];return(p=x._findStart())?(y.push(p),(g=x._findEnd())?(b=x._fillCounters(p.end,g.start,!1),x._verifyCounterLength(b)&&x._decodePayload(b,_,y)?_.length%2!=0||_.length<6?null:(y.push(g),{code:_.join(""),start:p.start,end:g.end,startInfo:p,decodedCodes:y}):null):null):null},n.CONFIG_KEYS={normalizeBarSpaceWidth:{type:"boolean",default:!1,description:"If true, the reader tries to normalize thewidth-difference between bars and spaces"}},a.a=n},function(r,a,i){function n(u,c){s.a.call(this,u,c)}var s=i(4),l={CODE_FREQUENCY:{value:[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]},STOP_PATTERN:{value:[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]},FORMAT:{value:"upc_e",writeable:!1}};n.prototype=Object.create(s.a.prototype,l),n.prototype.constructor=n,n.prototype._decodePayload=function(u,c,d){var m,f=this,p=0;for(m=0;m<6;m++){if(!(u=f._decodeCode(u.end)))return null;u.code>=f.CODE_G_START&&(u.code=u.code-f.CODE_G_START,p|=1<<5-m),c.push(u.code),d.push(u)}return f._determineParity(p,c)?u:null},n.prototype._determineParity=function(u,c){var d,m;for(m=0;m<this.CODE_FREQUENCY.length;m++)for(d=0;d<this.CODE_FREQUENCY[m].length;d++)if(u===this.CODE_FREQUENCY[m][d])return c.unshift(m),c.push(d),!0;return!1},n.prototype._convertToUPCA=function(u){var c=[u[0]],d=u[u.length-2];return c=d<=2?c.concat(u.slice(1,3)).concat([d,0,0,0,0]).concat(u.slice(3,6)):d===3?c.concat(u.slice(1,4)).concat([0,0,0,0,0]).concat(u.slice(4,6)):d===4?c.concat(u.slice(1,5)).concat([0,0,0,0,0,u[5]]):c.concat(u.slice(1,6)).concat([0,0,0,0,d]),c.push(u[u.length-1]),c},n.prototype._checksum=function(u){return s.a.prototype._checksum.call(this,this._convertToUPCA(u))},n.prototype._findEnd=function(u,c){return c=!0,s.a.prototype._findEnd.call(this,u,c)},n.prototype._verifyTrailingWhitespace=function(u){var c,d=this;if((c=u.end+(u.end-u.start)/2)<d._row.length&&d._matchRange(u.end,c,0))return u},a.a=n},function(r,a,i){function n(u,c){s.a.call(this,u,c)}var s=i(4),l={FORMAT:{value:"upc_a",writeable:!1}};n.prototype=Object.create(s.a.prototype,l),n.prototype.constructor=n,n.prototype._decode=function(){var u=s.a.prototype._decode.call(this);return u&&u.code&&u.code.length===13&&u.code.charAt(0)==="0"?(u.code=u.code.substring(1),u):null},a.a=n},function(r,a){function i(n,s){return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n}r.exports=i},function(r,a){function i(){var n=new Float32Array(4);return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n}r.exports=i},function(r,a){function i(n,s){var l=s[0],u=s[1],c=s[2],d=s[3],m=l*d-c*u;return m?(m=1/m,n[0]=d*m,n[1]=-u*m,n[2]=-c*m,n[3]=l*m,n):null}r.exports=i},function(r,a){function i(n,s,l){return n[0]=s[0]*l,n[1]=s[1]*l,n}r.exports=i},function(r,a){function i(n,s,l){var u=s[0],c=s[1];return n[0]=l[0]*u+l[2]*c,n[1]=l[1]*u+l[3]*c,n}r.exports=i},function(r,a){function i(n){var s=new Float32Array(3);return s[0]=n[0],s[1]=n[1],s[2]=n[2],s}r.exports=i},function(r,a,i){function n(m){var f=-1,p=m==null?0:m.length;for(this.clear();++f<p;){var g=m[f];this.set(g[0],g[1])}}var s=i(122),l=i(123),u=i(124),c=i(125),d=i(126);n.prototype.clear=s,n.prototype.delete=l,n.prototype.get=u,n.prototype.has=c,n.prototype.set=d,r.exports=n},function(r,a,i){function n(f){var p=this.__data__=new s(f);this.size=p.size}var s=i(10),l=i(149),u=i(150),c=i(151),d=i(152),m=i(153);n.prototype.clear=l,n.prototype.delete=u,n.prototype.get=c,n.prototype.has=d,n.prototype.set=m,r.exports=n},function(r,a,i){var n=i(5),s=n.Uint8Array;r.exports=s},function(r,a){function i(n,s,l){switch(l.length){case 0:return n.call(s);case 1:return n.call(s,l[0]);case 2:return n.call(s,l[0],l[1]);case 3:return n.call(s,l[0],l[1],l[2])}return n.apply(s,l)}r.exports=i},function(r,a,i){function n(g,b){var x=u(g),_=!x&&l(g),y=!x&&!_&&c(g),I=!x&&!_&&!y&&m(g),S=x||_||y||I,O=S?s(g.length,String):[],F=O.length;for(var M in g)!b&&!p.call(g,M)||S&&(M=="length"||y&&(M=="offset"||M=="parent")||I&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||d(M,F))||O.push(M);return O}var s=i(107),l=i(18),u=i(2),c=i(44),d=i(15),m=i(45),f=Object.prototype,p=f.hasOwnProperty;r.exports=n},function(r,a){function i(n,s){for(var l=-1,u=n==null?0:n.length,c=Array(u);++l<u;)c[l]=s(n[l],l,n);return c}r.exports=i},function(r,a){function i(n,s){for(var l=-1,u=s.length,c=n.length;++l<u;)n[c+l]=s[l];return n}r.exports=i},function(r,a,i){var n=i(0),s=Object.create,l=function(){function u(){}return function(c){if(!n(c))return{};if(s)return s(c);u.prototype=c;var d=new u;return u.prototype=void 0,d}}();r.exports=l},function(r,a,i){function n(u,c,d,m,f){var p=-1,g=u.length;for(d||(d=l),f||(f=[]);++p<g;){var b=u[p];c>0&&d(b)?c>1?n(b,c-1,d,m,f):s(f,b):m||(f[f.length]=b)}return f}var s=i(90),l=i(128);r.exports=n},function(r,a,i){var n=i(117),s=n();r.exports=s},function(r,a,i){function n(u,c){c=s(c,u);for(var d=0,m=c.length;u!=null&&d<m;)u=u[l(c[d++])];return d&&d==m?u:void 0}var s=i(13),l=i(23);r.exports=n},function(r,a){function i(n,s){return n!=null&&s in Object(n)}r.exports=i},function(r,a,i){function n(c){return l(c)&&s(c)==u}var s=i(8),l=i(6),u="[object Arguments]";r.exports=n},function(r,a,i){function n(_){return!(!u(_)||l(_))&&(s(_)?x:m).test(c(_))}var s=i(25),l=i(132),u=i(0),c=i(155),d=/[\\^$.*+?()[\]{}|]/g,m=/^\[object .+?Constructor\]$/,f=Function.prototype,p=Object.prototype,g=f.toString,b=p.hasOwnProperty,x=RegExp("^"+g.call(b).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");r.exports=n},function(r,a,i){function n(d){return u(d)&&l(d.length)&&!!c[s(d)]}var s=i(8),l=i(26),u=i(6),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,r.exports=n},function(r,a,i){function n(m){if(!s(m))return u(m);var f=l(m),p=[];for(var g in m)(g!="constructor"||!f&&d.call(m,g))&&p.push(g);return p}var s=i(0),l=i(40),u=i(144),c=Object.prototype,d=c.hasOwnProperty;r.exports=n},function(r,a,i){function n(f,p,g,b,x){f!==p&&u(p,function(_,y){if(d(_))x||(x=new s),c(f,p,y,g,n,b,x);else{var I=b?b(f[y],_,y+"",f,p,x):void 0;I===void 0&&(I=_),l(f,y,I)}},m)}var s=i(85),l=i(35),u=i(93),c=i(101),d=i(0),m=i(46);r.exports=n},function(r,a,i){function n(S,O,F,M,E,D,P){var N=S[F],R=O[F],z=P.get(R);if(z)return void s(S,F,z);var W=D?D(N,R,F+"",S,O,P):void 0,j=W===void 0;if(j){var Q=f(R),se=!Q&&g(R),_e=!Q&&!se&&y(R);W=R,Q||se||_e?f(N)?W=N:p(N)?W=c(N):se?(j=!1,W=l(R,!0)):_e?(j=!1,W=u(R,!0)):W=[]:_(R)||m(R)?(W=N,m(N)?W=I(N):(!x(N)||M&&b(N))&&(W=d(R))):j=!1}j&&(P.set(R,W),E(W,R,M,D,P),P.delete(R)),s(S,F,W)}var s=i(35),l=i(111),u=i(112),c=i(113),d=i(127),m=i(18),f=i(2),p=i(159),g=i(44),b=i(25),x=i(0),_=i(160),y=i(45),I=i(164);r.exports=n},function(r,a,i){function n(u,c){return s(u,c,function(d,m){return l(u,m)})}var s=i(103),l=i(158);r.exports=n},function(r,a,i){function n(c,d,m){for(var f=-1,p=d.length,g={};++f<p;){var b=d[f],x=s(c,b);m(x,b)&&l(g,u(b,c),x)}return g}var s=i(94),l=i(105),u=i(13);r.exports=n},function(r,a,i){function n(c,d){return u(l(c,d,s),c+"")}var s=i(43),l=i(41),u=i(42);r.exports=n},function(r,a,i){function n(m,f,p,g){if(!c(m))return m;f=l(f,m);for(var b=-1,x=f.length,_=x-1,y=m;y!=null&&++b<x;){var I=d(f[b]),S=p;if(b!=_){var O=y[I];S=g?g(O,I,y):void 0,S===void 0&&(S=c(O)?O:u(f[b+1])?[]:{})}s(y,I,S),y=y[I]}return m}var s=i(36),l=i(13),u=i(15),c=i(0),d=i(23);r.exports=n},function(r,a,i){var n=i(156),s=i(37),l=i(43),u=s?function(c,d){return s(c,"toString",{configurable:!0,enumerable:!1,value:n(d),writable:!0})}:l;r.exports=u},function(r,a){function i(n,s){for(var l=-1,u=Array(n);++l<n;)u[l]=s(l);return u}r.exports=i},function(r,a,i){function n(p){if(typeof p=="string")return p;if(u(p))return l(p,n)+"";if(c(p))return f?f.call(p):"";var g=p+"";return g=="0"&&1/p==-d?"-0":g}var s=i(11),l=i(89),u=i(2),c=i(27),d=1/0,m=s?s.prototype:void 0,f=m?m.toString:void 0;r.exports=n},function(r,a){function i(n){return function(s){return n(s)}}r.exports=i},function(r,a,i){function n(l){var u=new l.constructor(l.byteLength);return new s(u).set(new s(l)),u}var s=i(86);r.exports=n},function(r,a,i){(function(n){function s(p,g){if(g)return p.slice();var b=p.length,x=f?f(b):new p.constructor(b);return p.copy(x),x}var l=i(5),u=typeof a=="object"&&a&&!a.nodeType&&a,c=u&&typeof n=="object"&&n&&!n.nodeType&&n,d=c&&c.exports===u,m=d?l.Buffer:void 0,f=m?m.allocUnsafe:void 0;n.exports=s}).call(a,i(29)(r))},function(r,a,i){function n(l,u){var c=u?s(l.buffer):l.buffer;return new l.constructor(c,l.byteOffset,l.length)}var s=i(110);r.exports=n},function(r,a){function i(n,s){var l=-1,u=n.length;for(s||(s=Array(u));++l<u;)s[l]=n[l];return s}r.exports=i},function(r,a,i){function n(u,c,d,m){var f=!d;d||(d={});for(var p=-1,g=c.length;++p<g;){var b=c[p],x=m?m(d[b],u[b],b,d,u):void 0;x===void 0&&(x=u[b]),f?l(d,b,x):s(d,b,x)}return d}var s=i(36),l=i(21);r.exports=n},function(r,a,i){var n=i(5),s=n["__core-js_shared__"];r.exports=s},function(r,a,i){function n(u){return s(function(c,d){var m=-1,f=d.length,p=f>1?d[f-1]:void 0,g=f>2?d[2]:void 0;for(p=u.length>3&&typeof p=="function"?(f--,p):void 0,g&&l(d[0],d[1],g)&&(p=f<3?void 0:p,f=1),c=Object(c);++m<f;){var b=d[m];b&&u(c,b,m,p)}return c})}var s=i(104),l=i(129);r.exports=n},function(r,a){function i(n){return function(s,l,u){for(var c=-1,d=Object(s),m=u(s),f=m.length;f--;){var p=m[n?f:++c];if(l(d[p],p,d)===!1)break}return s}}r.exports=i},function(r,a,i){function n(c){return u(l(c,void 0,s),c+"")}var s=i(157),l=i(41),u=i(42);r.exports=n},function(r,a,i){function n(m){var f=u.call(m,d),p=m[d];try{m[d]=void 0;var g=!0}catch{}var b=c.call(m);return g&&(f?m[d]=p:delete m[d]),b}var s=i(11),l=Object.prototype,u=l.hasOwnProperty,c=l.toString,d=s?s.toStringTag:void 0;r.exports=n},function(r,a){function i(n,s){return n==null?void 0:n[s]}r.exports=i},function(r,a,i){function n(f,p,g){p=s(p,f);for(var b=-1,x=p.length,_=!1;++b<x;){var y=m(p[b]);if(!(_=f!=null&&g(f,y)))break;f=f[y]}return _||++b!=x?_:!!(x=f==null?0:f.length)&&d(x)&&c(y,x)&&(u(f)||l(f))}var s=i(13),l=i(18),u=i(2),c=i(15),d=i(26),m=i(23);r.exports=n},function(r,a,i){function n(){this.__data__=s?s(null):{},this.size=0}var s=i(16);r.exports=n},function(r,a){function i(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}r.exports=i},function(r,a,i){function n(d){var m=this.__data__;if(s){var f=m[d];return f===l?void 0:f}return c.call(m,d)?m[d]:void 0}var s=i(16),l="__lodash_hash_undefined__",u=Object.prototype,c=u.hasOwnProperty;r.exports=n},function(r,a,i){function n(c){var d=this.__data__;return s?d[c]!==void 0:u.call(d,c)}var s=i(16),l=Object.prototype,u=l.hasOwnProperty;r.exports=n},function(r,a,i){function n(u,c){var d=this.__data__;return this.size+=this.has(u)?0:1,d[u]=s&&c===void 0?l:c,this}var s=i(16),l="__lodash_hash_undefined__";r.exports=n},function(r,a,i){function n(c){return typeof c.constructor!="function"||u(c)?{}:s(l(c))}var s=i(91),l=i(39),u=i(40);r.exports=n},function(r,a,i){function n(d){return u(d)||l(d)||!!(c&&d&&d[c])}var s=i(11),l=i(18),u=i(2),c=s?s.isConcatSpreadable:void 0;r.exports=n},function(r,a,i){function n(d,m,f){if(!c(f))return!1;var p=typeof m;return!!(p=="number"?l(f)&&u(m,f.length):p=="string"&&m in f)&&s(f[m],d)}var s=i(17),l=i(24),u=i(15),c=i(0);r.exports=n},function(r,a,i){function n(d,m){if(s(d))return!1;var f=typeof d;return!(f!="number"&&f!="symbol"&&f!="boolean"&&d!=null&&!l(d))||c.test(d)||!u.test(d)||m!=null&&d in Object(m)}var s=i(2),l=i(27),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;r.exports=n},function(r,a){function i(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}r.exports=i},function(r,a,i){function n(u){return!!l&&l in u}var s=i(115),l=function(){var u=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();r.exports=n},function(r,a){function i(){this.__data__=[],this.size=0}r.exports=i},function(r,a,i){function n(c){var d=this.__data__,m=s(d,c);return!(m<0)&&(m==d.length-1?d.pop():u.call(d,m,1),--this.size,!0)}var s=i(12),l=Array.prototype,u=l.splice;r.exports=n},function(r,a,i){function n(l){var u=this.__data__,c=s(u,l);return c<0?void 0:u[c][1]}var s=i(12);r.exports=n},function(r,a,i){function n(l){return s(this.__data__,l)>-1}var s=i(12);r.exports=n},function(r,a,i){function n(l,u){var c=this.__data__,d=s(c,l);return d<0?(++this.size,c.push([l,u])):c[d][1]=u,this}var s=i(12);r.exports=n},function(r,a,i){function n(){this.size=0,this.__data__={hash:new s,map:new(u||l),string:new s}}var s=i(84),l=i(10),u=i(33);r.exports=n},function(r,a,i){function n(l){var u=s(this,l).delete(l);return this.size-=u?1:0,u}var s=i(14);r.exports=n},function(r,a,i){function n(l){return s(this,l).get(l)}var s=i(14);r.exports=n},function(r,a,i){function n(l){return s(this,l).has(l)}var s=i(14);r.exports=n},function(r,a,i){function n(l,u){var c=s(this,l),d=c.size;return c.set(l,u),this.size+=c.size==d?0:1,this}var s=i(14);r.exports=n},function(r,a,i){function n(u){var c=s(u,function(m){return d.size===l&&d.clear(),m}),d=c.cache;return c}var s=i(161),l=500;r.exports=n},function(r,a){function i(n){var s=[];if(n!=null)for(var l in Object(n))s.push(l);return s}r.exports=i},function(r,a,i){(function(n){var s=i(38),l=typeof a=="object"&&a&&!a.nodeType&&a,u=l&&typeof n=="object"&&n&&!n.nodeType&&n,c=u&&u.exports===l,d=c&&s.process,m=function(){try{return d&&d.binding&&d.binding("util")}catch{}}();n.exports=m}).call(a,i(29)(r))},function(r,a){function i(l){return s.call(l)}var n=Object.prototype,s=n.toString;r.exports=i},function(r,a){function i(n,s){return function(l){return n(s(l))}}r.exports=i},function(r,a){function i(u){var c=0,d=0;return function(){var m=l(),f=s-(m-d);if(d=m,f>0){if(++c>=n)return arguments[0]}else c=0;return u.apply(void 0,arguments)}}var n=800,s=16,l=Date.now;r.exports=i},function(r,a,i){function n(){this.__data__=new s,this.size=0}var s=i(10);r.exports=n},function(r,a){function i(n){var s=this.__data__,l=s.delete(n);return this.size=s.size,l}r.exports=i},function(r,a){function i(n){return this.__data__.get(n)}r.exports=i},function(r,a){function i(n){return this.__data__.has(n)}r.exports=i},function(r,a,i){function n(d,m){var f=this.__data__;if(f instanceof s){var p=f.__data__;if(!l||p.length<c-1)return p.push([d,m]),this.size=++f.size,this;f=this.__data__=new u(p)}return f.set(d,m),this.size=f.size,this}var s=i(10),l=i(33),u=i(34),c=200;r.exports=n},function(r,a,i){var n=i(143),s=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,c=n(function(d){var m=[];return s.test(d)&&m.push(""),d.replace(l,function(f,p,g,b){m.push(g?b.replace(u,"$1"):p||f)}),m});r.exports=c},function(r,a){function i(l){if(l!=null){try{return s.call(l)}catch{}try{return l+""}catch{}}return""}var n=Function.prototype,s=n.toString;r.exports=i},function(r,a){function i(n){return function(){return n}}r.exports=i},function(r,a,i){function n(l){return l!=null&&l.length?s(l,1):[]}var s=i(92);r.exports=n},function(r,a,i){function n(u,c){return u!=null&&l(u,c,s)}var s=i(95),l=i(121);r.exports=n},function(r,a,i){function n(u){return l(u)&&s(u)}var s=i(24),l=i(6);r.exports=n},function(r,a,i){function n(b){if(!u(b)||s(b)!=c)return!1;var x=l(b);if(x===null)return!0;var _=p.call(x,"constructor")&&x.constructor;return typeof _=="function"&&_ instanceof _&&f.call(_)==g}var s=i(8),l=i(39),u=i(6),c="[object Object]",d=Function.prototype,m=Object.prototype,f=d.toString,p=m.hasOwnProperty,g=f.call(Object);r.exports=n},function(r,a,i){function n(u,c){if(typeof u!="function"||c!=null&&typeof c!="function")throw new TypeError(l);var d=function(){var m=arguments,f=c?c.apply(this,m):m[0],p=d.cache;if(p.has(f))return p.get(f);var g=u.apply(this,m);return d.cache=p.set(f,g)||p,g};return d.cache=new(n.Cache||s),d}var s=i(34),l="Expected a function";n.Cache=s,r.exports=n},function(r,a,i){var n=i(102),s=i(118),l=s(function(u,c){return u==null?{}:n(u,c)});r.exports=l},function(r,a){function i(){return!1}r.exports=i},function(r,a,i){function n(u){return s(u,l(u))}var s=i(114),l=i(46);r.exports=n},function(r,a,i){function n(l){return l==null?"":s(l)}var s=i(108);r.exports=n},function(r,a,i){r.exports=i(48)}])})})(FF);var Fm=QH(FF.exports);const ege={computed:{podeUsarAlternativo(){return typeof cordova=="undefined"?!1:cordova&&cordova.plugins&&cordova.plugins.barcodeScanner},suportaNativo(){return window&&window.navigator&&window.navigator.mediaDevices},temDispositivos(){return!!this.dispositivos.length}},data(){return{aberto:!1,carregando:!0,codigoBarrasOuQrCode:"",dispositivo:null,dispositivos:[],leitor:null,seletorDispositivo:!1,cameraStatus:0}},emits:["escanear","update:modelValue"],methods:{onStopQ(){Fm.stop(),this.cameraStatus=0},startScanLineQ(){const e=this;let t=25,o=!1;const r=this.$refs.scanLine;r.style.top=t+"%",r.style.display="initial",setInterval(()=>{o=!o,o?t=10:t=90,r.style.top=t+"%",e.cameraStatus},1e3)},iniciarLeitorQ(){this.cameraStatus=1,Fm.init({inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:400},target:document.querySelector("#scan")},frequency:10,decoder:{readers:["ean_reader"],multiple:!1}},e=>{if(e){console.log(e);return}console.log("Initialization finished. Ready to start"),Fm.start(),this.startScanLineQ();let t=document.querySelector("#scan video"),o=document.querySelector("#scan canvas");t.style.objectFit="cover",t.style.width="100%",t.style.height="100%",o.style.width="100%",o.style.height="100%",o.style.position="absolute",this.carregando=!1,Fm.onDetected(this.aoDetectar)})},aoAbrir(){this.useQuagga?this.iniciarLeitorQ():this.inicializarTransmissao()},aoDetectar(e){this.code||(this.code=e.codeResult.code,this.useQuagga&&this.onStopQ(),this.fechar(),this.$emit("escanear",this.code))},aoFechar(){this.useQuagga?(Fm.stop(),this.cameraStatus=0):(this.encerrarTransmissao(),this.carregando=!0),delete this.code},aoMudarDispositivo(e){this.seletorDispositivo=!1,localStorage.setItem("dispositivo",e),this.reiniciarTransmissao()},fechar(e){e&&e.preventDefault(),this.aberto=!1},encerrarTransmissao(){this.leitor.reset(),this.leitor=!1},async enviarCodigo(){try{this.codigoBarrasOuQrCode&&(this.$emit("escanear",this.codigoBarrasOuQrCode),this.codigoBarrasOuQrCode="")}catch(e){this.$q.notifyError("Ocorreu um erro ao enviar c\xF3digo",e)}},async inicializarTransmissao(){if(!this.suportaNativo&&this.podeUsarAlternativo)try{return await this.solicitarCamera(),cordova.plugins.barcodeScanner.scan(t=>this.aoDetectar(t),t=>this.$q.notifyError("Erro ao ler c\xF3digo de barras.",t),{prompt:""})}catch{return this.$q.notifyError("Erro ao abrir o leitor de c\xF3digo de barras."),this.fechar()}this.leitor=new yce;try{this.dispositivos=await this.leitor.getVideoInputDevices()}catch(t){return this.$q.notifyError("Erro ao obter dispositivos.",t)}if(this.carregando=!1,!this.temDispositivos)return;this.dispositivo||(this.dispositivo=this.dispositivos[0].deviceId);const e=await this.leitor.decodeFromInputVideoDevice(this.dispositivo,this.$refs.transmissao);this.aoDetectar(e)},reiniciarTransmissao(){this.encerrarTransmissao(),this.inicializarTransmissao()},solicitarCamera(){return new Promise((e,t)=>{const o=new Error("Unable to request permission.");try{const r=cordova.plugins.permissions,a=r.CAMERA;r.checkPermission(a,i=>{i.hasPermission?e():r.requestPermission(a,n=>{n.hasPermission?e():t(o)},n=>t(n))},i=>t(i))}catch(r){t(r)}})}},props:{modelValue:{default:!1,required:!0,type:Boolean},useQuagga:{default:!1,type:Boolean}},watch:{aberto(e){this.$emit("update:modelValue",e)},modelValue(e){this.aberto=e}},beforeUnmount(){document.removeEventListener("backbutton",this.fechar)},created(){document.addEventListener("backbutton",this.fechar),this.dispositivo=localStorage.getItem("dispositivo")}},tE=e=>(An("data-v-16590130"),e=e(),Tn(),e),tge={key:0,class:"layout-padding q-mt-lg text-center"},oge=tE(()=>A("div",{class:"q-mt-md text-tertiary text-center"},"Este dispositivo n\xE3o suporta este recurso.",-1)),age={key:1,class:"layout-padding q-mt-lg text-center",style:{"margin-top":"80px"}},rge={key:2,class:"layout-padding"},ige=tE(()=>A("div",{class:"bg-light q-pa-lg round-borders text-black text-center"}," N\xE3o foi poss\xEDvel localizar um dispositivo de v\xEDdeo conectado \xE0 sua m\xE1quina. ",-1)),nge={class:"bg-white q-px-md q-py-md"},sge={key:3,class:"PromptCodigoBarras-transmissao"},lge={ref:"transmissao",height:"480",width:"320"},cge=tE(()=>A("div",{class:"PromptCodigoBarras-laser"},null,-1)),uge={key:4,id:"scan"},dge={ref:"scanLine",id:"scanLine"};function fge(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.aberto,"onUpdate:modelValue":t[3]||(t[3]=n=>a.aberto=n),maximized:"",onHide:i.aoFechar,onShow:i.aoAbrir},{default:w(()=>[v(Jo,{container:"",class:"bg-light"},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:"",clikable:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[te("Escanear C\xF3digo de Barras")]),_:1}),a.dispositivos.length>1?($(),ue(pe,{key:0,dense:"",flat:"",icon:"switch_camera",round:""},{default:w(()=>[v(Xa,{modelValue:a.seletorDispositivo,"onUpdate:modelValue":t[1]||(t[1]=n=>a.seletorDispositivo=n)},{default:w(()=>[v(wt,{link:"",separator:""},{default:w(()=>[v(Be,{header:""},{default:w(()=>[te("Dispositivos")]),_:1}),($(!0),be(Qe,null,zt(a.dispositivos,(n,s)=>($(),ue(We,{key:s},{default:w(()=>[v(Zs,{modelValue:a.dispositivo,"onUpdate:modelValue":[t[0]||(t[0]=l=>a.dispositivo=l),i.aoMudarDispositivo],label:n.label||`Dispositivo ${s+1}`,val:n.deviceId},null,8,["modelValue","label","val","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})):ce("",!0)]),_:1})]),_:1}),!i.suportaNativo&&!i.podeUsarAlternativo?($(),be("div",tge,[v(Ve,{color:"tertiary",name:"error_outline",size:"50px"}),oge])):a.carregando?($(),be("div",age,[v(tn,{color:"tertiary",size:50})])):!i.temDispositivos&&!o.useQuagga?($(),be("div",rge,[ige,A("div",nge,[o.useQuagga?ce("",!0):($(),ue(Ca,{key:0,after:[{icon:"mdi-barcode-scan",handler:i.enviarCodigo}],autofocus:"",placeholder:"C\xF3digo de barras ou QRCode",modelValue:a.codigoBarrasOuQrCode,"onUpdate:modelValue":t[2]||(t[2]=n=>a.codigoBarrasOuQrCode=n),modelModifiers:{trim:!0},onKeyup:Zi(i.enviarCodigo,["enter"])},null,8,["after","modelValue","onKeyup"]))])])):ce("",!0),o.useQuagga?ce("",!0):Te(($(),be("div",sge,[A("video",lge,null,512),cge],512)),[[Io,i.temDispositivos&&!a.carregando]]),o.useQuagga?Te(($(),be("div",uge,[A("div",dge,null,512)],512)),[[Io,a.cameraStatus===1]]):ce("",!0)]),_:1})]),_:1},8,["modelValue","onHide","onShow"])}var mge=ht(ege,[["render",fge],["__scopeId","data-v-16590130"]]);const RF={...Sa,...wc,...P0,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},kF=["update:modelValue"];function VF(e,t){const{props:o,slots:r,emit:a,proxy:i}=Ct(),{$q:n}=i,s=Aa(o,n),l=$e(null),{refocusTargetEl:u,refocusTarget:c}=MF(o,l),d=Ic(o,NF),m=X(()=>o.val!==void 0&&Array.isArray(o.modelValue)),f=X(()=>{const N=oo(o.val);return m.value===!0?o.modelValue.findIndex(R=>oo(R)===N):-1}),p=X(()=>m.value===!0?f.value>-1:oo(o.modelValue)===oo(o.trueValue)),g=X(()=>m.value===!0?f.value===-1:oo(o.modelValue)===oo(o.falseValue)),b=X(()=>p.value===!1&&g.value===!1),x=X(()=>o.disable===!0?-1:o.tabindex||0),_=X(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(o.disable===!0?" disabled":"")+(s.value===!0?` q-${e}--dark`:"")+(o.dense===!0?` q-${e}--dense`:"")+(o.leftLabel===!0?" reverse":"")),y=X(()=>{const N=p.value===!0?"truthy":g.value===!0?"falsy":"indet",R=o.color!==void 0&&(o.keepColor===!0||(e==="toggle"?p.value===!0:g.value!==!0))?` text-${o.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${N}${R}`}),I=X(()=>{const N={type:"checkbox"};return o.name!==void 0&&Object.assign(N,{".checked":p.value,"^checked":p.value===!0?"checked":void 0,name:o.name,value:m.value===!0?o.val:o.trueValue}),N}),S=QI(I),O=X(()=>{const N={tabindex:x.value,role:e==="toggle"?"switch":"checkbox","aria-label":o.label,"aria-checked":b.value===!0?"mixed":p.value===!0?"true":"false"};return o.disable===!0&&(N["aria-disabled"]="true"),N});function F(N){N!==void 0&&(bo(N),c(N)),o.disable!==!0&&a("update:modelValue",M(),N)}function M(){if(m.value===!0){if(p.value===!0){const N=o.modelValue.slice();return N.splice(f.value,1),N}return o.modelValue.concat([o.val])}if(p.value===!0){if(o.toggleOrder!=="ft"||o.toggleIndeterminate===!1)return o.falseValue}else if(g.value===!0){if(o.toggleOrder==="ft"||o.toggleIndeterminate===!1)return o.trueValue}else return o.toggleOrder!=="ft"?o.trueValue:o.falseValue;return o.indeterminateValue}function E(N){(N.keyCode===13||N.keyCode===32)&&bo(N)}function D(N){(N.keyCode===13||N.keyCode===32)&&F(N)}const P=t(p,b);return Object.assign(i,{toggle:F}),()=>{const N=P();o.disable!==!0&&S(N,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const R=[ee("div",{class:y.value,style:d.value,"aria-hidden":"true"},N)];u.value!==null&&R.push(u.value);const z=o.label!==void 0?bi(r.default,[o.label]):ho(r.default);return z!==void 0&&R.push(ee("div",{class:`q-${e}__label q-anchor--skip`},z)),ee("div",{ref:l,class:_.value,...O.value,onClick:F,onKeydown:E,onKeyup:D},R)}}const pge=ee("div",{key:"svg",class:"q-checkbox__bg absolute"},[ee("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[ee("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),ee("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var pp=At({name:"QCheckbox",props:RF,emits:kF,setup(e){function t(o,r){const a=X(()=>(o.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>a.value!==null?[ee("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[ee(Ve,{class:"q-checkbox__icon",name:a.value})])]:[pge]}return VF("checkbox",t)}});const hge=ee("div",{class:"q-space"});var uD=At({name:"QSpace",setup(){return()=>hge}});function h1(e,t){return[!0,!1].includes(e)?e:t}var vge=At({name:"QPagination",props:{...Sa,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||l8.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:t}){const{proxy:o}=Ct(),{$q:r}=o,a=Aa(e,r),i=X(()=>parseInt(e.min,10)),n=X(()=>parseInt(e.max,10)),s=X(()=>parseInt(e.maxPages,10)),l=X(()=>p.value+" / "+n.value),u=X(()=>h1(e.boundaryLinks,e.input)),c=X(()=>h1(e.boundaryNumbers,!e.input)),d=X(()=>h1(e.directionLinks,e.input)),m=X(()=>h1(e.ellipses,!e.input)),f=$e(null),p=X({get:()=>e.modelValue,set:R=>{if(R=parseInt(R,10),e.disable||isNaN(R))return;const z=Cn(R,i.value,n.value);e.modelValue!==z&&t("update:modelValue",z)}});rt(()=>`${i.value}|${n.value}`,()=>{p.value=e.modelValue});const g=X(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),b=X(()=>e.gutter in pv?`${pv[e.gutter]}px`:e.gutter||null),x=X(()=>b.value!==null?`--q-pagination-gutter-parent:-${b.value};--q-pagination-gutter-child:${b.value}`:null),_=X(()=>{const R=[e.iconFirst||r.iconSet.pagination.first,e.iconPrev||r.iconSet.pagination.prev,e.iconNext||r.iconSet.pagination.next,e.iconLast||r.iconSet.pagination.last];return r.lang.rtl===!0?R.reverse():R}),y=X(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),I=X(()=>Yx(e,"flat")),S=X(()=>({[I.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),O=X(()=>{const R={[I.value]:!1};return e.activeDesign!==""&&(R[e.activeDesign]=!0),R}),F=X(()=>({...O.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),M=X(()=>{let R=Math.max(s.value,1+(m.value?2:0)+(c.value?2:0));const z={pgFrom:i.value,pgTo:n.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(n.value).length)}em`}};return s.value&&R<n.value-i.value+1&&(R=1+Math.floor(R/2)*2,z.pgFrom=Math.max(i.value,Math.min(n.value-R+1,e.modelValue-Math.floor(R/2))),z.pgTo=Math.min(n.value,z.pgFrom+R-1),c.value&&(z.boundaryStart=!0,z.pgFrom++),m.value&&z.pgFrom>i.value+(c.value?1:0)&&(z.ellipsesStart=!0,z.pgFrom++),c.value&&(z.boundaryEnd=!0,z.pgTo--),m.value&&z.pgTo<n.value-(c.value?1:0)&&(z.ellipsesEnd=!0,z.pgTo--)),z});function E(R){p.value=R}function D(R){p.value=p.value+R}const P=X(()=>{function R(){p.value=f.value,f.value=null}return{"onUpdate:modelValue":z=>{f.value=z},onKeyup:z=>{En(z,13)===!0&&R()},onBlur:R}});function N(R,z,W){const j={"aria-label":z,"aria-current":"false",...S.value,...R};return W===!0&&Object.assign(j,{"aria-current":"true",...F.value}),z!==void 0&&(e.toFn!==void 0?j.to=e.toFn(z):j.onClick=()=>{E(z)}),ee(pe,j)}return Object.assign(o,{set:E,setByOffset:D}),()=>{const R=[],z=[];let W;if(u.value===!0&&(R.push(N({key:"bls",disable:e.disable||e.modelValue<=i.value,icon:_.value[0]},i.value)),z.unshift(N({key:"ble",disable:e.disable||e.modelValue>=n.value,icon:_.value[3]},n.value))),d.value===!0&&(R.push(N({key:"bdp",disable:e.disable||e.modelValue<=i.value,icon:_.value[1]},e.modelValue-1)),z.unshift(N({key:"bdn",disable:e.disable||e.modelValue>=n.value,icon:_.value[2]},e.modelValue+1))),e.input!==!0){W=[];const{pgFrom:j,pgTo:Q,marginalStyle:se}=M.value;if(M.value.boundaryStart===!0){const _e=i.value===e.modelValue;R.push(N({key:"bns",style:se,disable:e.disable,label:i.value},i.value,_e))}if(M.value.boundaryEnd===!0){const _e=n.value===e.modelValue;z.unshift(N({key:"bne",style:se,disable:e.disable,label:n.value},n.value,_e))}M.value.ellipsesStart===!0&&R.push(N({key:"bes",style:se,disable:e.disable,label:"\u2026",ripple:!1},j-1)),M.value.ellipsesEnd===!0&&z.unshift(N({key:"bee",style:se,disable:e.disable,label:"\u2026",ripple:!1},Q+1));for(let _e=j;_e<=Q;_e++)W.push(N({key:`bpg${_e}`,style:se,disable:e.disable,label:_e},_e,_e===e.modelValue))}return ee("div",{class:g.value,...y.value},[ee("div",{class:"q-pagination__content row no-wrap items-center",style:x.value},[...R,e.input===!0?ee(Ca,{class:"inline",style:{width:`${l.value.length/1.5}em`},type:"number",dense:!0,value:f.value,disable:e.disable,dark:a.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:l.value,min:i.value,max:n.value,...P.value}):ee("div",{class:"q-pagination__middle row justify-center"},W),...z])])}}});async function gge(){var t;const e=await je.configuracoes.le({nome:"item.tipo"});for(const o of e){const r=(t=o.valor)==null?void 0:t.trim();!r||oE.push({rotulo:r,valor:r})}}let oE=[{rotulo:"Produto",valor:"Produto"},{rotulo:"Servi\xE7o",valor:"Servi\xE7o"},{rotulo:"Equipamento",valor:"Equipamento"}];Qx()==="optisoul"&&(oE=[{rotulo:"\xD3culos de Sol",valor:"\xD3culos Sol"},{rotulo:"\xD3culos Vista (Pronto)",valor:"\xD3culos Pronto"},{rotulo:"Arma\xE7\xE3o",valor:"Arma\xE7\xE3o"},{rotulo:"Lente Oft\xE1lmica",valor:"Lente"},{rotulo:"Lente de Contato",valor:"Lente Contato"},{rotulo:"Tratamento",valor:"Tratamento"},{rotulo:"Outro Produto",valor:"Produto"},{rotulo:"Servi\xE7o",valor:"Servi\xE7o"}]);var _ge=oE,bge=At({name:"QField",inheritAttrs:!1,props:{...n_,tag:{type:String,default:"label"}},emits:XI,setup(){return KI(YI({requiredForAttr:!1,tagProp:!0}))}});const yge={xs:8,sm:10,md:14,lg:20,xl:24};var Cge=At({name:"QChip",props:{...Sa,...wc,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:o}){const{proxy:{$q:r}}=Ct(),a=Aa(e,r),i=Ic(e,yge),n=X(()=>e.selected===!0||e.icon!==void 0),s=X(()=>e.selected===!0?e.iconSelected||r.iconSet.chip.selected:e.icon),l=X(()=>e.iconRemove||r.iconSet.chip.remove),u=X(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=X(()=>{const b=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(b?` text-${b} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(u.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),d=X(()=>{const b=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},x={...b,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||r.lang.label.remove};return{chip:b,remove:x}});function m(b){b.keyCode===13&&f(b)}function f(b){e.disable||(o("update:selected",!e.selected),o("click",b))}function p(b){(b.keyCode===void 0||b.keyCode===13)&&(bo(b),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function g(){const b=[];u.value===!0&&b.push(ee("div",{class:"q-focus-helper"})),n.value===!0&&b.push(ee(Ve,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const x=e.label!==void 0?[ee("div",{class:"ellipsis"},[e.label])]:void 0;return b.push(ee("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},px(t.default,x))),e.iconRight&&b.push(ee(Ve,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&b.push(ee(Ve,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:l.value,...d.value.remove,onClick:p,onKeyup:p})),b}return()=>{if(e.modelValue===!1)return;const b={class:c.value,style:i.value};return u.value===!0&&Object.assign(b,d.value.chip,{onClick:f,onKeyup:m}),Sp("div",b,g(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Cg,e.ripple]])}}});let Yp=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Yp=e.scrollLeft>=0,e.remove()}const Un=1e3,xge=["start","center","end","start-force","center-force","end-force"],qF=Array.prototype.filter,wge=window.getComputedStyle(document.body).overflowAnchor===void 0?Zn:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];qF.call(o,a=>a.dataset&&a.dataset.qVsAnchor!==void 0).forEach(a=>{delete a.dataset.qVsAnchor});const r=o[t];r&&r.dataset&&(r.dataset.qVsAnchor="")}))};function lf(e,t){return e+t}function T2(e,t,o,r,a,i,n,s){const l=e===window?document.scrollingElement||document.documentElement:e,u=a===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-n-s,scrollMaxSize:0,offsetStart:-n,offsetEnd:-s};if(a===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=l.scrollLeft,c.scrollViewSize+=l.clientWidth),c.scrollMaxSize=l.scrollWidth,i===!0&&(c.scrollStart=(Yp===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=l.scrollTop,c.scrollViewSize+=l.clientHeight),c.scrollMaxSize=l.scrollHeight),o!==null)for(let d=o.previousElementSibling;d!==null;d=d.previousElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=d[u]);if(r!==null)for(let d=r.nextElementSibling;d!==null;d=d.nextElementSibling)d.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=d[u]);if(t!==e){const d=l.getBoundingClientRect(),m=t.getBoundingClientRect();a===!0?(c.offsetStart+=m.left-d.left,c.offsetEnd-=m.width):(c.offsetStart+=m.top-d.top,c.offsetEnd-=m.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function dD(e,t,o,r){t==="end"&&(t=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(r===!0&&(t=(Yp===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):o===!0?(r===!0&&(t=(Yp===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Rm(e,t,o,r){if(o>=r)return 0;const a=t.length,i=Math.floor(o/Un),n=Math.floor((r-1)/Un)+1;let s=e.slice(i,n).reduce(lf,0);return o%Un!==0&&(s-=t.slice(i*Un,o).reduce(lf,0)),r%Un!==0&&r!==a&&(s-=t.slice(r,n*Un).reduce(lf,0)),s}const BF={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},LF=Object.keys(BF),$F={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...BF};function UF({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:o,virtualScrollItemSizeComputed:r}){const a=Ct(),{props:i,emit:n,proxy:s}=a,{$q:l}=s;let u,c,d,m=[],f;const p=$e(0),g=$e(0),b=$e({}),x=$e(null),_=$e(null),y=$e(null),I=$e({from:0,to:0}),S=X(()=>i.tableColspan!==void 0?i.tableColspan:100);r===void 0&&(r=X(()=>i.virtualScrollItemSize));const O=X(()=>r.value+";"+i.virtualScrollHorizontal),F=X(()=>O.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);rt(F,()=>{j()}),rt(O,M);function M(){W(c,!0)}function E(J){W(J===void 0?c:J)}function D(J,re){const ye=t();if(ye==null||ye.nodeType===8)return;const ge=T2(ye,o(),x.value,_.value,i.virtualScrollHorizontal,l.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);d!==ge.scrollViewSize&&j(ge.scrollViewSize),N(ye,ge,Math.min(e.value-1,Math.max(0,parseInt(J,10)||0)),0,xge.indexOf(re)>-1?re:c>-1&&J>c?"end":"start")}function P(){const J=t();if(J==null||J.nodeType===8)return;const re=T2(J,o(),x.value,_.value,i.virtualScrollHorizontal,l.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),ye=e.value-1,ge=re.scrollMaxSize-re.offsetStart-re.offsetEnd-g.value;if(u===re.scrollStart)return;if(re.scrollMaxSize<=0){N(J,re,0,0);return}d!==re.scrollViewSize&&j(re.scrollViewSize),R(I.value.from);const De=Math.floor(re.scrollMaxSize-Math.max(re.scrollViewSize,re.offsetEnd)-Math.min(f[ye],re.scrollViewSize/2));if(De>0&&Math.ceil(re.scrollStart)>=De){N(J,re,ye,re.scrollMaxSize-re.offsetEnd-m.reduce(lf,0));return}let Oe=0,he=re.scrollStart-re.offsetStart,Me=he;if(he<=ge&&he+re.scrollViewSize>=p.value)he-=p.value,Oe=I.value.from,Me=he;else for(let fe=0;he>=m[fe]&&Oe<ye;fe++)he-=m[fe],Oe+=Un;for(;he>0&&Oe<ye;)he-=f[Oe],he>-re.scrollViewSize?(Oe++,Me=he):Me=f[Oe]+he;N(J,re,Oe,Me)}function N(J,re,ye,ge,De){const Oe=typeof De=="string"&&De.indexOf("-force")>-1,he=Oe===!0?De.replace("-force",""):De,Me=he!==void 0?he:"start";let fe=Math.max(0,ye-b.value[Me]),G=fe+b.value.total;G>e.value&&(G=e.value,fe=Math.max(0,G-b.value.total)),u=re.scrollStart;const V=fe!==I.value.from||G!==I.value.to;if(V===!1&&he===void 0){se(ye);return}const{activeElement:L}=document,U=y.value;V===!0&&U!==null&&U!==L&&U.contains(L)===!0&&(U.addEventListener("focusout",z),setTimeout(()=>{U!==null&&U.removeEventListener("focusout",z)})),wge(U,ye-fe);const ie=he!==void 0?f.slice(fe,ye).reduce(lf,0):0;if(V===!0){const we=G>=I.value.from&&fe<=I.value.to?I.value.to:G;I.value={from:fe,to:we},p.value=Rm(m,f,0,fe),g.value=Rm(m,f,G,e.value),requestAnimationFrame(()=>{I.value.to!==G&&u===re.scrollStart&&(I.value={from:I.value.from,to:G},g.value=Rm(m,f,G,e.value))})}requestAnimationFrame(()=>{if(u!==re.scrollStart)return;V===!0&&R(fe);const we=f.slice(fe,ye).reduce(lf,0),H=we+re.offsetStart+p.value,q=H+f[ye];let k=H+ge;if(he!==void 0){const Y=we-ie,ne=re.scrollStart+Y;k=Oe!==!0&&ne<H&&q<ne+re.scrollViewSize?ne:he==="end"?q-re.scrollViewSize:H-(he==="start"?0:Math.round((re.scrollViewSize-f[ye])/2))}u=k,dD(J,k,i.virtualScrollHorizontal,l.lang.rtl),se(ye)})}function R(J){const re=y.value;if(re){const ye=qF.call(re.children,fe=>fe.classList&&fe.classList.contains("q-virtual-scroll--skip")===!1),ge=ye.length,De=i.virtualScrollHorizontal===!0?fe=>fe.getBoundingClientRect().width:fe=>fe.offsetHeight;let Oe=J,he,Me;for(let fe=0;fe<ge;){for(he=De(ye[fe]),fe++;fe<ge&&ye[fe].classList.contains("q-virtual-scroll--with-prev")===!0;)he+=De(ye[fe]),fe++;Me=he-f[Oe],Me!==0&&(f[Oe]+=Me,m[Math.floor(Oe/Un)]+=Me),Oe++}}}function z(){y.value!==null&&y.value!==void 0&&y.value.focus()}function W(J,re){const ye=1*r.value;(re===!0||Array.isArray(f)===!1)&&(f=[]);const ge=f.length;f.length=e.value;for(let Oe=e.value-1;Oe>=ge;Oe--)f[Oe]=ye;const De=Math.floor((e.value-1)/Un);m=[];for(let Oe=0;Oe<=De;Oe++){let he=0;const Me=Math.min((Oe+1)*Un,e.value);for(let fe=Oe*Un;fe<Me;fe++)he+=f[fe];m.push(he)}c=-1,u=void 0,p.value=Rm(m,f,0,I.value.from),g.value=Rm(m,f,I.value.to,e.value),J>=0?(R(I.value.from),Do(()=>{D(J)})):_e()}function j(J){if(J===void 0&&typeof window!="undefined"){const he=t();he!=null&&he.nodeType!==8&&(J=T2(he,o(),x.value,_.value,i.virtualScrollHorizontal,l.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}d=J;const re=parseFloat(i.virtualScrollSliceRatioBefore)||0,ye=parseFloat(i.virtualScrollSliceRatioAfter)||0,ge=1+re+ye,De=J===void 0||J<=0?1:Math.ceil(J/r.value),Oe=Math.max(1,De,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/ge));b.value={total:Math.ceil(Oe*ge),start:Math.ceil(Oe*re),center:Math.ceil(Oe*(.5+re)),end:Math.ceil(Oe*(1+re)),view:De}}function Q(J,re){const ye=i.virtualScrollHorizontal===!0?"width":"height",ge={["--q-virtual-scroll-item-"+ye]:r.value+"px"};return[J==="tbody"?ee(J,{class:"q-virtual-scroll__padding",key:"before",ref:x},[ee("tr",[ee("td",{style:{[ye]:`${p.value}px`,...ge},colspan:S.value})])]):ee(J,{class:"q-virtual-scroll__padding",key:"before",ref:x,style:{[ye]:`${p.value}px`,...ge}}),ee(J,{class:"q-virtual-scroll__content",key:"content",ref:y,tabindex:-1},re.flat()),J==="tbody"?ee(J,{class:"q-virtual-scroll__padding",key:"after",ref:_},[ee("tr",[ee("td",{style:{[ye]:`${g.value}px`,...ge},colspan:S.value})])]):ee(J,{class:"q-virtual-scroll__padding",key:"after",ref:_,style:{[ye]:`${g.value}px`,...ge}})]}function se(J){c!==J&&(i.onVirtualScroll!==void 0&&n("virtualScroll",{index:J,from:I.value.from,to:I.value.to-1,direction:J<c?"decrease":"increase",ref:s}),c=J)}j();const _e=cx(P,l.platform.is.ios===!0?120:35);e0(()=>{j()});let Ee=!1;return fl(()=>{Ee=!0}),Uu(()=>{if(Ee!==!0)return;const J=t();u!==void 0&&J!==void 0&&J!==null&&J.nodeType!==8?dD(J,u,i.virtualScrollHorizontal,l.lang.rtl):D(c)}),wo(()=>{_e.cancel()}),Object.assign(s,{scrollTo:D,reset:M,refresh:E}),{virtualScrollSliceRange:I,virtualScrollSliceSizeComputed:b,setVirtualScrollSize:j,onVirtualScrollEvt:_e,localResetVirtualScroll:W,padVirtualScroll:Q,scrollTo:D,reset:M,refresh:E}}const fD=e=>["add","add-unique","toggle"].includes(e),Ige=".*+?^${}()|[]\\",Ege=Object.keys(n_);var Kn=At({name:"QSelect",inheritAttrs:!1,props:{...$F,...P0,...n_,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:fD},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...XI,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:o}){const{proxy:r}=Ct(),{$q:a}=r,i=$e(!1),n=$e(!1),s=$e(-1),l=$e(""),u=$e(!1),c=$e(!1);let d=null,m=null,f,p,g,b=null,x,_,y,I;const S=$e(null),O=$e(null),F=$e(null),M=$e(null),E=$e(null),D=xF(e),P=wF(vt),N=X(()=>Array.isArray(e.options)?e.options.length:0),R=X(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:z,virtualScrollSliceSizeComputed:W,localResetVirtualScroll:j,padVirtualScroll:Q,onVirtualScrollEvt:se,scrollTo:_e,setVirtualScrollSize:Ee}=UF({virtualScrollLength:N,getVirtualScrollTarget:Ku,getVirtualScrollEl:Tc,virtualScrollItemSizeComputed:R}),J=YI(),re=X(()=>{const Se=e.mapOptions===!0&&e.multiple!==!0,mt=e.modelValue!==void 0&&(e.modelValue!==null||Se===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const ct=e.mapOptions===!0&&f!==void 0?f:[],Jt=mt.map(Xo=>Ze(Xo,ct));return e.modelValue===null&&Se===!0?Jt.filter(Xo=>Xo!==null):Jt}return mt}),ye=X(()=>{const Se={};return Ege.forEach(mt=>{const ct=e[mt];ct!==void 0&&(Se[mt]=ct)}),Se}),ge=X(()=>e.optionsDark===null?J.isDark.value:e.optionsDark),De=X(()=>Xp(re.value)),Oe=X(()=>{let Se="q-field__input q-placeholder col";return e.hideSelected===!0||re.value.length===0?[Se,e.inputClass]:(Se+=" q-field__input--padding",e.inputClass===void 0?Se:[Se,e.inputClass])}),he=X(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Me=X(()=>N.value===0),fe=X(()=>re.value.map(Se=>Ce.value(Se)).join(", ")),G=X(()=>e.displayValue!==void 0?e.displayValue:fe.value),V=X(()=>e.optionsHtml===!0?()=>!0:Se=>Se!=null&&Se.html===!0),L=X(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||re.value.some(V.value))),U=X(()=>J.focused.value===!0?e.tabindex:-1),ie=X(()=>{const Se={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${J.targetUid.value}_lb`};return s.value>=0&&(Se["aria-activedescendant"]=`${J.targetUid.value}_${s.value}`),Se}),we=X(()=>({id:`${J.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),H=X(()=>re.value.map((Se,mt)=>({index:mt,opt:Se,html:V.value(Se),selected:!0,removeAtIndex:It,toggleOption:vo,tabindex:U.value}))),q=X(()=>{if(N.value===0)return[];const{from:Se,to:mt}=z.value;return e.options.slice(Se,mt).map((ct,Jt)=>{const Xo=ve.value(ct)===!0,Bo=Lt(ct)===!0,za=Se+Jt,ha={clickable:!0,active:Bo,activeClass:ne.value,manualFocus:!0,focused:!1,disable:Xo,tabindex:-1,dense:e.optionsDense,dark:ge.value,role:"option","aria-selected":Bo===!0?"true":"false",id:`${J.targetUid.value}_${za}`,onClick:()=>{vo(ct)}};return Xo!==!0&&(s.value===za&&(ha.focused=!0),a.platform.is.desktop===!0&&(ha.onMousemove=()=>{i.value===!0&&Go(za)})),{index:za,opt:ct,html:V.value(ct),label:Ce.value(ct),selected:ha.active,focused:ha.focused,toggleOption:vo,setOptionIndex:Go,itemProps:ha}})}),k=X(()=>e.dropdownIcon!==void 0?e.dropdownIcon:a.iconSet.arrow.dropdown),Y=X(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ne=X(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),oe=X(()=>xt(e.optionValue,"value")),Ce=X(()=>xt(e.optionLabel,"label")),ve=X(()=>xt(e.optionDisable,"disable")),Fe=X(()=>re.value.map(Se=>oe.value(Se))),Le=X(()=>{const Se={onInput:vt,onChange:P,onKeydown:ns,onKeyup:Mr,onKeypress:Oi,onFocus:ao,onClick(mt){p===!0&&ti(mt)}};return Se.onCompositionstart=Se.onCompositionupdate=Se.onCompositionend=P,Se});rt(re,Se=>{f=Se,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&J.innerLoading.value!==!0&&(n.value!==!0&&i.value!==!0||De.value!==!0)&&(g!==!0&&Ss(),(n.value===!0||i.value===!0)&&eo(""))},{immediate:!0}),rt(()=>e.fillInput,Ss),rt(i,em),rt(N,f_);function tt(Se){return e.emitValue===!0?oe.value(Se):Se}function ot(Se){if(Se>-1&&Se<re.value.length)if(e.multiple===!0){const mt=e.modelValue.slice();o("remove",{index:Se,value:mt.splice(Se,1)[0]}),o("update:modelValue",mt)}else o("update:modelValue",null)}function It(Se){ot(Se),J.focus()}function Zt(Se,mt){const ct=tt(Se);if(e.multiple!==!0){e.fillInput===!0&&Xt(Ce.value(Se),!0,!0),o("update:modelValue",ct);return}if(re.value.length===0){o("add",{index:0,value:ct}),o("update:modelValue",e.multiple===!0?[ct]:ct);return}if(mt===!0&&Lt(Se)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const Jt=e.modelValue.slice();o("add",{index:Jt.length,value:ct}),Jt.push(ct),o("update:modelValue",Jt)}function vo(Se,mt){if(J.editable.value!==!0||Se===void 0||ve.value(Se)===!0)return;const ct=oe.value(Se);if(e.multiple!==!0){mt!==!0&&(Xt(e.fillInput===!0?Ce.value(Se):"",!0,!0),Es()),O.value!==null&&O.value.focus(),(re.value.length===0||Ws(oe.value(re.value[0]),ct)!==!0)&&o("update:modelValue",e.emitValue===!0?ct:Se);return}if((p!==!0||u.value===!0)&&J.focus(),ao(),re.value.length===0){const Bo=e.emitValue===!0?ct:Se;o("add",{index:0,value:Bo}),o("update:modelValue",e.multiple===!0?[Bo]:Bo);return}const Jt=e.modelValue.slice(),Xo=Fe.value.findIndex(Bo=>Ws(Bo,ct));if(Xo>-1)o("remove",{index:Xo,value:Jt.splice(Xo,1)[0]});else{if(e.maxValues!==void 0&&Jt.length>=e.maxValues)return;const Bo=e.emitValue===!0?ct:Se;o("add",{index:Jt.length,value:Bo}),Jt.push(Bo)}o("update:modelValue",Jt)}function Go(Se){if(a.platform.is.desktop!==!0)return;const mt=Se>-1&&Se<N.value?Se:-1;s.value!==mt&&(s.value=mt)}function Ta(Se=1,mt){if(i.value===!0){let ct=s.value;do ct=eO(ct+Se,-1,N.value-1);while(ct!==-1&&ct!==s.value&&ve.value(e.options[ct])===!0);s.value!==ct&&(Go(ct),_e(ct),mt!==!0&&e.useInput===!0&&e.fillInput===!0&&Vt(ct>=0?Ce.value(e.options[ct]):x,!0))}}function Ze(Se,mt){const ct=Jt=>Ws(oe.value(Jt),Se);return e.options.find(ct)||mt.find(ct)||Se}function xt(Se,mt){const ct=Se!==void 0?Se:mt;return typeof ct=="function"?ct:Jt=>Jt!==null&&typeof Jt=="object"&&ct in Jt?Jt[ct]:Jt}function Lt(Se){const mt=oe.value(Se);return Fe.value.find(ct=>Ws(ct,mt))!==void 0}function ao(Se){e.useInput===!0&&O.value!==null&&(Se===void 0||O.value===Se.target&&Se.target.value===fe.value)&&O.value.select()}function ko(Se){En(Se,27)===!0&&i.value===!0&&(ti(Se),Es(),Ss()),o("keyup",Se)}function Mr(Se){const{value:mt}=Se.target;if(Se.keyCode!==void 0){ko(Se);return}if(Se.target.value="",d!==null&&(clearTimeout(d),d=null),m!==null&&(clearTimeout(m),m=null),Ss(),typeof mt=="string"&&mt.length!==0){const ct=mt.toLocaleLowerCase(),Jt=Bo=>{const za=e.options.find(ha=>Bo.value(ha).toLocaleLowerCase()===ct);return za===void 0?!1:(re.value.indexOf(za)===-1?vo(za):Es(),!0)},Xo=Bo=>{Jt(oe)!==!0&&(Jt(Ce)===!0||Bo===!0||eo(mt,!0,()=>Xo(!0)))};Xo()}else J.clearValue(Se)}function Oi(Se){o("keypress",Se)}function ns(Se){if(o("keydown",Se),ug(Se)===!0)return;const mt=l.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),ct=Se.shiftKey!==!0&&e.multiple!==!0&&(s.value>-1||mt===!0);if(Se.keyCode===27){oi(Se);return}if(Se.keyCode===9&&ct===!1){bl();return}if(Se.target===void 0||Se.target.id!==J.targetUid.value||J.editable.value!==!0)return;if(Se.keyCode===40&&J.innerLoading.value!==!0&&i.value===!1){bo(Se),yl();return}if(Se.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&l.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ot(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(Se.keyCode===35||Se.keyCode===36)&&(typeof l.value!="string"||l.value.length===0)&&(bo(Se),s.value=-1,Ta(Se.keyCode===36?1:-1,e.multiple)),(Se.keyCode===33||Se.keyCode===34)&&W.value!==void 0&&(bo(Se),s.value=Math.max(-1,Math.min(N.value,s.value+(Se.keyCode===33?-1:1)*W.value.view)),Ta(Se.keyCode===33?1:-1,e.multiple)),(Se.keyCode===38||Se.keyCode===40)&&(bo(Se),Ta(Se.keyCode===38?-1:1,e.multiple));const Jt=N.value;if((y===void 0||I<Date.now())&&(y=""),Jt>0&&e.useInput!==!0&&Se.key!==void 0&&Se.key.length===1&&Se.altKey===!1&&Se.ctrlKey===!1&&Se.metaKey===!1&&(Se.keyCode!==32||y.length!==0)){i.value!==!0&&yl(Se);const Xo=Se.key.toLocaleLowerCase(),Bo=y.length===1&&y[0]===Xo;I=Date.now()+1500,Bo===!1&&(bo(Se),y+=Xo);const za=new RegExp("^"+y.split("").map(Ju=>Ige.indexOf(Ju)>-1?"\\"+Ju:Ju).join(".*"),"i");let ha=s.value;if(Bo===!0||ha<0||za.test(Ce.value(e.options[ha]))!==!0)do ha=eO(ha+1,-1,Jt-1);while(ha!==s.value&&(ve.value(e.options[ha])===!0||za.test(Ce.value(e.options[ha]))!==!0));s.value!==ha&&Do(()=>{Go(ha),_e(ha),ha>=0&&e.useInput===!0&&e.fillInput===!0&&Vt(Ce.value(e.options[ha]),!0)});return}if(!(Se.keyCode!==13&&(Se.keyCode!==32||e.useInput===!0||y!=="")&&(Se.keyCode!==9||ct===!1))){if(Se.keyCode!==9&&bo(Se),s.value>-1&&s.value<Jt){vo(e.options[s.value]);return}if(mt===!0){const Xo=(Bo,za)=>{if(za){if(fD(za)!==!0)return}else za=e.newValueMode;if(Xt("",e.multiple!==!0,!0),Bo==null)return;(za==="toggle"?vo:Zt)(Bo,za==="add-unique"),e.multiple!==!0&&(O.value!==null&&O.value.focus(),Es())};if(e.onNewValue!==void 0?o("newValue",l.value,Xo):Xo(l.value),e.multiple!==!0)return}i.value===!0?bl():J.innerLoading.value!==!0&&yl()}}function Tc(){return p===!0?E.value:F.value!==null&&F.value.contentEl!==null?F.value.contentEl:void 0}function Ku(){return Tc()}function Jf(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?H.value.map(Se=>t["selected-item"](Se)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?H.value.map((Se,mt)=>ee(Cge,{key:"option-"+mt,removable:J.editable.value===!0&&ve.value(Se.opt)!==!0,dense:!0,textColor:e.color,tabindex:U.value,onRemove(){Se.removeAtIndex(mt)}},()=>ee("span",{class:"ellipsis",[Se.html===!0?"innerHTML":"textContent"]:Ce.value(Se.opt)}))):[ee("span",{[L.value===!0?"innerHTML":"textContent"]:G.value})]}function Qu(){if(Me.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:l.value}):void 0;const Se=t.option!==void 0?t.option:ct=>ee(We,{key:ct.index,...ct.itemProps},()=>ee(Ie,()=>ee(Be,()=>ee("span",{[ct.html===!0?"innerHTML":"textContent"]:ct.label}))));let mt=Q("div",q.value.map(Se));return t["before-options"]!==void 0&&(mt=t["before-options"]().concat(mt)),bi(t["after-options"],mt)}function He(Se,mt){const ct=mt===!0?{...ie.value,...J.splitAttrs.attributes.value}:void 0,Jt={ref:mt===!0?O:void 0,key:"i_t",class:Oe.value,style:e.inputStyle,value:l.value!==void 0?l.value:"",type:"search",...ct,id:mt===!0?J.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":Se===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Le.value};return Se!==!0&&p===!0&&(Array.isArray(Jt.class)===!0?Jt.class=[...Jt.class,"no-pointer-events"]:Jt.class+=" no-pointer-events"),ee("input",Jt)}function vt(Se){d!==null&&(clearTimeout(d),d=null),m!==null&&(clearTimeout(m),m=null),!(Se&&Se.target&&Se.target.qComposing===!0)&&(Vt(Se.target.value||""),g=!0,x=l.value,J.focused.value!==!0&&(p!==!0||u.value===!0)&&J.focus(),e.onFilter!==void 0&&(d=setTimeout(()=>{d=null,eo(l.value)},e.inputDebounce)))}function Vt(Se,mt){l.value!==Se&&(l.value=Se,mt===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",Se):m=setTimeout(()=>{m=null,o("inputValue",Se)},e.inputDebounce))}function Xt(Se,mt,ct){g=ct!==!0,e.useInput===!0&&(Vt(Se,!0),(mt===!0||ct!==!0)&&(x=Se),mt!==!0&&eo(Se))}function eo(Se,mt,ct){if(e.onFilter===void 0||mt!==!0&&J.focused.value!==!0)return;J.innerLoading.value===!0?o("filterAbort"):(J.innerLoading.value=!0,c.value=!0),Se!==""&&e.multiple!==!0&&re.value.length!==0&&g!==!0&&Se===Ce.value(re.value[0])&&(Se="");const Jt=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);b!==null&&clearTimeout(b),b=Jt,o("filter",Se,(Xo,Bo)=>{(mt===!0||J.focused.value===!0)&&b===Jt&&(clearTimeout(b),typeof Xo=="function"&&Xo(),c.value=!1,Do(()=>{J.innerLoading.value=!1,J.editable.value===!0&&(mt===!0?i.value===!0&&Es():i.value===!0?em(!0):i.value=!0),typeof Bo=="function"&&Do(()=>{Bo(r)}),typeof ct=="function"&&Do(()=>{ct(r)})}))},()=>{J.focused.value===!0&&b===Jt&&(clearTimeout(b),J.innerLoading.value=!1,c.value=!1),i.value===!0&&(i.value=!1)})}function ia(){return ee(Xa,{ref:F,class:he.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Me.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ge.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Y.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...we.value,onScrollPassive:se,onBeforeShow:R0,onBeforeHide:Wo,onShow:Di},Qu)}function Wo(Se){k0(Se),bl()}function Di(){Ee()}function Ua(Se){ti(Se),O.value!==null&&O.value.focus(),u.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function gl(Se){ti(Se),Do(()=>{u.value=!1})}function _l(){const Se=[ee(bge,{class:`col-auto ${J.fieldClass.value}`,...ye.value,for:J.targetUid.value,dark:ge.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:l.value.length!==0,...J.splitAttrs.listeners.value,onFocus:Ua,onBlur:gl},{...t,rawControl:()=>J.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&Se.push(ee("div",{ref:E,class:he.value+" scroll",style:e.popupContentStyle,...we.value,onClick:oi,onScrollPassive:se},Qu())),ee(Qt,{ref:M,modelValue:n.value,position:e.useInput===!0?"top":void 0,transitionShow:_,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:R0,onBeforeHide:Zf,onHide:u_,onShow:d_},()=>ee("div",{class:"q-select__dialog"+(ge.value===!0?" q-select__dialog--dark q-dark":"")+(u.value===!0?" q-select__dialog--focused":"")},Se))}function Zf(Se){k0(Se),M.value!==null&&M.value.__updateRefocusTarget(J.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),J.focused.value=!1}function u_(Se){Es(),J.focused.value===!1&&o("blur",Se),Ss()}function d_(){const Se=document.activeElement;(Se===null||Se.id!==J.targetUid.value)&&O.value!==null&&O.value!==Se&&O.value.focus(),Ee()}function bl(){n.value!==!0&&(s.value=-1,i.value===!0&&(i.value=!1),J.focused.value===!1&&(b!==null&&(clearTimeout(b),b=null),J.innerLoading.value===!0&&(o("filterAbort"),J.innerLoading.value=!1,c.value=!1)))}function yl(Se){J.editable.value===!0&&(p===!0?(J.onControlFocusin(Se),n.value=!0,Do(()=>{J.focus()})):J.focus(),e.onFilter!==void 0?eo(l.value):(Me.value!==!0||t["no-option"]!==void 0)&&(i.value=!0))}function Es(){n.value=!1,bl()}function Ss(){e.useInput===!0&&Xt(e.multiple!==!0&&e.fillInput===!0&&re.value.length!==0&&Ce.value(re.value[0])||"",!0,!0)}function em(Se){let mt=-1;if(Se===!0){if(re.value.length!==0){const ct=oe.value(re.value[0]);mt=e.options.findIndex(Jt=>Ws(oe.value(Jt),ct))}j(mt)}Go(mt)}function f_(Se,mt){i.value===!0&&J.innerLoading.value===!1&&(j(-1,!0),Do(()=>{i.value===!0&&J.innerLoading.value===!1&&(Se>mt?j():em(!0))}))}function F0(){n.value===!1&&F.value!==null&&F.value.updatePosition()}function R0(Se){Se!==void 0&&ti(Se),o("popupShow",Se),J.hasPopupOpen=!0,J.onControlFocusin(Se)}function k0(Se){Se!==void 0&&ti(Se),o("popupHide",Se),J.hasPopupOpen=!1,J.onControlFocusout(Se)}function V0(){p=a.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Me.value===!1:!0),_=a.platform.is.ios===!0&&p===!0&&e.useInput===!0?"fade":e.transitionShow}return ag(V0),t0(F0),V0(),wo(()=>{d!==null&&clearTimeout(d),m!==null&&clearTimeout(m)}),Object.assign(r,{showPopup:yl,hidePopup:Es,removeAtIndex:ot,add:Zt,toggleOption:vo,getOptionIndex:()=>s.value,setOptionIndex:Go,moveOptionSelection:Ta,filter:eo,updateMenuPosition:F0,updateInputValue:Xt,isOptionSelected:Lt,getEmittingOptionValue:tt,isOptionDisabled:(...Se)=>ve.value.apply(null,Se)===!0,getOptionValue:(...Se)=>oe.value.apply(null,Se),getOptionLabel:(...Se)=>Ce.value.apply(null,Se)}),Object.assign(J,{innerValue:re,fieldClass:X(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:S,targetRef:O,hasValue:De,showPopup:yl,floatingLabel:X(()=>e.hideSelected!==!0&&De.value===!0||typeof l.value=="number"||l.value.length!==0||Xp(e.displayValue)),getControlChild:()=>{if(J.editable.value!==!1&&(n.value===!0||Me.value!==!0||t["no-option"]!==void 0))return p===!0?_l():ia();J.hasPopupOpen===!0&&(J.hasPopupOpen=!1)},controlEvents:{onFocusin(Se){J.onControlFocusin(Se)},onFocusout(Se){J.onControlFocusout(Se,()=>{Ss(),bl()})},onClick(Se){if(oi(Se),p!==!0&&i.value===!0){bl(),O.value!==null&&O.value.focus();return}yl(Se)}},getControl:Se=>{const mt=Jf(),ct=Se===!0||n.value!==!0||p!==!0;if(e.useInput===!0)mt.push(He(Se,ct));else if(J.editable.value===!0){const Xo=ct===!0?ie.value:void 0;mt.push(ee("input",{ref:ct===!0?O:void 0,key:"d_t",class:"q-select__focus-target",id:ct===!0?J.targetUid.value:void 0,value:G.value,readonly:!0,"data-autofocus":Se===!0||e.autofocus===!0||void 0,...Xo,onKeydown:ns,onKeyup:ko,onKeypress:Oi})),ct===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&mt.push(ee("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Mr}))}if(D.value!==void 0&&e.disable!==!0&&Fe.value.length!==0){const Xo=Fe.value.map(Bo=>ee("option",{value:Bo,selected:!0}));mt.push(ee("select",{class:"hidden",name:D.value,multiple:e.multiple},Xo))}const Jt=e.useInput===!0||ct!==!0?void 0:J.splitAttrs.attributes.value;return ee("div",{class:"q-field__native row items-center",...Jt,...J.splitAttrs.listeners.value},mt)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[ee(Ve,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:k.value})]:null}),KI(J)}}),ku=At({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:o}){const r=Ct(),a=$e(null);let i=0;const n=[];function s(f){const p=typeof f=="boolean"?f:e.noErrorFocus!==!0,g=++i,b=(y,I)=>{o("validation"+(y===!0?"Success":"Error"),I)},x=y=>{const I=y.validate();return typeof I.then=="function"?I.then(S=>({valid:S,comp:y}),S=>({valid:!1,comp:y,err:S})):Promise.resolve({valid:I,comp:y})};return(e.greedy===!0?Promise.all(n.map(x)).then(y=>y.filter(I=>I.valid!==!0)):n.reduce((y,I)=>y.then(()=>x(I).then(S=>{if(S.valid===!1)return Promise.reject(S)})),Promise.resolve()).catch(y=>[y])).then(y=>{if(y===void 0||y.length===0)return g===i&&b(!0),!0;if(g===i){const{comp:I,err:S}=y[0];if(S!==void 0&&console.error(S),b(!1,I),p===!0){const O=y.find(({comp:F})=>typeof F.focus=="function"&&xg(F.$)===!1);O!==void 0&&O.comp.focus()}}return!1})}function l(){i++,n.forEach(f=>{typeof f.resetValidation=="function"&&f.resetValidation()})}function u(f){f!==void 0&&bo(f);const p=i+1;s().then(g=>{p===i&&g===!0&&(e.onSubmit!==void 0?o("submit",f):f!==void 0&&f.target!==void 0&&typeof f.target.submit=="function"&&f.target.submit())})}function c(f){f!==void 0&&bo(f),o("reset"),Do(()=>{l(),e.autofocus===!0&&e.noResetFocus!==!0&&d()})}function d(){D0(()=>{if(a.value===null)return;const f=a.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(a.value.querySelectorAll("[tabindex]"),p=>p.tabIndex>-1);f!=null&&f.focus({preventScroll:!0})})}_s(M4,{bindComponent(f){n.push(f)},unbindComponent(f){const p=n.indexOf(f);p>-1&&n.splice(p,1)}});let m=!1;return fl(()=>{m=!0}),Uu(()=>{m===!0&&e.autofocus===!0&&d()}),tr(()=>{e.autofocus===!0&&d()}),Object.assign(r.proxy,{validate:s,resetValidation:l,submit:u,reset:c,focus:d,getValidationComponents:()=>n}),()=>ee("form",{class:"q-form",ref:a,onSubmit:u,onReset:c},ho(t.default))}});const Sge={data(){return{value:"",valueTmp:"",values:[],options:[],hint:"",rules:{add:[e=>(e||"").trim()!==""||"Campo obrigat\xF3rio",async e=>(await this.getOptions(),this.values.find(t=>t.toLowerCase()===e.toLowerCase())?`${this.label||"Valor"} j\xE1 existente`:!0)],value:this.required?[e=>e!==""||"Campo obrigat\xF3rio"]:[]},addDialog:!1}},emits:["update:modelValue"],methods:{showAddDialog(){this.valueTmp="",this.addDialog=!0},add(){this.select(this.valueTmp),this.values.push(this.value),this.values.sort((e,t)=>$utils.removerAcentos(e.toLowerCase())<$utils.removerAcentos(t.toLowerCase())?-1:1),this.options=this.values,this.addDialog=!1},async search(e,t){if((!e||e.length<1)&&!this.buscarSemCaractere)return!1;await this.getOptions(),setTimeout(()=>{t(()=>{if(e||(this.options=this.values),e){const o=$utils.removerAcentos(e).toLowerCase().replace(/\s+/," ").trim().split(" ");this.options=this.values.filter(r=>{typeof r=="object"&&(r=r[this.campo]);let a=$utils.removerAcentos(r).toLowerCase().replace(/\s+/," ").trim();for(const i of o)if(!~a.indexOf(i))return!1;return!0})}})},500)},select(e,t){let o=this;this.value=e,console.log(" this.valueTmp => ",this.valueTmp,e),this.$emit("update:modelValue",e),this.clearAfterSelect&&setTimeout(()=>{o.value=""},100)},async getOptions(){return this.loadingOptions?(this.loadingOptions.then(()=>{if(!this.lastItemCached||!$db.item.itens.length)return;const e=$db.item.itens[$db.item.itens.length-1],t=(e[this.campo]||"").trim();if(e.id!==this.lastItemCached.id||(this.lastItemCached[this.campo]||"").trim()!==t){const o=this.values.find(r=>$utils.removerAcentos(r.toLowerCase())===$utils.removerAcentos(t.toLowerCase()));if(!t||o)return;this.values.push(t)}}),this.loadingOptions):(this.loadingOptions=new Promise(async(e,t)=>{var o;try{if(this.tabela==="item"){await $db.item.carregarMemoria(),$db.item.itens.length&&(this.lastItemCached=$db.item.itens[$db.item.itens.length-1]);for(const r of $db.item.itens){const a=(r[this.campo]||"").trim();((o=this.filtro)==null?void 0:o.tipo)&&(r==null?void 0:r.tipo)!==this.filtro.tipo||!a||this.values.push(a)}}if(this.tabela==="contato"){await $db.contato.carregarMemoria();let r=$db.contato.contatos;if(this.filtro&&this.filtro.vendedores){const a=["vendedor","vendedora","vendedores","Vendedor","Vendedora","Vendedores","VENDEDOR","VENDEDORA","VENDEDORES"],n=(await Z().contatoGrupo.where("descricao").anyOf(a).toArray()).map(s=>s.idContato);r=r.filter(s=>~n.indexOf(s.id))}for(const a of r){const i=(a[this.campo]||"").trim();let n=null;this.enableObj?n=this.values.find(s=>$utils.removerAcentos(s[this.campo].toLowerCase())===$utils.removerAcentos(i.toLowerCase())):n=this.values.find(s=>$utils.removerAcentos(s.toLowerCase())===$utils.removerAcentos(i.toLowerCase())),!(!i||n)&&(this.enableObj?this.values.push({label:a.nome,value:a.id,nome:a.nome}):this.values.push(i))}}if(this.tabela==="contatoGrupo"){let r=await $db.contato.leGruposUnicos();for(const a of r)this.values.push({label:a.descricao,value:a.descricao})}if(!~["contato","item"].indexOf(this.tabela)){let r,a;a=1e4,r=await $erp()[this.tabela].count();for(let i=0;i<r;i+=a)await $erp()[this.tabela].offset(i).limit(a).each(n=>{var u;const s=(n[this.campo]||"").trim(),l=this.values.find(c=>$utils.removerAcentos(c.toLowerCase())===$utils.removerAcentos(s.toLowerCase()));((u=this.filtro)==null?void 0:u.tipo)&&n.tipo!==this.filtro.tipo||!s||l||this.values.push(s)})}this.values=Array.from(new Set(this.values)),this.tabela!=="contatoGrupo"&&(this.tabela!=="contato"||!this.enableObj)&&this.values.sort((r,a)=>$utils.removerAcentos(r.toLowerCase())<$utils.removerAcentos(a.toLowerCase())?-1:1),this.options=this.values,e()}catch(r){t(r)}}),this.loadingOptions)}},props:{campo:{type:String,required:!0},onKeyDown:{type:Function,required:!1,default:()=>!1},tabela:{type:String,required:!0},clearable:{type:Boolean,required:!1,default:!0},filtro:{},label:{type:String},maxLength:{type:[Number,String],default:50},modelValue:{type:String},onFocus:{type:Function,required:!1,default:()=>!1},buscarSemCaractere:{type:Boolean,required:!1,default:!1},required:Boolean,enableAdd:Boolean,clearAfterSelect:{type:Boolean,required:!1,default:!1},enableObj:{type:Boolean,required:!1,default:!1}},watch:{modelValue(){this.value=this.modelValue}},created(){this.value=this.modelValue}},Age={class:"text-h5"},Tge={class:"col-12 flex justify-end"};function Oge(e,t,o,r,a,i){const n=ke("campo");return $(),be("div",null,[v(Kn,{ref:"select","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",onFilter:i.search,"onUpdate:modelValue":i.select,onClear:t[0]||(t[0]=s=>i.select("")),"model-value":a.value,clearable:o.clearable,label:o.label,options:a.options,"emit-value":!o.enableObj,hint:a.hint,rules:a.rules.value},{append:w(()=>[o.enableAdd?($(),ue(pe,{key:0,color:"tertiary",size:"md",icon:"add_circle",dense:"",flat:"",round:"",onClick:st(i.showAddDialog,["stop"])},null,8,["onClick"])):ce("",!0)]),"no-option":w(()=>[v(We,null,{default:w(()=>[v(Ie,{class:"text-grey"},{default:w(()=>[te(" Resultado n\xE3o encontrado ")]),_:1})]),_:1})]),_:1},8,["onFilter","onUpdate:modelValue","model-value","clearable","label","options","emit-value","hint","rules"]),v(Qt,{modelValue:a.addDialog,"onUpdate:modelValue":t[2]||(t[2]=s=>a.addDialog=s)},{default:w(()=>[v(Bt,null,{default:w(()=>[v(Ja,null,{default:w(()=>[A("div",Age,de(o.label),1)]),_:1}),v(Ja,null,{default:w(()=>[v(ku,{class:"row q-pr-md q-gutter-md",onSubmit:i.add},{default:w(()=>[v(n,{modelValue:a.valueTmp,"onUpdate:modelValue":t[1]||(t[1]=s=>a.valueTmp=s),modelModifiers:{trim:!0},class:"col-12",rules:a.rules.add,maxlength:o.maxLength,rotulo:o.label},null,8,["modelValue","rules","maxlength","rotulo"]),A("div",Tge,[Te(v(pe,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[lt]]),v(pe,{unelevated:"",color:"primary",type:"submit",label:"Criar"})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Dge=ht(Sge,[["render",Oge]]);const Pge={components:{ItemCard:DF,SeletorCampoTabela:Dge},computed:{habilitarOpcaoUltimaVenda(){return this.filtro.idEmpresa&&this.filtro.idContato&&!this.contatoConsumidor},itensEncontrados(){return this.itens.length},sku(){let e=0;for(const t in this.itensSelecionados)e+=this.itensSelecionados[t].quantidade>0?1:0;return e},valorItensSelecionados(){let e=0;if(this.calculaItemCusto)for(const t in this.itensSelecionados){const o=Wa((this.itensSelecionados[t].item.valorCustoReposicao||0)*this.itensSelecionados[t].quantidade);e=Wa(e+o)}else for(const t in this.itensSelecionados){const o=Wa((this.itensSelecionados[t].item.novoValorVenda||this.itensSelecionados[t].item.valorVenda||0)*this.itensSelecionados[t].quantidade);e=Wa(e+o)}return e},opcoesStatus(){return[{rotulo:"Linha",valor:"Linha"},{rotulo:"Fora de Linha",valor:"Fora de Linha"},{rotulo:"Promo\xE7\xE3o",valor:"Promo\xE7\xE3o"}]}},data(){var e;return{carregando:!0,mostrarFiltroAvancado:!1,mostrarUltimaVenda:!1,focarNaBusca:!0,checaEstoque:!1,carregandoEstoque:!0,estoque:[],itens:[],ultimaVenda:{},itensSelecionados:{},valores:{},termo:"",status:"",contatoConsumidor:null,historicoVendasOnline:{executando:!1,sucesso:!1,erro:!1},opcoesTipo:[],paginacao:{atual:1,maximo:1,limite:(e=localStorage.getItem("promptItemV2PaginacaoLimite"))!=null?e:30},paginaAtual:1,visibilidade:{modal:!1}}},emits:["update:modelValue","selecionarItens","limparFiltroAvancado","fechar"],methods:{toggleUltimaVenda(){this.mostrarUltimaVenda=!this.mostrarUltimaVenda,this.atualizar()},togglePromocao(){if(this.status==="Promo\xE7\xE3o"){this.status="",this.atualizar();return}this.status!=="Promo\xE7\xE3o"&&(this.status="Promo\xE7\xE3o",this.atualizar())},adicionar(e){this.focarNaBusca=!1;const t=$utils.clonarV2(this.itensSelecionados);t[e.item.id]=e,this.itensSelecionados=t},async leOpcoesTipo(){this.opcoesTipo=_ge},limparFiltroAvancado(){var e;this.filtroAvancado.descricaoAplicacao="",this.filtroAvancado.codigoItem="",this.filtroAvancado.codigoBarras="",this.filtroAvancado.referencia="",this.filtroAvancado.marca="",this.filtroAvancado.fornecedores="",this.filtroAvancado.grupo="",this.filtroAvancado.subGrupo="",this.filtroAvancado.estoque="",this.filtroAvancado.tipo="",this.filtroAvancado.codigoCompra="",this.status="",this.paginacao.limite=(e=localStorage.getItem("promptItemV2PaginacaoLimite"))!=null?e:30,this.mostrarUltimaVenda=!1,this.$emit("limparFiltroAvancado"),this.$nextTick(this.atualizar)},async obterHistoricoVendasOnline(){if(this.contatoConsumidor===null){const e=await $db.configuracoes.leValorNumerico("venda.codigoconsumidor"),t=(await $db.contato.ler({filtros:{codigoContato:Number(e)}})).data[0];this.contatoConsumidor=(t==null?void 0:t.id)===this.filtro.idContato}if(!(this.obtendoHistoricoVendasOnline||!this.habilitarOpcaoUltimaVenda))return this.obtendoHistoricoVendasOnline=new Promise(async(e,t)=>{var o,r;this.historicoVendasOnline={executando:!0,sucesso:!1,erro:!1};try{const a={},i=await $utils.geeksApi({historicoVenda:{funcao:"E662FDB1-71E0-42BC-BD11-FC28269BBD73",idEmpresa:this.filtro.idEmpresa,idContato:this.filtro.idContato}});(r=(o=i==null?void 0:i.data)==null?void 0:o.historicoVenda)==null||r.forEach(n=>{a[n.idItem]=n}),this.ultimaVenda=a,this.historicoVendasOnline.sucesso=!0,e()}catch{this.historicoVendasOnline.erro=!0,delete this.obtendoHistoricoVendasOnline,e()}this.historicoVendasOnline.executando=!1}),this.obtendoHistoricoVendasOnline},async atualizar(){this.carregando=!0,await hf(200);const e=this.termo==="#teste100#";let t=[],o,r,a,i;if(localStorage.setItem("promptItemV2PaginacaoLimite",this.paginacao.limite),this.paginacao.atual===this.paginaAtual&&(this.paginacao.atual=1),this.mostrarUltimaVenda&&await this.obterHistoricoVendasOnline(),a=this.paginacao.limite,i=this.paginacao.atual,r=this.termo,e&&($q.loading.show({message:"Coletando dados para teste...",html:!0,boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"}),await hf(200),a=i=r=void 0),o=await $db.item.ler({filtros:{...this.filtro,...this.filtroAvancado,...this.mostrarUltimaVenda?{ids:Object.keys(this.ultimaVenda)}:{},termoBusca:r,status:this.status},limit:a,page:i,sort:["descricaoConcatenada"]}),this.paginaAtual=this.paginacao.atual,this.paginacao.maximo=o.totalPages,t=o.data,t.length&&this.filtro.idTabelaPreco){let n=await $erp().itemTabelaPreco.get(this.filtro.idTabelaPreco)||{};if(n.id){const s=await $erp().itemTabelaPreco.toArray();for(let l of t.filter(u=>u.valorVenda)){let u=await $db.itemTabelaPreco.obterValores(n,l,4,s)||{};this.valores[l.id]=u,l.valorVenda=u.valorVenda||0,l.valorReal=u.valorVenda||0}}}if(t=t.map(n=>this.itensSelecionados[n.id]?this.itensSelecionados[n.id].item:n),this.itens=t,await this.obterConfigChecaEstoque(),await this.carregarEstoque(),e){for(const n of this.estoque)n.tiposSaldos.find(s=>s.tipoEstoque==="Dispon\xEDvel"&&s.saldo>0)||(t=t.filter(s=>s.id!==n.idItem));t.sort((n,s)=>n.valorVenda<s.valorVenda?1:-1),t=t.slice(0,100);for(const n of t)n.novoValorVenda=n.valorVenda,this.itensSelecionados[n.id]={item:n,quantidade:1};$q.loading.hide(),this.$emit("selecionarItens",this.itensSelecionados,e),await this.fechar();return}this.carregando=!1},async obterConfigChecaEstoque(){var t;const e=await $db.configuracoes.porNome("vendas.checaestoque",this.filtro.idEmpresa);this.checaEstoque=!!Number((t=e.find(o=>o.id))==null?void 0:t.valor)},async carregarEstoque(){this.carregandoEstoque=!0,this.estoque=[];let e=[];const t=this.itens.map(a=>a.id);let r=(await $erp().empresa.toArray()).filter(a=>a.ativo);if(t.length)try{let i=((await this.$utils.geeksApi({estoque:{funcao:"CC9F3B9A-16B9-4AE8-A523-938E4433AFAA",idItem:t}})||{}).data||{}).estoque||[];i=i.filter(n=>r.find(s=>s.idContato===n.idEmpresa));for(const n of t){let s=[];const l=i.filter(c=>c.idItem===n),u=new Set(l.map(c=>c.tipoEstoque));for(const c of Array.from(u)){if(this.filtro.idEmpresa){const d=l.find(m=>m.tipoEstoque===c&&m.idEmpresa===this.filtro.idEmpresa);s.push({tipoEstoque:c,saldo:(d||{}).saldo||0,saldoTotal:l.find(m=>m.tipoEstoque===c).saldoTotal||0})}if(!this.filtro.idEmpresa){const d=l.find(m=>m.tipoEstoque===c).saldoTotal||0;s.push({tipoEstoque:c,saldo:d,saldoTotal:d})}}e.push({idItem:n,tiposSaldos:s})}}catch{let i=await $erp().estoqueSaldoProdutoEmpresa.where("idItem").anyOf(t).toArray();for(const n of i)n.saldoTotal=i.filter(s=>s.idItem===n.idItem&&s.tipoEstoque===n.tipoEstoque).reduce((s,l)=>s+(l.saldo||0),0);for(const n of t){let s=[];const l=i.filter(c=>c.idItem===n),u=new Set(l.map(c=>c.tipoEstoque));for(const c of Array.from(u)){if(this.filtro.idEmpresa){const d=l.find(m=>m.tipoEstoque===c&&m.idEmpresa===this.filtro.idEmpresa);s.push({tipoEstoque:c,saldo:(d||{}).saldo||0,saldoTotal:l.find(m=>m.tipoEstoque===c).saldoTotal||0})}this.filtro.idEmpresa||s.push({tipoEstoque:c,saldo:l.find(d=>d.tipoEstoque===c).saldoTotal||0})}e.push({idItem:n,tiposSaldos:s,offline:!0})}}this.carregandoEstoque=!1,this.estoque=e},async filtroFornecedor_click(){const e=await $g.promptContato.show({filtro:{ativo:!0}});e.nome&&(this.filtroAvancado.fornecedores=e.nome)},async concluir(e,t){var o;if(t){try{await new Promise((r,a)=>{var i;$q.dialog({message:`Deseja adicionar ${((i=this.itensSelecionados[t.id])==null?void 0:i.quantidade)||1}x do Produto ${t.descricao}?`,title:"Adi\xE7\xE3o de item",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(r).onCancel(a)})}catch{return}this.itensSelecionados[t.id].quantidade=((o=this.itensSelecionados[t.id])==null?void 0:o.quantidade)||1}this.$emit("selecionarItens",this.itensSelecionados),await this.fechar()},onHide(){this.$emit("fechar",this.voltar)},async fechar(e){if(this.voltar=!1,e){if(e.stopPropagation(),!$lodash.isEqual(this.itensSelecionados,this.itensSelecionadosOrig))try{await new Promise((t,o)=>{$q.dialog({message:"Deseja descartar as modifica\xE7\xF5es?",title:"Aten\xE7\xE3o!",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Descartar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(t).onCancel(o)})}catch{return}this.voltar=!0}this.refresh(),this.$emit("update:modelValue",!1)},limparTermo(){this.termo="",this.atualizar()},obterEstoque(e,t){if(!this.carregandoEstoque)return e?this.estoque.find(o=>o.idItem===e)||{}:{}},refresh(){this.visibilidade.modal=!1,this.carregando=!0,this.focarNaBusca=!0,this.itens=[],this.itensSelecionados={}}},props:{filtro:{default:()=>({}),type:Object},filtroAvancado:{default:()=>({}),type:Object},modelValue:{required:!0,type:Boolean},habilitarQuantidade:{type:Boolean,default:!1},exibirValorVenda:{type:Boolean,default:!0},calculaItemCusto:{type:Boolean,default:!1}},watch:{modelValue(e){e&&(this.mostrarFiltroAvancado=!1,this.visibilidade.modal=!0,this.itensSelecionadosOrig=$utils.clonarV2(this.itensSelecionados),this.termo==="#teste100#"&&(this.termo=""),this.atualizar(),this.obterHistoricoVendasOnline())}},updated(){this.$nextTick(function(){this.$refs.search&&this.$refs.search.focus()})}},Mge={key:0,class:"row justify-center q-pt-sm"},Nge={key:1},Fge={key:2,class:"bg-light q-pa-lg round-borders text-black text-center"},Rge={class:"text-tertiary"},kge={class:"text-positive float-right"};function Vge(e,t,o,r,a,i){const n=ke("g-col"),s=ke("g-row"),l=ke("ItemCard"),u=ke("campo"),c=ke("SeletorCampoTabela");return $(),ue(Qt,{modelValue:a.visibilidade.modal,"onUpdate:modelValue":t[21]||(t[21]=d=>a.visibilidade.modal=d),onHide:i.onHide,onKeyup:t[22]||(t[22]=Zi(d=>i.fechar(d),["esc"])),persistent:"",maximized:""},{default:w(()=>[v(Jo,{view:"hHr lpR fFr",container:"",class:"bg-white"},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[v(pe,{onClick:t[0]||(t[0]=d=>i.fechar(d)),icon:"arrow_back",flat:"",round:"",dense:"",class:"q-mr-md"}),v(s,{relative:"",width:"100%"},{default:w(()=>[v(n,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[1]||(t[1]=d=>a.termo=d),i.atualizar],dark:"",clearable:"",dense:"",ref:"search",debounce:"1500",color:"none",placeholder:"Buscar","clear-icon":"close"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),v(n,{col:"shrink",text:"right",self:"center"},{default:w(()=>[a.historicoVendasOnline.executando?($(),ue(Ve,{key:0,name:"cloud_sync",size:"sm",flat:"",round:"",dense:"",class:"q-ml-sm"})):ce("",!0),a.historicoVendasOnline.erro?($(),ue(Ve,{key:1,name:"cloud_off",size:"sm",flat:"",round:"",dense:"",class:"q-ml-sm"},{default:w(()=>[v(Mt,{anchor:"bottom middle",self:"center middle",class:"hideonmobile"},{default:w(()=>[te(" N\xE3o foi poss\xEDvel obter o hist\xF3rico de vendas (online) ")]),_:1})]),_:1})):ce("",!0),i.habilitarOpcaoUltimaVenda?($(),ue(pe,{key:2,onClick:i.toggleUltimaVenda,flat:"",round:"",dense:"",icon:a.mostrarUltimaVenda?"mdi-star":"mdi-star-outline",class:"q-ml-sm"},{default:w(()=>[v(Mt,{anchor:"bottom middle",self:"center middle",class:"hideonmobile"},{default:w(()=>[te(" Vendidos ")]),_:1})]),_:1},8,["onClick","icon"])):ce("",!0),v(pe,{onClick:i.togglePromocao,flat:a.status!=="Promo\xE7\xE3o",outline:a.status==="Promo\xE7\xE3o",icon:"mdi-fire",round:"",dense:"",class:"q-ml-sm"},{default:w(()=>[v(Mt,{anchor:"bottom middle",self:"center middle",class:"hideonmobile"},{default:w(()=>[te(" Promo\xE7\xE3o ")]),_:1})]),_:1},8,["onClick","flat","outline"]),v(pe,{onClick:t[2]||(t[2]=d=>a.mostrarFiltroAvancado=!a.mostrarFiltroAvancado),icon:"mdi-filter",flat:"",round:"",dense:"",class:"q-ml-sm"},{default:w(()=>[v(Mt,{anchor:"bottom middle",self:"center middle",class:"hideonmobile"},{default:w(()=>[te(" Filtro Avan\xE7ado ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[v(Ru,null,{default:w(()=>[a.carregando?($(),be("div",Mge,[v(tn,{color:"faded",size:50})])):ce("",!0),!a.carregando&&i.itensEncontrados?($(),be("div",Nge,[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.itens,d=>($(),ue(l,{modo:"lista",key:d.id,onAdicionar:i.adicionar,onConcluir:m=>i.concluir(null,d),item:d,estoque:i.obterEstoque(d.id),idEmpresa:o.filtro.idEmpresa,checaEstoque:a.checaEstoque,quantidadeSelecionada:(a.itensSelecionados[d.id]||{}).quantidade||0,habilitarQuantidade:o.habilitarQuantidade,valores:a.valores[d.id],exibirValorVenda:o.exibirValorVenda,ultimaVenda:a.ultimaVenda[d.id]},null,8,["onAdicionar","onConcluir","item","estoque","idEmpresa","checaEstoque","quantidadeSelecionada","habilitarQuantidade","valores","exibirValorVenda","ultimaVenda"]))),128))]),_:1})])):ce("",!0),!a.carregando&&!i.itensEncontrados?($(),be("div",Fge," N\xE3o encontramos itens com os crit\xE9rios selecionados. ")):ce("",!0)]),_:1})]),_:1}),v(PF,{modelValue:a.mostrarFiltroAvancado,"onUpdate:modelValue":t[18]||(t[18]=d=>a.mostrarFiltroAvancado=d),onKeyup:Zi(i.atualizar,["enter"]),bordered:"",side:"right"},{default:w(()=>[v(Jo,{view:"hHh lpR lFr"},{default:w(()=>[v(xa,{class:"bg-white","height-hint":"98"},{default:w(()=>[v(at,{color:"white",class:"text-tertiary"},{default:w(()=>[v(Ve,{class:"text-h5",name:"mdi-filter"}),v(nt,null,{default:w(()=>[te("Filtro Avan\xE7ado")]),_:1}),v(pe,{onClick:t[3]||(t[3]=d=>a.mostrarFiltroAvancado=!a.mostrarFiltroAvancado),icon:"close",flat:"",round:"",dense:""})]),_:1})]),_:1}),v(La,null,{default:w(()=>[v(Ru,{class:"q-pa-md"},{default:w(()=>[ZC(e.$slots,"camposFiltroAvancado",{},()=>[v(u,{modelValue:o.filtroAvancado.descricaoAplicacao,"onUpdate:modelValue":t[4]||(t[4]=d=>o.filtroAvancado.descricaoAplicacao=d),rotulo:"Descri\xE7\xE3o/Aplica\xE7\xE3o",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),v(u,{modelValue:o.filtroAvancado.codigoItem,"onUpdate:modelValue":t[5]||(t[5]=d=>o.filtroAvancado.codigoItem=d),tipo:"decimal",decimals:"0",prefix:"#",rotulo:"C\xF3digo",zerosDireita:"0",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),v(u,{modelValue:o.filtroAvancado.referencia,"onUpdate:modelValue":t[6]||(t[6]=d=>o.filtroAvancado.referencia=d),rotulo:"Refer\xEAncia",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),v(u,{modelValue:o.filtroAvancado.codigoBarras,"onUpdate:modelValue":t[7]||(t[7]=d=>o.filtroAvancado.codigoBarras=d),rotulo:"C\xF3d. Barras",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),v(c,{modelValue:o.filtroAvancado.marca,"onUpdate:modelValue":t[8]||(t[8]=d=>o.filtroAvancado.marca=d),buscarSemCaractere:!0,tabela:"item",campo:"marca",label:"Marca"},null,8,["modelValue"]),v(u,{modelValue:o.filtroAvancado.fornecedores,"onUpdate:modelValue":t[9]||(t[9]=d=>o.filtroAvancado.fornecedores=d),after:[{icon:"search",handler:i.filtroFornecedor_click}],rotulo:"Fornecedor",dense:"",class:"q-field--with-bottom"},null,8,["modelValue","after"]),v(c,{modelValue:o.filtroAvancado.grupo,"onUpdate:modelValue":t[10]||(t[10]=d=>o.filtroAvancado.grupo=d),buscarSemCaractere:!0,tabela:"item",campo:"grupo",label:"Grupo"},null,8,["modelValue"]),v(c,{modelValue:o.filtroAvancado.subGrupo,"onUpdate:modelValue":t[11]||(t[11]=d=>o.filtroAvancado.subGrupo=d),buscarSemCaractere:!0,tabela:"item",campo:"subGrupo",label:"Subgrupo"},null,8,["modelValue"]),v(u,{modelValue:o.filtroAvancado.estoque,"onUpdate:modelValue":t[12]||(t[12]=d=>o.filtroAvancado.estoque=d),tipo:"decimal",decimals:"4",prefix:">",rotulo:"Estoque",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),v(u,{modelValue:o.filtroAvancado.tipo,"onUpdate:modelValue":t[13]||(t[13]=d=>o.filtroAvancado.tipo=d),onClick:i.leOpcoesTipo,opcoes:a.opcoesTipo,tipo:"seletor",rotuloFixo:"Tipo",filter:"",dense:"",class:"q-field--with-bottom"},null,8,["modelValue","onClick","opcoes"]),v(u,{modelValue:o.filtroAvancado.codigoCompra,"onUpdate:modelValue":t[14]||(t[14]=d=>o.filtroAvancado.codigoCompra=d),tipo:"decimal",decimals:"0",prefix:"#",zerosDireita:"0",rotulo:"Compra C\xF3d.",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),v(u,{modelValue:a.paginacao.limite,"onUpdate:modelValue":t[15]||(t[15]=d=>a.paginacao.limite=d),tipo:"quantidade",min:"1",rotulo:"Quantidade por p\xE1gina",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),v(u,{modelValue:a.status,"onUpdate:modelValue":[t[16]||(t[16]=d=>a.status=d),i.atualizar],opcoes:i.opcoesStatus,tipo:"seletor",rotuloFixo:"Status",clearable:"",dense:""},null,8,["modelValue","onUpdate:modelValue","opcoes"]),i.habilitarOpcaoUltimaVenda?($(),ue(pp,{key:0,modelValue:a.mostrarUltimaVenda,"onUpdate:modelValue":[t[17]||(t[17]=d=>a.mostrarUltimaVenda=d),i.atualizar],label:"Produtos vendidos","left-label":"","checked-icon":"mdi-star","unchecked-icon":"mdi-star-outline",style:{left:"0"},class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])):ce("",!0)],!0)]),_:3})]),_:3}),v(dl,{class:"bg-white"},{default:w(()=>[v(at,{class:"bg-white q-pa-sm"},{default:w(()=>[v(pe,{onClick:i.limparFiltroAvancado,label:"Limpar",color:"tertiary",flat:"",class:"fit"},null,8,["onClick"]),v(pe,{onClick:i.atualizar,label:"Aplicar",color:"primary",unelevated:"",class:"fit"},null,8,["onClick"])]),_:1})]),_:1})]),_:3})]),_:3},8,["modelValue","onKeyup"]),v(dl,{class:"bg-light border-top q-px-sm"},{default:w(()=>[v(at,{class:"bg-transparent no-padding no-margin"},{default:w(()=>[v(uD),v(vge,{modelValue:a.paginacao.atual,"onUpdate:modelValue":[t[19]||(t[19]=d=>a.paginacao.atual=d),i.atualizar],max:a.paginacao.maximo,input:"",push:"","boundary-links":"",color:"tertiary"},null,8,["modelValue","onUpdate:modelValue","max"]),v(uD)]),_:1}),i.sku>0?($(),ue(at,{key:0,class:"bg-transparent q-pa-sm border-top"},{default:w(()=>[v(nt,null,{default:w(()=>[A("span",Rge,de(i.sku)+" SKU(s)",1),A("span",kge,"R$ "+de(e.$filters.numero(i.valorItensSelecionados,2)),1)]),_:1}),v(pe,{onClick:t[20]||(t[20]=d=>i.concluir(d)),label:"Concluir",color:"primary",unelevated:"",class:"q-ml-sm"})]),_:1})):ce("",!0)]),_:1})]),_:3})]),_:3},8,["modelValue","onHide"])}var Kf=ht(Pge,[["render",Vge],["__scopeId","data-v-5c560e1a"]]);const qge={components:{PromptCodigoBarras:mge,PromptItemV2:Kf},data(){return{codigoBarras:"",promptItem:{visivel:!1,filtros:{}},promptCodigoBarras:!1}},emits:["adicionar","atualizar"],methods:{abrirPromptCodigoBarras(){this.promptCodigoBarras=!0},async abrirPromptItem(){let e={};for(const t of this.documentoItens){if(!t.idItem)continue;this.itemPrompt||(this.itemPrompt={}),this.itemPrompt[t.idItem]||(this.itemPrompt[t.idItem]=await $erp().item.get(t.idItem));let o=$utils.clonarV2(this.itemPrompt[t.idItem]);o.novoValorVenda=t.valorReal,e[t.idItem]={item:o,quantidade:t.quantidade}}this.$refs.promptItem.itensSelecionados=e,this.promptItem.filtros=this.itemFiltros,this.promptItem.visivel=!0},async buscarCodigoBarras(e=null){e||(e=this.codigoBarras);const t={termoBusca:e};this.codigoBarras="",/999\d{10}$/.test(e)&&(t.codigoBarras=e);const o=await $db.item.ler({filtros:{...t,...this.itemFiltros},limit:30});if(!o.data.length){this.$q.notifyError("Item n\xE3o encontrado");return}if(o.data.length===1){let r=o.data[0];this.$emit("adicionar",r);return}this.$refs.promptItem.termo=e,this.abrirPromptItem()},selecionarItens(e){this.$emit("atualizar",e)}},props:{documentoItens:{type:Array,default:()=>[]},itemFiltros:{type:Object,default:()=>({})}}},Bge={class:"hideonmobile col q-ml-sm"},Lge={class:"col-auto"};function $ge(e,t,o,r,a,i){const n=ke("row"),s=ke("promptCodigoBarras"),l=ke("PromptItemV2");return $(),be(Qe,null,[v(n,null,{default:w(()=>[A("div",Bge,[v(Ca,{modelValue:a.codigoBarras,"onUpdate:modelValue":t[0]||(t[0]=u=>a.codigoBarras=u),dense:"",outlined:"",class:"text-primary",placeholder:"C\xF3digo de barras, etc...",onKeydown:t[1]||(t[1]=Zi(u=>i.buscarCodigoBarras(),["enter"]))},null,8,["modelValue"])]),A("div",Lge,[v(pe,{color:"primary",flat:"",round:"",icon:"mdi-barcode-scan",class:"q-ml-sm",onClick:i.abrirPromptCodigoBarras},null,8,["onClick"])])]),_:1}),v(s,{modelValue:a.promptCodigoBarras,"onUpdate:modelValue":t[2]||(t[2]=u=>a.promptCodigoBarras=u),onEscanear:i.buscarCodigoBarras,useQuagga:!0},null,8,["modelValue","onEscanear"]),v(l,{modelValue:a.promptItem.visivel,"onUpdate:modelValue":t[3]||(t[3]=u=>a.promptItem.visivel=u),filtro:a.promptItem.filtros,habilitarQuantidade:!0,onSelecionarItens:i.selecionarItens,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"])],64)}var M0=ht(qge,[["render",$ge]]),zF=At({name:"QToggle",props:{...RF,icon:String,iconColor:String},emits:kF,setup(e){function t(o,r){const a=X(()=>(o.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),i=X(()=>o.value===!0?e.iconColor:null);return()=>[ee("div",{class:"q-toggle__track"}),ee("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},a.value!==void 0?[ee(Ve,{name:a.value,color:i.value})]:void 0)]}return VF("toggle",t)}}),Uge=At({name:"QInnerLoading",props:{...Sa,...r_,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const o=Ct(),r=Aa(e,o.proxy.$q),{transitionProps:a,transitionStyle:i}=i_(e),n=X(()=>"q-inner-loading absolute-full column flex-center"+(r.value===!0?" q-inner-loading--dark":"")),s=X(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function l(){const c=[ee(tn,{size:e.size,color:e.color})];return e.label!==void 0&&c.push(ee("div",{class:s.value,style:e.labelStyle},[e.label])),c}function u(){return e.showing===!0?ee("div",{class:n.value,style:i.value},t.default!==void 0?t.default():l()):null}return()=>ee(wi,a.value,u)}});const zge={ratio:[String,Number]};function Hge(e,t){return X(()=>{const o=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const jge=16/9;var Gge=At({name:"QImg",props:{...zge,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:jge},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:o}){const r=$e(e.initialRatio),a=Hge(e,r);let i=null,n=!1;const s=[$e(null),$e(b())],l=$e(0),u=$e(!1),c=$e(!1),d=X(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),m=X(()=>({width:e.width,height:e.height})),f=X(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),p=X(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));rt(()=>g(),x);function g(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function b(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function x(M){i!==null&&(clearTimeout(i),i=null),c.value=!1,M===null?(u.value=!1,s[l.value^1].value=b()):u.value=!0,s[l.value].value=M}function _({target:M}){n!==!0&&(i!==null&&(clearTimeout(i),i=null),r.value=M.naturalHeight===0?.5:M.naturalWidth/M.naturalHeight,y(M,1))}function y(M,E){n===!0||E===1e3||(M.complete===!0?I(M):i=setTimeout(()=>{i=null,y(M,E+1)},50))}function I(M){n!==!0&&(l.value=l.value^1,s[l.value].value=null,u.value=!1,c.value=!1,o("load",M.currentSrc||M.src))}function S(M){i!==null&&(clearTimeout(i),i=null),u.value=!1,c.value=!0,s[l.value].value=null,s[l.value^1].value=b(),o("error",M)}function O(M){const E=s[M].value,D={key:"img_"+M,class:f.value,style:p.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...E};return l.value===M?(D.class+=" q-img__image--waiting",Object.assign(D,{onLoad:_,onError:S})):D.class+=" q-img__image--loaded",ee("div",{class:"q-img__container absolute-full",key:"img"+M},ee("img",D))}function F(){return u.value!==!0?ee("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ho(t[c.value===!0?"error":"default"])):ee("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[ee(tn,{color:e.spinnerColor,size:e.spinnerSize})])}return x(g()),wo(()=>{n=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const M=[];return a.value!==null&&M.push(ee("div",{key:"filler",style:a.value})),c.value!==!0&&(s[0].value!==null&&M.push(O(0)),s[1].value!==null&&M.push(O(1))),M.push(ee(wi,{name:"q-transition--fade"},F)),ee("div",{class:d.value,style:m.value,role:"img","aria-label":e.alt},M)}}});const Wge={...wc,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},SC=50,HF=2*SC,jF=HF*Math.PI,Xge=Math.round(jF*1e3)/1e3;var Yge=At({name:"QCircularProgress",props:{...Wge,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=Ct(),r=Ic(e),a=X(()=>{const f=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-f}deg)`:`rotate3d(0, 0, 1, ${f-90}deg)`}}),i=X(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),n=X(()=>HF/(1-e.thickness/2)),s=X(()=>`${n.value/2} ${n.value/2} ${n.value} ${n.value}`),l=X(()=>Cn(e.value,e.min,e.max)),u=X(()=>e.max-e.min),c=X(()=>e.thickness/2*n.value),d=X(()=>{const f=(e.max-l.value)/u.value,p=e.rounded===!0&&l.value<e.max&&f<.25?c.value/2*(1-f/.25):0;return jF*f+p});function m({thickness:f,offset:p,color:g,cls:b,rounded:x}){return ee("circle",{class:"q-circular-progress__"+b+(g!==void 0?` text-${g}`:""),style:i.value,fill:"transparent",stroke:"currentColor","stroke-width":f,"stroke-dasharray":Xge,"stroke-dashoffset":p,"stroke-linecap":x,cx:n.value,cy:n.value,r:SC})}return()=>{const f=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&f.push(ee("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:SC-c.value/2,cx:n.value,cy:n.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&f.push(m({cls:"track",thickness:c.value,offset:0,color:e.trackColor})),f.push(m({cls:"circle",thickness:c.value,offset:d.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const p=[ee("svg",{class:"q-circular-progress__svg",style:a.value,viewBox:s.value,"aria-hidden":"true"},f)];return e.showValue===!0&&p.push(ee("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[ee("div",l.value)])),ee("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:r.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:l.value},px(t.internal,p))}}});function Nd(e,t,o,r){const a=[];return e.forEach(i=>{r(i)===!0?a.push(i):t.push({failedPropValidation:o,file:i})}),a}function v1(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),bo(e)}const Kge={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Qge=["rejected"];function Jge({editable:e,dnd:t,getFileInput:o,addFilesToQueue:r}){const{props:a,emit:i,proxy:n}=Ct(),s=$e(null),l=X(()=>a.accept!==void 0?a.accept.split(",").map(_=>(_=_.trim(),_==="*"?"*/":(_.endsWith("/*")&&(_=_.slice(0,_.length-1)),_.toUpperCase()))):null),u=X(()=>parseInt(a.maxFiles,10)),c=X(()=>parseInt(a.maxTotalSize,10));function d(_){if(e.value)if(_!==Object(_)&&(_={target:null}),_.target!==null&&_.target.matches('input[type="file"]')===!0)_.clientX===0&&_.clientY===0&&ti(_);else{const y=o();y&&y!==_.target&&y.click(_)}}function m(_){e.value&&_&&r(null,_)}function f(_,y,I,S){let O=Array.from(y||_.target.files);const F=[],M=()=>{F.length!==0&&i("rejected",F)};if(a.accept!==void 0&&l.value.indexOf("*/")===-1&&(O=Nd(O,F,"accept",E=>l.value.some(D=>E.type.toUpperCase().startsWith(D)||E.name.toUpperCase().endsWith(D))),O.length===0))return M();if(a.maxFileSize!==void 0){const E=parseInt(a.maxFileSize,10);if(O=Nd(O,F,"max-file-size",D=>D.size<=E),O.length===0)return M()}if(a.multiple!==!0&&O.length!==0&&(O=[O[0]]),O.forEach(E=>{E.__key=E.webkitRelativePath+E.lastModified+E.name+E.size}),S===!0){const E=I.map(D=>D.__key);O=Nd(O,F,"duplicate",D=>E.includes(D.__key)===!1)}if(O.length===0)return M();if(a.maxTotalSize!==void 0){let E=S===!0?I.reduce((D,P)=>D+P.size,0):0;if(O=Nd(O,F,"max-total-size",D=>(E+=D.size,E<=c.value)),O.length===0)return M()}if(typeof a.filter=="function"){const E=a.filter(O);O=Nd(O,F,"filter",D=>E.includes(D))}if(a.maxFiles!==void 0){let E=S===!0?I.length:0;if(O=Nd(O,F,"max-files",()=>(E++,E<=u.value)),O.length===0)return M()}if(M(),O.length!==0)return O}function p(_){v1(_),t.value!==!0&&(t.value=!0)}function g(_){bo(_),(_.relatedTarget!==null||po.is.safari!==!0?_.relatedTarget!==s.value:document.elementsFromPoint(_.clientX,_.clientY).includes(s.value)===!1)===!0&&(t.value=!1)}function b(_){v1(_);const y=_.dataTransfer.files;y.length!==0&&r(null,y),t.value=!1}function x(_){if(t.value===!0)return ee("div",{ref:s,class:`q-${_}__dnd absolute-full`,onDragenter:v1,onDragover:v1,onDragleave:g,onDrop:b})}return Object.assign(n,{pickFiles:d,addFiles:m}),{pickFiles:d,addFiles:m,onDragover:p,onDragleave:g,processFiles:f,getDndNode:x,maxFilesNumber:u,maxTotalSizeNumber:c}}function mD(e){return(e*100).toFixed(2)+"%"}const Zge={...Sa,...Kge,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},GF=[...Qge,"start","finish","added","removed"];function e_e(e,t){const o=Ct(),{props:r,slots:a,emit:i,proxy:n}=o,{$q:s}=n,l=Aa(r,s);function u(fe,G,V){if(fe.__status=G,G==="idle"){fe.__uploaded=0,fe.__progress=0,fe.__sizeLabel=ZT(fe.size),fe.__progressLabel="0.00%";return}if(G==="failed"){n.$forceUpdate();return}fe.__uploaded=G==="uploaded"?fe.size:V,fe.__progress=G==="uploaded"?1:Math.min(.9999,fe.__uploaded/fe.size),fe.__progressLabel=mD(fe.__progress),n.$forceUpdate()}const c=X(()=>r.disable!==!0&&r.readonly!==!0),d=$e(!1),m=$e(null),f=$e(null),p={files:$e([]),queuedFiles:$e([]),uploadedFiles:$e([]),uploadedSize:$e(0),updateFileStatus:u,isAlive:()=>xg(o)===!1},{pickFiles:g,addFiles:b,onDragover:x,onDragleave:_,processFiles:y,getDndNode:I,maxFilesNumber:S,maxTotalSizeNumber:O}=Jge({editable:c,dnd:d,getFileInput:J,addFilesToQueue:re});Object.assign(p,e({props:r,slots:a,emit:i,helpers:p,exposeApi:fe=>{Object.assign(p,fe)}})),p.isBusy===void 0&&(p.isBusy=$e(!1));const F=$e(0),M=X(()=>F.value===0?0:p.uploadedSize.value/F.value),E=X(()=>mD(M.value)),D=X(()=>ZT(F.value)),P=X(()=>c.value===!0&&p.isUploading.value!==!0&&(r.multiple===!0||p.queuedFiles.value.length===0)&&(r.maxFiles===void 0||p.files.value.length<S.value)&&(r.maxTotalSize===void 0||F.value<O.value)),N=X(()=>c.value===!0&&p.isBusy.value!==!0&&p.isUploading.value!==!0&&p.queuedFiles.value.length!==0);_s(JU,De);const R=X(()=>"q-uploader column no-wrap"+(l.value===!0?" q-uploader--dark q-dark":"")+(r.bordered===!0?" q-uploader--bordered":"")+(r.square===!0?" q-uploader--square no-border-radius":"")+(r.flat===!0?" q-uploader--flat no-shadow":"")+(r.disable===!0?" disabled q-uploader--disable":"")+(d.value===!0?" q-uploader--dnd":"")),z=X(()=>"q-uploader__header"+(r.color!==void 0?` bg-${r.color}`:"")+(r.textColor!==void 0?` text-${r.textColor}`:""));rt(p.isUploading,(fe,G)=>{G===!1&&fe===!0?i("start"):G===!0&&fe===!1&&i("finish")});function W(){r.disable===!1&&(p.abort(),p.uploadedSize.value=0,F.value=0,Ee(),p.files.value=[],p.queuedFiles.value=[],p.uploadedFiles.value=[])}function j(){r.disable===!1&&se(["uploaded"],()=>{p.uploadedFiles.value=[]})}function Q(){se(["idle","failed"],({size:fe})=>{F.value-=fe,p.queuedFiles.value=[]})}function se(fe,G){if(r.disable===!0)return;const V={files:[],size:0},L=p.files.value.filter(U=>fe.indexOf(U.__status)===-1?!0:(V.size+=U.size,V.files.push(U),U.__img!==void 0&&window.URL.revokeObjectURL(U.__img.src),!1));V.files.length!==0&&(p.files.value=L,G(V),i("removed",V.files))}function _e(fe){r.disable||(fe.__status==="uploaded"?p.uploadedFiles.value=p.uploadedFiles.value.filter(G=>G.__key!==fe.__key):fe.__status==="uploading"?fe.__abort():F.value-=fe.size,p.files.value=p.files.value.filter(G=>G.__key!==fe.__key?!0:(G.__img!==void 0&&window.URL.revokeObjectURL(G.__img.src),!1)),p.queuedFiles.value=p.queuedFiles.value.filter(G=>G.__key!==fe.__key),i("removed",[fe]))}function Ee(){p.files.value.forEach(fe=>{fe.__img!==void 0&&window.URL.revokeObjectURL(fe.__img.src)})}function J(){return f.value||m.value.getElementsByClassName("q-uploader__input")[0]}function re(fe,G){const V=y(fe,G,p.files.value,!0),L=J();L!=null&&(L.value=""),V!==void 0&&(V.forEach(U=>{if(p.updateFileStatus(U,"idle"),F.value+=U.size,r.noThumbnails!==!0&&U.type.toUpperCase().startsWith("IMAGE")){const ie=new Image;ie.src=window.URL.createObjectURL(U),U.__img=ie}}),p.files.value=p.files.value.concat(V),p.queuedFiles.value=p.queuedFiles.value.concat(V),i("added",V),r.autoUpload===!0&&p.upload())}function ye(){N.value===!0&&p.upload()}function ge(fe,G,V){if(fe===!0){const L={type:"a",key:G,icon:s.iconSet.uploader[G],flat:!0,dense:!0};let U;return G==="add"?(L.onClick=g,U=De):L.onClick=V,ee(pe,L,U)}}function De(){return ee("input",{ref:f,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:r.accept,multiple:r.multiple===!0?"multiple":void 0,capture:r.capture,onMousedown:ti,onClick:g,onChange:re})}function Oe(){return a.header!==void 0?a.header(Me):[ee("div",{class:"q-uploader__header-content column"},[ee("div",{class:"flex flex-center no-wrap q-gutter-xs"},[ge(p.queuedFiles.value.length!==0,"removeQueue",Q),ge(p.uploadedFiles.value.length!==0,"removeUploaded",j),p.isUploading.value===!0?ee(tn,{class:"q-uploader__spinner"}):null,ee("div",{class:"col column justify-center"},[r.label!==void 0?ee("div",{class:"q-uploader__title"},[r.label]):null,ee("div",{class:"q-uploader__subtitle"},[D.value+" / "+E.value])]),ge(P.value,"add"),ge(r.hideUploadBtn===!1&&N.value===!0,"upload",p.upload),ge(p.isUploading.value,"clear",p.abort)])])]}function he(){return a.list!==void 0?a.list(Me):p.files.value.map(fe=>ee("div",{key:fe.__key,class:"q-uploader__file relative-position"+(r.noThumbnails!==!0&&fe.__img!==void 0?" q-uploader__file--img":"")+(fe.__status==="failed"?" q-uploader__file--failed":fe.__status==="uploaded"?" q-uploader__file--uploaded":""),style:r.noThumbnails!==!0&&fe.__img!==void 0?{backgroundImage:'url("'+fe.__img.src+'")'}:null},[ee("div",{class:"q-uploader__file-header row flex-center no-wrap"},[fe.__status==="failed"?ee(Ve,{class:"q-uploader__file-status",name:s.iconSet.type.negative,color:"negative"}):null,ee("div",{class:"q-uploader__file-header-content col"},[ee("div",{class:"q-uploader__title"},[fe.name]),ee("div",{class:"q-uploader__subtitle row items-center no-wrap"},[fe.__sizeLabel+" / "+fe.__progressLabel])]),fe.__status==="uploading"?ee(Yge,{value:fe.__progress,min:0,max:1,indeterminate:fe.__progress===0}):ee(pe,{round:!0,dense:!0,flat:!0,icon:s.iconSet.uploader[fe.__status==="uploaded"?"done":"clear"],onClick:()=>{_e(fe)}})])]))}wo(()=>{p.isUploading.value===!0&&p.abort(),p.files.value.length!==0&&Ee()});const Me={};for(const fe in p)br(p[fe])===!0?Wi(Me,fe,()=>p[fe].value):Me[fe]=p[fe];return Object.assign(Me,{upload:ye,reset:W,removeUploadedFiles:j,removeQueuedFiles:Q,removeFile:_e,pickFiles:g,addFiles:b}),E4(Me,{canAddFiles:()=>P.value,canUpload:()=>N.value,uploadSizeLabel:()=>D.value,uploadProgressLabel:()=>E.value}),t({...p,upload:ye,reset:W,removeUploadedFiles:j,removeQueuedFiles:Q,removeFile:_e,pickFiles:g,addFiles:b,canAddFiles:P,canUpload:N,uploadSizeLabel:D,uploadProgressLabel:E}),()=>{const fe=[ee("div",{class:z.value},Oe()),ee("div",{class:"q-uploader__list scroll"},he()),I("uploader")];p.isBusy.value===!0&&fe.push(ee("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[ee(tn)]));const G={ref:m,class:R.value};return P.value===!0&&Object.assign(G,{onDragover:x,onDragleave:_}),ee("div",G,fe)}}const t_e=()=>!0;function o_e(e){const t={};return e.forEach(o=>{t[o]=t_e}),t}const a_e=o_e(GF);var r_e=({name:e,props:t,emits:o,injectPlugin:r})=>At({name:e,props:{...Zge,...t},emits:Ar(o)===!0?{...a_e,...o}:[...GF,...o],setup(a,{expose:i}){return e_e(r,i)}});function qs(e){return typeof e=="function"?e:()=>e}const i_e={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},n_e=["factoryFailed","uploaded","failed","uploading"];function s_e({props:e,emit:t,helpers:o}){const r=$e([]),a=$e([]),i=$e(0),n=X(()=>({url:qs(e.url),method:qs(e.method),headers:qs(e.headers),formFields:qs(e.formFields),fieldName:qs(e.fieldName),withCredentials:qs(e.withCredentials),sendRaw:qs(e.sendRaw),batch:qs(e.batch)})),s=X(()=>i.value>0),l=X(()=>a.value.length!==0);let u;function c(){r.value.forEach(p=>{p.abort()}),a.value.length!==0&&(u=!0)}function d(){const p=o.queuedFiles.value.slice(0);o.queuedFiles.value=[],n.value.batch(p)?m(p):p.forEach(g=>{m([g])})}function m(p){if(i.value++,typeof e.factory!="function"){f(p,{});return}const g=e.factory(p);if(!g)t("factoryFailed",new Error("QUploader: factory() does not return properly"),p),i.value--;else if(typeof g.catch=="function"&&typeof g.then=="function"){a.value.push(g);const b=x=>{o.isAlive()===!0&&(a.value=a.value.filter(_=>_!==g),a.value.length===0&&(u=!1),o.queuedFiles.value=o.queuedFiles.value.concat(p),p.forEach(_=>{o.updateFileStatus(_,"failed")}),t("factoryFailed",x,p),i.value--)};g.then(x=>{u===!0?b(new Error("Aborted")):o.isAlive()===!0&&(a.value=a.value.filter(_=>_!==g),f(p,x))}).catch(b)}else f(p,g||{})}function f(p,g){const b=new FormData,x=new XMLHttpRequest,_=(N,R)=>g[N]!==void 0?qs(g[N])(R):n.value[N](R),y=_("url",p);if(!y){console.error("q-uploader: invalid or no URL specified"),i.value--;return}const I=_("formFields",p);I!==void 0&&I.forEach(N=>{b.append(N.name,N.value)});let S=0,O=0,F=0,M=0,E;x.upload.addEventListener("progress",N=>{if(E===!0)return;const R=Math.min(M,N.loaded);o.uploadedSize.value+=R-F,F=R;let z=F-O;for(let W=S;z>0&&W<p.length;W++){const j=p[W];if(z>j.size)z-=j.size,S++,O+=j.size,o.updateFileStatus(j,"uploading",j.size);else{o.updateFileStatus(j,"uploading",z);return}}},!1),x.onreadystatechange=()=>{x.readyState<4||(x.status&&x.status<400?(o.uploadedFiles.value=o.uploadedFiles.value.concat(p),p.forEach(N=>{o.updateFileStatus(N,"uploaded")}),t("uploaded",{files:p,xhr:x})):(E=!0,o.uploadedSize.value-=F,o.queuedFiles.value=o.queuedFiles.value.concat(p),p.forEach(N=>{o.updateFileStatus(N,"failed")}),t("failed",{files:p,xhr:x})),i.value--,r.value=r.value.filter(N=>N!==x))},x.open(_("method",p),y),_("withCredentials",p)===!0&&(x.withCredentials=!0);const D=_("headers",p);D!==void 0&&D.forEach(N=>{x.setRequestHeader(N.name,N.value)});const P=_("sendRaw",p);p.forEach(N=>{o.updateFileStatus(N,"uploading",0),P!==!0&&b.append(_("fieldName",N),N,N.name),N.xhr=x,N.__abort=()=>{x.abort()},M+=N.size}),t("uploading",{files:p,xhr:x}),r.value.push(x),P===!0?x.send(new Blob(p)):x.send(b)}return{isUploading:s,isBusy:l,abort:c,upload:d}}var l_e={name:"QUploader",props:i_e,emits:n_e,injectPlugin:s_e},c_e=r_e(l_e),AC={exports:{}};(function(e,t){(function(){var o={};o.Promise=typeof Promise!="undefined"?Promise:function(){throw new Error("No native promises and smartcrop.Promise not set.")},o.DEFAULTS={width:0,height:0,aspect:0,cropWidth:0,cropHeight:0,detailWeight:.2,skinColor:[.78,.57,.44],skinBias:.01,skinBrightnessMin:.2,skinBrightnessMax:1,skinThreshold:.8,skinWeight:1.8,saturationBrightnessMin:.05,saturationBrightnessMax:.9,saturationThreshold:.4,saturationBias:.2,saturationWeight:.3,scoreDownSample:8,step:8,scaleStep:.1,minScale:1,maxScale:1,edgeRadius:.4,edgeWeight:-20,outsideImportance:-.5,boostWeight:100,ruleOfThirds:!0,prescale:!0,imageOperations:null,canvasFactory:g,debug:!1},o.crop=function(D,P,N){var R=S({},o.DEFAULTS,P);R.aspect&&(R.width=R.aspect,R.height=1),R.imageOperations===null&&(R.imageOperations=b(R.canvasFactory));var z=R.imageOperations,W=1,j=1;return z.open(D,R.input).then(function(Q){return R.width&&R.height&&(W=x(Q.width/R.width,Q.height/R.height),R.cropWidth=~~(R.width*W),R.cropHeight=~~(R.height*W),R.minScale=x(R.maxScale,_(1/W,R.minScale)),R.prescale!==!1&&(j=1/W/R.minScale,j<1?(Q=z.resample(Q,Q.width*j,Q.height*j),R.cropWidth=~~(R.cropWidth*j),R.cropHeight=~~(R.cropHeight*j),R.boost&&(R.boost=R.boost.map(function(se){return{x:~~(se.x*j),y:~~(se.y*j),width:~~(se.width*j),height:~~(se.height*j),weight:se.weight}}))):j=1)),Q}).then(function(Q){return z.getData(Q).then(function(se){for(var _e=m(R,se),Ee=_e.crops||[_e.topCrop],J=0,re=Ee.length;J<re;J++){var ye=Ee[J];ye.x=~~(ye.x/j),ye.y=~~(ye.y/j),ye.width=~~(ye.width/j),ye.height=~~(ye.height/j)}return N&&N(_e),_e})})},o.isAvailable=function(D){if(!o.Promise)return!1;var P=D?D.canvasFactory:g;if(P===g){var N=document.createElement("canvas");if(!N.getContext("2d"))return!1}return!0};function r(D,P){for(var N=D.data,R=P.data,z=D.width,W=D.height,j=0;j<W;j++)for(var Q=0;Q<z;Q++){var se=(j*z+Q)*4,_e;Q===0||Q>=z-1||j===0||j>=W-1?_e=M(N,se):_e=M(N,se)*4-M(N,se-z*4)-M(N,se-4)-M(N,se+4)-M(N,se+z*4),R[se+1]=_e}}function a(D,P,N){for(var R=P.data,z=N.data,W=P.width,j=P.height,Q=0;Q<j;Q++)for(var se=0;se<W;se++){var _e=(Q*W+se)*4,Ee=F(R[_e],R[_e+1],R[_e+2])/255,J=d(D,R[_e],R[_e+1],R[_e+2]),re=J>D.skinThreshold,ye=Ee>=D.skinBrightnessMin&&Ee<=D.skinBrightnessMax;re&&ye?z[_e]=(J-D.skinThreshold)*(255/(1-D.skinThreshold)):z[_e]=0}}function i(D,P,N){for(var R=P.data,z=N.data,W=P.width,j=P.height,Q=0;Q<j;Q++)for(var se=0;se<W;se++){var _e=(Q*W+se)*4,Ee=F(R[_e],R[_e+1],R[_e+2])/255,J=E(R[_e],R[_e+1],R[_e+2]);J>D.saturationThreshold;var re=Ee>=D.saturationBrightnessMin&&Ee<=D.saturationBrightnessMax;re&&re?z[_e+2]=(J-D.saturationThreshold)*(255/(1-D.saturationThreshold)):z[_e+2]=0}}function n(D,P){if(!!D.boost){for(var N=P.data,R=0;R<P.width;R+=4)N[R+3]=0;for(R=0;R<D.boost.length;R++)s(D.boost[R],D,P)}}function s(D,P,N){for(var R=N.data,z=N.width,W=~~D.x,j=~~(D.x+D.width),Q=~~D.y,se=~~(D.y+D.height),_e=D.weight*255,Ee=Q;Ee<se;Ee++)for(var J=W;J<j;J++){var re=(Ee*z+J)*4;R[re+3]+=_e}}function l(D,P,N){for(var R=[],z=x(P,N),W=D.cropWidth||z,j=D.cropHeight||z,Q=D.maxScale;Q>=D.minScale;Q-=D.scaleStep)for(var se=0;se+j*Q<=N;se+=D.step)for(var _e=0;_e+W*Q<=P;_e+=D.step)R.push({x:_e,y:se,width:W*Q,height:j*Q});return R}function u(D,P,N){for(var R={detail:0,saturation:0,skin:0,boost:0,total:0},z=P.data,W=D.scoreDownSample,j=1/W,Q=P.height*W,se=P.width*W,_e=P.width,Ee=0;Ee<Q;Ee+=W)for(var J=0;J<se;J+=W){var re=(~~(Ee*j)*_e+~~(J*j))*4,ye=c(D,N,J,Ee),ge=z[re+1]/255;R.skin+=z[re]/255*(ge+D.skinBias)*ye,R.detail+=ge*ye,R.saturation+=z[re+2]/255*(ge+D.saturationBias)*ye,R.boost+=z[re+3]/255*ye}return R.total=(R.detail*D.detailWeight+R.skin*D.skinWeight+R.saturation*D.saturationWeight+R.boost*D.boostWeight)/(N.width*N.height),R}function c(D,P,N,R){if(P.x>N||N>=P.x+P.width||P.y>R||R>=P.y+P.height)return D.outsideImportance;N=(N-P.x)/P.width,R=(R-P.y)/P.height;var z=y(.5-N)*2,W=y(.5-R)*2,j=Math.max(z-1+D.edgeRadius,0),Q=Math.max(W-1+D.edgeRadius,0),se=(j*j+Q*Q)*D.edgeWeight,_e=1.41-I(z*z+W*W);return D.ruleOfThirds&&(_e+=Math.max(0,_e+se+.5)*1.2*(O(z)+O(W))),_e+se}o.importance=c;function d(D,P,N,R){var z=I(P*P+N*N+R*R),W=P/z-D.skinColor[0],j=N/z-D.skinColor[1],Q=R/z-D.skinColor[2],se=I(W*W+j*j+Q*Q);return 1-se}function m(D,P){var N={},R=new f(P.width,P.height);r(P,R),a(D,P,R),i(D,P,R),n(D,R);for(var z=p(R,D.scoreDownSample),W=-1/0,j=null,Q=l(D,P.width,P.height),se=0,_e=Q.length;se<_e;se++){var Ee=Q[se];Ee.score=u(D,z,Ee),Ee.score.total>W&&(j=Ee,W=Ee.score.total)}return N.topCrop=j,D.debug&&j&&(N.crops=Q,N.debugOutput=R,N.debugOptions=D,N.debugTopCrop=S({},N.topCrop)),N}function f(D,P,N){this.width=D,this.height=P,N?this.data=new Uint8ClampedArray(N):this.data=new Uint8ClampedArray(D*P*4)}o.ImgData=f;function p(D,P){for(var N=D.data,R=D.width,z=Math.floor(D.width/P),W=Math.floor(D.height/P),j=new f(z,W),Q=j.data,se=1/(P*P),_e=0;_e<W;_e++)for(var Ee=0;Ee<z;Ee++){for(var J=(_e*z+Ee)*4,re=0,ye=0,ge=0,De=0,Oe=0,he=0,Me=0,fe=0;fe<P;fe++)for(var G=0;G<P;G++){var V=((_e*P+fe)*R+(Ee*P+G))*4;re+=N[V],ye+=N[V+1],ge+=N[V+2],De+=N[V+3],Oe=Math.max(Oe,N[V]),he=Math.max(he,N[V+1]),Me=Math.max(Me,N[V+2])}Q[J]=re*se*.5+Oe*.5,Q[J+1]=ye*se*.7+he*.3,Q[J+2]=ge*se,Q[J+3]=De*se}return j}o._downSample=p;function g(D,P){var N=document.createElement("canvas");return N.width=D,N.height=P,N}function b(D){return{open:function(P){var N=P.naturalWidth||P.width,R=P.naturalHeight||P.height,z=D(N,R),W=z.getContext("2d");return P.naturalWidth&&(P.naturalWidth!=P.width||P.naturalHeight!=P.height)?(z.width=P.naturalWidth,z.height=P.naturalHeight):(z.width=P.width,z.height=P.height),W.drawImage(P,0,0),o.Promise.resolve(z)},resample:function(P,N,R){return Promise.resolve(P).then(function(z){var W=D(~~N,~~R),j=W.getContext("2d");return j.drawImage(z,0,0,z.width,z.height,0,0,W.width,W.height),o.Promise.resolve(W)})},getData:function(P){return Promise.resolve(P).then(function(N){var R=N.getContext("2d"),z=R.getImageData(0,0,N.width,N.height);return new f(N.width,N.height,z.data)})}}}o._canvasImageOperations=b;var x=Math.min,_=Math.max,y=Math.abs,I=Math.sqrt;function S(D){for(var P=1,N=arguments.length;P<N;P++){var R=arguments[P];if(R)for(var z in R)D[z]=R[z]}return D}function O(D){return D=((D-1/3+1)%2*.5-.5)*16,Math.max(1-D*D,0)}function F(D,P,N){return .5126*N+.7152*P+.0722*D}function M(D,P){return F(D[P],D[P+1],D[P+2])}function E(D,P,N){var R=_(D/255,P/255,N/255),z=x(D/255,P/255,N/255);if(R===z)return 0;var W=(R+z)/2,j=R-z;return W>.5?j/(2-R-z):j/(R+z)}t.smartcrop=o,e.exports=o})()})(AC,AC.exports);var u_e=AC.exports;function d_e(e){return new Promise(t=>{const o=new FileReader;o.onload=()=>{const r=new DataView(o.result);if(r.getUint16(0,!1)!==65496)return t(-2);const a=r.byteLength;let i=2;for(;i<a;){if(r.getUint16(i+2,!1)<=8)return t(-1);const n=r.getUint16(i,!1);if(i+=2,n===65505){if(r.getUint32(i+=2,!1)!==1165519206)return t(-1);const s=r.getUint16(i+=6,!1)===18761;i+=r.getUint32(i+4,s);const l=r.getUint16(i,s);i+=2;for(let u=0;u<l;u++)if(r.getUint16(i+u*12,s)===274)return t(r.getUint16(i+u*12+8,s))}else{if((n&65280)!==65280)break;i+=r.getUint16(i,!1)}}return t(-1)},o.readAsArrayBuffer(e)})}function f_e(e,t){const o=new FileReader;o.addEventListener("load",()=>{t(o.result)},!1),o.readAsDataURL(e)}function m_e(e,t){const o=new Image;o.onload=()=>{t(o)},o.src=e}function p_e(e,t,o,r,a,i){const n=e.width,s=e.height;if(r){u_e.crop(e,{width:t,height:o}).then(c=>{i({srcX:c.topCrop.x,srcY:c.topCrop.y,srcWidth:c.topCrop.width,srcHeight:c.topCrop.height,dstWidth:t,dstHeight:o})});return}let l,u;a?(l=t,u=o):n>s?(l=t,u=Math.round(s/n*l)):(u=o,l=Math.round(n/s*u)),i({srcX:0,srcY:0,srcWidth:n,srcHeight:s,dstWidth:l,dstHeight:u})}function pD(e,t,o){if(!/(jpe?g|png)$/i.test(e.type)){o(new TypeError("image must be either jpeg or png"));return}if(!/^(jpe?g|png|canvas)$/.test(t.outputFormat)){o(new Error("outputFormat must be either (jpe?g|png|canvas)"));return}const r=t.outputFormat==="png"?"png":"jpeg",a=d_e(e);f_e(e,i=>{m_e(i,n=>{const{crop:s}=t,{forceRatio:l}=t;p_e(n,t.targetWidth,t.targetHeight,s,l,u=>{const c=document.createElement("canvas"),d=c.getContext("2d");c.width=u.dstWidth,c.height=u.dstHeight,a.then(m=>{m>4&&(c.width=u.dstHeight,c.height=u.dstWidth),m===3?(d.rotate(Math.PI),d.translate(-u.dstWidth,-u.dstHeight)):m===6?(d.rotate(.5*Math.PI),d.translate(0,-u.dstHeight)):m===8&&(d.rotate(-.5*Math.PI),d.translate(-u.dstWidth,0)),d.drawImage(n,u.srcX,u.srcY,u.srcWidth,u.srcHeight,0,0,u.dstWidth,u.dstHeight),o(null,t.outputFormat==="canvas"?c:c.toDataURL(`image/${r}`))})})})})}const h_e={components:{Avatar:Sc},data(){return{modalAdicionar:!1,somenteLeitura:!1,online:navigator.onLine,modalArquivo:{visivel:!1,nome:"",arquivo:""}}},emits:["atualizar"],methods:{async adicionar(e){var i,n;const t=s=>new Promise((l,u)=>{const c=new FileReader;c.readAsDataURL(s),c.onload=()=>l(c.result),c.onerror=d=>u(d)}),o=e[0],r={id:$utils.uuid(),dataCriacao:$utils.dataAtual(),nome:o.name},a=!!((i=this.resize)!=null&&i.height)&&!!((n=this.resize)!=null&&n.width);this.idTabelaMaster&&(r.idTabelaMaster=this.idTabelaMaster),this.tipoArquivo&&(r.tipoArquivo=this.tipoArquivo),(!a||!this.checkTypeFile(r.nome,"jpeg|png|jpg"))&&(r.arquivo=await t(o)),a&&this.checkTypeFile(r.nome,"jpeg|png|jpg")&&await new Promise((s,l)=>{var u,c,d;pD(o,{crop:(u=this.resize)==null?void 0:u.crop,outputFormat:"jpg",targetHeight:(c=this.resize)==null?void 0:c.height,targetWidth:(d=this.resize)==null?void 0:d.width},(m,f)=>{if(m){console.error(m),s();return}r.arquivo=f,s()})}),this.arquivo.push(r),this.$refs.uploader.reset(),this.modalAdicionar=!1,this.$emit("atualizar")},uploadClick(){this.$refs.Upload.click()},async abrirArquivo(e){const t=this.$refs.Upload.files;if(FileReader&&t&&t.length){var o=new FileReader;o.onload=()=>{},o.readAsDataURL(t[0]),await this.anexar(t)}},toBase64(e){return new Promise((t,o)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=a=>o(a)})},async anexar(e){var a,i;const t=e[0],o={id:$utils.uuid(),dataCriacao:$utils.dataAtual(),nome:t.name},r=!!((a=this.resize)!=null&&a.height)&&!!((i=this.resize)!=null&&i.width);this.idTabelaMaster&&(o.idTabelaMaster=this.idTabelaMaster),this.tipoArquivo&&(o.tipoArquivo=this.tipoArquivo),(!r||!this.checkTypeFile(o.nome,"jpeg|png|jpg"))&&(o.arquivo=await this.toBase64(t)),r&&this.checkTypeFile(o.nome,"jpeg|png|jpg")&&await new Promise((n,s)=>{var l,u,c;pD(t,{crop:(l=this.resize)==null?void 0:l.crop,outputFormat:"jpg",targetHeight:(u=this.resize)==null?void 0:u.height,targetWidth:(c=this.resize)==null?void 0:c.width},(d,m)=>{if(d){console.error(d),n();return}o.arquivo=m,n()})}),this.arquivo.push(o),this.$emit("atualizar")},async openImage(e){var t;if(e.id&&!e.arquivo){const o=await $db.arquivo.ler({filtros:{id:e.id},campos:["id","nome","arquivo"]});e=(t=o==null?void 0:o.find(r=>r.id===e.id))!=null?t:e}this.modalArquivo={visivel:!0,nome:e.nome,arquivo:e.arquivo}},async remover(e){$q.dialog({title:"Remover",essage:"Deseja remover o arquivo "+e.nome+".",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{const t=this.arquivo.findIndex(o=>o.id===e.id);this.arquivo.splice(t,1),this.$emit("atualizar")})},checkTypeFile(e,t){if(e.indexOf(".")===-1)return!1;let o=e.split(".").length-1,r=e.split(".")[o];return(t.indexOf("|")!==-1?t.split("|"):[t]).filter(n=>n===r).length},async openFile(e){var o;let t;if(e.id&&!e.arquivo){const r=await $db.arquivo.ler({filtros:{id:e.id},campos:["id","nome","arquivo"]});e=(o=r==null?void 0:r.find(a=>a.id===e.id))!=null?o:e}t=window.open("about:blank"),setTimeout(function(){let r=t.document.querySelector("body");r.style.margin="0px",t.document.body.appendChild(t.document.createElement("iframe")).src=e.arquivo;let a=r.querySelector("iframe");a.style.width="100%",a.style.height="100%",a.style.border="0px"},0)}},props:{resize:{type:Object,required:!1},idTabelaMaster:{type:String,required:!1},tipoArquivo:{type:String,required:!1},arquivo:{type:Array},enableChanges:{type:Boolean,required:!1,default:!0}},beforeMount(){this.offlineEvent=e=>{this.online=!1},this.onlineEvent=e=>{this.online=!0},window.addEventListener("offline",this.offlineEvent),window.addEventListener("online",this.onlineEvent)},unmounted(){window.removeEventListener("offline",this.offlineEvent),window.removeEventListener("online",this.onlineEvent)}},v_e=e=>(An("data-v-945e90c2"),e=e(),Tn(),e),g_e={class:"row justify-end items-center"},__e=["onClick"],b_e=["onClick"],y_e=v_e(()=>A("label",{class:"bg-white text-primary btn-abrir"},"ABRIR",-1)),C_e={class:"row justify-end btn-delete"},x_e={container:"",class:"bg-white"},w_e={class:"q-pa-md"};function I_e(e,t,o,r,a,i){const n=ke("avatar");return $(),be(Qe,null,[v(wt,{bordered:"",separator:""},{default:w(()=>[v(We,{clickable:o.enableChanges},{default:w(()=>[v(Ie,{class:"flex"},{default:w(()=>[A("div",g_e,[a.online?ce("",!0):($(),ue(Ve,{key:0,class:"q-mr-sm",dense:"",flat:"",round:"",size:"sm",name:"cloud_off"},{default:w(()=>[v(Mt,null,{default:w(()=>[te(" N\xE3o foi poss\xEDvel acessar arquivos online ")]),_:1})]),_:1})),A("input",{ref:"Upload",type:"file",id:"Upload",onChange:t[0]||(t[0]=(...s)=>i.abrirArquivo&&i.abrirArquivo(...s)),style:{visibility:"hidden"}},null,544),o.enableChanges?($(),ue(pe,{key:1,flat:"",round:"",dense:"",icon:"add",onClick:i.uploadClick},null,8,["onClick"])):ce("",!0)])]),_:1})]),_:1},8,["clickable"]),($(!0),be(Qe,null,zt(o.arquivo,s=>($(),ue(We,{multiline:"",key:s.id,class:"flex"},{default:w(()=>[s.delete?ce("",!0):($(),ue(Ie,{key:0},{default:w(()=>[s.arquivo&&i.checkTypeFile(s.nome,"jpeg|png|jpg")?($(),ue(Gge,{key:0,src:s.arquivo,style:{height:"140px","max-width":"150px",cursor:"pointer"},onClick:l=>i.openImage(s)},null,8,["src","onClick"])):ce("",!0),i.checkTypeFile(s.nome,"jpeg|png|jpg")?($(),be("label",{key:1,style:{cursor:"pointer"},clickable:"",onClick:l=>i.openImage(s)},de(s.nome),9,__e)):ce("",!0),i.checkTypeFile(s.nome,"jpeg|png|jpg")?ce("",!0):($(),be("label",{key:2,class:"bg-primary text-white btn-open-file q-item--clickable",clickable:"",onClick:l=>i.openFile(s)},[i.checkTypeFile(s.nome,"pdf")?ce("",!0):($(),ue(Ve,{key:0,name:"mdi-file",size:"24px",class:"text-white",style:{"margin-right":"6px"}})),i.checkTypeFile(s.nome,"pdf")?($(),ue(Ve,{key:1,name:"mdi-file-pdf",size:"24px",class:"text-white",style:{"margin-right":"6px"}})):ce("",!0),te(" "+de(s.nome)+" ",1),y_e],8,b_e))]),_:2},1024)),v(Ie,null,{default:w(()=>[A("div",C_e,[o.enableChanges?($(),ue(pe,{key:0,flat:"",round:"",dense:"",icon:"delete",onClick:l=>i.remover(s)},null,8,["onClick"])):ce("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1}),v(Qt,{modelValue:a.modalAdicionar,"onUpdate:modelValue":t[1]||(t[1]=s=>a.modalAdicionar=s),"content-css":{minWidth:"30vw"}},{default:w(()=>[v(c_e,{label:"Adicionar imagem","hide-upload-btn":"","auto-upload":"",multiple:"",ref:"uploader",factory:i.adicionar},null,8,["factory"])]),_:1},8,["modelValue"]),v(Qt,{modelValue:a.modalArquivo.visivel,"onUpdate:modelValue":t[2]||(t[2]=s=>a.modalArquivo.visivel=s)},{default:w(()=>[A("div",x_e,[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te(de(a.modalArquivo.nome),1)]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",w_e,[v(n,{imagem:a.modalArquivo.arquivo,redondo:!1,tamanho:"300"},null,8,["imagem"])])])]),_:1},8,["modelValue"])],64)}var N0=ht(h_e,[["render",I_e],["__scopeId","data-v-945e90c2"]]);const O2={documento:{},documentoItens:[],arquivo:[]},E_e={components:{Arquivo:N0,Avatar:Sc,Badge:vl,CodigoBarras:M0,PromptItemV2:Kf},computed:{new(){for(const e of this.dataTmp.documentoItens)e.descricaoAgrupamento=this.descricaoAgrupamento;return{...this.data,...this.dataTmp,arquivo:this.$refs.arquivo.arquivo.map(e=>({...e,idTabelaMaster:this.dataTmp.documento.id,tabelaMaster:"custom"}))}},readonly(){return this.dataTmp.documento.status!=="Or\xE7amento"}},data(){return{contato:{},checarErros:!1,data:{},dataTmp:{},descricaoAgrupamento:"",item:{},hintValorUnitario:{},modalItem:{},subTotal:{},visible:!1,valoresTabelaPreco:[],warningLabel:{}}},emits:["salvar"],methods:{fechar(e){if(e.stopPropagation(),this.isEqual()){this.visible=!1;return}$q.dialog({message:"Ao continuar voc\xEA ir\xE1 perder todas as modifica\xE7\xF5es.",title:"Tem certeza?",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{this.visible=!1})},async abrirModalItem(e){let t={};for(const o of this.dataTmp.documentoItens){if(!o.idItem)continue;this.itemPrompt||(this.itemPrompt={}),this.itemPrompt[o.idItem]||(this.itemPrompt[o.idItem]=await $erp().item.get(o.idItem));let r=$utils.clonarV2(this.itemPrompt[o.idItem]);r.novoValorVenda=o.valorReal,t[o.idItem]={item:r,quantidade:o.quantidade}}this.$refs.promptItem.itensSelecionados=t,this.modalItem.filtros={ativo:!0,bloquearVenda:!1,tipo:e,idEmpresa:this.dataTmp.documento.idEmpresa,idTabelaPreco:this.dataTmp.documento.idItemTabelaPreco},this.modalItem.visivel=!0},async prepararItem(e,t={}){if(!!e&&!this.item[e]&&(t.id||(t=await $db.item.le({id:e})),t.id)){const o=$utils.clonarV2(this.item);o[t.id]={marca:t.marca||"",referencia:t.referencia||"",imagem:t.imagem||"",embalagem:t.embalagem||""},this.item=o}},calculaTotal(){const e=$utils.clonarV2(this.dataTmp.documento);let t=0;for(const o of this.dataTmp.documentoItens)t+=o.subTotal;e.subTotal=$utils.arredondar(t),e.totalDocumento=e.subTotal,this.dataTmp.documento=e},async calculaTotalItem(e,t){const o=$utils.clonarV2(this.dataTmp.documentoItens[e]);if(t==="quantidade"&&this.dataTmp.documento.idItemTabelaPreco){const i=await $erp().itemTabelaPreco.get(this.dataTmp.documento.idItemTabelaPreco);if(i){await this.configurarValoresTabelaPreco(i,o);let n=this.valoresTabelaPreco.find(s=>s.id===o.id);n.quantidadeMaiorQue&&(this.hintValorUnitario[o.id]=`>${n.quantidadeMaiorQue-1}un = ${$filters.numeroZerosDireita(n.valorVendaMaiorQue,4,2)}`),n.quantidadeMaiorQue&&o.quantidade>=n.quantidadeMaiorQue?(o.valorOriginal!==n.valorVendaMaiorQue&&(o.valorOriginal=o.valorItem=n.valorVendaMaiorQue,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="Valor Diferenciado"):(o.valorOriginal!==n.valorVenda&&(o.valorOriginal=o.valorItem=n.valorVenda,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="")}}o.valorItem<o.valorOriginal&&(o.valorItem=o.valorOriginal),t==="descontoPercentualItem"&&(o.descontoItem=$utils.arredondar(o.descontoPercentualItem/100*o.valorItem,4)),["descontoItem","valorItem"].includes(t)&&(o.descontoPercentualItem=$utils.arredondar(o.descontoItem/o.valorItem*100)),o.descontoItem>o.valorItem&&(o.descontoPercentualItem=o.descontoItem=0),["subTotal"].includes(t)&&(this.subTotal[o.id]!==void 0?o.descontoItem=$utils.arredondar(o.valorItem-this.subTotal[o.id],4):o.descontoItem=$utils.arredondar(o.valorItem-o.subTotal,4),o.descontoPercentualItem=$utils.arredondar(o.descontoItem/o.valorItem*100),this.subTotal[o.id]>0&&this.subTotal[o.id]>o.valorItem&&(o.valorItem=this.subTotal[o.id]));let r=$utils.arredondar(o.valorItem-o.descontoItem,4);o.descontoItem=$utils.arredondar(o.valorItem-r,4),$utils.arredondar(r)>$utils.arredondar(o.valorItem)&&(r=o.valorItem,o.descontoPercentualItem=o.descontoItem=0);const a=$utils.clonarV2(this.subTotal);if(a[o.id]=r,this.subTotal=a,o.subTotal=$utils.arredondar(r*o.quantidade),o.total=o.subTotal,o.valorReal=$utils.arredondar(r),o.valorRealTotal=o.total,t==="valorItem"){let i=$utils.clonarV2(this.dataTmp.documentoItens);i[e]={...o,valorItem:0},this.dataTmp.documentoItens=i,this.$nextTick(()=>{i[e]=o,this.dataTmp.documentoItens=i,this.calculaTotal()})}else{let i=$utils.clonarV2(this.dataTmp.documentoItens);i[e]=o,this.dataTmp.documentoItens=i}this.calculaTotal()},async configurarValoresTabelaPreco(e,t){let o=this.valoresTabelaPreco.find(a=>a.id===t.id);if(o)return;let r=await $erp().item.get(t.idItem);o=await $db.itemTabelaPreco.obterValores(e,r,4),this.valoresTabelaPreco.push({id:t.id,...o})},isEqual(){const e={...O2,...$utils.clonarV2(this.data)},t=$utils.diferencaObjetos(e,this.new);return!Object.keys(t).length},async mostrar(){this.dataTmp={...O2,...$utils.clonarV2(this.data)},this.warningLabel={},this.valoresTabelaPreco=[],this.checarErros=!1,this.descricaoAgrupamento="",this.dataTmp.documentoItens.length&&(this.descricaoAgrupamento=this.dataTmp.documentoItens[0].descricaoAgrupamento);for(const e of this.dataTmp.documentoItens){this.descricaoAgrupamento||(this.descricaoAgrupamento=e.descricaoAgrupamento),this.prepararItem(e.idItem);const t=$utils.clonarV2(this.subTotal);t[e.id]=e.valorItem-e.descontoItem,this.subTotal=t}this.contato={codigo:"",descricao:"",imagem:""},await $db.contato.le({id:this.dataTmp.documento.idContato}).then(e=>{this.contato.codigo=e.codigoContato||e.id.slice(-6)||"",this.contato.descricao=e.nome||e.apelido||"",this.contato.imagem=e.imagem||""}),this.visible=!0,await this.$nextTick()},async removerItem(e){const t=(this.dataTmp.documentoItens[e]||{}).id;this.dataTmp.documentoItens=this.dataTmp.documentoItens.filter(o=>o.id!==t),this.calculaTotal()},salvar(){if(this.checarErros=!0,!this.dataTmp.documento.dataHoraPrevisto){this.$q.notifyError("Previs\xE3o de entrega n\xE3o preenchida");return}if(this.dataTmp.documento.dataHoraPrevisto){const t=new Date().setHours(0,0,0,0);if(new Date(this.dataTmp.documento.dataHoraPrevisto)<new Date(t)){this.$q.notifyError("Previs\xE3o de entrega incorreta");return}}if(!this.dataTmp.documento.descricao){this.$q.notifyError("Descri\xE7\xE3o n\xE3o preenchida");return}if(!this.dataTmp.documentoItens.length){this.$q.notifyError("N\xE3o h\xE1 itens no carrinho");return}let e=!1;for(const t of this.data.documentoItens){const o=this.new.documentoItens.find(r=>t.id===r.id);if(e=o&&o.quantidade!==t.quantidade,e)break}this.$emit("salvar",{dados:this.new,reiniciarQtde:!this.isEqual()}),this.visible=!1},adicionarItem(e){const t=this.dataTmp.documentoItens.find(a=>a.idItem===e.id);let o=1;e.novoValorVenda=e.valorVenda,t&&(e.novoValorVenda=t.valorReal,o=t.quantidade+1);const r={};r[e.id]={item:e,quantidade:o},this.selecionarItens(r)},async selecionarItens(e){for(const t in e){const o=e[t].item||{},r=e[t].quantidade||0;let a=this.dataTmp.documentoItens.findIndex(i=>i.idItem===t);await this.selecionarItem(t,o,r),a===-1&&(a=this.dataTmp.documentoItens.findIndex(i=>i.idItem===t),a!==-1&&this.calculaTotalItem(a,"quantidade"))}},async selecionarItem(e,t,o){let r=this.dataTmp.documentoItens.findIndex(u=>u.idItem===e);if(r!==-1){t.novoValorVenda!==this.dataTmp.documentoItens[r].valorOriginal&&(t.novoValorVenda<=this.dataTmp.documentoItens[r].valorOriginal?(this.dataTmp.documentoItens[r].valorItem=this.dataTmp.documentoItens[r].valorOriginal,this.dataTmp.documentoItens[r].descontoItem=$utils.arredondar(this.dataTmp.documentoItens[r].valorOriginal-t.novoValorVenda)):(this.dataTmp.documentoItens[r].valorItem=t.novoValorVenda,this.dataTmp.documentoItens[r].descontoItem=0),this.calculaTotalItem(r,"descontoItem")),this.dataTmp.documentoItens[r].quantidade!==o&&(this.dataTmp.documentoItens[r].quantidade=o||1,this.calculaTotalItem(r,"quantidade"));return}const a=await $utils.selecionarCfop({ncm:t.ncm,idItem:t.id,itemTipo:t.tipo,codigoDocumentoOperacao:this.dataTmp.documento.codigoDocumentoOperacao,idContatoDestinatario:this.dataTmp.documento.idContato,idContatoEmitente:this.dataTmp.documento.idEmpresa,operacaoFator:-1});if(!a){this.$q.notify("N\xE3o foi poss\xEDvel localizar o CFOP.");return}const i=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:t.id,idEmpresa:$lodash.get(this.dataTmp,"documento.idEmpresa",""),tipoEstoque:"Dispon\xEDvel"})).find(u=>u.idItem),n=$utils.uuid(),s=$utils.clonarV2(this.subTotal);s[n]=t.valorVenda,this.subTotal=s,this.prepararItem(e,t);const l={id:n,idItem:t.id,idDocumento:this.dataTmp.documento.documentoId,idDocumentoAdicional:this.dataTmp.documento.id,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:t.descricaoConcatenada,operacao:a==null?void 0:a.operacao,operacaoFator:a==null?void 0:a.fator,idCfop:a==null?void 0:a.id,quantidade:o||1,status:this.dataTmp.documento.status,subTotal:t.valorVenda,tipoItem:t.tipo,total:t.valorVenda,valorCusto:0,valorCustoMedio:$lodash.get(i,"valorCustoMedio",0),valorCustoReposicao:t.valorCustoReposicao||0,valorCustoUltimo:$lodash.get(i,"valorCusto",0),valorItem:t.valorVenda,valorItemUltimo:0,valorOriginal:t.valorVenda,valorReal:t.valorVenda,valorRealTotal:t.valorVenda};this.dataTmp.documentoItens.push(l),r=this.dataTmp.documentoItens.findIndex(u=>u.idItem===e),r!==-1&&t.novoValorVenda!==this.dataTmp.documentoItens[r].valorOriginal&&(t.novoValorVenda<=this.dataTmp.documentoItens[r].valorOriginal?(this.dataTmp.documentoItens[r].valorItem=this.dataTmp.documentoItens[r].valorOriginal,this.dataTmp.documentoItens[r].descontoItem=$utils.arredondar(this.dataTmp.documentoItens[r].valorOriginal-t.novoValorVenda)):(this.dataTmp.documentoItens[r].valorItem=t.novoValorVenda,this.dataTmp.documentoItens[r].descontoItem=0),this.calculaTotalItem(r,"descontoItem")),o||this.calculaTotal()}},created(){this.dataTmp={...O2},this.modalItem={filtros:{},visivel:!1}}},S_e={class:"layout-padding q-pa-none q-pb-md"},A_e={class:"u-container"},T_e={class:"row items-center"},O_e={class:"col q-ma-sm q-title"},D_e={class:"col-12"},P_e={class:"col-12 col-sm-6"},M_e={class:"col-12 col-sm-6"},N_e={class:"bg-white q-mt-md"},F_e={class:"q-pa-md"},R_e={class:"bg-white q-mt-md"},k_e={key:0,class:"q-pa-lg text-center"},V_e=A("p",null,"N\xE3o h\xE1 itens no carrinho",-1),q_e=A("p",{class:"text-caption"},"Para adicionar, utilize os bot\xF5es acima ou insira o c\xF3digo de barras",-1),B_e=[V_e,q_e],L_e={class:"col-auto"},$_e={class:"col-12 q-mb-lg"},U_e={class:"q-col-gutter-x-sm row"},z_e=["warning","warning-label"],H_e={class:"col-4 col-sm-3 col-lg-2"},j_e={class:"col-4 col-sm-3 col-lg-2"},G_e={class:"col-3 col-lg-2"},W_e={class:"col-5 col-sm-8 col-lg-2"},X_e={class:"col-4 col-lg-2"},Y_e={class:"col-12"},K_e={class:"u-container"},Q_e={class:"q-ml-sm"};function J_e(e,t,o,r,a,i){const n=ke("avatar"),s=ke("badge"),l=ke("campo"),u=ke("row"),c=ke("Arquivo"),d=ke("CodigoBarras"),m=ke("PromptItemV2");return $(),be(Qe,null,[v(Qt,{modelValue:a.visible,"onUpdate:modelValue":t[6]||(t[6]=f=>a.visible=f),persistent:"",maximized:"",onKeyup:Zi(i.fechar,["esc"])},{default:w(()=>[v(Jo,{container:"",class:"bg-light"},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[v(pe,{icon:"arrow_back",flat:"",round:"",dense:"",onClick:i.fechar},null,8,["onClick"]),v(nt,null,{default:w(()=>[te("Custom")]),_:1}),v(pe,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Salvar",onClick:i.salvar,unelevated:""},null,8,["onClick"])]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",S_e,[A("div",A_e,[v(Bt,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:w(()=>[v(at,{class:"q-pb-md q-px-none",color:"black",dark:""},{default:w(()=>[v(nt,{class:"q-px-none"},{default:w(()=>[A("div",T_e,[v(n,{imagem:a.contato.imagem,rotulo:a.contato.descricao,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"]),A("div",O_e,de(a.contato.descricao),1)])]),_:1}),v(s,null,{default:w(()=>[te("#"+de(a.contato.codigo),1)]),_:1})]),_:1}),v(u,{class:"q-col-gutter-md"},{default:w(()=>[A("div",D_e,[v(l,{modelValue:a.dataTmp.documento.descricao,"onUpdate:modelValue":t[0]||(t[0]=f=>a.dataTmp.documento.descricao=f),rotuloFixo:"Descri\xE7\xE3o",tipo:"texto",autogrow:"","somente-leitura":i.readonly},null,8,["modelValue","somente-leitura"])]),A("div",P_e,[v(l,{modelValue:a.dataTmp.documento.observacao,"onUpdate:modelValue":t[1]||(t[1]=f=>a.dataTmp.documento.observacao=f),rotuloFixo:"Observa\xE7\xE3o",tipo:"textoArea","somente-leitura":i.readonly},null,8,["modelValue","somente-leitura"])]),A("div",M_e,[v(l,{modelValue:a.descricaoAgrupamento,"onUpdate:modelValue":t[2]||(t[2]=f=>a.descricaoAgrupamento=f),rotuloFixo:"Descri\xE7\xE3o Agrupamento",tipo:"texto",autogrow:"",somenteLeitura:i.readonly,"class-campo":"q-mb-md"},null,8,["modelValue","somenteLeitura"]),v(l,{modelValue:a.dataTmp.documento.dataHoraPrevisto,"onUpdate:modelValue":t[3]||(t[3]=f=>a.dataTmp.documento.dataHoraPrevisto=f),maxlength:"10",rotulo:"Previs\xE3o de Entrega",tipo:"data",somenteLeitura:i.readonly},null,8,["modelValue","somenteLeitura"])])]),_:1})]),_:1}),A("div",N_e,[v(at,{class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"image",size:"24px"}),v(nt,null,{default:w(()=>[te("Imagens")]),_:1})]),_:1}),A("div",F_e,[v(c,{ref:"arquivo",enableChanges:!i.readonly,arquivo:a.data.arquivo,idTabelaMaster:a.data.id},null,8,["enableChanges","arquivo","idTabelaMaster"])])]),A("div",R_e,[v(at,null,{default:w(()=>[v(Ve,{name:"shopping_cart",size:"24px",class:"text-tertiary"}),v(nt,{class:"text-tertiary"},{default:w(()=>[te("Carrinho")]),_:1}),v(pe,{class:"hideondesktop",color:"primary",flat:"",round:"",icon:"add",size:"md"},{default:w(()=>[v(Xa,null,{default:w(()=>[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[Te(($(),ue(We,{clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Produtos")]),_:1})]),_:1})]),_:1})),[[lt]]),Te(($(),ue(We,{clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Servi\xE7os")]),_:1})]),_:1})]),_:1})),[[lt]])]),_:1})]),_:1})]),_:1}),i.readonly?ce("",!0):($(),ue(pe,{key:0,color:"primary",flat:"",icon:"add",label:"Produto",class:"hideonmobile q-px-sm q-ml-sm",onClick:t[4]||(t[4]=f=>i.abrirModalItem("Produto"))})),i.readonly?ce("",!0):($(),ue(pe,{key:1,color:"primary",flat:"",icon:"add",label:"Servi\xE7o",class:"hideonmobile q-px-sm q-ml-sm",onClick:t[5]||(t[5]=f=>i.abrirModalItem("Servi\xE7o"))})),i.readonly?ce("",!0):($(),ue(d,{key:2,itemFiltros:{ativo:!0,bloquearVenda:!1,idEmpresa:a.dataTmp.documento.idEmpresa,idItemTabelaPreco:a.dataTmp.documento.idItemTabelaPreco},documentoItens:a.dataTmp.documentoItens,onAdicionar:i.adicionarItem,onAtualizar:i.selecionarItens},null,8,["itemFiltros","documentoItens","onAdicionar","onAtualizar"]))]),_:1}),a.dataTmp.documentoItens.length?($(!0),be(Qe,{key:1},zt(a.dataTmp.documentoItens,(f,p)=>($(),be("div",{class:"items-carrinho items-center row q-py-sm q-mx-lg",key:p},[A("div",L_e,[v(n,{imagem:(a.item[f.idItem]||{}).imagem,rotulo:f.descricaoItem,tamanho:"40"},null,8,["imagem","rotulo"])]),v(at,{class:"Venda-itemBarra bg-transparent col q-pr-none q-py-none",color:"black",dark:""},{default:w(()=>[v(Ie,{class:"q-px-none"},{default:w(()=>[v(Be,null,{default:w(()=>[te(de(f.descricaoItem),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[te(de((a.item[f.idItem]||{}).marca),1)]),_:2},1024)]),_:2},1024),v(s,{denso:""},{default:w(()=>[te(de(f.tipoItem!=="Produto"?f.tipoItem:"")+" ",1),A("span",null,[te(de((a.item[f.idItem]||{}).referencia)+" ",1),v(Mt,null,{default:w(()=>[te("Refer\xEAncia")]),_:1})])]),_:2},1024),i.readonly?ce("",!0):($(),ue(pe,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:g=>i.removerItem(p)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Remover Item")]),_:1})]),_:2},1032,["onClick"]))]),_:2},1024),A("div",$_e,[A("div",U_e,[A("div",{class:"col-4 col-sm-3 col-lg-2",warning:!!a.warningLabel[f.id],"warning-label":a.warningLabel[f.id]},[v(l,{"class-campo":"u-campoCompacto",align:"left",tipo:"decimal",decimals:"4",zerosDireita:"2","somente-leitura":i.readonly,modelValue:f.valorItem,"onUpdate:modelValue":g=>f.valorItem=g,rotulo:"Valor do produto 1",outlined:"",onBlur:g=>i.calculaTotalItem(p,"valorItem"),aviso:"",avisoRotulo:a.hintValorUnitario[f.id]},null,8,["somente-leitura","modelValue","onUpdate:modelValue","onBlur","avisoRotulo"])],8,z_e),A("div",H_e,[v(u,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-minus",color:"primary"}),v(l,{"class-campo":"u-campoCompacto ",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",rotulo:"Desconto percentual",outlined:"",suffix:"%",modelValue:f.descontoPercentualItem,"onUpdate:modelValue":g=>f.descontoPercentualItem=g,"somente-leitura":i.readonly,onBlur:g=>i.calculaTotalItem(p,"descontoPercentualItem")},null,8,["modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),_:2},1024)]),A("div",j_e,[v(l,{"class-campo":"u-campoCompacto",opcoes:{maximumValue:f.valorItem,minimumValue:0},tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:f.descontoItem,"onUpdate:modelValue":g=>f.descontoItem=g,"somente-leitura":i.readonly,rotulo:"Desconto em reais",outlined:"",onBlur:g=>i.calculaTotalItem(p,"descontoItem")},null,8,["opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),A("div",G_e,[v(u,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(l,{"class-campo":"u-campoCompacto text-weight-bold",align:e.$q.screen.lt.sm?"left":"right",rotulo:"Subtotal",outlined:"",opcoes:{maximumValue:f.valorItem,minimumValue:0},tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:a.subTotal[f.id],"onUpdate:modelValue":g=>a.subTotal[f.id]=g,"somente-leitura":i.readonly,onBlur:g=>i.calculaTotalItem(p,"subTotal")},null,8,["align","opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),_:2},1024)]),A("div",W_e,[v(u,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-close",color:"primary"}),v(l,{"class-campo":"u-campoCompacto",min:"0",modelValue:f.quantidade,"onUpdate:modelValue":[g=>f.quantidade=g,g=>i.calculaTotalItem(p,"quantidade")],"somente-leitura":i.readonly,outlined:"",tipo:"quantidade",decimals:"4",aviso:"",avisoRotulo:(a.item[f.idItem]||{}).embalagem},null,8,["modelValue","onUpdate:modelValue","somente-leitura","avisoRotulo"])]),_:2},1024)]),A("div",X_e,[v(u,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(l,{"class-campo":"u-campoCompacto text-weight-bold","somente-leitura":"",rotulo:"Total",outlined:"",tipo:"decimal",decimals:"2",modelValue:f.total,"onUpdate:modelValue":g=>f.total=g},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])])]),A("div",Y_e,[v(l,{rotulo:"Observa\xE7\xE3o",modelValue:f.observacao,"onUpdate:modelValue":g=>f.observacao=g},null,8,["modelValue","onUpdate:modelValue"])])]))),128)):($(),be("div",k_e,B_e))])])])]),_:1}),v(dl,{class:"bg-light"},{default:w(()=>[A("div",K_e,[v(at,{class:"text-tertiary bg-light"},{default:w(()=>[v(nt),te(" Total "),A("strong",Q_e,de(e.$filters.numero(a.dataTmp.documento.totalDocumento,2)),1)]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),v(m,{modelValue:a.modalItem.visivel,"onUpdate:modelValue":t[7]||(t[7]=f=>a.modalItem.visivel=f),filtro:a.modalItem.filtros,habilitarQuantidade:!0,onSelecionarItens:i.selecionarItens,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"])],64)}var Z_e=ht(E_e,[["render",J_e]]);const ebe={components:{Badge:vl},computed:{codigo(){return this.documento.numero?"#"+this.documento.numero:this.documento.id?"#"+this.documento.id.slice(-6):""},cor(){if(!this.status)return;if(this.prioridade&&this.prioridade.cor)return this.prioridade.cor;const e=this.status.toUpperCase();return{ABERTA:"positive","AGUARDANDO FATURAMENTO":"warning","AGUARDANDO PAGAMENTO":"warning",CANCELADO:"negative",FATURADO:"tertiary",FINALIZADO:"tertiary","N\xC3O APROVADO":"negative",OR\u00C7AMENTO:"positive"}[e]||"positive"},status(){return this.documento.status||null}},props:{documento:{default:()=>({}),required:!0,type:Object},prioridade:Object}};function tbe(e,t,o,r,a,i){const n=ke("badge");return $(),ue(n,{cor:i.cor,escuro:i.cor!=="warning"},{default:w(()=>[te(de(i.codigo)+" ",1),i.status?($(),ue(Mt,{key:0},{default:w(()=>[te(de(i.status)+" ",1),o.prioridade&&o.prioridade.tooltip?($(),be(Qe,{key:0},[te(de(o.prioridade.tooltip),1)],64)):ce("",!0)]),_:1})):ce("",!0)]),_:1},8,["cor","escuro"])}var obe=ht(ebe,[["render",tbe]]);const abe={data(){return{documento:{},documentoContato:[],metaDados:{}}},watch:{async documento(){const e=this.documento,t={};e.idFatura||(t.Emitente=[e.descricaoEmpresa,e.numeroDocumentoEmpresa]);const o=this.documentoContato.find(n=>(n.descricao||"").trim().toLowerCase()==="comprador"),r=this.documentoContato.find(n=>(n.descricao||"").trim().toLowerCase()==="representando");let a;o&&(a=await je.contato.le({id:o.idContato}));let i;r&&(i=await je.contato.le({id:r.idContato})),e.idContatoVendedor&&(t.Vendedor=[(await je.contato.le({id:e.idContatoVendedor})).nome]),e.idContatoDigitador&&(t.Digitador=[(await je.contato.le({id:e.idContatoDigitador})).nome]),e.idContatoIndicacao&&(t.Indica\u00E7\u00E3o=[(await je.contato.le({id:e.idContatoIndicacao})).nome]),e.idContatoResponsavel&&(t.Conv\u00EAnio=[(await je.contato.le({id:e.idContatoResponsavel})).nome]),a&&(t.Comprador=[a.nome]),i&&(t.Representando=[i.nome]),e.operacao&&(t.Opera\u00E7\u00E3o=[e.operacao]),e.idItemTabelaPreco&&(t["Tabela de Pre\xE7o"]=[(await je.itemTabelaPreco.le({id:e.idItemTabelaPreco})).descricao]),e.dataHoraEmissao&&(t.Emiss\u00E3o=[this.$filters.dataHora(e.dataHoraEmissao)]),e.dataHoraFinalizado&&(t.Finaliza\u00E7\u00E3o=[this.$filters.dataHora(e.dataHoraFinalizado)]),!e.idFatura&&e.idContato&&(t["Tel."]=[e.telefoneContato]),!e.idFatura&&e.idContato&&(t["End."]=[e.descricaoContatoEndereco]),this.metaDados=Na(t)}}},rbe={class:"row"},ibe={class:"DocumentoMetas-itemRotulo2 text-caption text-weight-bold col-auto q-mr-sm"},nbe={class:"DocumentoMetas-itemConteudo2 text-caption col"};function sbe(e,t,o,r,a,i){const n=ke("row");return $(),ue(n,{class:"q-col-gutter-x-md q-px-md border-1 q-my-sm DocumentoMetas text-faded"},{default:w(()=>[($(!0),be(Qe,null,zt(a.metaDados,(s,l)=>($(),be("div",{key:l,class:ii(["DocumentoMetas-item",[l==="End."?"col-12 ":"col-12 col-md"]])},[A("div",rbe,[A("div",ibe,de(l),1),A("div",nbe,[($(!0),be(Qe,null,zt(s,(u,c)=>($(),be("div",{key:c},de(u),1))),128))])])],2))),128))]),_:1})}var lbe=ht(abe,[["render",sbe]]);const cbe={data(){return{visivel:!1,campos:{nome:"",numeroDocumentoNacional:""},validations:{nome:[e=>(e||"").trim()!==""||"O nome \xE9 obrigat\xF3rio",e=>e.length>=2&&e.length<=50||"Use 2 ou mais caracteres"],numeroDocumentoNacional:[async e=>{const t=(this.campos||{}).id||"",{valido:o,mensagem:r}=await $utils.validarDocumentoNacionalUnico(e,t);return o||r}]},observacaoFilho:""}},methods:{async criarContato(){try{const e=await $db.contato.criarContatoBasico(this.campos);e.observacaoFilho=this.observacaoFilho,this.resolve(e),this.visivel=!1,this.$q.notifyPositive(this.msgSucesso)}catch(e){this.$q.notifyError(this.msgErro,e)}},onHide(){this.resolve()},mostrar(){return this.campos={nome:"",numeroDocumentoNacional:""},this.observacaoFilho="",this.visivel=!0,new Promise((e,t)=>{this.resolve=e})}},props:{cpfCnpj:{default:!1,type:Boolean},dataNascimento:{default:!1,type:Boolean},msgErro:{default:"Ocorreu um erro ao salvar.",type:String},msgSucesso:{default:"Contato criado com sucesso.",type:String},numeroDocumentoMunicipal:{type:String},observacao:{default:!1,type:Boolean},titulo:{default:"Criar contato",type:String}}},ube={class:"row justify-end"};function dbe(e,t,o,r,a,i){const n=ke("campo"),s=ke("row"),l=WC("mask");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[5]||(t[5]=u=>a.visivel=u),onHide:t[6]||(t[6]=u=>i.onHide())},{default:w(()=>[v(Bt,null,{default:w(()=>[v(ku,{class:"ItemFicha",onSubmit:i.criarContato},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[te(de(o.titulo),1)]),_:1})]),_:1}),v(Ja,null,{default:w(()=>[v(s,null,{default:w(()=>[v(n,{col:"12",modelValue:a.campos.nome,"onUpdate:modelValue":t[0]||(t[0]=u=>a.campos.nome=u),modelModifiers:{trim:!0},rotulo:"Nome do contato",rules:a.validations.nome,maxlength:"50"},null,8,["modelValue","rules"]),o.cpfCnpj?Te(($(),ue(n,{key:0,col:"12",modelValue:a.campos.numeroDocumentoNacional,"onUpdate:modelValue":t[1]||(t[1]=u=>a.campos.numeroDocumentoNacional=u),modelModifiers:{trim:!0},rotulo:"CPF/CNPJ",rules:a.validations.numeroDocumentoNacional},null,8,["modelValue","rules"])),[[l,["###.###.###-##","##.###.###/####-##"]]]):ce("",!0),o.numeroDocumentoMunicipal?($(),ue(n,{key:1,col:"12",modelValue:a.campos.numeroDocumentoMunicipal,"onUpdate:modelValue":t[2]||(t[2]=u=>a.campos.numeroDocumentoMunicipal=u),rotulo:o.numeroDocumentoMunicipal},null,8,["modelValue","rotulo"])):ce("",!0),o.dataNascimento?($(),ue(n,{key:2,modelValue:a.campos.dataAbertura,"onUpdate:modelValue":t[3]||(t[3]=u=>a.campos.dataAbertura=u),col:"12",rotulo:"Data de nascimento",tipo:"data"},null,8,["modelValue"])):ce("",!0),o.observacao?($(),ue(n,{key:3,modelValue:a.observacaoFilho,"onUpdate:modelValue":t[4]||(t[4]=u=>a.observacaoFilho=u),modelModifiers:{trim:!0},col:"12",maxlength:"50",rotulo:"Observacao"},null,8,["modelValue"])):ce("",!0)]),_:1})]),_:1}),v(at,null,{default:w(()=>[v(nt,null,{default:w(()=>[A("div",ube,[Te(v(pe,{flat:"",color:"tertiary",label:"Cancelar"},null,512),[[lt]]),v(pe,{unelevated:"",color:"primary",label:"Criar",type:"submit"})])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])}var WF=ht(cbe,[["render",dbe]]);let fbe=0;const mbe=["click","keydown"],pbe={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${fbe++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function hbe(e,t,o,r){const a=gr(N4,qa);if(a===qa)return console.error("QTab/QRouteTab component needs to be child of QTabs"),qa;const{proxy:i}=Ct(),n=$e(null),s=$e(null),l=$e(null),u=X(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),c=X(()=>a.currentModel.value===e.name),d=X(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(c.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(r!==void 0?r.linkClass.value:"")),m=X(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),f=X(()=>e.disable===!0||a.hasFocus.value===!0||c.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function p(y,I){if(I!==!0&&n.value!==null&&n.value.focus(),e.disable===!0){r!==void 0&&r.hasRouterLink.value===!0&&bo(y);return}if(r===void 0){a.updateModel({name:e.name}),o("click",y);return}if(r.hasRouterLink.value===!0){const S=(O={})=>{let F;const M=O.to===void 0||Ws(O.to,e.to)===!0?a.avoidRouteWatcher=_f():null;return r.navigateToRouterLink(y,{...O,returnRouterError:!0}).catch(E=>{F=E}).then(E=>{if(M===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,F===void 0&&(E===void 0||E.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),O.returnRouterError===!0)return F!==void 0?Promise.reject(F):E})};o("click",y,S),y.defaultPrevented!==!0&&S();return}o("click",y)}function g(y){En(y,[13,32])?p(y,!0):ug(y)!==!0&&y.keyCode>=35&&y.keyCode<=40&&y.altKey!==!0&&y.metaKey!==!0&&a.onKbdNavigate(y.keyCode,i.$el)===!0&&bo(y),o("keydown",y)}function b(){const y=a.tabProps.value.narrowIndicator,I=[],S=ee("div",{ref:l,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&I.push(ee(Ve,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&I.push(ee("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&I.push(e.alertIcon!==void 0?ee(Ve,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):ee("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),y===!0&&I.push(S);const O=[ee("div",{class:"q-focus-helper",tabindex:-1,ref:n}),ee("div",{class:m.value},bi(t.default,I))];return y===!1&&O.push(S),O}const x={name:X(()=>e.name),rootRef:s,tabIndicatorRef:l,routeData:r};wo(()=>{a.unregisterTab(x)}),tr(()=>{a.registerTab(x)});function _(y,I){const S={ref:s,class:d.value,tabindex:f.value,role:"tab","aria-selected":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:g,...I};return Te(ee(y,S,b()),[[Cg,u.value]])}return{renderTab:_,$tabs:a}}var jd=At({name:"QTab",props:pbe,emits:mbe,setup(e,{slots:t,emit:o}){const{renderTab:r}=hbe(e,t,o);return()=>r("div")}});function vbe(e,t,o){const r=o===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?r[0]:r[1]}${e?` text-${e}`:""}`}const gbe=["left","center","right","justify"];var XF=At({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>gbe.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:o}){const{proxy:r}=Ct(),{$q:a}=r,{registerTick:i}=nf(),{registerTick:n}=nf(),{registerTick:s}=nf(),{registerTimeout:l,removeTimeout:u}=Sf(),{registerTimeout:c,removeTimeout:d}=Sf(),m=$e(null),f=$e(null),p=$e(e.modelValue),g=$e(!1),b=$e(!0),x=$e(!1),_=$e(!1),y=[],I=$e(0),S=$e(!1);let O=null,F=null,M;const E=X(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:vbe(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),D=X(()=>{const oe=I.value,Ce=p.value;for(let ve=0;ve<oe;ve++)if(y[ve].name.value===Ce)return!0;return!1}),P=X(()=>`q-tabs__content--align-${g.value===!0?"left":_.value===!0?"justify":e.align}`),N=X(()=>`q-tabs row no-wrap items-center q-tabs--${g.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),R=X(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+P.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),z=X(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),W=X(()=>e.vertical!==!0&&a.lang.rtl===!0),j=X(()=>Yp===!1&&W.value===!0);rt(W,re),rt(()=>e.modelValue,oe=>{Q({name:oe,setCurrent:!0,skipEmit:!0})}),rt(()=>e.outsideArrows,se);function Q({name:oe,setCurrent:Ce,skipEmit:ve}){p.value!==oe&&(ve!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",oe),(Ce===!0||e["onUpdate:modelValue"]===void 0)&&(Ee(p.value,oe),p.value=oe))}function se(){i(()=>{_e({width:m.value.offsetWidth,height:m.value.offsetHeight})})}function _e(oe){if(z.value===void 0||f.value===null)return;const Ce=oe[z.value.container],ve=Math.min(f.value[z.value.scroll],Array.prototype.reduce.call(f.value.children,(Le,tt)=>Le+(tt[z.value.content]||0),0)),Fe=Ce>0&&ve>Ce;g.value=Fe,Fe===!0&&n(re),_.value=Ce<parseInt(e.breakpoint,10)}function Ee(oe,Ce){const ve=oe!=null&&oe!==""?y.find(Le=>Le.name.value===oe):null,Fe=Ce!=null&&Ce!==""?y.find(Le=>Le.name.value===Ce):null;if(ve&&Fe){const Le=ve.tabIndicatorRef.value,tt=Fe.tabIndicatorRef.value;O!==null&&(clearTimeout(O),O=null),Le.style.transition="none",Le.style.transform="none",tt.style.transition="none",tt.style.transform="none";const ot=Le.getBoundingClientRect(),It=tt.getBoundingClientRect();tt.style.transform=e.vertical===!0?`translate3d(0,${ot.top-It.top}px,0) scale3d(1,${It.height?ot.height/It.height:1},1)`:`translate3d(${ot.left-It.left}px,0,0) scale3d(${It.width?ot.width/It.width:1},1,1)`,s(()=>{O=setTimeout(()=>{O=null,tt.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",tt.style.transform="none"},70)})}Fe&&g.value===!0&&J(Fe.rootRef.value)}function J(oe){const{left:Ce,width:ve,top:Fe,height:Le}=f.value.getBoundingClientRect(),tt=oe.getBoundingClientRect();let ot=e.vertical===!0?tt.top-Fe:tt.left-Ce;if(ot<0){f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ot),re();return}ot+=e.vertical===!0?tt.height-Le:tt.width-ve,ot>0&&(f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ot),re())}function re(){const oe=f.value;if(oe===null)return;const Ce=oe.getBoundingClientRect(),ve=e.vertical===!0?oe.scrollTop:Math.abs(oe.scrollLeft);W.value===!0?(b.value=Math.ceil(ve+Ce.width)<oe.scrollWidth-1,x.value=ve>0):(b.value=ve>0,x.value=e.vertical===!0?Math.ceil(ve+Ce.height)<oe.scrollHeight:Math.ceil(ve+Ce.width)<oe.scrollWidth)}function ye(oe){F!==null&&clearInterval(F),F=setInterval(()=>{fe(oe)===!0&&Oe()},5)}function ge(){ye(j.value===!0?Number.MAX_SAFE_INTEGER:0)}function De(){ye(j.value===!0?0:Number.MAX_SAFE_INTEGER)}function Oe(){F!==null&&(clearInterval(F),F=null)}function he(oe,Ce){const ve=Array.prototype.filter.call(f.value.children,It=>It===Ce||It.matches&&It.matches(".q-tab.q-focusable")===!0),Fe=ve.length;if(Fe===0)return;if(oe===36)return J(ve[0]),ve[0].focus(),!0;if(oe===35)return J(ve[Fe-1]),ve[Fe-1].focus(),!0;const Le=oe===(e.vertical===!0?38:37),tt=oe===(e.vertical===!0?40:39),ot=Le===!0?-1:tt===!0?1:void 0;if(ot!==void 0){const It=W.value===!0?-1:1,Zt=ve.indexOf(Ce)+ot*It;return Zt>=0&&Zt<Fe&&(J(ve[Zt]),ve[Zt].focus({preventScroll:!0})),!0}}const Me=X(()=>j.value===!0?{get:oe=>Math.abs(oe.scrollLeft),set:(oe,Ce)=>{oe.scrollLeft=-Ce}}:e.vertical===!0?{get:oe=>oe.scrollTop,set:(oe,Ce)=>{oe.scrollTop=Ce}}:{get:oe=>oe.scrollLeft,set:(oe,Ce)=>{oe.scrollLeft=Ce}});function fe(oe){const Ce=f.value,{get:ve,set:Fe}=Me.value;let Le=!1,tt=ve(Ce);const ot=oe<tt?-1:1;return tt+=ot*5,tt<0?(Le=!0,tt=0):(ot===-1&&tt<=oe||ot===1&&tt>=oe)&&(Le=!0,tt=oe),Fe(Ce,tt),re(),Le}function G(oe,Ce){for(const ve in oe)if(oe[ve]!==Ce[ve])return!1;return!0}function V(){let oe=null,Ce={matchedLen:0,queryDiff:9999,hrefLen:0};const ve=y.filter(ot=>ot.routeData!==void 0&&ot.routeData.hasRouterLink.value===!0),{hash:Fe,query:Le}=r.$route,tt=Object.keys(Le).length;for(const ot of ve){const It=ot.routeData.exact.value===!0;if(ot.routeData[It===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Zt,query:vo,matched:Go,href:Ta}=ot.routeData.resolvedLink.value,Ze=Object.keys(vo).length;if(It===!0){if(Zt!==Fe||Ze!==tt||G(Le,vo)===!1)continue;oe=ot.name.value;break}if(Zt!==""&&Zt!==Fe||Ze!==0&&G(vo,Le)===!1)continue;const xt={matchedLen:Go.length,queryDiff:tt-Ze,hrefLen:Ta.length-Zt.length};if(xt.matchedLen>Ce.matchedLen){oe=ot.name.value,Ce=xt;continue}else if(xt.matchedLen!==Ce.matchedLen)continue;if(xt.queryDiff<Ce.queryDiff)oe=ot.name.value,Ce=xt;else if(xt.queryDiff!==Ce.queryDiff)continue;xt.hrefLen>Ce.hrefLen&&(oe=ot.name.value,Ce=xt)}oe===null&&y.some(ot=>ot.routeData===void 0&&ot.name.value===p.value)===!0||Q({name:oe,setCurrent:!0})}function L(oe){if(u(),S.value!==!0&&m.value!==null&&oe.target&&typeof oe.target.closest=="function"){const Ce=oe.target.closest(".q-tab");Ce&&m.value.contains(Ce)===!0&&(S.value=!0,g.value===!0&&J(Ce))}}function U(){l(()=>{S.value=!1},30)}function ie(){k.avoidRouteWatcher===!1?c(V):d()}function we(){if(M===void 0){const oe=rt(()=>r.$route.fullPath,ie);M=()=>{oe(),M=void 0}}}function H(oe){y.push(oe),I.value++,se(),oe.routeData===void 0||r.$route===void 0?c(()=>{if(g.value===!0){const Ce=p.value,ve=Ce!=null&&Ce!==""?y.find(Fe=>Fe.name.value===Ce):null;ve&&J(ve.rootRef.value)}}):(we(),oe.routeData.hasRouterLink.value===!0&&ie())}function q(oe){y.splice(y.indexOf(oe),1),I.value--,se(),M!==void 0&&oe.routeData!==void 0&&(y.every(Ce=>Ce.routeData===void 0)===!0&&M(),ie())}const k={currentModel:p,tabProps:E,hasFocus:S,hasActiveTab:D,registerTab:H,unregisterTab:q,verifyRouteModel:ie,updateModel:Q,onKbdNavigate:he,avoidRouteWatcher:!1};_s(N4,k);function Y(){O!==null&&clearTimeout(O),Oe(),M!==void 0&&M()}let ne;return wo(Y),fl(()=>{ne=M!==void 0,Y()}),Uu(()=>{ne===!0&&we(),se()}),()=>ee("div",{ref:m,class:N.value,role:"tablist",onFocusin:L,onFocusout:U},[ee(ni,{onResize:_e}),ee("div",{ref:f,class:R.value,onScroll:re},ho(t.default)),ee(Ve,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(b.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ge,onTouchstartPassive:ge,onMouseupPassive:Oe,onMouseleavePassive:Oe,onTouchendPassive:Oe}),ee(Ve,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(x.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:De,onTouchstartPassive:De,onMouseupPassive:Oe,onMouseleavePassive:Oe,onTouchendPassive:Oe})])}});function _be(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,r)=>{const a=parseFloat(o);a&&(t[r]=a)}),t}var bbe=a0({name:"touch-swipe",beforeMount(e,{value:t,arg:o,modifiers:r}){if(r.mouse!==!0&&po.has.touch!==!0)return;const a=r.mouseCapture===!0?"Capture":"",i={handler:t,sensitivity:_be(o),direction:Uv(r),noop:Zn,mouseStart(n){zv(n,i)&&lx(n)&&(sr(i,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(n,!0))},touchStart(n){if(zv(n,i)){const s=n.target;sr(i,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),i.start(n)}},start(n,s){po.is.firefox===!0&&Zd(e,!0);const l=es(n);i.event={x:l.left,y:l.top,time:Date.now(),mouse:s===!0,dir:!1}},move(n){if(i.event===void 0)return;if(i.event.dir!==!1){bo(n);return}const s=Date.now()-i.event.time;if(s===0)return;const l=es(n),u=l.left-i.event.x,c=Math.abs(u),d=l.top-i.event.y,m=Math.abs(d);if(i.event.mouse!==!0){if(c<i.sensitivity[1]&&m<i.sensitivity[1]){i.end(n);return}}else if(window.getSelection().toString()!==""){i.end(n);return}else if(c<i.sensitivity[2]&&m<i.sensitivity[2])return;const f=c/s,p=m/s;i.direction.vertical===!0&&c<m&&c<100&&p>i.sensitivity[0]&&(i.event.dir=d<0?"up":"down"),i.direction.horizontal===!0&&c>m&&m<100&&f>i.sensitivity[0]&&(i.event.dir=u<0?"left":"right"),i.direction.up===!0&&c<m&&d<0&&c<100&&p>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&c<m&&d>0&&c<100&&p>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&c>m&&u<0&&m<100&&f>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&c>m&&u>0&&m<100&&f>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(bo(n),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),uc(),i.styleCleanup=g=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const b=()=>{document.body.classList.remove("no-pointer-events--children")};g===!0?setTimeout(b,50):b()}),i.handler({evt:n,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:s,distance:{x:c,y:m}})):i.end(n)},end(n){i.event!==void 0&&(Qi(i,"temp"),po.is.firefox===!0&&Zd(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),n!==void 0&&i.event.dir!==!1&&bo(n),i.event=void 0)}};if(e.__qtouchswipe=i,r.mouse===!0){const n=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";sr(i,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}po.has.touch===!0&&sr(i,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchswipe;o!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&o.end(),o.handler=t.value),o.direction=Uv(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Qi(t,"main"),Qi(t,"temp"),po.is.firefox===!0&&Zd(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function ybe(){const e=new Map;return{getCache:function(t,o){return e[t]===void 0?e[t]=o:e[t]},getCacheWithFn:function(t,o){return e[t]===void 0?e[t]=o():e[t]}}}const Cbe={name:{required:!0},disable:Boolean},hD={setup(e,{slots:t}){return()=>ee("div",{class:"q-panel scroll",role:"tabpanel"},ho(t.default))}},xbe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},wbe=["update:modelValue","beforeTransition","transition"];function Ibe(){const{props:e,emit:t,proxy:o}=Ct(),{getCacheWithFn:r}=ybe();let a,i;const n=$e(null),s=$e(null);function l(R){const z=e.vertical===!0?"up":"left";F((o.$q.lang.rtl===!0?-1:1)*(R.direction===z?1:-1))}const u=X(()=>[[bbe,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),c=X(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),d=X(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=X(()=>`--q-transition-duration: ${e.transitionDuration}ms`),f=X(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),p=X(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),g=X(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);rt(()=>e.modelValue,(R,z)=>{const W=y(R)===!0?I(R):-1;i!==!0&&O(W===-1?0:W<I(z)?-1:1),n.value!==W&&(n.value=W,t("beforeTransition",R,z),Do(()=>{t("transition",R,z)}))});function b(){F(1)}function x(){F(-1)}function _(R){t("update:modelValue",R)}function y(R){return R!=null&&R!==""}function I(R){return a.findIndex(z=>z.props.name===R&&z.props.disable!==""&&z.props.disable!==!0)}function S(){return a.filter(R=>R.props.disable!==""&&R.props.disable!==!0)}function O(R){const z=R!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(R===-1?c.value:d.value):null;s.value!==z&&(s.value=z)}function F(R,z=n.value){let W=z+R;for(;W>-1&&W<a.length;){const j=a[W];if(j!==void 0&&j.props.disable!==""&&j.props.disable!==!0){O(R),i=!0,t("update:modelValue",j.props.name),setTimeout(()=>{i=!1});return}W+=R}e.infinite===!0&&a.length!==0&&z!==-1&&z!==a.length&&F(R,R===-1?a.length:-1)}function M(){const R=I(e.modelValue);return n.value!==R&&(n.value=R),!0}function E(){const R=y(e.modelValue)===!0&&M()&&a[n.value];return e.keepAlive===!0?[ee(SP,p.value,[ee(g.value===!0?r(f.value,()=>({...hD,name:f.value})):hD,{key:f.value,style:m.value},()=>R)])]:[ee("div",{class:"q-panel scroll",style:m.value,key:f.value,role:"tabpanel"},[R])]}function D(){if(a.length!==0)return e.animated===!0?[ee(wi,{name:s.value},E)]:E()}function P(R){return a=XY(ho(R.default,[])).filter(z=>z.props!==null&&z.props.slot===void 0&&y(z.props.name)===!0),a.length}function N(){return a}return Object.assign(o,{next:b,previous:x,goTo:_}),{panelIndex:n,panelDirectives:u,updatePanelsList:P,updatePanelIndex:M,getPanelContent:D,getEnabledPanels:S,getPanels:N,isValidPanelName:y,keepAliveProps:p,needsUniqueKeepAliveWrapper:g,goToPanelByOffset:F,goToPanel:_,nextPanel:b,previousPanel:x}}var Gd=At({name:"QTabPanel",props:Cbe,setup(e,{slots:t}){return()=>ee("div",{class:"q-tab-panel",role:"tabpanel"},ho(t.default))}}),YF=At({name:"QTabPanels",props:{...xbe,...Sa},emits:wbe,setup(e,{slots:t}){const o=Ct(),r=Aa(e,o.proxy.$q),{updatePanelsList:a,getPanelContent:i,panelDirectives:n}=Ibe(),s=X(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(t),Sp("div",{class:s.value},i(),"pan",e.swipeable,()=>n.value))}}),Ebe={data(){return{codigoQrCode:"",modalQrCode:!1}},methods:{abrirModalQrCode(){this.modalQrCode=!0},escanearQrCode(e){Tt.log("importarReceita","escanearQrCode",e),this.codigoQrCode=e,this.modalQrCode=!1,this.importarQrCode()},async importarQrCode(){try{Da(!this.codigoQrCode,"QR Code n\xE3o fornecido");const e=this.codigoQrCode.lastIndexOf("_"),t=this.codigoQrCode.length;Da(e<1||e>t-2,"QR Code inv\xE1lido");const o=this.codigoQrCode.substr(0,e),r=+this.codigoQrCode.substr(e+1);Da(!r,"QR Code inv\xE1lido"),Tt.log("importarReceita","importarQrCode",this.codigoQrCode,o,r);const a=await this.$utils.geeksApi({importarReceita:{funcao:"1EDA7D08-2981-48E4-8A15-3CF9EE38B829",codigoReceita:r,bancoDeDados:o}}),i=a.data.importarReceita;this.$q.notifyPositive(a.data.combinarProdutos.mensagem),Tt.log("importarReceita","importarQrCode retorno Gaphql",i);const{paciente:n,medico:s,receitaItens:l}=i;Tt.log("importarReceita","importarQrCode retorno Gaphql",n,s),n.dataAlteracao=n.dataCadastro=Qo(),kd("contato",n),s.dataAlteracao=s.dataCadastro=Qo(),kd("contato",s),i.idContato=n.id,kd("documento",i);let u={};u.idContato=s.id,u.idDocumento=i.id,u.descricao="Medico",kd("documentoContato",u);for(const c in l){const d=l[c];d.idDocumento=i.id,kd("documentoItem",d)}this.$router.push({name:"AtendimentoOticaReceita",params:{id:n.id}})}catch(e){this.$q.notifyError("Ocorreu um erro ao importar receita pelo QR Code.",e)}}}};const Sbe={OftalmoscopiaDireta:!1,AcuiVisual:!1,ReflPup:!1,AvaliacaoMotora:!1,Ppc:!1,CoverTeste:!1,ReservasFusionais:!1,Subjetivo:!1,Ambulatorial:!1,Afinamento:!1,Biomicroscopia:!1,RXFinal:!1,Diagnostico:!1},Abe={visivel:!1,sinaisSintomas:"",antecedentePessoais:"",atencedenteFamiliares:"",oftalmoscopiaDireta:{od:{bruckner:null,lente:null,escavacao:null,relacaoAV:null,macula:null,fixacao:null,cor:null,papila:null,observacao:""},oe:{bruckner:null,lente:null,escavacao:null,relacaoAV:null,macula:null,fixacao:null,cor:null,papila:null,observacao:""}},acuiVisual:{od:{VLSC:null,PH:null,VPSC:null,VLCC:null,VPCC:null},oe:{VLSC:null,PH:null,VPSC:null,VLCC:null,VPCC:null},optotipo:""},reflPup:{od:{fotomotor:null,consensual:null,acomodativo:null},oe:{fotomotor:null,consensual:null,acomodativo:null}},avaliacaoMotora:{od:{kappa:null,hirschberg:null,duccoes:null,versoes:{ava_mot_ver_od_0:!1,ava_mot_ver_od_1:!1,ava_mot_ver_od_2:!1,ava_mot_ver_od_3:!1,ava_mot_ver_od_4:!1,ava_mot_ver_od_5:!1},observacao:""},oe:{kappa:null,hirschberg:null,duccoes:null,versoes:{ava_mot_ver_oe_0:!1,ava_mot_ver_oe_1:!1,ava_mot_ver_oe_2:!1,ava_mot_ver_oe_3:!1,ava_mot_ver_oe_4:!1,ava_mot_ver_oe_5:!1},observacao:""}},ppc:{objetoReal:null,luz:null,filtro:null},coverTeste:{sc:{dist6m:null,dist40cm:null,dist20cm:null},cc:{dist6m:null,dist40cm:null,dist20cm:null}},reservasFusionais:{vl:{rfn:null,rfp:null},vp:{rfn:null,rfp:null}},subjetivo:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},ambulatorial:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},afinamento:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},biomicroscopia:{od:{sobrancelhas:null,cilios:null,palpepras:null,conjuntivas:null,corneas:null,iris:null,cristalinos:null,observacao:""},oe:{sobrancelhas:null,cilios:null,palpepras:null,conjuntivas:null,corneas:null,iris:null,cristalinos:null,observacao:""}},rxFinal:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},diagnostico:{od:{patologico:null,motor:null,refrativo:null},oe:{patologico:null,motor:null,refrativo:null},obs:{patologico:"",motor:"",refrativo:""}}},Tbe={components:{ContatoCriar:WF,Arquivo:N0},data(){return{abasOptometria:{},camposOptometria:{},verOptometria:!1,abaSelecionada:"dioptria",campos:{id:"",idEmpresa:"",paciente:{id:"",nome:"",idade:""},medico:{id:"",nome:""},data:null,validade:null,observacoes:"",prescricao:{dioptria:{od:{longe:{cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},medio:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},perto:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""}},oe:{longe:{cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},medio:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},perto:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""}}},prisma:{od:{base:"",valor:null},oe:{base:"",valor:null}}}},receitaOriginal:{},confirmaHabilitaPerto:!1,habilitaAE:!1,habilitaMedio:!1,habilitaPerto:!1,odLongeEsferico:null,odMedioAdicao:null,odMedioEsferico:null,odPertoAdicao:null,odPertoEsferico:null,oeLongeEsferico:null,oeMedioAdicao:null,oeMedioEsferico:null,oePertoAdicao:null,oePertoEsferico:null,opcoesPacientes:[],opcoesMedicos:[],visivel:!1,arquivosOriginal:[],arquivos:[]}},emits:["atualizar"],methods:{visibilidadeOptometriaAlterado(){this.camposOptometria.visivel=this.verOptometria},carregaAbasAbertas(){let e=localStorage.getItem("abasOptometria");if(e){const t=JSON.parse(e);this.abasOptometria.OftalmoscopiaDireta=t.OftalmoscopiaDireta,this.abasOptometria.AcuiVisual=t.AcuiVisual,this.abasOptometria.ReflPup=t.ReflPup,this.abasOptometria.AvaliacaoMotora=t.AvaliacaoMotora,this.abasOptometria.Ppc=t.Ppc,this.abasOptometria.CoverTeste=t.CoverTeste,this.abasOptometria.ReservasFusionais=t.ReservasFusionais,this.abasOptometria.Subjetivo=t.Subjetivo,this.abasOptometria.Ambulatorial=t.Ambulatorial,this.abasOptometria.Afinamento=t.Afinamento,this.abasOptometria.Biomicroscopia=t.Biomicroscopia,this.abasOptometria.RXFinal=t.RXFinal,this.abasOptometria.Diagnostico=t.Diagnostico}},setAba(){console.log("setAba"),localStorage.setItem("abasOptometria",JSON.stringify({OftalmoscopiaDireta:this.abasOptometria.OftalmoscopiaDireta,AcuiVisual:this.abasOptometria.AcuiVisual,ReflPup:this.abasOptometria.ReflPup,AvaliacaoMotora:this.abasOptometria.AvaliacaoMotora,Ppc:this.abasOptometria.Ppc,CoverTeste:this.abasOptometria.CoverTeste,ReservasFusionais:this.abasOptometria.ReservasFusionais,Subjetivo:this.abasOptometria.Subjetivo,Ambulatorial:this.abasOptometria.Ambulatorial,Afinamento:this.abasOptometria.Afinamento,Biomicroscopia:this.abasOptometria.Biomicroscopia,RXFinal:this.abasOptometria.RXFinal,Diagnostico:this.abasOptometria.Diagnostico}))},calcDates(e){const t=e.split("/");var o=new Date().getFullYear();return Number(o)-Number(t[2])},async criarOpcoesPacientes(){try{const e=await $db.contato.leFilhos($db.contato.selecionado.id);e.push($db.contato.selecionado);const t=e.map(o=>({label:o.nome,value:o.id,avisoRotulo:$filters.data(o.dataAbertura)+" "+this.calcDates($filters.data(o.dataAbertura))+"anos"}));return t.sort((o,r)=>o.label<r.label?1:-1),t}catch(e){this.$q.notifyError("N\xE3o foi poss\xEDvel carregar os dados de pacientes",e)}},filtrarPacientes(e,t){setTimeout(()=>{t(async()=>{const o=await this.criarOpcoesPacientes();if(e==="")this.opcoesPacientes=o;else{const r=$utils.removerAcentos(e.toLowerCase()).split(" ");this.opcoesPacientes=o.filter(a=>{const i=$utils.removerAcentos(a.label.toLowerCase());for(const n of r)if(!(i.indexOf(n)>-1))return!1;return!0})}})},500)},async criarOpcoesMedicos(e){try{const o=(await $db.contato.ler({filtros:{termoBusca:e,ativo:!0,medicos:!0}})).data.map(r=>{var a;return{label:r.nome,sublabel:((a=r.numeroDocumentoMunicipal)!=null?a:"").trim(),value:r.id}});return o.sort((r,a)=>r.label<a.label?1:-1),o}catch(t){this.$q.notifyError("N\xE3o foi poss\xEDvel carregar os dados de m\xE9dicos",t)}},async filtrarMedicos(e,t){const o=await this.criarOpcoesMedicos(e);t(()=>{if(e==="")this.opcoesMedicos=o;else{const r=$utils.removerAcentos(e.toLowerCase()).split(" ");this.opcoesMedicos=o.filter(a=>{const i=$utils.removerAcentos(a.label.toLowerCase()+" "+a.sublabel.toLowerCase());for(const n of r)if(!(i.indexOf(n)>-1))return!1;return!0})}})},async abrirModalDependente(){const e=await this.$refs.modalDependente.mostrar();(e||{}).id&&this.criarDependencia(e)},async abrirModalMedico(){const e=await this.$refs.modalMedico.mostrar();(e||{}).id&&this.criarMedico(e)},async aoCopiarODOE(e){$q.dialog({message:"Esta a\xE7\xE3o ir\xE1 sobrescrever os dados do olho esquerdo.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{e()})},selecionarPaciente(e){this.campos.paciente.nome=e.label,this.campos.paciente.avisoRotulo=e.avisoRotulo,this.campos.paciente.id=e.value},async atualizar(){console.log(this.campos),this.carregaAbasAbertas();const e=await $db.receita.le({id:this.id,idContato:this.idContato,descricaoContato:this.descricaoContato});this.campos=e,this.receitaOriginal=$utils.clonar(e),this.campos.idEmpresa||(this.campos.idEmpresa=this.idEmpresa);let t=!1;(this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp)&&(t=!0),(this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.dnp)&&(this.habilitaMedio=!0),!t&&(this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo)&&(this.confirmaHabilitaPerto=this.habilitaPerto=!0),this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico,this.arquivosOriginal=await $db.arquivo.ler({filtros:{idTabelaMaster:this.id}}),this.arquivos=$utils.clonarV2(this.arquivosOriginal),await this.carregarOptometria()},atualizarValidade(){if(this.campos.data){let e=new Date(this.campos.data);e.setFullYear(e.getFullYear()+1),this.campos.validade=Ba.formatDate(e)}},calcularAE(){let e=this.campos.prescricao.dioptria.od.longe.esferico,t=this.campos.prescricao.dioptria.oe.longe.esferico;if(this.habilitaMedio){let o=this.campos.prescricao.dioptria.od.medio.adicao,r=this.campos.prescricao.dioptria.od.medio.esferico;(o!==this.odMedioAdicao||r!==this.odMedioEsferico||e!==this.odLongeEsferico&&(!!o||!!r))&&(this.habilitaAE?o=r===null||e===null?null:r-e:r=e===null||o===null?null:e+o,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=e,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=o,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=r);let a=this.campos.prescricao.dioptria.oe.medio.adicao,i=this.campos.prescricao.dioptria.oe.medio.esferico;(a!==this.oeMedioAdicao||i!==this.oeMedioEsferico||t!==this.oeLongeEsferico&&(!!a||!!i))&&(this.habilitaAE?a=i===null||t===null?null:i-t:i=t===null||a===null?null:t+a,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=t,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=a,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=i)}if(!this.habilitaPerto){let o=this.campos.prescricao.dioptria.od.perto.adicao,r=this.campos.prescricao.dioptria.od.perto.esferico;(o!==this.odPertoAdicao||r!==this.odPertoEsferico||e!==this.odLongeEsferico&&(!!o||!!r))&&(this.habilitaAE?o=r===null||e===null?null:r-e:r=e===null||o===null?null:e+o,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=e,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao=o,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico=r);let a=this.campos.prescricao.dioptria.oe.perto.adicao,i=this.campos.prescricao.dioptria.oe.perto.esferico;(a!==this.oePertoAdicao||i!==this.oePertoEsferico||t!==this.oeLongeEsferico&&(!!a||!!i))&&(this.habilitaAE?a=i===null||t===null?null:i-t:i=t===null||a===null?null:t+a,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=t,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao=a,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico=i)}},copiarODDioptria(){this.aoCopiarODOE(()=>{this.campos.prescricao.dioptria.oe.longe.cilindrico=this.campos.prescricao.dioptria.od.longe.cilindrico,this.campos.prescricao.dioptria.oe.longe.dnp=this.campos.prescricao.dioptria.od.longe.dnp,this.campos.prescricao.dioptria.oe.longe.eixo=this.campos.prescricao.dioptria.od.longe.eixo,this.campos.prescricao.dioptria.oe.longe.esferico=this.campos.prescricao.dioptria.od.longe.esferico,this.campos.prescricao.dioptria.oe.medio.adicao=this.campos.prescricao.dioptria.od.medio.adicao,this.campos.prescricao.dioptria.oe.medio.dnp=this.campos.prescricao.dioptria.od.medio.dnp,this.campos.prescricao.dioptria.oe.medio.esferico=this.campos.prescricao.dioptria.od.medio.esferico,this.campos.prescricao.dioptria.oe.medio.cilindrico=this.campos.prescricao.dioptria.od.medio.cilindrico,this.campos.prescricao.dioptria.oe.medio.eixo=this.campos.prescricao.dioptria.od.medio.eixo,this.campos.prescricao.dioptria.oe.perto.adicao=this.campos.prescricao.dioptria.od.perto.adicao,this.campos.prescricao.dioptria.oe.perto.cilindrico=this.campos.prescricao.dioptria.od.perto.cilindrico,this.campos.prescricao.dioptria.oe.perto.dnp=this.campos.prescricao.dioptria.od.perto.dnp,this.campos.prescricao.dioptria.oe.perto.eixo=this.campos.prescricao.dioptria.od.perto.eixo,this.campos.prescricao.dioptria.oe.perto.esferico=this.campos.prescricao.dioptria.od.perto.esferico})},copiarODPrisma(){this.aoCopiarODOE(()=>{this.campos.prescricao.prisma.oe=$utils.clonar(this.campos.prescricao.prisma.od)})},async criarDependencia(e){try{await $db.contato.criarDependenciaContatos({contatoPai:$db.contato.selecionado,contatoFilho:e}),await $db.contato.carregarMemoria($db.contato.selecionado.id),await $db.contato.carregarMemoria(e.id),this.campos.paciente.id=e.id,this.campos.paciente.nome=e.nome}catch(t){this.$q.notifyError("Ocorreu um erro ao criar a depend\xEAncia.",t)}},async criarMedico(e){try{await $db.contato.criarContatoGrupo({idContato:e.id,descricaoGrupo:"M\xE9dico"}),await $db.contato.carregarMemoria(e.id),this.campos.medico.id=e.id,this.campos.medico.nome=e.nome}catch(t){this.$q.notifyError("Ocorreu um erro ao adicionar o contato ao grupo M\xE9dico.",t)}},selecionarMedico(e){this.campos.medico.id=e.value,this.campos.medico.nome=e.label},async salvarReceita(){let e="Ocorreu um erro ao salvar a receita.";try{let t=new Date().setHours(0,0,0,0),o=new Date(this.campos.data).setHours(0,0,0,0);$utils.verificarErro(!this.campos.data||!this.campos.validade,"Preencha o per\xEDodo."),$utils.verificarErro(o>t,"Data da receita n\xE3o pode ser maior que hoje."),$utils.verificarErro(!this.campos.medico.id||!this.campos.medico.nome,"Selecione o m\xE9dico."),$utils.verificarErro(!this.campos.paciente.id||!this.campos.paciente.nome,"Selecione o paciente.");let r="Receita salva com sucesso.";this.duplicarReceita&&(this.campos.id=$utils.uuid(),this.campos.medico.idDocumentoContato=$utils.uuid(),this.campos.prescricao.dioptria.od.longe.id=$utils.uuid(),this.campos.prescricao.dioptria.od.medio.id=$utils.uuid(),this.campos.prescricao.dioptria.od.perto.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.longe.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.medio.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.perto.id=$utils.uuid(),delete this.campos.dadosOriginais,r="Receita duplicada com sucesso.",e="Ocorreu um erro ao duplicar a receita."),this.$q.loading.show({delay:200,message:"Salvando a receita"}),await $db.receita.grava(this.campos),await this.gravarOptometria(),await $db.arquivo.remove(this.arquivosOriginal.filter(a=>!this.arquivos.find(i=>i.id===a.id)));for(const a of this.arquivos)a.idTabelaMaster=this.campos.id,await $db.arquivo.gravar({original:this.arquivosOriginal.find(i=>i.id===a.id),atual:a});this.visivel=!1,this.$q.notifyPositive(r),this.$emit("atualizar")}catch(t){this.$q.notifyError(e,t)}finally{this.$q.loading.hide()}},async zerarCamposLongeMedio(){const e=async()=>{await this.zerarCamposMedio(!1),this.campos.prescricao.dioptria.od.longe.esferico=null,this.campos.prescricao.dioptria.od.longe.cilindrico=null,this.campos.prescricao.dioptria.od.longe.eixo=null,this.campos.prescricao.dioptria.od.longe.dnp=null,this.campos.prescricao.dioptria.od.perto.adicao=null,this.campos.prescricao.dioptria.od.perto.esferico=null,this.campos.prescricao.dioptria.od.perto.dnp=null,this.campos.prescricao.dioptria.od.perto.cilindrico=null,this.campos.prescricao.dioptria.od.perto.eixo=null,this.campos.prescricao.dioptria.oe.longe.esferico=null,this.campos.prescricao.dioptria.oe.longe.cilindrico=null,this.campos.prescricao.dioptria.oe.longe.eixo=null,this.campos.prescricao.dioptria.oe.longe.dnp=null,this.campos.prescricao.dioptria.oe.perto.adicao=null,this.campos.prescricao.dioptria.oe.perto.esferico=null,this.campos.prescricao.dioptria.oe.perto.dnp=null,this.campos.prescricao.dioptria.oe.perto.cilindrico=null,this.campos.prescricao.dioptria.oe.perto.eixo=null};let t=!1;this.habilitaPerto?t=this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp||this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp:t=this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo,t?await new Promise((o,r)=>{this.$q.dialog({message:"Ao continuar os dados ser\xE3o perdidos.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{e().then(()=>{this.habilitaMedio=!1,this.habilitaAE=!1})}).onCancel(()=>{this.habilitaPerto=!this.habilitaPerto}).onDismiss(()=>{o()})}):(this.habilitaMedio=!1,this.habilitaAE=!1),this.confirmaHabilitaPerto=this.habilitaPerto},async zerarCamposMedio(e){const t=()=>{this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=null,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=null,this.campos.prescricao.dioptria.od.medio.dnp=null,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=null,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=null,this.campos.prescricao.dioptria.oe.medio.dnp=null,this.campos.prescricao.dioptria.od.medio.cilindrico=null,this.campos.prescricao.dioptria.od.medio.eixo=null,this.campos.prescricao.dioptria.oe.medio.cilindrico=null,this.campos.prescricao.dioptria.oe.medio.eixo=null};e?(this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp)&&await new Promise((r,a)=>{this.$q.dialog({message:"Ao continuar os dados ser\xE3o perdidos.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{t()}).onCancel(()=>{this.habilitaMedio=!this.habilitaMedio}).onDismiss(()=>{r()})}):t()},calcularDnpPerto(e){if(e==="direito"){const t=(this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico)&&!this.campos.prescricao.dioptria.od.perto.dnp,o=this.campos.prescricao.dioptria.od.longe.dnp;$utils.isNumber(o)&&!!o&&t&&(this.campos.prescricao.dioptria.od.perto.dnp=o-1.5)}if(e==="esquerdo"){const t=(this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico)&&!this.campos.prescricao.dioptria.oe.perto.dnp,o=this.campos.prescricao.dioptria.oe.longe.dnp;$utils.isNumber(o)&&!!o&&t&&(this.campos.prescricao.dioptria.oe.perto.dnp=o-1.5)}},async mostrar(e){const{duplicarReceita:t=!1,id:o="",idEmpresa:r="",idContato:a="",descricaoContato:i=""}=e;this.id=o,this.idEmpresa=r,this.idContato=a,this.descricaoContato=i,this.duplicarReceita=t,this.abaSelecionada="dioptria",this.habilitaAE=!1,this.habilitaMedio=!1,this.habilitaPerto=this.confirmaHabilitaPerto=!1,this.abasOptometria=$utils.clonarV2(Sbe),this.camposOptometria=$utils.clonarV2(Abe),this.verOptometria=!1,await this.atualizar(),this.visivel=!0},async carregarOptometria(){let e;this.optometriaOriginal=await $db.receita.obterOptometria({idDocumento:this.id}),e=this.optometriaOriginal.json,e&&(this.camposOptometria=JSON.parse(e),this.verOptometria=this.camposOptometria.visivel)},async gravarOptometria(){const e=this.optometriaOriginal,t={...this.optometriaOriginal,json:JSON.stringify(this.camposOptometria)};await $db.receita.gravarOptometria({original:e,atual:t,idDocumento:this.id})}},mixins:[Ebe]},Ue=e=>(An("data-v-68a012c6"),e=e(),Tn(),e),Obe={class:"layout-padding q-pa-none q-pb-md q-mt-md"},Dbe={class:"u-container"},Pbe={class:"col-12 col-md-3"},Mbe={class:"col-12 col-md-3"},Nbe=Ue(()=>A("strong",null,"CRM: ",-1)),Fbe={class:"col-12 col-md-3"},Rbe={class:"col-12 col-md-3"},kbe={class:"q-pa-md"},Vbe={class:"col-12 col-md-4"},qbe={class:"col-12 col-md-4"},Bbe={class:"col-12 col-md-4"},Lbe={class:"q-pa-md"},$be={key:0,class:"col-xs-12 col-md-6"},Ube={style:{"overflow-x":"auto"}},zbe=Ue(()=>A("tr",null,[A("th"),A("th",{class:"esferico"},"Esf\xE9rico"),A("th",{class:"cilindrico"},"Cil\xEDndrico"),A("th",{class:"eixo"},"Eixo"),A("th",{class:"dnp"},"DNP")],-1)),Hbe=Ue(()=>A("td",null,"OD",-1)),jbe=Ue(()=>A("td",null,"OE",-1)),Gbe={key:0},Wbe={key:1},Xbe={key:2},Ybe={key:3},Kbe={key:1,class:"col-xs-12 col-md-3"},Qbe={style:{"overflow-x":"auto"}},Jbe=Ue(()=>A("th",null,null,-1)),Zbe={key:0,class:"esferico"},e2e={key:1,class:"esferico"},t2e={key:2,class:"dnp"},o2e=Ue(()=>A("td",null,"OD",-1)),a2e={key:0},r2e={key:1},i2e=Ue(()=>A("td",null,"OE",-1)),n2e={key:0},s2e={key:1},l2e={style:{"overflow-x":"auto"}},c2e=Ue(()=>A("th",null,null,-1)),u2e={key:0,class:"esferico"},d2e={key:1,class:"esferico"},f2e={key:2,class:"esferico"},m2e={key:3,class:"cilindrico"},p2e={key:4,class:"eixo"},h2e=Ue(()=>A("th",{class:"dnp"},"DNP",-1)),v2e=Ue(()=>A("td",null,"OD",-1)),g2e={key:0},_2e={key:1},b2e=Ue(()=>A("td",null,"OE",-1)),y2e={key:0},C2e={key:1},x2e={class:"col-12 col-md-auto"},w2e={class:"col-12 col-md"},I2e={class:"q-pa-md"},E2e=Ue(()=>A("div",{class:"col-auto"}," OD ",-1)),S2e={class:"col"},A2e={class:"col"},T2e={class:"col-12 col-md-auto q-pt-none text-center"},O2e={class:"col-12 col-md"},D2e={class:"q-pa-md"},P2e=Ue(()=>A("div",{class:"col-auto"}," OE ",-1)),M2e={class:"col"},N2e={class:"col"},F2e={class:"q-pa-md"},R2e=Ue(()=>A("div",{class:"col-2 col-sm-1"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1)),k2e=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1)),V2e=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)),q2e=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Bruckner ",-1)),B2e={class:"col"},L2e={style:{"font-size":".9rem","font-weight":"bold"}},$2e={class:"col"},U2e={style:{"font-size":".9rem","font-weight":"bold"}},z2e=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Lente ",-1)),H2e={class:"col"},j2e={style:{"font-size":".9rem","font-weight":"bold"}},G2e={class:"col"},W2e={style:{"font-size":".9rem","font-weight":"bold"}},X2e=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Escava\xE7\xE3o ",-1)),Y2e={class:"col"},K2e={style:{"font-size":".9rem","font-weight":"bold"}},Q2e={class:"col"},J2e={style:{"font-size":".9rem","font-weight":"bold"}},Z2e=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Rela\xE7\xE3o AV ",-1)),eye={class:"col"},tye={style:{"font-size":".9rem","font-weight":"bold"}},oye={class:"col"},aye={style:{"font-size":".9rem","font-weight":"bold"}},rye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," M\xE1cula ",-1)),iye={class:"col"},nye={style:{"font-size":".9rem","font-weight":"bold"}},sye={class:"col"},lye={style:{"font-size":".9rem","font-weight":"bold"}},cye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Fixa\xE7\xE3o ",-1)),uye={class:"col"},dye={style:{"font-size":".9rem","font-weight":"bold"}},fye={class:"col"},mye={style:{"font-size":".9rem","font-weight":"bold"}},pye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Cor ",-1)),hye={class:"col"},vye={style:{"font-size":".9rem","font-weight":"bold"}},gye={class:"col"},_ye={style:{"font-size":".9rem","font-weight":"bold"}},bye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Papila ",-1)),yye={class:"col"},Cye={style:{"font-size":".9rem","font-weight":"bold"}},xye={class:"col"},wye={style:{"font-size":".9rem","font-weight":"bold"}},Iye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),Eye={class:"col"},Sye={style:{"font-size":".9rem","font-weight":"bold"}},Aye={class:"col"},Tye={style:{"font-size":".9rem","font-weight":"bold"}},Oye={class:"q-pa-md"},Dye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),Pye=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL-SC")],-1)),Mye=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"PH")],-1)),Nye=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP-SC")],-1)),Fye=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL-CC")],-1)),Rye=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP-CC")],-1)),kye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OD ",-1)),Vye={class:"col"},qye={class:"col"},Bye={class:"col"},Lye={class:"col"},$ye={class:"col"},Uye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OE ",-1)),zye={class:"col"},Hye={class:"col"},jye={class:"col"},Gye={class:"col"},Wye={class:"col"},Xye={class:"col-12 q-mt-sm"},Yye={class:"q-pa-md"},Kye=Ue(()=>A("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),Qye=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Fotomotor")],-1)),Jye=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Consensual")],-1)),Zye=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Acomodativo")],-1)),eCe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OD ",-1)),tCe={class:"col"},oCe={class:"col"},aCe={class:"col"},rCe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OE ",-1)),iCe={class:"col"},nCe={class:"col"},sCe={class:"col"},lCe={class:"q-pa-md"},cCe=Ue(()=>A("div",{class:"col-2 col-sm-1"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1)),uCe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1)),dCe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)),fCe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Kappa ",-1)),mCe={class:"col"},pCe={style:{"font-size":".9rem","font-weight":"bold"}},hCe={class:"col"},vCe={style:{"font-size":".9rem","font-weight":"bold"}},gCe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Hirschberg ",-1)),_Ce={class:"col"},bCe={style:{"font-size":".9rem","font-weight":"bold"}},yCe={class:"col"},CCe={style:{"font-size":".9rem","font-weight":"bold"}},xCe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Duc\xE7\xF5es ",-1)),wCe={class:"col"},ICe={style:{"font-size":".9rem","font-weight":"bold"}},ECe={class:"col"},SCe={style:{"font-size":".9rem","font-weight":"bold"}},ACe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Vers\xF5es ",-1)),TCe={class:"col"},OCe={class:"versoes"},DCe=Ue(()=>A("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},[A("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),A("line",{x1:"34%",y1:"0",x2:"34%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),A("line",{x1:"66%",y1:"0",x2:"66%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}})],-1)),PCe={class:"checkbox checkbox-success ex-0"},MCe=Ue(()=>A("label",{for:"c_ava_mot_ver_od_0"},null,-1)),NCe={class:"checkbox checkbox-success ex-1"},FCe=Ue(()=>A("label",{for:"c_ava_mot_ver_od_1"},null,-1)),RCe={class:"checkbox checkbox-success ex-2"},kCe=Ue(()=>A("label",{for:"c_ava_mot_ver_od_2"},null,-1)),VCe={class:"checkbox checkbox-success ex-3"},qCe=Ue(()=>A("label",{for:"c_ava_mot_ver_od_3"},null,-1)),BCe={class:"checkbox checkbox-success ex-4"},LCe=Ue(()=>A("label",{for:"c_ava_mot_ver_od_4"},null,-1)),$Ce={class:"checkbox checkbox-success ex-5"},UCe=Ue(()=>A("label",{for:"c_ava_mot_ver_od_5"},null,-1)),zCe={class:"col"},HCe={class:"versoes"},jCe=Ue(()=>A("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},[A("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),A("line",{x1:"34%",y1:"0",x2:"34%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),A("line",{x1:"66%",y1:"0",x2:"66%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}})],-1)),GCe={class:"checkbox checkbox-success ex-0"},WCe=Ue(()=>A("label",{for:"c_ava_mot_ver_oe_0"},null,-1)),XCe={class:"checkbox checkbox-success ex-1"},YCe=Ue(()=>A("label",{for:"c_ava_mot_ver_oe_1"},null,-1)),KCe={class:"checkbox checkbox-success ex-2"},QCe=Ue(()=>A("label",{for:"c_ava_mot_ver_oe_2"},null,-1)),JCe={class:"checkbox checkbox-success ex-3"},ZCe=Ue(()=>A("label",{for:"c_ava_mot_ver_oe_3"},null,-1)),exe={class:"checkbox checkbox-success ex-4"},txe=Ue(()=>A("label",{for:"c_ava_mot_ver_oe_4"},null,-1)),oxe={class:"checkbox checkbox-success ex-5"},axe=Ue(()=>A("label",{for:"c_ava_mot_ver_oe_5"},null,-1)),rxe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),ixe={class:"col"},nxe={style:{"font-size":".9rem","font-weight":"bold"}},sxe={class:"col"},lxe={style:{"font-size":".9rem","font-weight":"bold"}},cxe={class:"q-pa-md"},uxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Objeto Real")],-1)),dxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Luz")],-1)),fxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Filtro")],-1)),mxe={class:"col"},pxe={class:"col"},hxe={class:"col"},vxe={class:"q-pa-md"},gxe=Ue(()=>A("div",{class:"col-2 col-sm-1"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Distancia")],-1)),_xe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"S.C.\u2206")],-1)),bxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"C.C.\u2206")],-1)),yxe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," 6m ",-1)),Cxe={class:"col"},xxe={style:{"font-size":".9rem","font-weight":"bold"}},wxe={class:"col"},Ixe={style:{"font-size":".9rem","font-weight":"bold"}},Exe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," 40cm ",-1)),Sxe={class:"col"},Axe={style:{"font-size":".9rem","font-weight":"bold"}},Txe={class:"col"},Oxe={style:{"font-size":".9rem","font-weight":"bold"}},Dxe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," 20cm ",-1)),Pxe={class:"col"},Mxe={style:{"font-size":".9rem","font-weight":"bold"}},Nxe={class:"col"},Fxe={style:{"font-size":".9rem","font-weight":"bold"}},Rxe={class:"q-pa-md"},kxe=Ue(()=>A("div",{class:"col-2 col-sm-1"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1)),Vxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL")],-1)),qxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP")],-1)),Bxe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," RFN ",-1)),Lxe={class:"col"},$xe={style:{"font-size":".9rem","font-weight":"bold"}},Uxe={class:"col"},zxe={style:{"font-size":".9rem","font-weight":"bold"}},Hxe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," RFP ",-1)),jxe={class:"col"},Gxe={style:{"font-size":".9rem","font-weight":"bold"}},Wxe={class:"col"},Xxe={style:{"font-size":".9rem","font-weight":"bold"}},Yxe={class:"q-pa-md"},Kxe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),Qxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1)),Jxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1)),Zxe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1)),ewe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1)),twe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)),owe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OD ",-1)),awe={class:"col"},rwe={class:"col"},iwe={class:"col"},nwe={class:"col"},swe={class:"col"},lwe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OE ",-1)),cwe={class:"col"},uwe={class:"col"},dwe={class:"col"},fwe={class:"col"},mwe={class:"col"},pwe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," ADD ",-1)),hwe={class:"col"},vwe={class:"col"},gwe={class:"col"},_we={class:"col"},bwe={class:"col"},ywe={class:"q-pa-md"},Cwe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),xwe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1)),wwe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1)),Iwe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1)),Ewe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1)),Swe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)),Awe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OD ",-1)),Twe={class:"col"},Owe={class:"col"},Dwe={class:"col"},Pwe={class:"col"},Mwe={class:"col"},Nwe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OE ",-1)),Fwe={class:"col"},Rwe={class:"col"},kwe={class:"col"},Vwe={class:"col"},qwe={class:"col"},Bwe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," ADD ",-1)),Lwe={class:"col"},$we={class:"col"},Uwe={class:"col"},zwe={class:"col"},Hwe={class:"col"},jwe={class:"q-pa-md"},Gwe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),Wwe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1)),Xwe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1)),Ywe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1)),Kwe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1)),Qwe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)),Jwe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OD ",-1)),Zwe={class:"col"},eIe={class:"col"},tIe={class:"col"},oIe={class:"col"},aIe={class:"col"},rIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OE ",-1)),iIe={class:"col"},nIe={class:"col"},sIe={class:"col"},lIe={class:"col"},cIe={class:"col"},uIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," ADD ",-1)),dIe={class:"col"},fIe={class:"col"},mIe={class:"col"},pIe={class:"col"},hIe={class:"col"},vIe={class:"q-pa-md"},gIe=Ue(()=>A("div",{class:"col-2 col-sm-1"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1)),_Ie=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1)),bIe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)),yIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Sobrancelhas ",-1)),CIe={class:"col"},xIe={style:{"font-size":".9rem","font-weight":"bold"}},wIe={class:"col"},IIe={style:{"font-size":".9rem","font-weight":"bold"}},EIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," C\xEDlios ",-1)),SIe={class:"col"},AIe={style:{"font-size":".9rem","font-weight":"bold"}},TIe={class:"col"},OIe={style:{"font-size":".9rem","font-weight":"bold"}},DIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," P\xE1lpebras ",-1)),PIe={class:"col"},MIe={style:{"font-size":".9rem","font-weight":"bold"}},NIe={class:"col"},FIe={style:{"font-size":".9rem","font-weight":"bold"}},RIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Conjuntivas ",-1)),kIe={class:"col"},VIe={style:{"font-size":".9rem","font-weight":"bold"}},qIe={class:"col"},BIe={style:{"font-size":".9rem","font-weight":"bold"}},LIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," C\xF3rneas ",-1)),$Ie={class:"col"},UIe={style:{"font-size":".9rem","font-weight":"bold"}},zIe={class:"col"},HIe={style:{"font-size":".9rem","font-weight":"bold"}},jIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," \xCDris ",-1)),GIe={class:"col"},WIe={style:{"font-size":".9rem","font-weight":"bold"}},XIe={class:"col"},YIe={style:{"font-size":".9rem","font-weight":"bold"}},KIe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Cristalinos ",-1)),QIe={class:"col"},JIe={style:{"font-size":".9rem","font-weight":"bold"}},ZIe={class:"col"},eEe={style:{"font-size":".9rem","font-weight":"bold"}},tEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),oEe={class:"col"},aEe={style:{"font-size":".9rem","font-weight":"bold"}},rEe={class:"col"},iEe={style:{"font-size":".9rem","font-weight":"bold"}},nEe={class:"q-pa-md"},sEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),lEe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1)),cEe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1)),uEe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1)),dEe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1)),fEe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)),mEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OD ",-1)),pEe={class:"col"},hEe={class:"col"},vEe={class:"col"},gEe={class:"col"},_Ee={class:"col"},bEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OE ",-1)),yEe={class:"col"},CEe={class:"col"},xEe={class:"col"},wEe={class:"col"},IEe={class:"col"},EEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," ADD ",-1)),SEe={class:"col"},AEe={class:"col"},TEe={class:"col"},OEe={class:"col"},DEe={class:"col"},PEe={class:"q-pa-md"},MEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),NEe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Patol\xF3gico")],-1)),FEe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Motor")],-1)),REe=Ue(()=>A("div",{class:"col"},[A("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Refrativo")],-1)),kEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OD ",-1)),VEe={class:"col"},qEe={class:"col"},BEe={class:"col"},LEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OE ",-1)),$Ee={class:"col"},UEe={class:"col"},zEe={class:"col"},HEe=Ue(()=>A("div",{class:"col-2 col-sm-1"}," OBS ",-1)),jEe={class:"col"},GEe={class:"col"},WEe={class:"col"},XEe={class:"col-12 col-md-6"},YEe=Ue(()=>A("p",{class:"q-pa-md"},"Recebi instru\xE7\xF5es sobre cuidado visual e me foi explicado os resultados do exame. Sou ciente de que o exame \xE9 praticado por um profissional da \xE1rea da saude n\xE3o m\xE9dico: Optometrista, o qual \xE9 o fisiologista visual, encarregado de previnir, diagnosticar e tratar altera\xE7\xF5es do sistema visual e motor.",-1)),KEe={class:"col-12 col-md-6"},QEe=Ue(()=>A("p",{class:"q-pa-md"},"Declaro ter sido orientado(a) a procurar um profissional m\xE9dico por suspeita de altera\xE7\xE3o patologica, detectada no exame do optometrista / ortoptista / neuro optometrista e que a resposabilidade pela conduta cl\xEDnica ficar\xE1 a cargo do profissional m\xE9dico escolhido(a) por mim: ",-1));function JEe(e,t,o,r,a,i){const n=ke("campo"),s=ke("row"),l=ke("Arquivo"),u=ke("contato-criar");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[216]||(t[216]=c=>a.visivel=c),maximized:""},{default:w(()=>[v(Jo,{container:"",class:"bg-light"},{default:w(()=>[A("form",{onSubmit:t[215]||(t[215]=st((...c)=>i.salvarReceita&&i.salvarReceita(...c),["prevent"]))},[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[lt]]),v(nt,null,{default:w(()=>[te("Receita")]),_:1}),v(s,{class:"items-center"},{default:w(()=>[v(n,{modelValue:a.verOptometria,"onUpdate:modelValue":[t[0]||(t[0]=c=>a.verOptometria=c),i.visibilidadeOptometriaAlterado],rotulo:"Optometria",tipo:"logico",dense:"",class:"q-mr-md",color:"white"},null,8,["modelValue","onUpdate:modelValue"]),v(pe,{color:"white","text-color":"primary",class:"no-shadow",label:"Salvar",type:"submit",unelevated:""})]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",Obe,[A("div",Dbe,[v(Bt,{class:"bg-white no-shadow q-pa-md q-mb-md"},{default:w(()=>[v(s,{class:"q-col-gutter-md"},{default:w(()=>[A("div",Pbe,[v(Kn,{"model-value":a.campos.paciente.nome,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Paciente",options:a.opcoesPacientes,onFilter:i.filtrarPacientes,"onUpdate:modelValue":i.selecionarPaciente,hint:a.campos.paciente.avisoRotulo},{prepend:w(()=>[v(pe,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:st(i.abrirModalDependente,["stop"])},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Incluir paciente")]),_:1})]),_:1},8,["onClick"])]),"no-option":w(()=>[v(We,null,{default:w(()=>[v(Ie,{class:"text-grey"},{default:w(()=>[te(" Resultado n\xE3o encontrado ")]),_:1})]),_:1})]),_:1},8,["model-value","options","onFilter","onUpdate:modelValue","hint"])]),A("div",Mbe,[v(Kn,{"model-value":a.campos.medico.nome,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"M\xE9dico ou Optometrista",options:a.opcoesMedicos,onFilter:i.filtrarMedicos,"onUpdate:modelValue":i.selecionarMedico},{prepend:w(()=>[v(pe,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:st(i.abrirModalMedico,["stop"])},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Incluir m\xE9dico")]),_:1})]),_:1},8,["onClick"])]),"no-option":w(()=>[v(We,null,{default:w(()=>[v(Ie,{class:"text-grey"},{default:w(()=>[te(" Resultado n\xE3o encontrado ")]),_:1})]),_:1})]),option:w(c=>[v(We,XD(ax(c.itemProps)),{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(de(c.opt.label),1)]),_:2},1024),c.opt.sublabel?($(),ue(Be,{key:0,caption:""},{default:w(()=>[Nbe,te(" "+de(c.opt.sublabel),1)]),_:2},1024)):ce("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["model-value","options","onFilter","onUpdate:modelValue"])]),A("div",Fbe,[v(n,{modelValue:a.campos.data,"onUpdate:modelValue":[t[1]||(t[1]=c=>a.campos.data=c),t[2]||(t[2]=c=>i.atualizarValidade())],maxlength:"10",rotulo:"Data",tipo:"data"},null,8,["modelValue"])]),A("div",Rbe,[v(n,{modelValue:a.campos.validade,"onUpdate:modelValue":t[3]||(t[3]=c=>a.campos.validade=c),maxlength:"10",rotulo:"Validade",tipo:"data"},null,8,["modelValue"])]),v(n,{modelValue:a.campos.observacoes,"onUpdate:modelValue":t[4]||(t[4]=c=>a.campos.observacoes=c),class:"col-12",maxlength:"4096",rotulo:"Observa\xE7\xF5es",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),_:1})]),_:1}),a.verOptometria?($(),ue(Bt,{key:0,class:"bg-white q-mb-md no-shadow"},{default:w(()=>[v(at,{class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"history",size:"24px"}),v(nt,null,{default:w(()=>[te("Motivos da consulta")]),_:1})]),_:1}),A("div",kbe,[v(s,{class:"q-col-gutter-md"},{default:w(()=>[A("div",Vbe,[v(n,{modelValue:a.camposOptometria.sinaisSintomas,"onUpdate:modelValue":t[5]||(t[5]=c=>a.camposOptometria.sinaisSintomas=c),class:"col-12",maxlength:"4096",rotulo:"Sinais e Sintomas",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),A("div",qbe,[v(n,{modelValue:a.camposOptometria.antecedentesPessoais,"onUpdate:modelValue":t[6]||(t[6]=c=>a.camposOptometria.antecedentesPessoais=c),class:"col-12",maxlength:"4096",rotulo:"Antecedentes Pessoais",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),A("div",Bbe,[v(n,{modelValue:a.camposOptometria.antecedentesFamiliares,"onUpdate:modelValue":t[7]||(t[7]=c=>a.camposOptometria.antecedentesFamiliares=c),class:"col-12",maxlength:"4096",rotulo:"Antecedentes Familiares",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])])]),_:1})])]),_:1})):ce("",!0),v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[v(at,{class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"image",size:"24px"}),v(nt,null,{default:w(()=>[te("Arquivos")]),_:1})]),_:1}),A("div",Lbe,[v(l,{ref:"arquivo",arquivo:a.arquivos,idTabelaMaster:a.campos.id},null,8,["arquivo","idTabelaMaster"])])]),_:1}),v(XF,{modelValue:a.abaSelecionada,"onUpdate:modelValue":t[8]||(t[8]=c=>a.abaSelecionada=c),align:"justify",class:"bg-transparent q-mt-lg text-primary",style:{"border-bottom":"1px solid rgba(0, 0, 0, 0.12)"},color:"transparent"},{default:w(()=>[v(jd,{label:"Dioptria",name:"dioptria"}),v(jd,{label:"Prisma",name:"prisma"})]),_:1},8,["modelValue"]),v(YF,{modelValue:a.abaSelecionada,"onUpdate:modelValue":t[48]||(t[48]=c=>a.abaSelecionada=c),animated:""},{default:w(()=>[v(Gd,{name:"dioptria",class:"bg-light q-px-none"},{default:w(()=>[a.habilitaPerto?ce("",!0):($(),ue(at,{key:0},{default:w(()=>[v(nt),A("div",null,[a.confirmaHabilitaPerto?ce("",!0):($(),ue(n,{key:0,modelValue:a.habilitaAE,"onUpdate:modelValue":t[9]||(t[9]=c=>a.habilitaAE=c),rotulo:"Adi\xE7\xE3o / Esf\xE9rico",tipo:"logico",dense:""},null,8,["modelValue"]))])]),_:1})),v(s,{class:"q-col-gutter-md q-mb-md"},{default:w(()=>[a.habilitaPerto?ce("",!0):($(),be("div",$be,[v(Bt,{class:"no-shadow rounded-borders"},{default:w(()=>[v(at,null,{default:w(()=>[v(nt,{class:"text-tertiary"},{default:w(()=>[te("Longe")]),_:1})]),_:1}),A("div",Ube,[A("table",null,[zbe,A("tr",null,[Hbe,A("td",null,[v(n,{modelValue:a.campos.prescricao.dioptria.od.longe.esferico,"onUpdate:modelValue":[t[10]||(t[10]=c=>a.campos.prescricao.dioptria.od.longe.esferico=c),i.calcularAE],dense:"",min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])]),A("td",null,[v(n,{modelValue:a.campos.prescricao.dioptria.od.longe.cilindrico,"onUpdate:modelValue":t[11]||(t[11]=c=>a.campos.prescricao.dioptria.od.longe.cilindrico=c),min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",dense:"",sinalPositivo:"",permiteNull:""},null,8,["modelValue"])]),A("td",null,[v(n,{modelValue:a.campos.prescricao.dioptria.od.longe.eixo,"onUpdate:modelValue":t[12]||(t[12]=c=>a.campos.prescricao.dioptria.od.longe.eixo=c),dense:"",readonly:a.campos.prescricao.dioptria.od.longe.cilindrico==0,disable:a.campos.prescricao.dioptria.od.longe.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])]),A("td",null,[v(n,{modelValue:a.campos.prescricao.dioptria.od.longe.dnp,"onUpdate:modelValue":t[13]||(t[13]=c=>a.campos.prescricao.dioptria.od.longe.dnp=c),min:"0",tipo:"decimal",dense:"",decimals:"2",onBlur:t[14]||(t[14]=c=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue"])])]),A("tr",null,[jbe,a.confirmaHabilitaPerto?ce("",!0):($(),be("td",Gbe,[v(n,{modelValue:a.campos.prescricao.dioptria.oe.longe.esferico,"onUpdate:modelValue":[t[15]||(t[15]=c=>a.campos.prescricao.dioptria.oe.longe.esferico=c),i.calcularAE],dense:"",min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])])),a.confirmaHabilitaPerto?ce("",!0):($(),be("td",Wbe,[v(n,{modelValue:a.campos.prescricao.dioptria.oe.longe.cilindrico,"onUpdate:modelValue":t[16]||(t[16]=c=>a.campos.prescricao.dioptria.oe.longe.cilindrico=c),min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",dense:"",sinalPositivo:"",permiteNull:""},null,8,["modelValue"])])),a.confirmaHabilitaPerto?ce("",!0):($(),be("td",Xbe,[v(n,{modelValue:a.campos.prescricao.dioptria.oe.longe.eixo,"onUpdate:modelValue":t[17]||(t[17]=c=>a.campos.prescricao.dioptria.oe.longe.eixo=c),dense:"",readonly:a.campos.prescricao.dioptria.oe.longe.cilindrico==0,disable:a.campos.prescricao.dioptria.oe.longe.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])),a.confirmaHabilitaPerto?ce("",!0):($(),be("td",Ybe,[v(n,{modelValue:a.campos.prescricao.dioptria.oe.longe.dnp,"onUpdate:modelValue":t[18]||(t[18]=c=>a.campos.prescricao.dioptria.oe.longe.dnp=c),min:"0",tipo:"decimal",dense:"",decimals:"2",onBlur:t[19]||(t[19]=c=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue"])]))])])])]),_:1})])),a.habilitaPerto?ce("",!0):($(),be("div",Kbe,[v(Bt,{class:"no-shadow rounded-borders"},{default:w(()=>[v(at,null,{default:w(()=>[v(nt,{class:"text-tertiary"},{default:w(()=>[v(n,{modelValue:a.habilitaMedio,"onUpdate:modelValue":[t[20]||(t[20]=c=>a.habilitaMedio=c),t[21]||(t[21]=c=>i.zerarCamposMedio(!0))],tipo:"logico",rotulo:"M\xE9dio"},null,8,["modelValue"])]),_:1})]),_:1}),A("div",Qbe,[A("table",null,[A("tr",null,[Jbe,!a.confirmaHabilitaPerto&&!a.habilitaAE?($(),be("th",Zbe,"Adi\xE7\xE3o")):ce("",!0),!a.confirmaHabilitaPerto&&a.habilitaAE?($(),be("th",e2e,"Esf\xE9rico")):ce("",!0),a.confirmaHabilitaPerto?ce("",!0):($(),be("th",t2e,"DNP"))]),A("tr",null,[o2e,a.confirmaHabilitaPerto?ce("",!0):($(),be("td",a2e,[a.habilitaAE?ce("",!0):($(),ue(n,{key:0,modelValue:a.campos.prescricao.dioptria.od.medio.adicao,"onUpdate:modelValue":[t[22]||(t[22]=c=>a.campos.prescricao.dioptria.od.medio.adicao=c),i.calcularAE],readonly:!a.habilitaMedio,disable:!a.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue","readonly","disable"])),a.habilitaAE?($(),ue(n,{key:1,modelValue:a.campos.prescricao.dioptria.od.medio.esferico,"onUpdate:modelValue":[t[23]||(t[23]=c=>a.campos.prescricao.dioptria.od.medio.esferico=c),i.calcularAE],disable:!a.habilitaMedio,readonly:!a.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue","disable","readonly"])):ce("",!0)])),a.confirmaHabilitaPerto?ce("",!0):($(),be("td",r2e,[v(n,{modelValue:a.campos.prescricao.dioptria.od.medio.dnp,"onUpdate:modelValue":t[24]||(t[24]=c=>a.campos.prescricao.dioptria.od.medio.dnp=c),disable:!a.habilitaMedio,readonly:!a.habilitaMedio,min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue","disable","readonly"])]))]),A("tr",null,[i2e,a.confirmaHabilitaPerto?ce("",!0):($(),be("td",n2e,[a.habilitaAE?ce("",!0):($(),ue(n,{key:0,modelValue:a.campos.prescricao.dioptria.oe.medio.adicao,"onUpdate:modelValue":[t[25]||(t[25]=c=>a.campos.prescricao.dioptria.oe.medio.adicao=c),i.calcularAE],disable:!a.habilitaMedio,readonly:!a.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","disable","readonly","onUpdate:modelValue"])),a.habilitaAE?($(),ue(n,{key:1,modelValue:a.campos.prescricao.dioptria.oe.medio.esferico,"onUpdate:modelValue":[t[26]||(t[26]=c=>a.campos.prescricao.dioptria.oe.medio.esferico=c),i.calcularAE],disable:!a.habilitaMedio,readonly:!a.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","disable","readonly","onUpdate:modelValue"])):ce("",!0)])),a.confirmaHabilitaPerto?ce("",!0):($(),be("td",s2e,[v(n,{modelValue:a.campos.prescricao.dioptria.oe.medio.dnp,"onUpdate:modelValue":t[27]||(t[27]=c=>a.campos.prescricao.dioptria.oe.medio.dnp=c),disable:!a.habilitaMedio,readonly:!a.habilitaMedio,min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue","disable","readonly"])]))])])])]),_:1})])),A("div",{class:ii(a.habilitaPerto?"col-xs-12":"col-xs-12 col-md-3")},[v(Bt,{class:"no-shadow rounded-borders"},{default:w(()=>[v(at,null,{default:w(()=>[v(nt,{class:"text-tertiary"},{default:w(()=>[v(n,{modelValue:a.habilitaPerto,"onUpdate:modelValue":[t[28]||(t[28]=c=>a.habilitaPerto=c),t[29]||(t[29]=c=>i.zerarCamposLongeMedio())],tipo:"logico",rotulo:"Perto"},null,8,["modelValue"])]),_:1})]),_:1}),A("div",l2e,[A("table",null,[A("tr",null,[c2e,!a.habilitaPerto&&!a.habilitaAE?($(),be("th",u2e,"Adi\xE7\xE3o")):ce("",!0),!a.habilitaPerto&&a.habilitaAE?($(),be("th",d2e,"Esf\xE9rico")):ce("",!0),a.habilitaPerto?($(),be("th",f2e,"Esf\xE9rico")):ce("",!0),a.habilitaPerto?($(),be("th",m2e,"Cil\xEDndrico")):ce("",!0),a.habilitaPerto?($(),be("th",p2e,"Eixo")):ce("",!0),h2e]),A("tr",null,[v2e,A("td",null,[!a.habilitaAE&&!a.habilitaPerto?($(),ue(n,{key:0,modelValue:a.campos.prescricao.dioptria.od.perto.adicao,"onUpdate:modelValue":[t[30]||(t[30]=c=>a.campos.prescricao.dioptria.od.perto.adicao=c),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:t[31]||(t[31]=c=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):ce("",!0),a.habilitaAE||a.habilitaPerto?($(),ue(n,{key:1,modelValue:a.campos.prescricao.dioptria.od.perto.esferico,"onUpdate:modelValue":[t[32]||(t[32]=c=>a.campos.prescricao.dioptria.od.perto.esferico=c),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:t[33]||(t[33]=c=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):ce("",!0)]),a.habilitaPerto?($(),be("td",g2e,[v(n,{modelValue:a.campos.prescricao.dioptria.od.perto.cilindrico,"onUpdate:modelValue":t[34]||(t[34]=c=>a.campos.prescricao.dioptria.od.perto.cilindrico=c),aviso:a.campos.prescricao.dioptria.od.perto.cilindrico<-8||a.campos.prescricao.dioptria.od.perto.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])):ce("",!0),a.habilitaPerto?($(),be("td",_2e,[v(n,{modelValue:a.campos.prescricao.dioptria.od.perto.eixo,"onUpdate:modelValue":t[35]||(t[35]=c=>a.campos.prescricao.dioptria.od.perto.eixo=c),readonly:a.campos.prescricao.dioptria.od.perto.cilindrico==0,disable:a.campos.prescricao.dioptria.od.perto.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])):ce("",!0),A("td",null,[v(n,{modelValue:a.campos.prescricao.dioptria.od.perto.dnp,"onUpdate:modelValue":t[36]||(t[36]=c=>a.campos.prescricao.dioptria.od.perto.dnp=c),min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])])]),A("tr",null,[b2e,A("td",null,[!a.habilitaAE&&!a.habilitaPerto?($(),ue(n,{key:0,modelValue:a.campos.prescricao.dioptria.oe.perto.adicao,"onUpdate:modelValue":[t[37]||(t[37]=c=>a.campos.prescricao.dioptria.oe.perto.adicao=c),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:t[38]||(t[38]=c=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):ce("",!0),a.habilitaAE||a.habilitaPerto?($(),ue(n,{key:1,modelValue:a.campos.prescricao.dioptria.oe.perto.esferico,"onUpdate:modelValue":[t[39]||(t[39]=c=>a.campos.prescricao.dioptria.oe.perto.esferico=c),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:t[40]||(t[40]=c=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):ce("",!0)]),a.habilitaPerto?($(),be("td",y2e,[v(n,{modelValue:a.campos.prescricao.dioptria.oe.perto.cilindrico,"onUpdate:modelValue":t[41]||(t[41]=c=>a.campos.prescricao.dioptria.oe.perto.cilindrico=c),aviso:a.campos.prescricao.dioptria.oe.perto.cilindrico<-8||a.campos.prescricao.dioptria.oe.perto.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])):ce("",!0),a.habilitaPerto?($(),be("td",C2e,[v(n,{modelValue:a.campos.prescricao.dioptria.oe.perto.eixo,"onUpdate:modelValue":t[42]||(t[42]=c=>a.campos.prescricao.dioptria.oe.perto.eixo=c),readonly:a.campos.prescricao.dioptria.oe.perto.cilindrico==0,disable:a.campos.prescricao.dioptria.oe.perto.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])):ce("",!0),A("td",null,[v(n,{modelValue:a.campos.prescricao.dioptria.oe.perto.dnp,"onUpdate:modelValue":t[43]||(t[43]=c=>a.campos.prescricao.dioptria.oe.perto.dnp=c),min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])])])])])]),_:1})],2)]),_:1}),v(s,{class:"items-center q-col-gutter-md q-mb-md"},{default:w(()=>[A("div",x2e,[v(pe,{color:"primary",icon:"content_copy",label:"Copiar OD > OE",unelevated:"",onClick:i.copiarODDioptria},null,8,["onClick"])])]),_:1})]),_:1}),v(Gd,{name:"prisma",class:"bg-light q-px-none"},{default:w(()=>[v(s,{class:"items-center q-col-gutter-md q-mb-md"},{default:w(()=>[A("div",w2e,[v(Bt,{class:"no-shadow rounded-borders q-mb-md"},{default:w(()=>[A("div",I2e,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[E2e,A("div",S2e,[v(n,{modelValue:a.campos.prescricao.prisma.od.valor,"onUpdate:modelValue":t[44]||(t[44]=c=>a.campos.prescricao.prisma.od.valor=c),rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])]),A("div",A2e,[v(n,{modelValue:a.campos.prescricao.prisma.od.base,"onUpdate:modelValue":t[45]||(t[45]=c=>a.campos.prescricao.prisma.od.base=c),rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},null,8,["modelValue"])])]),_:1})])]),_:1})]),A("div",T2e,[v(pe,{color:"primary",unelevated:"",icon:"content_copy",label:"Copiar OD > OE",onClick:i.copiarODPrisma,class:"'q-my-none'"},null,8,["onClick"])]),A("div",O2e,[v(Bt,{class:"no-shadow rounded-borders q-mb-md"},{default:w(()=>[A("div",D2e,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[P2e,A("div",M2e,[v(n,{modelValue:a.campos.prescricao.prisma.oe.valor,"onUpdate:modelValue":t[46]||(t[46]=c=>a.campos.prescricao.prisma.oe.valor=c),rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])]),A("div",N2e,[v(n,{modelValue:a.campos.prescricao.prisma.oe.base,"onUpdate:modelValue":t[47]||(t[47]=c=>a.campos.prescricao.prisma.oe.base=c),rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},null,8,["modelValue"])])]),_:1})])]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a.verOptometria?($(),be(Qe,{key:1},[v(Vr,{"expand-separator":"","default-opened":"",modelValue:a.abasOptometria.OftalmoscopiaDireta,"onUpdate:modelValue":t[67]||(t[67]=c=>a.abasOptometria.OftalmoscopiaDireta=c),label:"Oftalmoscopia Direta",onShow:i.setAba,onHide:i.setAba},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",F2e,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[R2e,k2e,V2e]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[q2e,A("div",B2e,[A("label",L2e,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.bruckner,"onUpdate:modelValue":t[49]||(t[49]=c=>a.camposOptometria.oftalmoscopiaDireta.od.bruckner=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",$2e,[A("label",U2e,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.bruckner,"onUpdate:modelValue":t[50]||(t[50]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.bruckner=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[z2e,A("div",H2e,[A("label",j2e,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.lente,"onUpdate:modelValue":t[51]||(t[51]=c=>a.camposOptometria.oftalmoscopiaDireta.od.lente=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",G2e,[A("label",W2e,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.lente,"onUpdate:modelValue":t[52]||(t[52]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.lente=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[X2e,A("div",Y2e,[A("label",K2e,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.escavacao,"onUpdate:modelValue":t[53]||(t[53]=c=>a.camposOptometria.oftalmoscopiaDireta.od.escavacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",Q2e,[A("label",J2e,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.escavacao,"onUpdate:modelValue":t[54]||(t[54]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.escavacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Z2e,A("div",eye,[A("label",tye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.relacaoAV,"onUpdate:modelValue":t[55]||(t[55]=c=>a.camposOptometria.oftalmoscopiaDireta.od.relacaoAV=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",oye,[A("label",aye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.relacaoAV,"onUpdate:modelValue":t[56]||(t[56]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.relacaoAV=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[rye,A("div",iye,[A("label",nye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.macula,"onUpdate:modelValue":t[57]||(t[57]=c=>a.camposOptometria.oftalmoscopiaDireta.od.macula=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",sye,[A("label",lye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.macula,"onUpdate:modelValue":t[58]||(t[58]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.macula=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[cye,A("div",uye,[A("label",dye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.fixacao,"onUpdate:modelValue":t[59]||(t[59]=c=>a.camposOptometria.oftalmoscopiaDireta.od.fixacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",fye,[A("label",mye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.fixacao,"onUpdate:modelValue":t[60]||(t[60]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.fixacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[pye,A("div",hye,[A("label",vye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.cor,"onUpdate:modelValue":t[61]||(t[61]=c=>a.camposOptometria.oftalmoscopiaDireta.od.cor=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",gye,[A("label",_ye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.cor,"onUpdate:modelValue":t[62]||(t[62]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.cor=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[bye,A("div",yye,[A("label",Cye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.papila,"onUpdate:modelValue":t[63]||(t[63]=c=>a.camposOptometria.oftalmoscopiaDireta.od.papila=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",xye,[A("label",wye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.papila,"onUpdate:modelValue":t[64]||(t[64]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.papila=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Iye,A("div",Eye,[A("label",Sye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.od.observacao,"onUpdate:modelValue":t[65]||(t[65]=c=>a.camposOptometria.oftalmoscopiaDireta.od.observacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",Aye,[A("label",Tye,[v(n,{modelValue:a.camposOptometria.oftalmoscopiaDireta.oe.observacao,"onUpdate:modelValue":t[66]||(t[66]=c=>a.camposOptometria.oftalmoscopiaDireta.oe.observacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.AcuiVisual,"onUpdate:modelValue":t[79]||(t[79]=c=>a.abasOptometria.AcuiVisual=c),onShow:i.setAba,onHide:i.setAba,label:"Acui. Visual"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",Oye,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Dye,Pye,Mye,Nye,Fye,Rye]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[kye,A("div",Vye,[v(n,{modelValue:a.camposOptometria.acuiVisual.od.VLSC,"onUpdate:modelValue":t[68]||(t[68]=c=>a.camposOptometria.acuiVisual.od.VLSC=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",qye,[v(n,{modelValue:a.camposOptometria.acuiVisual.od.PH,"onUpdate:modelValue":t[69]||(t[69]=c=>a.camposOptometria.acuiVisual.od.PH=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Bye,[v(n,{modelValue:a.camposOptometria.acuiVisual.od.VPSC,"onUpdate:modelValue":t[70]||(t[70]=c=>a.camposOptometria.acuiVisual.od.VPSC=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Lye,[v(n,{modelValue:a.camposOptometria.acuiVisual.od.VLCC,"onUpdate:modelValue":t[71]||(t[71]=c=>a.camposOptometria.acuiVisual.od.VLCC=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",$ye,[v(n,{modelValue:a.camposOptometria.acuiVisual.od.VPCC,"onUpdate:modelValue":t[72]||(t[72]=c=>a.camposOptometria.acuiVisual.od.VPCC=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Uye,A("div",zye,[v(n,{modelValue:a.camposOptometria.acuiVisual.oe.VLSC,"onUpdate:modelValue":t[73]||(t[73]=c=>a.camposOptometria.acuiVisual.oe.VLSC=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Hye,[v(n,{modelValue:a.camposOptometria.acuiVisual.oe.PH,"onUpdate:modelValue":t[74]||(t[74]=c=>a.camposOptometria.acuiVisual.oe.PH=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",jye,[v(n,{modelValue:a.camposOptometria.acuiVisual.oe.VPSC,"onUpdate:modelValue":t[75]||(t[75]=c=>a.camposOptometria.acuiVisual.oe.VPSC=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Gye,[v(n,{modelValue:a.camposOptometria.acuiVisual.oe.VLCC,"onUpdate:modelValue":t[76]||(t[76]=c=>a.camposOptometria.acuiVisual.oe.VLCC=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Wye,[v(n,{modelValue:a.camposOptometria.acuiVisual.oe.VPCC,"onUpdate:modelValue":t[77]||(t[77]=c=>a.camposOptometria.acuiVisual.oe.VPCC=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,null,{default:w(()=>[A("div",Xye,[v(n,{modelValue:a.camposOptometria.acuiVisual.optotipo,"onUpdate:modelValue":t[78]||(t[78]=c=>a.camposOptometria.acuiVisual.optotipo=c),tipo:"texto",rotulo:"Optotipo",dense:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.ReflPup,"onUpdate:modelValue":t[86]||(t[86]=c=>a.abasOptometria.ReflPup=c),onShow:i.setAba,onHide:i.setAba,label:"Refl. Pup"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",Yye,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Kye,Qye,Jye,Zye]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[eCe,A("div",tCe,[v(n,{modelValue:a.camposOptometria.reflPup.od.fotomotor,"onUpdate:modelValue":t[80]||(t[80]=c=>a.camposOptometria.reflPup.od.fotomotor=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",oCe,[v(n,{modelValue:a.camposOptometria.reflPup.od.consensual,"onUpdate:modelValue":t[81]||(t[81]=c=>a.camposOptometria.reflPup.od.consensual=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",aCe,[v(n,{modelValue:a.camposOptometria.reflPup.od.acomodativo,"onUpdate:modelValue":t[82]||(t[82]=c=>a.camposOptometria.reflPup.od.acomodativo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[rCe,A("div",iCe,[v(n,{modelValue:a.camposOptometria.reflPup.oe.fotomotor,"onUpdate:modelValue":t[83]||(t[83]=c=>a.camposOptometria.reflPup.oe.fotomotor=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",nCe,[v(n,{modelValue:a.camposOptometria.reflPup.oe.consensual,"onUpdate:modelValue":t[84]||(t[84]=c=>a.camposOptometria.reflPup.oe.consensual=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",sCe,[v(n,{modelValue:a.camposOptometria.reflPup.oe.acomodativo,"onUpdate:modelValue":t[85]||(t[85]=c=>a.camposOptometria.reflPup.oe.acomodativo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.AvaliacaoMotora,"onUpdate:modelValue":t[107]||(t[107]=c=>a.abasOptometria.AvaliacaoMotora=c),onShow:i.setAba,onHide:i.setAba,label:"Avalia\xE7\xE3o Motora"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",lCe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[cCe,uCe,dCe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[fCe,A("div",mCe,[A("label",pCe,[v(n,{modelValue:a.camposOptometria.avaliacaoMotora.od.kappa,"onUpdate:modelValue":t[87]||(t[87]=c=>a.camposOptometria.avaliacaoMotora.od.kappa=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",hCe,[A("label",vCe,[v(n,{modelValue:a.camposOptometria.avaliacaoMotora.oe.kappa,"onUpdate:modelValue":t[88]||(t[88]=c=>a.camposOptometria.avaliacaoMotora.oe.kappa=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[gCe,A("div",_Ce,[A("label",bCe,[v(n,{modelValue:a.camposOptometria.avaliacaoMotora.od.hirschberg,"onUpdate:modelValue":t[89]||(t[89]=c=>a.camposOptometria.avaliacaoMotora.od.hirschberg=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",yCe,[A("label",CCe,[v(n,{modelValue:a.camposOptometria.avaliacaoMotora.oe.hirschberg,"onUpdate:modelValue":t[90]||(t[90]=c=>a.camposOptometria.avaliacaoMotora.oe.hirschberg=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[xCe,A("div",wCe,[A("label",ICe,[v(n,{modelValue:a.camposOptometria.avaliacaoMotora.od.duccoes,"onUpdate:modelValue":t[91]||(t[91]=c=>a.camposOptometria.avaliacaoMotora.od.duccoes=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",ECe,[A("label",SCe,[v(n,{modelValue:a.camposOptometria.avaliacaoMotora.oe.duccoes,"onUpdate:modelValue":t[92]||(t[92]=c=>a.camposOptometria.avaliacaoMotora.oe.duccoes=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[ACe,A("div",TCe,[A("div",OCe,[DCe,A("div",PCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_od_0",name:"ava_mot_ver_od_0","onUpdate:modelValue":t[93]||(t[93]=c=>a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_0=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_0]]),MCe]),A("div",NCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_od_1",name:"ava_mot_ver_od_1","onUpdate:modelValue":t[94]||(t[94]=c=>a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_1=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_1]]),FCe]),A("div",RCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_od_2",name:"ava_mot_ver_od_2","onUpdate:modelValue":t[95]||(t[95]=c=>a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_2=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_2]]),kCe]),A("div",VCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_od_3",name:"ava_mot_ver_od_3","onUpdate:modelValue":t[96]||(t[96]=c=>a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_3=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_3]]),qCe]),A("div",BCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_od_4",name:"ava_mot_ver_od_4","onUpdate:modelValue":t[97]||(t[97]=c=>a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_4=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_4]]),LCe]),A("div",$Ce,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_od_5",name:"ava_mot_ver_od_5","onUpdate:modelValue":t[98]||(t[98]=c=>a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_5=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_5]]),UCe])])]),A("div",zCe,[A("div",HCe,[jCe,A("div",GCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_oe_0",name:"ava_mot_ver_oe_0","onUpdate:modelValue":t[99]||(t[99]=c=>a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_0=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_0]]),WCe]),A("div",XCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_oe_1",name:"ava_mot_ver_oe_1","onUpdate:modelValue":t[100]||(t[100]=c=>a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_1=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_1]]),YCe]),A("div",KCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_oe_2",name:"ava_mot_ver_oe_2","onUpdate:modelValue":t[101]||(t[101]=c=>a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_2=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_2]]),QCe]),A("div",JCe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_oe_3",name:"ava_mot_ver_oe_3","onUpdate:modelValue":t[102]||(t[102]=c=>a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_3=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_3]]),ZCe]),A("div",exe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_oe_4",name:"ava_mot_ver_oe_4","onUpdate:modelValue":t[103]||(t[103]=c=>a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_4=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_4]]),txe]),A("div",oxe,[Te(A("input",{type:"checkbox",id:"c_ava_mot_ver_oe_5",name:"ava_mot_ver_oe_5","onUpdate:modelValue":t[104]||(t[104]=c=>a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_5=c)},null,512),[[Zr,a.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_5]]),axe])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[rxe,A("div",ixe,[A("label",nxe,[v(n,{modelValue:a.camposOptometria.avaliacaoMotora.od.observacao,"onUpdate:modelValue":t[105]||(t[105]=c=>a.camposOptometria.avaliacaoMotora.od.observacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",sxe,[A("label",lxe,[v(n,{modelValue:a.camposOptometria.avaliacaoMotora.oe.observacao,"onUpdate:modelValue":t[106]||(t[106]=c=>a.camposOptometria.avaliacaoMotora.oe.observacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.Ppc,"onUpdate:modelValue":t[111]||(t[111]=c=>a.abasOptometria.Ppc=c),onShow:i.setAba,onHide:i.setAba,label:"PPC"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",cxe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[uxe,dxe,fxe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[A("div",mxe,[v(n,{modelValue:a.camposOptometria.ppc.objetoReal,"onUpdate:modelValue":t[108]||(t[108]=c=>a.camposOptometria.ppc.objetoReal=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",pxe,[v(n,{modelValue:a.camposOptometria.ppc.luz,"onUpdate:modelValue":t[109]||(t[109]=c=>a.camposOptometria.ppc.luz=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",hxe,[v(n,{modelValue:a.camposOptometria.ppc.filtro,"onUpdate:modelValue":t[110]||(t[110]=c=>a.camposOptometria.ppc.filtro=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{modelValue:a.abasOptometria.CoverTeste,"onUpdate:modelValue":t[118]||(t[118]=c=>a.abasOptometria.CoverTeste=c),onShow:i.setAba,onHide:i.setAba,"expand-separator":"",label:"Cover Teste"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",vxe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[gxe,_xe,bxe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[yxe,A("div",Cxe,[A("label",xxe,[v(n,{modelValue:a.camposOptometria.coverTeste.sc.dist6m,"onUpdate:modelValue":t[112]||(t[112]=c=>a.camposOptometria.coverTeste.sc.dist6m=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",wxe,[A("label",Ixe,[v(n,{modelValue:a.camposOptometria.coverTeste.cc.dist6m,"onUpdate:modelValue":t[113]||(t[113]=c=>a.camposOptometria.coverTeste.cc.dist6m=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Exe,A("div",Sxe,[A("label",Axe,[v(n,{modelValue:a.camposOptometria.coverTeste.sc.dist40cm,"onUpdate:modelValue":t[114]||(t[114]=c=>a.camposOptometria.coverTeste.sc.dist40cm=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",Txe,[A("label",Oxe,[v(n,{modelValue:a.camposOptometria.coverTeste.cc.dist40cm,"onUpdate:modelValue":t[115]||(t[115]=c=>a.camposOptometria.coverTeste.cc.dist40cm=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Dxe,A("div",Pxe,[A("label",Mxe,[v(n,{modelValue:a.camposOptometria.coverTeste.sc.dist20cm,"onUpdate:modelValue":t[116]||(t[116]=c=>a.camposOptometria.coverTeste.sc.dist20cm=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",Nxe,[A("label",Fxe,[v(n,{modelValue:a.camposOptometria.coverTeste.cc.dist20cm,"onUpdate:modelValue":t[117]||(t[117]=c=>a.camposOptometria.coverTeste.cc.dist20cm=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.ReservasFusionais,"onUpdate:modelValue":t[123]||(t[123]=c=>a.abasOptometria.ReservasFusionais=c),onShow:i.setAba,onHide:i.setAba,label:"Reservas Fusionais"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",Rxe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[kxe,Vxe,qxe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Bxe,A("div",Lxe,[A("label",$xe,[v(n,{modelValue:a.camposOptometria.reservasFusionais.vl.rfn,"onUpdate:modelValue":t[119]||(t[119]=c=>a.camposOptometria.reservasFusionais.vl.rfn=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",Uxe,[A("label",zxe,[v(n,{modelValue:a.camposOptometria.reservasFusionais.vp.rfn,"onUpdate:modelValue":t[120]||(t[120]=c=>a.camposOptometria.reservasFusionais.vp.rfn=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Hxe,A("div",jxe,[A("label",Gxe,[v(n,{modelValue:a.camposOptometria.reservasFusionais.vl.rfp,"onUpdate:modelValue":t[121]||(t[121]=c=>a.camposOptometria.reservasFusionais.vl.rfp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",Wxe,[A("label",Xxe,[v(n,{modelValue:a.camposOptometria.reservasFusionais.vp.rfp,"onUpdate:modelValue":t[122]||(t[122]=c=>a.camposOptometria.reservasFusionais.vp.rfp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{modelValue:a.abasOptometria.Subjetivo,"onUpdate:modelValue":t[139]||(t[139]=c=>a.abasOptometria.Subjetivo=c),onShow:i.setAba,onHide:i.setAba,"expand-separator":"",label:"Subjetivo"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",Yxe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Kxe,Qxe,Jxe,Zxe,ewe,twe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[owe,A("div",awe,[v(n,{modelValue:a.camposOptometria.subjetivo.od.esf,"onUpdate:modelValue":t[124]||(t[124]=c=>a.camposOptometria.subjetivo.od.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",rwe,[v(n,{modelValue:a.camposOptometria.subjetivo.od.cil,"onUpdate:modelValue":t[125]||(t[125]=c=>a.camposOptometria.subjetivo.od.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",iwe,[v(n,{modelValue:a.camposOptometria.subjetivo.od.eixo,"onUpdate:modelValue":t[126]||(t[126]=c=>a.camposOptometria.subjetivo.od.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",nwe,[v(n,{modelValue:a.camposOptometria.subjetivo.od.avl,"onUpdate:modelValue":t[127]||(t[127]=c=>a.camposOptometria.subjetivo.od.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",swe,[v(n,{modelValue:a.camposOptometria.subjetivo.od.avp,"onUpdate:modelValue":t[128]||(t[128]=c=>a.camposOptometria.subjetivo.od.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[lwe,A("div",cwe,[v(n,{modelValue:a.camposOptometria.subjetivo.oe.esf,"onUpdate:modelValue":t[129]||(t[129]=c=>a.camposOptometria.subjetivo.oe.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",uwe,[v(n,{modelValue:a.camposOptometria.subjetivo.oe.cil,"onUpdate:modelValue":t[130]||(t[130]=c=>a.camposOptometria.subjetivo.oe.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",dwe,[v(n,{modelValue:a.camposOptometria.subjetivo.oe.eixo,"onUpdate:modelValue":t[131]||(t[131]=c=>a.camposOptometria.subjetivo.oe.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",fwe,[v(n,{modelValue:a.camposOptometria.subjetivo.oe.avl,"onUpdate:modelValue":t[132]||(t[132]=c=>a.camposOptometria.subjetivo.oe.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",mwe,[v(n,{modelValue:a.camposOptometria.subjetivo.oe.avp,"onUpdate:modelValue":t[133]||(t[133]=c=>a.camposOptometria.subjetivo.oe.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[pwe,A("div",hwe,[v(n,{modelValue:a.camposOptometria.subjetivo.add.esf,"onUpdate:modelValue":t[134]||(t[134]=c=>a.camposOptometria.subjetivo.add.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",vwe,[v(n,{modelValue:a.camposOptometria.subjetivo.add.cil,"onUpdate:modelValue":t[135]||(t[135]=c=>a.camposOptometria.subjetivo.add.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",gwe,[v(n,{modelValue:a.camposOptometria.subjetivo.add.eixo,"onUpdate:modelValue":t[136]||(t[136]=c=>a.camposOptometria.subjetivo.add.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",_we,[v(n,{modelValue:a.camposOptometria.subjetivo.add.avl,"onUpdate:modelValue":t[137]||(t[137]=c=>a.camposOptometria.subjetivo.add.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",bwe,[v(n,{modelValue:a.camposOptometria.subjetivo.add.avp,"onUpdate:modelValue":t[138]||(t[138]=c=>a.camposOptometria.subjetivo.add.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.Ambulatorial,"onUpdate:modelValue":t[155]||(t[155]=c=>a.abasOptometria.Ambulatorial=c),onShow:i.setAba,onHide:i.setAba,label:"Ambulatorial"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",ywe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Cwe,xwe,wwe,Iwe,Ewe,Swe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Awe,A("div",Twe,[v(n,{modelValue:a.camposOptometria.ambulatorial.od.esf,"onUpdate:modelValue":t[140]||(t[140]=c=>a.camposOptometria.ambulatorial.od.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Owe,[v(n,{modelValue:a.camposOptometria.ambulatorial.od.cil,"onUpdate:modelValue":t[141]||(t[141]=c=>a.camposOptometria.ambulatorial.od.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Dwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.od.eixo,"onUpdate:modelValue":t[142]||(t[142]=c=>a.camposOptometria.ambulatorial.od.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Pwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.od.avl,"onUpdate:modelValue":t[143]||(t[143]=c=>a.camposOptometria.ambulatorial.od.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Mwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.od.avp,"onUpdate:modelValue":t[144]||(t[144]=c=>a.camposOptometria.ambulatorial.od.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Nwe,A("div",Fwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.oe.esf,"onUpdate:modelValue":t[145]||(t[145]=c=>a.camposOptometria.ambulatorial.oe.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Rwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.oe.cil,"onUpdate:modelValue":t[146]||(t[146]=c=>a.camposOptometria.ambulatorial.oe.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",kwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.oe.eixo,"onUpdate:modelValue":t[147]||(t[147]=c=>a.camposOptometria.ambulatorial.oe.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Vwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.oe.avl,"onUpdate:modelValue":t[148]||(t[148]=c=>a.camposOptometria.ambulatorial.oe.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",qwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.oe.avp,"onUpdate:modelValue":t[149]||(t[149]=c=>a.camposOptometria.ambulatorial.oe.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Bwe,A("div",Lwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.add.esf,"onUpdate:modelValue":t[150]||(t[150]=c=>a.camposOptometria.ambulatorial.add.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",$we,[v(n,{modelValue:a.camposOptometria.ambulatorial.add.cil,"onUpdate:modelValue":t[151]||(t[151]=c=>a.camposOptometria.ambulatorial.add.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Uwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.add.eixo,"onUpdate:modelValue":t[152]||(t[152]=c=>a.camposOptometria.ambulatorial.add.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",zwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.add.avl,"onUpdate:modelValue":t[153]||(t[153]=c=>a.camposOptometria.ambulatorial.add.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",Hwe,[v(n,{modelValue:a.camposOptometria.ambulatorial.add.avp,"onUpdate:modelValue":t[154]||(t[154]=c=>a.camposOptometria.ambulatorial.add.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.Afinamento,"onUpdate:modelValue":t[171]||(t[171]=c=>a.abasOptometria.Afinamento=c),onShow:i.setAba,onHide:i.setAba,label:"Afinamento"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",jwe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Gwe,Wwe,Xwe,Ywe,Kwe,Qwe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[Jwe,A("div",Zwe,[v(n,{modelValue:a.camposOptometria.afinamento.od.esf,"onUpdate:modelValue":t[156]||(t[156]=c=>a.camposOptometria.afinamento.od.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",eIe,[v(n,{modelValue:a.camposOptometria.afinamento.od.cil,"onUpdate:modelValue":t[157]||(t[157]=c=>a.camposOptometria.afinamento.od.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",tIe,[v(n,{modelValue:a.camposOptometria.afinamento.od.eixo,"onUpdate:modelValue":t[158]||(t[158]=c=>a.camposOptometria.afinamento.od.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",oIe,[v(n,{modelValue:a.camposOptometria.afinamento.od.avl,"onUpdate:modelValue":t[159]||(t[159]=c=>a.camposOptometria.afinamento.od.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",aIe,[v(n,{modelValue:a.camposOptometria.afinamento.od.avp,"onUpdate:modelValue":t[160]||(t[160]=c=>a.camposOptometria.afinamento.od.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[rIe,A("div",iIe,[v(n,{modelValue:a.camposOptometria.afinamento.oe.esf,"onUpdate:modelValue":t[161]||(t[161]=c=>a.camposOptometria.afinamento.oe.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",nIe,[v(n,{modelValue:a.camposOptometria.afinamento.oe.cil,"onUpdate:modelValue":t[162]||(t[162]=c=>a.camposOptometria.afinamento.oe.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",sIe,[v(n,{modelValue:a.camposOptometria.afinamento.oe.eixo,"onUpdate:modelValue":t[163]||(t[163]=c=>a.camposOptometria.afinamento.oe.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",lIe,[v(n,{modelValue:a.camposOptometria.afinamento.oe.avl,"onUpdate:modelValue":t[164]||(t[164]=c=>a.camposOptometria.afinamento.oe.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",cIe,[v(n,{modelValue:a.camposOptometria.afinamento.oe.avp,"onUpdate:modelValue":t[165]||(t[165]=c=>a.camposOptometria.afinamento.oe.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[uIe,A("div",dIe,[v(n,{modelValue:a.camposOptometria.afinamento.add.esf,"onUpdate:modelValue":t[166]||(t[166]=c=>a.camposOptometria.afinamento.add.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",fIe,[v(n,{modelValue:a.camposOptometria.afinamento.add.cil,"onUpdate:modelValue":t[167]||(t[167]=c=>a.camposOptometria.afinamento.add.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",mIe,[v(n,{modelValue:a.camposOptometria.afinamento.add.eixo,"onUpdate:modelValue":t[168]||(t[168]=c=>a.camposOptometria.afinamento.add.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",pIe,[v(n,{modelValue:a.camposOptometria.afinamento.add.avl,"onUpdate:modelValue":t[169]||(t[169]=c=>a.camposOptometria.afinamento.add.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",hIe,[v(n,{modelValue:a.camposOptometria.afinamento.add.avp,"onUpdate:modelValue":t[170]||(t[170]=c=>a.camposOptometria.afinamento.add.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.Biomicroscopia,"onUpdate:modelValue":t[188]||(t[188]=c=>a.abasOptometria.Biomicroscopia=c),onShow:i.setAba,onHide:i.setAba,label:"Biomicroscopia"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",vIe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[gIe,_Ie,bIe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[yIe,A("div",CIe,[A("label",xIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.od.sobrancelhas,"onUpdate:modelValue":t[172]||(t[172]=c=>a.camposOptometria.biomicroscopia.od.sobrancelhas=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",wIe,[A("label",IIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.oe.sobrancelhas,"onUpdate:modelValue":t[173]||(t[173]=c=>a.camposOptometria.biomicroscopia.oe.sobrancelhas=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[EIe,A("div",SIe,[A("label",AIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.od.cilios,"onUpdate:modelValue":t[174]||(t[174]=c=>a.camposOptometria.biomicroscopia.od.cilios=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",TIe,[A("label",OIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.oe.cilios,"onUpdate:modelValue":t[175]||(t[175]=c=>a.camposOptometria.biomicroscopia.oe.cilios=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[DIe,A("div",PIe,[A("label",MIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.od.palpepras,"onUpdate:modelValue":t[176]||(t[176]=c=>a.camposOptometria.biomicroscopia.od.palpepras=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",NIe,[A("label",FIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.oe.palpepras,"onUpdate:modelValue":t[177]||(t[177]=c=>a.camposOptometria.biomicroscopia.oe.palpepras=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[RIe,A("div",kIe,[A("label",VIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.od.conjuntivas,"onUpdate:modelValue":t[178]||(t[178]=c=>a.camposOptometria.biomicroscopia.od.conjuntivas=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",qIe,[A("label",BIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.oe.conjuntivas,"onUpdate:modelValue":t[179]||(t[179]=c=>a.camposOptometria.biomicroscopia.oe.conjuntivas=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[LIe,A("div",$Ie,[A("label",UIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.od.corneas,"onUpdate:modelValue":t[180]||(t[180]=c=>a.camposOptometria.biomicroscopia.od.corneas=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",zIe,[A("label",HIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.oe.corneas,"onUpdate:modelValue":t[181]||(t[181]=c=>a.camposOptometria.biomicroscopia.oe.corneas=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[jIe,A("div",GIe,[A("label",WIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.od.iris,"onUpdate:modelValue":t[182]||(t[182]=c=>a.camposOptometria.biomicroscopia.od.iris=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",XIe,[A("label",YIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.oe.iris,"onUpdate:modelValue":t[183]||(t[183]=c=>a.camposOptometria.biomicroscopia.oe.iris=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[KIe,A("div",QIe,[A("label",JIe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.od.cristalinos,"onUpdate:modelValue":t[184]||(t[184]=c=>a.camposOptometria.biomicroscopia.od.cristalinos=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",ZIe,[A("label",eEe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.oe.cristalinos,"onUpdate:modelValue":t[185]||(t[185]=c=>a.camposOptometria.biomicroscopia.oe.cristalinos=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[tEe,A("div",oEe,[A("label",aEe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.od.observacao,"onUpdate:modelValue":t[186]||(t[186]=c=>a.camposOptometria.biomicroscopia.od.observacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),A("div",rEe,[A("label",iEe,[v(n,{modelValue:a.camposOptometria.biomicroscopia.oe.observacao,"onUpdate:modelValue":t[187]||(t[187]=c=>a.camposOptometria.biomicroscopia.oe.observacao=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.RXFinal,"onUpdate:modelValue":t[204]||(t[204]=c=>a.abasOptometria.RXFinal=c),onShow:i.setAba,onHide:i.setAba,label:"RX Final"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",nEe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[sEe,lEe,cEe,uEe,dEe,fEe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[mEe,A("div",pEe,[v(n,{modelValue:a.camposOptometria.rxFinal.od.esf,"onUpdate:modelValue":t[189]||(t[189]=c=>a.camposOptometria.rxFinal.od.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",hEe,[v(n,{modelValue:a.camposOptometria.rxFinal.od.cil,"onUpdate:modelValue":t[190]||(t[190]=c=>a.camposOptometria.rxFinal.od.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",vEe,[v(n,{modelValue:a.camposOptometria.rxFinal.od.eixo,"onUpdate:modelValue":t[191]||(t[191]=c=>a.camposOptometria.rxFinal.od.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",gEe,[v(n,{modelValue:a.camposOptometria.rxFinal.od.avl,"onUpdate:modelValue":t[192]||(t[192]=c=>a.camposOptometria.rxFinal.od.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",_Ee,[v(n,{modelValue:a.camposOptometria.rxFinal.od.avp,"onUpdate:modelValue":t[193]||(t[193]=c=>a.camposOptometria.rxFinal.od.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[bEe,A("div",yEe,[v(n,{modelValue:a.camposOptometria.rxFinal.oe.esf,"onUpdate:modelValue":t[194]||(t[194]=c=>a.camposOptometria.rxFinal.oe.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",CEe,[v(n,{modelValue:a.camposOptometria.rxFinal.oe.cil,"onUpdate:modelValue":t[195]||(t[195]=c=>a.camposOptometria.rxFinal.oe.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",xEe,[v(n,{modelValue:a.camposOptometria.rxFinal.oe.eixo,"onUpdate:modelValue":t[196]||(t[196]=c=>a.camposOptometria.rxFinal.oe.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",wEe,[v(n,{modelValue:a.camposOptometria.rxFinal.oe.avl,"onUpdate:modelValue":t[197]||(t[197]=c=>a.camposOptometria.rxFinal.oe.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",IEe,[v(n,{modelValue:a.camposOptometria.rxFinal.oe.avp,"onUpdate:modelValue":t[198]||(t[198]=c=>a.camposOptometria.rxFinal.oe.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[EEe,A("div",SEe,[v(n,{modelValue:a.camposOptometria.rxFinal.add.esf,"onUpdate:modelValue":t[199]||(t[199]=c=>a.camposOptometria.rxFinal.add.esf=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",AEe,[v(n,{modelValue:a.camposOptometria.rxFinal.add.cil,"onUpdate:modelValue":t[200]||(t[200]=c=>a.camposOptometria.rxFinal.add.cil=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",TEe,[v(n,{modelValue:a.camposOptometria.rxFinal.add.eixo,"onUpdate:modelValue":t[201]||(t[201]=c=>a.camposOptometria.rxFinal.add.eixo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",OEe,[v(n,{modelValue:a.camposOptometria.rxFinal.add.avl,"onUpdate:modelValue":t[202]||(t[202]=c=>a.camposOptometria.rxFinal.add.avl=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",DEe,[v(n,{modelValue:a.camposOptometria.rxFinal.add.avp,"onUpdate:modelValue":t[203]||(t[203]=c=>a.camposOptometria.rxFinal.add.avp=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Vr,{"expand-separator":"",modelValue:a.abasOptometria.Diagnostico,"onUpdate:modelValue":t[214]||(t[214]=c=>a.abasOptometria.Diagnostico=c),onShow:i.setAba,onHide:i.setAba,label:"Diagnostico"},{default:w(()=>[v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[A("div",PEe,[v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[MEe,NEe,FEe,REe]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[kEe,A("div",VEe,[v(n,{modelValue:a.camposOptometria.diagnostico.od.patologico,"onUpdate:modelValue":t[205]||(t[205]=c=>a.camposOptometria.diagnostico.od.patologico=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",qEe,[v(n,{modelValue:a.camposOptometria.diagnostico.od.motor,"onUpdate:modelValue":t[206]||(t[206]=c=>a.camposOptometria.diagnostico.od.motor=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",BEe,[v(n,{modelValue:a.camposOptometria.diagnostico.od.refrativo,"onUpdate:modelValue":t[207]||(t[207]=c=>a.camposOptometria.diagnostico.od.refrativo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[LEe,A("div",$Ee,[v(n,{modelValue:a.camposOptometria.diagnostico.oe.patologico,"onUpdate:modelValue":t[208]||(t[208]=c=>a.camposOptometria.diagnostico.oe.patologico=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",UEe,[v(n,{modelValue:a.camposOptometria.diagnostico.oe.motor,"onUpdate:modelValue":t[209]||(t[209]=c=>a.camposOptometria.diagnostico.oe.motor=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",zEe,[v(n,{modelValue:a.camposOptometria.diagnostico.oe.refrativo,"onUpdate:modelValue":t[210]||(t[210]=c=>a.camposOptometria.diagnostico.oe.refrativo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),v(s,{class:"items-end q-col-gutter-md"},{default:w(()=>[HEe,A("div",jEe,[v(n,{modelValue:a.camposOptometria.diagnostico.obs.patologico,"onUpdate:modelValue":t[211]||(t[211]=c=>a.camposOptometria.diagnostico.obs.patologico=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",GEe,[v(n,{modelValue:a.camposOptometria.diagnostico.obs.motor,"onUpdate:modelValue":t[212]||(t[212]=c=>a.camposOptometria.diagnostico.obs.motor=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),A("div",WEe,[v(n,{modelValue:a.camposOptometria.diagnostico.obs.refrativo,"onUpdate:modelValue":t[213]||(t[213]=c=>a.camposOptometria.diagnostico.obs.refrativo=c),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),v(Bt,{class:"bg-white q-my-md no-shadow"},{default:w(()=>[v(s,null,{default:w(()=>[A("div",XEe,[v(at,{class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"history",size:"24px"}),v(nt,null,{default:w(()=>[te("Termo de autoriza\xE7\xE3o")]),_:1})]),_:1}),YEe]),A("div",KEe,[v(at,{class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"history",size:"24px"}),v(nt,null,{default:w(()=>[te("Encaminhamento")]),_:1})]),_:1}),QEe])]),_:1})]),_:1})],64)):ce("",!0)])])]),_:1})],32)]),_:1}),v(u,{ref:"modalDependente","cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente inclu\xEDdo com sucesso.",titulo:"Incluir Paciente",observacao:""},null,512),v(u,{ref:"modalMedico","msg-erro":"Ocorreu um erro ao incluir o m\xE9dico.","msg-sucesso":"Inclu\xEDdo com sucesso.",numeroDocumentoMunicipal:"CRM/CRO",titulo:"Incluir M\xE9dico ou Optometrista"},null,512)]),_:1},8,["modelValue"])}var ZEe=ht(Tbe,[["render",JEe],["__scopeId","data-v-68a012c6"]]);const eSe={computed:{showMenu(){return this.dados.length>1},video(){return this.dialog.type==="video"}},data(){return{show:!1,dialog:{show:!1,title:"",type:"",url:""},dados:[]}},methods:{icon(e){switch(e.type){case"video":return"mdi-youtube"}return"help_outline"},showDialog(e){this.dialog={show:!0,...e}}},props:{componente:{type:String,required:!0}},async created(){try{const e=await this.$utils.geeksApi({tutorial:{funcao:"36FB3AC2-EDE6-483C-9645-FD09B69B10DA",componente:this.componente,sistema:$utils.sistemaPai(),mobile:this.$q.platform.is.mobile}});this.dados=e.data.tutorial}catch(e){console.log(e)}finally{this.dados.length&&(this.show=!0)}}},tSe={key:0},oSe=["src"];function aSe(e,t,o,r,a,i){return a.show?($(),be("div",tSe,[i.showMenu?($(),ue(pe,{key:0,icon:"help_outline",flat:"",dense:"",round:""},{default:w(()=>[v(Xa,null,{default:w(()=>[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.dados,(n,s)=>Te(($(),ue(We,{key:s,clickable:"",onClick:l=>i.showDialog(n)},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:i.icon(n)},null,8,["name"])]),_:2},1024),v(Ie,null,{default:w(()=>[te(de(n.title),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[lt]])),128))]),_:1})]),_:1})]),_:1})):($(),ue(pe,{key:1,icon:"help_outline",flat:"",dense:"",round:"",onClick:t[0]||(t[0]=n=>i.showDialog(a.dados[0]))})),v(Qt,{modelValue:a.dialog.show,"onUpdate:modelValue":t[1]||(t[1]=n=>a.dialog.show=n)},{default:w(()=>[v(Jo,{container:"",class:"bg-light",style:{height:"420px"}},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[v(nt,null,{default:w(()=>[te(de(a.dialog.title),1)]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1})]),_:1}),v(La,null,{default:w(()=>[i.video?($(),be("iframe",{key:0,style:{height:"348px",width:"calc(100% - 16px)"},class:"q-ma-sm",src:a.dialog.url,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,oSe)):ce("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])):ce("",!0)}var rSe=ht(eSe,[["render",aSe]]);const vD="q-slider__marker-labels",iSe=e=>({value:e}),nSe=({marker:e})=>ee("div",{key:e.value,style:e.style,class:e.classes},e.label),KF=[34,37,40,33,39,38],sSe={...Sa,...P0,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},lSe=["pan","update:modelValue","change"];function cSe({updateValue:e,updatePosition:t,getDragging:o,formAttrs:r}){const{props:a,emit:i,slots:n,proxy:{$q:s}}=Ct(),l=Aa(a,s),u=QI(r),c=$e(!1),d=$e(!1),m=$e(!1),f=$e(!1),p=X(()=>a.vertical===!0?"--v":"--h"),g=X(()=>"-"+(a.switchLabelSide===!0?"switched":"standard")),b=X(()=>a.vertical===!0?a.reverse===!0:a.reverse!==(s.lang.rtl===!0)),x=X(()=>isNaN(a.innerMin)===!0||a.innerMin<a.min?a.min:a.innerMin),_=X(()=>isNaN(a.innerMax)===!0||a.innerMax>a.max?a.max:a.innerMax),y=X(()=>a.disable!==!0&&a.readonly!==!0&&x.value<_.value),I=X(()=>{if(a.step===0)return xt=>xt;const Ze=(String(a.step).trim().split(".")[1]||"").length;return xt=>parseFloat(xt.toFixed(Ze))}),S=X(()=>a.step===0?1:a.step),O=X(()=>y.value===!0?a.tabindex||0:-1),F=X(()=>a.max-a.min),M=X(()=>_.value-x.value),E=X(()=>V(x.value)),D=X(()=>V(_.value)),P=X(()=>a.vertical===!0?b.value===!0?"bottom":"top":b.value===!0?"right":"left"),N=X(()=>a.vertical===!0?"height":"width"),R=X(()=>a.vertical===!0?"width":"height"),z=X(()=>a.vertical===!0?"vertical":"horizontal"),W=X(()=>{const Ze={role:"slider","aria-valuemin":x.value,"aria-valuemax":_.value,"aria-orientation":z.value,"data-step":a.step};return a.disable===!0?Ze["aria-disabled"]="true":a.readonly===!0&&(Ze["aria-readonly"]="true"),Ze}),j=X(()=>`q-slider q-slider${p.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(a.vertical===!0?"row":"column")+(a.disable===!0?" disabled":" q-slider--enabled"+(y.value===!0?" q-slider--editable":""))+(m.value==="both"?" q-slider--focus":"")+(a.label||a.labelAlways===!0?" q-slider--label":"")+(a.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(a.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function Q(Ze){const xt="q-slider__"+Ze;return`${xt} ${xt}${p.value} ${xt}${p.value}${g.value}`}function se(Ze){const xt="q-slider__"+Ze;return`${xt} ${xt}${p.value}`}const _e=X(()=>{const Ze=a.selectionColor||a.color;return"q-slider__selection absolute"+(Ze!==void 0?` text-${Ze}`:"")}),Ee=X(()=>se("markers")+" absolute overflow-hidden"),J=X(()=>se("track-container")),re=X(()=>Q("pin")),ye=X(()=>Q("label")),ge=X(()=>Q("text-container")),De=X(()=>Q("marker-labels-container")+(a.markerLabelsClass!==void 0?` ${a.markerLabelsClass}`:"")),Oe=X(()=>"q-slider__track relative-position no-outline"+(a.trackColor!==void 0?` bg-${a.trackColor}`:"")),he=X(()=>{const Ze={[R.value]:a.trackSize};return a.trackImg!==void 0&&(Ze.backgroundImage=`url(${a.trackImg}) !important`),Ze}),Me=X(()=>"q-slider__inner absolute"+(a.innerTrackColor!==void 0?` bg-${a.innerTrackColor}`:"")),fe=X(()=>{const Ze=D.value-E.value,xt={[P.value]:`${100*E.value}%`,[N.value]:Ze===0?"2px":`${100*Ze}%`};return a.innerTrackImg!==void 0&&(xt.backgroundImage=`url(${a.innerTrackImg}) !important`),xt});function G(Ze){const{min:xt,max:Lt,step:ao}=a;let ko=xt+Ze*(Lt-xt);if(ao>0){const Mr=(ko-x.value)%ao;ko+=(Math.abs(Mr)>=ao/2?(Mr<0?-1:1)*ao:0)-Mr}return ko=I.value(ko),Cn(ko,x.value,_.value)}function V(Ze){return F.value===0?0:(Ze-a.min)/F.value}function L(Ze,xt){const Lt=es(Ze),ao=a.vertical===!0?Cn((Lt.top-xt.top)/xt.height,0,1):Cn((Lt.left-xt.left)/xt.width,0,1);return Cn(b.value===!0?1-ao:ao,E.value,D.value)}const U=X(()=>av(a.markers)===!0?a.markers:S.value),ie=X(()=>{const Ze=[],xt=U.value,Lt=a.max;let ao=a.min;do Ze.push(ao),ao+=xt;while(ao<Lt);return Ze.push(Lt),Ze}),we=X(()=>{const Ze=` ${vD}${p.value}-`;return vD+`${Ze}${a.switchMarkerLabelsSide===!0?"switched":"standard"}${Ze}${b.value===!0?"rtl":"ltr"}`}),H=X(()=>a.markerLabels===!1?null:Y(a.markerLabels).map((Ze,xt)=>({index:xt,value:Ze.value,label:Ze.label||Ze.value,classes:we.value+(Ze.classes!==void 0?" "+Ze.classes:""),style:{...ne(Ze.value),...Ze.style||{}}}))),q=X(()=>({markerList:H.value,markerMap:oe.value,classes:we.value,getStyle:ne})),k=X(()=>{const Ze=M.value===0?"2px":100*U.value/M.value;return{...fe.value,backgroundSize:a.vertical===!0?`2px ${Ze}%`:`${Ze}% 2px`}});function Y(Ze){if(Ze===!1)return null;if(Ze===!0)return ie.value.map(iSe);if(typeof Ze=="function")return ie.value.map(Lt=>{const ao=Ze(Lt);return Ar(ao)===!0?{...ao,value:Lt}:{value:Lt,label:ao}});const xt=({value:Lt})=>Lt>=a.min&&Lt<=a.max;return Array.isArray(Ze)===!0?Ze.map(Lt=>Ar(Lt)===!0?Lt:{value:Lt}).filter(xt):Object.keys(Ze).map(Lt=>{const ao=Ze[Lt],ko=Number(Lt);return Ar(ao)===!0?{...ao,value:ko}:{value:ko,label:ao}}).filter(xt)}function ne(Ze){return{[P.value]:`${100*(Ze-a.min)/F.value}%`}}const oe=X(()=>{if(a.markerLabels===!1)return null;const Ze={};return H.value.forEach(xt=>{Ze[xt.value]=xt}),Ze});function Ce(){if(n["marker-label-group"]!==void 0)return n["marker-label-group"](q.value);const Ze=n["marker-label"]||nSe;return H.value.map(xt=>Ze({marker:xt,...q.value}))}const ve=X(()=>[[_r,Fe,void 0,{[z.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Fe(Ze){Ze.isFinal===!0?(f.value!==void 0&&(t(Ze.evt),Ze.touch===!0&&e(!0),f.value=void 0,i("pan","end")),c.value=!1,m.value=!1):Ze.isFirst===!0?(f.value=o(Ze.evt),t(Ze.evt),e(),c.value=!0,i("pan","start")):(t(Ze.evt),e())}function Le(){m.value=!1}function tt(Ze){t(Ze,o(Ze)),e(),d.value=!0,c.value=!0,document.addEventListener("mouseup",ot,!0)}function ot(){d.value=!1,c.value=!1,e(!0),Le(),document.removeEventListener("mouseup",ot,!0)}function It(Ze){t(Ze,o(Ze)),e(!0)}function Zt(Ze){KF.includes(Ze.keyCode)&&e(!0)}function vo(Ze){if(a.vertical===!0)return null;const xt=s.lang.rtl!==a.reverse?1-Ze:Ze;return{transform:`translateX(calc(${2*xt-1} * ${a.thumbSize} / 2 + ${50-100*xt}%))`}}function Go(Ze){const xt=X(()=>d.value===!1&&(m.value===Ze.focusValue||m.value==="both")?" q-slider--focus":""),Lt=X(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${b.value===!0?"rtl":"ltr"} absolute non-selectable`+xt.value+(Ze.thumbColor.value!==void 0?` text-${Ze.thumbColor.value}`:"")),ao=X(()=>({width:a.thumbSize,height:a.thumbSize,[P.value]:`${100*Ze.ratio.value}%`,zIndex:m.value===Ze.focusValue?2:void 0})),ko=X(()=>Ze.labelColor.value!==void 0?` text-${Ze.labelColor.value}`:""),Mr=X(()=>vo(Ze.ratio.value)),Oi=X(()=>"q-slider__text"+(Ze.labelTextColor.value!==void 0?` text-${Ze.labelTextColor.value}`:""));return()=>{const ns=[ee("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[ee("path",{d:a.thumbPath})]),ee("div",{class:"q-slider__focus-ring fit"})];return(a.label===!0||a.labelAlways===!0)&&(ns.push(ee("div",{class:re.value+" absolute fit no-pointer-events"+ko.value},[ee("div",{class:ye.value,style:{minWidth:a.thumbSize}},[ee("div",{class:ge.value,style:Mr.value},[ee("span",{class:Oi.value},Ze.label.value)])])])),a.name!==void 0&&a.disable!==!0&&u(ns,"push")),ee("div",{class:Lt.value,style:ao.value,...Ze.getNodeData()},ns)}}function Ta(Ze,xt,Lt,ao){const ko=[];a.innerTrackColor!=="transparent"&&ko.push(ee("div",{key:"inner",class:Me.value,style:fe.value})),a.selectionColor!=="transparent"&&ko.push(ee("div",{key:"selection",class:_e.value,style:Ze.value})),a.markers!==!1&&ko.push(ee("div",{key:"marker",class:Ee.value,style:k.value})),ao(ko);const Mr=[Sp("div",{key:"trackC",class:J.value,tabindex:xt.value,...Lt.value},[ee("div",{class:Oe.value,style:he.value},ko)],"slide",y.value,()=>ve.value)];if(a.markerLabels!==!1){const Oi=a.switchMarkerLabelsSide===!0?"unshift":"push";Mr[Oi](ee("div",{key:"markerL",class:De.value},Ce()))}return Mr}return wo(()=>{document.removeEventListener("mouseup",ot,!0)}),{state:{active:c,focus:m,preventFocus:d,dragging:f,editable:y,classes:j,tabindex:O,attributes:W,roundValueFn:I,keyStep:S,trackLen:F,innerMin:x,innerMinRatio:E,innerMax:_,innerMaxRatio:D,positionProp:P,sizeProp:N,isReversed:b},methods:{onActivate:tt,onMobileClick:It,onBlur:Le,onKeyup:Zt,getContent:Ta,getThumbRenderFn:Go,convertRatioToModel:G,convertModelToRatio:V,getDraggingRatio:L}}}const uSe=()=>({});var gD=At({name:"QSlider",props:{...sSe,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:lSe,setup(e,{emit:t}){const{proxy:{$q:o}}=Ct(),{state:r,methods:a}=cSe({updateValue:p,updatePosition:b,getDragging:g,formAttrs:s1e(e)}),i=$e(null),n=$e(0),s=$e(0);function l(){s.value=e.modelValue===null?r.innerMin.value:Cn(e.modelValue,r.innerMin.value,r.innerMax.value)}rt(()=>`${e.modelValue}|${r.innerMin.value}|${r.innerMax.value}`,l),l();const u=X(()=>a.convertModelToRatio(s.value)),c=X(()=>r.active.value===!0?n.value:u.value),d=X(()=>{const y={[r.positionProp.value]:`${100*r.innerMinRatio.value}%`,[r.sizeProp.value]:`${100*(c.value-r.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(y.backgroundImage=`url(${e.selectionImg}) !important`),y}),m=a.getThumbRenderFn({focusValue:!0,getNodeData:uSe,ratio:c,label:X(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:X(()=>e.thumbColor||e.color),labelColor:X(()=>e.labelColor),labelTextColor:X(()=>e.labelTextColor)}),f=X(()=>r.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:x,onBlur:a.onBlur,onKeydown:_,onKeyup:a.onKeyup});function p(y){s.value!==e.modelValue&&t("update:modelValue",s.value),y===!0&&t("change",s.value)}function g(){return i.value.getBoundingClientRect()}function b(y,I=r.dragging.value){const S=a.getDraggingRatio(y,I);s.value=a.convertRatioToModel(S),n.value=e.snap!==!0||e.step===0?S:a.convertModelToRatio(s.value)}function x(){r.focus.value=!0}function _(y){if(!KF.includes(y.keyCode))return;bo(y);const I=([34,33].includes(y.keyCode)?10:1)*r.keyStep.value,S=([34,37,40].includes(y.keyCode)?-1:1)*(r.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*I;s.value=Cn(r.roundValueFn.value(s.value+S),r.innerMin.value,r.innerMax.value),p()}return()=>{const y=a.getContent(d,r.tabindex,f,I=>{I.push(m())});return ee("div",{ref:i,class:r.classes.value+(e.modelValue===null?" q-slider--no-value":""),...r.attributes.value,"aria-valuenow":e.modelValue},y)}}});const dSe={computed:{sensorHorizontalCor(){return this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green"},sensorVerticalCor(){return this.sensor.vertical<85||this.sensor.vertical>95?"red":"green"},temFoto(){return this.dbPupilometro.foto!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"}},data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:90},zoom:3,camera:"environment",flashicon:"flash_off",orientation:{},capabilities:{},showModal:!1,cameras:[],selectedCamera:null}},emits:["mudarTela","upload"],methods:{zoomMais(){try{this.zoom+=this.capabilities.zoom.step,this.zoom>this.capabilities.zoom.max&&(this.zoom=this.capabilities.zoom.max),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(e){console.log("erro zoom + ",e)}},zoomMenos(){try{this.zoom-=this.capabilities.zoom.step,this.zoom<this.capabilities.zoom.min&&(this.zoom=this.capabilities.zoom.min),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(e){console.log("erro zoom + ",e)}},uploadClick(){this.$emit("mudarTela","TamanhoFoto"),this.$emit("upload")},async foto(){const e=this;e.flashicon==="flash_auto"&&(e.track.applyConstraints({advanced:[{torch:!0}]}),await new Promise(t=>setTimeout(t,1e3))),e.imageCapture.takePhoto().then(t=>{const o=document.createElement("canvas"),r=o.getContext("2d"),a=new Image;a.onload=()=>{o.width=a.naturalWidth,o.height=a.naturalHeight,r.drawImage(a,0,0,a.naturalWidth,a.naturalHeight),e.dbPupilometro.fotoOriginal=o.toDataURL()+"",e.$emit("mudarTela","TamanhoFoto"),e.flashicon==="flash_auto"&&e.track.applyConstraints({advanced:[{torch:!1}]})},a.src=URL.createObjectURL(t)}).catch(t=>console.error("takePhoto() failed: ",t))},flash(){switch(this.flashicon){case"flash_on":this.flashicon="flash_off",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_off":this.flashicon="flash_auto",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_auto":this.flashicon="flash_on",this.track.applyConstraints({advanced:[{torch:!0}]})}},avancar(){this.$emit("mudarTela","TamanhoFoto")},async trocarCamera(){function e(r=0){return new Promise(a=>setTimeout(a,r))}let t={};this.selectedCamera&&(t={audio:!1,video:{deviceId:{exact:this.selectedCamera},zoom:{ideal:3}}}),this.selectedCamera||(this.camera==="user"?this.camera="environment":this.camera="user",t={audio:!1,video:{facingMode:this.camera,zoom:{ideal:3}}});let o=document.getElementById("Foto");o||await new Promise(r=>{this.interval=setInterval(()=>{o=document.getElementById("Foto"),o&&(clearInterval(this.interval),r())},10)}),o.setAttribute("playsinline",""),o.setAttribute("autoplay",""),o.setAttribute("muted","");try{o.srcObject.getTracks().forEach(r=>r.stop())}catch{}navigator.mediaDevices.getUserMedia(t).then(async r=>{o.srcObject=r,await e(1e3),this.track=r.getVideoTracks()[0],this.capabilities=this.track.getCapabilities();const a=this.track.getSettings();this.zoom=a.zoom,this.imageCapture=new ImageCapture(this.track)})},getAvailableCameras(){navigator.mediaDevices.enumerateDevices().then(e=>{this.cameras=e.filter(t=>t.kind==="videoinput").map(t=>({label:t.label||`C\xE2mera ${this.cameras.length+1}`,deviceId:t.deviceId}))}).catch(e=>{console.error("Erro ao obter as c\xE2meras:",e)})},escolherCamera(e){this.selectedCamera=e,this.trocarCamera()},cancelModal(){this.showModal=!1,this.selectedCamera=null},resetCamera(){this.selectedCamera=null},async closeCamera(){await $utils.dormir(2e3),this.track&&this.track.stop(),this.$emit("mudarTela","Fim")}},mounted(){this.getAvailableCameras();try{window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",e=>{let t=0,o=0;window.orientation===90&&(o=parseInt(e.gamma),o=o<0?o*-1:180-Math.abs(o),o<91?t=parseInt(e.beta)*-1:(t=parseInt(e.beta)*-1,t=t>0?180-t:Math.abs(t)-180)),window.orientation===-90&&(t=parseInt(e.beta)*-1,o=parseInt(e.gamma),o=o<0?180+o:o,o<91?t=t===180?0:t:t=t>0?180-t:Math.abs(t)-180),window.orientation===0&&(o=parseInt(e.beta),o<91?t=parseInt(e.gamma)*-1:t=parseInt(e.gamma)),t>90&&(t=90),t<-90&&(t=-90),this.sensor.horizontal!==t&&(this.sensor.horizontal=t);let r=this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green";r==="red"&&(document.querySelector(".SensorHorizontal .q-slider__thumb").style.visibility="visible"),r==="green"&&(document.querySelector(".SensorHorizontal .q-slider__thumb").style.visibility="hidden"),o>180&&(o=180),o<63&&(o=63),this.sensor.vertical!==o&&(this.sensor.vertical=o),r=this.sensor.vertical<85||this.sensor.vertical>95?"red":"green",r==="red"&&(document.querySelector(".SensorVertical .q-slider__thumb").style.visibility="visible"),r==="green"&&(document.querySelector(".SensorVertical .q-slider__thumb").style.visibility="hidden")},!1)}catch{}this.trocarCamera()},beforeUnmount(){try{this.track.stop(),clearInterval(this.interval)}catch{}}},fSe={id:"pupilometroTirarFoto"},mSe={class:"container"},pSe={class:"texto"};function hSe(e,t,o,r,a,i){return $(),be("div",fSe,[A("div",mSe,[A("div",pSe,de(a.capabilities.height?a.capabilities.height.max:"")+"x"+de(a.capabilities.width?a.capabilities.width.max:"")+" ",1),A("video",{id:"Foto",class:"Video",onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,32),v(gD,{ref:"horizontal",class:"SensorHorizontal",color:i.sensorHorizontalCor,min:-90,max:90,modelValue:a.sensor.horizontal,"onUpdate:modelValue":t[1]||(t[1]=n=>a.sensor.horizontal=n)},null,8,["color","modelValue"]),v(Ve,{class:"remove_red_eye",name:"remove_red_eye",color:i.sensorHorizontalCor},null,8,["color"]),v(gD,{ref:"vertical",class:"SensorVertical",color:i.sensorVerticalCor,min:63,max:180,modelValue:a.sensor.vertical,"onUpdate:modelValue":t[2]||(t[2]=n=>a.sensor.vertical=n)},null,8,["color","modelValue"])]),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Tirar Foto")]),_:1}),v(pe,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:t[3]||(t[3]=n=>i.closeCamera())}),i.temFoto?($(),ue(pe,{key:0,flat:"",round:"",dense:"",icon:"fast_forward",onClick:i.avancar},null,8,["onClick"])):ce("",!0)]),_:1}),v(pe,{class:"BtUpload",onClick:i.uploadClick,color:"primary",size:"md",round:"",icon:"attachment"},null,8,["onClick"]),v(pe,{class:"BtTrocarCamera",color:"primary",size:"md",round:"",icon:"loop"},{default:w(()=>[v(Xa,{anchor:"top left",self:"bottom middle"},{default:w(()=>[($(!0),be(Qe,null,zt(a.cameras,(n,s)=>($(),ue(We,{clickable:"",key:s,onClick:l=>i.escolherCamera(n.deviceId)},{default:w(()=>[v(Ie,null,{default:w(()=>[te(de(n.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),v(pe,{ref:"BtFlash",class:"BtFlash",onClick:i.flash,color:"primary",size:"md",round:"",icon:a.flashicon},null,8,["onClick","icon"]),v(pe,{class:"ZoomMais",onClick:t[4]||(t[4]=n=>i.zoomMais()),color:"primary",size:"md",round:"",icon:"zoom_in"}),v(pe,{class:"ZoomMenos",onClick:t[5]||(t[5]=n=>i.zoomMenos()),color:"primary",size:"md",round:"",icon:"zoom_out"}),v(pe,{class:"BtFoto",onClick:t[6]||(t[6]=n=>i.foto()),color:"primary",size:"xl",round:"",icon:"camera"})])}var vSe=ht(dSe,[["render",hSe],["__scopeId","data-v-29ac0188"]]);const QF={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},gSe=new RegExp(`^([\\d+]+|${Object.keys(QF).join("|")})$`,"i");function _Se(e,t){const{top:o,left:r}=es(e);return Math.abs(r-t.left)>=7||Math.abs(o-t.top)>=7}var Rt=a0({name:"touch-repeat",beforeMount(e,{modifiers:t,value:o,arg:r}){const a=Object.keys(t).reduce((l,u)=>{if(gSe.test(u)===!0){const c=isNaN(parseInt(u,10))?QF[u.toLowerCase()]:parseInt(u,10);c>=0&&l.push(c)}return l},[]);if(t.mouse!==!0&&po.has.touch!==!0&&a.length===0)return;const i=typeof r=="string"&&r.length!==0?r.split(":").map(l=>parseInt(l,10)):[0,600,300],n=i.length-1,s={keyboard:a,handler:o,noop:Zn,mouseStart(l){s.event===void 0&&typeof s.handler=="function"&&lx(l)===!0&&(sr(s,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),s.start(l,!0))},keyboardStart(l){if(typeof s.handler=="function"&&En(l,a)===!0){if((i[0]===0||s.event!==void 0)&&(bo(l),e.focus(),s.event!==void 0))return;sr(s,"temp",[[document,"keyup","end","notPassiveCapture"],[document,"click","end","notPassiveCapture"]]),s.start(l,!1,!0)}},touchStart(l){if(l.target!==void 0&&typeof s.handler=="function"){const u=l.target;sr(s,"temp",[[u,"touchmove","move","passiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),s.start(l)}},start(l,u,c){c!==!0&&(s.origin=es(l));function d(f){s.styleCleanup=void 0,document.documentElement.style.cursor="";const p=()=>{document.body.classList.remove("non-selectable")};f===!0?(uc(),setTimeout(p,10)):p()}po.is.mobile===!0&&(document.body.classList.add("non-selectable"),uc(),s.styleCleanup=d),s.event={touch:u!==!0&&c!==!0,mouse:u===!0,keyboard:c===!0,startTime:Date.now(),repeatCount:0};const m=()=>{if(s.timer=void 0,s.event===void 0)return;s.event.repeatCount===0&&(s.event.evt=l,c===!0?s.event.keyCode=l.keyCode:s.event.position=es(l),po.is.mobile!==!0&&(document.documentElement.style.cursor="pointer",document.body.classList.add("non-selectable"),uc(),s.styleCleanup=d)),s.event.duration=Date.now()-s.event.startTime,s.event.repeatCount+=1,s.handler(s.event);const f=n<s.event.repeatCount?n:s.event.repeatCount;s.timer=setTimeout(m,i[f])};i[0]===0?m():s.timer=setTimeout(m,i[0])},move(l){s.event!==void 0&&s.timer!==void 0&&_Se(l,s.origin)===!0&&(clearTimeout(s.timer),s.timer=void 0)},end(l){s.event!==void 0&&(s.styleCleanup!==void 0&&s.styleCleanup(!0),l!==void 0&&s.event.repeatCount>0&&bo(l),Qi(s,"temp"),s.timer!==void 0&&(clearTimeout(s.timer),s.timer=void 0),s.event=void 0)}};if(e.__qtouchrepeat=s,t.mouse===!0){const l=t.mouseCapture===!0||t.mousecapture===!0?"Capture":"";sr(s,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}if(po.has.touch===!0&&sr(s,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchend","noop","passiveCapture"]]),a.length!==0){const l=t.keyCapture===!0||t.keycapture===!0?"Capture":"";sr(s,"main",[[e,"keydown","keyboardStart",`notPassive${l}`]])}},updated(e,{oldValue:t,value:o}){const r=e.__qtouchrepeat;r!==void 0&&t!==o&&(typeof o!="function"&&r.end(),r.handler=o)},beforeUnmount(e){const t=e.__qtouchrepeat;t!==void 0&&(t.timer!==void 0&&clearTimeout(t.timer),Qi(t,"main"),Qi(t,"temp"),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchrepeat)}});const bSe={data(){return{dbPupilometro:$db.pupilometro,foto:{},fotoFator:1,tipoRosto:1,sensor:{horizontal:0,vertical:0},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},watch:{"dbPupilometro.fotoOriginal":function(){this.mudaCentralizaFoto()}},emits:["mudarTela"],methods:{touch(e){const t=this.$refs.foto;let o=0;try{o=e.evt.touches.length}catch{}if(this.qtde=o,console.log(o),this.pinca.scaling||o!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(t.style.left=parseFloat(t.style.left)+e.delta.x+"px",t.style.top=parseFloat(t.style.top)+e.delta.y+"px"),!this.pinca.scaling&&o===2){const r=this.distancia;r.x1i=e.evt.touches[0].pageX,r.y1i=e.evt.touches[0].pageY,r.x2i=e.evt.touches[1].pageX,r.y2i=e.evt.touches[1].pageY,r.distanciaInicial=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.width=parseFloat(t.style.width),this.pinca.height=parseFloat(t.style.height),this.pinca.top=parseFloat(t.style.top),this.pinca.left=parseFloat(t.style.left),this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.scaling=!0,console.log("touchstart")}if(this.pinca.scaling&&o===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&o===2)try{const r=e.evt,a=Math.hypot(r.touches[0].pageX-r.touches[1].pageX,r.touches[0].pageY-r.touches[1].pageY)-this.pinca.zoom,i=this.$refs.foto;i.style.width=this.pinca.width+a+"px",i.style.height=this.pinca.height+a*this.fotoFator+"px",i.style.top=this.pinca.top-a/2*this.fotoFator+"px",i.style.left=this.pinca.left-a/2+"px"}catch(r){console.log(r)}},zoomMais(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)+2+"px",e.style.height=parseFloat(e.style.height)+2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)-1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)-1+"px"},zoomMenos(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)-2+"px",e.style.height=parseFloat(e.style.height)-2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)+1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},uploadClick(){this.$refs.Upload.click()},abrirFoto(e){const t=this.$refs.Upload.files;if(FileReader&&t&&t.length){var o=new FileReader;o.onload=()=>{this.dbPupilometro.fotoOriginal=o.result},o.readAsDataURL(t[0])}},mudaCentralizaFoto(){const e=this.$refs.quadro,t={top:parseInt(e.style.top),left:parseInt(e.style.left),width:parseInt(e.style.width),height:parseInt(e.style.height)},o=this.$refs.foto,r=new Image,a=this;r.onload=()=>{let i=r.width,n=r.height,s=1.001;r.width>r.height?s=t.width/r.height:s=t.width/r.width,i=parseInt(i*s),n=parseInt(n*s),o.style.top=(t.height-n)/2+t.top+"px",o.style.left=(t.width-i)/2+t.left+"px",o.style.width=i+"px",o.style.height=n+"px",a.fotoFator=r.height/r.width},r.src=this.dbPupilometro.fotoOriginal},btProximo(){const e=document.createElement("canvas"),t=e.getContext("2d"),o=this.$refs.foto;e.width=1200,e.height=1200;const r={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},a={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},i={left:a.left-r.left,top:a.top-r.top};t.drawImage(o,i.left/r.width*r.naturalWidth,i.top/r.height*r.naturalHeight,a.width/r.width*r.naturalWidth,a.height/r.height*r.naturalHeight,0,0,1200,1200),this.dbPupilometro.foto=e.toDataURL()+"",this.$emit("mudarTela","TamanhoArmacao")},btAnterior(){this.$emit("mudarTela","TirarFoto")},redimensiona(){const e=this.$refs.quadro,t=document.body.clientWidth-20,o=window.innerHeight-100-20;t>o?e.style.height=o+"px":e.style.height=t+"px",e.style.width=e.style.height,e.style.top=(window.innerHeight-parseInt(e.style.height)-20)/2+"px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px";const r=document.getElementsByClassName("rosto");for(const a of r)a.style.position="absolute",a.style.top=e.style.top,a.style.left=e.style.left,a.style.width=e.style.width,a.style.height=e.style.height}},mounted(){this.redimensiona();const e=this.$refs.quadro,t=this.$refs.foto;t.style.top=e.style.top,t.style.left=e.style.left,t.style.width=e.style.width,t.style.height=e.style.height}},Yu=e=>(An("data-v-3e3e1128"),e=e(),Tn(),e),ySe={id:"telaTamanhoFoto"},CSe=["src"],xSe={class:"quadro",ref:"quadro"},wSe={key:0,class:"rosto",viewBox:"0 0 300 420"},ISe=Yu(()=>A("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,-1)),ESe=[ISe],SSe={key:1,class:"rosto",viewBox:"0 0 300 420"},ASe=Yu(()=>A("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},null,-1)),TSe=[ASe],OSe={key:2,class:"rosto",viewBox:"0 0 300 420"},DSe=Yu(()=>A("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,-1)),PSe=[DSe],MSe={key:3,class:"btRosto",viewBox:"0 0 300 420"},NSe=Yu(()=>A("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:`M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1
          C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6
          c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6
          v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z`},null,-1)),FSe=[NSe],RSe={key:4,class:"btRosto",viewBox:"0 0 300 420"},kSe=Yu(()=>A("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,-1)),VSe=[kSe],qSe={class:"ZonaTouch"},BSe=Yu(()=>A("div",{class:"BaseBotoes"},null,-1)),LSe=Yu(()=>A("div",{class:"btsTipoRosto"},null,-1));function $Se(e,t,o,r,a,i){return $(),be("div",ySe,[v(ni,{onResize:i.redimensiona},null,8,["onResize"]),A("img",{class:"Foto",ref:"foto",src:a.dbPupilometro.fotoOriginal,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,CSe),A("div",xSe,null,512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Tratamento Foto")]),_:1}),v(pe,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:i.btAnterior},null,8,["onClick"]),v(pe,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:i.btProximo},null,8,["onClick"])]),_:1}),A("div",null,[a.tipoRosto===1?($(),be("svg",wSe,ESe)):ce("",!0),a.tipoRosto===2?($(),be("svg",SSe,TSe)):ce("",!0),a.tipoRosto===3?($(),be("svg",OSe,PSe)):ce("",!0),a.tipoRosto===4?($(),be("svg",MSe,FSe)):ce("",!0),a.tipoRosto===5?($(),be("svg",RSe,VSe)):ce("",!0)]),v(pe,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onClick:i.uploadClick,onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,8,["onClick"]),Te(v(pe,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:t[3]||(t[3]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),Te(A("div",qSe,null,512),[[_r,i.touch,void 0,{prevent:!0,mouse:!0}]]),BSe,Te(v(pe,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[4]||(t[4]=st(()=>{},["prevent"]))},null,512),[[Rt,i.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[5]||(t[5]=st(()=>{},["prevent"]))},null,512),[[Rt,i.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[6]||(t[6]=st(()=>{},["prevent"]))},null,512),[[Rt,i.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[7]||(t[7]=st(()=>{},["prevent"]))},null,512),[[Rt,i.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]]),A("input",{ref:"Upload",type:"file",id:"Upload",onChange:t[8]||(t[8]=(...n)=>i.abrirFoto&&i.abrirFoto(...n)),style:{visibility:"hidden"}},null,544),LSe])}var USe=ht(bSe,[["render",$Se],["__scopeId","data-v-3e3e1128"]]);const zSe={components:{},data(){return{dbPupilometro:$db.pupilometro}},emits:["mudarTela"],methods:{btProximo(){this.$emit("mudarTela","Olho")},btAnterior(){this.$emit("mudarTela","TamanhoFoto")},redimensiona(){const e=this.$refs.foto;e.style.position="absolute";const t=document.body.clientWidth-20,o=window.innerHeight-120-20;t>o?e.style.height=o+"px":e.style.height=t+"px",e.style.width=e.style.height,e.style.top="50.5px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px"}}},HSe=["src"];function jSe(e,t,o,r,a,i){const n=ke("campo");return $(),be("div",null,[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Tamanho Arma\xE7\xE3o")]),_:1}),v(n,{modelValue:a.dbPupilometro.medidas.tamanhoArmacao,"onUpdate:modelValue":t[0]||(t[0]=s=>a.dbPupilometro.medidas.tamanhoArmacao=s),tipo:"decimal",decimals:"2",suffix:"mm",color:"white","label-color":"white",dark:"",dense:"",class:"q-mr-md",style:{"max-width":"90px"}},null,8,["modelValue"]),v(pe,{onClick:i.btAnterior,icon:"fast_rewind",round:"",flat:"",dense:""},null,8,["onClick"]),v(pe,{onClick:i.btProximo,icon:"fast_forward",round:"",flat:"",dense:""},null,8,["onClick"])]),_:1}),A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.foto,onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,40,HSe),v(ni,{onResize:i.redimensiona},null,8,["onResize"])])}var GSe=ht(zSe,[["render",jSe]]);const WSe={data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:2,pinca:{scaling:!1},qtde:0}},computed:{titulo(){const e=[];return e[1]="Olho Direito",e[2]="Olho Direito",e[3]="Centro Olho Direito",e[4]="Olho Esquerdo",e[5]="Olho Esquerdo",e[6]="Centro Olho Esquerdo",e[this.passo]}},emits:["mudarTela"],methods:{sleep(e=0){return new Promise(t=>setTimeout(t,e))},desenha(){const e=this.$refs.quadro;let t=`scale(${this.zoom})`;[1,2,3].indexOf(this.passo)!==-1?t+=" translateX(15%)":t+=" translateX(-15%)",e.style.transform=t},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+e.delta.x/this.zoom+"px",this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+e.delta.y/this.zoom+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.desenha()}catch{}},btProximo(){if(this.passo>=1&&this.passo<=5){this.passo+=1,this.desenha();return}this.passo===6&&(this.dbPupilometro.medidas.olhoDireito={...this.dbPupilometro.medidas.olhoDireito,superior:{top:parseFloat(this.$refs.p1.style.top),left:parseFloat(this.$refs.p1.style.left)},centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)},inferior:{top:parseFloat(this.$refs.p2.style.top),left:parseFloat(this.$refs.p2.style.left)}},this.dbPupilometro.medidas.olhoEsquerdo={...this.dbPupilometro.medidas.olhoEsquerdo,superior:{top:parseFloat(this.$refs.p5.style.top),left:parseFloat(this.$refs.p5.style.left)},centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)},inferior:{top:parseFloat(this.$refs.p4.style.top),left:parseFloat(this.$refs.p4.style.left)}},this.dbPupilometro.medidas.diagonal.p1.left===0&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left,this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top,this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left,this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top),this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Diagonal"))},btAnterior(){if(this.passo===1){this.$emit("mudarTela","TamanhoArmacao");return}this.passo>=2&&this.passo<=6&&(this.passo-=1,this.desenha())},moveu(e){const t=this.$refs["p"+this.passo];if(e==="up"){let o=parseFloat(t.style.top)-1;o<0&&(o=0),t.style.top=o+"px"}if(e==="down"&&(this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+1+"px"),e==="left"){let o=parseFloat(t.style.left)-1;o<0&&(o=0),t.style.left=o+"px"}e==="right"&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+1+"px")},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const t=document.body.clientWidth-20,o=window.innerHeight-60-20;t>o?this.zoom=o/1200:this.zoom=t/1200,this.zoom=this.zoom*2,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const e=this.dbPupilometro.medidas;this.$refs.p1.style.top=e.olhoDireito.superior.top+"px",this.$refs.p1.style.left=e.olhoDireito.superior.left+"px",this.$refs.p3.style.top=e.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.p2.style.top=e.olhoDireito.inferior.top+"px",this.$refs.p2.style.left=e.olhoDireito.inferior.left+"px",this.$refs.p5.style.top=e.olhoEsquerdo.superior.top+"px",this.$refs.p5.style.left=e.olhoEsquerdo.superior.left+"px",this.$refs.p6.style.top=e.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.p4.style.top=e.olhoEsquerdo.inferior.top+"px",this.$refs.p4.style.left=e.olhoEsquerdo.inferior.left+"px",this.redimensiona()}},XSe=e=>(An("data-v-2ed08f51"),e=e(),Tn(),e),YSe={id:"telaOlho"},KSe={ref:"quadro"},QSe=["src"],JSe={ref:"p1",id:"p1"},ZSe={ref:"p2",id:"p2"},eAe={ref:"p3",id:"p3"},tAe={ref:"p4",id:"p4"},oAe={ref:"p5",id:"p5"},aAe={ref:"p6",id:"p6"},rAe={class:"ZonaTouch"},iAe=XSe(()=>A("div",{class:"BaseBotoes"},null,-1));function nAe(e,t,o,r,a,i){return $(),be("div",YSe,[A("div",KSe,[A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,QSe),Te(A("div",JSe,null,512),[[Io,a.passo===1]]),Te(A("div",ZSe,null,512),[[Io,a.passo===2]]),Te(A("div",eAe,null,512),[[Io,a.passo===3]]),Te(A("div",tAe,null,512),[[Io,a.passo===4]]),Te(A("div",oAe,null,512),[[Io,a.passo===5]]),Te(A("div",aAe,null,512),[[Io,a.passo===6]])],512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te(de(i.titulo),1)]),_:1}),v(pe,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:i.btAnterior},null,8,["onClick"]),v(pe,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:i.btProximo},null,8,["onClick"])]),_:1}),Te(v(pe,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(A("div",rAe,null,512),[[_r,i.touch,void 0,{prevent:!0,mouse:!0}]]),iAe,Te(v(pe,{class:"BtUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[3]||(t[3]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[4]||(t[4]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[5]||(t[5]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[6]||(t[6]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),v(ni,{onResize:i.centralizaQuadroTela},null,8,["onResize"])])}var sAe=ht(WSe,[["render",nAe],["__scopeId","data-v-2ed08f51"]]);const lAe={data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:.87,pinca:{scaling:!1},linhaDiagonal:{x1:0,y1:0,x2:0,y2:0}}},emits:["mudarTela"],methods:{desenha(){const e=this.dbPupilometro.medidas;e.diagonal.distanciapx=Math.hypot(Math.abs(e.diagonal.p2.left-e.diagonal.p1.left),Math.abs(e.diagonal.p1.top-e.diagonal.p2.top)),e.diagonal.distancia=e.diagonal.distanciapx/e.fator,this.$refs.p1.style.top=e.diagonal.p1.top+"px",this.$refs.p1.style.left=e.diagonal.p1.left+"px",this.$refs.p2.style.top=e.diagonal.p2.top+"px",this.$refs.p2.style.left=e.diagonal.p2.left+"px",this.$refs.p2.style.height=e.diagonal.distanciapx+"px";const t=this.$refs.quadro;let o=`scale(${this.zoom.toFixed(2)})`;t.style.transform=o,this.linhaDiagonal.x1=e.diagonal.p1.left,this.linhaDiagonal.y1=e.diagonal.p1.top,this.linhaDiagonal.x2=e.diagonal.p2.left,this.linhaDiagonal.y2=e.diagonal.p2.top},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},touchP(e,t){let o=0;try{o=e.evt.touches.length}catch{}this.pinca.scaling||o!==2&&(this.dbPupilometro.medidas.diagonal[t].top=this.dbPupilometro.medidas.diagonal[t].top+e.delta.y/this.zoom,this.dbPupilometro.medidas.diagonal[t].left=this.dbPupilometro.medidas.diagonal[t].left+e.delta.x/this.zoom,this.desenha())},touchP1(e){this.touchP(e,"p1")},touchP2(e){this.touchP(e,"p2")},btProximo(){this.dbPupilometro.calcularDistancias(),this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Olho")},moveu(e){e==="Bt1Up"&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top-1),e==="Bt1Down"&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top+1),e==="Bt1Left"&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left-1),e==="Bt1Right"&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left+1),e==="Bt2Up"&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top-1),e==="Bt2Down"&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top+1),e==="Bt2Left"&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left-1),e==="Bt2Right"&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left+1),this.desenha()},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const t=document.body.clientWidth-20,o=window.innerHeight-60-20;t>o?this.zoom=o/600:this.zoom=t/600,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left="-500px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const e=this.$refs.quadro;this.$refs.svgDiagonal.style.position="absolute",this.$refs.svgDiagonal.style.top=0,this.$refs.svgDiagonal.style.left=0,this.$refs.svgDiagonal.style.width=e.style.width,this.$refs.svgDiagonal.style.height=e.style.height,this.redimensiona()}},cAe={id:"telaBifocal"},uAe={ref:"quadro"},dAe=["src"],fAe={ref:"svgDiagonal",class:"svgDiagonal"},mAe=["x1","y1","x2","y2"],pAe={ref:"p2",id:"p2",class:"text-primary"},hAe={ref:"p1",id:"p1",class:"text-primary"};function vAe(e,t,o,r,a,i){return $(),be("div",cAe,[A("div",uAe,[A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,dAe),Te(($(),be("svg",fAe,[A("line",{stroke:"#0397ef","stroke-width":"5",x1:a.linhaDiagonal.x1,y1:a.linhaDiagonal.y1,x2:a.linhaDiagonal.x2,y2:a.linhaDiagonal.y2},null,8,mAe)])),[[_r,i.touch,void 0,{prevent:!0,mouse:!0}]]),A("div",pAe,[Te(v(Ve,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[_r,i.touchP2,void 0,{prevent:!0,mouse:!0}]])],512),A("div",hAe,[Te(v(Ve,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[_r,i.touchP1,void 0,{prevent:!0,mouse:!0}]]),A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.diagonal.distancia,2))+" mm",1)],512)],512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Diagonal")]),_:1}),v(pe,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:i.btAnterior},null,8,["onClick"]),v(pe,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:i.btProximo},null,8,["onClick"])]),_:1}),Te(v(pe,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt1Up",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[3]||(t[3]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt1Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt1Down",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[4]||(t[4]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt1Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt1Left",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[5]||(t[5]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt1Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt1Right",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[6]||(t[6]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt1Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt2Up",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[7]||(t[7]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt2Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt2Down",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[8]||(t[8]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt2Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt2Left",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[9]||(t[9]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt2Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt2Right",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[10]||(t[10]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt2Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),v(ni,{onResize:i.centralizaQuadroTela},null,8,["onResize"])])}var gAe=ht(lAe,[["render",vAe],["__scopeId","data-v-57cfe529"]]);const _Ae={data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:1.6,pinca:{scaling:!1}}},emits:["mudarTela"],methods:{sleep(e=0){return new Promise(t=>setTimeout(t,e))},desenha(){const e=this.dbPupilometro.medidas;this.$refs.odbifocal.style.height=e.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=e.olhoDireito.inferior.top-e.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.bifocalAltura+"px";const t=this.$refs.quadro;let o=`scale(${this.zoom.toFixed(2)})`;t.style.transform=o},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},btProximo(){this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Diagonal")},moveu(e){e==="od-up"&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura+1,this.desenha()),e==="od-down"&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura-1,this.desenha()),e==="oe-up"&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura+1,this.desenha()),e==="oe-down"&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura-1,this.desenha())},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const t=document.body.clientWidth-20,o=window.innerHeight-60-20;t>o?this.zoom=o/1200:this.zoom=t/1200,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},Qf=e=>(An("data-v-48acd8e4"),e=e(),Tn(),e),bAe={id:"telaBifocal"},yAe={ref:"quadro"},CAe=["src"],xAe={ref:"p1",id:"p1"},wAe={ref:"p2",id:"p2"},IAe={ref:"odbifocal",id:"odbifocal"},EAe=Qf(()=>A("div",null,null,-1)),SAe=Qf(()=>A("div",null,null,-1)),AAe=Qf(()=>A("div",null,null,-1)),TAe=[EAe,SAe,AAe],OAe={ref:"oebifocal",id:"oebifocal"},DAe=Qf(()=>A("div",null,null,-1)),PAe=Qf(()=>A("div",null,null,-1)),MAe=Qf(()=>A("div",null,null,-1)),NAe=[DAe,PAe,MAe];function FAe(e,t,o,r,a,i){return $(),be("div",bAe,[A("div",yAe,[Te(A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,CAe),[[_r,i.touch,void 0,{prevent:!0,mouse:!0}]]),Te(A("div",xAe,null,512),[[Io,a.passo===1]]),Te(A("div",wAe,null,512),[[Io,a.passo===2]]),A("div",IAe,TAe,512),A("div",OAe,NAe,512)],512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Bifocal")]),_:1}),v(pe,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:i.btAnterior},null,8,["onClick"]),v(pe,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:i.btProximo},null,8,["onClick"])]),_:1}),Te(v(pe,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtOdUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[3]||(t[3]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("od-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtOdDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[4]||(t[4]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("od-down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtOeUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[5]||(t[5]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("oe-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtOeDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[6]||(t[6]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("oe-down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),v(ni,{onResize:i.centralizaQuadroTela},null,8,["onResize"])])}var RAe=ht(_Ae,[["render",FAe],["__scopeId","data-v-48acd8e4"]]);const kAe={data(){return{dbPupilometro:$db.pupilometro,foto:"",isDown:!1,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}},watch:{"dbPupilometro.medidas.bifocal":function(){this.dbPupilometro.medidas.bifocal&&!this.somenteLeitura&&this.$emit("mudarTela","Bifocal")}},emits:["mudarTela"],methods:{desenha(){try{const e=this.dbPupilometro.medidas;this.$refs.ods.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+"px",this.$refs.ods.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.odi.style.top=this.dbPupilometro.medidas.olhoDireito.inferior.top+"px",this.$refs.odi.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odc.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odc.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.oes.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top+"px",this.$refs.oes.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left+"px",this.$refs.oei.style.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top+"px",this.$refs.oei.style.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left+"px",this.$refs.oec.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oec.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+"px",this.$refs.tamanhoarmacao.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-120+"px",this.$refs.tamanhoarmacao.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.tamanhoarmacao.style.width=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.diptotal.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-80+"px",this.$refs.diptotal.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left-this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-40+"px",this.$refs.dnpOd.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=e.tamanhoArmacaoPx/2-(e.olhoDireito.centroOlho.left-e.olhoDireito.superior.left)+"px",this.$refs.dnpOe.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top-40+"px",this.$refs.dnpOe.style.width=this.dbPupilometro.medidas.tamanhoArmacaoPx/2-(e.olhoEsquerdo.superior.left-e.olhoEsquerdo.centroOlho.left)+"px",this.$refs.dnpOe.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.tamanhoArmacaoPx/2+"px",this.$refs.ponte.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+30+"px",this.$refs.ponte.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.ponte.style.width=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left-this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odaltura.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odaltura.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left-60+"px",this.$refs.odaltura.style.height=this.dbPupilometro.medidas.olhoDireito.inferior.top-this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.oealtura.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oealtura.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+60+"px",this.$refs.oealtura.style.height=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top-this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.odbifocal.style.height=e.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=e.olhoDireito.inferior.top-e.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oddiagonal.style.height=e.diagonal.distanciapx+"px",this.$refs.oddiagonal.style.left=e.diagonal.p2.left+"px",this.$refs.oddiagonal.style.top=e.diagonal.p2.top+"px";let t=e.diagonal.p2.left-e.diagonal.p1.left;t=Math.asin(t/e.diagonal.distanciapx)*(180/Math.PI),this.$refs.oddiagonal.style.transform=`rotate(${t}deg)`,this.$refs.oddiagonal.style["transform-origin"]="0% 0%",document.querySelector("#oddiagonal div:nth-child(1)").style.transform=`rotate(-${t}deg)`;const o=this.$refs.quadro;let r=`scale(${this.zoom.toFixed(2)})`;o.style.transform=r}catch(e){console.log(e)}},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const t={clientWidth:document.body.clientWidth,clientHeight:window.innerHeight};if(JSON.stringify(this.tela)!==JSON.stringify(t)){this.tela=t;const o=document.body.clientWidth-20,r=window.innerHeight-60-20;o>r?this.zoom=r/1200:this.zoom=o/1200}e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},zoomMais(){this.zoom+=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},zoomMenos(){this.zoom-=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},btBifocal(){this.dbPupilometro.medidas.bifocal=!this.dbPupilometro.medidas.bifocal,this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},btProximo(){this.$emit("mudarTela","Contato")},btAnterior(){this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Diagonal")}},props:{somenteLeitura:Boolean},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},or=e=>(An("data-v-213bf598"),e=e(),Tn(),e),VAe={id:"telaMedidas"},qAe={ref:"quadro",class:"Quadro"},BAe=["src"],LAe={ref:"ods",id:"ods"},$Ae={ref:"odi",id:"odi"},UAe={ref:"odc",id:"odc"},zAe={ref:"oei",id:"oei"},HAe={ref:"oes",id:"oes"},jAe={ref:"oec",id:"oec"},GAe={ref:"tamanhoarmacao",id:"tamanhoarmacao"},WAe=or(()=>A("div",null,null,-1)),XAe=or(()=>A("div",null,null,-1)),YAe={ref:"ponte",id:"ponte"},KAe=or(()=>A("div",null,null,-1)),QAe=or(()=>A("div",null,null,-1)),JAe={ref:"diptotal",id:"diptotal"},ZAe=or(()=>A("div",null,null,-1)),eTe=or(()=>A("div",null,null,-1)),tTe={ref:"dnpOd",id:"dnpOd",class:"medidaHorizontal"},oTe=or(()=>A("div",null,null,-1)),aTe=or(()=>A("div",null,null,-1)),rTe={ref:"dnpOe",id:"dnpOe",class:"medidaHorizontal"},iTe=or(()=>A("div",null,null,-1)),nTe=or(()=>A("div",null,null,-1)),sTe={ref:"odaltura",id:"odaltura"},lTe=or(()=>A("div",null,null,-1)),cTe=or(()=>A("div",null,null,-1)),uTe={ref:"oealtura",id:"oealtura"},dTe=or(()=>A("div",null,null,-1)),fTe=or(()=>A("div",null,null,-1)),mTe={ref:"odbifocal",id:"odbifocal"},pTe=or(()=>A("div",null,null,-1)),hTe=or(()=>A("div",null,null,-1)),vTe={ref:"oebifocal",id:"oebifocal"},gTe=or(()=>A("div",null,null,-1)),_Te=or(()=>A("div",null,null,-1)),bTe={ref:"oddiagonal",id:"oddiagonal",class:"medidaVerticalAzul"},yTe=or(()=>A("div",null,null,-1)),CTe=or(()=>A("div",null,null,-1));function xTe(e,t,o,r,a,i){return $(),be("div",VAe,[A("div",qAe,[Te(A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,BAe),[[_r,i.touch,void 0,{prevent:!0,stop:!0,mouse:!0}]]),A("div",LAe,null,512),A("div",$Ae,null,512),A("div",UAe,null,512),A("div",zAe,null,512),A("div",HAe,null,512),A("div",jAe,null,512),A("div",GAe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.tamanhoArmacao,2)),1),WAe,XAe],512),A("div",YAe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.ponte,2)),1),KAe,QAe],512),A("div",JAe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.dip.total,2)),1),ZAe,eTe],512),A("div",tTe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.dnp.od,2)),1),oTe,aTe],512),A("div",rTe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.dnp.oe,2)),1),iTe,nTe],512),A("div",sTe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.dip.od.altura,2)),1),lTe,cTe],512),A("div",uTe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.dip.oe.altura,2)),1),dTe,fTe],512),Te(A("div",mTe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.bifocalOlhoDireito,2)),1),pTe,hTe],512),[[Io,a.dbPupilometro.medidas.bifocal]]),Te(A("div",vTe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.bifocalOlhoEsquerdo,2)),1),gTe,_Te],512),[[Io,a.dbPupilometro.medidas.bifocal]]),A("div",bTe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.diagonal.distancia,2)),1),yTe,CTe],512)],512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Medidas")]),_:1}),Te(v(pe,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:i.btAnterior},null,8,["onClick"]),[[Io,!o.somenteLeitura]]),v(pe,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:i.btProximo},null,8,["onClick"])]),_:1}),Te(v(pe,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bifocal",label:"Bifocal",color:"primary",onClick:i.btBifocal,onContextmenu:t[3]||(t[3]=st(()=>{},["prevent"]))},null,8,["onClick"]),[[Io,!o.somenteLeitura]]),v(ni,{onResize:i.centralizaQuadroTela},null,8,["onResize"])])}var wTe=ht(kAe,[["render",xTe],["__scopeId","data-v-213bf598"]]);const ITe={data(){return{dbPupilometro:$db.pupilometro}},emits:["mudarTela"],methods:{btProximo(){this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Medidas")}}};function ETe(e,t,o,r,a,i){return $(),be("div",null,[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Palpebra")]),_:1}),v(pe,{flat:"",round:"",dense:"",icon:"fast_rewind",onClick:i.btAnterior},null,8,["onClick"]),v(pe,{flat:"",round:"",dense:"",icon:"fast_forward",onClick:i.btProximo},null,8,["onClick"])]),_:1}),A("pre",null,de(JSON.stringify(a.dbPupilometro.medidas,null,2)),1)])}var STe=ht(ITe,[["render",ETe]]);const ATe={data(){return{dbPupilometro:$db.pupilometro,fotoFator:1,zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},emits:["mudarTela"],methods:{touch(e){const t=this.$refs.foto;let o=0;try{o=e.evt.touches.length}catch{}if(this.qtde=o,this.pinca.scaling||o!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(t.style.left=parseFloat(t.style.left)+e.delta.x+"px",t.style.top=parseFloat(t.style.top)+e.delta.y+"px"),!this.pinca.scaling&&o===2){const r=this.distancia;r.x1i=e.evt.touches[0].pageX,r.y1i=e.evt.touches[0].pageY,r.x2i=e.evt.touches[1].pageX,r.y2i=e.evt.touches[1].pageY,r.distanciaInicial=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.width=parseFloat(t.style.width),this.pinca.height=parseFloat(t.style.height),this.pinca.top=parseFloat(t.style.top),this.pinca.left=parseFloat(t.style.left),this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.scaling=!0,console.log("touchstart")}if(this.pinca.scaling&&o===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&o===2)try{const r=e.evt,a=Math.hypot(r.touches[0].pageX-r.touches[1].pageX,r.touches[0].pageY-r.touches[1].pageY)-this.pinca.zoom,i=this.$refs.foto;i.style.width=this.pinca.width+a+"px",i.style.height=this.pinca.height+a*this.fotoFator+"px",i.style.top=this.pinca.top-a/2*this.fotoFator+"px",i.style.left=this.pinca.left-a/2+"px"}catch(r){console.log(r)}},zoomMais(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)+2+"px",e.style.height=parseFloat(e.style.height)+2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)-1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)-1+"px"},zoomMenos(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)-2+"px",e.style.height=parseFloat(e.style.height)-2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)+1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},uploadClick(){this.$refs.Upload.click()},abrirFoto(e){const t=this.$refs.Upload.files;if(FileReader&&t&&t.length){var o=new FileReader;o.onload=()=>{this.dbPupilometro.fotoOriginal=o.result,this.mudaCentralizaFoto()},o.readAsDataURL(t[0])}},mudaCentralizaFoto(){const e=this.$refs.quadro,t={top:parseInt(e.style.top),left:parseInt(e.style.left),width:parseInt(e.style.width),height:parseInt(e.style.height)},o=this.$refs.foto,r=new Image,a=this;r.onload=()=>{let i=r.width,n=r.height,s=1.001;r.width>r.height?s=t.width/r.height:s=t.width/r.width,i=parseInt(i*s),n=parseInt(n*s),o.style.top=(t.height-n)/2+t.top+"px",o.style.left=(t.width-i)/2+t.left+"px",o.style.width=i+"px",o.style.height=n+"px",a.fotoFator=r.height/r.width},r.src=$db.pupilometro.fotoOriginal},btProximo(){const e=document.createElement("canvas"),t=e.getContext("2d"),o=this.$refs.foto;e.width=720,e.height=960;const r={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},a={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},i={left:a.left-r.left,top:a.top-r.top};t.drawImage(o,i.left/r.width*r.naturalWidth,i.top/r.height*r.naturalHeight,a.width/r.width*r.naturalWidth,a.height/r.height*r.naturalHeight,0,0,720,960),$db.pupilometro.foto=e.toDataURL()+"",$db.pupilometro.medidas.cartao.p1.left===0&&($db.pupilometro.medidas.cartao.p1.left=720/2-720/4,$db.pupilometro.medidas.cartao.p1.top=960/10*8,$db.pupilometro.medidas.cartao.p2.left=720/2+720/4,$db.pupilometro.medidas.cartao.p2.top=960/10*8),this.$emit("mudarTela","CartaoTamanho")},btAnterior(){this.$emit("mudarTela","Fim")},redimensiona(){const e=this.$refs.quadro,t=document.body.clientWidth-20,o=window.innerHeight-100-20;t>o?(e.style.height=o+"px",e.style.width=parseInt(parseInt(e.style.height)/4*3)+"px"):(e.style.width=t+"px",e.style.height=parseInt(parseInt(e.style.width)/3*4)+"px"),e.style.top=(window.innerHeight-parseInt(e.style.height)-20)/2+"px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px";const r=document.getElementsByClassName("rosto");for(const a of r)a.style.position="absolute",a.style.top=e.style.top,a.style.left=e.style.left,a.style.width=e.style.width,a.style.height=e.style.width}},mounted(){this.redimensiona()}},JF=e=>(An("data-v-8f7ab718"),e=e(),Tn(),e),TTe=["src"],OTe={ref:"quadro",class:"quadro"},DTe=JF(()=>A("div",null,[A("svg",{class:"rosto",viewBox:"0 0 300 420"},[A("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"})])],-1)),PTe={class:"ZonaTouch"},MTe=JF(()=>A("div",{class:"BaseBotoes"},null,-1));function NTe(e,t,o,r,a,i){return $(),be("div",null,[v(ni,{onResize:i.redimensiona},null,8,["onResize"]),A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.fotoOriginal,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,TTe),A("div",OTe,null,512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Tratamento Foto")]),_:1}),v(pe,{onClick:i.btAnterior,icon:"fast_rewind",round:"",flat:"",dense:""},null,8,["onClick"]),v(pe,{onClick:i.btProximo,icon:"fast_forward",round:"",flat:"",dense:""},null,8,["onClick"])]),_:1}),DTe,v(pe,{onClick:i.uploadClick,icon:"attachment",size:"md",color:"primary",round:"",class:"BtUpload"},null,8,["onClick"]),Te(v(pe,{class:"ZoomMais",icon:"zoom_in",size:"md",color:"primary",round:"",onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",icon:"zoom_out",size:"md",color:"primary",round:"",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),Te(A("div",PTe,null,512),[[_r,i.touch,void 0,{prevent:!0,mouse:!0}]]),MTe,Te(v(pe,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",color:"primary",round:"",onContextmenu:t[3]||(t[3]=st(()=>{},["prevent"]))},null,512),[[Rt,i.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",color:"primary",round:"",onContextmenu:t[4]||(t[4]=st(()=>{},["prevent"]))},null,512),[[Rt,i.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",color:"primary",round:"",onContextmenu:t[5]||(t[5]=st(()=>{},["prevent"]))},null,512),[[Rt,i.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",color:"primary",round:"",onContextmenu:t[6]||(t[6]=st(()=>{},["prevent"]))},null,512),[[Rt,i.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]]),A("input",{onChange:t[7]||(t[7]=(...n)=>i.abrirFoto&&i.abrirFoto(...n)),ref:"Upload",id:"Upload",type:"file",style:{visibility:"hidden"}},null,544)])}var FTe=ht(ATe,[["render",NTe],["__scopeId","data-v-8f7ab718"]]);const RTe={data(){return{dbPupilometro:$db.pupilometro,x:0,y:0,zoom:.87,pinca:{scaling:!1},cartao:{x1:0,y1:0,x2:0,y2:0}}},emits:["mudarTela"],methods:{desenha(){const e=$db.pupilometro.medidas;this.$refs.p1.style.top=e.cartao.p1.top+"px",this.$refs.p1.style.left=e.cartao.p1.left+"px",this.$refs.p2.style.top=e.cartao.p2.top+"px",this.$refs.p2.style.left=e.cartao.p2.left+"px";const t=this.$refs.quadro;let o=`scale(${this.zoom.toFixed(2)})`;t.style.transform=o,this.cartao.x1=e.cartao.p1.left,this.cartao.y1=e.cartao.p1.top,this.cartao.x2=e.cartao.p2.left,this.cartao.y2=e.cartao.p2.top},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},touchP(e,t){let o=0;try{o=e.evt.touches.length}catch{}this.pinca.scaling||o!==2&&($db.pupilometro.medidas.cartao[t].top=$db.pupilometro.medidas.cartao[t].top+e.delta.y/this.zoom,$db.pupilometro.medidas.cartao[t].left=$db.pupilometro.medidas.cartao[t].left+e.delta.x/this.zoom,this.desenha())},touchP1(e){this.touchP(e,"p1")},touchP2(e){this.touchP(e,"p2")},btProximo(){this.$emit("mudarTela","CartaoOlho")},btAnterior(){this.$emit("mudarTela","CartaoFoto")},moveu(e){e==="Bt1Up"&&($db.pupilometro.medidas.cartao.p1.top=$db.pupilometro.medidas.cartao.p1.top-1),e==="Bt1Down"&&($db.pupilometro.medidas.cartao.p1.top=$db.pupilometro.medidas.cartao.p1.top+1),e==="Bt1Left"&&($db.pupilometro.medidas.cartao.p1.left=$db.pupilometro.medidas.cartao.p1.left-1),e==="Bt1Right"&&($db.pupilometro.medidas.cartao.p1.left=$db.pupilometro.medidas.cartao.p1.left+1),e==="Bt2Up"&&($db.pupilometro.medidas.cartao.p2.top=$db.pupilometro.medidas.cartao.p2.top-1),e==="Bt2Down"&&($db.pupilometro.medidas.cartao.p2.top=$db.pupilometro.medidas.cartao.p2.top+1),e==="Bt2Left"&&($db.pupilometro.medidas.cartao.p2.left=$db.pupilometro.medidas.cartao.p2.left-1),e==="Bt2Right"&&($db.pupilometro.medidas.cartao.p2.left=$db.pupilometro.medidas.cartao.p2.left+1),this.desenha()},redimensiona(){const e=document.body.clientWidth-20,t=window.innerHeight-60-20,o=e>t?"horizontal":"vertical";this.zoom===.87&&(o==="horizontal"?this.zoom=t/960:this.zoom=e/720);const r=this.$refs.quadro;r.style.position="absolute",r.style.left=(document.body.clientWidth-720)/2+"px",o==="horizontal"?r.style.top=(60+(window.innerHeight-60-960))/2+"px":r.style.top=(window.innerHeight-108-960)/2+"px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="720px",this.$refs.quadro.style.height="960px";const e=this.$refs.quadro;this.$refs.svgCartao.style.position="absolute",this.$refs.svgCartao.style.top=0,this.$refs.svgCartao.style.left=0,this.$refs.svgCartao.style.width=e.style.width,this.$refs.svgCartao.style.height=e.style.height,this.redimensiona()}},kTe={ref:"quadro"},VTe=["src"],qTe={ref:"svgCartao",class:"svgCartao"},BTe=["x1","y1","x2","y2"],LTe={ref:"p2",id:"p2",class:"text-primary"},$Te={ref:"p1",id:"p1",class:"text-primary"};function UTe(e,t,o,r,a,i){return $(),be("div",null,[A("div",kTe,[A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,VTe),Te(($(),be("svg",qTe,[A("line",{ref:"lnCartao",id:"lnCartao",stroke:"#0397ef","stroke-width":"5",x1:a.cartao.x1,y1:a.cartao.y1,x2:a.cartao.x2,y2:a.cartao.y2},null,8,BTe)])),[[_r,i.touch,void 0,{prevent:!0,mouse:!0}]]),A("div",LTe,[Te(v(Ve,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[_r,i.touchP2,void 0,{prevent:!0,mouse:!0}]])],512),A("div",$Te,[Te(v(Ve,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[_r,i.touchP1,void 0,{prevent:!0,mouse:!0}]])],512)],512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Foto com Cart\xE3o")]),_:1}),v(pe,{onClick:i.btAnterior,icon:"fast_rewind",round:"",flat:"",dense:""},null,8,["onClick"]),v(pe,{onClick:i.btProximo,icon:"fast_forward",round:"",flat:"",dense:""},null,8,["onClick"])]),_:1}),Te(v(pe,{class:"ZoomMais",icon:"zoom_in",size:"md",color:"primary",round:"",onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",icon:"zoom_out",size:"md",color:"primary",round:"",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt1Up",icon:"keyboard_arrow_up",size:"md",color:"primary",round:"",onContextmenu:t[3]||(t[3]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt1Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt1Down",icon:"keyboard_arrow_down",size:"md",color:"primary",round:"",onContextmenu:t[4]||(t[4]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt1Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt1Left",icon:"keyboard_arrow_left",size:"md",color:"primary",round:"",onContextmenu:t[5]||(t[5]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt1Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt1Right",icon:"keyboard_arrow_right",size:"md",color:"primary",round:"",onContextmenu:t[6]||(t[6]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt1Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt2Up",icon:"keyboard_arrow_up",size:"md",color:"primary",round:"",onContextmenu:t[7]||(t[7]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt2Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt2Down",icon:"keyboard_arrow_down",size:"md",color:"primary",round:"",onContextmenu:t[8]||(t[8]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt2Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt2Left",icon:"keyboard_arrow_left",size:"md",color:"primary",round:"",onContextmenu:t[9]||(t[9]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt2Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"Bt2Right",icon:"keyboard_arrow_right",size:"md",color:"primary",round:"",onContextmenu:t[10]||(t[10]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("Bt2Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),v(ni,{onResize:i.redimensiona},null,8,["onResize"])])}var zTe=ht(RTe,[["render",UTe],["__scopeId","data-v-6b0cf816"]]);const HTe={data(){return{dbPupilometro:$db.pupilometro,passo:3,x:0,y:0,zoom:2,pinca:{scaling:!1}}},computed:{titulo(){const e=[];return e[3]="Centro Olho Direito",e[6]="Centro Olho Esquerdo",e[7]="Centro Nariz",e[this.passo]}},emits:["mudarTela"],methods:{sleep(e=0){return new Promise(t=>setTimeout(t,e))},desenha(){const e=this.$refs.quadro;let t=`scale(${this.zoom})`;this.passo===3&&(t+=" translateX(15%)"),this.passo===6&&(t+=" translateX(-15%)"),e.style.transform=t},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.pinca.scaling||t!==2&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+e.delta.x/this.zoom+"px",this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+e.delta.y/this.zoom+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.desenha()}catch{}},btProximo(){if(this.passo===3){this.passo=6,this.desenha();return}if(this.passo===6){parseFloat(this.$refs.p7.style.top)===0&&(this.$refs.p7.style.top=(parseFloat(this.$refs.p6.style.top)+parseFloat(this.$refs.p3.style.top))/2-50+"px",this.$refs.p7.style.left=(parseFloat(this.$refs.p6.style.left)+parseFloat(this.$refs.p3.style.left))/2+"px"),this.passo=7,this.desenha();return}this.passo===7&&($db.pupilometro.medidas.olhoDireito={...$db.pupilometro.medidas.olhoDireito,centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)}},$db.pupilometro.medidas.olhoEsquerdo={...$db.pupilometro.medidas.olhoEsquerdo,centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)}},$db.pupilometro.medidas.nariz={...$db.pupilometro.medidas.nariz,top:parseFloat(this.$refs.p7.style.top),left:parseFloat(this.$refs.p7.style.left)},$db.pupilometro.calcularDistanciasCartao(),this.$emit("mudarTela","CartaoMedidas"))},btAnterior(){if(this.passo===3){this.$emit("mudarTela","CartaoTamanho");return}if(this.passo===6){this.passo=3,this.desenha();return}this.passo===7&&(this.passo=6,this.desenha())},moveu(e){const t=this.$refs["p"+this.passo];if(e==="up"){let o=parseFloat(t.style.top)-1;o<0&&(o=0),t.style.top=o+"px"}if(e==="down"&&(t.style.top=parseFloat(t.style.top)+1+"px"),e==="left"){let o=parseFloat(t.style.left)-1;o<0&&(o=0),t.style.left=o+"px"}e==="right"&&(t.style.left=parseFloat(t.style.left)+1+"px")},redimensiona(){const e=document.body.clientWidth-20,t=window.innerHeight-60-20;this.orientacao=e>t?"landscape":"portrait",this.orientacao==="landscape"?(this.zoom=e/720,this.zoom=this.zoom*1.6):(this.zoom=t/960,this.zoom=this.zoom*2);const o=this.$refs.quadro;o.style.position="absolute",o.style.left=(document.body.clientWidth-720)/2+"px",this.orientacao,o.style.top=(window.innerHeight-960/3*2)/2+"px",this.desenha()},tamanhoPonte(){const e=$db.pupilometro.medidas;this.$refs.p8.style.top="50px",this.$refs.p8.style.left=(e.ponte-1)/2*-1+"px",this.$refs.p8.style.width=e.ponte+"px"}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="720px",this.$refs.quadro.style.height="960px";const e=$db.pupilometro.medidas;this.$refs.p3.style.top=e.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.p6.style.top=e.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.p7.style.top=e.nariz.top+"px",this.$refs.p7.style.left=e.nariz.left+"px",this.$refs.p8.style.top="50px",this.$refs.p8.style.left=(e.ponte-1)/2*-1+"px",this.$refs.p8.style.width=e.ponte+"px",this.redimensiona()}},aE=e=>(An("data-v-8aef8f8c"),e=e(),Tn(),e),jTe={ref:"quadro"},GTe=["src"],WTe={ref:"p3",id:"p3"},XTe={ref:"p6",id:"p6"},YTe={ref:"p7",id:"p7"},KTe={ref:"p8",id:"p8"},QTe=aE(()=>A("div",null,null,-1)),JTe=aE(()=>A("div",null,null,-1)),ZTe=[QTe,JTe],eOe={class:"ZonaTouch"},tOe=aE(()=>A("div",{class:"BaseBotoes"},null,-1));function oOe(e,t,o,r,a,i){const n=ke("campo");return $(),be("div",null,[A("div",jTe,[A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,GTe),Te(A("div",WTe,null,512),[[Io,a.passo===3]]),Te(A("div",XTe,null,512),[[Io,a.passo===6]]),Te(A("div",YTe,[A("div",KTe,ZTe,512)],512),[[Io,a.passo===7]])],512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te(de(i.titulo),1)]),_:1}),Te(v(n,{modelValue:a.dbPupilometro.medidas.ponte,"onUpdate:modelValue":[t[1]||(t[1]=s=>a.dbPupilometro.medidas.ponte=s),i.tamanhoPonte],tipo:"decimal",decimals:"2",suffix:"mm","rotulo-fixo":"Ponte",color:"white","label-color":"white",dark:"",dense:"",class:"q-mr-md",style:{"max-width":"90px"}},null,8,["modelValue","onUpdate:modelValue"]),[[Io,a.passo===7]]),v(pe,{onClick:i.btAnterior,icon:"fast_rewind",round:"",flat:"",dense:""},null,8,["onClick"]),v(pe,{onClick:i.btProximo,icon:"fast_forward",round:"",flat:"",dense:""},null,8,["onClick"])]),_:1}),Te(v(pe,{class:"ZoomMais",icon:"zoom_in",size:"md",color:"primary",round:"",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",icon:"zoom_out",size:"md",color:"primary",round:"",onContextmenu:t[3]||(t[3]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(A("div",eOe,null,512),[[_r,i.touch,void 0,{prevent:!0,mouse:!0}]]),tOe,Te(v(pe,{class:"BtUp",icon:"keyboard_arrow_up",size:"md",color:"primary",round:"",onContextmenu:t[4]||(t[4]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtDown",icon:"keyboard_arrow_down",size:"md",color:"primary",round:"",onContextmenu:t[5]||(t[5]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtLeft",icon:"keyboard_arrow_left",size:"md",color:"primary",round:"",onContextmenu:t[6]||(t[6]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"BtRight",icon:"keyboard_arrow_right",size:"md",color:"primary",round:"",onContextmenu:t[7]||(t[7]=st(()=>{},["prevent"]))},null,512),[[Rt,()=>i.moveu("right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),v(ni,{onResize:i.redimensiona},null,8,["onResize"])])}var aOe=ht(HTe,[["render",oOe],["__scopeId","data-v-8aef8f8c"]]);const rOe={data(){return{dbPupilometro:$db.pupilometro,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}},emits:["mudarTela"],methods:{desenha(){try{const e=$db.pupilometro.medidas;this.$refs.diptotal.style.top=e.olhoDireito.centroOlho.top-70+"px",this.$refs.diptotal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=e.olhoEsquerdo.centroOlho.left-e.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=e.olhoDireito.centroOlho.top-30+"px",this.$refs.dnpOd.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=e.nariz.left-e.olhoDireito.centroOlho.left+"px",this.$refs.dnpOe.style.top=e.olhoEsquerdo.centroOlho.top-30+"px",this.$refs.dnpOe.style.left=e.nariz.left+"px",this.$refs.dnpOe.style.width=e.olhoEsquerdo.centroOlho.left-e.nariz.left+"px",this.$refs.nariz.style.top=e.nariz.top+"px",this.$refs.nariz.style.left=e.nariz.left-1+"px",this.$refs.ponte.style.top="50px",this.$refs.ponte.style.left=(e.ponte-1)/2*-1+"px",this.$refs.ponte.style.width=e.ponte+"px";const t=this.$refs.quadro;let o=`scale(${this.zoom.toFixed(2)})`;t.style.transform=o}catch(e){console.log(e)}},redimensiona(){const e={clientWidth:document.body.clientWidth,clientHeight:window.innerHeight},t=document.body.clientWidth-20,o=window.innerHeight-60-20,r=t>o?"horizontal":"vertical";JSON.stringify(this.tela)!==JSON.stringify(e)&&(this.tela=e,r==="horizontal"?this.zoom=o/720*1.2:this.zoom=t/(960/3));const a=this.$refs.quadro;a.style.position="absolute",a.style.left=(document.body.clientWidth-720)/2+"px",r==="horizontal"?a.style.top=(window.innerHeight-960)/2+"px":a.style.top=(window.innerHeight-920)/2+"px",this.desenha()},zoomMais(){this.zoom+=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},zoomMenos(){this.zoom-=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const o=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+o/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},btProximo(){this.$emit("mudarTela","Contato")},btAnterior(){this.$emit("mudarTela","CartaoOlho")}},props:{somenteLeitura:Boolean},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},Ac=e=>(An("data-v-76f7c8ee"),e=e(),Tn(),e),iOe={ref:"quadro",class:"Quadro"},nOe=["src"],sOe={ref:"odc",id:"odc"},lOe={ref:"oec",id:"oec"},cOe={ref:"diptotal",id:"diptotal"},uOe=Ac(()=>A("div",null,null,-1)),dOe=Ac(()=>A("div",null,null,-1)),fOe={ref:"dnpOd",id:"dnpOd",class:"medidaHorizontal"},mOe=Ac(()=>A("div",null,null,-1)),pOe=Ac(()=>A("div",null,null,-1)),hOe={ref:"dnpOe",id:"dnpOe",class:"medidaHorizontal"},vOe=Ac(()=>A("div",null,null,-1)),gOe=Ac(()=>A("div",null,null,-1)),_Oe={ref:"nariz",id:"nariz"},bOe={ref:"ponte",id:"ponte"},yOe=Ac(()=>A("div",null,null,-1)),COe=Ac(()=>A("div",null,null,-1));function xOe(e,t,o,r,a,i){return $(),be("div",null,[A("div",iOe,[Te(A("img",{ref:"foto",class:"Foto",src:a.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=st(()=>{},["prevent"]))},null,40,nOe),[[_r,i.touch,void 0,{prevent:!0,stop:!0,mouse:!0}]]),A("div",sOe,null,512),A("div",lOe,null,512),A("div",cOe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.dip.total,2)),1),uOe,dOe],512),A("div",fOe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.dnp.od,2)),1),mOe,pOe],512),A("div",hOe,[A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.dnp.oe,2)),1),vOe,gOe],512),A("div",_Oe,[A("div",bOe,[yOe,COe,A("div",null,de(e.$filters.numero(a.dbPupilometro.medidas.ponte,2)),1)],512)],512)],512),v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Medidas")]),_:1}),Te(v(pe,{onClick:i.btAnterior,icon:"fast_rewind",round:"",flat:"",dense:""},null,8,["onClick"]),[[Io,!o.somenteLeitura]]),v(pe,{onClick:i.btProximo,icon:"fast_forward",round:"",flat:"",dense:""},null,8,["onClick"])]),_:1}),Te(v(pe,{class:"ZoomMais",icon:"zoom_in",size:"md",color:"primary",round:"",onContextmenu:t[1]||(t[1]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),Te(v(pe,{class:"ZoomMenos",icon:"zoom_out",size:"md",color:"primary",round:"",onContextmenu:t[2]||(t[2]=st(()=>{},["prevent"]))},null,512),[[Rt,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),v(ni,{onResize:i.redimensiona},null,8,["onResize"])])}var wOe=ht(rOe,[["render",xOe],["__scopeId","data-v-76f7c8ee"]]);const IOe={components:{TirarFoto:vSe,TamanhoFoto:USe,TamanhoArmacao:GSe,Olho:sAe,Diagonal:gAe,Bifocal:RAe,Medidas:wTe,Palpebra:STe,CartaoFoto:FTe,CartaoTamanho:zTe,CartaoOlho:aOe,CartaoMedidas:wOe},data(){return{tela:""}},emits:["fecharModal"],methods:{async mudarTela(e){if(e==="Fim"){this.$emit("fecharModal","fechar");return}if(e==="Contato"){this.$emit("fecharModal","abrirContato");return}this.tela=e,e==="Olho"&&(await new Promise(t=>setTimeout(t,500)),this.$refs.Olho.desenha()),e==="Medidas"&&(await new Promise(t=>setTimeout(t,500)),this.$refs.Medidas.desenha())},upload(){this.$refs.TamanhoFoto.uploadClick()},cartaoNovo(){this.$refs.CartaoFoto.uploadClick()}},props:{avancar:String,somenteLeitura:Boolean},created(){this.tela=this.avancar||"TirarFoto",history.pushState(null,null,location.href),history.go(1)}};function EOe(e,t,o,r,a,i){const n=ke("tirar-foto"),s=ke("tamanho-foto"),l=ke("tamanho-armacao"),u=ke("olho"),c=ke("diagonal"),d=ke("bifocal"),m=ke("medidas"),f=ke("palpebra"),p=ke("cartao-foto"),g=ke("cartao-tamanho"),b=ke("cartao-olho"),x=ke("cartao-medidas");return $(),be(Qe,null,[e.$db.pupilometro.medidas.tipo!=="Cart\xE3o"?($(),be(Qe,{key:0},[a.tela==="TirarFoto"?($(),ue(n,{key:0,onMudarTela:i.mudarTela,onUpload:i.upload},null,8,["onMudarTela","onUpload"])):ce("",!0),Te(v(s,{ref:"TamanhoFoto",onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="TamanhoFoto"]]),Te(v(l,{ref:"TamanhoArmacao",onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="TamanhoArmacao"]]),Te(v(u,{ref:"Olho",onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="Olho"]]),Te(v(c,{onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="Diagonal"]]),Te(v(d,{onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="Bifocal"]]),Te(v(m,{ref:"Medidas",somenteLeitura:o.somenteLeitura,onMudarTela:i.mudarTela},null,8,["somenteLeitura","onMudarTela"]),[[Io,a.tela==="Medidas"]]),Te(v(f,{ref:"Palpebra",onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="Palpebra"]])],64)):ce("",!0),e.$db.pupilometro.medidas.tipo==="Cart\xE3o"?($(),be(Qe,{key:1},[Te(v(p,{ref:"CartaoFoto",onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="CartaoFoto"]]),Te(v(g,{ref:"CartaoTamanho",onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="CartaoTamanho"]]),Te(v(b,{ref:"CartaoOlho",onMudarTela:i.mudarTela},null,8,["onMudarTela"]),[[Io,a.tela==="CartaoOlho"]]),Te(v(x,{ref:"CartaoMedidas",somenteLeitura:o.somenteLeitura,onMudarTela:i.mudarTela},null,8,["somenteLeitura","onMudarTela"]),[[Io,a.tela==="CartaoMedidas"]])],64)):ce("",!0)],64)}var ZF=ht(IOe,[["render",EOe]]),SOe=Object.freeze(Object.defineProperty({__proto__:null,default:ZF},Symbol.toStringTag,{value:"Module"}));const AOe={components:{Arquivo:N0,Avatar:Sc,Badge:vl,CodigoBarras:M0,ContatoCriar:WF,PromptItemV2:Kf,Receita:ZEe,Tutorial:rSe,Pupilometro:ZF},computed:{carrinhoSemArmacaoVazia(){return this.carrinho.filter(e=>!(e.tipoItem==="Arma\xE7\xE3o"&&!e.descricaoItem.trim()&&e.total===0&&e.valorItem===0))},envelopeVazio(){return{id:"",idDocumentoAdicional:"",docId:"",docTipo:"",carrinho:[],totalDesconto:0,totalPercentualDesconto:0,subTotal:0,totalDocumento:0,paciente:{id:"",nome:""},tipo:"Envelope",tipoEnvelope:"Oculos",tipoLente:"",tipoOculos:"Vista"}},erroDataHoraPrevisto(){if(this.campos.dataHoraPrevisto){const e=new Date().setHours(0,0,0,0);if(new Date(this.campos.dataHoraPrevisto)<new Date(e))return"Previs\xE3o de entrega n\xE3o pode ser menor do que a data de hoje"}return""}},data(){return{armacao:{alturaMontagemOD:null,alturaMontagemOE:null,diagonal:null,ponte:null,altura:null,tamanho:"",armacaoMaterial:"",tipoMontagem:""},armacaoMaterialModal:!1,armacaoMaterialDescricao:"",envelope:{},visivel:!1,opcoesArmacaoMaterial:[],tipoMontagemModal:!1,tipoMontagemDescricao:"",opcoesTipoMontagem:[],campos:{totalDesconto:0,totalPercentualDesconto:0,subTotal:0,totalDocumento:0,idContato:"",descricaoContato:"",idDocumentoAdicional:"",dataHoraPrevisto:""},tipo:"Envelope",tipoEnvelope:"Oculos",tipoLente:"",tipoOculos:"Vista",carrinho:[],documentoContato:[],duplicarReceita:!1,idPacienteSelecionado:"",descricaoReceitaSelecionada:"",modalItem:{visivel:!1,filtros:{}},modalPupilometro:{},tipoPupilometro:"",permissaoPupilometro:!1,descricaoLaboratorio:"",documentoContatoLaboratorio:{},descricaoResponsavel:"",itensTipo:[],itens:{},tipoDescontoPercentagem:!0,tipoDescontoTotal:!0,pacientes:[{label:"",value:""}],tipoLentes:[],tipoLentesOculos:["","Monofocal (Longe)","Monofocal (M\xE9dio)","Monofocal (Perto)","Bifocal (Longe e Perto)","Multifocal (Longe e Perto)","Intermedi\xE1rio (M\xE9dio e Perto)","Intermedi\xE1rio (Longe e M\xE9dio)"],tipoLentesContato:["","Monofocal (Longe)","Bifocal (Longe e Perto)","Multifocal (Longe e Perto)"],receita:{},receitasDescricao:[],modalReceita:{visivel:!1,id:"",idEmpresa:"",duplicar:!1},arquivo:[],opcoesPacientes:[],filtroAvancado:void 0,dataPrevisaoEntrega:null,horaPrevisaoEntrega:null}},emits:["salvarEnvelope"],methods:{ajustarDataHoraPrevisaoEntrega(){let e;e=new Date(this.dataPrevisaoEntrega),e.setHours(this.horaPrevisaoEntrega.slice(0,2)),e.setMinutes(this.horaPrevisaoEntrega.slice(3,5)),this.campos.dataHoraPrevisto=Ba.formatDate(e)},async criarOpcoesPacientes(){try{const e=await $db.contato.leFilhos($db.contato.selecionado.id);e.push($db.contato.selecionado);const t=e.map(o=>({label:o.nome,value:o.id}));return t.sort((o,r)=>o.label<r.label?1:-1),t}catch(e){this.$q.notifyError("N\xE3o foi poss\xEDvel carregar os dados de pacientes",e)}},filtrarPacientes(e,t){t(async()=>{const o=await this.criarOpcoesPacientes();if(e==="")this.opcoesPacientes=o;else{const r=e.toLowerCase();this.opcoesPacientes=o.filter(a=>a.label.toLowerCase().indexOf(r)>-1)}})},fecharModalPupilometro(){if(this.modalPupilometro.visivel=!1,$db.pupilometro.fotoOriginal==="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC")return;let e={id:(this.modalPupilometro.pupilometroAtual||{}).id||$utils.uuid(),descricao:"Pupil\xF4metro",referencia:"idEnvelope:"+this.campos.id,json:JSON.stringify({foto:$db.pupilometro.foto,fotoOriginal:$db.pupilometro.fotoOriginal,medidas:$db.pupilometro.medidas})};this.modalPupilometro.pupilometroAtual=e,this.armacao.largura=$db.pupilometro.medidas.tamanhoArmacao,this.armacao.ponte=$db.pupilometro.medidas.ponte,this.armacao.altura=$db.pupilometro.medidas.alturaArmacao,this.armacao.diagonal=$db.pupilometro.medidas.diagonal.distancia,$db.pupilometro.medidas.bifocal?(this.armacao.alturaMontagemOD=$db.pupilometro.medidas.bifocalOlhoDireito,this.armacao.alturaMontagemOE=$db.pupilometro.medidas.bifocalOlhoEsquerdo):(this.armacao.alturaMontagemOD=$db.pupilometro.medidas.dip.od.altura,this.armacao.alturaMontagemOE=$db.pupilometro.medidas.dip.oe.altura),this.salvarDnp()},abrirModalPupilometro(e){if(this.modalPupilometro={...this.modalPupilometro,visivel:!1,avancar:this.envelope.somenteLeitura?"Medidas":""},$db.pupilometro.limpar(),$db.pupilometro.medidas.tipo="Presencial",this.armacao.largura&&($db.pupilometro.medidas.tamanhoArmacao=this.armacao.largura),this.armacao.ponte&&($db.pupilometro.medidas.ponte=this.armacao.ponte),this.armacao.diagonal&&($db.pupilometro.medidas.diagonal.distancia=this.armacao.diagonal),this.armacao.altura&&($db.pupilometro.medidas.alturaArmacao=this.armacao.altura),(this.modalPupilometro.pupilometroAtual||{}).json){const t=JSON.parse(this.modalPupilometro.pupilometroAtual.json);$db.pupilometro.foto=t.foto,$db.pupilometro.fotoOriginal=t.fotoOriginal,$db.pupilometro.medidas=t.medidas,this.armacao.largura&&($db.pupilometro.medidas.tamanhoArmacao=this.armacao.largura),this.armacao.ponte&&($db.pupilometro.medidas.ponte=this.armacao.ponte),this.armacao.diagonal&&($db.pupilometro.medidas.diagonal.distancia=this.armacao.diagonal),this.envelope.somenteLeitura||$db.pupilometro.foto!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"?this.modalPupilometro.avancar="Medidas":this.modalPupilometro.avancar="TirarFoto"}if(e==="Cart\xE3o"){$db.pupilometro.medidas.tipo=e,$db.pupilometro.medidas.olhoDireito.centroOlho.top=345,$db.pupilometro.medidas.olhoDireito.centroOlho.left=255,$db.pupilometro.medidas.olhoEsquerdo.centroOlho.top=345,$db.pupilometro.medidas.olhoEsquerdo.centroOlho.left=450,$db.pupilometro.medidas.nariz.top=0,$db.pupilometro.medidas.nariz.left=0,$db.pupilometro.medidas.ponte=23,this.envelope.somenteLeitura||$db.pupilometro.foto!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"?this.modalPupilometro.avancar="CartaoMedidas":this.modalPupilometro.avancar="CartaoFoto",this.modalPupilometro={...this.modalPupilometro,visivel:!0},this.$nextTick(()=>{this.modalPupilometro.avancar==="CartaoFoto"&&this.$refs.pupilometro.cartaoNovo()});return}this.$nextTick(()=>{this.modalPupilometro.visivel=!0})},abrirArmacaoMaterialModal(){this.envelope.somenteLeitura||(this.armacaoMaterialModal=!0)},abrirTipoMontagemModal(){this.envelope.somenteLeitura||(this.tipoMontagemModal=!0)},async atualizarArmacaoMaterial(){let e=[];await $db.item.carregarMemoria();for(const o of $db.item.itens)o.armacaoMaterial&&!~e.indexOf(o.armacaoMaterial)&&e.push(o.armacaoMaterial);e=e.map(o=>({armacaoMaterial:o,sort:o.toLowerCase()})),e=$lodash.orderBy(e,"sort","asc");const t=[];for(const o of e)t.push({rotulo:o.armacaoMaterial,valor:o.armacaoMaterial});this.opcoesArmacaoMaterial=t},async atualizarTipoMontagem(){let e=[];await $db.item.carregarMemoria();for(const o of $db.item.itens)o.tipoMontagem&&!~e.indexOf(o.tipoMontagem)&&e.push(o.tipoMontagem);e=e.map(o=>({tipoMontagem:o,sort:o.toLowerCase()})),e=$lodash.orderBy(e,"sort","asc");const t=[];for(const o of e)t.push({rotulo:o.tipoMontagem,valor:o.tipoMontagem});this.opcoesTipoMontagem=t},async criarArmacaoMaterial(){this.opcoesArmacaoMaterial=$lodash.orderBy([...this.opcoesArmacaoMaterial,{rotulo:this.armacaoMaterialDescricao,valor:this.armacaoMaterialDescricao,sort:this.armacaoMaterialDescricao.toLowerCase()}],"sort","asc"),this.armacao.armacaoMaterial=this.armacaoMaterialDescricao,this.armacaoMaterialModal=!1},async criarTipoMontagem(){this.opcoesTipoMontagem=$lodash.orderBy([...this.opcoesTipoMontagem,{rotulo:this.tipoMontagemDescricao,valor:this.tipoMontagemDescricao,sort:this.tipoMontagemDescricao.toLowerCase()}],"sort","asc"),this.armacao.tipoMontagem=this.tipoMontagemDescricao,this.tipoMontagemModal=!1},async selecionarLaboratorio(){if(this.envelope.somenteLeitura)return;const e=await $g.promptContato.show({filtro:{ativo:!0,segmento:"Laborat\xF3rio"},placeholder:"Selecione o laborat\xF3rio"});if(!(e!=null&&e.id))return;const t=e.id;this.documentoContatoLaboratorio.idContato=t,this.descricaoLaboratorio=(await $db.contato.le({id:t})).apelido||""},laboratorioLimpar(){this.documentoContatoLaboratorio.idContato="",this.descricaoLaboratorio=""},responsavelLimpar(){this.campos.idContatoResponsavel="",this.descricaoResponsavel=""},async selecionarResponsavel(){if(this.envelope.somenteLeitura)return;const e=await $g.promptContato.show({filtro:{ativo:!0,vendedores:!0},placeholder:"Selecione o respons\xE1vel"});if(!(e!=null&&e.id))return;const t=e.id;this.campos.idContatoResponsavel=t,this.descricaoResponsavel=(await $db.contato.le({id:t})).apelido||""},alterarTipoLente(){for(const e of this.carrinho)e.oculos=this.tipoLente},async selecionarPaciente(e){this.campos.idContato=e.value,this.campos.descricaoContato=e.label,await this.filtrarReceitas()},async atualizarReceita(e){var t;await this.filtrarReceitas(),e||this.receitasDescricao.length&&(e=this.receitasDescricao[0].value),e&&(this.receita=await $db.receita.le({id:e||this.receita.id}),await this.pacientesAtualizar(),this.campos.idContato=this.receita.paciente.id,this.campos.descricaoContato=(t=this.pacientes.filter(o=>o.value===this.campos.idContato)[0])==null?void 0:t.label)},calculaTotal(e){$db.envelope.calculaTotal({envelope:$utils.clonar(this.campos),itensEnvelope:$utils.clonar(this.carrinho),campoAlterado:e}).then(t=>{this.carrinho=t.itensEnvelope,this.campos=t.envelope})},async calculaTotalItem(e,t){const r=(await $db.envelope.calculaTotalItem({envelope:$utils.clonar(this.campos),itemEnvelope:$utils.clonar(this.carrinho[e]),campoAlterado:t})).itemEnvelope;if(t==="valorItem"){const a=$utils.clonarV2(this.carrinho);a[e]={...r,valorItem:0},this.carrinho=a,this.$nextTick(()=>{const i=$utils.clonarV2(this.carrinho);i[e]=r,this.carrinho=i,this.calculaTotal()})}else{const a=$utils.clonarV2(this.carrinho);a[e]=r,this.carrinho=a}this.calculaTotal()},async abrirModalDependente(){const e=await this.$refs.modalDependente.mostrar();(e||{}).id&&(await this.criarDependencia(e),await this.filtrarReceitas())},async abrirModalReceita(e,t){try{this.$refs.modalReceita.mostrar({id:e||$utils.uuid(),idEmpresa:$lodash.get(this.envelope,"documento.idEmpresa",""),duplicar:t})}catch(o){this.$q.notifyError("Ocorreu um erro ao carregar a receita.",o)}},limparFiltroAvancado(){this.filtroAvancado={...this.filtroAvancado,cilindrico:{lte:0},esfericoInicial:{lte:0},esfericoFinal:{gte:0},tipo:"Lente"}},abrirModalItem(e,t){var d,m,f,p,g,b,x,_,y,I,S,O,F,M,E,D,P,N,R,z,W,j,Q,se,_e,Ee,J,re,ye,ge,De,Oe,he,Me,fe,G,V,L,U,ie,we,H,q,k,Y,ne,oe,Ce,ve,Fe;let o,r,a,i,n,s,l,u,c;switch(e){case"Lentes":this.modalItem.filtros={tipo:"Lente",ativo:!0,bloquearVenda:!1},this.tipoLente&&(~this.tipoLente.indexOf("Monofocal")&&(c="Monofocal"),~this.tipoLente.indexOf("Bifocal")&&(c="Bifocal"),(~this.tipoLente.indexOf("Multifocal")||~this.tipoLente.indexOf("Intermedi\xE1rio"))&&(c="Multifocal")),r=(g=(p=(f=(m=(d=this.receita)==null?void 0:d.prescricao)==null?void 0:m.dioptria)==null?void 0:f.od)==null?void 0:p.longe)==null?void 0:g.cilindrico,a=(I=(y=(_=(x=(b=this.receita)==null?void 0:b.prescricao)==null?void 0:x.dioptria)==null?void 0:_.oe)==null?void 0:y.longe)==null?void 0:I.cilindrico,i=(E=(M=(F=(O=(S=this.receita)==null?void 0:S.prescricao)==null?void 0:O.dioptria)==null?void 0:F.od)==null?void 0:M.longe)==null?void 0:E.esferico,n=(z=(R=(N=(P=(D=this.receita)==null?void 0:D.prescricao)==null?void 0:P.dioptria)==null?void 0:N.oe)==null?void 0:R.longe)==null?void 0:z.esferico,o=(_e=(se=(Q=(j=(W=this.receita)==null?void 0:W.prescricao)==null?void 0:j.dioptria)==null?void 0:Q.od)==null?void 0:se.medio)==null?void 0:_e.esferico,(!i||o&&o>i)&&(i=o),o=(ge=(ye=(re=(J=(Ee=this.receita)==null?void 0:Ee.prescricao)==null?void 0:J.dioptria)==null?void 0:re.oe)==null?void 0:ye.medio)==null?void 0:ge.esferico,(!n||o&&o>n)&&(n=o),o=(fe=(Me=(he=(Oe=(De=this.receita)==null?void 0:De.prescricao)==null?void 0:Oe.dioptria)==null?void 0:he.od)==null?void 0:Me.perto)==null?void 0:fe.cilindrico,(!r||o&&o>r)&&(r=o),o=(ie=(U=(L=(V=(G=this.receita)==null?void 0:G.prescricao)==null?void 0:V.dioptria)==null?void 0:L.oe)==null?void 0:U.perto)==null?void 0:ie.cilindrico,(!a||o&&o>a)&&(a=o),o=(Y=(k=(q=(H=(we=this.receita)==null?void 0:we.prescricao)==null?void 0:H.dioptria)==null?void 0:q.od)==null?void 0:k.perto)==null?void 0:Y.esferico,(!i||o&&o>i)&&(i=o),o=(Fe=(ve=(Ce=(oe=(ne=this.receita)==null?void 0:ne.prescricao)==null?void 0:oe.dioptria)==null?void 0:Ce.oe)==null?void 0:ve.perto)==null?void 0:Fe.esferico,(!n||o&&o>n)&&(n=o),r=Number(r||void 0),a=Number(a||void 0),i=Number(i||void 0),n=Number(n||void 0),Number.isNaN(r)&&Number.isNaN(a)||(s=r>a?r:a),(Number.isNaN(r)||Number.isNaN(a))&&(s=r||a),Number.isNaN(i)&&Number.isNaN(n)||(l=i<n?i:n,u=i>n?i:n),(Number.isNaN(i)||Number.isNaN(n))&&(l=u=i||n),this.filtroAvancado={cilindrico:{lte:s||0},esfericoInicial:{lte:l||0},esfericoFinal:{gte:u||0},lenteTipo:c,opcoesTiposLente:["","Monofocal","Bifocal","Multifocal"]};break;case"LentesContato":this.modalItem.filtros={tipo:"Lente Contato",ativo:!0,bloquearVenda:!1},this.filtroAvancado=void 0;break;case"Armacao":this.modalItem.filtros={tipo:["Arma\xE7\xE3o","\xD3culos Sol"],ativo:!0,bloquearVenda:!1},this.filtroAvancado=void 0;break;case"Tratamento LOD":this.modalItem.filtros={tipo:"Tratamento",ativo:!0,bloquearVenda:!1},this.filtroAvancado=void 0,this.tipoTratamento="TLOD",this.idDocumentoItemPai=t;break;case"Tratamento LOE":this.modalItem.filtros={tipo:"Tratamento",ativo:!0,bloquearVenda:!1},this.filtroAvancado=void 0,this.tipoTratamento="TLOE",this.idDocumentoItemPai=t;break}this.modalItem.filtros.idEmpresa=this.campos.idEmpresa,this.modalItem.filtros.idTabelaPreco=this.campos.idItemTabelaPreco,this.modalItem.visivel=!0},async alterarTipoEnvelope(){const e=async()=>{this.tipoOculos=this.tipoEnvelope==="Oculos"?"Vista":"",this.carrinho=[],this.tipoEnvelope==="Oculos"?(this.tipoOculos="Vista",this.tipoLentes=this.tipoLentesOculos):(this.tipoOculos="",this.tipoLentes=this.tipoLentesContato)};if(!this.carrinho.length){e();return}$q.dialog({cancel:"Cancelar",message:"Esta a\xE7\xE3o ir\xE1 remover os itens do carrinho.",ok:"Continuar",title:"Tem certeza?"}).onOk(()=>{e()}).onCancel(()=>{this.tipoEnvelope=this.tipoEnvelope==="Oculos"?"Lentes":"Oculos"})},async criarDependencia(e){try{const t=await $db.documento.ler({id:this.campos.documentoId});await $db.contato.criarDependenciaContatos({contatoPai:{id:t.idContato},contatoFilho:e}),this.campos.paciente||(this.campos.paciente={}),this.campos.idContato=this.campos.paciente.id=this.idPacienteSelecionado=e.id,this.campos.descricaoContato=this.campos.paciente.nome=e.nome}catch(t){this.$q.notifyError("Ocorreu um erro ao criar a depend\xEAncia.",t)}},async filtrarReceitas(){let e=[],t=await $db.receita.leReceitas({idContato:this.campos.idContato});t=$lodash.orderBy(t,"dataHoraEmissao","desc");const o=new Date().setHours(0,0,0,0);for(let r of t){r=await $db.receita.le({id:r.id}),this.receita.id||(this.receita=r);let a=`De ${r.medico.nome}, `;a+=`${this.$filters.data(r.data)} `,a+=`v\xE1lido at\xE9 ${this.$filters.data(r.validade)}`;let i={};new Date(r.validade).setHours(0,0,0,0)<o?i={icon:"alarm_off",color:"negative",stamp:"Vencida"}:i={icon:"alarm",stamp:"\xC0 vencer"};const n={label:a,value:r.id,...i};e.push(n)}this.receitasDescricao=e},mostrar(){this.atualizar(),this.visivel=!0},async fechar(e){e.stopPropagation(),this.visivel=!1},ordenarCarrinho(){const e={LOE:1,TLOE:2,LOD:3,TLOD:4,Arma\u00E7\u00E3o:5};this.carrinho=(this.carrinho||[]).sort((t,o)=>e[t.tipoItem]-e[o.tipoItem])},async removerItem(e){const t=(this.carrinho[e]||{}).id;this.carrinho=this.carrinho.filter(o=>o.id!==t&&o.idDocumentoItemPai!==t),this.calculaTotal()},async salvarDnp(){if(!this.receita.id)return;const e=JSON.parse((this.modalPupilometro.pupilometroAtual||{}).json||null);if(!e)return;let t=await $erp().documentoItem.where({idDocumento:this.receita.id}).toArray();for(const o of t){let r=0;o.operacao==="Olho Esquerdo"&&(r=$utils.arredondar(e.medidas.dnp.oe)),o.operacao==="Olho Direito"&&(r=$utils.arredondar(e.medidas.dnp.od)),r!==o.di&&(await $erp().documentoItem.update(o.id,{di:r}),await $utils.sincronismoEnviar("atualizar","documentoItem",o.id,{di:r}))}this.atualizarReceita(this.receita.id)},async salvarEnvelope(){if(!this.tipoLente){this.$q.notifyError("Selecione o tipo da lente");return}if(!this.receita.id){this.$q.notifyError("Selecione uma receita");return}if(!this.carrinho.length){this.$q.notifyError("N\xE3o h\xE1 itens no carrinho");return}if(this.erroDataHoraPrevisto){this.$q.notifyError("Erro no preenchimento do formul\xE1rio");return}let e={};if(this.tipoEnvelope==="Oculos"){let o=!1;for(const r in this.carrinho)if(this.carrinho[r].tipoItem==="Arma\xE7\xE3o"){this.carrinho[r].alturaMontagemOD=$utils.numberOrNull(this.armacao.alturaMontagemOD),this.carrinho[r].alturaMontagemOE=$utils.numberOrNull(this.armacao.alturaMontagemOE),this.carrinho[r].diagonal=$utils.numberOrNull(this.armacao.diagonal),this.carrinho[r].ponte=$utils.numberOrNull(this.armacao.ponte),this.carrinho[r].altura=$utils.numberOrNull(this.armacao.altura),this.carrinho[r].largura=$utils.numberOrNull(this.armacao.largura),this.carrinho[r].armacaoMaterial=this.armacao.armacaoMaterial,this.carrinho[r].tipoMontagem=this.armacao.tipoMontagem,this.carrinho[r].oculos=this.tipoLente,this.carrinho[r].tipoOculos=this.tipoOculos,this.carrinho[r].idItem&&(e.id=this.carrinho[r].idItem,e.armacaoMaterial=this.armacao.armacaoMaterial,e.tipoMontagem=this.armacao.tipoMontagem,e.diagonal=$utils.numberOrNull(this.armacao.diagonal),e.ponte=$utils.numberOrNull(this.armacao.ponte),e.altura=$utils.numberOrNull(this.armacao.altura),e.largura=$utils.numberOrNull(this.armacao.largura)),o=!0;break}o||this.carrinho.push({id:$utils.uuid(),idDocumento:this.campos.documentoId,idDocumentoAdicional:this.campos.id,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:"",operacaoFator:0,oculos:this.tipoLente,tipoOculos:this.tipoOculos,quantidade:0,status:this.campos.status,subTotal:0,tipoItem:"Arma\xE7\xE3o",total:0,valorCusto:0,valorCustoMedio:0,valorCustoReposicao:0,valorCustoUltimo:0,valorItem:0,valorItemUltimo:0,valorOriginal:0,valorReal:0,alturaMontagemOD:$utils.numberOrNull(this.armacao.alturaMontagemOD),alturaMontagemOE:$utils.numberOrNull(this.armacao.alturaMontagemOE),diagonal:$utils.numberOrNull(this.armacao.diagonal),ponte:$utils.numberOrNull(this.armacao.ponte),altura:$utils.numberOrNull(this.armacao.altura),largura:$utils.numberOrNull(this.armacao.largura),armacaoMaterial:this.armacao.armacaoMaterial,tipoMontagem:this.armacao.tipoMontagem})}this.campos.idDocumentoAdicional=this.receita.id;const t={documento:$utils.clonar(this.campos),documentoItens:$utils.clonar(this.carrinho),armacao:e,arquivo:this.$refs.arquivo.arquivo.map(o=>({...o,idTabelaMaster:this.campos.id,tabelaMaster:"envelope"})),arquivoOriginal:this.envelope.arquivoOriginal,pupilometro:{original:$utils.clonarV2(this.modalPupilometro.pupilometroOriginal),atual:$utils.clonarV2(this.modalPupilometro.pupilometroAtual)}};this.documentoContatoLaboratorio.idContato&&(this.documentoContatoLaboratorio.id||(this.documentoContatoLaboratorio.id=$utils.uuid(),this.documentoContatoLaboratorio.idDocumento=t.documento.id,this.documentoContatoLaboratorio.descricao="Laborat\xF3rio"),this.documentoContato=this.documentoContato.filter(o=>o.descricao!=="Laborat\xF3rio"),t.documentoContato=[...this.documentoContato,this.documentoContatoLaboratorio]),this.salvarDnp(),this.$emit("salvarEnvelope",t),this.visivel=!1},adicionarItem(e){const t=this.carrinho.find(a=>a.idItem===e.id);let o=1;e.novoValorVenda=e.valorVenda,t&&(e.novoValorVenda=t.valorReal,o=t.quantidade);const r={};r[e.id]={item:e,quantidade:o},this.selecionarItens(r)},async selecionarItens(e){for(const t in e){const o=e[t].item||{};await this.selecionarItem(t,o)}},async selecionarItem(e,t){var a;let o=[];if(["Arma\xE7\xE3o","\xD3culos Sol"].includes(t.tipo))o=["Arma\xE7\xE3o"];else if(t.tipo==="Tratamento")o=[this.tipoTratamento];else if(["Lente","Lente Contato"].includes(t.tipo))try{o=["LOD","LOE"];for(const i of this.carrinho){const n=o.indexOf(i.tipoItem);n!==-1&&o.splice(n,1)}o.length===0&&(o=["LOD","LOE"])}catch{return}this.modalItem.visivel=!1;const r=await $utils.selecionarCfop({ncm:t.ncm,idItem:t.id,itemTipo:t.tipo,codigoDocumentoOperacao:this.campos.codigoDocumentoOperacao,idContatoDestinatario:this.campos.idContato,idContatoEmitente:this.campos.idEmpresa,operacaoFator:-1});if(!r){this.$q.notify("N\xE3o foi poss\xEDvel localizar o CFOP.");return}for(const i of o){if(!["TLOD","TLOE"].includes(i))for(const l in this.carrinho)((a=this.carrinho[l])==null?void 0:a.tipoItem)===i&&await this.removerItem(l);const n=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:t.id,idEmpresa:$lodash.get(this.envelope,"documento.idEmpresa",""),tipoEstoque:"Dispon\xEDvel"})).find(l=>l.idItem),s={id:$utils.uuid(),idItem:t.id,idDocumento:this.campos.documentoId,idDocumentoAdicional:this.campos.id,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:t.descricaoConcatenada,operacao:r==null?void 0:r.operacao,operacaoFator:r==null?void 0:r.fator,idCfop:r==null?void 0:r.id,oculos:this.tipoLente,tipoOculos:i==="Arma\xE7\xE3o"?this.tipoOculos:"",lenteTipo:i!=="Arma\xE7\xE3o"?this.tipoOculos:"",quantidade:1,status:this.campos.status,subTotal:t.valorVenda,tipoItem:i,total:t.valorVenda,valorCusto:0,valorCustoMedio:$lodash.get(n,"valorCustoMedio",0),valorCustoReposicao:t.valorCustoReposicao||0,valorCustoUltimo:$lodash.get(n,"valorCusto",0),valorItem:t.valorVenda,valorItemUltimo:0,valorOriginal:t.valorVenda,valorReal:t.valorVenda,valorRealTotal:t.valorVenda,alturaMontagemOD:null,alturaMontagemOE:null,diagonal:$utils.numberOrNull(t.diagonal),ponte:$utils.numberOrNull(t.ponte),altura:$utils.numberOrNull(t.altura),largura:$utils.numberOrNull(t.largura),armacaoMaterial:t.armacaoMaterial||"",tipoMontagem:t.tipoMontagem||""};["TLOD","TLOE"].includes(i)&&this.idDocumentoItemPai&&(s.idDocumentoItemPai=this.idDocumentoItemPai),i==="Arma\xE7\xE3o"&&(this.armacao.diagonal=$utils.numberOrNull(s.diagonal),this.armacao.ponte=$utils.numberOrNull(s.ponte),this.armacao.altura=$utils.numberOrNull(s.altura),this.armacao.largura=$utils.numberOrNull(s.largura),this.armacao.armacaoMaterial=s.armacaoMaterial,this.armacao.tipoMontagem=s.tipoMontagem),this.carrinho.push(s),this.ordenarCarrinho(),this.carregarItens(),this.calculaTotal()}},async pacientesAtualizar(){const e=await $db.contato.leFilhos($db.contato.selecionado.id);e.push({nome:$db.contato.selecionado.nome,id:$db.contato.selecionado.id});const t=[];for(const o of e)t.push({label:o.nome,value:o.id});this.pacientes=$lodash.orderBy(t,"label")},async atualizar(){this.campos=$utils.clonar({...$db.envelope.vazio,...this.envelope.documento}),this.tipoLente="",this.tipoLentes=this.tipoLentesOculos,this.carrinho=$utils.clonar(this.envelope.documentoItens||[]),this.armacao.alturaMontagemOD=null,this.armacao.alturaMontagemOE=null,this.armacao.diagonal=null,this.armacao.ponte=null,this.armacao.altura=null,this.armacao.largura=null,this.armacao.armacaoMaterial="",this.armacao.tipoMontagem="";const e=[];for(const r in this.carrinho){if(this.carrinho[r].idItem){const a=await $erp().item.get(this.carrinho[r].idItem);e.push(a.tipo||"")}if(this.carrinho[r].tipoItem==="Arma\xE7\xE3o"){this.armacao.alturaMontagemOD=$utils.numberOrNull(this.carrinho[r].alturaMontagemOD),this.armacao.alturaMontagemOE=$utils.numberOrNull(this.carrinho[r].alturaMontagemOE),this.armacao.diagonal=$utils.numberOrNull(this.carrinho[r].diagonal),this.armacao.ponte=$utils.numberOrNull(this.carrinho[r].ponte),this.armacao.altura=$utils.numberOrNull(this.carrinho[r].altura),this.armacao.largura=$utils.numberOrNull(this.carrinho[r].largura),this.armacao.armacaoMaterial=this.carrinho[r].armacaoMaterial,this.armacao.tipoMontagem=this.carrinho[r].tipoMontagem,this.tipoLente=this.carrinho[r].oculos;break}}this.tipoEnvelope="Oculos";const t=new RegExp(/contato/i);for(const r of e)if(t.test(r)){this.tipoEnvelope="Lentes";break}if(this.documentoContato=$utils.clonar(this.envelope.documentoContato||[]),this.documentoContatoLaboratorio=this.documentoContato.find(r=>r.descricao==="Laborat\xF3rio")||{},this.descricaoLaboratorio="",this.documentoContatoLaboratorio.id&&(this.descricaoLaboratorio=(await $db.contato.le({id:this.documentoContatoLaboratorio.idContato})).apelido||""),this.descricaoResponsavel=(await $db.contato.le({id:this.campos.idContatoResponsavel})).apelido||"",!this.campos.dataHoraPrevisto){let r="",a=await $db.configuracoes.le({nome:"venda.envelope.previsaoentrega"});a.length&&(a=parseInt(a[0].valor)),Number.isInteger(a)||(a=15);let i=new Date;const n=i.getDate();i.setDate(n+a),r=new Date(i.setHours(0,0,0,0)),this.campos.dataHoraPrevisto=Ba.formatDate(r)}let o;o=String(new Date(this.campos.dataHoraPrevisto).getHours()).padStart(2,"0"),o+=":",o+=String(new Date(this.campos.dataHoraPrevisto).getMinutes()).padStart(2,"0"),this.dataPrevisaoEntrega=new Date(new Date(this.campos.dataHoraPrevisto).toDateString()),this.horaPrevisaoEntrega=o,this.$refs.arquivo.somenteLeitura=this.envelope.somenteLeitura,this.pacientesAtualizar(),this.atualizarArmacaoMaterial(),this.atualizarTipoMontagem(),this.atualizarReceita(this.campos.idDocumentoAdicional),this.ordenarCarrinho(),this.carregarItens(),this.carregarPupilometro(),this.visivel=!0},async carregarItens(){for(const e of this.carrinho)if(!!e.idItem&&!(e.idItem in this.itens)){let t=await $erp().item.get(e.idItem);t={...t,marca:t.marca||"",referencia:t.referencia||"",observacao:t.observacao||"",aplicacao:t.aplicacao||"",imagem:t.imagem||""};const o=$utils.clonarV2(this.itens);o[t.id]=t,this.itens=o}},async carregarPupilometro(){var o,r;let e,t;$db.permissao.objeto("pupilometro").then(a=>{this.permissaoPupilometro=a}),e=await $erp().json.where({descricao:"Pupil\xF4metro",referencia:"idEnvelope:"+this.campos.id}).toArray(),t=e.find(a=>a.id),this.modalPupilometro.pupilometroOriginal={},this.modalPupilometro.pupilometroAtual={},t&&(this.modalPupilometro.pupilometroOriginal=$utils.clonarV2(t),this.modalPupilometro.pupilometroAtual=$utils.clonarV2(t)),this.tipoPupilometro="";try{t=JSON.parse(this.modalPupilometro.pupilometroAtual.json),this.tipoPupilometro=(r=(o=t==null?void 0:t.medidas)==null?void 0:o.tipo)!=null?r:"Presencial"}catch{}}},props:{enableChanges:{type:Boolean,required:!1,default:!1}}},TOe={class:"layout-padding q-pa-none q-pb-md q-mt-md"},OOe={class:"u-container"},DOe={class:"q-pa-md"},POe={class:"col-12 col-md"},MOe={class:"col-12 col-md-auto"},NOe={class:"col-12 col-md"},FOe={class:"col-12 col-md-auto"},ROe={class:"q-pa-md"},kOe={key:0,class:"q-pa-lg text-center"},VOe=A("p",{class:"text-caption"},"Para incluir, utilize os bot\xF5es acima ou insira via QR Code.",-1),qOe={class:"col-12 col-lg-4"},BOe=A("span",{class:"text-body2"},"Paciente: ",-1),LOe={class:"col-12 col-lg-4"},$Oe=A("span",{class:"text-body2"},"M\xE9dico: ",-1),UOe={class:"col-12 col-lg-2"},zOe=A("span",{class:"text-body2"},"Data: ",-1),HOe={class:"col-12 col-lg-2"},jOe=A("span",{class:"text-body2"},"Validade: ",-1),GOe={key:0,class:"col-12"},WOe=A("strong",{class:"text-body2"},"Observa\xE7\xE3o:",-1),XOe=A("div",{class:"col"},"Esf\xE9rico",-1),YOe=A("div",{class:"col"},"Cilindrico",-1),KOe=A("div",{class:"col"},"Eixo",-1),QOe=A("div",{class:"col"},"DNP",-1),JOe={class:"col"},ZOe={class:"col"},e3e={class:"col"},t3e={class:"col"},o3e={class:"col"},a3e={class:"col"},r3e={class:"col"},i3e={class:"col"},n3e=A("div",{class:"col"},"M\xE9dio",-1),s3e=A("div",{class:"col"},"Perto",-1),l3e=A("div",{class:"col"},"Esf\xE9rico",-1),c3e=A("div",{class:"col"},"DNP",-1),u3e=A("div",{class:"col"},"Esf\xE9rico",-1),d3e=A("div",{class:"col"},"DNP",-1),f3e={class:"col"},m3e={class:"col"},p3e={class:"col"},h3e={class:"col"},v3e={class:"col"},g3e={class:"col"},_3e={class:"col"},b3e={class:"col"},y3e={class:"q-pa-md"},C3e={class:"q-pa-md"},x3e={key:0,class:"text-center"},w3e=A("p",null,"N\xE3o h\xE1 itens no carrinho",-1),I3e=A("p",{class:"text-caption"},"Para adicionar, utilize os bot\xF5es acima ou insira o c\xF3digo de barras",-1),E3e=[w3e,I3e],S3e={class:"col-12 col-md-auto"},A3e={class:"col-12 col-md"},T3e={class:"col-4 col-md"},O3e={class:"col-4 col-md"},D3e={class:"col-4 col-md"},P3e={class:"col-4 col-md"},M3e={class:"q-col-gutter-sm row justify-end q-mt-sm"},N3e={class:"col-12 col-md-4 offset-md-8"},F3e=A("div",{class:"col-4"},"Subtotal",-1),R3e={class:"col-8 text-right"},k3e=A("div",{class:"col-4",style:{"padding-top":"16px"}},"Desconto",-1),V3e=A("div",{class:"col-4 q-mt-sm",style:{"padding-top":"8px"}},"Total",-1),q3e={class:"col-8 q-mt-sm text-right",style:{"padding-top":"8px"}},B3e={class:"q-pa-md"},L3e={class:"col-12 col-md"},$3e={class:"col-xs-6 col-md"},U3e={class:"col-xs-6 col-md"},z3e={class:"col-12 col-md"},H3e={class:"col-12 col-md"},j3e={class:"col-xs-6 col-md"},G3e={class:"col-xs-6 col-md"},W3e={class:"q-pa-md"},X3e={class:"col-6 col-md"},Y3e={class:"col-6 col-md"},K3e={class:"col-6 col-md"},Q3e={class:"col-6 col-md"},J3e={class:"col-12 col-lg-3"},Z3e={class:"col-12 col-lg-3"},eDe={class:"row justify-end"},tDe={class:"row justify-end"};function oDe(e,t,o,r,a,i){const n=ke("campo"),s=ke("row"),l=ke("Arquivo"),u=ke("CodigoBarras"),c=ke("avatar"),d=ke("badge"),m=ke("Tutorial"),f=ke("pupilometro"),p=ke("ContatoCriar"),g=ke("PromptItemV2"),b=ke("receita");return $(),be(Qe,null,[v(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[35]||(t[35]=x=>a.visivel=x),persistent:"",maximized:"",onKeyup:Zi(i.fechar,["esc"])},{default:w(()=>[v(Jo,{container:"",class:"bg-light"},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{flat:"",round:"",dense:"",icon:"arrow_back"},null,512),[[lt]]),v(nt,null,{default:w(()=>[te("Envelope")]),_:1}),A("form",{onSubmit:t[0]||(t[0]=st((...x)=>i.salvarEnvelope&&i.salvarEnvelope(...x),["prevent"]))},[a.envelope.somenteLeitura?ce("",!0):($(),ue(pe,{key:0,class:"q-ml-sm no-shadow",color:"white","text-color":"primary",unelevated:"",label:"Salvar",type:"submit"}))],32)]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",TOe,[A("div",OOe,[v(Bt,{class:"q-mb-md bg-white no-shadow"},{default:w(()=>[v(at,{class:"text-tertiary"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Dados Principais")]),_:1})]),_:1}),A("div",DOe,[v(s,{class:"items-center q-col-gutter-md"},{default:w(()=>[A("div",POe,[v(Kn,{modelValue:a.campos.descricaoContato,"onUpdate:modelValue":[t[1]||(t[1]=x=>a.campos.descricaoContato=x),i.selecionarPaciente],"use-input":"","hide-selected":"","fill-input":"","input-debounce":"500","stack-label":"",label:"Paciente",options:a.opcoesPacientes,onFilter:i.filtrarPacientes},{prepend:w(()=>[v(pe,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:i.abrirModalDependente},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Incluir paciente")]),_:1})]),_:1},8,["onClick"])]),"no-option":w(()=>[v(We,null,{default:w(()=>[v(Ie,{class:"text-grey"},{default:w(()=>[te(" Resultado n\xE3o encontrado ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue"])]),A("div",MOe,[v(Zs,{readonly:a.envelope.somenteLeitura,modelValue:a.tipoEnvelope,"onUpdate:modelValue":[t[2]||(t[2]=x=>a.tipoEnvelope=x),i.alterarTipoEnvelope],class:"q-mr-sm",label:"\xD3culos",val:"Oculos"},null,8,["readonly","modelValue","onUpdate:modelValue"]),v(Zs,{readonly:a.envelope.somenteLeitura,modelValue:a.tipoEnvelope,"onUpdate:modelValue":[t[3]||(t[3]=x=>a.tipoEnvelope=x),i.alterarTipoEnvelope],label:"LDC",val:"Lentes"},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Lentes de Contato")]),_:1})]),_:1},8,["readonly","modelValue","onUpdate:modelValue"])]),A("div",NOe,[v(n,{modelValue:a.tipoLente,"onUpdate:modelValue":[t[4]||(t[4]=x=>a.tipoLente=x),i.alterarTipoLente],class:"col-12 col-lg-4",maxlength:"60",rotulo:"Tipo",tipo:"seletor",opcoes:a.tipoLentes,somenteLeitura:a.envelope.somenteLeitura},null,8,["modelValue","opcoes","somenteLeitura","onUpdate:modelValue"])]),A("div",FOe,[v(Zs,{modelValue:a.tipoOculos,"onUpdate:modelValue":t[5]||(t[5]=x=>a.tipoOculos=x),class:"q-mr-sm",disable:a.envelope.somenteLeitura||a.tipoEnvelope!=="Oculos",label:"Vista",val:"Vista"},null,8,["modelValue","disable"]),v(Zs,{modelValue:a.tipoOculos,"onUpdate:modelValue":t[6]||(t[6]=x=>a.tipoOculos=x),disable:a.envelope.somenteLeitura||a.tipoEnvelope!=="Oculos",label:"Solar",val:"Solar"},null,8,["modelValue","disable"])])]),_:1})])]),_:1}),v(Bt,{class:"q-mb-md no-shadow"},{default:w(()=>[v(at,null,{default:w(()=>[v(Ve,{name:"mdi-file-eye",size:"24px",class:"text-tertiary"}),v(nt,{class:"text-tertiary"},{default:w(()=>[te(" Receita ")]),_:1}),a.envelope.somenteLeitura?ce("",!0):($(),ue(pe,{key:0,color:"primary",dense:"",flat:"",icon:"search",round:"",onClick:i.filtrarReceitas},{default:w(()=>[v(Xa,null,{default:w(()=>[v(wt,{separator:"",link:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.receitasDescricao,x=>Te(($(),ue(We,{clickable:"",key:x.value,onClick:_=>i.atualizarReceita(x.value)},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:x.icon,color:x.color},null,8,["name","color"])]),_:2},1024),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(de(x.label),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[A("small",null,de(x.stamp),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[lt]])),128))]),_:1})]),_:1}),v(Mt,null,{default:w(()=>[te("Selecionar receita")]),_:1})]),_:1},8,["onClick"])),a.envelope.somenteLeitura?ce("",!0):($(),ue(pe,{key:1,color:"primary",dense:"",flat:"",icon:"add",onClick:t[7]||(t[7]=x=>i.abrirModalReceita("",!1)),round:""},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Adicionar")]),_:1})]),_:1})),a.envelope.somenteLeitura?ce("",!0):($(),ue(pe,{key:2,color:"tertiary",dense:"",flat:"",icon:"more_vert",round:""},{default:w(()=>[v(Xa,null,{default:w(()=>[v(wt,{link:"",separator:""},{default:w(()=>[a.receitasDescricao.length?Te(($(),ue(We,{key:0,clickable:"",onClick:t[8]||(t[8]=x=>i.abrirModalReceita(a.receita.id,!1))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"edit"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Editar")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0),a.receitasDescricao.length?Te(($(),ue(We,{key:1,clickable:"",onClick:t[9]||(t[9]=x=>i.abrirModalReceita(a.receita.id,!0))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"file_copy"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Duplicar")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0)]),_:1})]),_:1})]),_:1}))]),_:1}),A("div",ROe,[a.receitasDescricao.length?ce("",!0):($(),be("div",kOe,[A("p",null,"N\xE3o h\xE1 receitas para o paciente "+de(a.campos.descricaoContato)+".",1),VOe])),a.receitasDescricao.length?($(),ue(s,{key:1,class:"q-col-gutter-md"},{default:w(()=>[A("div",qOe,[BOe,A("strong",null,de((a.receita.paciente||{}).nome),1)]),A("div",LOe,[$Oe,A("strong",null,de((a.receita.medico||{}).nome),1)]),A("div",UOe,[zOe,A("strong",null,de(e.$filters.data(a.receita.data)),1)]),A("div",HOe,[jOe,A("strong",null,de(e.$filters.data(a.receita.validade)),1)]),a.receita.observacoes?($(),be("div",GOe,[WOe,A("p",null,de(a.receita.observacoes),1)])):ce("",!0)]),_:1})):ce("",!0),a.receitasDescricao.length?($(),ue(s,{key:2,class:"q-col-gutter-md"},{default:w(()=>[v(wt,{class:"col-12 col-lg-6",highlight:"","no-border":""},{default:w(()=>[v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"mw100"}),v(Ie,{class:"text-subtitle1 text-weight-bold"},{default:w(()=>[te("Longe")]),_:1})]),_:1}),v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"mw100"}),v(Ie,{class:"text-body2 text-weight-bold"},{default:w(()=>[v(s,null,{default:w(()=>[XOe,YOe,KOe,QOe]),_:1})]),_:1})]),_:1}),v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"mw100"},{default:w(()=>[v(Ie,null,{default:w(()=>[te("OD")]),_:1})]),_:1}),v(Ie,null,{default:w(()=>[v(s,null,{default:w(()=>{var x,_,y,I,S,O,F,M,E,D,P,N,R,z,W,j,Q,se,_e,Ee;return[A("div",JOe,de(e.$filters.numeroSinal((S=(I=(y=(_=(x=a.receita)==null?void 0:x.prescricao)==null?void 0:_.dioptria)==null?void 0:y.od)==null?void 0:I.longe)==null?void 0:S.esferico,2)),1),A("div",ZOe,de(e.$filters.numeroSinal((D=(E=(M=(F=(O=a.receita)==null?void 0:O.prescricao)==null?void 0:F.dioptria)==null?void 0:M.od)==null?void 0:E.longe)==null?void 0:D.cilindrico,2)),1),A("div",e3e,de(e.$filters.numeroOuBranco((W=(z=(R=(N=(P=a.receita)==null?void 0:P.prescricao)==null?void 0:N.dioptria)==null?void 0:R.od)==null?void 0:z.longe)==null?void 0:W.eixo)),1),A("div",t3e,de(e.$filters.numeroOuBranco((Ee=(_e=(se=(Q=(j=a.receita)==null?void 0:j.prescricao)==null?void 0:Q.dioptria)==null?void 0:se.od)==null?void 0:_e.longe)==null?void 0:Ee.dnp,2)),1)]}),_:1})]),_:1})]),_:1}),v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"mw100"},{default:w(()=>[v(Ie,null,{default:w(()=>[te("OE")]),_:1})]),_:1}),v(Ie,null,{default:w(()=>[v(s,null,{default:w(()=>{var x,_,y,I,S,O,F,M,E,D,P,N,R,z,W,j;return[A("div",o3e,de(e.$filters.numeroSinal((I=(y=(_=(x=a.receita.prescricao)==null?void 0:x.dioptria)==null?void 0:_.oe)==null?void 0:y.longe)==null?void 0:I.esferico,2)),1),A("div",a3e,de(e.$filters.numeroSinal((M=(F=(O=(S=a.receita.prescricao)==null?void 0:S.dioptria)==null?void 0:O.oe)==null?void 0:F.longe)==null?void 0:M.cilindrico,2)),1),A("div",r3e,de(e.$filters.numeroOuBranco((N=(P=(D=(E=a.receita.prescricao)==null?void 0:E.dioptria)==null?void 0:D.oe)==null?void 0:P.longe)==null?void 0:N.eixo)),1),A("div",i3e,de(e.$filters.numeroOuBranco((j=(W=(z=(R=a.receita.prescricao)==null?void 0:R.dioptria)==null?void 0:z.oe)==null?void 0:W.longe)==null?void 0:j.dnp,2)),1)]}),_:1})]),_:1})]),_:1})]),_:1}),v(wt,{class:"col-12 col-lg-6",highlight:"","no-border":""},{default:w(()=>[v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"mw100"},{default:w(()=>[te("\xA0\xA0")]),_:1}),v(Ie,{class:"text-subtitle1 text-weight-bold"},{default:w(()=>[v(s,null,{default:w(()=>[n3e,s3e]),_:1})]),_:1})]),_:1}),v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"mw100"},{default:w(()=>[te("\xA0\xA0")]),_:1}),v(Ie,{class:"text-body2 text-weight-bold"},{default:w(()=>[v(s,null,{default:w(()=>[l3e,c3e,u3e,d3e]),_:1})]),_:1})]),_:1}),v(We,null,{default:w(()=>[v(Ie,{avatar:"",class:"mw100"},{default:w(()=>[v(Ie,null,{default:w(()=>[te("OD")]),_:1})]),_:1}),v(Ie,null,{default:w(()=>[v(s,null,{default:w(()=>{var x,_,y,I,S,O,F,M,E,D,P,N,R,z,W,j;return[A("div",f3e,de(e.$filters.numeroSinal((I=(y=(_=(x=a.receita.prescricao)==null?void 0:x.dioptria)==null?void 0:_.od)==null?void 0:y.medio)==null?void 0:I.esferico,2)),1),A("div",m3e,de(e.$filters.numeroOuBranco((M=(F=(O=(S=a.receita.prescricao)==null?void 0:S.dioptria)==null?void 0:O.od)==null?void 0:F.medio)==null?void 0:M.dnp,2)),1),A("div",p3e,de(e.$filters.numeroSinal((N=(P=(D=(E=a.receita.prescricao)==null?void 0:E.dioptria)==null?void 0:D.od)==null?void 0:P.perto)==null?void 0:N.esferico,2)),1),A("div",h3e,de(e.$filters.numeroOuBranco((j=(W=(z=(R=a.receita.prescricao)==null?void 0:R.dioptria)==null?void 0:z.od)==null?void 0:W.perto)==null?void 0:j.dnp,2)),1)]}),_:1})]),_:1})]),_:1}),v(We,null,{default:w(()=>[v(Ie,{avatar:"",class:"mw100"},{default:w(()=>[v(Ie,null,{default:w(()=>[te("OE")]),_:1})]),_:1}),v(Ie,null,{default:w(()=>[v(s,null,{default:w(()=>{var x,_,y,I,S,O,F,M,E,D,P,N,R,z,W,j;return[A("div",v3e,de(e.$filters.numeroSinal((I=(y=(_=(x=a.receita.prescricao)==null?void 0:x.dioptria)==null?void 0:_.oe)==null?void 0:y.medio)==null?void 0:I.esferico,2)),1),A("div",g3e,de(e.$filters.numeroOuBranco((M=(F=(O=(S=a.receita.prescricao)==null?void 0:S.dioptria)==null?void 0:O.oe)==null?void 0:F.medio)==null?void 0:M.dnp,2)),1),A("div",_3e,de(e.$filters.numeroSinal((N=(P=(D=(E=a.receita.prescricao)==null?void 0:E.dioptria)==null?void 0:D.oe)==null?void 0:P.perto)==null?void 0:N.esferico,2)),1),A("div",b3e,de(e.$filters.numeroOuBranco((j=(W=(z=(R=a.receita.prescricao)==null?void 0:R.dioptria)==null?void 0:z.oe)==null?void 0:W.perto)==null?void 0:j.dnp,2)),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):ce("",!0)])]),_:1}),v(Bt,{class:"bg-white q-mb-md no-shadow"},{default:w(()=>[v(at,{class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"image",size:"24px"}),v(nt,null,{default:w(()=>[te("Arquivos")]),_:1})]),_:1}),A("div",y3e,[v(l,{ref:"arquivo",enableChanges:o.enableChanges,arquivo:a.envelope.arquivo,idTabelaMaster:a.envelope.id},null,8,["enableChanges","arquivo","idTabelaMaster"])])]),_:1}),v(Bt,{class:"q-mb-md bg-white no-shadow"},{default:w(()=>[v(at,null,{default:w(()=>[v(Ve,{name:"mdi-glasses",size:"24px",class:"text-tertiary"}),v(nt,{class:"text-tertiary"},{default:w(()=>[te(" Carrinho ")]),_:1}),v(pe,{class:"hideondesktop",color:"primary",dense:"",flat:"",icon:"add",round:""},{default:w(()=>[v(Xa,null,{default:w(()=>[v(wt,{link:"",separator:""},{default:w(()=>[!a.envelope.somenteLeitura&&a.tipoEnvelope==="Lentes"?Te(($(),ue(We,{key:0,clickable:"",onClick:t[10]||(t[10]=x=>i.abrirModalItem("LentesContato"))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Lentes de Contato")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0),!a.envelope.somenteLeitura&&a.tipoEnvelope==="Oculos"&&["Vista","Solar"].includes(a.tipoOculos)?Te(($(),ue(We,{key:1,clickable:"",onClick:t[11]||(t[11]=x=>i.abrirModalItem("Lentes"))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Lentes")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0),!a.envelope.somenteLeitura&&a.tipoEnvelope==="Oculos"&&["Vista","Solar"].includes(a.tipoOculos)?Te(($(),ue(We,{key:2,clickable:"",onClick:t[12]||(t[12]=x=>i.abrirModalItem("Armacao"))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Arma\xE7\xE3o")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0)]),_:1})]),_:1})]),_:1}),!a.envelope.somenteLeitura&&a.tipoEnvelope==="Lentes"?($(),ue(pe,{key:0,color:"primary",flat:"",icon:"add",class:"hideonmobile",label:"Lentes de Contato",onClick:t[13]||(t[13]=x=>i.abrirModalItem("LentesContato"))})):ce("",!0),!a.envelope.somenteLeitura&&a.tipoEnvelope==="Oculos"&&["Vista","Solar"].includes(a.tipoOculos)?($(),ue(pe,{key:1,class:"hideonmobile",color:"primary",flat:"",icon:"add",label:"Lentes",onClick:t[14]||(t[14]=x=>i.abrirModalItem("Lentes"))})):ce("",!0),!a.envelope.somenteLeitura&&a.tipoEnvelope==="Oculos"&&["Vista","Solar"].includes(a.tipoOculos)?($(),ue(pe,{key:2,class:"hideonmobile",color:"primary",flat:"",icon:"add",label:"Arma\xE7\xE3o",onClick:t[15]||(t[15]=x=>i.abrirModalItem("Armacao"))})):ce("",!0),!a.envelope.somenteLeitura&&(a.tipoEnvelope==="Lentes"||a.tipoEnvelope==="Oculos"&&["Vista","Solar"].includes(a.tipoOculos))?($(),ue(u,{key:3,itemFiltros:{ativo:!0,bloquearVenda:!1,idEmpresa:a.campos.idEmpresa,idItemTabelaPreco:a.campos.idItemTabelaPreco},documentoItens:a.carrinho,onAdicionar:i.adicionarItem,onAtualizar:i.selecionarItens},null,8,["itemFiltros","documentoItens","onAdicionar","onAtualizar"])):ce("",!0)]),_:1}),A("div",C3e,[a.carrinho.length?($(!0),be(Qe,{key:1},zt(i.carrinhoSemArmacaoVazia,(x,_)=>($(),ue(s,{class:"items-start q-col-gutter-md",key:_},{default:w(()=>[A("div",S3e,[v(c,{imagem:(a.itens[x.idItem]||{}).imagem||"",rotulo:x.descricaoItem,tamanho:"120"},null,8,["imagem","rotulo"])]),A("div",A3e,[v(at,{class:"Venda-itemBarra bg-transparent q-pa-none",color:"black",dark:""},{default:w(()=>[v(nt,{class:"q-pl-none"},{default:w(()=>[te(de(x.descricaoItem),1),A("span",null,de((a.itens[x.idItem]||{}).marca||""),1)]),_:2},1024),v(d,{class:"q-mr-sm"},{default:w(()=>[te(de(x.tipoItem)+" "+de((a.itens[x.idItem]||{}).referencia||""),1)]),_:2},1024),a.envelope.somenteLeitura?ce("",!0):($(),ue(pe,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:y=>i.removerItem(_)},null,8,["onClick"]))]),_:2},1024),v(s,{class:"q-col-gutter-sm"},{default:w(()=>[A("div",T3e,[v(n,{somenteLeitura:a.envelope.somenteLeitura,modelValue:x.valorItem,"onUpdate:modelValue":y=>x.valorItem=y,dense:"",outlined:"","rotulo-fixo":"Valor",onBlur:y=>i.calculaTotalItem(_,"valorItem"),tipo:"decimal",decimals:"2"},null,8,["somenteLeitura","modelValue","onUpdate:modelValue","onBlur"])]),A("div",O3e,[v(s,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-minus",color:"primary"}),v(n,{somenteLeitura:a.envelope.somenteLeitura,modelValue:x.descontoPercentualItem,"onUpdate:modelValue":y=>x.descontoPercentualItem=y,dense:"",outlined:"",opcoes:{maximumValue:100},"rotulo-fixo":"Desconto",tipo:"decimal",decimals:"2",suffix:"%",onBlur:y=>i.calculaTotalItem(_,"descontoPercentualItem")},null,8,["somenteLeitura","modelValue","onUpdate:modelValue","onBlur"])]),_:2},1024)]),A("div",D3e,[v(n,{somenteLeitura:a.envelope.somenteLeitura,modelValue:x.descontoItem,"onUpdate:modelValue":y=>x.descontoItem=y,dense:"",outlined:"",opcoes:{minimumValue:0},"rotulo-fixo":"Desconto",onBlur:y=>i.calculaTotalItem(_,"descontoItem"),tipo:"decimal",decimals:"2"},null,8,["somenteLeitura","modelValue","onUpdate:modelValue","onBlur"])]),A("div",P3e,[v(s,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(n,{modelValue:x.total,"onUpdate:modelValue":y=>x.total=y,dense:"",outlined:"","somente-leitura":"","rotulo-fixo":"Total",tipo:"decimal",decimals:"2"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),_:2},1024),A("div",M3e,[!a.envelope.somenteLeitura&&x.tipoItem==="LOE"?($(),ue(pe,{key:0,color:"primary",flat:"",icon:"add",label:"Tratamento LOE",onClick:y=>i.abrirModalItem("Tratamento LOE",x.id)},null,8,["onClick"])):ce("",!0),!a.envelope.somenteLeitura&&x.tipoItem==="LOD"?($(),ue(pe,{key:1,color:"primary",flat:"",icon:"add",label:"Tratamento LOD",onClick:y=>i.abrirModalItem("Tratamento LOD",x.id)},null,8,["onClick"])):ce("",!0)])])]),_:2},1024))),128)):($(),be("div",x3e,E3e)),a.carrinho.length?($(),ue(s,{key:2,class:"q-col-gutter-md q-mt-md"},{default:w(()=>[A("div",N3e,[v(s,{class:"q-col-gutter-md"},{default:w(()=>[F3e,A("strong",R3e,de(e.$filters.numero(a.campos.subTotal,2)),1),k3e,v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.campos.totalPercentualDesconto,"onUpdate:modelValue":t[16]||(t[16]=x=>a.campos.totalPercentualDesconto=x),class:"col-3",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",suffix:"%",onBlur:t[17]||(t[17]=x=>i.calculaTotal("descontoPercentual"))},null,8,["somente-leitura","modelValue"]),v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.campos.totalDesconto,"onUpdate:modelValue":t[18]||(t[18]=x=>a.campos.totalDesconto=x),class:"col-5",opcoes:{minimumValue:0},onBlur:t[19]||(t[19]=x=>i.calculaTotal("desconto")),tipo:"decimal",decimals:"2"},null,8,["somente-leitura","modelValue"]),V3e,A("strong",q3e,de(e.$filters.numero(a.campos.totalDocumento,2)),1)]),_:1})])]),_:1})):ce("",!0)])]),_:1}),($(),ue(Bt,{key:0,class:"q-mb-md bg-white no-shadow"},{default:w(()=>[A("div",B3e,[v(s,{class:"q-col-gutter-md"},{default:w(()=>[A("div",L3e,[v(s,{class:"q-px-none q-mx-none"},{default:w(()=>[a.permissaoPupilometro&&this.tipoPupilometro?($(),ue(pe,{key:0,label:"Pupil\xF4metro",icon:"mdi-eye-settings-outline",unelevated:"",color:"primary",onClick:t[20]||(t[20]=x=>i.abrirModalPupilometro(this.tipoPupilometro))})):ce("",!0),a.permissaoPupilometro&&!this.tipoPupilometro?($(),ue(pe,{key:1,label:"Pupil\xF4metro",icon:"mdi-eye-settings-outline",unelevated:"",color:"primary"},{default:w(()=>[v(Xa,null,{default:w(()=>[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[Te(($(),ue(We,{clickable:"",onClick:t[21]||(t[21]=x=>i.abrirModalPupilometro("Presencial"))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Pupil\xF4metro (Arma\xE7\xE3o)")]),_:1})]),_:1})]),_:1})),[[lt]]),Te(($(),ue(We,{clickable:"",onClick:t[22]||(t[22]=x=>i.abrirModalPupilometro("Cart\xE3o"))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Pupil\xF4metro (Cart\xE3o)")]),_:1})]),_:1})]),_:1})),[[lt]])]),_:1})]),_:1})]),_:1})):ce("",!0),v(m,{componente:"Envelope"})]),_:1})]),A("div",$3e,[v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.armacao.alturaMontagemOD,"onUpdate:modelValue":t[23]||(t[23]=x=>a.armacao.alturaMontagemOD=x),rotulo:"Alt. Mont. OD",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["somente-leitura","modelValue"])]),A("div",U3e,[v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.armacao.alturaMontagemOE,"onUpdate:modelValue":t[24]||(t[24]=x=>a.armacao.alturaMontagemOE=x),rotulo:"Alt. Mont. OE",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["somente-leitura","modelValue"])]),A("div",z3e,[v(Kn,{dense:"",rounded:"",modelValue:a.descricaoLaboratorio,"onUpdate:modelValue":t[25]||(t[25]=x=>a.descricaoLaboratorio=x),label:"Laborat\xF3rio",options:["a","b"],onFilter:i.selecionarLaboratorio,class:"col-12 col-sm-4"},{append:w(()=>[a.descricaoLaboratorio!==""?($(),ue(Ve,{key:0,name:"close",onClick:st(i.laboratorioLimpar,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):ce("",!0),v(Ve,{name:"search",onClick:st(i.selecionarLaboratorio,["stop"]),class:"cursor-pointer"},null,8,["onClick"])]),_:1},8,["modelValue","onFilter"])]),A("div",H3e,[v(Kn,{dense:"",rounded:"",modelValue:a.descricaoResponsavel,"onUpdate:modelValue":t[26]||(t[26]=x=>a.descricaoResponsavel=x),label:"Respons\xE1vel",options:["a","b"],onFilter:i.selecionarResponsavel,class:"col-12 col-sm-4"},{append:w(()=>[a.descricaoResponsavel!==""?($(),ue(Ve,{key:0,name:"close",onClick:st(i.responsavelLimpar,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):ce("",!0),v(Ve,{name:"search",onClick:st(i.selecionarResponsavel,["stop"]),class:"cursor-pointer"},null,8,["onClick"])]),_:1},8,["modelValue","onFilter"])]),A("div",j3e,[v(n,{modelValue:a.dataPrevisaoEntrega,"onUpdate:modelValue":[t[27]||(t[27]=x=>a.dataPrevisaoEntrega=x),i.ajustarDataHoraPrevisaoEntrega],rotulo:"Data Previs\xE3o de Entrega",maxlength:"10",tipo:"data",error:!!i.erroDataHoraPrevisto,errorMessage:i.erroDataHoraPrevisto},null,8,["modelValue","error","errorMessage","onUpdate:modelValue"])]),A("div",G3e,[v(n,{modelValue:a.horaPrevisaoEntrega,"onUpdate:modelValue":[t[28]||(t[28]=x=>a.horaPrevisaoEntrega=x),i.ajustarDataHoraPrevisaoEntrega],rotulo:"Hora Previs\xE3o de Entrega",maxlength:"4",tipo:"hora"},null,8,["modelValue","onUpdate:modelValue"])])]),_:1})])]),_:1})),($(),ue(Bt,{key:1,class:"q-mb-md bg-white no-shadow"},{default:w(()=>[A("div",W3e,[v(s,{class:"q-col-gutter-md"},{default:w(()=>[A("div",X3e,[v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.armacao.diagonal,"onUpdate:modelValue":t[29]||(t[29]=x=>a.armacao.diagonal=x),tipo:"decimal",decimals:"2",rotulo:"Diagonal",permiteNull:""},null,8,["somente-leitura","modelValue"])]),A("div",Y3e,[v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.armacao.ponte,"onUpdate:modelValue":t[30]||(t[30]=x=>a.armacao.ponte=x),tipo:"decimal",decimals:"2",rotulo:"Ponte",permiteNull:""},null,8,["somente-leitura","modelValue"])]),A("div",K3e,[v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.armacao.altura,"onUpdate:modelValue":t[31]||(t[31]=x=>a.armacao.altura=x),tipo:"decimal",decimals:"2",rotulo:"Altura Vertical",permiteNull:""},null,8,["somente-leitura","modelValue"])]),A("div",Q3e,[v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.armacao.largura,"onUpdate:modelValue":t[32]||(t[32]=x=>a.armacao.largura=x),rotulo:"Largura",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["somente-leitura","modelValue"])]),A("div",J3e,[v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.armacao.armacaoMaterial,"onUpdate:modelValue":t[33]||(t[33]=x=>a.armacao.armacaoMaterial=x),after:[{icon:"add_circle",handler(){i.abrirArmacaoMaterialModal()}}],opcoes:a.opcoesArmacaoMaterial,"rotulo-fixo":"Material",tipo:"seletor"},null,8,["somente-leitura","modelValue","after","opcoes"])]),A("div",Z3e,[v(n,{"somente-leitura":a.envelope.somenteLeitura,modelValue:a.armacao.tipoMontagem,"onUpdate:modelValue":t[34]||(t[34]=x=>a.armacao.tipoMontagem=x),after:[{icon:"add_circle",handler(){i.abrirTipoMontagemModal()}}],opcoes:a.opcoesTipoMontagem,"rotulo-fixo":"Tipo Montagem",tipo:"seletor"},null,8,["somente-leitura","modelValue","after","opcoes"])])]),_:1})])]),_:1}))])])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),v(Qt,{modelValue:a.armacaoMaterialModal,"onUpdate:modelValue":t[38]||(t[38]=x=>a.armacaoMaterialModal=x)},{default:w(()=>[v(Bt,null,{default:w(()=>[v(at,null,{default:w(()=>[v(nt,null,{default:w(()=>[te("Cadastrar Material")]),_:1})]),_:1}),v(Ja,null,{default:w(()=>[v(n,{modelValue:a.armacaoMaterialDescricao,"onUpdate:modelValue":t[36]||(t[36]=x=>a.armacaoMaterialDescricao=x),modelModifiers:{trim:!0},class:"row",maxlength:"60",rotulo:"Material"},null,8,["modelValue"])]),_:1}),v(at,null,{default:w(()=>[v(nt,null,{default:w(()=>[A("div",eDe,[v(pe,{flat:"",color:"tertiary",onClick:t[37]||(t[37]=x=>a.armacaoMaterialModal=!1),label:"Cancelar"}),v(pe,{unelevated:"",color:"primary",onClick:i.criarArmacaoMaterial,label:"Criar"},null,8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),v(Qt,{modelValue:a.tipoMontagemModal,"onUpdate:modelValue":t[41]||(t[41]=x=>a.tipoMontagemModal=x)},{default:w(()=>[v(Bt,null,{default:w(()=>[v(at,null,{default:w(()=>[v(nt,null,{default:w(()=>[te("Cadastrar Tipo Montagem")]),_:1})]),_:1}),v(Ja,null,{default:w(()=>[v(n,{modelValue:a.tipoMontagemDescricao,"onUpdate:modelValue":t[39]||(t[39]=x=>a.tipoMontagemDescricao=x),modelModifiers:{trim:!0},class:"row",maxlength:"60",rotulo:"Tipo Montagem"},null,8,["modelValue"])]),_:1}),v(at,null,{default:w(()=>[v(nt,null,{default:w(()=>[A("div",tDe,[v(pe,{flat:"",color:"tertiary",onClick:t[40]||(t[40]=x=>a.tipoMontagemModal=!1),label:"Cancelar"}),v(pe,{unelevated:"",color:"primary",onClick:i.criarTipoMontagem,label:"Criar"},null,8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),v(Qt,{modelValue:a.modalPupilometro.visivel,"onUpdate:modelValue":t[43]||(t[43]=x=>a.modalPupilometro.visivel=x),maximized:"",onHide:t[44]||(t[44]=x=>i.fecharModalPupilometro())},{default:w(()=>[v(Jo,{class:"bg-light"},{default:w(()=>[v(f,{ref:"pupilometro",avancar:a.modalPupilometro.avancar,somenteLeitura:a.envelope.somenteLeitura,onFecharModal:t[42]||(t[42]=x=>i.fecharModalPupilometro())},null,8,["avancar","somenteLeitura"])]),_:1})]),_:1},8,["modelValue"]),v(p,{ref:"modalDependente","cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente inclu\xEDdo com sucesso.",titulo:"Incluir Paciente",observacao:""},null,512),v(g,{modelValue:a.modalItem.visivel,"onUpdate:modelValue":t[49]||(t[49]=x=>a.modalItem.visivel=x),filtro:a.modalItem.filtros,filtroAvancado:a.filtroAvancado,onSelecionarItens:i.selecionarItens,onLimparFiltroAvancado:i.limparFiltroAvancado},JC({_:2},[a.filtroAvancado?{name:"camposFiltroAvancado",fn:w(()=>[v(n,{modelValue:a.filtroAvancado.lenteTipo,"onUpdate:modelValue":t[45]||(t[45]=x=>a.filtroAvancado.lenteTipo=x),class:"col-12 col-lg-4",maxlength:"60",rotulo:"Tipo",tipo:"seletor",opcoes:a.filtroAvancado.opcoesTiposLente},null,8,["modelValue","opcoes"]),v(n,{modelValue:a.filtroAvancado.esfericoInicial.lte,"onUpdate:modelValue":t[46]||(t[46]=x=>a.filtroAvancado.esfericoInicial.lte=x),prefix:"<=",rotulo:"Esf\xE9rico Inicial",tipo:"decimal",decimals:"2",dense:""},null,8,["modelValue"]),v(n,{modelValue:a.filtroAvancado.esfericoFinal.gte,"onUpdate:modelValue":t[47]||(t[47]=x=>a.filtroAvancado.esfericoFinal.gte=x),prefix:">=",rotulo:"Esf\xE9rico Final",tipo:"decimal",decimals:"2",dense:""},null,8,["modelValue"]),v(n,{modelValue:a.filtroAvancado.cilindrico.lte,"onUpdate:modelValue":t[48]||(t[48]=x=>a.filtroAvancado.cilindrico.lte=x),prefix:"<=",rotulo:"Cil\xEDndrico",tipo:"decimal",decimals:"2",dense:""},null,8,["modelValue"])]),key:"0"}:void 0]),1032,["modelValue","filtro","filtroAvancado","onSelecionarItens","onLimparFiltroAvancado"]),v(b,{ref:"modalReceita",onAtualizar:i.atualizarReceita},null,8,["onAtualizar"])],64)}var aDe=ht(AOe,[["render",oDe]]);const rDe={data(){return{campos:{valor:0,idCaixa:"",observacao:""},caixas:[],visivel:!1}},methods:{async abrirCaixa(){try{$q.loading.show({message:"Processando..."}),await $db.caixa.abra(this.campos),this.$emit("aberto"),$q.notifyPositive("Caixa aberto com sucesso."),this.visivel=!1}catch(e){let t="N\xE3o foi poss\xEDvel abrir o caixa.";/^GError:.+$/.test(e.message)&&(t=e.message.slice(7)),$q.notifyError(t,e)}finally{$q.loading.hide()}},async atualizar(){let e=await $db.caixa.le({aberto:!1}),t=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data;if(e=e.filter(r=>{if(!r.ativo)return!1;const a=t.filter(i=>i.id===r.idEmpresa);if(a.length)return r.apelidoEmpresa=a[0].apelido,!0}),!e.length){$q.notify({message:"N\xE3o h\xE1 caixas para abrir.",type:"warning"});return}const o=[];for(const r of e)o.push({value:r.id,label:r.descricao+" "+r.apelidoEmpresa,...r});this.caixas=o,this.campos.idCaixa=this.caixas[0].id,this.visivel=!0},async mostrar(){this.campos={valor:0,idCaixa:"",observacao:""},await this.atualizar()}},emits:["aberto"]},iDe={class:"col-12"},nDe={class:"col-12"},sDe={class:"col-12"},lDe={class:"q-mt-lg text-right"};function cDe(e,t,o,r,a,i){const n=ke("campo"),s=ke("row");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[3]||(t[3]=l=>a.visivel=l),"content-css":{minWidth:"50vw"}},{default:w(()=>[v(Bt,null,{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Abertura de Caixa")]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),v(Ja,null,{default:w(()=>[v(ku,{onSubmit:i.abrirCaixa},{default:w(()=>[v(s,{class:"q-col-gutter-md"},{default:w(()=>[A("div",iDe,[v(Kn,{modelValue:a.campos.idCaixa,"onUpdate:modelValue":t[0]||(t[0]=l=>a.campos.idCaixa=l),label:"Caixa",options:a.caixas,"option-value":"id","option-label":"label","emit-value":"","map-options":""},null,8,["modelValue","options"])]),A("div",nDe,[v(n,{modelValue:a.campos.valor,"onUpdate:modelValue":t[1]||(t[1]=l=>a.campos.valor=l),class:"row",tipo:"decimal",decimals:"2",rotulo:"Valor inicial"},null,8,["modelValue"])]),A("div",sDe,[v(n,{modelValue:a.campos.observacao,"onUpdate:modelValue":t[2]||(t[2]=l=>a.campos.observacao=l),class:"row",tipo:"texto",rotulo:"Observa\xE7\xE3o"},null,8,["modelValue"])])]),_:1}),A("div",lDe,[Te(v(pe,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[lt]]),v(pe,{color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Abrir",type:"submit"})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var uDe=ht(rDe,[["render",cDe]]),dDe={data(){return{condicaoPagamento:[],condicaoPagamentoOriginal:[],condicaoPagamentoResumo:[]}},methods:{async resumeCondicaoPagamento(){const e=await $db.formaPagamento.le(),t=this.condicaoPagamento.filter(r=>this.condicaoPagamentoOriginal.find(a=>a.id===r.id&&(a.valor!==r.valor||a.dataVencimento!==r.dataVencimento))).map(r=>r.id);for(let r of this.condicaoPagamento)t.includes(r.id)&&(r.id=$utils.uuid());let o=this.condicaoPagamento.reduce((r,a)=>{let i=-1,n=e.find(s=>s.id===a.idFormaPagamento)||{};return a.parcelas=1,a.formaPagamento=n.descricao,a.autorizacao&&(i=r.findIndex(s=>a.autorizacao===s.autorizacao&&a.idFormaPagamento===s.idFormaPagamento&&a.idDocumentoCaixa===s.idDocumentoCaixa)),i!==-1?(r[i].parcelas++,n.tipo!==5&&(r[i].valor+=a.valor)):r.push($utils.clonar(a)),r},[]);for(const r of o){const a=e.find(i=>i.id===r.idFormaPagamento);if(r.idFinanceiroTitulo&&a&&a.tipoFinanceiro==="T\xEDtulo em aberto"){let i,n;i=await $erp().financeiroTitulo.get(r.idFinanceiroTitulo),i&&i.idFinanceiroMovimentacaoAgrupamento&&(n=await $erp().financeiroMovimentacao.where({idFinanceiroMovimentacaoN:i.idFinanceiroMovimentacaoAgrupamento}).toArray(),n=n.find(s=>s.idFinanceiroCheque),n&&(i=await $erp().financeiroTitulo.get(n.idFinanceiroCheque))),i&&i.dataPagamento&&(r.liquidado=!0)}}this.condicaoPagamentoResumo=$lodash.orderBy(o,["idFormaPagamento","dataVencimento"],["","asc"])}}};const fDe={components:{Badge:vl,CaixaAbrir:uDe},computed:{desabilitadoDataVencimento(){if(this.formaPagamento.tipo===99&&!this.formaPagamento.contaCredito)return!1;const e=this.formaPagamento?this.formaPagamento.tipo:!1,{dataVencimento:t}=this.perfisFormasPagamento;return e?!~t.indexOf(e):!0},perfisFormasPagamento(){return{parcelas:[2,3,4,5,97],dataVencimento:[2,5,97]}},temParcelamento(){if(this.formaPagamento.tipo===99&&!this.formaPagamento.contaCredito)return!0;const e=this.formaPagamento?this.formaPagamento.tipo:!1,{parcelas:t}=this.perfisFormasPagamento;return e?~t.indexOf(e):!1}},data(){return{habilitaFaturamento:!1,faturamento:"",descricaoBanco:"",campos:{agencia:"",autorizacao:"",nomeTitular:"",idBanco:"",idDocumento:"",idDocumentoCondicaoPagamento:"",conta:"",dataVencimento:"",documento:"",idFormaPagamento:"",numeroCheque:"",observacao:"",valor:0},modalPagamento:!1,observacaoFaturamento:"",idFormaPagamentoObservacao:"",parcelas:1,formaPagamento:{},formasPagamento:[],idDocumentoCaixa:"",caixas:[],temCaixaEmpresa:!1,valorRestante:0,checaLimite:!1,creditoDevolucao:0,creditoDisponivel:0,somenteLeitura:{observacaoFaturamento:!1,caixas:!1,formasPagamento:!1,condicaoPagamento:{}},opcoesBanco:[],verificarValor:!1,verificarErroParcelamento:!1,verificarDataVencimento:!1,verificarDadosCartao:!1,visivel:!1,permissaoCaixa:!1,troco:0,rules:{valor:[]}}},methods:{ajustarValorCarnes(){let e;e=this.condicaoPagamento.filter(i=>i.idFormaPagamento===this.campos.idFormaPagamento&&!this.condicaoPagamentoResumo.find(n=>n.id===i.id&&n.liquidado)),e=$lodash.orderBy(e,["dataVencimento"],["asc"]);const t=$utils.arredondar(e.reduce((i,n)=>(n.id===this.campos.id?i+=this.campos.edicao.valor:i+=n.valor,i),0));let o=!1,r=$utils.arredondar(e.reduce((i,n)=>(n.id===this.campos.id&&(o=!0),o||(i+=n.valor),i),this.campos.valor));o=!1,e=e.map(i=>{if(o){let n=this.campos.valor;return $utils.arredondar(r+n)>t&&(n=$utils.arredondar(t-r)),r+=n,{...i,valor:n}}return i.id===this.campos.id&&(o=!0),i});let a=e[e.length-1].valor;a=$utils.arredondar(a+(t-r)),e[e.length-1].valor=a,this.condicaoPagamento=this.condicaoPagamento.map(i=>{const n=e.find(s=>s.id===i.id);return n&&(i.valor=n.valor),i})},ajustarDatasCarnes(){let e=new Date(this.campos.dataVencimento).getMonth(),t=!1;this.condicaoPagamento=$lodash.orderBy(this.condicaoPagamento,["dataVencimento"],["asc"]).map(o=>{if(t&&o.idFormaPagamento===this.campos.idFormaPagamento&&!this.condicaoPagamentoResumo.find(r=>r.id===o.id&&r.liquidado)){let r=new Date(this.campos.dataVencimento).setMonth(++e);return{...o,dataVencimento:Ba.formatDate(r)}}return o.id===this.campos.id&&(t=!0),o})},async adicionarPagamento(){this.limparErro(),await this.checarCaixa();const e=this.campos.edicao&&(this.formasPagamento.find(d=>d.id===this.campos.edicao.idFormaPagamento)||{}).tipo===5,t=this.campos.edicao&&(this.formasPagamento.find(d=>d.id===this.campos.edicao.idFormaPagamento)||{}).tipo===99&&!(this.formasPagamento.find(d=>d.id===this.campos.edicao.idFormaPagamento)||{}).contaCredito;if(this.campos.edicao&&(e||t)){this.campos.dataVencimento!==this.campos.edicao.dataVencimento&&await new Promise((m,f)=>{this.$q.dialog({message:"Deseja ajustar as pr\xF3ximas parcelas para o mesmo dia e meses seguintes?",noRefocus:!0,preventClose:!0,title:"Ajustar vencimentos",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(()=>{m(),this.ajustarDatasCarnes()}).onCancel(()=>{m()})}),this.campos.valor!==this.campos.edicao.valor&&this.ajustarValorCarnes();const d=this.condicaoPagamento.findIndex(m=>m.id===this.campos.id);d!==-1&&(this.condicaoPagamento[d].dataVencimento=this.campos.dataVencimento,this.condicaoPagamento[d].valor=this.campos.valor,this.condicaoPagamento[d].observacao=this.campos.observacao),await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),await this.redefinirCampos();return}this.campos.edicao&&(this.campos.edicao.autorizacao?this.condicaoPagamento=this.condicaoPagamento.filter(d=>!(d.autorizacao===this.campos.edicao.autorizacao&&d.idFormaPagamento===this.campos.edicao.idFormaPagamento&&d.idDocumentoCaixa===this.campos.edicao.idDocumentoCaixa)):this.condicaoPagamento=this.condicaoPagamento.filter(d=>d.id!==this.campos.edicao.id)),delete this.campos.edicao;const o=d=>d*24*60*60*1e3,r=$utils.clonar(this.campos),a=$utils.arredondar(this.condicaoPagamento.reduce((d,m)=>d+m.valor,0)),i=$utils.arredondar(this.documento.totalDocumento-a);this.documento.totalDocumento<0&&(r.valor=$utils.arredondar(r.valor*-1)),this.troco=0,r.valor>i&&(this.formaPagamento.tipo===1&&(this.troco=$utils.arredondar(r.valor-i),this.$q.notifyPositive("Troco: "+this.$filters.numero(this.troco,2))),r.valor=$utils.arredondar(i));let n=$utils.clonar(this.condicaoPagamento);const{diasPrimeira:s,diasDemais:l}=this.formaPagamento;if(!r.dataVencimento){let d=new Date;const m=this.caixas.reduce((f,p)=>(f[p.id]||(f[p.id]=p),f),{});m[this.idDocumentoCaixa]&&(d=new Date(m[this.idDocumentoCaixa].dataHoraEmissao)),r.dataVencimento=d.getTime()+(s?o(s):0)}const u=(r.valor/this.parcelas*100|0)/100,c=$utils.arredondar(u+(r.valor-u*this.parcelas));for(let d=1;d<=this.parcelas;d++){const m=$utils.clonar(r);m.valor=d===1?c:u;let f=new Date(m.dataVencimento);this.formaPagamento.tipo===5&&(l===30||l===31)?m.dataVencimento=Ba.formatDate(f.setMonth(f.getMonth()+d-1)):m.dataVencimento=Ba.formatDate(f.getTime()+(l?o(l)*(d-1):0)),m.id=$utils.uuid(),m.idDocumento=this.documento.id,m.idDocumentoCondicaoPagamento=m.id,m.idDocumentoCaixa=this.idDocumentoCaixa,n.push(m)}n=$lodash.orderBy(n,["idFormaPagamento","dataVencimento"],["","asc"]),this.condicaoPagamento=n,await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),await this.redefinirCampos()},aoSelecionarFormaPagamento(){this.formaPagamento=this.formasPagamento.filter(e=>e.id===this.campos.idFormaPagamento)[0],this.campos.dataVencimento="",this.parcelas=1},async aoSelecionarFormaPagamentoObservacao(){const t=(this.formasPagamento.find(o=>o.id===this.idFormaPagamentoObservacao)||{}).descricao;t&&(this.observacaoFaturamento?this.observacaoFaturamento=t+" | "+this.observacaoFaturamento:this.observacaoFaturamento=t),this.idFormaPagamentoObservacao=""},async alterarPagamento(e){if(this.campos=$utils.clonar(e),this.campos.idBanco){const t=await $erp()._banco.get(this.campos.idBanco);t&&(this.descricaoBanco=`${t.descricao||""} - ${t.numero||""}`)}this.documento.totalDocumento<0&&(this.campos.valor=$utils.arredondar(this.campos.valor*-1)),this.campos.edicao=$utils.clonar(e),this.parcelas=this.campos.parcelas,this.formaPagamento=this.formasPagamento.filter(t=>t.id===e.idFormaPagamento)[0],this.modalPagamento=!0},async atualizar(){const e=await $db.contato.le({id:this.documento.idContato});this.creditoDevolucao=$utils.arredondar(e.creditoDevolucao);let t=await $db.formaPagamento.le();if(t=t.map(o=>{let r=!!o.ativo;return(this.documento.totalDocumento<0&&!(o.tipo===99&&o.contaCredito)||this.documento.totalDocumento>=0&&this.saldoCreditoCliente<=0&&o.tipo===99&&o.contaCredito||this.documento.totalDocumento<o.valorMinimoVenda)&&(r=!1),o.idContatoEmpresa&&o.idContatoEmpresa!==this.documento.idEmpresa&&(r=!1),{rotulo:o.descricao,valor:o.id,visivel:r,...o}}),this.formasPagamento=$lodash.orderBy(t,"rotulo","asc"),this.checaLimite=!!this.formasPagamento.find(o=>o.utilizaLimite),this.checaLimite&&(this.creditoDisponivel=$utils.arredondar(e.creditoDisponivel)),this.temCaixaEmpresa=!!(await $erp().caixa.where({idEmpresa:this.documento.idEmpresa}).toArray()).filter(o=>o.ativo).length,this.idDocumentoCaixa="",this.temCaixaEmpresa){let o;$db.usuario.logado.cpf&&(o=(await $db.contato.ler({filtros:{termoBusca:$db.usuario.logado.cpf}})).data.find(i=>{var n;return i.numeroDocumentoNacional.replace(/\D/g,"")===((n=$db.usuario.logado.cpf)==null?void 0:n.replace(/\D/g,""))}));try{this.permissaoCaixa=await $db.permissao.objeto("caixa/empresas"),await $db.permissao.objeto("Diretiva_Caixa_LivreUtilizacao")&&(o=null)}catch{this.$q.notify("N\xE3o foi poss\xEDvel recuperar informa\xE7\xF5es de permiss\xE3o.")}let r=(await $db.caixa.le({aberto:!0})).filter(a=>a.idEmpresa===this.documento.idEmpresa);if(this.documento.tipo!=="Venda"&&(r=r.filter(a=>!o||a.idContato===(o==null?void 0:o.id))),r.length){for(const a of r)a.rotulo=((await $db.caixa.le({id:a.idCaixa})||{}).descricao||"")+" - Aberto em "+this.$filters.dataHora(a.dataHoraEmissao)+(a.status==="Reaberto"?" - Reaberto":""),a.valor=a.id;this.caixas=$lodash.orderBy(r,"dataHoraEmissao","desc")}this.idDocumentoCaixa=(this.caixas[0]||{}).valor||""}await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),this.preencherSomenteLeitura(),await this.redefinirCampos(),this.habilitarFaturamento(),this.visivel=this.temCaixaEmpresa&&this.idDocumentoCaixa||!this.temCaixaEmpresa},async habilitarFaturamento(){if(this.documento.tipo==="Fatura"&&(this.habilitaFaturamento=!0),this.documento.idEmpresa&&this.documento.tipo==="Venda"){let e=await $erp().configuracoes.where({nome:"vendas.gerafatura"}).toArray(),t=e.find(r=>r.idEmpresa===this.documento.idEmpresa);t||(t=e.find(r=>!r.idEmpresa));const o=t?parseInt(t.valor):0;this.habilitaFaturamento=[0,2].includes(o)}},configRules(){this.rules={valor:[()=>{if(!this.verificarValor)return!0;if(this.campos.valor<=0)return"Valor n\xE3o permitido";if(this.formaPagamento.tipo===99&&this.formaPagamento.contaCredito&&this.documento.totalDocumento>0){let e;if(e=this.condicaoPagamentoResumo.reduce((t,o)=>(this.formaPagamento.id===o.idFormaPagamento&&!o.sinal&&(t+=o.valor),t),this.campos.valor),e=$utils.arredondar(e),e>this.creditoDevolucao)return"Cr\xE9dito de devolu\xE7\xE3o dispon\xEDvel: "+this.$filters.numero(this.creditoDevolucao,2)}if(this.formaPagamento.utilizaLimite&&this.documento.totalDocumento>0&&$utils.arredondar(this.$lodash.get(this.campos,"valor",0))>$utils.arredondar(this.$lodash.get(this.campos,"edicao.valor",0))){let e=0;for(const t of this.condicaoPagamentoResumo)(this.formasPagamento.find(r=>r.id===t.idFormaPagamento)||{}).utilizaLimite&&(e+=t.valor);if($utils.arredondar(e+this.campos.valor)>this.creditoDisponivel)return"Limite restante de cr\xE9dito dispon\xEDvel: "+this.$filters.numero(this.creditoDisponivel-e,2)}return!0}],parcelamento:[()=>{if(!this.verificarErroParcelamento)return!0;if(this.temParcelamento){if(!this.parcelas)return"Preenchimento obrigat\xF3rio";const e=1,t=this.formaPagamento.parcelamentoMaximo||1;if(this.parcelas<e)return"M\xEDnimo permitido: "+e;if(this.parcelas>t)return"M\xE1ximo permitido: "+t}return!0}],dataVencimento:[()=>{if(!this.verificarDataVencimento)return!0;let e=new Date(new Date().toDateString()),t="Data vencimento n\xE3o pode ser menor que a data de hoje.";const o=this.caixas.reduce((r,a)=>(r[a.id]||(r[a.id]=a),r),{});return o[this.idDocumentoCaixa]&&(e=new Date(new Date(o[this.idDocumentoCaixa].dataHoraEmissao).toDateString()),t="Data vencimento n\xE3o pode ser menor que a data do caixa."),this.campos.dataVencimento&&new Date(new Date(this.campos.dataVencimento).toDateString())<e?t:!0}],autorizacaoCartao:[()=>this.verificarDadosCartao?this.campos.autorizacao?!0:"Campo Obrigat\xF3rio":!0],documentoCartao:[()=>this.verificarDadosCartao?this.campos.documento?!0:"Campo Obrigat\xF3rio":!0]}},async temErro(){let e=!1;return this.verificarErroParcelamento=!0,this.verificarDataVencimento=!0,this.verificarValor=!0,await this.$nextTick(),this.$refs.formAdicionarPagamento.getValidationComponents().forEach(t=>{!t.validate()&&!e&&(e=!0)}),this.$refs.formEditarPagamento&&this.$refs.formEditarPagamento.getValidationComponents().forEach(t=>{!t.validate()&&!e&&(e=!0)}),e},limparErro(){this.verificarErroParcelamento=!1,this.verificarDataVencimento=!1,this.verificarValor=!1,this.verificarDadosCartao=!1},async aoAdicionarPagamento(){if(this.descricaoBanco="",this.campos.agencia="",this.campos.autorizacao="",this.campos.documento="",this.campos.nomeTitular=$db.contato.selecionado.nome,this.campos.idBanco="",this.campos.conta="",this.campos.numeroCheque="",this.campos.observacao="",await this.temErro())return;~[2,3,4].indexOf(this.formasPagamento.filter(t=>t.id===this.campos.idFormaPagamento)[0].tipo)?this.modalPagamento=!0:this.adicionarPagamento()},aoCancelarModalPagamento(e){e&&e.preventDefault(),this.campos.idDocumentoCondicaoPagamento&&this.redefinirCampos(),this.modalPagamento=!1},async aoSalvarModalPagamento(){if([3,4].includes(this.formaPagamento.tipo)){let e=await $db.configuracoes.porNome("pagamento.cartao.dadosobrigatorios",this.documento.idEmpresa);if(this.verificarDadosCartao=!!(e.length&&parseInt(e[0].valor)),this.erroPreenchimentoAutorizacaoCartao||this.erroPreenchimentoDocumentoCartao)return}await this.temErro()||(this.adicionarPagamento(),this.modalPagamento=!1,this.verificarDataVencimento=!1,this.verificarValor=!1,this.verificarDadosCartao=!1)},async atualizaValorRestante(){const e=this.condicaoPagamento.reduce((t,{valor:o})=>t+o,0);this.valorRestante=Math.abs($utils.arredondar(this.documento.totalDocumento-e))},selecionarBanco(e){this.descricaoBanco=e.label,this.campos.idBanco=e.value},filtrarBancos(e,t){setTimeout(()=>{t(async()=>{if(await this.leOpcoesBanco(),e!==""){const o=$utils.removerAcentos(e.toLowerCase()).split(" ");this.opcoesBanco=this.opcoesBanco.filter(r=>{const a=$utils.removerAcentos(r.label.toLowerCase());for(const i of o)if(!(a.indexOf(i)>-1))return!1;return!0})}})},500)},async leOpcoesBanco(){this.opcoesBanco.length||(this.opcoesBanco=(await $db.banco.le()).map(e=>({label:`${e.descricao} - ${e.numero}`,value:e.id})))},preencherSomenteLeitura(){const e={};e.observacaoFaturamento=!1,e.caixas=!1,e.formasPagamento=!1,e.condicaoPagamento={};const t=this.caixas.reduce((o,r)=>(r.status==="Reaberto"&&!o[r.id]&&(o[r.id]=r),o),{});for(const o of this.condicaoPagamentoResumo)o.idDocumentoCaixa&&o.idDocumentoCaixa!==this.idDocumentoCaixa&&(e.condicaoPagamento[o.id]=!0),t[o.idDocumentoCaixa]&&(e.observacaoFaturamento=!1,e.caixas=!1,e.formasPagamento=!1);this.somenteLeitura=e},redefinirCampos(){this.parcelas=1,this.descricaoBanco="",this.campos={agencia:"",autorizacao:"",nomeTitular:"",idBanco:"",idDocumentoCondicaoPagamento:"",conta:"",dataVencimento:"",documento:"",idFormaPagamento:"",numeroCheque:"",observacao:"",valor:this.valorRestante}},async removerPagamento(e,t=!0){const o=this.formasPagamento.find(i=>i.id===e.idFormaPagamento),r=o.tipo===5,a=o.tipo===99&&!o.contaCredito;if((r||a)&&this.condicaoPagamento.filter(i=>i.idFormaPagamento===o.id).length>1&&!this.condicaoPagamentoResumo.find(i=>i.idFormaPagamento===e.idFormaPagamento&&i.liquidado))try{t&&await new Promise((i,n)=>{this.$q.dialog({message:r?"Deseja remover todos os carn\xEAs?":"Deseja remover todos os boletos?",title:"Tem certeza?",cancel:{label:"N\xC3O",push:!0,color:"tertiary",flat:!0},ok:{label:"SIM",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{i()}).onCancel(()=>{n()})}),this.condicaoPagamento=this.condicaoPagamento.filter(i=>i.idFormaPagamento!==o.id),await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),await this.redefinirCampos();return}catch{}try{t&&await new Promise((i,n)=>{$q.dialog({message:"Ao continuar voc\xEA ir\xE1 remover este item",title:"Tem certeza?",cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"CONTINUAR",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{i()}).onCancel(()=>{n()})}),this.troco=0,e.autorizacao?this.condicaoPagamento=this.condicaoPagamento.filter(i=>!(i.autorizacao===e.autorizacao&&i.idFormaPagamento===e.idFormaPagamento&&i.idDocumentoCaixa===e.idDocumentoCaixa)):((r||a)&&(this.campos.id=e.id,this.campos.idFormaPagamento=e.idFormaPagamento,this.campos.valor=0),this.condicaoPagamento=this.condicaoPagamento.filter(i=>i.id!==e.id)),await this.resumeCondicaoPagamento(),await this.atualizaValorRestante(),await this.redefinirCampos()}catch{}},calcularParcelas(){let e="",t=1,o=1,r={};const a=$lodash.orderBy(this.condicaoPagamento,["idFormaPagamento","autorizacao","dataVencimento"]);for(const i of a){const n=i.idFormaPagamento+(String(i.autorizacao)||"");if(e===n){r[i.id]=String(t++)+"/"+String(o);continue}e=n,t=1,o=a.reduce((s,l)=>s+(l.idFormaPagamento+(String(l.autorizacao)||"")===e?1:0),0),r[i.id]=String(t++)+"/"+String(o)}return r},async tef(e){var d,m;const{fatura:t,tefRetorno:o,valorDinheiro:r}=e!=null?e:{};let a,i,n,s,l,u,c;a=await $erp().formaPagamento.toArray(),a=a.filter(f=>f.ativo),a.sort((f,p)=>f.parcelamentoMaximo<p.parcelamentoMaximo?-1:1);for(const f of this.condicaoPagamento)await this.removerPagamento(f,!1);r&&(i=a.find(f=>f.idContatoEmpresa===t.idEmpresa&&f.tipo===1),i||(i=a.find(f=>!f.idContatoEmpresa&&f.tipo===1)),this.parcelas=1,this.campos.idFormaPagamento=(d=i==null?void 0:i.id)!=null?d:"",this.campos.valor=r,await this.adicionarPagamento()),c=Number(jh.extrairCampo("parcelas",o))||1,l=jh.extrairCampo("codigoAutorizacao",o),s=Number(jh.extrairCampo("codigoTransacao",o)),u=jh.extrairCampo("nsu",o),s===32&&(n=4),s===56&&(n=3),i=a.find(f=>f.idContatoEmpresa===t.idEmpresa&&f.tef&&f.tipo===n&&c<f.parcelamentoMaximo+1),this.parcelas=c,this.campos.idFormaPagamento=(m=i==null?void 0:i.id)!=null?m:"",this.campos.autorizacao=l,this.campos.documento=u,this.campos.tefRetorno=o,await this.adicionarPagamento()},async checarCaixa(){let e,t,o,r;if(!!this.idDocumentoCaixa&&(e=this.caixas.filter(a=>a.valor===this.idDocumentoCaixa),(!e.length||!e[0].dataHoraEmissao)&&(t="N\xE3o \xE9 poss\xEDvel verificar a data de abertura do caixa."),t||(o=new Date().setHours(0,0,0,0),r=new Date(e[0].dataHoraEmissao).setHours(0,0,0,0),e[0].status!=="Reaberto"&&r<o&&(t="N\xE3o \xE9 poss\xEDvel incluir forma de pagamento de caixa com data diferente de hoje.")),t))throw $q.notify({message:t,type:"negative"}),new Error(t)},async validar(){try{const e=await $db.contato.le({id:this.documento.idContato});$utils.verificarExcecao(!e.id,"N\xE3o foi poss\xEDvel encontrar o contato do documento.");const t=$utils.arredondar(this.condicaoPagamento.reduce((c,d)=>c+d.valor,0)),o=$utils.arredondar(this.documento.totalDocumento);$utils.verificarExcecao(!$utils.isNumber(t),"Valor inv\xE1lido na condi\xE7\xE3o de pagamento."),$utils.verificarExcecao(!$utils.isNumber(o),"Valor inv\xE1lido no total do documento.");const r=this.condicaoPagamentoOriginal.map(c=>c.id),a=this.condicaoPagamento.filter(c=>!r.includes(c.id));let i;for(const c of a){let d;if(c.idDocumentoCaixa?(d=await $db.documento.ler({id:c.idDocumentoCaixa}),i=new Date(d.dataHoraEmissao).setHours(0,0,0,0)):(d={},i=new Date().setHours(0,0,0,0)),new Date(new Date(c.dataVencimento).setHours(0,0,0,0))<i){const p="Existe condi\xE7\xE3o de pagamento com data anterior \xE0 "+(d.dataHoraEmissao?"data de abertura do caixa":"data de hoje");$utils.verificarErro(!0,p)}const f=d.id&&this.documento.idEmpresa!==d.idEmpresa;$utils.verificarErro(f,"Condi\xE7\xE3o de pagamento incorreta: caixa e documento pertencem a empresas diferentes.")}let n=o&&!t;$utils.verificarErro(n,"N\xE3o h\xE1 condi\xE7\xE3o de pagamento."),n=o>=0&&t>o,$utils.verificarErro(n,"O total das condi\xE7\xF5es de pagamento \xE9 maior que o total do documento.");const s=await $db.caixa.leNew({idEmpresa:this.documento.idEmpresa});if($utils.verificarErro(s.filter(c=>c.ativo).length&&!this.idDocumentoCaixa,"Selecione um caixa para continuar."),this.checaLimite){const c=$utils.arredondar(e.creditoDisponivel);let d;for(const m of this.condicaoPagamentoResumo){const f=this.formasPagamento.find(p=>p.id===m.idFormaPagamento);f!=null&&f.utilizaLimite&&(d||(d=0),d+=m.valor||0)}$utils.verificarErro(d&&$utils.isNumber(c)&&c<$utils.arredondar(d),"Limite de cr\xE9dito insuficiente.")}const l=this.formasPagamento.filter(c=>c.tipo===99&&c.contaCredito).map(c=>c.id),u=this.condicaoPagamento.find(c=>l.includes(c.idFormaPagamento)&&!c.sinal);if(o>0&&u){let c;const d=$utils.arredondar(e.creditoDevolucao);c=this.condicaoPagamento.filter(m=>~l.indexOf(m.idFormaPagamento)&&!m.sinal),c=c.reduce((m,f)=>m+f.valor,0),c=$utils.arredondar(c),$utils.verificarErro($utils.isNumber(d)&&d<c,"Cr\xE9dito de devolu\xE7\xE3o insuficiente.")}if(t&&t<o){let c=await $db.configuracoes.le({nome:"vendas.aceitasinal"}),d=c.find(p=>p.idEmpresa===this.documento.idEmpresa);d||(d=c.find(p=>!p.idEmpresa));const m=d?!!parseInt(d.valor):!1;$utils.verificarErro(!m,"Valor pago menor que o total do documento.");const f=this.$q.loading.isActive;this.$q.loading.hide(),await new Promise((p,g)=>{this.$q.dialog({message:"O total das condi\xE7\xF5es de pagamento \xE9 menor que o total do documento. Deseja finalizar como sinal?",noRefocus:!0,preventClose:!0,title:"Confirma?",cancel:{label:"n\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(()=>{p()}).onCancel(()=>{g()})}),f&&this.$q.loading.show({message:"Processando..."})}}catch(e){throw this.$q.loading.hide(),e}}},mixins:[dDe],props:{documento:{default:()=>({}),required:!0,type:Object}},watch:{"documento.totalDocumento"(){this.documento.id&&this.atualizar()},documento(){this.documento.id&&(this.idDocumento!==this.documento.id&&(this.observacaoFaturamento=(this.documento||{}).observacaoFaturamento||"",this.idDocumento=this.documento.id),this.atualizar())},idDocumentoCaixa(){this.preencherSomenteLeitura()}},created(){this.configRules()},mounted(){this.visivel=!1}},l_=e=>(An("data-v-343f62d8"),e=e(),Tn(),e),mDe={class:"Faturamento"},pDe={key:1,class:"col-3 col-md"},hDe={class:"col-12 col-md-auto"},vDe={key:0,class:"text-caption q-mt-md text-center text-tertiary uppercase"},gDe=l_(()=>A("strong",{class:"q-mr-md"},"Valor restante",-1)),_De={key:1,class:"text-caption q-mt-md text-center text-tertiary uppercase"},bDe=l_(()=>A("strong",{class:"q-mr-md"},"Troco",-1)),yDe={key:4,class:"text-caption q-mt-md text-center text-tertiary uppercase"},CDe=l_(()=>A("strong",{class:"q-mr-md"},"Cr\xE9dito de devolu\xE7\xE3o",-1)),xDe={key:5,class:"text-caption q-mt-md text-center text-tertiary uppercase"},wDe=l_(()=>A("strong",{class:"q-mr-md"},"Limite de cr\xE9dito",-1)),IDe={class:"layout-padding"},EDe={class:"col-12"},SDe={class:"col-12"},ADe={class:"col-12"},TDe={class:"col-12"},ODe={class:"col-12"},DDe={class:"col-12"},PDe={class:"col-12"},MDe={key:2,class:"col-12"},NDe={class:"col-12"},FDe={class:"col-12"},RDe={class:"q-mt-lg text-right"};function kDe(e,t,o,r,a,i){const n=ke("campo"),s=ke("row"),l=ke("badge"),u=ke("caixa-abrir");return $(),be("div",mDe,[v(at,{class:"text-tertiary q-px-none"},{default:w(()=>[v(Ve,{name:"credit_card",size:"24px"}),v(nt,null,{default:w(()=>[te("Faturar")]),_:1})]),_:1}),a.visivel?($(),ue(s,{key:0,class:"q-col-gutter-md"},{default:w(()=>[a.habilitaFaturamento?ce("",!0):($(),ue(n,{key:0,modelValue:a.idFormaPagamentoObservacao,"onUpdate:modelValue":[t[0]||(t[0]=c=>a.idFormaPagamentoObservacao=c),i.aoSelecionarFormaPagamentoObservacao],class:"col-12 col-md-4",opcoes:a.formasPagamento.filter(c=>c.visivel),rotulo:"Forma de pagamento",tipo:"seletor"},null,8,["modelValue","opcoes","onUpdate:modelValue"])),v(n,{modelValue:a.observacaoFaturamento,"onUpdate:modelValue":t[1]||(t[1]=c=>a.observacaoFaturamento=c),class:ii(a.habilitaFaturamento?"col-12":"col-md-8"),tipo:"textoArea",rotulo:"Observa\xE7\xE3o faturamento","somente-leitura":a.somenteLeitura.observacaoFaturamento},null,8,["modelValue","class","somente-leitura"]),a.temCaixaEmpresa&&!a.somenteLeitura.caixas&&a.habilitaFaturamento?($(),ue(n,{key:1,modelValue:a.idDocumentoCaixa,"onUpdate:modelValue":t[2]||(t[2]=c=>a.idDocumentoCaixa=c),class:"col-12",opcoes:a.caixas,tipo:"seletor"},null,8,["modelValue","opcoes"])):ce("",!0)]),_:1})):ce("",!0),!a.visivel&&a.permissaoCaixa?($(),be("div",pDe,[v(pe,{class:"botaoAcesso full-width",color:"primary",outline:"",icon:"lock_open",onClick:t[3]||(t[3]=c=>e.$refs.modalCaixaAbrir.mostrar()),label:"Abrir caixa",size:"lg"})])):ce("",!0),v(ku,{ref:"formAdicionarPagamento"},{default:w(()=>[a.visivel&&!a.somenteLeitura.formasPagamento&&a.habilitaFaturamento?($(),ue(s,{key:0,class:"q-col-gutter-md items-center q-my-md"},{default:w(()=>[v(n,{modelValue:a.campos.idFormaPagamento,"onUpdate:modelValue":[t[4]||(t[4]=c=>a.campos.idFormaPagamento=c),i.aoSelecionarFormaPagamento],class:"col-12 col-md-4",opcoes:a.formasPagamento.filter(c=>c.visivel),rotulo:"Forma de pagamento",tipo:"seletor"},null,8,["modelValue","opcoes","onUpdate:modelValue"]),v(n,{modelValue:a.campos.valor,"onUpdate:modelValue":t[5]||(t[5]=c=>a.campos.valor=c),modelModifiers:{number:!0},class:"col-12 col-md",rotulo:"Valor",tipo:"decimal",decimals:"2",rules:a.rules.valor},null,8,["modelValue","rules"]),i.temParcelamento?($(),ue(n,{key:0,modelValue:a.parcelas,"onUpdate:modelValue":t[6]||(t[6]=c=>a.parcelas=c),modelModifiers:{number:!0},class:"col-12 col-md","rotulo-fixo":"Parcelas",tipo:"decimal",zerosDireita:"0",rules:a.rules.parcelamento},null,8,["modelValue","rules"])):ce("",!0),i.desabilitadoDataVencimento?ce("",!0):($(),ue(n,{key:1,modelValue:a.campos.dataVencimento,"onUpdate:modelValue":t[7]||(t[7]=c=>a.campos.dataVencimento=c),class:"col-12 col-md",rotulo:"Data",tipo:"data",rules:a.rules.dataVencimento},null,8,["modelValue","rules"])),A("div",hDe,[v(pe,{color:"positive",icon:"add",label:"Forma de pagamento",outline:"",size:"sm",disabled:!a.campos.idFormaPagamento,onClick:i.aoAdicionarPagamento},null,8,["disabled","onClick"])])]),_:1})):ce("",!0)]),_:1},512),e.condicaoPagamentoResumo.length?($(),ue(wt,{key:2,highlight:"",class:"q-pa-none"},{default:w(()=>[($(!0),be(Qe,null,zt(e.condicaoPagamentoResumo,c=>($(),be(Qe,{key:c.id},[v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,null,{default:w(()=>[te(de(c.formaPagamento),1)]),_:2},1024),v(Ie,null,{default:w(()=>[te(de(e.$filters.numero(c.valor,2))+de(c.parcelas>1?` (em ${c.parcelas}x)`:"")+" ",1),c.sinal?($(),ue(l,{key:0,cor:"positive",escuro:""},{default:w(()=>[te("Sinal")]),_:1})):ce("",!0)]),_:2},1024),v(Ie,null,{default:w(()=>[te(de(e.$filters.data(c.dataVencimento)),1)]),_:2},1024),!c.liquidado&&!a.somenteLeitura.condicaoPagamento[c.id]?($(),ue(Ie,{key:0,side:"",top:"",class:"col-3 col-lg-2 text-right"},{default:w(()=>[v(s,null,{default:w(()=>[v(pe,{color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:d=>i.alterarPagamento(c)},null,8,["onClick"]),v(pe,{color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:d=>i.removerPagamento(c)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):ce("",!0)]),_:2},1024),v(Ho)],64))),128))]),_:1})):ce("",!0),a.habilitaFaturamento?($(),be(Qe,{key:3},[a.valorRestante>0?($(),be("div",vDe,[gDe,te(" "+de(e.$filters.numero(a.valorRestante,2)),1)])):ce("",!0),a.troco>0?($(),be("div",_De,[bDe,te(" "+de(e.$filters.numero(a.troco,2)),1)])):ce("",!0)],64)):ce("",!0),a.creditoDevolucao?($(),be("div",yDe,[CDe,te(" "+de(e.$filters.numero(a.creditoDevolucao,2)),1)])):ce("",!0),a.checaLimite?($(),be("div",xDe,[wDe,te(" "+de(e.$filters.numero(a.creditoDisponivel,2)),1)])):ce("",!0),a.formaPagamento?($(),ue(Qt,{key:6,modelValue:a.modalPagamento,"onUpdate:modelValue":t[17]||(t[17]=c=>a.modalPagamento=c)},{default:w(()=>[v(Bt,{class:"q-dialog-plugin"},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te(de(a.formaPagamento.rotulo),1)]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",IDe,[v(ku,{ref:"formEditarPagamento",class:"q-pa-md"},{default:w(()=>[v(s,{class:"items-center q-col-gutter-md"},{default:w(()=>[a.formaPagamento.tipo===2?($(),be(Qe,{key:0},[A("div",EDe,[v(n,{modelValue:a.campos.nomeTitular,"onUpdate:modelValue":t[8]||(t[8]=c=>a.campos.nomeTitular=c),rotulo:"Titular",maxlength:"255"},null,8,["modelValue"])]),A("div",SDe,[v(Kn,{"model-value":a.descricaoBanco,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Banco",options:a.opcoesBanco,onFilter:i.filtrarBancos,"onUpdate:modelValue":i.selecionarBanco},{"no-option":w(()=>[v(We,null,{default:w(()=>[v(Ie,{class:"text-grey"},{default:w(()=>[te(" Resultado n\xE3o encontrado ")]),_:1})]),_:1})]),_:1},8,["model-value","options","onFilter","onUpdate:modelValue"])]),A("div",ADe,[v(n,{modelValue:a.campos.agencia,"onUpdate:modelValue":t[9]||(t[9]=c=>a.campos.agencia=c),rotulo:"Ag\xEAncia"},null,8,["modelValue"])]),A("div",TDe,[v(n,{modelValue:a.campos.conta,"onUpdate:modelValue":t[10]||(t[10]=c=>a.campos.conta=c),rotulo:"Conta"},null,8,["modelValue"])]),A("div",ODe,[v(n,{modelValue:a.campos.numeroCheque,"onUpdate:modelValue":t[11]||(t[11]=c=>a.campos.numeroCheque=c),modelModifiers:{number:!0},tipo:"decimal",decimals:"0",zerosDireita:"0",rotulo:"N\xFAmero do cheque"},null,8,["modelValue"])])],64)):ce("",!0),~[3,4].indexOf(a.formaPagamento.tipo)?($(),be(Qe,{key:1},[A("div",DDe,[v(n,{modelValue:a.campos.autorizacao,"onUpdate:modelValue":t[12]||(t[12]=c=>a.campos.autorizacao=c),modelModifiers:{trim:!0},rotulo:"Autoriza\xE7\xE3o Cart\xE3o",rules:a.rules.autorizacaoCartao},null,8,["modelValue","rules"])]),A("div",PDe,[v(n,{modelValue:a.campos.documento,"onUpdate:modelValue":t[13]||(t[13]=c=>a.campos.documento=c),modelModifiers:{trim:!0},rotulo:"N\xFAmero Documento",rules:a.rules.documentoCartao},null,8,["modelValue","rules"])])],64)):ce("",!0),~[2,5,97].indexOf(a.formaPagamento.tipo)||a.formaPagamento.tipo===99&&!a.formaPagamento.contaCredito?($(),be("div",MDe,[v(n,{modelValue:a.campos.dataVencimento,"onUpdate:modelValue":t[14]||(t[14]=c=>a.campos.dataVencimento=c),rotulo:"Data",tipo:"data",rules:a.rules.dataVencimento},null,8,["modelValue","rules"])])):ce("",!0),A("div",NDe,[v(n,{modelValue:a.campos.valor,"onUpdate:modelValue":t[15]||(t[15]=c=>a.campos.valor=c),rotulo:"Valor",tipo:"decimal",decimals:"2",rules:a.rules.valor},null,8,["modelValue","rules"])]),A("div",FDe,[v(n,{modelValue:a.campos.observacao,"onUpdate:modelValue":t[16]||(t[16]=c=>a.campos.observacao=c),rotulo:"Observa\xE7\xE3o",tipo:"textoArea"},null,8,["modelValue"])])]),_:1}),A("div",RDe,[v(pe,{color:"tertiary",flat:"",label:"Cancelar",onClick:i.aoCancelarModalPagamento},null,8,["onClick"]),v(pe,{color:"primary",class:"q-ml-sm no-shadow",label:"Salvar",unelevated:"",onClick:i.aoSalvarModalPagamento},null,8,["onClick"])])]),_:1},512)])]),_:1})]),_:1},8,["modelValue"])):ce("",!0),v(u,{ref:"modalCaixaAbrir",onAberto:i.atualizar},null,8,["onAberto"])])}var VDe=ht(fDe,[["render",kDe],["__scopeId","data-v-343f62d8"]]),ql=At({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const o=Ct(),r=X(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return ee("td",{class:r.value},ho(t.default));const a=o.vnode.key,i=(e.props.colsMap!==void 0?e.props.colsMap[a]:null)||e.props.col;if(i===void 0)return;const{row:n}=e.props;return ee("td",{class:r.value+i.__tdClass(n),style:i.__tdStyle(n)},ho(t.default))}}}),_D=At({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const o=X(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>ee("tr",{class:o.value},ho(t.default))}}),qDe=At({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:o}){const r=Ct(),{proxy:{$q:a}}=r,i=n=>{o("click",n)};return()=>{if(e.props===void 0)return ee("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:i},ho(t.default));let n,s;const l=r.vnode.key;if(l){if(n=e.props.colsMap[l],n===void 0)return}else n=e.props.col;if(n.sortable===!0){const c=n.align==="right"?"unshift":"push";s=mx(t.default,[]),s[c](ee(Ve,{class:n.__iconClass,name:a.iconSet.table.arrowUp}))}else s=ho(t.default);const u={class:n.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:n.headerStyle,onClick:c=>{n.sortable===!0&&e.props.sort(n),i(c)}};return ee("th",u,s)}}});const BDe=["horizontal","vertical","cell","none"];var LDe=At({name:"QMarkupTable",props:{...Sa,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>BDe.includes(e)}},setup(e,{slots:t}){const o=Ct(),r=Aa(e,o.proxy.$q),a=X(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(r.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>ee("div",{class:a.value},[ee("table",{class:"q-table"},ho(t.default))])}});function e5(e,t){return ee("div",e,[ee("table",{class:"q-table"},t)])}const $De={list:wt,table:LDe},UDe=["list","table","__qtable"];var zDe=At({name:"QVirtualScroll",props:{...$F,type:{type:String,default:"list",validator:e=>UDe.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:o}){let r;const a=$e(null),i=X(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:n,localResetVirtualScroll:s,padVirtualScroll:l,onVirtualScrollEvt:u}=UF({virtualScrollLength:i,getVirtualScrollTarget:p,getVirtualScrollEl:f}),c=X(()=>{if(i.value===0)return[];const _=(y,I)=>({index:n.value.from+I,item:y});return e.itemsFn===void 0?e.items.slice(n.value.from,n.value.to).map(_):e.itemsFn(n.value.from,n.value.to-n.value.from).map(_)}),d=X(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),m=X(()=>e.scrollTarget!==void 0?{}:{tabindex:0});rt(i,()=>{s()}),rt(()=>e.scrollTarget,()=>{b(),g()});function f(){return a.value.$el||a.value}function p(){return r}function g(){r=dg(f(),e.scrollTarget),r.addEventListener("scroll",u,Pa.passive)}function b(){r!==void 0&&(r.removeEventListener("scroll",u,Pa.passive),r=void 0)}function x(){let _=l(e.type==="list"?"div":"tbody",c.value.map(t.default));return t.before!==void 0&&(_=t.before().concat(_)),bi(t.after,_)}return e0(()=>{s()}),tr(()=>{g()}),Uu(()=>{g()}),fl(()=>{b()}),wo(()=>{b()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?e5({ref:a,class:"q-table__middle "+d.value},x()):ee($De[e.type],{...o,ref:a,class:[o.class,d.value],...m.value},x)}}});const HDe={xs:2,sm:4,md:6,lg:10,xl:14};function bD(e,t,o){return{transform:t===!0?`translateX(${o.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var jDe=At({name:"QLinearProgress",props:{...Sa,...wc,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:o}=Ct(),r=Aa(e,o.$q),a=Ic(e,HDe),i=X(()=>e.indeterminate===!0||e.query===!0),n=X(()=>e.reverse!==e.query),s=X(()=>({...a.value!==null?a.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),l=X(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),u=X(()=>bD(e.buffer!==void 0?e.buffer:1,n.value,o.$q)),c=X(()=>`with${e.instantFeedback===!0?"out":""}-transition`),d=X(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${c.value} q-linear-progress__track--${r.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),m=X(()=>bD(i.value===!0?1:e.value,n.value,o.$q)),f=X(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${c.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),p=X(()=>({width:`${e.value*100}%`})),g=X(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${c.value}`);return()=>{const b=[ee("div",{class:d.value,style:u.value}),ee("div",{class:f.value,style:m.value})];return e.stripe===!0&&i.value===!1&&b.push(ee("div",{class:g.value,style:p.value})),ee("div",{class:l.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},bi(t.default,b))}}});let km=0;const GDe={fullscreen:Boolean,noRouteFullscreenExit:Boolean},WDe=["update:fullscreen","fullscreen"];function XDe(){const e=Ct(),{props:t,emit:o,proxy:r}=e;let a,i,n;const s=$e(!1);Xx(e)===!0&&rt(()=>r.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&c()}),rt(()=>t.fullscreen,d=>{s.value!==d&&l()}),rt(s,d=>{o("update:fullscreen",d),o("fullscreen",d)});function l(){s.value===!0?c():u()}function u(){s.value!==!0&&(s.value=!0,n=r.$el.parentNode,n.replaceChild(i,r.$el),document.body.appendChild(r.$el),km++,km===1&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:c},Ep.add(a))}function c(){s.value===!0&&(a!==void 0&&(Ep.remove(a),a=void 0),n.replaceChild(r.$el,i),s.value=!1,km=Math.max(0,km-1),km===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),r.$el.scrollIntoView!==void 0&&setTimeout(()=>{r.$el.scrollIntoView()})))}return e0(()=>{i=document.createElement("span")}),tr(()=>{t.fullscreen===!0&&u()}),wo(c),Object.assign(r,{toggleFullscreen:l,setFullscreen:u,exitFullscreen:c}),{inFullscreen:s,toggleFullscreen:l}}function YDe(e,t){return new Date(e)-new Date(t)}const KDe={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function QDe(e,t,o,r){const a=X(()=>{const{sortBy:s}=t.value;return s&&o.value.find(l=>l.name===s)||null}),i=X(()=>e.sortMethod!==void 0?e.sortMethod:(s,l,u)=>{const c=o.value.find(f=>f.name===l);if(c===void 0||c.field===void 0)return s;const d=u===!0?-1:1,m=typeof c.field=="function"?f=>c.field(f):f=>f[c.field];return s.sort((f,p)=>{let g=m(f),b=m(p);return c.rawSort!==void 0?c.rawSort(g,b,f,p)*d:g==null?-1*d:b==null?1*d:c.sort!==void 0?c.sort(g,b,f,p)*d:av(g)===!0&&av(b)===!0?(g-b)*d:ov(g)===!0&&ov(b)===!0?YDe(g,b)*d:typeof g=="boolean"&&typeof b=="boolean"?(g-b)*d:([g,b]=[g,b].map(x=>(x+"").toLocaleString().toLowerCase()),g<b?-1*d:g===b?0:d)})});function n(s){let l=e.columnSortOrder;if(Ar(s)===!0)s.sortOrder&&(l=s.sortOrder),s=s.name;else{const d=o.value.find(m=>m.name===s);d!==void 0&&d.sortOrder&&(l=d.sortOrder)}let{sortBy:u,descending:c}=t.value;u!==s?(u=s,c=l==="da"):e.binaryStateSort===!0?c=!c:c===!0?l==="ad"?u=null:c=!1:l==="ad"?c=!0:u=null,r({sortBy:u,descending:c,page:1})}return{columnToSort:a,computedSortMethod:i,sort:n}}const JDe={filter:[String,Object],filterMethod:Function};function ZDe(e,t){const o=X(()=>e.filterMethod!==void 0?e.filterMethod:(r,a,i,n)=>{const s=a?a.toLowerCase():"";return r.filter(l=>i.some(u=>{const c=n(u,l)+"";return(c==="undefined"||c==="null"?"":c.toLowerCase()).indexOf(s)!==-1}))});return rt(()=>e.filter,()=>{Do(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:o}}function ePe(e,t){for(const o in t)if(t[o]!==e[o])return!1;return!0}function yD(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const tPe={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function oPe(e,t){const{props:o,emit:r}=e,a=$e(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:o.rowsPerPageOptions.length!==0?o.rowsPerPageOptions[0]:5},o.pagination)),i=X(()=>{const c=o["onUpdate:pagination"]!==void 0?{...a.value,...o.pagination}:a.value;return yD(c)}),n=X(()=>i.value.rowsNumber!==void 0);function s(c){l({pagination:c,filter:o.filter})}function l(c={}){Do(()=>{r("request",{pagination:c.pagination||i.value,filter:c.filter||o.filter,getCellValue:t})})}function u(c,d){const m=yD({...i.value,...c});if(ePe(i.value,m)===!0){n.value===!0&&d===!0&&s(m);return}if(n.value===!0){s(m);return}o.pagination!==void 0&&o["onUpdate:pagination"]!==void 0?r("update:pagination",m):a.value=m}return{innerPagination:a,computedPagination:i,isServerSide:n,requestServerInteraction:l,setPagination:u}}function aPe(e,t,o,r,a,i){const{props:n,emit:s,proxy:{$q:l}}=e,u=X(()=>r.value===!0?o.value.rowsNumber||0:i.value),c=X(()=>{const{page:I,rowsPerPage:S}=o.value;return(I-1)*S}),d=X(()=>{const{page:I,rowsPerPage:S}=o.value;return I*S}),m=X(()=>o.value.page===1),f=X(()=>o.value.rowsPerPage===0?1:Math.max(1,Math.ceil(u.value/o.value.rowsPerPage))),p=X(()=>d.value===0?!0:o.value.page>=f.value),g=X(()=>(n.rowsPerPageOptions.includes(t.value.rowsPerPage)?n.rowsPerPageOptions:[t.value.rowsPerPage].concat(n.rowsPerPageOptions)).map(S=>({label:S===0?l.lang.table.allRows:""+S,value:S})));rt(f,(I,S)=>{if(I===S)return;const O=o.value.page;I&&!O?a({page:1}):I<O&&a({page:I})});function b(){a({page:1})}function x(){const{page:I}=o.value;I>1&&a({page:I-1})}function _(){const{page:I,rowsPerPage:S}=o.value;d.value>0&&I*S<u.value&&a({page:I+1})}function y(){a({page:f.value})}return n["onUpdate:pagination"]!==void 0&&s("update:pagination",{...o.value}),{firstRowIndex:c,lastRowIndex:d,isFirstPage:m,isLastPage:p,pagesNumber:f,computedRowsPerPageOptions:g,computedRowsNumber:u,firstPage:b,prevPage:x,nextPage:_,lastPage:y}}const rPe={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},iPe=["update:selected","selection"];function nPe(e,t,o,r){const a=X(()=>{const p={};return e.selected.map(r.value).forEach(g=>{p[g]=!0}),p}),i=X(()=>e.selection!=="none"),n=X(()=>e.selection==="single"),s=X(()=>e.selection==="multiple"),l=X(()=>o.value.length!==0&&o.value.every(p=>a.value[r.value(p)]===!0)),u=X(()=>l.value!==!0&&o.value.some(p=>a.value[r.value(p)]===!0)),c=X(()=>e.selected.length);function d(p){return a.value[p]===!0}function m(){t("update:selected",[])}function f(p,g,b,x){t("selection",{rows:g,added:b,keys:p,evt:x});const _=n.value===!0?b===!0?g:[]:b===!0?e.selected.concat(g):e.selected.filter(y=>p.includes(r.value(y))===!1);t("update:selected",_)}return{hasSelectionMode:i,singleSelection:n,multipleSelection:s,allRowsSelected:l,someRowsSelected:u,rowsSelectedNumber:c,isRowSelected:d,clearSelection:m,updateSelection:f}}function CD(e){return Array.isArray(e)?e.slice():[]}const sPe={expanded:Array},lPe=["update:expanded"];function cPe(e,t){const o=$e(CD(e.expanded));rt(()=>e.expanded,n=>{o.value=CD(n)});function r(n){return o.value.includes(n)}function a(n){e.expanded!==void 0?t("update:expanded",n):o.value=n}function i(n,s){const l=o.value.slice(),u=l.indexOf(n);s===!0?u===-1&&(l.push(n),a(l)):u!==-1&&(l.splice(u,1),a(l))}return{isRowExpanded:r,setExpanded:a,updateExpanded:i}}const uPe={visibleColumns:Array};function dPe(e,t,o){const r=X(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(l=>({name:l,label:l.toUpperCase(),field:l,align:av(s[l])?"right":"left",sortable:!0})):[]}),a=X(()=>{const{sortBy:s,descending:l}=t.value;return(e.visibleColumns!==void 0?r.value.filter(c=>c.required===!0||e.visibleColumns.includes(c.name)===!0):r.value).map(c=>{const d=c.align||"right",m=`text-${d}`;return{...c,align:d,__iconClass:`q-table__sort-icon q-table__sort-icon--${d}`,__thClass:m+(c.headerClasses!==void 0?" "+c.headerClasses:"")+(c.sortable===!0?" sortable":"")+(c.name===s?` sorted ${l===!0?"sort-desc":""}`:""),__tdStyle:c.style!==void 0?typeof c.style!="function"?()=>c.style:c.style:()=>null,__tdClass:c.classes!==void 0?typeof c.classes!="function"?()=>m+" "+c.classes:f=>m+" "+c.classes(f):()=>m}})}),i=X(()=>{const s={};return a.value.forEach(l=>{s[l.name]=l}),s}),n=X(()=>e.tableColspan!==void 0?e.tableColspan:a.value.length+(o.value===!0?1:0));return{colList:r,computedCols:a,computedColsMap:i,computedColspan:n}}const g1="q-table__bottom row items-center",t5={};LF.forEach(e=>{t5[e]={}});var xD=At({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...t5,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Sa,...GDe,...uPe,...JDe,...tPe,...sPe,...rPe,...KDe},emits:["request","virtualScroll",...WDe,...lPe,...iPe],setup(e,{slots:t,emit:o}){const r=Ct(),{proxy:{$q:a}}=r,i=Aa(e,a),{inFullscreen:n,toggleFullscreen:s}=XDe(),l=X(()=>typeof e.rowKey=="function"?e.rowKey:He=>He[e.rowKey]),u=$e(null),c=$e(null),d=X(()=>e.grid!==!0&&e.virtualScroll===!0),m=X(()=>" q-table__card"+(i.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),f=X(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":m.value)+(i.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(n.value===!0?" fullscreen scroll":"")),p=X(()=>f.value+(e.loading===!0?" q-table--loading":""));rt(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+f.value,()=>{d.value===!0&&c.value!==null&&c.value.reset()});const{innerPagination:g,computedPagination:b,isServerSide:x,requestServerInteraction:_,setPagination:y}=oPe(r,Go),{computedFilterMethod:I}=ZDe(e,y),{isRowExpanded:S,setExpanded:O,updateExpanded:F}=cPe(e,o),M=X(()=>{let He=e.rows;if(x.value===!0||He.length===0)return He;const{sortBy:vt,descending:Vt}=b.value;return e.filter&&(He=I.value(He,e.filter,J.value,Go)),ge.value!==null&&(He=De.value(e.rows===He?He.slice():He,vt,Vt)),He}),E=X(()=>M.value.length),D=X(()=>{let He=M.value;if(x.value===!0)return He;const{rowsPerPage:vt}=b.value;return vt!==0&&(he.value===0&&e.rows!==He?He.length>Me.value&&(He=He.slice(0,Me.value)):He=He.slice(he.value,Me.value)),He}),{hasSelectionMode:P,singleSelection:N,multipleSelection:R,allRowsSelected:z,someRowsSelected:W,rowsSelectedNumber:j,isRowSelected:Q,clearSelection:se,updateSelection:_e}=nPe(e,o,D,l),{colList:Ee,computedCols:J,computedColsMap:re,computedColspan:ye}=dPe(e,b,P),{columnToSort:ge,computedSortMethod:De,sort:Oe}=QDe(e,b,Ee,y),{firstRowIndex:he,lastRowIndex:Me,isFirstPage:fe,isLastPage:G,pagesNumber:V,computedRowsPerPageOptions:L,computedRowsNumber:U,firstPage:ie,prevPage:we,nextPage:H,lastPage:q}=aPe(r,g,b,x,y,E),k=X(()=>D.value.length===0),Y=X(()=>{const He={};return LF.forEach(vt=>{He[vt]=e[vt]}),He.virtualScrollItemSize===void 0&&(He.virtualScrollItemSize=e.dense===!0?28:48),He});function ne(){d.value===!0&&c.value.reset()}function oe(){if(e.grid===!0)return Qu();const He=e.hideHeader!==!0?Lt:null;if(d.value===!0){const Vt=t["top-row"],Xt=t["bottom-row"],eo={default:ia=>Le(ia.item,t.body,ia.index)};if(Vt!==void 0){const ia=ee("tbody",Vt({cols:J.value}));eo.before=He===null?()=>ia:()=>[He()].concat(ia)}else He!==null&&(eo.before=He);return Xt!==void 0&&(eo.after=()=>ee("tbody",Xt({cols:J.value}))),ee(zDe,{ref:c,class:e.tableClass,style:e.tableStyle,...Y.value,scrollTarget:e.virtualScrollTarget,items:D.value,type:"__qtable",tableColspan:ye.value,onVirtualScroll:ve},eo)}const vt=[tt()];return He!==null&&vt.unshift(He()),e5({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},vt)}function Ce(He,vt){if(c.value!==null){c.value.scrollTo(He,vt);return}He=parseInt(He,10);const Vt=u.value.querySelector(`tbody tr:nth-of-type(${He+1})`);if(Vt!==null){const Xt=u.value.querySelector(".q-table__middle.scroll"),eo=Vt.offsetTop-e.virtualScrollStickySizeStart,ia=eo<Xt.scrollTop?"decrease":"increase";Xt.scrollTop=eo,o("virtualScroll",{index:He,from:0,to:g.value.rowsPerPage-1,direction:ia})}}function ve(He){o("virtualScroll",He)}function Fe(){return[ee(jDe,{class:"q-table__linear-progress",color:e.color,dark:i.value,indeterminate:!0,trackColor:"transparent"})]}function Le(He,vt,Vt){const Xt=l.value(He),eo=Q(Xt);if(vt!==void 0)return vt(ot({key:Xt,row:He,pageIndex:Vt,__trClass:eo?"selected":""}));const ia=t["body-cell"],Wo=J.value.map(Ua=>{const gl=t[`body-cell-${Ua.name}`],_l=gl!==void 0?gl:ia;return _l!==void 0?_l(It({key:Xt,row:He,pageIndex:Vt,col:Ua})):ee("td",{class:Ua.__tdClass(He),style:Ua.__tdStyle(He)},Go(Ua,He))});if(P.value===!0){const Ua=t["body-selection"],gl=Ua!==void 0?Ua(Zt({key:Xt,row:He,pageIndex:Vt})):[ee(pp,{modelValue:eo,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(_l,Zf)=>{_e([Xt],[He],_l,Zf)}})];Wo.unshift(ee("td",{class:"q-table--col-auto-width"},gl))}const Di={key:Xt,class:{selected:eo}};return e.onRowClick!==void 0&&(Di.class["cursor-pointer"]=!0,Di.onClick=Ua=>{o("RowClick",Ua,He,Vt)}),e.onRowDblclick!==void 0&&(Di.class["cursor-pointer"]=!0,Di.onDblclick=Ua=>{o("RowDblclick",Ua,He,Vt)}),e.onRowContextmenu!==void 0&&(Di.class["cursor-pointer"]=!0,Di.onContextmenu=Ua=>{o("RowContextmenu",Ua,He,Vt)}),ee("tr",Di,Wo)}function tt(){const He=t.body,vt=t["top-row"],Vt=t["bottom-row"];let Xt=D.value.map((eo,ia)=>Le(eo,He,ia));return vt!==void 0&&(Xt=vt({cols:J.value}).concat(Xt)),Vt!==void 0&&(Xt=Xt.concat(Vt({cols:J.value}))),ee("tbody",Xt)}function ot(He){return vo(He),He.cols=He.cols.map(vt=>Wi({...vt},"value",()=>Go(vt,He.row))),He}function It(He){return vo(He),Wi(He,"value",()=>Go(He.col,He.row)),He}function Zt(He){return vo(He),He}function vo(He){Object.assign(He,{cols:J.value,colsMap:re.value,sort:Oe,rowIndex:he.value+He.pageIndex,color:e.color,dark:i.value,dense:e.dense}),P.value===!0&&Wi(He,"selected",()=>Q(He.key),(vt,Vt)=>{_e([He.key],[He.row],vt,Vt)}),Wi(He,"expand",()=>S(He.key),vt=>{F(He.key,vt)})}function Go(He,vt){const Vt=typeof He.field=="function"?He.field(vt):vt[He.field];return He.format!==void 0?He.format(Vt,vt):Vt}const Ta=X(()=>({pagination:b.value,pagesNumber:V.value,isFirstPage:fe.value,isLastPage:G.value,firstPage:ie,prevPage:we,nextPage:H,lastPage:q,inFullscreen:n.value,toggleFullscreen:s}));function Ze(){const He=t.top,vt=t["top-left"],Vt=t["top-right"],Xt=t["top-selection"],eo=P.value===!0&&Xt!==void 0&&j.value>0,ia="q-table__top relative-position row items-center";if(He!==void 0)return ee("div",{class:ia},[He(Ta.value)]);let Wo;if(eo===!0?Wo=Xt(Ta.value).slice():(Wo=[],vt!==void 0?Wo.push(ee("div",{class:"q-table__control"},[vt(Ta.value)])):e.title&&Wo.push(ee("div",{class:"q-table__control"},[ee("div",{class:["q-table__title",e.titleClass]},e.title)]))),Vt!==void 0&&(Wo.push(ee("div",{class:"q-table__separator col"})),Wo.push(ee("div",{class:"q-table__control"},[Vt(Ta.value)]))),Wo.length!==0)return ee("div",{class:ia},Wo)}const xt=X(()=>W.value===!0?null:z.value);function Lt(){const He=ao();return e.loading===!0&&t.loading===void 0&&He.push(ee("tr",{class:"q-table__progress"},[ee("th",{class:"relative-position",colspan:ye.value},Fe())])),ee("thead",He)}function ao(){const He=t.header,vt=t["header-cell"];if(He!==void 0)return He(ko({header:!0})).slice();const Vt=J.value.map(Xt=>{const eo=t[`header-cell-${Xt.name}`],ia=eo!==void 0?eo:vt,Wo=ko({col:Xt});return ia!==void 0?ia(Wo):ee(qDe,{key:Xt.name,props:Wo},()=>Xt.label)});if(N.value===!0&&e.grid!==!0)Vt.unshift(ee("th",{class:"q-table--col-auto-width"}," "));else if(R.value===!0){const Xt=t["header-selection"],eo=Xt!==void 0?Xt(ko({})):[ee(pp,{color:e.color,modelValue:xt.value,dark:i.value,dense:e.dense,"onUpdate:modelValue":Mr})];Vt.unshift(ee("th",{class:"q-table--col-auto-width"},eo))}return[ee("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},Vt)]}function ko(He){return Object.assign(He,{cols:J.value,sort:Oe,colsMap:re.value,color:e.color,dark:i.value,dense:e.dense}),R.value===!0&&Wi(He,"selected",()=>xt.value,Mr),He}function Mr(He){W.value===!0&&(He=!1),_e(D.value.map(l.value),D.value,He)}const Oi=X(()=>{const He=[e.iconFirstPage||a.iconSet.table.firstPage,e.iconPrevPage||a.iconSet.table.prevPage,e.iconNextPage||a.iconSet.table.nextPage,e.iconLastPage||a.iconSet.table.lastPage];return a.lang.rtl===!0?He.reverse():He});function ns(){if(e.hideBottom===!0)return;if(k.value===!0){if(e.hideNoData===!0)return;const Vt=e.loading===!0?e.loadingLabel||a.lang.table.loading:e.filter?e.noResultsLabel||a.lang.table.noResults:e.noDataLabel||a.lang.table.noData,Xt=t["no-data"],eo=Xt!==void 0?[Xt({message:Vt,icon:a.iconSet.table.warning,filter:e.filter})]:[ee(Ve,{class:"q-table__bottom-nodata-icon",name:a.iconSet.table.warning}),Vt];return ee("div",{class:g1+" q-table__bottom--nodata"},eo)}const He=t.bottom;if(He!==void 0)return ee("div",{class:g1},[He(Ta.value)]);const vt=e.hideSelectedBanner!==!0&&P.value===!0&&j.value>0?[ee("div",{class:"q-table__control"},[ee("div",[(e.selectedRowsLabel||a.lang.table.selectedRecords)(j.value)])])]:[];if(e.hidePagination!==!0)return ee("div",{class:g1+" justify-end"},Ku(vt));if(vt.length!==0)return ee("div",{class:g1},vt)}function Tc(He){y({page:1,rowsPerPage:He.value})}function Ku(He){let vt;const{rowsPerPage:Vt}=b.value,Xt=e.paginationLabel||a.lang.table.pagination,eo=t.pagination,ia=e.rowsPerPageOptions.length>1;if(He.push(ee("div",{class:"q-table__separator col"})),ia===!0&&He.push(ee("div",{class:"q-table__control"},[ee("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||a.lang.table.recordsPerPage]),ee(Kn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:Vt,options:L.value,displayValue:Vt===0?a.lang.table.allRows:Vt,dark:i.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Tc})])),eo!==void 0)vt=eo(Ta.value);else if(vt=[ee("span",Vt!==0?{class:"q-table__bottom-item"}:{},[Vt?Xt(he.value+1,Math.min(Me.value,U.value),U.value):Xt(1,E.value,U.value)])],Vt!==0&&V.value>1){const Wo={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(Wo.size="sm"),V.value>2&&vt.push(ee(pe,{key:"pgFirst",...Wo,icon:Oi.value[0],disable:fe.value,onClick:ie})),vt.push(ee(pe,{key:"pgPrev",...Wo,icon:Oi.value[1],disable:fe.value,onClick:we}),ee(pe,{key:"pgNext",...Wo,icon:Oi.value[2],disable:G.value,onClick:H})),V.value>2&&vt.push(ee(pe,{key:"pgLast",...Wo,icon:Oi.value[3],disable:G.value,onClick:q}))}return He.push(ee("div",{class:"q-table__control"},vt)),He}function Jf(){const He=e.gridHeader===!0?[ee("table",{class:"q-table"},[Lt()])]:e.loading===!0&&t.loading===void 0?Fe():void 0;return ee("div",{class:"q-table__middle"},He)}function Qu(){const He=t.item!==void 0?t.item:vt=>{const Vt=vt.cols.map(eo=>ee("div",{class:"q-table__grid-item-row"},[ee("div",{class:"q-table__grid-item-title"},[eo.label]),ee("div",{class:"q-table__grid-item-value"},[eo.value])]));if(P.value===!0){const eo=t["body-selection"],ia=eo!==void 0?eo(vt):[ee(pp,{modelValue:vt.selected,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(Wo,Di)=>{_e([vt.key],[vt.row],Wo,Di)}})];Vt.unshift(ee("div",{class:"q-table__grid-item-row"},ia),ee(Ho,{dark:i.value}))}const Xt={class:["q-table__grid-item-card"+m.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(Xt.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(Xt.onClick=eo=>{o("RowClick",eo,vt.row,vt.pageIndex)}),e.onRowDblclick!==void 0&&(Xt.onDblclick=eo=>{o("RowDblclick",eo,vt.row,vt.pageIndex)})),ee("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(vt.selected===!0?" q-table__grid-item--selected":"")},[ee("div",Xt,Vt)])};return ee("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},D.value.map((vt,Vt)=>He(ot({key:l.value(vt),row:vt,pageIndex:Vt}))))}return Object.assign(r.proxy,{requestServerInteraction:_,setPagination:y,firstPage:ie,prevPage:we,nextPage:H,lastPage:q,isRowSelected:Q,clearSelection:se,isRowExpanded:S,setExpanded:O,sort:Oe,resetVirtualScroll:ne,scrollTo:Ce,getCellValue:Go}),E4(r.proxy,{filteredSortedRows:()=>M.value,computedRows:()=>D.value,computedRowsNumber:()=>U.value}),()=>{const He=[Ze()],vt={ref:u,class:p.value};return e.grid===!0?He.push(Jf()):Object.assign(vt,{class:[vt.class,e.cardClass],style:e.cardStyle}),He.push(oe(),ns()),e.loading===!0&&t.loading!==void 0&&He.push(t.loading()),ee("div",vt,He)}}}),wD=[{cest:"01.001.00",ncmsh:"38151210;38151290",descricao:"Catalisadores em colmeia cer\xE2mica ou met\xE1lica para convers\xE3o catal\xEDtica de gases de escape de ve\xEDculos e outros catalisadores"},{cest:"01.002.00",ncmsh:"3917",descricao:"Tubos e seus acess\xF3rios (por exemplo, juntas, cotovelos, flanges, uni\xF5es), de pl\xE1sticos"},{cest:"01.003.00",ncmsh:"39181000",descricao:"Protetores de ca\xE7amba"},{cest:"01.004.00",ncmsh:"39233000",descricao:"Reservat\xF3rios de \xF3leo"},{cest:"01.005.00",ncmsh:"39263000",descricao:"Frisos, decalques, molduras e acabamentos"},{cest:"01.006.00",ncmsh:"40103;59100000",descricao:"Correias de transmiss\xE3o de borracha vulcanizada, de mat\xE9rias t\xEAxteis, mesmo impregnadas, revestidas ou recobertas, de pl\xE1stico, ou estratificadas com pl\xE1stico ou refor\xE7adas com metal ou com outras mat\xE9rias"},{cest:"01.007.00",ncmsh:"40169300;4823909",descricao:"Juntas, gaxetas e outros elementos com fun\xE7\xE3o semelhante de veda\xE7\xE3o"},{cest:"01.008.00",ncmsh:"40161010",descricao:"Partes de ve\xEDculos autom\xF3veis, tratores e m\xE1quinas autopropulsadas"},{cest:"01.009.00",ncmsh:"40169990;57050000",descricao:"Tapetes, revestimentos, mesmo confeccionados, batentes, buchas e coxins"},{cest:"01.010.00",ncmsh:"59039000",descricao:"Tecidos impregnados, revestidos, recobertos ou estratificados, com pl\xE1stico"},{cest:"01.011.00",ncmsh:"59090000",descricao:"Mangueiras e tubos semelhantes, de mat\xE9rias t\xEAxteis, mesmo com refor\xE7o ou acess\xF3rios de outras mat\xE9rias"},{cest:"01.012.00",ncmsh:"63061",descricao:"Encerados e toldos"},{cest:"01.013.00",ncmsh:"65061000",descricao:"Capacetes e artefatos de uso semelhante, de prote\xE7\xE3o, para uso em motocicletas, inclu\xEDdos ciclomotores"},{cest:"01.014.00",ncmsh:"6813",descricao:"Guarni\xE7\xF5es de fric\xE7\xE3o (por exemplo, placas, rolos, tiras, segmentos, discos, an\xE9is, pastilhas), n\xE3o montadas, para freios, embreagens ou qualquer outro mecanismo de fric\xE7\xE3o, \xE0 base de amianto, de outras subst\xE2ncias minerais ou de celulose, mesmo combinadas com t\xEAxteis ou outras mat\xE9rias"},{cest:"01.015.00",ncmsh:"70071100;70072100",descricao:"Vidros de dimens\xF5es e formatos que permitam aplica\xE7\xE3o automotiva"},{cest:"01.016.00",ncmsh:"70091000",descricao:"Espelhos retrovisores"},{cest:"01.017.00",ncmsh:"70140000",descricao:"Lentes de far\xF3is, lanternas e outros utens\xEDlios"},{cest:"01.018.00",ncmsh:"73110000",descricao:"Cilindro de a\xE7o para GNV (g\xE1s natural veicular)"},{cest:"01.019.00",ncmsh:"73110000",descricao:"Recipientes para gases comprimidos ou liquefeitos, de ferro fundido, ferro ou a\xE7o, exceto o descrito no item 18.0"},{cest:"01.020.00",ncmsh:"7320",descricao:"Molas e folhas de molas, de ferro ou a\xE7o"},{cest:"01.021.00",ncmsh:"7325",descricao:"Obras moldadas, de ferro fundido, ferro ou a\xE7o, exceto as do c\xF3digo 7325.91.00"},{cest:"01.022.00",ncmsh:"780600",descricao:"Peso de chumbo para balanceamento de roda"},{cest:"01.023.00",ncmsh:"80070090",descricao:"Peso para balanceamento de roda e outros utens\xEDlios de estanho"},{cest:"01.024.00",ncmsh:"830120;830160",descricao:"Fechaduras e partes de fechaduras"},{cest:"01.025.00",ncmsh:"830170",descricao:"Chaves apresentadas isoladamente"},{cest:"01.026.00",ncmsh:"83021000;83023000",descricao:"Dobradi\xE7as, guarni\xE7\xF5es, ferragens e artigos semelhantes de metais comuns"},{cest:"01.027.00",ncmsh:"831000",descricao:"Tri\xE2ngulo de seguran\xE7a"},{cest:"01.028.00",ncmsh:"84073",descricao:"Motores de pist\xE3o alternativo dos tipos utilizados para propuls\xE3o de ve\xEDculos do Cap\xEDtulo 87"},{cest:"01.029.00",ncmsh:"840820",descricao:"Motores dos tipos utilizados para propuls\xE3o de ve\xEDculos automotores"},{cest:"01.030.00",ncmsh:"84099",descricao:"Partes reconhec\xEDveis como exclusiva ou principalmente destinadas aos motores das posi\xE7\xF5es 8407 ou 8408"},{cest:"01.031.00",ncmsh:"84122",descricao:"Motores hidr\xE1ulicos"},{cest:"01.032.00",ncmsh:"841330",descricao:"Bombas para combust\xEDveis, lubrificantes ou l\xEDquidos de arrefecimento, pr\xF3prias para motores de igni\xE7\xE3o por centelha ou por compress\xE3o"},{cest:"01.033.00",ncmsh:"84141000",descricao:"Bombas de v\xE1cuo"},{cest:"01.034.00",ncmsh:"8414801;8414802",descricao:"Compressores e turbocompressores de ar"},{cest:"01.035.00",ncmsh:"84139190;84149010;8414903;84149039",descricao:"Partes das bombas, compressores e turbocompressores dos CEST 01.032.00, 01.033.00 e 01.034.00"},{cest:"01.036.00",ncmsh:"841520",descricao:"M\xE1quinas e aparelhos de ar condicionado"},{cest:"01.037.00",ncmsh:"84212300",descricao:"Aparelhos para filtrar \xF3leos minerais nos motores de igni\xE7\xE3o por centelha ou por compress\xE3o"},{cest:"01.038.00",ncmsh:"84212990",descricao:"Filtros a v\xE1cuo"},{cest:"01.039.00",ncmsh:"84219",descricao:"Partes dos aparelhos para filtrar ou depurar l\xEDquidos ou gases"},{cest:"01.040.00",ncmsh:"84241000",descricao:"Extintores, mesmo carregados"},{cest:"01.041.00",ncmsh:"84213100",descricao:"Filtros de entrada de ar para motores de igni\xE7\xE3o por centelha ou por compress\xE3o"},{cest:"01.042.00",ncmsh:"84213920",descricao:"Depuradores por convers\xE3o catal\xEDtica de gases de escape"},{cest:"01.043.00",ncmsh:"84254200",descricao:"Macacos"},{cest:"01.044.00",ncmsh:"84311010",descricao:"Partes para macacos do CEST 01.043.00"},{cest:"01.045.00",ncmsh:"8431492",descricao:"Partes reconhec\xEDveis como exclusiva ou principalmente destinadas \xE0s m\xE1quinas agr\xEDcolas ou rodovi\xE1rias"},{cest:"01.045.01",ncmsh:"84339090",descricao:"Partes reconhec\xEDveis como exclusiva ou principalmente destinadas \xE0s m\xE1quinas agr\xEDcolas ou rodovi\xE1rias"},{cest:"01.046.00",ncmsh:"84811000",descricao:"V\xE1lvulas redutoras de press\xE3o"},{cest:"01.047.00",ncmsh:"84812",descricao:"V\xE1lvulas para transmiss\xE3o \xF3leo-hidr\xE1ulicas ou pneum\xE1ticas"},{cest:"01.048.00",ncmsh:"84818092",descricao:"V\xE1lvulas solenoides"},{cest:"01.049.00",ncmsh:"8482",descricao:"Rolamentos"},{cest:"01.050.00",ncmsh:"8483",descricao:"\xC1rvores de transmiss\xE3o (inclu\xEDdas as \xE1rvores de \u201Ccames\u201D e virabrequins) e manivelas; mancais e \u201Cbronzes\u201D; engrenagens e rodas de fric\xE7\xE3o; eixos de esferas ou de roletes; redutores, multiplicadores, caixas de transmiss\xE3o e variadores de velocidade, inclu\xEDdos os conversores de torque; volantes e polias, inclu\xEDdas as polias para cadernais; embreagens e dispositivos de acoplamento, inclu\xEDdas as juntas de articula\xE7\xE3o"},{cest:"01.051.00",ncmsh:"8484",descricao:"Juntas metalopl\xE1sticas; jogos ou sortidos de juntas de composi\xE7\xF5es diferentes, apresentados em bolsas, envelopes ou embalagens semelhantes; juntas de veda\xE7\xE3o mec\xE2nicas (selos mec\xE2nicos)"},{cest:"01.052.00",ncmsh:"850520",descricao:"Acoplamentos, embreagens, variadores de velocidade e freios, eletromagn\xE9ticos"},{cest:"01.053.00",ncmsh:"850710",descricao:"Acumuladores el\xE9tricos de chumbo, do tipo utilizado para o arranque dos motores de pist\xE3o, exceto os classificados no CEST 01.053.01"},{cest:"01.053.01",ncmsh:"85071010",descricao:"Acumuladores el\xE9tricos de chumbo, do tipo utilizado para o arranque dos motores de pist\xE3o e de capacidade inferior ou igual a 20 Ah e tens\xE3o inferior ou igual a 12 V"},{cest:"01.054.00",ncmsh:"8511",descricao:"Aparelhos e dispositivos el\xE9tricos de igni\xE7\xE3o ou de arranque para motores de igni\xE7\xE3o por centelha ou por compress\xE3o (por exemplo, magnetos, d\xEDnamos-magnetos, bobinas de igni\xE7\xE3o, velas de igni\xE7\xE3o ou de aquecimento, motores de arranque); geradores (d\xEDnamos e alternadores, por exemplo) e conjuntores-disjuntores utilizados com estes motores"},{cest:"01.055.00",ncmsh:"851220;851240;85129000",descricao:"Aparelhos el\xE9tricos de ilumina\xE7\xE3o ou de sinaliza\xE7\xE3o (exceto os da posi\xE7\xE3o 8539), limpadores de para-brisas, degeladores e desemba\xE7adores (desembaciadores) el\xE9tricos e suas partes"},{cest:"01.056.00",ncmsh:"85171213",descricao:"Telefones m\xF3veis do tipo dos utilizados em ve\xEDculos autom\xF3veis."},{cest:"01.057.00",ncmsh:"8518",descricao:"Alto-falantes, amplificadores el\xE9tricos de audiofrequ\xEAncia e partes"},{cest:"01.058.00",ncmsh:"85185000",descricao:"Aparelhos el\xE9tricos de amplifica\xE7\xE3o de som para ve\xEDculos automotores"},{cest:"01.059.00",ncmsh:"851981",descricao:"Aparelhos de reprodu\xE7\xE3o de som"},{cest:"01.060.00",ncmsh:"8525501;85256010",descricao:"Aparelhos transmissores (emissores) de radiotelefonia ou radiotelegrafia (r\xE1dio receptor/transmissor)"},{cest:"01.061.00",ncmsh:"85272100",descricao:"Aparelhos receptores de radiodifus\xE3o que s\xF3 funcionem com fonte externa de energia combinados com um aparelho de grava\xE7\xE3o ou de reprodu\xE7\xE3o de som, do tipo utilizado em ve\xEDculos autom\xF3veis"},{cest:"01.062.00",ncmsh:"85272900",descricao:"Outros aparelhos receptores de radiodifus\xE3o que s\xF3 funcionem com fonte externa de energia, do tipo utilizado em ve\xEDculos autom\xF3veis"},{cest:"01.062.01",ncmsh:"85219090",descricao:"Outros aparelhos videof\xF4nicos de grava\xE7\xE3o ou de reprodu\xE7\xE3o, mesmo incorporando um receptor de sinais videof\xF4nicos, dos tipos utilizados exclusivamente em ve\xEDculos automotores"},{cest:"01.063.00",ncmsh:"85291090",descricao:"Antenas"},{cest:"01.064.00",ncmsh:"853400",descricao:"Circuitos impressos"},{cest:"01.065.00",ncmsh:"853530;853650",descricao:"Interruptores e seccionadores e comutadores"},{cest:"01.066.00",ncmsh:"85361000",descricao:"Fus\xEDveis e corta-circuitos de fus\xEDveis"},{cest:"01.067.00",ncmsh:"85362000",descricao:"Disjuntores"},{cest:"01.068.00",ncmsh:"85364",descricao:"Rel\xE9s"},{cest:"01.069.00",ncmsh:"8538",descricao:"Partes reconhec\xEDveis como exclusivas ou principalmente destinados aos aparelhos dos CEST 01.065.00, 01.066.00, 01.067.00 e 01.068.00"},{cest:"01.070.00",ncmsh:"853910",descricao:"Far\xF3is e projetores, em unidades seladas"},{cest:"01.071.00",ncmsh:"85392",descricao:"L\xE2mpadas e tubos de incandesc\xEAncia, exceto de raios ultravioleta ou infravermelhos"},{cest:"01.072.00",ncmsh:"85442000",descricao:"Cabos coaxiais e outros condutores el\xE9tricos coaxiais"},{cest:"01.073.00",ncmsh:"85443000",descricao:"Jogos de fios para velas de igni\xE7\xE3o e outros jogos de fios"},{cest:"01.074.00",ncmsh:"8707",descricao:"Carro\xE7arias para os ve\xEDculos autom\xF3veis das posi\xE7\xF5es 8701 a 8705, inclu\xEDdas as cabinas"},{cest:"01.075.00",ncmsh:"8708",descricao:"Partes e acess\xF3rios dos ve\xEDculos autom\xF3veis das posi\xE7\xF5es 8701 a 8705"},{cest:"01.076.00",ncmsh:"87141",descricao:"Parte e acess\xF3rios de motocicletas (inclu\xEDdos os ciclomotores)"},{cest:"01.077.00",ncmsh:"87169090",descricao:"Engates para reboques e semirreboques"},{cest:"01.078.00",ncmsh:"902610",descricao:"Medidores de n\xEDvel; Medidores de vaz\xE3o"},{cest:"01.079.00",ncmsh:"902620",descricao:"Aparelhos para medida ou controle da press\xE3o"},{cest:"01.080.00",ncmsh:"9029",descricao:"Contadores, indicadores de velocidade e tac\xF4metros, suas partes e acess\xF3rios"},{cest:"01.081.00",ncmsh:"90303321",descricao:"Amper\xEDmetros"},{cest:"01.082.00",ncmsh:"90318040",descricao:"Aparelhos digitais, de uso em ve\xEDculos autom\xF3veis, para medida e indica\xE7\xE3o de m\xFAltiplas grandezas tais como: velocidade m\xE9dia, consumos instant\xE2neo e m\xE9dio e autonomia (computador de bordo)"},{cest:"01.083.00",ncmsh:"9032892",descricao:"Controladores eletr\xF4nicos"},{cest:"01.084.00",ncmsh:"91040000",descricao:"Rel\xF3gios para pain\xE9is de instrumentos e rel\xF3gios semelhantes"},{cest:"01.085.00",ncmsh:"94012000;94019090",descricao:"Assentos e partes de assentos"},{cest:"01.086.00",ncmsh:"96138000",descricao:"Acendedores"},{cest:"01.087.00",ncmsh:"4009",descricao:"Tubos de borracha vulcanizada n\xE3o endurecida, mesmo providos de seus acess\xF3rios"},{cest:"01.088.00",ncmsh:"45049000;68129910",descricao:"Juntas de veda\xE7\xE3o de corti\xE7a natural e de amianto"},{cest:"01.089.00",ncmsh:"48234000",descricao:"Papel-diagrama para tac\xF3grafo, em disco"},{cest:"01.090.00",ncmsh:"39191000;39199000;87082999",descricao:"Fitas, tiras, adesivos, autocolantes, de pl\xE1stico, refletores, mesmo em rolos; placas met\xE1licas com pel\xEDcula de pl\xE1stico refletora, pr\xF3prias para coloca\xE7\xE3o em carrocerias, para-choques de ve\xEDculos de carga, motocicletas, ciclomotores, capacetes, bon\xE9s de agentes de tr\xE2nsito e de condutores de ve\xEDculos, atuando como dispositivos refletivos de seguran\xE7a rodovi\xE1rios"},{cest:"01.091.00",ncmsh:"84123110",descricao:"Cilindros pneum\xE1ticos"},{cest:"01.092.00",ncmsh:"84131900;84135090;84138100",descricao:"Bomba el\xE9trica de lavador de para-brisa"},{cest:"01.093.00",ncmsh:"84136019;84137010",descricao:"Bomba de assist\xEAncia de dire\xE7\xE3o hidr\xE1ulica"},{cest:"01.094.00",ncmsh:"84145910;84145990",descricao:"Motoventiladores"},{cest:"01.095.00",ncmsh:"84213990",descricao:"Filtros de p\xF3len do ar-condicionado"},{cest:"01.096.00",ncmsh:"85011019",descricao:"\u201CM\xE1quina\u201D de vidro el\xE9trico de porta"},{cest:"01.097.00",ncmsh:"85013110",descricao:"Motor de limpador de para-brisa"},{cest:"01.098.00",ncmsh:"85045000",descricao:"Bobinas de reat\xE2ncia e de autoindu\xE7\xE3o"},{cest:"01.099.00",ncmsh:"850720;850730",descricao:"Baterias de chumbo e de n\xEDquel-c\xE1dmio"},{cest:"01.100.00",ncmsh:"85123000",descricao:"Aparelhos de sinaliza\xE7\xE3o ac\xFAstica (buzina)"},{cest:"01.101.00",ncmsh:"9032898;9032899",descricao:"Instrumentos para regula\xE7\xE3o de grandezas n\xE3o el\xE9tricas"},{cest:"01.102.00",ncmsh:"90271000",descricao:"Analisadores de gases ou de fuma\xE7a (sonda lambda)"},{cest:"01.103.00",ncmsh:"40081100",descricao:"Perfilados de borracha vulcanizada n\xE3o endurecida"},{cest:"01.104.00",ncmsh:"56012219",descricao:"Artefatos de pasta de fibra de uso automotivo"},{cest:"01.105.00",ncmsh:"57032000",descricao:"Tapetes/carpetes - nail\xF3n"},{cest:"01.106.00",ncmsh:"57033000",descricao:"Tapetes de mat\xE9rias t\xEAxteis sint\xE9ticas"},{cest:"01.107.00",ncmsh:"59119000",descricao:"Forra\xE7\xE3o interior capacete"},{cest:"01.108.00",ncmsh:"69039099",descricao:"Outros para-brisas"},{cest:"01.109.00",ncmsh:"70072900",descricao:"Moldura com espelho"},{cest:"01.110.00",ncmsh:"73145000",descricao:"REVOGADO"},{cest:"01.111.00",ncmsh:"73151100",descricao:"Corrente transmiss\xE3o"},{cest:"01.112.00",ncmsh:"73151210",descricao:"Outras correntes de transmiss\xE3o"},{cest:"01.113.00",ncmsh:"84189900",descricao:"Condensador tubular met\xE1lico"},{cest:"01.114.00",ncmsh:"841950",descricao:"Trocadores de calor"},{cest:"01.115.00",ncmsh:"84249090",descricao:"Partes de aparelhos mec\xE2nicos de pulverizar ou dispersar"},{cest:"01.116.00",ncmsh:"84254910",descricao:"Macacos manuais para ve\xEDculos"},{cest:"01.117.00",ncmsh:"84314100",descricao:"Ca\xE7ambas, p\xE1s, ganchos e tenazes para m\xE1quinas rodovi\xE1rias"},{cest:"01.118.00",ncmsh:"85016100",descricao:"Geradores de corrente alternada de pot\xEAncia n\xE3o superior a 75 kva"},{cest:"01.119.00",ncmsh:"85311090",descricao:"Aparelhos el\xE9tricos para alarme de uso automotivo"},{cest:"01.120.00",ncmsh:"90141000",descricao:"B\xFAssolas"},{cest:"01.121.00",ncmsh:"90251990",descricao:"Indicadores de temperatura"},{cest:"01.122.00",ncmsh:"90259010",descricao:"Partes de indicadores de temperatura"},{cest:"01.123.00",ncmsh:"902690",descricao:"Partes de aparelhos de medida ou controle"},{cest:"01.124.00",ncmsh:"90321010",descricao:"Termostatos"},{cest:"01.125.00",ncmsh:"90321090",descricao:"Instrumentos e aparelhos para regula\xE7\xE3o"},{cest:"01.126.00",ncmsh:"90322000",descricao:"Pressostatos"},{cest:"01.127.00",ncmsh:"871690",descricao:"Pe\xE7as para reboques e semirreboques, exceto os itens classificados no CEST 01.077.00"},{cest:"01.128.00",ncmsh:"73229010",descricao:"Geradores de ar quente a combust\xEDvel l\xEDquido, com capacidade superior ou igual a 1.500 kcal/h, mas inferior ou igual a 10.400 kcal/h, do tipo dos utilizados em ve\xEDculos autom\xF3veis"},{cest:"02.001.00",ncmsh:"2205;22089000",descricao:"Aperitivos, amargos, bitter e similares"},{cest:"02.002.00",ncmsh:"22089000",descricao:"Batida e similares"},{cest:"02.003.00",ncmsh:"22089000",descricao:"Bebida ice"},{cest:"02.004.00",ncmsh:"220720;22084000",descricao:"Cacha\xE7a e aguardentes"},{cest:"02.005.00",ncmsh:"2205;22060090;22089000",descricao:"Catuaba e similares"},{cest:"02.006.00",ncmsh:"22082000",descricao:"Conhaque, brandy e similares"},{cest:"02.007.00",ncmsh:"22060090;22089000",descricao:"Cooler"},{cest:"02.008.00",ncmsh:"22085000",descricao:"Gim (gin) e genebra"},{cest:"02.009.00",ncmsh:"2205;22060090;22089000",descricao:"Jurubeba e similares"},{cest:"02.010.00",ncmsh:"22087000",descricao:"Licores e similares"},{cest:"02.011.00",ncmsh:"22082000",descricao:"Pisco"},{cest:"02.012.00",ncmsh:"22084000",descricao:"Rum"},{cest:"02.013.00",ncmsh:"22060090",descricao:"Saqu\xEA"},{cest:"02.014.00",ncmsh:"22089000",descricao:"Steinhaeger"},{cest:"02.015.00",ncmsh:"22089000",descricao:"Tequila"},{cest:"02.016.00",ncmsh:"220830",descricao:"U\xEDsque"},{cest:"02.017.00",ncmsh:"2205",descricao:"Vermute e similares"},{cest:"02.018.00",ncmsh:"22086000",descricao:"Vodka"},{cest:"02.019.00",ncmsh:"22089000",descricao:"Derivados de vodka"},{cest:"02.020.00",ncmsh:"22089000",descricao:"Arak"},{cest:"02.021.00",ncmsh:"22082000",descricao:"Aguardente v\xEDnica / grappa"},{cest:"02.022.00",ncmsh:"22060010",descricao:"Sidra e similares"},{cest:"02.023.00",ncmsh:"2205;22060090;22089000",descricao:"Sangrias e coquet\xE9is"},{cest:"02.024.00",ncmsh:"2204",descricao:"Vinhos de uvas frescas, incluindo os vinhos enriquecidos com \xE1lcool; mostos de uvas."},{cest:"02.999.00",ncmsh:"2205;2206;2207;2208",descricao:"Outras bebidas alco\xF3licas n\xE3o especificadas nos itens anteriores"},{cest:"03.001.00",ncmsh:"22011000",descricao:"\xC1gua mineral, gasosa ou n\xE3o, ou pot\xE1vel, naturais, em garrafa de vidro, retorn\xE1vel ou n\xE3o, com capacidade de at\xE9 500 ml"},{cest:"03.002.00",ncmsh:"22011000",descricao:"\xC1gua mineral, gasosa ou n\xE3o, ou pot\xE1vel, naturais, em embalagem com capacidade igual ou superior a 5.000 ml; exceto as classificadas no CEST 03.024.00 e 03.025.00"},{cest:"03.003.00",ncmsh:"22011000",descricao:"\xC1gua mineral, gasosa ou n\xE3o, ou pot\xE1vel, naturais, em embalagem de vidro, n\xE3o retorn\xE1vel, com capacidade de at\xE9 300 ml"},{cest:"03.004.00",ncmsh:"22011000",descricao:"\xC1gua mineral, gasosa ou n\xE3o, ou pot\xE1vel, naturais, em garrafa pl\xE1stica de 1.500 ml"},{cest:"03.005.00",ncmsh:"22011000",descricao:"\xC1gua mineral, gasosa ou n\xE3o, ou pot\xE1vel, naturais, em copos pl\xE1sticos e embalagem pl\xE1stica com capacidade de at\xE9 500 ml"},{cest:"03.006.00",ncmsh:"22011000",descricao:"Outras \xE1guas minerais, pot\xE1veis ou naturais, gasosas ou n\xE3o, inclusive gaseificadas; exceto as classificadas no CEST 03.024.00 e 03.025.00"},{cest:"03.007.00",ncmsh:"22021000",descricao:"\xC1guas minerais, pot\xE1veis ou naturais, gasosas ou n\xE3o, inclusive gaseificadas ou aromatizadas artificialmente, exceto os refrescos e refrigerantes"},{cest:"03.008.00",ncmsh:"22029900",descricao:"Outras \xE1guas minerais, pot\xE1veis ou naturais, gasosas ou n\xE3o, inclusive gaseificadas ou aromatizadas artificialmente"},{cest:"03.010.00",ncmsh:"2202",descricao:"Refrigerantes em garrafa com capacidade igual ou superior a 600 ml, exceto os classificados no CEST 03.011.01"},{cest:"03.011.00",ncmsh:"2202",descricao:"Demais refrigerantes, exceto os classificados no CEST 03.010.00 e 03.011.01"},{cest:"03.011.01",ncmsh:"2202",descricao:"Espumantes sem \xE1lcool"},{cest:"03.012.00",ncmsh:"21069010",descricao:"Xarope ou extrato concentrado destinados ao preparo de refrigerante em m\xE1quina \u201Cpr\xE9-mix\u201D ou \u201Cpost-mix\u201D"},{cest:"03.013.00",ncmsh:"210690;22029900",descricao:"Bebidas energ\xE9ticas em embalagem com capacidade inferior a 600ml"},{cest:"03.014.00",ncmsh:"210690;22029900",descricao:"Bebidas energ\xE9ticas em embalagem com capacidade igual ou superior a 600ml"},{cest:"03.015.00",ncmsh:"210690;22029900",descricao:"Bebidas hidroeletrol\xEDticas (isot\xF4nicas) em embalagem com capacidade inferior a 600ml"},{cest:"03.016.00",ncmsh:"210690;22029900",descricao:"Bebidas hidroeletrol\xEDticas (isot\xF4nicas) em embalagem com capacidade igual ou superior a 600ml"},{cest:"03.021.00",ncmsh:"22030000",descricao:"Cerveja"},{cest:"03.022.00",ncmsh:"22029100",descricao:"Cerveja sem \xE1lcool"},{cest:"03.023.00",ncmsh:"22030000",descricao:"Chope"},{cest:"03.024.00",ncmsh:"22011000",descricao:"\xC1gua mineral em embalagens retorn\xE1veis com capacidade igual ou superior a 10 (dez) e inferior a 20 (vinte) litros"},{cest:"03.025.00",ncmsh:"22011000",descricao:"\xC1gua mineral em embalagens retorn\xE1veis com capacidade igual ou superior a 20 (vinte) litros"},{cest:"04.001.00",ncmsh:"2402",descricao:"Charutos, cigarrilhas e cigarros, de tabaco ou dos seus suced\xE2neos"},{cest:"04.002.00",ncmsh:"24031",descricao:"Tabaco para fumar, mesmo contendo suced\xE2neos de tabaco em qualquer propor\xE7\xE3o"},{cest:"05.001.00",ncmsh:"2523",descricao:"Cimento"},{cest:"06.001.00",ncmsh:"22071010",descricao:"\xC1lcool et\xEDlico n\xE3o desnaturado, com um teor alco\xF3lico em volume igual ou superior a 80% vol - Com um teor de \xE1gua igual ou inferior a 1 % vol (\xE1lcool et\xEDlico anidro combust\xEDvel)"},{cest:"06.001.01",ncmsh:"22071090",descricao:"\xC1lcool et\xEDlico n\xE3o desnaturado, com um teor alco\xF3lico em volume igual ou superior a 80% vol - Outros (\xE1lcool et\xEDlico hidratado combust\xEDvel)"},{cest:"06.002.00",ncmsh:"27101259",descricao:"Gasolina automotiva A, exceto Premium"},{cest:"06.002.01",ncmsh:"27101259",descricao:"Gasolina automotiva C, exceto Premium"},{cest:"06.002.02",ncmsh:"27101259",descricao:"Gasolina automotiva A Premium"},{cest:"06.002.03",ncmsh:"27101259",descricao:"Gasolina automotiva C Premium"},{cest:"06.003.00",ncmsh:"27101251",descricao:"Gasolina de avia\xE7\xE3o"},{cest:"06.004.00",ncmsh:"27101919",descricao:"Querosenes, exceto de avia\xE7\xE3o"},{cest:"06.005.00",ncmsh:"27101911",descricao:"Querosene de avia\xE7\xE3o"},{cest:"06.006.00",ncmsh:"2710192",descricao:"\xD3leo diesel A, exceto S10 e Mar\xEDtimo"},{cest:"06.006.01",ncmsh:"2710192",descricao:"\xD3leo diesel B, exceto S10 (mistura obrigat\xF3ria)"},{cest:"06.006.02",ncmsh:"2710192",descricao:"\xD3leo diesel B, exceto S10 (misturas autorizativas)"},{cest:"06.006.03",ncmsh:"2710192",descricao:"\xD3leo diesel B, exceto S10 (misturas experimentais)"},{cest:"06.006.04",ncmsh:"2710192",descricao:"\xD3leo diesel A S10"},{cest:"06.006.05",ncmsh:"2710192",descricao:"\xD3leo diesel B S10 (mistura obrigat\xF3ria)"},{cest:"06.006.06",ncmsh:"2710192",descricao:"\xD3leo diesel B S10 (misturas autorizativas)"},{cest:"06.006.07",ncmsh:"2710192",descricao:"\xD3leo diesel B S10 (misturas experimentais)"},{cest:"06.006.08",ncmsh:"2710192",descricao:"\xD3leo Diesel Mar\xEDtimo"},{cest:"06.006.09",ncmsh:"2710192",descricao:"Outros \xF3leos combust\xEDveis, exceto os classificados no CEST 06.006.10 e 06.006.11"},{cest:"06.006.10",ncmsh:"2710192",descricao:"\xD3leo combust\xEDvel derivado de xisto"},{cest:"06.006.11",ncmsh:"27101922",descricao:"\xD3leo combust\xEDvel pesado"},{cest:"06.007.00",ncmsh:"2710193",descricao:"\xD3leos lubrificantes"},{cest:"06.008.00",ncmsh:"2710199",descricao:"Outros \xF3leos de petr\xF3leo ou de minerais betuminosos (exceto \xF3leos brutos) e prepara\xE7\xF5es n\xE3o especificadas nem compreendidas noutras posi\xE7\xF5es, que contenham, como constituintes b\xE1sicos, 70% ou mais, em peso, de \xF3leos de petr\xF3leo ou de minerais betuminosos, exceto os que contenham biodiesel, exceto os res\xEDduos de \xF3leos e exceto as graxas lubrificantes"},{cest:"06.008.01",ncmsh:"2710199",descricao:"Graxa lubrificante"},{cest:"06.009.00",ncmsh:"27109",descricao:"Res\xEDduos de \xF3leos"},{cest:"06.010.00",ncmsh:"2711",descricao:"G\xE1s de petr\xF3leo e outros hidrocarbonetos gasosos, exceto GLP, GLGN, G\xE1s Natural e G\xE1s de xisto."},{cest:"06.011.00",ncmsh:"27111910",descricao:"G\xE1s liquefeito de petr\xF3leo em botij\xE3o de 13 Kg (GLP)"},{cest:"06.011.01",ncmsh:"27111910",descricao:"G\xE1s liquefeito de petr\xF3leo (GLP), exceto em botij\xE3o de 13 Kg"},{cest:"06.011.02",ncmsh:"27111910",descricao:"G\xE1s liquefeito de petr\xF3leo em botij\xE3o de 13 Kg (GLGNn)"},{cest:"06.011.03",ncmsh:"27111910",descricao:"G\xE1s liquefeito de petr\xF3leo (GLGNn), exceto em botij\xE3o de 13 Kg"},{cest:"06.011.04",ncmsh:"27111910",descricao:"G\xE1s liquefeito de petr\xF3leo em botij\xE3o de 13 Kg (GLGNi)"},{cest:"06.011.05",ncmsh:"27111910",descricao:"G\xE1s liquefeito de petr\xF3leo (GLGNi), exceto em botij\xE3o de 13 Kg"},{cest:"06.011.06",ncmsh:"27111910",descricao:"G\xE1s liquefeito de petr\xF3leo em botij\xE3o de 13 kg (Misturas)"},{cest:"06.011.07",ncmsh:"27111910",descricao:"G\xE1s liquefeito de petr\xF3leo (Misturas), exceto em botij\xE3o de 13 Kg"},{cest:"06.012.00",ncmsh:"27111100",descricao:"G\xE1s Natural Liquefeito"},{cest:"06.013.00",ncmsh:"27112100",descricao:"G\xE1s Natural Gasoso"},{cest:"06.014.00",ncmsh:"27112990",descricao:"G\xE1s de xisto"},{cest:"06.015.00",ncmsh:"2713",descricao:"Coque de petr\xF3leo e outros res\xEDduos de \xF3leo de petr\xF3leo ou de minerais betuminosos"},{cest:"06.016.00",ncmsh:"38260000",descricao:"Biodiesel e suas misturas, que n\xE3o contenham ou que contenham menos de 70%, em peso, de \xF3leos de petr\xF3leo ou de \xF3leos minerais betuminosos"},{cest:"06.017.00",ncmsh:"3403",descricao:"Prepara\xE7\xF5es lubrificantes, exceto as contendo, como constituintes de base, 70% ou mais, em peso, de \xF3leos de petr\xF3leo ou de minerais betuminosos"},{cest:"06.018.00",ncmsh:"27102000",descricao:"\xD3leos de petr\xF3leo ou de minerais betuminosos (exceto \xF3leos brutos) e prepara\xE7\xF5es n\xE3o especificadas nem compreendidas noutras posi\xE7\xF5es, que contenham, como constituintes b\xE1sicos, 70% ou mais, em peso, de \xF3leos de petr\xF3leo ou de minerais betuminosos, que contenham biodiesel, exceto os res\xEDduos de \xF3leos"},{cest:"07.001.00",ncmsh:"27160000",descricao:"Energia el\xE9trica"},{cest:"08.001.00",ncmsh:"40169990",descricao:"Ferramentas de borracha vulcanizada n\xE3o endurecida"},{cest:"08.002.00",ncmsh:"44170010;44170090",descricao:"Ferramentas, arma\xE7\xF5es e cabos de ferramentas, de madeira"},{cest:"08.003.00",ncmsh:"6804",descricao:"M\xF3s e artefatos semelhantes, sem arma\xE7\xE3o, para moer, desfibrar, triturar, amolar, polir, retificar ou cortar; pedras para amolar ou para polir, manualmente, e suas partes, de pedras naturais, de abrasivos naturais ou artificiais aglomerados ou de cer\xE2mica, mesmo com partes de outras mat\xE9rias"},{cest:"08.004.00",ncmsh:"8201",descricao:"P\xE1s, alvi\xF5es, picaretas, enxadas, sachos, forcados e forquilhas, ancinhos e raspadeiras; machados, pod\xF5es e ferramentas semelhantes com gume; tesouras de podar de todos os tipos; foices e foicinhas, facas para feno ou para palha, tesouras para sebes, cunhas e outras ferramentas manuais para agricultura, horticultura ou silvicultura"},{cest:"08.005.00",ncmsh:"82022000",descricao:"Folhas de serras de fita"},{cest:"08.006.00",ncmsh:"82029100",descricao:"L\xE2minas de serras m\xE1quinas"},{cest:"08.007.00",ncmsh:"8202",descricao:"Serras manuais e outras folhas de serras (inclu\xEDdas as fresas-serras e as folhas n\xE3o dentadas para serrar), exceto as classificadas nos CEST 08.005.00 e 08.006.00"},{cest:"08.008.00",ncmsh:"8203",descricao:"Limas, grosas, alicates (mesmo cortantes), tenazes, pin\xE7as, cisalhas para metais, corta-tubos, corta-pinos, saca-bocados e ferramentas semelhantes, manuais, exceto as pin\xE7as para sobrancelhas classificadas na posi\xE7\xE3o 8203.20.90"},{cest:"08.009.00",ncmsh:"8204",descricao:"Chaves de porcas, manuais (inclu\xEDdas as chaves dinamom\xE9tricas); chaves de caixa intercambi\xE1veis, mesmo com cabos"},{cest:"08.010.00",ncmsh:"8205",descricao:"Ferramentas manuais (inclu\xEDdos os diamantes de vidraceiro) n\xE3o especificadas nem compreendidas em outras posi\xE7\xF5es, lamparinas ou l\xE2mpadas de soldar (ma\xE7aricos) e semelhantes; tornos de apertar, sargentos e semelhantes, exceto os acess\xF3rios ou partes de m\xE1quinas-ferramentas; bigornas; forjas-port\xE1teis; m\xF3s com arma\xE7\xE3o, manuais ou de pedal"},{cest:"08.011.00",ncmsh:"82060000",descricao:"Ferramentas de pelo menos duas das posi\xE7\xF5es 8202 a 8205, acondicionadas em sortidos para venda a retalho"},{cest:"08.012.00",ncmsh:"820740;820760;820770",descricao:"Ferramentas de roscar interior ou exteriormente; de mandrilar ou de brochar; e de fresar"},{cest:"08.013.00",ncmsh:"8207",descricao:"Outras ferramentas intercambi\xE1veis para ferramentas manuais, mesmo mec\xE2nicas, ou para m\xE1quinas-ferramentas (por exemplo, de embutir, estampar, puncionar, furar, tornear, aparafusar), inclu\xEDdas as fieiras de estiragem ou de extrus\xE3o, para metais, e as ferramentas de perfura\xE7\xE3o ou de sondagem, exceto forma ou gabarito de produtos em epoxy e as classificadas no CEST 08.012.00"},{cest:"08.014.00",ncmsh:"8208",descricao:"Facas e l\xE2minas cortantes, para m\xE1quinas ou para aparelhos mec\xE2nicos"},{cest:"08.015.00",ncmsh:"82090011",descricao:"Plaquetas ou pastilhas intercambi\xE1veis"},{cest:"08.016.00",ncmsh:"820900",descricao:"Outras plaquetas, varetas, pontas e objetos semelhantes para ferramentas, n\xE3o montados, de ceramais (\u201Ccermets\u201D), exceto as classificadas no CEST 08.015.00"},{cest:"08.017.00",ncmsh:"8211",descricao:"Facas de l\xE2mina cortante ou serrilhada, inclu\xEDdas as podadeiras de l\xE2mina m\xF3vel, e suas l\xE2minas, exceto as de uso dom\xE9stico"},{cest:"08.018.00",ncmsh:"8213",descricao:"Tesouras e suas l\xE2minas"},{cest:"08.019.00",ncmsh:"8467",descricao:"Ferramentas pneum\xE1ticas, hidr\xE1ulicas ou com motor (el\xE9trico ou n\xE3o el\xE9trico) incorporado, de uso manual, exceto o descrito no CEST 08.019.01"},{cest:"08.019.01",ncmsh:"84678100",descricao:"Moto-serras port\xE1teis de corrente, com motor incorporado, n\xE3o el\xE9trico, de uso agr\xEDcola"},{cest:"08.020.00",ncmsh:"9015",descricao:"Instrumentos e aparelhos de geodesia, topografia, agrimensura, nivelamento, fotogrametria, hidrografia, oceanografia, hidrologia, meteorologia ou de geof\xEDsica, exceto bussolas; tel\xEAmetros"},{cest:"08.021.00",ncmsh:"90172000;901730;901780;90179090",descricao:"Instrumentos de desenho, de tra\xE7ado ou de c\xE1lculo; metros, micr\xF4metros, paqu\xEDmetros, calibres e semelhantes; partes e acess\xF3rios"},{cest:"08.022.00",ncmsh:"90251190;90259010",descricao:"Term\xF4metros, suas partes e acess\xF3rios"},{cest:"08.023.00",ncmsh:"902519;90259090",descricao:"Pir\xF4metros, suas partes e acess\xF3rios"},{cest:"09.001.00",ncmsh:"8539",descricao:"L\xE2mpadas el\xE9tricas"},{cest:"09.002.00",ncmsh:"8540",descricao:"L\xE2mpadas eletr\xF4nicas"},{cest:"09.003.00",ncmsh:"85041000",descricao:"Reatores para l\xE2mpadas ou tubos de descargas"},{cest:"09.004.00",ncmsh:"853650",descricao:"\u201CStarter\u201D"},{cest:"09.005.00",ncmsh:"85395000",descricao:"L\xE2mpadas de LED (Diodos Emissores de Luz)"},{cest:"10.001.00",ncmsh:"2522",descricao:"Cal"},{cest:"10.002.00",ncmsh:"3816001;38245000",descricao:"Argamassas"},{cest:"10.003.00",ncmsh:"32149000",descricao:"Outras argamassas"},{cest:"10.004.00",ncmsh:"391000",descricao:"Silicones em formas prim\xE1rias, para uso na constru\xE7\xE3o"},{cest:"10.005.00",ncmsh:"3916",descricao:"Revestimentos de PVC e outros pl\xE1sticos; forro, sancas e afins de PVC, para uso na constru\xE7\xE3o"},{cest:"10.006.00",ncmsh:"3917",descricao:"Tubos, e seus acess\xF3rios (por exemplo, juntas, cotovelos, flanges, uni\xF5es), de pl\xE1sticos, para uso na constru\xE7\xE3o"},{cest:"10.007.00",ncmsh:"3918",descricao:"Revestimento de pavimento de PVC e outros pl\xE1sticos"},{cest:"10.008.00",ncmsh:"3919",descricao:"Chapas, folhas, tiras, fitas, pel\xEDculas e outras formas planas, autoadesivas, de pl\xE1sticos, mesmo em rolos, para uso na constru\xE7\xE3o"},{cest:"10.009.00",ncmsh:"3919;3920;3921",descricao:"Veda rosca, lona pl\xE1stica para uso na constru\xE7\xE3o, fitas isolantes e afins"},{cest:"10.010.00",ncmsh:"3921",descricao:"Telha de pl\xE1stico, mesmo refor\xE7ada com fibra de vidro"},{cest:"10.011.00",ncmsh:"3921",descricao:"Cumeeira de pl\xE1stico, mesmo refor\xE7ada com fibra de vidro"},{cest:"10.012.00",ncmsh:"3921",descricao:"Chapas, laminados pl\xE1sticos em bobina, para uso na constru\xE7\xE3o, exceto os descritos no CEST 10.010.00 e 10.011.00"},{cest:"10.013.00",ncmsh:"3922",descricao:"Banheiras, boxes para chuveiros, pias, lavat\xF3rios, bid\xEAs, sanit\xE1rios e seus assentos e tampas, caixas de descarga e artigos semelhantes para usos sanit\xE1rios ou higi\xEAnicos, de pl\xE1sticos"},{cest:"10.014.00",ncmsh:"3924",descricao:"Artefatos de higiene/toucador de pl\xE1stico, para uso na constru\xE7\xE3o"},{cest:"10.015.00",ncmsh:"39251000",descricao:"Caixa d\u2019\xE1gua, inclusive sua tampa, de pl\xE1stico, mesmo refor\xE7adas com fibra de vidro"},{cest:"10.016.00",ncmsh:"392590",descricao:"Outras telhas, cumeeira e caixa d\u2019\xE1gua, inclusive sua tampa, de pl\xE1stico, mesmo refor\xE7adas com fibra de vidro"},{cest:"10.017.00",ncmsh:"39251000;392590",descricao:"Artefatos para apetrechamento de constru\xE7\xF5es, de pl\xE1sticos, n\xE3o especificados nem compreendidos em outras posi\xE7\xF5es, incluindo persianas, sancas, molduras, apliques e rosetas, caixilhos de polietileno e outros pl\xE1sticos, exceto os descritos nos CEST 10.015.00 e 10.016.00"},{cest:"10.018.00",ncmsh:"39252000",descricao:"Portas, janelas e seus caixilhos, alizares e soleiras"},{cest:"10.019.00",ncmsh:"39253000",descricao:"Postigos, estores (inclu\xEDdas as venezianas) e artefatos semelhantes e suas partes"},{cest:"10.020.00",ncmsh:"392690",descricao:"Outras obras de pl\xE1stico, para uso na constru\xE7\xE3o"},{cest:"10.021.00",ncmsh:"4814",descricao:"Papel de parede e revestimentos de parede semelhantes; papel para vitrais"},{cest:"10.022.00",ncmsh:"68101900",descricao:"Telhas de concreto"},{cest:"10.023.00",ncmsh:"6811",descricao:"REVOGADO"},{cest:"10.024.00",ncmsh:"6811",descricao:"Caixas d\u2019\xE1gua, tanques e reservat\xF3rios e suas tampas, telhas, calhas, cumeeiras e afins, de fibrocimento, cimento-celulose ou semelhantes, contendo ou n\xE3o amianto."},{cest:"10.025.00",ncmsh:"69010000",descricao:"Tijolos, placas (lajes), ladrilhos e outras pe\xE7as cer\xE2micas de farinhas siliciosas f\xF3sseis (\u201Ckieselghur\u201D, tripolita, diatomita, por exemplo) ou de terras siliciosas semelhantes"},{cest:"10.026.00",ncmsh:"6902",descricao:"Tijolos, placas (lajes), ladrilhos e pe\xE7as cer\xE2micas semelhantes, para uso na constru\xE7\xE3o, refrat\xE1rios, que n\xE3o sejam de farinhas siliciosas f\xF3sseis nem de terras siliciosas semelhantes"},{cest:"10.027.00",ncmsh:"6904",descricao:"Tijolos para constru\xE7\xE3o, tijoleiras, tapa-vigas e produtos semelhantes, de cer\xE2mica"},{cest:"10.028.00",ncmsh:"6905",descricao:"Telhas, elementos de chamin\xE9s, condutores de fuma\xE7a, ornamentos arquitet\xF4nicos, de cer\xE2mica, e outros produtos cer\xE2micos para uso na constru\xE7\xE3o"},{cest:"10.029.00",ncmsh:"69060000",descricao:"Tubos, calhas ou algerozes e acess\xF3rios para canaliza\xE7\xF5es, de cer\xE2mica"},{cest:"10.030.00",ncmsh:"6907",descricao:"Ladrilhos e placas de cer\xE2mica, exclusivamente para pavimenta\xE7\xE3o ou revestimento"},{cest:"10.030.01",ncmsh:"6907",descricao:"Cubos, pastilhas e artigos semelhantes de cer\xE2mica, mesmo com suporte, exceto os descritos CEST 10.030.00"},{cest:"10.031.00",ncmsh:"6910",descricao:"Pias, lavat\xF3rios, colunas para lavat\xF3rios, banheiras, bid\xEAs, sanit\xE1rios, caixas de descarga, mict\xF3rios e aparelhos fixos semelhantes para usos sanit\xE1rios, de cer\xE2mica"},{cest:"10.032.00",ncmsh:"69120000",descricao:"Artefatos de higiene/toucador de cer\xE2mica"},{cest:"10.033.00",ncmsh:"7003",descricao:"Vidro vazado ou laminado, em chapas, folhas ou perfis, mesmo com camada absorvente, refletora ou n\xE3o, mas sem qualquer outro trabalho"},{cest:"10.034.00",ncmsh:"7004",descricao:"Vidro estirado ou soprado, em folhas, mesmo com camada absorvente, refletora ou n\xE3o, mas sem qualquer outro trabalho"},{cest:"10.035.00",ncmsh:"7005",descricao:"Vidro flotado e vidro desbastado ou polido em uma ou em ambas as faces, em chapas ou em folhas, mesmo com camada absorvente, refletora ou n\xE3o, mas sem qualquer outro trabalho"},{cest:"10.036.00",ncmsh:"70071900",descricao:"Vidros temperados"},{cest:"10.037.00",ncmsh:"70072900",descricao:"Vidros laminados"},{cest:"10.038.00",ncmsh:"7008",descricao:"Vidros isolantes de paredes m\xFAltiplas"},{cest:"10.039.00",ncmsh:"7016",descricao:"Blocos, placas, tijolos, ladrilhos, telhas e outros artefatos, de vidro prensado ou moldado, mesmo armado, para uso na constru\xE7\xE3o; cubos, pastilhas e outros artigos semelhantes"},{cest:"10.040.00",ncmsh:"72142000",descricao:"Barras pr\xF3prias para constru\xE7\xF5es, exceto vergalh\xF5es"},{cest:"10.041.00",ncmsh:"73089010",descricao:"Outras barras pr\xF3prias para constru\xE7\xF5es, exceto vergalh\xF5es"},{cest:"10.041.01",ncmsh:"73089010",descricao:"Outros vergalh\xF5es"},{cest:"10.042.00",ncmsh:"72142000",descricao:"Vergalh\xF5es"},{cest:"10.043.00",ncmsh:"7213",descricao:"Outros vergalh\xF5es"},{cest:"10.044.00",ncmsh:"72171090;7312",descricao:"Fios de ferro ou a\xE7o n\xE3o ligados, n\xE3o revestidos, mesmo polidos; cordas, cabos, tran\xE7as (entran\xE7ados), lingas e artefatos semelhantes, de ferro ou a\xE7o, n\xE3o isolados para usos el\xE9tricos"},{cest:"10.045.00",ncmsh:"72172010",descricao:"Outros fios de ferro ou a\xE7o, n\xE3o ligados, galvanizados com teor de carbono superior ou igual a 0,6%, em peso"},{cest:"10.045.01",ncmsh:"72172090",descricao:"Outros fios de ferro ou a\xE7o, n\xE3o ligados, galvanizados"},{cest:"10.046.00",ncmsh:"7307",descricao:"Acess\xF3rios para tubos (inclusive uni\xF5es, cotovelos, luvas ou mangas), de ferro fundido, ferro ou a\xE7o"},{cest:"10.047.00",ncmsh:"73083000",descricao:"Portas e janelas, e seus caixilhos, alizares e soleiras de ferro fundido, ferro ou a\xE7o"},{cest:"10.048.00",ncmsh:"73084000;730890",descricao:"Material para andaimes, para arma\xE7\xF5es (cofragens) e para escoramentos, (inclusive arma\xE7\xF5es prontas, para estruturas de concreto armado ou argamassa armada), eletrocalhas e perfilados de ferro fundido, ferro ou a\xE7o, pr\xF3prios para constru\xE7\xE3o, exceto treli\xE7as de a\xE7o"},{cest:"10.049.00",ncmsh:"73084000",descricao:"Treli\xE7as de a\xE7o"},{cest:"10.050.00",ncmsh:"73089090",descricao:"Telhas met\xE1licas"},{cest:"10.051.00",ncmsh:"7310",descricao:"Caixas diversas (tais como caixa de correio, de entrada de \xE1gua, de energia, de instala\xE7\xE3o) de ferro fundido, ferro ou a\xE7o; pr\xF3prias para a constru\xE7\xE3o"},{cest:"10.052.00",ncmsh:"73130000",descricao:"Arame farpado, de ferro ou a\xE7o, arames ou tiras, retorcidos, mesmo farpados, de ferro ou a\xE7o, dos tipos utilizados em cercas"},{cest:"10.053.00",ncmsh:"7314",descricao:"Telas met\xE1licas, grades e redes, de fios de ferro ou a\xE7o"},{cest:"10.054.00",ncmsh:"73151100",descricao:"Correntes de rolos, de ferro fundido, ferro ou a\xE7o"},{cest:"10.055.00",ncmsh:"73151290",descricao:"Outras correntes de elos articulados, de ferro fundido, ferro ou a\xE7o"},{cest:"10.056.00",ncmsh:"73158200",descricao:"Correntes de elos soldados, de ferro fundido, de ferro ou a\xE7o"},{cest:"10.057.00",ncmsh:"731700",descricao:"Tachas, pregos, percevejos, esc\xE1pulas, grampos ondulados ou biselados e artefatos semelhantes, de ferro fundido, ferro ou a\xE7o, mesmo com a cabe\xE7a de outra mat\xE9ria, exceto cobre"},{cest:"10.058.00",ncmsh:"7318",descricao:"Parafusos, pinos ou pernos, roscados, porcas, tira-fundos, ganchos roscados, rebites, chavetas, cavilhas, contrapinos, arruelas (inclu\xEDdas as de press\xE3o) e artefatos semelhantes, de ferro fundido, ferro ou a\xE7o"},{cest:"10.059.00",ncmsh:"7323",descricao:"Palha de ferro ou a\xE7o, exceto os de uso dom\xE9stico classificados na posi\xE7\xE3o NCM 7323.10.00"},{cest:"10.059.01",ncmsh:"7323",descricao:"Esponjas, esfreg\xF5es, luvas e artefatos semelhantes para limpeza, polimento e usos semelhantes, de ferro ou a\xE7o, exceto os de uso dom\xE9stico classificados na posi\xE7\xE3o NCM 7323.10.00"},{cest:"10.060.00",ncmsh:"7324",descricao:"Artefatos de higiene ou de toucador, e suas partes, de ferro fundido, ferro ou a\xE7o, inclu\xEDdas as pias, banheiras, lavat\xF3rios, cubas, mict\xF3rios, tanques e afins de ferro fundido, ferro ou a\xE7o, para uso na constru\xE7\xE3o"},{cest:"10.061.00",ncmsh:"7325",descricao:"Outras obras moldadas, de ferro fundido, ferro ou a\xE7o, para uso na constru\xE7\xE3o"},{cest:"10.062.00",ncmsh:"7326",descricao:"Abra\xE7adeiras"},{cest:"10.063.00",ncmsh:"7407",descricao:"Barras de cobre"},{cest:"10.064.00",ncmsh:"74111010",descricao:"Tubos de cobre e suas ligas, para instala\xE7\xF5es de \xE1gua quente e g\xE1s, para uso na constru\xE7\xE3o"},{cest:"10.065.00",ncmsh:"7412",descricao:"Acess\xF3rios para tubos (por exemplo, uni\xF5es, cotovelos, luvas ou mangas) de cobre e suas ligas, para uso na constru\xE7\xE3o"},{cest:"10.066.00",ncmsh:"7415",descricao:"Tachas, pregos, percevejos, esc\xE1pulas e artefatos semelhantes, de cobre, ou de ferro ou a\xE7o com cabe\xE7a de cobre, parafusos, pinos ou pernos, roscados, porcas, ganchos roscados, rebites, chavetas, cavilhas, contrapinos, arruelas (inclu\xEDdas as de press\xE3o), e artefatos semelhantes, de cobre"},{cest:"10.067.00",ncmsh:"74182000",descricao:"Artefatos de higiene/toucador de cobre, para uso na constru\xE7\xE3o"},{cest:"10.068.00",ncmsh:"76071990",descricao:"Manta de subcobertura aluminizada"},{cest:"10.069.00",ncmsh:"7608",descricao:"Tubos de alum\xEDnio e suas ligas, para refrigera\xE7\xE3o e ar condicionado, para uso na constru\xE7\xE3o"},{cest:"10.070.00",ncmsh:"76090000",descricao:"Acess\xF3rios para tubos (por exemplo, uni\xF5es, cotovelos, luvas ou mangas), de alum\xEDnio, para uso na constru\xE7\xE3o"},{cest:"10.071.00",ncmsh:"7610",descricao:"Constru\xE7\xF5es e suas partes (por exemplo, pontes e elementos de pontes, torres, p\xF3rticos ou pilones, pilares, colunas, arma\xE7\xF5es, estruturas para telhados, portas e janelas, e seus caixilhos, alizares e soleiras, balaustradas), de alum\xEDnio, exceto as constru\xE7\xF5es pr\xE9-fabricadas da posi\xE7\xE3o 9406; chapas, barras, perfis, tubos e semelhantes, de alum\xEDnio, pr\xF3prios para constru\xE7\xF5es"},{cest:"10.072.00",ncmsh:"76152000",descricao:"Artefatos de higiene/toucador de alum\xEDnio, para uso na constru\xE7\xE3o"},{cest:"10.073.00",ncmsh:"7616",descricao:"Outras obras de alum\xEDnio, pr\xF3prias para constru\xE7\xF5es, inclu\xEDdas as persianas"},{cest:"10.074.00",ncmsh:"83024100",descricao:"Outras guarni\xE7\xF5es, ferragens e artigos semelhantes de metais comuns, para constru\xE7\xF5es, inclusive puxadores."},{cest:"10.075.00",ncmsh:"8301",descricao:"Fechaduras e ferrolhos (de chave, de segredo ou el\xE9tricos), de metais comuns, inclu\xEDdas as suas partes fechos e arma\xE7\xF5es com fecho, com fechadura, de metais comuns chaves para estes artigos, de metais comuns; exceto os de uso automotivo"},{cest:"10.076.00",ncmsh:"83021000",descricao:"Dobradi\xE7as de metais comuns, de qualquer tipo"},{cest:"10.077.00",ncmsh:"8307",descricao:"Tubos flex\xEDveis de metais comuns, mesmo com acess\xF3rios, para uso na constru\xE7\xE3o"},{cest:"10.078.00",ncmsh:"8311",descricao:"Fios, varetas, tubos, chapas, eletrodos e artefatos semelhantes, de metais comuns ou de carbonetos met\xE1licos, revestidos exterior ou interiormente de decapantes ou de fundentes, para soldagem (soldadura) ou dep\xF3sito de metal ou de carbonetos met\xE1licos fios e varetas de p\xF3s de metais comuns aglomerados, para metaliza\xE7\xE3o por proje\xE7\xE3o"},{cest:"10.079.00",ncmsh:"8481",descricao:"Torneiras, v\xE1lvulas (inclu\xEDdas as redutoras de press\xE3o e as termost\xE1ticas) e dispositivos semelhantes, para canaliza\xE7\xF5es, caldeiras, reservat\xF3rios, cubas e outros recipientes"},{cest:"10.080.00",ncmsh:"7009",descricao:"Espelhos de vidro, mesmo emoldurados, exceto os de uso automotivo"},{cest:"11.001.00",ncmsh:"28289011;28289019;32064100;34022000;38089419;34025000",descricao:"\xC1gua sanit\xE1ria, branqueador e outros alvejantes"},{cest:"11.002.00",ncmsh:"34012090",descricao:"Sab\xF5es em p\xF3, flocos, palhetas, gr\xE2nulos ou outras formas semelhantes, para lavar roupas"},{cest:"11.003.00",ncmsh:"34012090",descricao:"Sab\xF5es l\xEDquidos para lavar roupas"},{cest:"11.004.00",ncmsh:"34022000",descricao:"Detergentes em p\xF3, flocos, palhetas, gr\xE2nulos ou outras formas semelhantes"},{cest:"11.005.00",ncmsh:"34022000",descricao:"Detergentes l\xEDquidos, exceto para lavar roupa"},{cest:"11.006.00",ncmsh:"34022000",descricao:"Detergente l\xEDquido para lavar roupa"},{cest:"11.007.00",ncmsh:"3402",descricao:"Outros agentes org\xE2nicos de superf\xEDcie (exceto sab\xF5es); prepara\xE7\xF5es tensoativas, prepara\xE7\xF5es para lavagem (inclu\xEDdas as prepara\xE7\xF5es auxiliares para lavagem) e prepara\xE7\xF5es para limpeza (inclusive multiuso e limpadores), mesmo contendo sab\xE3o, exceto os produtos descritos nos CEST 11.001.00, 11.004.00, 11.005.00 e 11.006.00; em embalagem de conte\xFAdo inferior ou igual a 50 litros ou 50 kg"},{cest:"11.008.00",ncmsh:"38099190",descricao:"Amaciante/suavizante"},{cest:"11.009.00",ncmsh:"39241000;39249000;68053010;68053090",descricao:"Esponjas para limpeza"},{cest:"11.010.00",ncmsh:"2207;22089000",descricao:"\xC1lcool et\xEDlico para limpeza"},{cest:"11.011.00",ncmsh:"73231000",descricao:"Esponjas e palhas de a\xE7o; esponjas para limpeza, polimento ou uso semelhantes; todas de uso dom\xE9stico"},{cest:"11.012.00",ncmsh:"39232",descricao:"Sacos de lixo de conte\xFAdo igual ou inferior a 100 litros"},{cest:"12.001.00",ncmsh:"8504",descricao:"Transformadores, bobinas de reat\xE2ncia e de auto indu\xE7\xE3o, inclusive os transformadores de pot\xEAncia superior a 16 KVA, classificados nas posi\xE7\xF5es 8504.33.00 e 8504.34.00; exceto os demais transformadores da subposi\xE7\xE3o 8504.3, os reatores para l\xE2mpadas el\xE9tricas de descarga classificados no c\xF3digo 8504.10.00, os carregadores de acumuladores do c\xF3digo 8504.40.10, os equipamentos de alimenta\xE7\xE3o ininterrupta de energia (UPS ou \u201Cno break\u201D), no c\xF3digo 8504.40.40 e os de uso automotivo"},{cest:"12.002.00",ncmsh:"8516",descricao:"Aquecedores el\xE9tricos de \xE1gua, inclu\xEDdos os de imers\xE3o, chuveiros ou duchas el\xE9tricos, torneiras el\xE9tricas, resist\xEAncias de aquecimento, inclusive as de duchas e chuveiros el\xE9tricos e suas partes; exceto outros fornos, fogareiros (inclu\xEDdas as chapas de coc\xE7\xE3o), grelhas e assadeiras, classificados na posi\xE7\xE3o 8516.60.00"},{cest:"12.003.00",ncmsh:"8535",descricao:"Aparelhos para interrup\xE7\xE3o, seccionamento, prote\xE7\xE3o, deriva\xE7\xE3o, liga\xE7\xE3o ou conex\xE3o de circuitos el\xE9tricos (por exemplo, interruptores, comutadores, corta-circuitos, para-raios, limitadores de tens\xE3o, eliminadores de onda, tomadas de corrente e outros conectores, caixas de jun\xE7\xE3o), para tens\xE3o superior a 1.000V, exceto os de uso automotivo"},{cest:"12.004.00",ncmsh:"8536",descricao:"Aparelhos para interrup\xE7\xE3o, seccionamento, prote\xE7\xE3o, deriva\xE7\xE3o, liga\xE7\xE3o ou conex\xE3o de circuitos el\xE9tricos (por exemplo, interruptores, comutadores, rel\xE9s, corta-circuitos, eliminadores de onda, plugues e tomadas de corrente, suportes para l\xE2mpadas e outros conectores, caixas de jun\xE7\xE3o), para uma tens\xE3o n\xE3o superior a 1.000V; conectores para fibras \xF3pticas, feixes ou cabos de fibras \xF3pticas; exceto \u201Cstarter\u201D classificado na subposi\xE7\xE3o 8536.50 e os de uso automotivo"},{cest:"12.005.00",ncmsh:"8538",descricao:"Partes reconhec\xEDveis como exclusiva ou principalmente destinadas aos aparelhos das posi\xE7\xF5es 8535 e 8536"},{cest:"12.006.00",ncmsh:"74130000",descricao:"Cabos, tran\xE7as e semelhantes, de cobre, n\xE3o isolados para usos el\xE9tricos, exceto os de uso automotivo"},{cest:"12.007.00",ncmsh:"8544;7605;7614",descricao:"Fios, cabos (inclu\xEDdos os cabos coaxiais) e outros condutores, isolados ou n\xE3o, para usos el\xE9tricos (inclu\xEDdos os de cobre ou alum\xEDnio, envernizados ou oxidados anodicamente), mesmo com pe\xE7as de conex\xE3o, inclusive fios e cabos el\xE9tricos, para tens\xE3o n\xE3o superior a 1000V, para uso na constru\xE7\xE3o; fios e cabos telef\xF4nicos e para transmiss\xE3o de dados; cabos de fibras \xF3pticas, constitu\xEDdos de fibras embainhadas individualmente, mesmo com condutores el\xE9tricos ou munidos de pe\xE7as de conex\xE3o; cordas, cabos, tran\xE7as e semelhantes, de alum\xEDnio, n\xE3o isolados para uso el\xE9tricos; exceto os de uso automotivo"},{cest:"12.008.00",ncmsh:"8546",descricao:"Isoladores de qualquer mat\xE9ria, para usos el\xE9tricos"},{cest:"12.009.00",ncmsh:"8547",descricao:"Pe\xE7as isolantes inteiramente de mat\xE9rias isolantes, ou com simples pe\xE7as met\xE1licas de montagem (suportes roscados, por exemplo) incorporadas na massa, para m\xE1quinas, aparelhos e instala\xE7\xF5es el\xE9tricas; tubos isoladores e suas pe\xE7as de liga\xE7\xE3o, de metais comuns, isolados interiormente"},{cest:"13.001.00",ncmsh:"3003;3004",descricao:"Medicamentos de refer\xEAncia - positiva, exceto para uso veterin\xE1rio"},{cest:"13.001.01",ncmsh:"3003;3004",descricao:"Medicamentos de refer\xEAncia - negativa, exceto para uso veterin\xE1rio"},{cest:"13.001.02",ncmsh:"3003;3004",descricao:"Medicamentos de refer\xEAncia - neutra, exceto para uso veterin\xE1rio"},{cest:"13.002.00",ncmsh:"3003;3004",descricao:"Medicamentos gen\xE9rico - positiva, exceto para uso veterin\xE1rio"},{cest:"13.002.01",ncmsh:"3003;3004",descricao:"Medicamentos gen\xE9rico - negativa, exceto para uso veterin\xE1rio"},{cest:"13.002.02",ncmsh:"3003;3004",descricao:"Medicamentos gen\xE9rico - neutra, exceto para uso veterin\xE1rio"},{cest:"13.003.00",ncmsh:"3003;3004",descricao:"Medicamentos similar - positiva, exceto para uso veterin\xE1rio"},{cest:"13.003.01",ncmsh:"3003;3004",descricao:"Medicamentos similar - negativa, exceto para uso veterin\xE1rio"},{cest:"13.003.02",ncmsh:"3003;3004",descricao:"Medicamentos similar - neutra, exceto para uso veterin\xE1rio"},{cest:"13.004.00",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - positiva, exceto para uso veterin\xE1rio"},{cest:"13.004.01",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - negativa, exceto para uso veterin\xE1rio"},{cest:"13.004.02",ncmsh:"3003;3004",descricao:"Outros tipos de medicamentos - neutra, exceto para uso veterin\xE1rio"},{cest:"13.005.00",ncmsh:"30066000",descricao:"Prepara\xE7\xF5es qu\xEDmicas contraceptivas de refer\xEAncia, \xE0 base de horm\xF4nios, de outros produtos da posi\xE7\xE3o 29.37 ou de espermicidas - positiva."},{cest:"13.005.01",ncmsh:"30066000",descricao:"Prepara\xE7\xF5es qu\xEDmicas contraceptivas de refer\xEAncia, \xE0 base de horm\xF4nios, de outros produtos da posi\xE7\xE3o 29.37 ou de espermicidas - negativa."},{cest:"13.005.02",ncmsh:"30066000",descricao:"Prepara\xE7\xF5es qu\xEDmicas contraceptivas gen\xE9rico, \xE0 base de horm\xF4nios, de outros produtos da posi\xE7\xE3o 29.37 ou de espermicidas \u2013 positiva."},{cest:"13.005.03",ncmsh:"30066000",descricao:"Prepara\xE7\xF5es qu\xEDmicas contraceptivas gen\xE9rico, \xE0 base de horm\xF4nios, de outros produtos da posi\xE7\xE3o 29.37 ou de espermicidas \u2013 negativa."},{cest:"13.005.04",ncmsh:"30066000",descricao:"Prepara\xE7\xF5es qu\xEDmicas contraceptivas similar, \xE0 base de horm\xF4nios, de outros produtos da posi\xE7\xE3o 29.37 ou de espermicidas \u2013 positiva."},{cest:"13.005.05",ncmsh:"30066000",descricao:"Prepara\xE7\xF5es qu\xEDmicas contraceptivas similar, \xE0 base de horm\xF4nios, de outros produtos da posi\xE7\xE3o 29.37 ou de espermicidas \u2013 negativa."},{cest:"13.006.00",ncmsh:"2936",descricao:"Provitaminas e vitaminas, naturais ou reproduzidas por s\xEDntese (inclu\xEDdos os concentrados naturais), bem como os seus derivados utilizados principalmente como vitaminas, misturados ou n\xE3o entre si, mesmo em quaisquer solu\xE7\xF5es - neutra"},{cest:"13.007.00",ncmsh:"300630",descricao:"Prepara\xE7\xF5es opacificantes (contrastantes) para exames radiogr\xE1ficos e reagentes de diagn\xF3stico concebidos para serem administrados ao paciente - positiva"},{cest:"13.007.01",ncmsh:"300630",descricao:"Prepara\xE7\xF5es opacificantes (contrastantes) para exames radiogr\xE1ficos e reagentes de diagn\xF3stico concebidos para serem administrados ao paciente - negativa"},{cest:"13.008.00",ncmsh:"3002",descricao:"Antissoro, outras fra\xE7\xF5es do sangue, produtos imunol\xF3gicos modificados, mesmo obtidos por via biotecnol\xF3gica, exceto para uso veterin\xE1rio - positiva"},{cest:"13.008.01",ncmsh:"3002",descricao:"Antissoro, outras fra\xE7\xF5es do sangue, produtos imunol\xF3gicos modificados, mesmo obtidos por via biotecnol\xF3gica, exceto para uso veterin\xE1rio - negativa"},{cest:"13.009.00",ncmsh:"3002",descricao:"Vacinas e produtos semelhantes, exceto para uso veterin\xE1rio - positiva;"},{cest:"13.009.01",ncmsh:"3002",descricao:"Vacinas e produtos semelhantes, exceto para uso veterin\xE1rio - negativa;"},{cest:"13.010.00",ncmsh:"30051010",descricao:"Curativos (pensos) adesivos e outros artigos com uma camada adesiva, impregnados ou recobertos de subst\xE2ncias farmac\xEAuticas - Lista Positiva"},{cest:"13.010.01",ncmsh:"30051010",descricao:"Curativos (pensos) adesivos e outros artigos com uma camada adesiva, impregnados ou recobertos de subst\xE2ncias farmac\xEAuticas - Lista Negativa"},{cest:"13.011.00",ncmsh:"3005",descricao:"Algod\xE3o, atadura, esparadrapo, gazes, pensos, sinapismos, e outros, acondicionados para venda a retalho para usos medicinais, cir\xFArgicos ou dent\xE1rios, n\xE3o impregnados ou recobertos de subst\xE2ncias farmac\xEAuticas - Lista Neutra"},{cest:"13.012.00",ncmsh:"40151100;40151900",descricao:"Luvas cir\xFArgicas e luvas de procedimento - neutra"},{cest:"13.013.00",ncmsh:"40141000",descricao:"Preservativo \u2013 neutra"},{cest:"13.014.00",ncmsh:"901831",descricao:"Seringas, mesmo com agulhas - neutra"},{cest:"13.015.00",ncmsh:"9018321",descricao:"Agulhas para seringas - neutra"},{cest:"13.016.00",ncmsh:"39269090;90189099",descricao:"Contraceptivos (dispositivos intrauterinos - DIU) - neutra"},{cest:"14.001.00",ncmsh:"7013",descricao:"Objetos de vidro para servi\xE7o de mesa ou de cozinha"},{cest:"14.002.00",ncmsh:"70133700",descricao:"Outros copos, exceto de vitrocer\xE2mica"},{cest:"14.003.00",ncmsh:"70134290",descricao:"Objetos para servi\xE7o de mesa (exceto copos) ou de cozinha, exceto de vitrocer\xE2mica"},{cest:"14.004.00",ncmsh:"3919;3920;3921",descricao:"Lonas pl\xE1sticas, exceto as para uso na constru\xE7\xE3o"},{cest:"14.005.00",ncmsh:"3924",descricao:"Artefatos de higiene/toucador de pl\xE1stico, exceto os para uso na constru\xE7\xE3o"},{cest:"14.006.00",ncmsh:"39241000",descricao:"Servi\xE7os de mesa e outros utens\xEDlios de mesa ou de cozinha, de pl\xE1stico, n\xE3o descart\xE1veis"},{cest:"14.006.01",ncmsh:"39241000",descricao:"Servi\xE7os de mesa e outros utens\xEDlios de mesa ou de cozinha, de pl\xE1stico, descart\xE1veis"},{cest:"14.007.00",ncmsh:"69111010",descricao:"Artigos para servi\xE7o de mesa ou de cozinha, de porcelana, inclusive os descart\xE1veis - estojos"},{cest:"14.008.00",ncmsh:"69111090",descricao:"Artigos para servi\xE7o de mesa ou de cozinha, de porcelana, inclusive os descart\xE1veis - avulsos"},{cest:"14.009.00",ncmsh:"69120000",descricao:"Artigos para servi\xE7o de mesa ou de cozinha, de cer\xE2mica"},{cest:"14.010.00",ncmsh:"69120000",descricao:"Velas para filtros"},{cest:"14.011.00",ncmsh:"4823209",descricao:"Filtros descart\xE1veis para coar caf\xE9 ou ch\xE1"},{cest:"14.012.00",ncmsh:"48236",descricao:"Bandejas, travessas, pratos, x\xEDcaras ou ch\xE1venas, ta\xE7as, copos e artigos semelhantes, de papel ou cart\xE3o"},{cest:"14.013.00",ncmsh:"48131000",descricao:"Papel para cigarro"},{cest:"16.001.00",ncmsh:"40111000",descricao:"Pneus novos, dos tipos utilizados em autom\xF3veis de passageiros (inclu\xEDdos os ve\xEDculos de uso misto - camionetas e os autom\xF3veis de corrida)"},{cest:"16.002.00",ncmsh:"4011",descricao:"Pneus novos, dos tipos utilizados em caminh\xF5es (inclusive para os fora-de-estrada), \xF4nibus, avi\xF5es, m\xE1quinas de terraplenagem, de constru\xE7\xE3o e conserva\xE7\xE3o de estradas, m\xE1quinas e tratores agr\xEDcolas, p\xE1-carregadeira"},{cest:"16.003.00",ncmsh:"40114000",descricao:"Pneus novos para motocicletas"},{cest:"16.004.00",ncmsh:"4011",descricao:"Outros tipos de pneus novos, exceto os itens classificados no CEST 16.005.00"},{cest:"16.005.00",ncmsh:"40115000",descricao:"Pneus novos de borracha dos tipos utilizados em bicicletas"},{cest:"16.006.00",ncmsh:"40121",descricao:"Pneus recauchutados"},{cest:"16.007.00",ncmsh:"401290",descricao:"Protetores de borracha, exceto os itens classificados no CEST 16.007.01"},{cest:"16.007.01",ncmsh:"401290",descricao:"Protetores de borracha para bicicletas"},{cest:"16.008.00",ncmsh:"4013",descricao:"C\xE2maras de ar de borracha, exceto os itens classificados no CEST 16.009.00"},{cest:"16.009.00",ncmsh:"40132000",descricao:"C\xE2maras de ar de borracha dos tipos utilizados em bicicletas"},{cest:"17.001.00",ncmsh:"17049010",descricao:"Chocolate branco, em embalagens de conte\xFAdo inferior ou igual a 1 kg, exclu\xEDdos os ovos de p\xE1scoa de chocolate."},{cest:"17.002.00",ncmsh:"18063110;18063120",descricao:"Chocolates contendo cacau, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.003.00",ncmsh:"18063210;18063220",descricao:"Chocolate em barras, tabletes ou blocos ou no estado l\xEDquido, em pasta, em p\xF3, gr\xE2nulos ou formas semelhantes, em recipientes ou embalagens imediatas de conte\xFAdo inferior ou igual a 2 kg"},{cest:"17.004.00",ncmsh:"18069000",descricao:"Chocolates e outras prepara\xE7\xF5es aliment\xEDcias contendo cacau, em embalagens de conte\xFAdo inferior ou igual a 1 kg, exclu\xEDdos os achocolatados em p\xF3 e ovos de p\xE1scoa de chocolate."},{cest:"17.005.00",ncmsh:"17049010",descricao:"Ovos de p\xE1scoa de chocolate branco"},{cest:"17.005.01",ncmsh:"18069000",descricao:"Ovos de p\xE1scoa de chocolate"},{cest:"17.006.00",ncmsh:"18069000",descricao:"Achocolatados em p\xF3, em embalagens de conte\xFAdo inferior ou igual a 1 kg, exceto os classificados no CEST 17.006.02"},{cest:"17.006.01",ncmsh:"18061000",descricao:"Cacau em p\xF3, com adi\xE7\xE3o de a\xE7\xFAcar ou de outros edulcorantes, em embalagens de conte\xFAdo inferior ou igual a 1kg"},{cest:"17.006.02",ncmsh:"18069000",descricao:"Achocolatados em p\xF3, em c\xE1psulas"},{cest:"17.007.00",ncmsh:"18069000",descricao:"Caixas de bombons contendo cacau, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.008.00",ncmsh:"17049090",descricao:"Bombons, inclusive \xE0 base de chocolate branco sem cacau"},{cest:"17.009.00",ncmsh:"18069000",descricao:"Bombons, balas, caramelos, confeitos, pastilhas e outros produtos de confeitaria, contendo cacau"},{cest:"17.010.00",ncmsh:"2009",descricao:"Sucos de frutas ou de produtos hort\xEDcolas; mistura de sucos"},{cest:"17.011.00",ncmsh:"20098",descricao:"\xC1gua de coco"},{cest:"17.012.00",ncmsh:"04021;04022;04029",descricao:"Leite em p\xF3, blocos ou gr\xE2nulos, exceto creme de leite"},{cest:"17.013.00",ncmsh:"19011020",descricao:"Farinha l\xE1ctea"},{cest:"17.014.00",ncmsh:"19011010",descricao:"Leite modificado para alimenta\xE7\xE3o de crian\xE7as"},{cest:"17.015.00",ncmsh:"19011090;19011030",descricao:"Prepara\xE7\xF5es para alimenta\xE7\xE3o infantil \xE0 base de farinhas, grumos, s\xEAmolas ou amidos e outros"},{cest:"17.016.00",ncmsh:"04011010;04012010",descricao:"Leite \u201Clonga vida\u201D (UHT - \u201CUltra High Temperature\u201D), em recipiente de conte\xFAdo inferior ou igual a 2 litros"},{cest:"17.016.01",ncmsh:"04011010;04012010",descricao:"Leite \u201Clonga vida\u201D (UHT - \u201CUltra High Temperature\u201D), em recipiente de conte\xFAdo superior a 2 litros e inferior ou igual a 5 litros"},{cest:"17.017.00",ncmsh:"04014010;04015010",descricao:"Leite em recipiente de conte\xFAdo inferior ou igual a 1 litro"},{cest:"17.017.01",ncmsh:"04014010;04015010",descricao:"Leite em recipiente de conte\xFAdo superior a 1 litro e inferior ou igual a 5 litros"},{cest:"17.018.00",ncmsh:"04011090;04012090",descricao:"Leite do tipo pasteurizado em recipiente de conte\xFAdo inferior ou igual a 1 litro"},{cest:"17.018.01",ncmsh:"04011090;04012090",descricao:"Leite do tipo pasteurizado em recipiente de conte\xFAdo superior a 1 litro e inferior ou igual a 5 litros"},{cest:"17.019.00",ncmsh:"0401402;04022130;04022930;04029",descricao:"Creme de leite, em recipiente de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.019.01",ncmsh:"0401402;04022130;04022930;04029",descricao:"Creme de leite, em recipiente de conte\xFAdo superior a 1 kg"},{cest:"17.019.02",ncmsh:"040110;040120;040150;040210;04022920",descricao:"Outros cremes de leite, em recipiente de conte\xFAdo inferior ou igual a 1kg"},{cest:"17.019.03",ncmsh:"040110;040120;040150;040210;04022920",descricao:"Outros cremes de leite, em recipiente de conte\xFAdo superior a 1kg"},{cest:"17.020.00",ncmsh:"04029",descricao:"Leite condensado, em recipiente de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.020.01",ncmsh:"04029",descricao:"Leite condensado, em recipiente de conte\xFAdo superior a 1 kg"},{cest:"17.021.00",ncmsh:"403",descricao:"Iogurte e leite fermentado em recipiente de conte\xFAdo inferior ou igual a 2 litros, exceto o item classificado no CEST 17.022.00"},{cest:"17.021.01",ncmsh:"403",descricao:"Iogurte e leite fermentado em recipiente de conte\xFAdo superior a 2 litros, exceto o item classificado no CEST 17.022.00"},{cest:"17.022.00",ncmsh:"04039000",descricao:"Coalhada"},{cest:"17.023.00",ncmsh:"406",descricao:"Requeij\xE3o e similares, em recipiente de conte\xFAdo inferior ou igual a 1 kg, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.023.01",ncmsh:"406",descricao:"Requeij\xE3o e similares, em recipiente de conte\xFAdo superior a 1 kg"},{cest:"17.024.00",ncmsh:"406",descricao:"Queijos, exceto os dos CEST 17.024.01, 17.024.02, 17.024.03 e 17.024.04"},{cest:"17.024.01",ncmsh:"04061010",descricao:"Queijo mu\xE7arela"},{cest:"17.024.02",ncmsh:"04061090",descricao:"Queijo minas frescal"},{cest:"17.024.03",ncmsh:"04061090",descricao:"Queijo ricota"},{cest:"17.024.04",ncmsh:"04061090",descricao:"Queijo petitsuisse"},{cest:"17.025.00",ncmsh:"04051000",descricao:"Manteiga, em embalagem de conte\xFAdo inferior ou igual a 1 kg, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.025.01",ncmsh:"04051000",descricao:"Manteiga, em embalagem de conte\xFAdo superior a 1 kg"},{cest:"17.025.02",ncmsh:"04059090",descricao:"Manteiga de garrafa"},{cest:"17.026.00",ncmsh:"15171000",descricao:"Margarina e creme vegetal em recipiente de conte\xFAdo inferior ou igual a 500 g, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.027.00",ncmsh:"15171000",descricao:"Margarina e creme vegetal, em recipiente de conte\xFAdo superior a 500 g e inferior ou igual a 1 kg, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.027.01",ncmsh:"15171000",descricao:"Margarina e creme vegetal, em recipiente de conte\xFAdo superior a 1 kg"},{cest:"17.027.02",ncmsh:"151790",descricao:"Outras margarinas e cremes vegetais em recipiente de conte\xFAdo inferior a 1 kg, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.028.00",ncmsh:"15162000",descricao:"Gorduras e \xF3leos vegetais e respectivas fra\xE7\xF5es, parcial ou totalmente hidrogenados, interesterificados, reesterificados ou elaidinizados, mesmo refinados, mas n\xE3o preparados de outro modo, em recipiente de conte\xFAdo inferior ou igual a 1 kg, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.028.01",ncmsh:"15162000",descricao:"Gorduras e \xF3leos vegetais e respectivas fra\xE7\xF5es, parcial ou totalmente hidrogenados, interesterificados, reesterificados ou elaidinizados, mesmo refinados, mas n\xE3o preparados de outro modo, em recipiente de conte\xFAdo superior a 1 kg, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.029.00",ncmsh:"19019020",descricao:"Doces de leite"},{cest:"17.030.00",ncmsh:"19041000;19049000",descricao:"Produtos \xE0 base de cereais, obtidos por expans\xE3o ou torrefa\xE7\xE3o"},{cest:"17.031.00",ncmsh:"19059090",descricao:"Salgadinhos diversos, exceto os classificados no CEST 17.031.01 e 17.031.02"},{cest:"17.031.01",ncmsh:"19059090",descricao:"Salgadinhos diversos, derivados de farinha de trigo"},{cest:"17.031.02",ncmsh:"19059090",descricao:"Biscoitos de polvilho"},{cest:"17.032.00",ncmsh:"20052000;20059",descricao:"Batata frita, inhame e mandioca fritos"},{cest:"17.033.00",ncmsh:"20081",descricao:"Amendoim e castanhas tipo aperitivo, em embalagem de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.033.01",ncmsh:"20081",descricao:"Amendoim e castanhas tipo aperitivo, em embalagem de conte\xFAdo superior a 1 kg"},{cest:"17.034.00",ncmsh:"21032010",descricao:"Catchup em embalagens imediatas de conte\xFAdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.035.00",ncmsh:"21039021;21039091",descricao:"Condimentos e temperos compostos, incluindo molho de pimenta e outros molhos, em embalagens imediatas de conte\xFAdo inferior ou igual a 1 kg, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 3 g"},{cest:"17.036.00",ncmsh:"21031010",descricao:"Molhos de soja preparados em embalagens imediatas de conte\xFAdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.037.00",ncmsh:"21033010",descricao:"Farinha de mostarda em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.038.00",ncmsh:"21033021",descricao:"Mostarda preparada em embalagens imediatas de conte\xFAdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.039.00",ncmsh:"21039011",descricao:"Maionese em embalagens imediatas de conte\xFAdo inferior ou igual a 650 g, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.040.00",ncmsh:"2002",descricao:"Tomates preparados ou conservados, exceto em vinagre ou em \xE1cido ac\xE9tico, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.041.00",ncmsh:"21032010",descricao:"Molhos de tomate em embalagens imediatas de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.042.00",ncmsh:"17049090;19042000;19049000",descricao:"Barra de cereais"},{cest:"17.043.00",ncmsh:"18063120;18063220;18069000",descricao:"Barra de cereais contendo cacau"},{cest:"17.044.00",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.01",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 1 kg e inferior a 5 kg"},{cest:"17.044.02",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem igual a 5 kg"},{cest:"17.044.03",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 5 kg e inferior ou igual a 25 kg"},{cest:"17.044.04",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 25 kg e inferior ou igual a 50 kg"},{cest:"17.044.05",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem igual a 5 kg"},{cest:"17.044.06",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 5 kg e inferior ou igual a 25 kg"},{cest:"17.044.07",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 25 kg e inferior ou igual a 50 kg"},{cest:"17.044.08",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica especial, em embalagem superior a 5 kg e inferior e igual a 10 kg"},{cest:"17.044.09",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica com fermento, em embalagem superior a 5 kg e inferior e igual a 10 kg"},{cest:"17.044.10",ncmsh:"11010010",descricao:"Farinha de trigo especial, em embalagem superior a 50 Kg"},{cest:"17.044.11",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.12",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.13",ncmsh:"11010010",descricao:"Farinha de trigo comum, em embalagem superior a 50 kg"},{cest:"17.044.14",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica especial, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.15",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica especial, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.16",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica especial, em embalagem igual a 5 Kg"},{cest:"17.044.17",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica especial, em embalagem superior a 10 Kg"},{cest:"17.044.18",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica com fermento, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.19",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica com fermento, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.20",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica com fermento, em embalagem igual a 5 Kg"},{cest:"17.044.21",ncmsh:"11010010",descricao:"Farinha de trigo dom\xE9stica com fermento, em embalagem superior a 10 Kg"},{cest:"17.044.22",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem inferior ou igual a 1 kg"},{cest:"17.044.23",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 1 kg e inferior a 5 Kg"},{cest:"17.044.24",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem igual a 5 Kg"},{cest:"17.044.25",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 5 Kg e inferior ou igual a 25 kg"},{cest:"17.044.26",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 25 Kg e inferior ou igual a 50 kg"},{cest:"17.044.27",ncmsh:"11010010",descricao:"Outras farinhas de trigo, em embalagem superior a 50 Kg"},{cest:"17.045.00",ncmsh:"11010020",descricao:"Farinha de mistura de trigo com centeio (m\xE9teil)"},{cest:"17.046.00",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para bolos, em embalagem inferior 5 kg"},{cest:"17.046.01",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para bolos, em embalagem igual a 5 kg"},{cest:"17.046.02",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para bolos, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.03",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para bolos, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.04",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para bolos, em embalagem superior a 50 Kg"},{cest:"17.046.05",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com menos de 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem inferior a 5 kg"},{cest:"17.046.06",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com menos de 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem igual a 5 kg"},{cest:"17.046.07",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com menos de 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.08",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com menos de 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.09",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com menos de 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem superior a 50 Kg"},{cest:"17.046.10",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com, no m\xEDnimo, 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem inferior a 5 kg"},{cest:"17.046.11",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com, no m\xEDnimo, 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem igual a 5 kg"},{cest:"17.046.12",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com, no m\xEDnimo, 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem superior a 5 kg e inferior ou igual a 25 Kg"},{cest:"17.046.13",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com, no m\xEDnimo, 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem superior a 25 kg e inferior ou igual a 50 Kg"},{cest:"17.046.14",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es para p\xE3es com, no m\xEDnimo, 80% de farinha de trigo na sua composi\xE7\xE3o final, em embalagem superior a 50 Kg"},{cest:"17.046.15",ncmsh:"19012000;19019090",descricao:"Misturas e pastas para a prepara\xE7\xE3o de produtos de padaria, pastelaria e da ind\xFAstria de bolachas e biscoitos, da posi\xE7\xE3o 19.05, exceto os previstos nos CEST 17.046.00 a 17.046.14 e 17.046.16."},{cest:"17.046.16",ncmsh:"19012000;19019090",descricao:"Misturas e prepara\xE7\xF5es com, no m\xEDnimo, 80% de farinha de trigo na sua composi\xE7\xE3o final, exceto as descritas nos CEST 17.046.10 a 17.046.15."},{cest:"17.047.00",ncmsh:"19023000",descricao:"Massas aliment\xEDcias tipo instant\xE2nea, exceto as descritas no CEST 17047.01."},{cest:"17.047.01",ncmsh:"19023000",descricao:"Massas aliment\xEDcias tipo instant\xE2nea, derivadas de farinha de trigo."},{cest:"17.048.00",ncmsh:"1902",descricao:"Massas aliment\xEDcias, cozidas ou recheadas (de carne ou de outras subst\xE2ncias) ou preparadas de outro modo, exceto as descritas nos CEST 17.047.00, 17.048.01, e 17.048.02"},{cest:"17.048.01",ncmsh:"19024000",descricao:"Cuscuz"},{cest:"17.048.02",ncmsh:"19022000",descricao:"Massas aliment\xEDcias recheadas (mesmo cozidas ou preparadas de outro modo)"},{cest:"17.049.00",ncmsh:"19021",descricao:"Massas aliment\xEDcias do tipo comum, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, exceto as descritas nos CEST 17.049.03 e 17.049.06"},{cest:"17.049.01",ncmsh:"19021",descricao:"Massas aliment\xEDcias do tipo s\xEAmola, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, exceto as descritas nos CEST 17.049.04 e 17.049.07"},{cest:"17.049.02",ncmsh:"19021",descricao:"Massas aliment\xEDcias do tipo granoduro, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.05"},{cest:"17.049.03",ncmsh:"19021900",descricao:"Massas aliment\xEDcias do tipo comum, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, que n\xE3o contenham ovos, derivadas de farinha de trigo, exceto as descritas no CEST17.049.08"},{cest:"17.049.04",ncmsh:"19021900",descricao:"Massas aliment\xEDcias do tipo s\xEAmola, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, que n\xE3o contenham ovos, derivadas de farinha de trigo, exceto as descritas no CEST 17.049.09"},{cest:"17.049.05",ncmsh:"19021900",descricao:"Massas aliment\xEDcias do tipo granoduro, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, que n\xE3o contenham ovos"},{cest:"17.049.06",ncmsh:"19021",descricao:"Massas aliment\xEDcias do tipo comum, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.03, derivadas de farinha de trigo"},{cest:"17.049.07",ncmsh:"19021",descricao:"Massas aliment\xEDcias do tipo s\xEAmola, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, exceto a descrita no CEST 17.049.04, derivadas de farinha de trigo"},{cest:"17.049.08",ncmsh:"19021900",descricao:"Massas aliment\xEDcias do tipo comum, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, que n\xE3o contenham ovos, derivadas de farinha de trigo"},{cest:"17.049.09",ncmsh:"19021900",descricao:"Massas aliment\xEDcias do tipo s\xEAmola, n\xE3o cozidas, nem recheadas, nem preparadas de outro modo, que n\xE3o contenham ovos, derivadas de farinha de trigo"},{cest:"17.050.00",ncmsh:"190520",descricao:"P\xE3es industrializados, inclusive de especiarias, exceto panetones e bolo de forma"},{cest:"17.051.00",ncmsh:"19052090",descricao:"Bolo de forma, inclusive de especiarias"},{cest:"17.052.00",ncmsh:"19052010",descricao:"Panetones"},{cest:"17.053.00",ncmsh:"19053100",descricao:"Biscoitos e bolachas derivados de farinha de trigo; (exceto dos tipos \u201Ccream cracker\u201D, \u201C\xE1gua e sal\u201D, \u201Cmaisena\u201D, \u201Cmaria\u201D e outros de consumo popular que n\xE3o sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denomina\xE7\xE3o comercial)"},{cest:"17.053.01",ncmsh:"19053100",descricao:"Biscoitos e bolachas derivados de farinha de trigo dos tipos \u201Cmaisena\u201D e \u201Cmaria\u201D e outros de consumo popular que n\xE3o sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denomina\xE7\xE3o comercial, exceto o CEST 17.053.02"},{cest:"17.053.02",ncmsh:"19053100",descricao:'Biscoitos e bolachas derivados de farinha de trigo dos tipos "cream cracker" e "\xE1gua e sal" de consumo popular'},{cest:"17.054.00",ncmsh:"19053100",descricao:'Biscoitos e bolachas n\xE3o derivados de farinha de trigo; (exceto dos tipos "cream cracker", "\xE1gua e sal", "maisena" e "maria" e outros de consumo popular que n\xE3o sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denomina\xE7\xE3o comercial)'},{cest:"17.054.01",ncmsh:"19053100",descricao:'Biscoitos e bolachas n\xE3o derivados de farinha de trigo dos tipos "maisena" e "maria" e outros de consumo popular que n\xE3o sejam adicionados de cacau, nem recheados, cobertos ou amanteigados, independentemente de sua denomina\xE7\xE3o comercial, exceto o CEST 17.054.02'},{cest:"17.054.02",ncmsh:"19053100",descricao:'Biscoitos e bolachas n\xE3o derivados de farinha de trigo dos tipos "cream cracker" e "\xE1gua e sal" de consumo popular'},{cest:"17.056.00",ncmsh:"19059020",descricao:"Biscoitos e bolachas derivados de farinha de trigo dos tipos \u201Ccream cracker\u201D e \u201C\xE1gua e sal\u201D"},{cest:"17.056.01",ncmsh:"19059020",descricao:"Biscoitos e bolachas n\xE3o derivados de farinha de trigo dos tipos \u201Ccream cracker\u201D e \u201C\xE1gua e sal\u201D"},{cest:"17.056.02",ncmsh:"19059020",descricao:"Outras bolachas, exceto casquinhas para sorvete e os biscoitos e bolachas relacionados nos CEST 17.056.00 e 17.056.01"},{cest:"17.057.00",ncmsh:"19053200",descricao:"\u201CWaffles\u201D e \u201Cwafers\u201D - sem cobertura"},{cest:"17.058.00",ncmsh:"19053200",descricao:"\u201CWaffles\u201D e \u201Cwafers\u201D - com cobertura"},{cest:"17.059.00",ncmsh:"19054000",descricao:"Torradas, p\xE3o torrado e produtos semelhantes torrados"},{cest:"17.060.00",ncmsh:"19059010",descricao:"Outros p\xE3es de forma"},{cest:"17.062.00",ncmsh:"19059090",descricao:"Outros p\xE3es, exceto o classificado no CEST 17.062.03"},{cest:"17.062.01",ncmsh:"19059090",descricao:"Outros bolos industrializados e produtos de panifica\xE7\xE3o n\xE3o especificados anteriormente, incluindo as pizzas; exceto os classificados nos CEST 17.062.02 e 17.062.03"},{cest:"17.062.02",ncmsh:"19059020;19059090",descricao:"Casquinhas para sorvete"},{cest:"17.062.03",ncmsh:"19059090",descricao:"P\xE3o franc\xEAs at\xE9 200g"},{cest:"17.063.00",ncmsh:"19051000",descricao:"P\xE3o denominado knackebrot"},{cest:"17.064.00",ncmsh:"190590",descricao:"Demais p\xE3es industrializados"},{cest:"17.065.00",ncmsh:"15079011",descricao:"\xD3leo de soja refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.066.00",ncmsh:"1508",descricao:"\xD3leo de amendoim refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.067.00",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade inferior a 2 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 20 mililitros"},{cest:"17.067.01",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade igual ou superior a 2 litros e inferior ou igual a 5 litros"},{cest:"17.067.02",ncmsh:"1509",descricao:"Azeites de oliva, em recipientes com capacidade superior a 5 litros"},{cest:"17.068.00",ncmsh:"15100000",descricao:"Outros \xF3leos e respectivas fra\xE7\xF5es, obtidos exclusivamente a partir de azeitonas, mesmo refinados, mas n\xE3o quimicamente modificados, e misturas desses \xF3leos ou fra\xE7\xF5es com \xF3leos ou fra\xE7\xF5es da posi\xE7\xE3o 15.09, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.069.00",ncmsh:"15121911",descricao:"\xD3leo de girassol em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.069.01",ncmsh:"15122910",descricao:"\xD3leo de algod\xE3o refinado em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.070.00",ncmsh:"15141",descricao:"\xD3leo de canola, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.071.00",ncmsh:"15151900",descricao:"\xD3leo de linha\xE7a refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.072.00",ncmsh:"15152910",descricao:"\xD3leo de milho refinado, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.073.00",ncmsh:"15122990",descricao:"Outros \xF3leos refinados, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.074.00",ncmsh:"15179010",descricao:"Misturas de \xF3leos refinados, para consumo humano, em recipientes com capacidade inferior ou igual a 5 litros, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 15 mililitros"},{cest:"17.075.00",ncmsh:"1511;1513;1514;1515;1516;1518",descricao:"Outros \xF3leos vegetais comest\xEDveis n\xE3o especificados anteriormente"},{cest:"17.076.00",ncmsh:"16010000",descricao:"Enchidos (embutidos) e produtos semelhantes, de carne, miudezas ou sangue; exceto salsicha, lingui\xE7a e mortadela"},{cest:"17.077.00",ncmsh:"16010000",descricao:"Salsicha e lingui\xE7a, exceto as descritas nos CEST 17.077.01"},{cest:"17.077.01",ncmsh:"16010000",descricao:"Salsicha em lata"},{cest:"17.078.00",ncmsh:"16010000",descricao:"Mortadela"},{cest:"17.079.00",ncmsh:"1602",descricao:"Outras prepara\xE7\xF5es e conservas de carne, miudezas ou de sangue, exceto as descritas nos CEST 17.079.01, 17.079.02, 17.079.03, 17.079.04, 17.079.05, 17.079.06 e 17.079.07"},{cest:"17.079.01",ncmsh:"16023100",descricao:"Outras prepara\xE7\xF5es e conservas de carne, de miudezas ou de sangue, de aves da posi\xE7\xE3o 01.05: de peruas e de perus."},{cest:"17.079.02",ncmsh:"16023210",descricao:"Outras prepara\xE7\xF5es e conservas de carne, de miudezas ou de sangue, de aves da posi\xE7\xE3o 01.05: de galos e de galinhas, com conte\xFAdo de carne ou de miudezas superior ou igual a 57 %, em peso, n\xE3o cozidas"},{cest:"17.079.03",ncmsh:"16023220",descricao:"Outras prepara\xE7\xF5es e conservas de carne, de miudezas ou de sangue, todas de aves da posi\xE7\xE3o 01.05: de galos e de galinhas, com conte\xFAdo de carne ou de miudezas superior ou igual a 57 %, em peso, cozidas"},{cest:"17.079.04",ncmsh:"16024100",descricao:"Outras prepara\xE7\xF5es e conservas de carne, de miudezas ou de sangue, da esp\xE9cie su\xEDna: pernas e respectivos peda\xE7os"},{cest:"17.079.05",ncmsh:"16024900",descricao:"Outras prepara\xE7\xF5es e conservas de carne, de miudezas ou de sangue, da esp\xE9cie su\xEDna: outras, incluindo as misturas, exceto os descritos no CEST 17.079.07"},{cest:"17.079.06",ncmsh:"16025000",descricao:"Outras prepara\xE7\xF5es e conservas de carne, de miudezas ou de sangue, da esp\xE9cie bovina"},{cest:"17.079.07",ncmsh:"16024900",descricao:"Apresuntado"},{cest:"17.080.00",ncmsh:"1604",descricao:"Prepara\xE7\xF5es e conservas de peixes; caviar e seus suced\xE2neos preparados a partir de ovas de peixe; exceto os descritos nos CEST 17.080.01 e 17.081.00"},{cest:"17.080.01",ncmsh:"16042010",descricao:"Outras prepara\xE7\xF5es e conservas de atuns"},{cest:"17.081.00",ncmsh:"1604",descricao:"Sardinha em conserva"},{cest:"17.082.00",ncmsh:"1605",descricao:"Crust\xE1ceos, moluscos e outros invertebrados aqu\xE1ticos, preparados ou em conservas"},{cest:"17.083.00",ncmsh:"02102000;02109900;1502",descricao:"Carne de gado bovino, ovino e bufalino e produtos comest\xEDveis resultantes da matan\xE7a desse gado submetidos \xE0 salga, secagem ou desidrata\xE7\xE3o, exceto os descritos no CEST 17.083.01"},{cest:"17.083.01",ncmsh:"02102000",descricao:"Charque e jerkedbeef"},{cest:"17.084.00",ncmsh:"0201;0202;0204;0206",descricao:"Carne de gado bovino, ovino e bufalino e demais produtos comest\xEDveis resultantes da matan\xE7a desse gado frescos, refrigerados ou congelados"},{cest:"17.085.00",ncmsh:"204",descricao:"Carnes de animais das esp\xE9cies caprina, frescas, refrigeradas ou congeladas"},{cest:"17.086.00",ncmsh:"02109900;15021019;15029000",descricao:"Carnes e demais produtos comest\xEDveis frescos, resfriados, congelados, salgados ou salmourados resultantes do abate de caprinos"},{cest:"17.087.00",ncmsh:"0207;0209;02109900;1501",descricao:"Carnes e demais produtos comest\xEDveis frescos, resfriados, congelados, salgados, em salmoura, simplesmente temperados, secos ou defumados, resultantes do abate de aves, exceto os descritos no CEST 17.087.02"},{cest:"17.087.01",ncmsh:"0203;0206;0209;02101;02109900;1501",descricao:"Carnes e demais produtos comest\xEDveis frescos, resfriados, congelados, salgados, em salmoura, simplesmente temperados, secos ou defumados, resultantes do abate de su\xEDnos"},{cest:"17.087.02",ncmsh:"02071;02072",descricao:"Carnes de aves inteiras e com peso unit\xE1rio superior a 3 kg, temperadas"},{cest:"17.088.00",ncmsh:"710",descricao:"Produtos hort\xEDcolas, cozidos em \xE1gua ou vapor, congelados, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.088.01",ncmsh:"710",descricao:"Produtos hort\xEDcolas, cozidos em \xE1gua ou vapor, congelados, em embalagens de conte\xFAdo superior a 1 kg"},{cest:"17.089.00",ncmsh:"0811",descricao:"Frutas, n\xE3o cozidas ou cozidas em \xE1gua ou vapor, congeladas, mesmo adicionadas de a\xE7\xFAcar ou de outros edulcorantes, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.089.01",ncmsh:"0811;2008",descricao:"Frutas, n\xE3o cozidas ou cozidas em \xE1gua ou vapor, congeladas, mesmo adicionadas de a\xE7\xFAcar ou de outros edulcorantes, em embalagens de conte\xFAdo superior a 1 kg"},{cest:"17.090.00",ncmsh:"2001",descricao:"Produtos hort\xEDcolas, frutas e outras partes comest\xEDveis de plantas, preparados ou conservados em vinagre ou em \xE1cido ac\xE9tico, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.090.01",ncmsh:"2001",descricao:"Produtos hort\xEDcolas, frutas e outras partes comest\xEDveis de plantas, preparados ou conservados em vinagre ou em \xE1cido ac\xE9tico, em embalagens de conte\xFAdo superior a 1 kg"},{cest:"17.091.00",ncmsh:"2004",descricao:"Outros produtos hort\xEDcolas preparados ou conservados, exceto em vinagre ou em \xE1cido ac\xE9tico, congelados, com exce\xE7\xE3o dos produtos da posi\xE7\xE3o 20.06, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.091.01",ncmsh:"2004",descricao:"Outros produtos hort\xEDcolas preparados ou conservados, exceto em vinagre ou em \xE1cido ac\xE9tico, congelados, com exce\xE7\xE3o dos produtos da posi\xE7\xE3o 20.06, em embalagens de conte\xFAdo superior a 1 kg"},{cest:"17.092.00",ncmsh:"2005",descricao:"Outros produtos hort\xEDcolas preparados ou conservados, exceto em vinagre ou em \xE1cido ac\xE9tico, n\xE3o congelados, com exce\xE7\xE3o dos produtos da posi\xE7\xE3o 20.06, exclu\xEDdos batata, inhame e mandioca fritos, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.092.01",ncmsh:"2005",descricao:"Outros produtos hort\xEDcolas preparados ou conservados, exceto em vinagre ou em \xE1cido ac\xE9tico, n\xE3o congelados, com exce\xE7\xE3o dos produtos da posi\xE7\xE3o 20.06, exclu\xEDdos batata, inhame e mandioca fritos, em embalagens de conte\xFAdo superior a 1 kg"},{cest:"17.093.00",ncmsh:"20060000",descricao:"Produtos hort\xEDcolas, frutas, cascas de frutas e outras partes de plantas, conservados com a\xE7\xFAcar (passados por calda, glaceados ou cristalizados), em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.093.01",ncmsh:"20060000",descricao:"Produtos hort\xEDcolas, frutas, cascas de frutas e outras partes de plantas, conservados com a\xE7\xFAcar (passados por calda, glaceados ou cristalizados), em embalagens de conte\xFAdo superior a 1 kg"},{cest:"17.094.00",ncmsh:"2007",descricao:"Doces, geleias, \u201Cmarmelades\u201D, pur\xEAs e pastas de frutas, obtidos por cozimento, com ou sem adi\xE7\xE3o de a\xE7\xFAcar ou de outros edulcorantes, em embalagens de conte\xFAdo inferior ou igual a 1 kg, exceto as embalagens individuais de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.094.01",ncmsh:"2007",descricao:"Doces, geleias, \u201Cmarmelades\u201D, pur\xEAs e pastas de frutas, obtidos por cozimento, com ou sem adi\xE7\xE3o de a\xE7\xFAcar ou de outros edulcorantes, em embalagens de conte\xFAdo superior a 1 kg"},{cest:"17.095.00",ncmsh:"2008",descricao:"Frutas e outras partes comest\xEDveis de plantas, preparadas ou conservadas de outro modo, com ou sem adi\xE7\xE3o de a\xE7\xFAcar ou de outros edulcorantes ou de \xE1lcool, n\xE3o especificadas nem compreendidas em outras posi\xE7\xF5es, exclu\xEDdos os amendoins e castanhas tipo aperitivo, da posi\xE7\xE3o 2008.1, em embalagens de conte\xFAdo inferior ou igual a 1 kg"},{cest:"17.095.01",ncmsh:"2008",descricao:"Frutas e outras partes comest\xEDveis de plantas, preparadas ou conservadas de outro modo, com ou sem adi\xE7\xE3o de a\xE7\xFAcar ou de outros edulcorantes ou de \xE1lcool, n\xE3o especificadas nem compreendidas em outras posi\xE7\xF5es, exclu\xEDdos os amendoins e castanhas tipo aperitivo, da posi\xE7\xE3o 2008.1, em embalagens superior a 1 kg"},{cest:"17.096.00",ncmsh:"901",descricao:"Caf\xE9 torrado e mo\xEDdo, em embalagens de conte\xFAdo inferior ou igual a 2 kg, exceto os classificados nos CEST 17.096.04 e 17.096.05"},{cest:"17.096.01",ncmsh:"901",descricao:"Caf\xE9 torrado e mo\xEDdo, em embalagens de conte\xFAdo superior a 2 kg"},{cest:"17.096.02",ncmsh:"901",descricao:"Caf\xE9 torrado em gr\xE3o, em embalagens de conte\xFAdo inferior ou igual a 2 kg"},{cest:"17.096.03",ncmsh:"901",descricao:"Caf\xE9 torrado em gr\xE3o, em embalagens de conte\xFAdo superior a 2 kg"},{cest:"17.096.04",ncmsh:"901",descricao:"Caf\xE9 torrado e mo\xEDdo, em c\xE1psulas, exceto os descritos no CEST 17.096.05"},{cest:"17.096.05",ncmsh:"901",descricao:"Caf\xE9 descafeinado torrado e mo\xEDdo, em c\xE1psulas"},{cest:"17.097.00",ncmsh:"0902;12119090;21069090",descricao:"Ch\xE1, mesmo aromatizado"},{cest:"17.098.00",ncmsh:"090300",descricao:"Mate"},{cest:"17.099.00",ncmsh:"17011;17019900",descricao:"A\xE7\xFAcar refinado, em embalagens de conte\xFAdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.099.01",ncmsh:"17011;17019900",descricao:"A\xE7\xFAcar refinado, em embalagens de conte\xFAdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.099.02",ncmsh:"17011;17019900",descricao:"A\xE7\xFAcar refinado, em embalagens de conte\xFAdo superior a 5 kg"},{cest:"17.100.00",ncmsh:"17019100",descricao:"A\xE7\xFAcar refinado adicionado de aromatizante ou de corante em embalagens de conte\xFAdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.100.01",ncmsh:"17019100",descricao:"A\xE7\xFAcar refinado adicionado de aromatizante ou de corante em embalagens de conte\xFAdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.100.02",ncmsh:"17019100",descricao:"A\xE7\xFAcar refinado adicionado de aromatizante ou de corante em embalagens de conte\xFAdo superior a 5 kg"},{cest:"17.101.00",ncmsh:"17011;17019900",descricao:"A\xE7\xFAcar cristal, em embalagens de conte\xFAdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.101.01",ncmsh:"17011;17019900",descricao:"A\xE7\xFAcar cristal, em embalagens de conte\xFAdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.101.02",ncmsh:"17011;17019900",descricao:"A\xE7\xFAcar cristal, em embalagens de conte\xFAdo superior a 5 kg"},{cest:"17.102.00",ncmsh:"17019100",descricao:"A\xE7\xFAcar cristal adicionado de aromatizante ou de corante, em embalagens de conte\xFAdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.102.01",ncmsh:"17019100",descricao:"A\xE7\xFAcar cristal adicionado de aromatizante ou de corante, em embalagens de conte\xFAdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.102.02",ncmsh:"170191",descricao:"A\xE7\xFAcar cristal adicionado de aromatizante ou de corante, em embalagens de conte\xFAdo superior a 5 kg"},{cest:"17.103.00",ncmsh:"17011;17019900",descricao:"Outros tipos de a\xE7\xFAcar, em embalagens de conte\xFAdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.103.01",ncmsh:"17011;17019900",descricao:"Outros tipos de a\xE7\xFAcar, em embalagens de conte\xFAdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.103.02",ncmsh:"17011;17019900",descricao:"Outros tipos de a\xE7\xFAcar, em embalagens de conte\xFAdo superior a 5 kg"},{cest:"17.104.00",ncmsh:"17019100",descricao:"Outros tipos de a\xE7\xFAcar adicionado de aromatizante ou de corante, em embalagens de conte\xFAdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.104.01",ncmsh:"17019100",descricao:"Outros tipos de a\xE7\xFAcar adicionado de aromatizante ou de corante, em embalagens de conte\xFAdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.104.02",ncmsh:"17019100",descricao:"Outros tipos de a\xE7\xFAcar adicionado de aromatizante ou de corante, em embalagens de conte\xFAdo superior a 5 kg"},{cest:"17.105.00",ncmsh:"1702",descricao:"Outros a\xE7\xFAcares em embalagens de conte\xFAdo inferior ou igual a 2 kg, exceto as embalagens contendo envelopes individualizados (sach\xEAs) de conte\xFAdo inferior ou igual a 10 g"},{cest:"17.105.01",ncmsh:"1702",descricao:"Outros a\xE7\xFAcares, em embalagens de conte\xFAdo superior a 2 kg e inferior ou igual a 5 kg"},{cest:"17.105.02",ncmsh:"1702",descricao:"Outros a\xE7\xFAcares, em embalagens de conte\xFAdo superior a 5 kg"},{cest:"17.106.00",ncmsh:"20081900",descricao:"Milho para pipoca (micro-ondas)"},{cest:"17.107.00",ncmsh:"21011",descricao:"Extratos, ess\xEAncias e concentrados de caf\xE9 e prepara\xE7\xF5es \xE0 base destes extratos, ess\xEAncias ou concentrados ou \xE0 base de caf\xE9, em embalagens de conte\xFAdo inferior ou igual a 500 g, exceto os classificados no CEST 17.107.01"},{cest:"17.107.01",ncmsh:"21011",descricao:"Extratos, ess\xEAncias e concentrados de caf\xE9 e prepara\xE7\xF5es \xE0 base destes extratos, ess\xEAncias ou concentrados ou \xE0 base de caf\xE9, em c\xE1psulas"},{cest:"17.108.00",ncmsh:"210120",descricao:"Extratos, ess\xEAncias e concentrados de ch\xE1 ou de mate e prepara\xE7\xF5es \xE0 base destes extratos, ess\xEAncias ou concentrados ou \xE0 base de ch\xE1 ou de mate, em embalagens de conte\xFAdo inferior ou igual a 500 g, exceto as bebidas prontas \xE0 base de mate ou ch\xE1 e os itens classificados no CEST 17.108.01"},{cest:"17.108.01",ncmsh:"210120",descricao:"Extratos, ess\xEAncias e concentrados de ch\xE1 ou de mate e prepara\xE7\xF5es \xE0 base destes extratos, ess\xEAncias ou concentrados ou \xE0 base de ch\xE1 ou de mate, em c\xE1psulas"},{cest:"17.109.00",ncmsh:"19019090;21011190;21011200",descricao:"Prepara\xE7\xF5es em p\xF3 para cappuccino e similares, em embalagens de conte\xFAdo inferior ou igual a 500 g"},{cest:"17.110.00",ncmsh:"22021000",descricao:"Refrescos e outras bebidas prontas para beber, \xE0 base de ch\xE1 e mate"},{cest:"17.111.00",ncmsh:"22021000",descricao:"Refrescos e outras bebidas n\xE3o alco\xF3licas, exceto os refrigerantes e as demais bebidas nos CEST 03.007.00 e 17.110.00"},{cest:"17.112.00",ncmsh:"22029900",descricao:"N\xE9ctares de frutas e outras bebidas n\xE3o alco\xF3licas prontas para beber, exceto isot\xF4nicos e energ\xE9ticos"},{cest:"17.113.00",ncmsh:"210120;22029900",descricao:"Bebidas prontas \xE0 base de mate ou ch\xE1"},{cest:"17.114.00",ncmsh:"22029900",descricao:"Bebidas prontas \xE0 base de caf\xE9"},{cest:"17.115.00",ncmsh:"22029900",descricao:"Bebidas alimentares prontas \xE0 base de soja, leite ou cacau, inclusive os produtos denominados bebidas l\xE1cteas"},{cest:"17.116.00",ncmsh:"00813;00909",descricao:"Sementes de anis (erva-doce), badiana (anis-estrelado), funcho, coentro, cominho ou alcaravia; bagas de zimbro; fruta seca, misturas de fruta seca ou de fruta de casa rija; quando acondicionadas em saquinhos, especialmente, para a prepara\xE7\xE3o de infus\xF5es ou de tisanas (\u201Cch\xE1s\u201D)"},{cest:"19.001.00",ncmsh:"32131000",descricao:"Tinta guache"},{cest:"19.002.00",ncmsh:"39162000",descricao:"Espiral - perfil para encaderna\xE7\xE3o, de pl\xE1stico e outros materiais classificados nas posi\xE7\xF5es 3901 a 3914"},{cest:"19.003.00",ncmsh:"39161000;391690",descricao:"Outros espirais - perfil para encaderna\xE7\xE3o, de pl\xE1stico e outros materiais classificados nas posi\xE7\xF5es 3901 a 3914"},{cest:"19.004.00",ncmsh:"39261000",descricao:"Artigos de escrit\xF3rio e artigos escolares de pl\xE1stico e outros materiais classificados nas posi\xE7\xF5es 3901 a 3914, exceto estojos"},{cest:"19.005.00",ncmsh:"42021;42029",descricao:"Maletas e pastas para documentos e de estudante, e artefatos semelhantes"},{cest:"19.005.01",ncmsh:"42021;42029",descricao:"Ba\xFAs, malas e maletas para viagem"},{cest:"19.006.00",ncmsh:"39269090",descricao:"Prancheta de pl\xE1stico"},{cest:"19.007.00",ncmsh:"48022090;48119090",descricao:"Bobina para fax"},{cest:"19.008.00",ncmsh:"4802549",descricao:"Papel seda"},{cest:"19.009.00",ncmsh:"48025499;48025799;48162000",descricao:"Bobina para m\xE1quina de calcular, PDV ou equipamentos similares"},{cest:"19.010.00",ncmsh:"4802569;4802579;4802589",descricao:"Cartolina escolar e papel cart\xE3o, brancos e coloridos, cortados em folhas em que um lado seja inferior ou igual a 500 mm e o outro inferior ou igual a 700 mm, quando n\xE3o dobradas, e peso igual ou superior a 120g/m\xB2; recados autoadesivos (LP note); pap\xE9is de presente; todos cortados em tamanho pronto para uso escolar e dom\xE9stico"},{cest:"19.011.00",ncmsh:"37031010;37031029;37032000;37039010;37040000;48022000",descricao:"Papel fotogr\xE1fico, exceto: (i) os pap\xE9is fotogr\xE1ficos emulsionados com haleto de prata tipo brilhante, matte ou lustre, em rolo e, com largura igual ou superior a 102 mm e comprimento inferior ou igual a 350 m, (ii) os pap\xE9is fotogr\xE1ficos emulsionados com haleto de prata tipo brilhante ou fosco, em folha e com largura igual ou superior a 152 mm e comprimento inferior ou igual a 307 mm, (iii) papel de qualidade fotogr\xE1fica com tecnologia \u201CThermo-autochrome\u201D, que submetido a um processo de aquecimento seja capaz de formar imagens por rea\xE7\xE3o qu\xEDmica e combina\xE7\xE3o das camadas cyan, magenta e amarela"},{cest:"19.012.00",ncmsh:"48101390",descricao:"Papel alma\xE7o"},{cest:"19.013.00",ncmsh:"48169010",descricao:"Papel hectogr\xE1fico"},{cest:"19.014.00",ncmsh:"39202019",descricao:"Papel celofane e tipo celofane"},{cest:"19.015.00",ncmsh:"48062000",descricao:"Papel imperme\xE1vel"},{cest:"19.016.00",ncmsh:"48081000",descricao:"Papel crepon"},{cest:"19.017.00",ncmsh:"48102290",descricao:"Papel fantasia"},{cest:"19.018.00",ncmsh:"4809;4816",descricao:"Papel-carbono, papel autocopiativo (exceto os vendidos em rolos de di\xE2metro igual ou superior a 60 cm e os vendidos em folhas de formato igual ou superior a 60 cm de altura e igual ou superior a 90 cm de largura) e outros pap\xE9is para c\xF3pia ou duplica\xE7\xE3o (inclu\xEDdos os pap\xE9is para est\xEAnceis ou para chapas ofsete), est\xEAnceis completos e chapas ofsete, de papel, em folhas, mesmo acondicionados em caixas"},{cest:"19.019.00",ncmsh:"4817",descricao:"Envelopes, aerogramas, bilhetes-postais n\xE3o ilustrados e cart\xF5es para correspond\xEAncia, de papel ou cart\xE3o, caixas, sacos e semelhantes, de papel ou cart\xE3o, contendo um sortido de artigos para correspond\xEAncia"},{cest:"19.020.00",ncmsh:"48201000",descricao:"Livros de registro e de contabilidade, blocos de notas, de encomendas, de recibos, de apontamentos, de papel para cartas, agendas e artigos semelhantes"},{cest:"19.021.00",ncmsh:"48202000",descricao:"Cadernos"},{cest:"19.022.00",ncmsh:"48203000",descricao:"Classificadores, capas para encaderna\xE7\xE3o (exceto as capas para livros) e capas de processos"},{cest:"19.023.00",ncmsh:"48204000",descricao:"Formul\xE1rios em blocos tipo \u201Cmanifold\u201D, mesmo com folhas intercaladas de papel-carbono"},{cest:"19.024.00",ncmsh:"48205000",descricao:"\xC1lbuns para amostras ou para cole\xE7\xF5es"},{cest:"19.025.00",ncmsh:"48209000",descricao:"Pastas para documentos, outros artigos escolares, de escrit\xF3rio ou de papelaria, de papel ou cart\xE3o e capas para livros, de papel ou cart\xE3o"},{cest:"19.026.00",ncmsh:"49090000",descricao:"Cart\xF5es postais impressos ou ilustrados, cart\xF5es impressos com votos ou mensagens pessoais, mesmo ilustrados, com ou sem envelopes, guarni\xE7\xF5es ou aplica\xE7\xF5es (conhecidos como cart\xF5es de express\xE3o social - de \xE9poca/sentimento)"},{cest:"19.027.00",ncmsh:"96081000",descricao:"Canetas esferogr\xE1ficas"},{cest:"19.028.00",ncmsh:"96082000",descricao:"Canetas e marcadores, com ponta de feltro ou com outras pontas porosas"},{cest:"19.029.00",ncmsh:"96083000",descricao:"Canetas tinteiro"},{cest:"19.030.00",ncmsh:"9608",descricao:"Outras canetas; sortidos de canetas"},{cest:"19.031.00",ncmsh:"480256",descricao:"Papel cortado \u201Ccutsize\u201D (tipo A3, A4, of\xEDcio I e II, carta e outros)"},{cest:"19.032.00",ncmsh:"52105990",descricao:"Papel camur\xE7a"},{cest:"19.033.00",ncmsh:"76071190",descricao:"Papel laminado e papel espelho"},{cest:"20.001.00",ncmsh:"12119090",descricao:"Henna (embalagens de conte\xFAdo inferior ou igual a 200 g)"},{cest:"20.001.01",ncmsh:"12119090",descricao:"Henna (embalagens de conte\xFAdo superior a 200 g)"},{cest:"20.002.00",ncmsh:"27121000",descricao:"Vaselina"},{cest:"20.003.00",ncmsh:"28142000",descricao:"Amon\xEDaco em solu\xE7\xE3o aquosa (am\xF4nia)"},{cest:"20.004.00",ncmsh:"28470000",descricao:"Per\xF3xido de hidrog\xEAnio, em embalagens de conte\xFAdo inferior ou igual a 500 ml"},{cest:"20.005.00",ncmsh:"30067000",descricao:"Lubrifica\xE7\xE3o \xEDntima"},{cest:"20.006.00",ncmsh:"3301",descricao:"\xD3leos essenciais (desterpenados ou n\xE3o), inclu\xEDdos os chamados \u201Cconcretos\u201D ou \u201Cabsolutos\u201D; resinoides; oleorresinas de extra\xE7\xE3o; solu\xE7\xF5es concentradas de \xF3leos essenciais em gorduras, em \xF3leos fixos, em ceras ou em mat\xE9rias an\xE1logas, obtidas por tratamento de flores atrav\xE9s de subst\xE2ncias gordas ou por macera\xE7\xE3o; subprodutos terp\xEAnicos residuais da desterpena\xE7\xE3o dos \xF3leos essenciais; \xE1guas destiladas arom\xE1ticas e solu\xE7\xF5es aquosas de \xF3leos essenciais, em embalagens de conte\xFAdo inferior ou igual a 500 ml"},{cest:"20.007.00",ncmsh:"33030010",descricao:"Perfumes (extratos)"},{cest:"20.008.00",ncmsh:"33030020",descricao:"\xC1guas-de-col\xF4nia"},{cest:"20.009.00",ncmsh:"33041000",descricao:"Produtos de maquilagem para os l\xE1bios"},{cest:"20.010.00",ncmsh:"33042010",descricao:"Sombra, delineador, l\xE1pis para sobrancelhas e r\xEDmel"},{cest:"20.011.00",ncmsh:"33042090",descricao:"Outros produtos de maquilagem para os olhos"},{cest:"20.012.00",ncmsh:"33043000",descricao:"Prepara\xE7\xF5es para manicuros e pedicuros, incluindo removedores de esmalte \xE0 base de acetona"},{cest:"20.013.00",ncmsh:"33049100",descricao:"P\xF3s, inclu\xEDdos os compactos"},{cest:"20.014.00",ncmsh:"33049910",descricao:"Cremes de beleza, cremes nutritivos e lo\xE7\xF5es t\xF4nicas"},{cest:"20.015.00",ncmsh:"33049990",descricao:"Outros produtos de beleza ou de maquilagem preparados e prepara\xE7\xF5es para conserva\xE7\xE3o ou cuidados da pele, exceto as prepara\xE7\xF5es solares e antissolares"},{cest:"20.016.00",ncmsh:"33049990",descricao:"Prepara\xE7\xF5es solares e antissolares"},{cest:"20.017.00",ncmsh:"33051000",descricao:"Xampus para o cabelo"},{cest:"20.018.00",ncmsh:"33052000",descricao:"Prepara\xE7\xF5es para ondula\xE7\xE3o ou alisamento, permanentes, dos cabelos"},{cest:"20.019.00",ncmsh:"33053000",descricao:"Laqu\xEAs para o cabelo"},{cest:"20.020.00",ncmsh:"33059000",descricao:"Outras prepara\xE7\xF5es capilares, incluindo m\xE1scaras e finalizadores"},{cest:"20.021.00",ncmsh:"33059000",descricao:"Condicionadores"},{cest:"20.022.00",ncmsh:"33059000",descricao:"Tintura para o cabelo"},{cest:"20.023.00",ncmsh:"33061000",descricao:"Dentifr\xEDcios"},{cest:"20.024.00",ncmsh:"33062000",descricao:"Fios utilizados para limpar os espa\xE7os interdentais (fios dentais)"},{cest:"20.025.00",ncmsh:"33069000",descricao:"Outras prepara\xE7\xF5es para higiene bucal ou dent\xE1ria"},{cest:"20.026.00",ncmsh:"33071000",descricao:"Prepara\xE7\xF5es para barbear (antes, durante ou ap\xF3s)"},{cest:"20.027.00",ncmsh:"33072010",descricao:"Desodorantes (desodorizantes) corporais l\xEDquidos, exceto os classificados no CEST 20.027.01"},{cest:"20.027.01",ncmsh:"33072010",descricao:"Lo\xE7\xF5es e \xF3leos desodorantes hidratantes l\xEDquidos"},{cest:"20.028.00",ncmsh:"33072010",descricao:"Antiperspirantes l\xEDquidos"},{cest:"20.029.00",ncmsh:"33072090",descricao:"Outros desodorantes (desodorizantes) corporais, exceto os classificados no CEST 20.029.01"},{cest:"20.029.01",ncmsh:"33072090",descricao:"Outras lo\xE7\xF5es e \xF3leos desodorantes hidratantes"},{cest:"20.030.00",ncmsh:"33072090",descricao:"Outros antiperspirantes"},{cest:"20.031.00",ncmsh:"33073000",descricao:"Sais perfumados e outras prepara\xE7\xF5es para banhos"},{cest:"20.032.00",ncmsh:"33079000",descricao:"Outros produtos de perfumaria preparados"},{cest:"20.032.01",ncmsh:"33079000",descricao:"Outros produtos de toucador preparados"},{cest:"20.033.00",ncmsh:"33079000",descricao:"Solu\xE7\xF5es para lentes de contato ou para olhos artificiais"},{cest:"20.034.00",ncmsh:"34011190",descricao:"Sab\xF5es de toucador em barras, peda\xE7os ou figuras moldados, exceto CEST 20.034.01"},{cest:"20.034.01",ncmsh:"34011190",descricao:"Len\xE7os umedecidos"},{cest:"20.035.00",ncmsh:"34011900",descricao:"Outros sab\xF5es, produtos e prepara\xE7\xF5es, em barras, peda\xE7os ou figuras moldados"},{cest:"20.036.00",ncmsh:"34012010",descricao:"Sab\xF5es de toucador sob outras formas"},{cest:"20.037.00",ncmsh:"34013000",descricao:"Produtos e prepara\xE7\xF5es org\xE2nicos tensoativos para lavagem da pele, na forma de l\xEDquido ou de creme, acondicionados para venda a retalho, mesmo contendo sab\xE3o"},{cest:"20.038.00",ncmsh:"40149010",descricao:"Bolsa para gelo ou para \xE1gua quente"},{cest:"20.039.00",ncmsh:"40149090",descricao:"Chupetas e bicos para mamadeiras e para chupetas, de borracha"},{cest:"20.040.00",ncmsh:"39249000;39269040;9269090",descricao:"Chupetas e bicos para mamadeiras e para chupetas, de silicone"},{cest:"20.041.00",ncmsh:"42021",descricao:"Malas e maletas de toucador"},{cest:"20.042.00",ncmsh:"48181000",descricao:"Papel higi\xEAnico - folha simples"},{cest:"20.043.00",ncmsh:"48181000",descricao:"Papel higi\xEAnico - folha dupla e tripla"},{cest:"20.044.00",ncmsh:"48182000",descricao:"Len\xE7os (inclu\xEDdos os de maquilagem) e toalhas de m\xE3o"},{cest:"20.045.00",ncmsh:"48182000",descricao:"Papel toalha de uso institucional do tipo comercializado em rolos igual ou superior a 80 metros e do tipo comercializado em folhas intercaladas"},{cest:"20.046.00",ncmsh:"48183000",descricao:"Toalhas e guardanapos de mesa"},{cest:"20.047.00",ncmsh:"48189090",descricao:"Toalhas de cozinha (papel toalha de uso dom\xE9stico)"},{cest:"20.048.00",ncmsh:"96190000",descricao:"Fraldas, exceto os descritos no CEST 20.048.01"},{cest:"20.048.01",ncmsh:"96190000",descricao:"Fraldas de fibras t\xEAxteis"},{cest:"20.049.00",ncmsh:"96190000",descricao:"Tamp\xF5es higi\xEAnicos"},{cest:"20.050.00",ncmsh:"96190000",descricao:"Absorventes higi\xEAnicos externos"},{cest:"20.051.00",ncmsh:"56012190",descricao:"Hastes flex\xEDveis (uso n\xE3o medicinal)"},{cest:"20.052.00",ncmsh:"56039290",descricao:"Suti\xE3 descart\xE1vel, assemelhados e papel para depila\xE7\xE3o"},{cest:"20.053.00",ncmsh:"82032090",descricao:"Pin\xE7as para sobrancelhas"},{cest:"20.054.00",ncmsh:"82141000",descricao:"Esp\xE1tulas (artigos de cutelaria)"},{cest:"20.055.00",ncmsh:"82142000",descricao:"Utens\xEDlios e sortidos de utens\xEDlios de manicuros ou de pedicuros (inclu\xEDdas as limas para unhas)"},{cest:"20.056.00",ncmsh:"90251110;90251990",descricao:"Term\xF4metros, inclusive o digital"},{cest:"20.057.00",ncmsh:"96032",descricao:"Escovas e pinc\xE9is de barba, escovas para cabelos, para c\xEDlios ou para unhas e outras escovas de toucador de pessoas, inclu\xEDdas as que sejam partes de aparelhos, exceto escovas de dentes"},{cest:"20.058.00",ncmsh:"96032100",descricao:"Escovas de dentes, inclu\xEDdas as escovas para dentaduras"},{cest:"20.059.00",ncmsh:"96033000",descricao:"Pinc\xE9is para aplica\xE7\xE3o de produtos cosm\xE9ticos"},{cest:"20.060.00",ncmsh:"96050000",descricao:"Sortidos de viagem, para toucador de pessoas para costura ou para limpeza de cal\xE7ado ou de roupas"},{cest:"20.061.00",ncmsh:"9615",descricao:"Pentes, travessas para cabelo e artigos semelhantes; grampos (alfinetes) para cabelo; pin\xE7as (pinceguiches), onduladores, bobes (rolos) e artefatos semelhantes para penteados, e suas partes, exceto os classificados na posi\xE7\xE3o 8516 e suas partes"},{cest:"20.062.00",ncmsh:"96162000",descricao:"Borlas ou esponjas para p\xF3s ou para aplica\xE7\xE3o de outros cosm\xE9ticos ou de produtos de toucador"},{cest:"20.063.00",ncmsh:"39233000;39249000;39241000;40149090;70102000",descricao:"Mamadeiras"},{cest:"20.064.00",ncmsh:"82121020;82122010",descricao:"Aparelhos e l\xE2minas de barbear"},{cest:"21.001.00",ncmsh:"73211100;73218100;73219000",descricao:"Fog\xF5es de cozinha de uso dom\xE9stico e suas partes"},{cest:"21.002.00",ncmsh:"84181000",descricao:"Combina\xE7\xF5es de refrigeradores e congeladores (\u201Cfreezers\u201D), munidos de portas exteriores separadas"},{cest:"21.003.00",ncmsh:"84182100",descricao:"Refrigeradores do tipo dom\xE9stico, de compress\xE3o"},{cest:"21.004.00",ncmsh:"84182900",descricao:"Outros refrigeradores do tipo dom\xE9stico"},{cest:"21.005.00",ncmsh:"84183000",descricao:"Congeladores (\u201Cfreezers\u201D) horizontais tipo arca, de capacidade n\xE3o superior a 800 litros"},{cest:"21.006.00",ncmsh:"84184000",descricao:"Congeladores (\u201Cfreezers\u201D) verticais tipo arm\xE1rio, de capacidade n\xE3o superior a 900 litros"},{cest:"21.007.00",ncmsh:"841850",descricao:"Outros m\xF3veis (arcas, arm\xE1rios, vitrines, balc\xF5es e m\xF3veis semelhantes) para a conserva\xE7\xE3o e exposi\xE7\xE3o de produtos, que incorporem um equipamento para a produ\xE7\xE3o de frio"},{cest:"21.008.00",ncmsh:"8418699",descricao:"Mini adega e similares"},{cest:"21.009.00",ncmsh:"84186999",descricao:"M\xE1quinas para produ\xE7\xE3o de gelo"},{cest:"21.010.00",ncmsh:"84189900",descricao:"Partes dos refrigeradores, congeladores, mini adegas e similares, m\xE1quinas para produ\xE7\xE3o de gelo e bebedouros descritos nos CEST 21.002.00, 21.003.00, 21.004.00, 21.005.00, 21.006.00, 21.007.00, 21.008.00, 21.009.00 e 21.013.00"},{cest:"21.011.00",ncmsh:"842112",descricao:"Secadoras de roupa de uso dom\xE9stico"},{cest:"21.012.00",ncmsh:"84211990",descricao:"Outras secadoras de roupas e centr\xEDfugas de uso dom\xE9stico"},{cest:"21.013.00",ncmsh:"84186931",descricao:"Bebedouros refrigerados para \xE1gua"},{cest:"21.014.00",ncmsh:"84219",descricao:"Partes das secadoras de roupas e centr\xEDfugas de uso dom\xE9stico e dos aparelhos para filtrar ou depurar \xE1gua, descritos nos CEST 21.011.00 e 21.012.00 e 21.098.00"},{cest:"21.015.00",ncmsh:"84221100;84229010",descricao:"M\xE1quinas de lavar lou\xE7a do tipo dom\xE9stico e suas partes"},{cest:"21.016.00",ncmsh:"844331",descricao:"M\xE1quinas que executem pelo menos duas das seguintes fun\xE7\xF5es: impress\xE3o, c\xF3pia ou transmiss\xE3o de telec\xF3pia (fax), capazes de ser conectadas a uma m\xE1quina autom\xE1tica para processamento de dados ou a uma rede"},{cest:"21.017.00",ncmsh:"844332",descricao:"Outras impressoras, m\xE1quinas copiadoras e telecopiadores (fax), mesmo combinados entre si, capazes de ser conectados a uma m\xE1quina autom\xE1tica para processamento de dados ou a uma rede"},{cest:"21.018.00",ncmsh:"84439",descricao:"Partes e acess\xF3rios de m\xE1quinas e aparelhos de impress\xE3o por meio de blocos, cilindros e outros elementos de impress\xE3o da posi\xE7\xE3o 8442; e de outras impressoras, m\xE1quinas copiadoras e telecopiadores (fax), mesmo combinados entre si"},{cest:"21.019.00",ncmsh:"84501100",descricao:"M\xE1quinas de lavar roupa, mesmo com dispositivos de secagem, de uso dom\xE9stico, de capacidade n\xE3o superior a 10 kg, em peso de roupa seca, inteiramente autom\xE1ticas"},{cest:"21.020.00",ncmsh:"84501200",descricao:"Outras m\xE1quinas de lavar roupa, mesmo com dispositivos de secagem, de uso dom\xE9stico, com secador centr\xEDfugo incorporado"},{cest:"21.021.00",ncmsh:"84501900",descricao:"Outras m\xE1quinas de lavar roupa, mesmo com dispositivos de secagem, de uso dom\xE9stico"},{cest:"21.022.00",ncmsh:"845020",descricao:"M\xE1quinas de lavar roupa, mesmo com dispositivos de secagem, de uso dom\xE9stico, de capacidade superior a 10 kg, em peso de roupa seca"},{cest:"21.023.00",ncmsh:"845090",descricao:"Partes de m\xE1quinas de lavar roupa, mesmo com dispositivos de secagem, de uso dom\xE9stico"},{cest:"21.024.00",ncmsh:"84512100",descricao:"M\xE1quinas de secar de uso dom\xE9stico de capacidade n\xE3o superior a 10 kg, em peso de roupa seca"},{cest:"21.025.00",ncmsh:"84512990",descricao:"Outras m\xE1quinas de secar de uso dom\xE9stico"},{cest:"21.026.00",ncmsh:"845190",descricao:"Partes de m\xE1quinas de secar de uso dom\xE9stico"},{cest:"21.027.00",ncmsh:"84521000",descricao:"M\xE1quinas de costura de uso dom\xE9stico"},{cest:"21.028.00",ncmsh:"847130",descricao:"M\xE1quinas autom\xE1ticas para processamento de dados, port\xE1teis, de peso n\xE3o superior a 10 kg, contendo pelo menos uma unidade central de processamento, um teclado e uma tela"},{cest:"21.029.00",ncmsh:"84714",descricao:"Outras m\xE1quinas autom\xE1ticas para processamento de dados"},{cest:"21.030.00",ncmsh:"84715010",descricao:"Unidades de processamento, de pequena capacidade, exceto as das subposi\xE7\xF5es 8471.41 ou 8471.49, podendo conter, no mesmo corpo, um ou dois dos seguintes tipos de unidades: unidade de mem\xF3ria, unidade de entrada e unidade de sa\xEDda; baseadas em microprocessadores, com capacidade de instala\xE7\xE3o, dentro do mesmo gabinete, de unidades de mem\xF3ria da subposi\xE7\xE3o 8471.70, podendo conter m\xFAltiplos conectores de expans\xE3o (\u201Cslots\u201D), e valor FOB inferior ou igual a US$ 12.500,00, por unidade"},{cest:"21.031.00",ncmsh:"8471605",descricao:"Unidades de entrada, exceto as classificadas no c\xF3digo 8471.60.54"},{cest:"21.032.00",ncmsh:"84716090",descricao:"Outras unidades de entrada ou de sa\xEDda, podendo conter, no mesmo corpo, unidades de mem\xF3ria"},{cest:"21.033.00",ncmsh:"847170",descricao:"Unidades de mem\xF3ria"},{cest:"21.034.00",ncmsh:"847190",descricao:"Outras m\xE1quinas autom\xE1ticas para processamento de dados e suas unidades; leitores magn\xE9ticos ou \xF3pticos, m\xE1quinas para registrar dados em suporte sob forma codificada, e m\xE1quinas para processamento desses dados, n\xE3o especificadas nem compreendidas em outras posi\xE7\xF5es"},{cest:"21.035.00",ncmsh:"847330",descricao:"Partes e acess\xF3rios das m\xE1quinas da posi\xE7\xE3o 84.71"},{cest:"21.036.00",ncmsh:"85043",descricao:"Outros transformadores, exceto os classificados nos c\xF3digos 8504.33.00 e 8504.34.00"},{cest:"21.037.00",ncmsh:"85044010",descricao:"Carregadores de acumuladores"},{cest:"21.038.00",ncmsh:"85044040",descricao:"Equipamentos de alimenta\xE7\xE3o ininterrupta de energia (UPS ou \u201Cno break\u201D)"},{cest:"21.039.00",ncmsh:"85078000",descricao:"Outros acumuladores"},{cest:"21.040.00",ncmsh:"8508",descricao:"Aspiradores"},{cest:"21.041.00",ncmsh:"8509",descricao:"Aparelhos eletromec\xE2nicos de motor el\xE9trico incorporado, de uso dom\xE9stico e suas partes"},{cest:"21.042.00",ncmsh:"85098010",descricao:"Enceradeiras"},{cest:"21.043.00",ncmsh:"85161000",descricao:"Chaleiras el\xE9tricas"},{cest:"21.044.00",ncmsh:"85164000",descricao:"Ferros el\xE9tricos de passar"},{cest:"21.045.00",ncmsh:"85165000",descricao:"Fornos de micro-ondas"},{cest:"21.046.00",ncmsh:"85166000",descricao:"Outros fornos; fogareiros (inclu\xEDdas as chapas de coc\xE7\xE3o), grelhas e assadeiras, exceto os port\xE1teis"},{cest:"21.047.00",ncmsh:"85166000",descricao:"Outros fornos; fogareiros (inclu\xEDdas as chapas de coc\xE7\xE3o), grelhas e assadeiras, port\xE1teis"},{cest:"21.048.00",ncmsh:"85167100",descricao:"Outros aparelhos eletrot\xE9rmicos de uso dom\xE9stico - Cafeteiras"},{cest:"21.049.00",ncmsh:"85167200",descricao:"Outros aparelhos eletrot\xE9rmicos de uso dom\xE9stico - Torradeiras"},{cest:"21.050.00",ncmsh:"851679",descricao:"Outros aparelhos eletrot\xE9rmicos de uso dom\xE9stico"},{cest:"21.051.00",ncmsh:"85169000",descricao:"Partes das chaleiras, ferros, fornos e outros aparelhos eletrot\xE9rmicos da posi\xE7\xE3o 85.16, descritos nos CEST 21.043.00, 21.044.00, 21.045.00, 21.046.00, 21.047.00, 21.048.00, 21.049.00 e 21.050.00"},{cest:"21.052.00",ncmsh:"85171100",descricao:"Aparelhos telef\xF4nicos por fio com unidade auscultador - microfone sem fio"},{cest:"21.053.00",ncmsh:"8517123",descricao:"Telefones para redes celulares, exceto por sat\xE9lite, os de uso automotivo e os classificados no CEST 21.053.01"},{cest:"21.053.01",ncmsh:"85171231",descricao:"Telefones para redes celulares port\xE1teis, exceto por sat\xE9lite"},{cest:"21.054.00",ncmsh:"851712",descricao:"Outros telefones para outras redes sem fio, exceto para redes de celulares e os de uso automotivo"},{cest:"21.055.00",ncmsh:"85171891",descricao:"Outros aparelhos telef\xF4nicos n\xE3o combinados com outros aparelhos"},{cest:"21.055.01",ncmsh:"85171899",descricao:"Outros aparelhos telef\xF4nicos"},{cest:"21.056.00",ncmsh:"85176259",descricao:"Outros aparelhos para transmiss\xE3o ou recep\xE7\xE3o de voz, imagem ou outros dados em rede com fio."},{cest:"21.056.01",ncmsh:"85176254;85176255",descricao:"Distribuidores de conex\xF5es para rede (\u201Chubs\u201D) e moduladores/demoduladores (\u201Cmodens\u201D)."},{cest:"21.057.00",ncmsh:"8518",descricao:"Microfones e seus suportes; alto-falantes, mesmo montados nos seus recept\xE1culos, fones de ouvido (auscultadores), mesmo combinados com microfone e conjuntos ou sortidos constitu\xEDdos por um microfone e um ou mais alto-falantes, amplificadores el\xE9tricos de audiofrequ\xEAncia, aparelhos el\xE9tricos de amplifica\xE7\xE3o de som; suas partes e acess\xF3rios; exceto os de uso automotivo"},{cest:"21.058.00",ncmsh:"8519;8522;85271",descricao:"Aparelhos de radiodifus\xE3o suscet\xEDveis de funcionarem sem fonte externa de energia. Aparelhos de grava\xE7\xE3o de som; aparelhos de reprodu\xE7\xE3o de som; aparelhos de grava\xE7\xE3o e de reprodu\xE7\xE3o de som; partes e acess\xF3rios; exceto os de uso automotivo"},{cest:"21.059.00",ncmsh:"85198190",descricao:"Outros aparelhos de grava\xE7\xE3o de som; aparelhos de reprodu\xE7\xE3o de som; aparelhos de grava\xE7\xE3o e de reprodu\xE7\xE3o de som; partes e acess\xF3rios; exceto os de uso automotivo"},{cest:"21.060.00",ncmsh:"85219010",descricao:"Gravador-reprodutor e editor de imagem e som, em discos, por meio magn\xE9tico, \xF3ptico ou optomagn\xE9tico, exceto de uso automotivo"},{cest:"21.061.00",ncmsh:"85219090",descricao:"Outros aparelhos videof\xF4nicos de grava\xE7\xE3o ou reprodu\xE7\xE3o, mesmo incorporando um receptor de sinais videof\xF4nicos, exceto os de uso automotivo"},{cest:"21.062.00",ncmsh:"85235110",descricao:'Cart\xF5es de mem\xF3ria ("memorycards")'},{cest:"21.063.00",ncmsh:"85235200",descricao:'Cart\xF5es inteligentes ("smartcards"), exceto o item classificado no CEST 21.064.00'},{cest:"21.064.00",ncmsh:"85235200",descricao:'Cart\xF5es inteligentes ("sim cards")'},{cest:"21.065.00",ncmsh:"8525802",descricao:"C\xE2meras fotogr\xE1ficas digitais e c\xE2meras de v\xEDdeo e suas partes"},{cest:"21.066.00",ncmsh:"85279",descricao:"Outros aparelhos receptores para radiodifus\xE3o, mesmo combinados num inv\xF3lucro, com um aparelho de grava\xE7\xE3o ou de reprodu\xE7\xE3o de som, ou com um rel\xF3gio, inclusive caixa ac\xFAstica para Home Theaters classificados na posi\xE7\xE3o 8518"},{cest:"21.067.00",ncmsh:"85284929;85285920;852869",descricao:"Monitores e projetores que n\xE3o incorporem aparelhos receptores de televis\xE3o, policrom\xE1ticos"},{cest:"21.067.01",ncmsh:"85286200",descricao:"Projetores capazes de serem conectados diretamente a uma m\xE1quina autom\xE1tica para processamento de dados da posi\xE7\xE3o 84.71 e concebidos para serem utilizados com esta m\xE1quina"},{cest:"21.068.00",ncmsh:"85285220",descricao:"Outros monitores capazes de serem conectados diretamente a uma m\xE1quina autom\xE1tica para processamento de dados da posi\xE7\xE3o 84.71 e concebidos para serem utilizados com esta m\xE1quina, policrom\xE1ticos"},{cest:"21.069.00",ncmsh:"85287",descricao:"Aparelhos receptores de televis\xE3o, mesmo que incorporem um aparelho receptor de radiodifus\xE3o ou um aparelho de grava\xE7\xE3o ou reprodu\xE7\xE3o de som ou de imagens - Televisores de CRT (tubo de raios cat\xF3dicos)"},{cest:"21.070.00",ncmsh:"85287",descricao:"Aparelhos receptores de televis\xE3o, mesmo que incorporem um aparelho receptor de radiodifus\xE3o ou um aparelho de grava\xE7\xE3o ou reprodu\xE7\xE3o de som ou de imagens - Televisores de LCD (Display de Cristal L\xEDquido)"},{cest:"21.071.00",ncmsh:"85287",descricao:"Aparelhos receptores de televis\xE3o, mesmo que incorporem um aparelho receptor de radiodifus\xE3o ou um aparelho de grava\xE7\xE3o ou reprodu\xE7\xE3o de som ou de imagens - Televisores de Plasma"},{cest:"21.072.00",ncmsh:"85287",descricao:"Outros aparelhos receptores de televis\xE3o n\xE3o dotados de monitores ou display de v\xEDdeo"},{cest:"21.073.00",ncmsh:"85287",descricao:"Outros aparelhos receptores de televis\xE3o n\xE3o relacionados nos CEST 21.069.00, 21.070.00, 21.071.00 e 21.072.00"},{cest:"21.074.00",ncmsh:"900659",descricao:"C\xE2meras fotogr\xE1ficas dos tipos utilizadas para prepara\xE7\xE3o de clich\xEAs ou cilindros de impress\xE3o"},{cest:"21.075.00",ncmsh:"90064000",descricao:"C\xE2meras fotogr\xE1ficas para filmes de revela\xE7\xE3o e copiagem instant\xE2neas"},{cest:"21.076.00",ncmsh:"90189050",descricao:"Aparelhos de diatermia"},{cest:"21.077.00",ncmsh:"90191000",descricao:"Aparelhos de massagem"},{cest:"21.078.00",ncmsh:"90328911",descricao:"Reguladores de voltagem eletr\xF4nicos"},{cest:"21.079.00",ncmsh:"95045000",descricao:"Consoles e m\xE1quinas de jogos de v\xEDdeo, exceto os classificados na subposi\xE7\xE3o 9504.30"},{cest:"21.080.00",ncmsh:"8517621",descricao:"Multiplexadores e concentradores"},{cest:"21.081.00",ncmsh:"85176222",descricao:"Centrais autom\xE1ticas privadas, de capacidade inferior ou igual a 25 ramais"},{cest:"21.082.00",ncmsh:"85176239",descricao:"Outros aparelhos para comuta\xE7\xE3o"},{cest:"21.083.00",ncmsh:"8517624",descricao:"Roteadores digitais, em redes com ou sem fio"},{cest:"21.084.00",ncmsh:"85176262",descricao:"Aparelhos emissores com receptor incorporado de sistema troncalizado (\u201Ctrunking\u201D), de tecnologia celular"},{cest:"21.085.00",ncmsh:"8517629",descricao:"Outros aparelhos de recep\xE7\xE3o, convers\xE3o e transmiss\xE3o ou regenera\xE7\xE3o de voz, imagens ou outros dados, incluindo os aparelhos de comuta\xE7\xE3o e roteamento"},{cest:"21.086.00",ncmsh:"85177021",descricao:"Antenas pr\xF3prias para telefones celulares port\xE1teis, exceto as telesc\xF3picas"},{cest:"21.087.00",ncmsh:"821490;8510",descricao:"Aparelhos ou m\xE1quinas de barbear, m\xE1quinas de cortar o cabelo ou de tosquiar e aparelhos de depilar, e suas partes"},{cest:"21.088.00",ncmsh:"84145",descricao:"Ventiladores, exceto os de uso agr\xEDcola"},{cest:"21.089.00",ncmsh:"84145990",descricao:"Ventiladores de uso agr\xEDcola"},{cest:"21.090.00",ncmsh:"84146000",descricao:"Coifas com dimens\xE3o horizontal m\xE1xima n\xE3o superior a 120 cm"},{cest:"21.091.00",ncmsh:"84149020",descricao:"Partes de ventiladores ou coifas aspirantes"},{cest:"21.092.00",ncmsh:"841510;84158",descricao:"M\xE1quinas e aparelhos de ar condicionado contendo um ventilador motorizado e dispositivos pr\xF3prios para modificar a temperatura e a umidade, inclu\xEDdos as m\xE1quinas e aparelhos em que a umidade n\xE3o seja regul\xE1vel separadamente"},{cest:"21.093.00",ncmsh:"84151011",descricao:"Aparelhos de ar-condicionado tipo Split System (sistema com elementos separados) com unidade externa e interna"},{cest:"21.094.00",ncmsh:"84151019",descricao:"Aparelhos de ar-condicionado com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.095.00",ncmsh:"84151090",descricao:"Aparelhos de ar-condicionado com capacidade acima de 30.000 frigorias/hora"},{cest:"21.096.00",ncmsh:"84159010",descricao:"Unidades evaporadoras (internas) de aparelho de ar-condicionado do tipo Split System (sistema com elementos separados), com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.097.00",ncmsh:"84159020",descricao:"Unidades condensadoras (externas) de aparelho de ar-condicionado do tipo Split System (sistema com elementos separados), com capacidade inferior ou igual a 30.000 frigorias/hora"},{cest:"21.098.00",ncmsh:"84212100",descricao:"Aparelhos el\xE9tricos para filtrar ou depurar \xE1gua (purificadores de \xE1gua refrigerados), exceto os itens classificados no CEST 21.098.01"},{cest:"21.098.01",ncmsh:"84212100",descricao:"Outros aparelhos el\xE9tricos para filtrar ou depurar \xE1gua"},{cest:"21.099.00",ncmsh:"84243010;84243090;84249090",descricao:"Lavadora de alta press\xE3o e suas partes"},{cest:"21.100.00",ncmsh:"84672100",descricao:"Furadeiras el\xE9tricas"},{cest:"21.101.00",ncmsh:"85162",descricao:"Aparelhos el\xE9tricos para aquecimento de ambientes"},{cest:"21.102.00",ncmsh:"85163100",descricao:"Secadores de cabelo"},{cest:"21.103.00",ncmsh:"85163200",descricao:"Outros aparelhos para arranjos do cabelo"},{cest:"21.104.00",ncmsh:"8527",descricao:"Aparelhos receptores para radiodifus\xE3o, mesmo combinados num mesmo inv\xF3lucro, com um aparelho de grava\xE7\xE3o ou de reprodu\xE7\xE3o de som, ou com um rel\xF3gio, exceto os classificados na posi\xE7\xE3o 8527.1, 8527.2 e 8527.9 que sejam de uso automotivo"},{cest:"21.105.00",ncmsh:"84796000",descricao:"Climatizadores de ar"},{cest:"21.106.00",ncmsh:"84159090",descricao:"Outras partes para m\xE1quinas e aparelhos de ar-condicionado que contenham um ventilador motorizado e dispositivos pr\xF3prios para modificar a temperatura e a umidade, incluindo as m\xE1quinas e aparelhos em que a umidade n\xE3o seja regul\xE1vel separadamente"},{cest:"21.107.00",ncmsh:"85258019",descricao:"C\xE2meras de televis\xE3o e suas partes"},{cest:"21.108.00",ncmsh:"84231000",descricao:"Balan\xE7as de uso dom\xE9stico"},{cest:"21.109.00",ncmsh:"8540",descricao:"Tubos e v\xE1lvulas, eletr\xF4nicos, de c\xE1todo quente, c\xE1todo frio ou fotoc\xE1todo (por exemplo, tubos e v\xE1lvulas, de v\xE1cuo, de vapor ou de g\xE1s, ampolas retificadoras de vapor de merc\xFArio, tubos cat\xF3dicos, tubos e v\xE1lvulas para c\xE2meras de televis\xE3o)"},{cest:"21.110.00",ncmsh:"8517",descricao:"Aparelhos el\xE9tricos para telefonia; outros aparelhos para transmiss\xE3o ou recep\xE7\xE3o de voz, imagens ou outros dados, inclu\xEDdos os aparelhos para comunica\xE7\xE3o em redes por fio ou redes sem fio (tal como uma rede local (LAN) ou uma rede de \xE1rea estendida (WAN), inclu\xEDdas suas partes, exceto os de uso automotivo e os classificados nos c\xF3digos 8517.62.51, 8517.62.52 e 8517.62.53"},{cest:"21.111.00",ncmsh:"8517",descricao:"Interfones, seus acess\xF3rios, tomadas e \u201Cplugs\u201D"},{cest:"21.112.00",ncmsh:"8529",descricao:"Partes reconhec\xEDveis como exclusiva ou principalmente destinadas aos aparelhos das posi\xE7\xF5es 8525 a 8528; exceto as de uso automotivo"},{cest:"21.113.00",ncmsh:"8531",descricao:"Aparelhos el\xE9tricos de sinaliza\xE7\xE3o ac\xFAstica ou visual (por exemplo, campainhas, sirenes, quadros indicadores, aparelhos de alarme para prote\xE7\xE3o contra roubo ou inc\xEAndio); exceto os de uso automotivo e os classificados nas posi\xE7\xF5es 8531.10 e 8531.80.00."},{cest:"21.114.00",ncmsh:"853110",descricao:"Aparelhos el\xE9tricos de alarme, para prote\xE7\xE3o contra roubo ou inc\xEAndio e aparelhos semelhantes, exceto os de uso automotivo"},{cest:"21.115.00",ncmsh:"85318000",descricao:"Outros aparelhos de sinaliza\xE7\xE3o ac\xFAstica ou visual, exceto os de uso automotivo"},{cest:"21.116.00",ncmsh:"853400",descricao:"Circuitos impressos, exceto os de uso automotivo"},{cest:"21.117.00",ncmsh:"85414011;85414021;85414022",descricao:"Diodos emissores de luz (LED), exceto diodos \u201Claser\u201D"},{cest:"21.118.00",ncmsh:"85437092",descricao:"Eletrificadores de cercas eletr\xF4nicos"},{cest:"21.119.00",ncmsh:"90303",descricao:"Aparelhos e instrumentos para medida ou controle da tens\xE3o, intensidade, resist\xEAncia ou da pot\xEAncia, sem dispositivo registrador; exceto os de uso automotivo"},{cest:"21.120.00",ncmsh:"903089",descricao:"Analisadores l\xF3gicos de circuitos digitais, de espectro de frequ\xEAncia, frequenc\xEDmetros, fas\xEDmetros, e outros instrumentos e aparelhos de controle de grandezas el\xE9tricas e detec\xE7\xE3o"},{cest:"21.121.00",ncmsh:"910700",descricao:"Interruptores hor\xE1rios e outros aparelhos que permitam acionar um mecanismo em tempo determinado, munidos de maquinismo de aparelhos de relojoaria ou de motor s\xEDncrono"},{cest:"21.122.00",ncmsh:"9405",descricao:"Aparelhos de ilumina\xE7\xE3o (inclu\xEDdos os projetores) e suas partes, n\xE3o especificados nem compreendidos em outras posi\xE7\xF5es; an\xFAncios, cartazes ou tabuletas e placas indicadoras luminosos, e artigos semelhantes, contendo uma fonte luminosa fixa permanente, e suas partes n\xE3o especificadas nem compreendidas em outras posi\xE7\xF5es, com exce\xE7\xE3o dos itens classificados nos CEST 21.123.00, 21.124.00 e 21.125.00"},{cest:"21.123.00",ncmsh:"940510;94059",descricao:"Lustres e outros aparelhos el\xE9tricos de ilumina\xE7\xE3o, pr\xF3prios para serem suspensos ou fixados no teto ou na parede, exceto os dos tipos utilizados na ilumina\xE7\xE3o p\xFAblica; e suas partes"},{cest:"21.124.00",ncmsh:"94052000;94059",descricao:"Abajures de cabeceiras, de escrit\xF3rio e lampad\xE1rios de interior, el\xE9tricos e suas partes"},{cest:"21.125.00",ncmsh:"940540;94059",descricao:"Outros aparelhos el\xE9tricos de ilumina\xE7\xE3o e suas partes"},{cest:"21.126.00",ncmsh:"85423190",descricao:"Microprocessador"},{cest:"22.001.00",ncmsh:"2309",descricao:"Ra\xE7\xE3o tipo \u201Cpet\u201D para animais dom\xE9sticos"},{cest:"23.001.00",ncmsh:"210500",descricao:"Sorvetes de qualquer esp\xE9cie"},{cest:"23.002.00",ncmsh:"1806;1901;2106",descricao:"Preparados para fabrica\xE7\xE3o de sorvete em m\xE1quina"},{cest:"24.001.00",ncmsh:"3208;3209;321000",descricao:"Tintas, vernizes"},{cest:"24.002.00",ncmsh:"2821;32041700;3206",descricao:"Xadrez e p\xF3s assemelhados, em embalagem de conte\xFAdo inferior ou igual a 1 kg, exceto pigmentos \xE0 base de di\xF3xido de tit\xE2nio classificados no c\xF3digo 3206.11.19"},{cest:"24.002.01",ncmsh:"2821;32041700;3206",descricao:"Xadrez e p\xF3s assemelhados, em embalagem de conte\xFAdo superior a 1 kg, exceto pigmentos \xE0 base de di\xF3xido de tit\xE2nio classificados no c\xF3digo NCM 3206.11.19"},{cest:"24.003.00",ncmsh:"3204;32050000;3206;3212",descricao:"Corantes para aplica\xE7\xE3o em bases, tintas e vernizes"},{cest:"25.001.00",ncmsh:"87021000",descricao:"Ve\xEDculos autom\xF3veis para transporte de 10 pessoas ou mais, incluindo o motorista, unicamente com motor de pist\xE3o, de igni\xE7\xE3o por compress\xE3o (diesel ou semidiesel), com volume interno de habit\xE1culo, destinado a passageiros e motorista, superior a 6 m\xB3, mas inferior a 9 m\xB3"},{cest:"25.002.00",ncmsh:"87024090",descricao:"Ve\xEDculos autom\xF3veis para transporte de 10 pessoas ou mais, incluindo o motorista, unicamente com motor el\xE9trico para propuls\xE3o, com volume interno de habit\xE1culo, destinado a passageiros e motorista, superior a 6 m\xB3, mas inferior a 9 m\xB3"},{cest:"25.003.00",ncmsh:"87032100",descricao:"Autom\xF3veis unicamente com motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*), de cilindrada n\xE3o superior a 1000 cm\xB3"},{cest:"25.004.00",ncmsh:"87032210",descricao:"Autom\xF3veis unicamente com motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*), de cilindrada superior a 1000 cm\xB3, mas n\xE3o superior a 1500 cm\xB3, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, inclu\xEDdo o condutor, exceto carro celular"},{cest:"25.005.00",ncmsh:"87032290",descricao:"Outros autom\xF3veis unicamente com motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*), de cilindrada superior a 1000 cm\xB3, mas n\xE3o superior a 1500 cm\xB3, exceto carro celular"},{cest:"25.006.00",ncmsh:"87032310",descricao:"Autom\xF3veis unicamente com motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*), de cilindrada superior a 1500 cm\xB3, mas n\xE3o superior a 3000 cm\xB3, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, inclu\xEDdo o condutor, exceto carro celular, carro funer\xE1rio e autom\xF3veis de corrida"},{cest:"25.007.00",ncmsh:"87032390",descricao:"Outros autom\xF3veis unicamente com motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*), de cilindrada superior a 1500 cm\xB3, mas n\xE3o superior a 3000 cm\xB3, exceto carro celular, carro funer\xE1rio e autom\xF3veis de corrida"},{cest:"25.008.00",ncmsh:"87032410",descricao:"Autom\xF3veis unicamente com motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*), de cilindrada superior a 3000 cm\xB3, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, inclu\xEDdo o condutor, exceto carro celular, carro funer\xE1rio e autom\xF3veis de corrida"},{cest:"25.009.00",ncmsh:"87032490",descricao:"Outros autom\xF3veis unicamente com motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*), de cilindrada superior a 3000 cm\xB3, exceto carro celular, carro funer\xE1rio e autom\xF3veis de corrida"},{cest:"25.010.00",ncmsh:"87033210",descricao:"Autom\xF3veis unicamente com motor diesel ou semidiesel, de cilindrada superior a 1500 cm\xB3, mas n\xE3o superior a 2500 cm\xB3, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, inclu\xEDdo o condutor, exceto ambul\xE2ncia, carro celular e carro funer\xE1rio"},{cest:"25.011.00",ncmsh:"87033290",descricao:"Outros autom\xF3veis unicamente com motor diesel ou semidiesel, de cilindrada superior a 1500 cm\xB3, mas n\xE3o superior a 2500 cm\xB3, exceto ambul\xE2ncia, carro celular e carro funer\xE1rio"},{cest:"25.012.00",ncmsh:"87033310",descricao:"Autom\xF3veis unicamente com motor diesel ou semidiesel, de cilindrada superior a 2500 cm\xB3, com capacidade de transporte de pessoas sentadas inferior ou igual a 6, inclu\xEDdo o condutor, exceto carro celular e carro funer\xE1rio"},{cest:"25.013.00",ncmsh:"87033390",descricao:"Outros autom\xF3veis unicamente com motor diesel ou semidiesel, de cilindrada superior a 2500 cm\xB3, exceto carro celular e carro funer\xE1rio"},{cest:"25.014.00",ncmsh:"87042110",descricao:"Ve\xEDculos autom\xF3veis para transporte de mercadorias, de peso em carga m\xE1xima n\xE3o superior a 5 toneladas, chassis com motor diesel ou semidiesel e cabina, exceto caminh\xE3o de peso em carga m\xE1xima superior a 3,9 toneladas"},{cest:"25.015.00",ncmsh:"87042120",descricao:"Ve\xEDculos autom\xF3veis para transporte de mercadorias, de peso em carga m\xE1xima n\xE3o superior a 5 toneladas, com motor diesel ou semidiesel, com caixa basculante, exceto caminh\xE3o de peso em carga m\xE1xima superior a 3,9 toneladas"},{cest:"25.016.00",ncmsh:"87042130",descricao:"Ve\xEDculos autom\xF3veis para transporte de mercadorias, de peso em carga m\xE1xima n\xE3o superior a 5 toneladas, frigor\xEDficos ou isot\xE9rmicos, com motor diesel ou semidiesel, exceto caminh\xE3o de peso em carga m\xE1xima superior a 3,9 toneladas"},{cest:"25.017.00",ncmsh:"87042190",descricao:"Outros ve\xEDculos autom\xF3veis para transporte de mercadorias, de peso em carga m\xE1xima n\xE3o superior a 5 toneladas, com motor diesel ou semidiesel, exceto carro-forte para transporte de valores e caminh\xE3o de peso em carga m\xE1xima superior a 3,9 toneladas"},{cest:"25.018.00",ncmsh:"87043110",descricao:"Ve\xEDculos autom\xF3veis para transporte de mercadorias, de peso em carga m\xE1xima n\xE3o superior a 5 toneladas, com motor a explos\xE3o, chassis e cabina, exceto caminh\xE3o de peso em carga m\xE1xima superior a 3,9 toneladas"},{cest:"25.019.00",ncmsh:"87043120",descricao:"Ve\xEDculos autom\xF3veis para transporte de mercadorias, de peso em carga m\xE1xima n\xE3o superior a 5 toneladas, com motor explos\xE3o com caixa basculante, exceto caminh\xE3o de peso em carga m\xE1xima superior a 3,9 toneladas"},{cest:"25.020.00",ncmsh:"87043130,",descricao:"Ve\xEDculos autom\xF3veis para transporte de mercadorias, de peso em carga m\xE1xima n\xE3o superior a 5 toneladas, frigor\xEDficos ou isot\xE9rmicos com motor explos\xE3o, exceto caminh\xE3o de peso em carga m\xE1xima superior a 3,9 toneladas"},{cest:"25.021.00",ncmsh:"87043190,",descricao:"Outros ve\xEDculos autom\xF3veis para transporte de mercadorias, de peso em carga m\xE1xima n\xE3o superior a 5 toneladas, com motor a explos\xE3o, exceto carro-forte para transporte de valores e caminh\xE3o de peso em carga m\xE1xima superior a 3,9 toneladas"},{cest:"25.022.00",ncmsh:"87022000",descricao:"Ve\xEDculos autom\xF3veis para transporte de 10 pessoas ou mais, incluindo o motorista, com motor de pist\xE3o, de igni\xE7\xE3o por compress\xE3o (diesel ou semidiesel) e um motor el\xE9trico, com volume interno de habit\xE1culo, destinado a passageiros e motorista, superior a 6 m\xB3, mas inferior a 9 m\xB3"},{cest:"25.023.00",ncmsh:"87023000",descricao:"Ve\xEDculos autom\xF3veis para transporte de 10 pessoas ou mais, incluindo o motorista, com motor de pist\xE3o alternativo, de igni\xE7\xE3o por centelha (fa\xEDsca) e um motor el\xE9trico, com volume interno de habit\xE1culo, destinado a passageiros e motorista, superior a 6 m\xB3, mas inferior a 9 m\xB3"},{cest:"25.024.00",ncmsh:"87029000",descricao:"\xA0Outros ve\xEDculos autom\xF3veis para transporte de 10 pessoas ou mais, incluindo o motorista, com volume interno de habit\xE1culo, destinado a passageiros e motorista, superior a 6 m\xB3, mas inferior a 9 m\xB3"},{cest:"25.025.00",ncmsh:"87034000",descricao:"Autom\xF3veis equipados para propuls\xE3o, simultaneamente, com um motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*) e um motor el\xE9trico, exceto os suscet\xEDveis de serem carregados por conex\xE3o a uma fonte externa de energia el\xE9trica, o carro celular e o carro funer\xE1rio"},{cest:"25.026.00",ncmsh:"87035000",descricao:"Autom\xF3veis equipados para propuls\xE3o, simultaneamente, com um motor de pist\xE3o por compress\xE3o (diesel ou semidiesel) e um motor el\xE9trico, exceto os suscet\xEDveis de serem carregados por conex\xE3o a uma fonte externa de energia el\xE9trica, exceto o carro celular e o carro funer\xE1rio"},{cest:"25.027.00",ncmsh:"87036000",descricao:"Autom\xF3veis equipados para propuls\xE3o, simultaneamente, com um motor de pist\xE3o alternativo de igni\xE7\xE3o por centelha (fa\xEDsca*) e um motor el\xE9trico, suscet\xEDveis de serem carregados por conex\xE3o a uma fonte externa de energia el\xE9trica, exceto o carro celular e o carro funer\xE1rio"},{cest:"25.028.00",ncmsh:"87037000",descricao:"Autom\xF3veis equipados para propuls\xE3o, simultaneamente, com um motor de pist\xE3o por compress\xE3o (diesel ou semidiesel) e um motor el\xE9trico, suscet\xEDveis de serem carregados por conex\xE3o a uma fonte externa de energia el\xE9trica, exceto o carro celular e o carro funer\xE1rio"},{cest:"25.029.00",ncmsh:"87038000",descricao:"Outros ve\xEDculos, equipados unicamente com motor el\xE9trico para propuls\xE3o"},{cest:"26.001.00",ncmsh:"8711",descricao:"Motocicletas (inclu\xEDdos os ciclomotores) e outros ciclos equipados com motor auxiliar, mesmo com carro lateral; carros laterais"},{cest:"28.001.00",ncmsh:"33030010",descricao:"Perfumes (extratos)"},{cest:"28.002.00",ncmsh:"33030020",descricao:"\xC1guas-de-col\xF4nia"},{cest:"28.003.00",ncmsh:"33041000",descricao:"Produtos de maquiagem para os l\xE1bios"},{cest:"28.004.00",ncmsh:"33042010",descricao:"Sombra, delineador, l\xE1pis para sobrancelhas e r\xEDmel"},{cest:"28.005.00",ncmsh:"33042090",descricao:"Outros produtos de maquiagem para os olhos"},{cest:"28.006.00",ncmsh:"33043000",descricao:"Prepara\xE7\xF5es para manicuros e pedicuros"},{cest:"28.007.00",ncmsh:"33049100",descricao:"P\xF3s para maquiagem, incluindo os compactos"},{cest:"28.008.00",ncmsh:"33049910",descricao:"Cremes de beleza, cremes nutritivos e lo\xE7\xF5es t\xF4nicas"},{cest:"28.009.00",ncmsh:"33049990",descricao:"Outros produtos de beleza ou de maquiagem preparados e prepara\xE7\xF5es para conserva\xE7\xE3o ou cuidados da pele, exceto as prepara\xE7\xF5es antissolares e os bronzeadores"},{cest:"28.010.00",ncmsh:"33049990",descricao:"Prepara\xE7\xF5es antissolares e os bronzeadores"},{cest:"28.011.00",ncmsh:"33051000",descricao:"Xampus para o cabelo"},{cest:"28.012.00",ncmsh:"33052000",descricao:"Prepara\xE7\xF5es para ondula\xE7\xE3o ou alisamento, permanentes, dos cabelos"},{cest:"28.013.00",ncmsh:"33059000",descricao:"Outras prepara\xE7\xF5es capilares"},{cest:"28.014.00",ncmsh:"33059000",descricao:"Tintura para o cabelo"},{cest:"28.015.00",ncmsh:"33071000",descricao:"Prepara\xE7\xF5es para barbear (antes, durante ou ap\xF3s)"},{cest:"28.016.00",ncmsh:"33072010",descricao:"Desodorantes (desodorizantes) corporais l\xEDquidos, exceto os classificados no CEST 28.016.01"},{cest:"28.016.01",ncmsh:"33072010",descricao:"Lo\xE7\xF5es e \xF3leos desodorantes hidratantes l\xEDquidos"},{cest:"28.016.02",ncmsh:"33072010",descricao:"Antiperspirantes l\xEDquidos"},{cest:"28.017.00",ncmsh:"33072090",descricao:"Outros desodorantes (desodorizantes) corporais, exceto os classificados no CEST 28.017.01"},{cest:"28.017.01",ncmsh:"33072090",descricao:"Outras lo\xE7\xF5es e \xF3leos desodorantes hidratantes"},{cest:"28.017.02",ncmsh:"33072090",descricao:"Outros antiperspirantes"},{cest:"28.018.00",ncmsh:"33079000",descricao:"Outros produtos de perfumaria ou de toucador preparados"},{cest:"28.019.00",ncmsh:"33079000",descricao:"Outras prepara\xE7\xF5es cosm\xE9ticas"},{cest:"28.020.00",ncmsh:"34011190",descricao:"Sab\xF5es de toucador em barras, peda\xE7os ou figuras moldados, exceto CEST 28.020.01"},{cest:"28.020.01",ncmsh:"34011190",descricao:"Len\xE7os umedecidos"},{cest:"28.021.00",ncmsh:"34011900",descricao:"Outros sab\xF5es, produtos e prepara\xE7\xF5es org\xE2nicos tensoativos, inclusive papel, pastas (ouates), feltros e falsos tecidos, impregnados, revestidos ou recobertos de sab\xE3o ou de detergentes"},{cest:"28.022.00",ncmsh:"34012010",descricao:"Sab\xF5es de toucador sob outras formas"},{cest:"28.023.00",ncmsh:"34013000",descricao:"Produtos e prepara\xE7\xF5es org\xE2nicos tensoativos para lavagem da pele, em forma de l\xEDquido ou de creme, acondicionados para venda a retalho, mesmo contendo sab\xE3o"},{cest:"28.024.00",ncmsh:"48182000",descricao:"Len\xE7os de papel, incluindo os de desmaquiar"},{cest:"28.024.01",ncmsh:"48182000",descricao:"Toalhas de m\xE3o"},{cest:"28.025.00",ncmsh:"82141000",descricao:"Apontadores de l\xE1pis para maquiagem"},{cest:"28.025.01",ncmsh:"82141000",descricao:"Esp\xE1tulas, abre-cartas e raspadeiras"},{cest:"28.025.02",ncmsh:"82141000",descricao:"L\xE2minas de esp\xE1tulas, de abre-cartas, de raspadeiras e de apontadores de l\xE1pis"},{cest:"28.026.00",ncmsh:"82142000",descricao:"Utens\xEDlios e sortidos de utens\xEDlios de manicuros ou de pedicuros (incluindo as limas para unhas)"},{cest:"28.027.00",ncmsh:"96032900",descricao:"Escovas e pinc\xE9is de barba, escovas para cabelos, para c\xEDlios ou para unhas e outras escovas de toucador de pessoas"},{cest:"28.027.01",ncmsh:"96032900",descricao:"Vassouras e escovas, mesmo constituindo partes de m\xE1quinas, de aparelhos ou de ve\xEDculos, vassouras mec\xE2nicas de uso manual n\xE3o motorizadas, pinc\xE9is e espanadores; cabe\xE7as preparadas para escovas, pinc\xE9is e artigos semelhantes; bonecas e rolos para pintura; rodos de borracha ou de mat\xE9rias flex\xEDveis semelhantes, outros"},{cest:"28.028.00",ncmsh:"96033000",descricao:"Pinc\xE9is para aplica\xE7\xE3o de produtos cosm\xE9ticos"},{cest:"28.028.01",ncmsh:"96033000",descricao:"Pinc\xE9is e escovas, para artistas e pinc\xE9is de escrever"},{cest:"28.029.00",ncmsh:"96161000",descricao:"Vaporizadores de toucador, suas arma\xE7\xF5es e cabe\xE7as de arma\xE7\xF5es"},{cest:"28.030.00",ncmsh:"96162000",descricao:"Borlas ou esponjas para p\xF3s ou para aplica\xE7\xE3o de outros cosm\xE9ticos ou de produtos de toucador"},{cest:"28.031.00",ncmsh:"42021",descricao:"Malas e maletas de toucador"},{cest:"28.032.00",ncmsh:"9615",descricao:"Pentes, travessas para cabelo e artigos semelhantes; grampos (alfinetes) para cabelo; pin\xE7as (\u201Cpinceguiches\u201D), onduladores, bobs (rolos) e artefatos semelhantes para penteados, e suas partes"},{cest:"28.033.00",ncmsh:"39233000;39249000;39241000;40149090;70102000",descricao:"Mamadeiras"},{cest:"28.034.00",ncmsh:"40149090",descricao:"Chupetas e bicos para mamadeiras e para chupetas"},{cest:"28.035.00",ncmsh:"12119090",descricao:"Outras plantas e partes, para perfumaria, medicina e semelhantes"},{cest:"28.036.00",ncmsh:"39262000",descricao:"Vestu\xE1rio e seus acess\xF3rios, de pl\xE1sticos, inclusive luvas"},{cest:"28.037.00",ncmsh:"39264000",descricao:"Estatuetas e outros objetos de ornamenta\xE7\xE3o, de pl\xE1sticos"},{cest:"28.038.00",ncmsh:"39269090",descricao:"Outras obras de pl\xE1sticos"},{cest:"28.039.00",ncmsh:"42022210",descricao:"Bolsas de folhas de pl\xE1stico"},{cest:"28.040.00",ncmsh:"42022220",descricao:"Bolsas de mat\xE9rias t\xEAxteis"},{cest:"28.041.00",ncmsh:"42022900",descricao:"Bolsas de outras mat\xE9rias"},{cest:"28.042.00",ncmsh:"42023900",descricao:"Artigos de bolsos/bolsas, de outras mat\xE9rias"},{cest:"28.043.00",ncmsh:"42029200",descricao:"Outros artefatos, de folhas de pl\xE1sticos ou mat\xE9rias t\xEAxteis"},{cest:"28.044.00",ncmsh:"42029900;38244000",descricao:"Outros artefatos, de outras mat\xE9rias"},{cest:"28.045.00",ncmsh:"48192000",descricao:"Caixas e cartonagens, dobr\xE1veis, de papel/cart\xE3o, n\xE3o ondulados"},{cest:"28.046.00",ncmsh:"48194000",descricao:"Outros sacos, bolsas e cartuchos, de papel ou cart\xE3o"},{cest:"28.047.00",ncmsh:"48211000",descricao:"Etiquetas de papel ou cart\xE3o, impressas"},{cest:"28.048.00",ncmsh:"49111090",descricao:"Outros impressos publicit\xE1rios, cat\xE1logos comerciais e semelhantes"},{cest:"28.049.00",ncmsh:"61159900",descricao:"Outras meias de malha de outras mat\xE9rias t\xEAxteis"},{cest:"28.050.00",ncmsh:"62171000",descricao:"Outros acess\xF3rios confeccionados, de vestu\xE1rio"},{cest:"28.051.00",ncmsh:"63026000",descricao:"Roupas de toucador/cozinha, de tecidos atoalhados de algod\xE3o"},{cest:"28.052.00",ncmsh:"63079090",descricao:"Outros artefatos t\xEAxteis confeccionados"},{cest:"28.053.00",ncmsh:"65069900",descricao:"Chap\xE9us e outros artefatos de outras mat\xE9rias, exceto de malha"},{cest:"28.054.00",ncmsh:"95059000",descricao:"Artigos para outras festas, carnaval ou outros divertimentos"},{cest:"28.055.00",ncmsh:"33",descricao:"Produtos destinados \xE0 higiene bucal"},{cest:"28.056.00",ncmsh:"33;34",descricao:"Outros produtos cosm\xE9ticos e de higiene pessoal n\xE3o relacionados em outros itens deste anexo"},{cest:"28.057.00",ncmsh:"14;39;40;44;48;63;64;65;67;70;82;90;96",descricao:"Outros artigos destinados a cuidados pessoais n\xE3o relacionados em outros itens deste anexo"},{cest:"28.058.00",ncmsh:"39;42;48;52;61;71;83;90;91",descricao:"Acess\xF3rios (por exemplo, bijuterias, rel\xF3gios, \xF3culos de sol, bolsas, mochilas, frasqueiras, carteiras, porta-cart\xF5es, porta-documentos, porta-celulares e embalagens presente\xE1veis (por exemplo, caixinhas de papel), entre outros itens assemelhados)"},{cest:"28.059.00",ncmsh:"61;62;64",descricao:"Vestu\xE1rio e seus acess\xF3rios; cal\xE7ados, polainas e artefatos semelhantes, e suas partes"},{cest:"28.060.00",ncmsh:"42;52;55;58;63;65",descricao:"Outros artigos de vestu\xE1rio em geral, exceto os relacionados no item anterior"},{cest:"28.061.00",ncmsh:"39;40;52;56;62;63;66;69;70;73;76;82;83;84;91;94;96",descricao:"Artigos de casa"},{cest:"28.062.00",ncmsh:"13;15;16;17;18;19;20;21;22;23",descricao:"Produtos das ind\xFAstrias alimentares e bebidas"},{cest:"28.063.00",ncmsh:"22;27;28;29;33;34;35;38;39;63;68;73;84;85;96",descricao:"Produtos de limpeza e conserva\xE7\xE3o dom\xE9stica"},{cest:"28.064.00",ncmsh:"39;49;95;96",descricao:"Artigos infantis"}],ID={"01":"Autope\xE7as","02":"Bebidas alco\xF3licas, exceto cerveja e chope","03":"Cervejas, chopes, refrigerantes, \xE1guas e outras bebidas","04":"Cigarros e outros produtos derivados do fumo","05":"Cimentos","06":"Combust\xEDveis e lubrificantes","07":"Energia el\xE9trica","08":"Ferramentas","09":"L\xE2mpadas, reatores e \u201Cstarter\u201D",10:"Materiais de constru\xE7\xE3o e cong\xEAneres",11:"Materiais de limpeza",12:"Materiais el\xE9tricos",13:"Medicamentos de uso humano e outros produtos farmac\xEAuticos para uso humano ou veterin\xE1rio",14:"Pap\xE9is",15:"Pl\xE1sticos",16:"Pneum\xE1ticos, c\xE2maras de ar e protetores de borracha",17:"Produtos aliment\xEDcios",18:"Produtos cer\xE2micos",19:"Produtos de papelaria",20:"Produtos de perfumaria e de higiene pessoal e cosm\xE9ticos",21:"Produtos eletr\xF4nicos, eletroeletr\xF4nicos e eletrodom\xE9sticos",22:"Ra\xE7\xF5es para animais dom\xE9sticos",23:"Sorvetes e preparados para fabrica\xE7\xE3o de sorvetes em m\xE1quinas",24:"Tintas e vernizes",25:"Ve\xEDculos automotores",26:"Ve\xEDculos de duas e tr\xEAs rodas motorizados",27:"Vidros",28:"Venda de mercadorias pelo sistema porta a porta"};const fPe={computed:{metadados(){return $n}},data(){return{valor:"",descricaoCest:"",opcoesCest:[]}},emits:["update:modelValue"],methods:{atualizar(){try{this.valor=this.modelValue||"";let e=this.opcoesCest.find(o=>o.valor===this.valor);e||(e={rotulo:this.valor,valor:this.valor},this.opcoesCest.push(e)),e.rotulo=this.valor;const t=wD.find(o=>o.cest===this.valor);this.descricaoCest=this.valor.length===9?t?ID[t.cest.substring(0,2)]+" - "+t.descricao:"CEST inv\xE1lido":"Forne\xE7a um CEST (7 d\xEDgitos)"}catch(e){this.$q.notifyError("Ocorreu erro ao consultar CEST",e)}},eventoClick(){const e=this.ncm||"";this.opcoesCest=wD.filter(t=>t.ncmsh.split(";").reduce((o,r)=>o||e.startsWith(r),!1)).map(t=>({rotulo:t.cest+" - "+t.descricao,sublabel:ID[t.cest.substring(0,2)],valor:t.cest}))},selecionar(){this.$emit("update:modelValue",this.valor)}},props:{modelValue:{default:"",type:String},ncm:{default:"",type:String}},watch:{modelValue(){this.atualizar()},ncm(){this.atualizar()}},created(){this.atualizar()}};function mPe(e,t,o,r,a,i){const n=ke("campo");return $(),be("div",null,[v(n,{modelValue:a.valor,"onUpdate:modelValue":[t[0]||(t[0]=s=>a.valor=s),i.selecionar],ajuda:a.descricaoCest,dica:i.metadados.infNFe.det.lista.prod.opcional.CEST._doc,filter:"",dense:"",maxlength:"9",opcoes:a.opcoesCest,rotulo:i.metadados.infNFe.det.lista.prod.opcional.CEST._titulo,tipo:"seletor",onClick:i.eventoClick,clearable:""},null,8,["modelValue","ajuda","dica","opcoes","rotulo","onClick","onUpdate:modelValue"])])}var pPe=ht(fPe,[["render",mPe]]);const hPe={data(){return{ncm:"",descricaoNcm:""}},emits:["update:modelValue"],methods:{async abrirPrompt(){try{if(this.somenteLeitura)return;const e=await $g.promptNcm.show({});this.selecionar(e)}catch(e){this.$q.notifyError("Erro ao abrir itens",e)}},async atualizar(){try{const e=this.modelValue&&this.modelValue.length===8?(await $db.ncm.le({ncm:this.modelValue}))[0]||{}:{};this.descricaoNcm=this.modelValue&&this.modelValue.length===8?e.descricao||"NCM inv\xE1lido":"Forne\xE7a um NCM (8 d\xEDgitos)",this.ncm=e.ncm||""}catch(e){this.$q.notifyError("Ocorreu erro ao consultar NCM",e)}},selecionar(e){try{if(!e||!e.ncm)return;this.descricaoNcm=e.descricao||"NCM inv\xE1lido",this.ncm=e.ncm||"",this.updateValue()}catch(t){this.$q.notifyError("Erro ao selecionar",t)}},updateValue(){this.$emit("update:modelValue",this.ncm),this.$nextTick(()=>{this.atualizar()})}},props:{modelValue:{default:"",type:String},somenteLeitura:{type:Boolean}},watch:{modelValue(e){e!==this.ncm&&this.atualizar()}},created(){this.atualizar()}};function vPe(e,t,o,r,a,i){const n=ke("campo"),s=WC("mask");return Te(($(),ue(n,ig({modelValue:a.ncm,"onUpdate:modelValue":t[0]||(t[0]=l=>a.ncm=l),maxlength:"8",ajuda:a.descricaoNcm,dica:"C\xF3digo NCM (8 posi\xE7\xF5es) - Nomenclatura Comum ao Mercosul",onBlur:i.updateValue,after:o.somenteLeitura?void 0:[{icon:"search",handler:i.abrirPrompt}],rotulo:"NCM"},e.$attrs),null,16,["modelValue","ajuda","onBlur","after"])),[[s,"########"]])}var gPe=ht(hPe,[["render",vPe]]);const _Pe={components:{SeletorCest:pPe,SeletorNcm:gPe},data(){return{documentoItem:{},documentoVenda:{},imposto:{},item:{},cfop:{},abaSelecionada:"tab1",visivel:!1,estoque:{},tabelaEstoque:{colunas:[{name:"empresa",label:"Empresa",align:"left"},{name:"tipoEstoque",label:"Tipo estoque",align:"right"},{name:"lote",label:"Lote",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"}],paginacao:{page:1,rowsPerPage:5}},historico:{},tabelaHistorico:{colunas:[{name:"documento",label:"Documento",align:"left"},{name:"valorUnitario",label:"Valor Unit\xE1rio",align:"right"},{name:"quantidade",label:"Quantidade",align:"right"},{name:"valorTotal",label:"Valor Total",align:"right"}],paginacao:{page:1,rowsPerPage:5}}}},emits:["salvar"],methods:{mostrarConfrontoFigurasFiscais(){$utils.emitter.emit("confrontarFigurasFiscais",[this.imposto.entrada])},async atualizar(){this.item=await $db.item.le({id:this.documentoItem.idItem}),this.documentoItem.idCfop&&(this.cfop=await $erp().cfop.get(this.documentoItem.idCfop));const e=[];this.imposto=await $utils.impostoV2({documento:this.documentoVenda,documentoItem:this.documentoItem,erro:e}),e.length&&(this.imposto.erro=!0);let t=await $erp().documento.where({idContato:this.documentoVenda.idContato}).toArray();t=t.filter(n=>n.id!==this.documentoVenda.id);let o={},r=[];for(const n of t){const s=(await $erp().documentoItem.where({idDocumento:n.id,idItem:this.documentoItem.idItem}).toArray()).find(l=>l.id);s&&(r.push({idDocumento:$lodash.get(s,"idDocumento",""),valorReal:$lodash.get(s,"valorReal",0),valorItem:$lodash.get(s,"valorItem",0),quantidade:$lodash.get(s,"quantidade",0),operacaoFator:$lodash.get(s,"operacaoFator",0),valorRealTotal:$lodash.get(s,"valorRealTotal",0),dataHoraEmissao:$lodash.get(s,"dataHoraEmissao",""),dataHoraFinalizado:$lodash.get(s,"dataHoraFinalizado",""),docDataHoraEmissao:$lodash.get(n,"dataHoraEmissao",""),docDataHoraFinalizado:$lodash.get(n,"dataHoraFinalizado","")}),o[n.id]||(o[n.id]={id:$lodash.get(n,"id",""),tipo:$lodash.get(n,"tipo",""),numero:$lodash.get(n,"numero",""),status:$lodash.get(n,"status",""),dataHoraFinalizado:$lodash.get(n,"dataHoraFinalizado",""),dataHoraEmissao:$lodash.get(n,"dataHoraEmissao","")}))}this.historico.documentos=o,this.historico.documentosItens=$lodash.orderBy(r,["docDataHoraFinalizado","docDataHoraEmissao","dataHoraFinalizado","dataHoraEmissao"],["desc","desc","desc","desc"]);const a=await $db.estoqueSaldoProdutoEmpresa.le({idItem:this.documentoItem.idItem});let i={};for(const n of a)if(!i[n.idEmpresa]){const s=await $db.contato.le({id:n.idEmpresa});s.id&&(i[n.idEmpresa]=s)}this.estoque=a.map(n=>({...n,nomeEmpresa:$lodash.get(i[n.idEmpresa],"nome",""),apelidoEmpresa:$lodash.get(i[n.idEmpresa],"apelido","")}))},async mostrar(e){const{documentoItem:t={},documentoVenda:o={}}=e;this.documentoItem=$utils.clonarV2(t),this.documentoVenda=$utils.clonarV2(o),await this.atualizar(),this.visivel=!0},salvar(){this.$emit("salvar",this.documentoItem),this.visivel=!1}}},bPe={class:"q-pa-md"},yPe={class:"col-12 text-center"},CPe=["src"],xPe={class:"col-12"},wPe={class:"col-12 col-md-6 q-mb-md"},IPe=A("div",{class:"text-weight-bold text-caption"},"Observa\xE7\xE3o",-1),EPe={class:"q-item__label",style:{"white-space":"pre-line"}},SPe={class:"col-12 col-md-6 q-mb-md"},APe=A("div",{class:"text-weight-bold text-caption"},"Aplica\xE7\xE3o",-1),TPe={class:"q-item__label",style:{"white-space":"pre-line"}},OPe={class:"col-4"},DPe=A("div",{class:"text-weight-bold text-caption"},"CFOP",-1),PPe={class:"q-item__label"},MPe={key:0,class:"col-2"},NPe=A("div",{class:"text-weight-bold text-caption"},"IPI",-1),FPe={class:"q-item__label"},RPe={key:1,class:"col-2"},kPe=A("div",{class:"text-weight-bold text-caption"},"MVA/ST",-1),VPe={class:"q-item__label"},qPe={key:2,class:"col-2"},BPe=A("div",{class:"text-weight-bold text-caption"}," ICMS ",-1),LPe={class:"q-item__label",style:{"white-space":"pre-line"}},$Pe={key:3,class:"col-2"},UPe=A("div",{class:"text-weight-bold text-caption"}," ICMS/ST ",-1),zPe={class:"q-item__label",style:{"white-space":"pre-line"}},HPe=A("br",null,null,-1),jPe=A("br",null,null,-1),GPe={key:0,style:{"text-decoration":"line-through"}},WPe=A("br",null,null,-1);function XPe(e,t,o,r,a,i){const n=ke("campo"),s=ke("row"),l=ke("SeletorNcm"),u=ke("SeletorCest");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[6]||(t[6]=c=>a.visivel=c),maximized:""},{default:w(()=>[v(Jo,{class:"q-layout-modal bg-white",style:{"max-width":"990px"}},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te(de(a.documentoItem.descricaoItem)+" - "+de(a.item.marca),1)]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",bPe,[A("div",yPe,[a.item.imagem?($(),be("img",{key:0,src:a.item.imagem,alt:"",style:{"max-width":"100%"}},null,8,CPe)):ce("",!0)]),v(XF,{modelValue:a.abaSelecionada,"onUpdate:modelValue":t[0]||(t[0]=c=>a.abaSelecionada=c),align:"justify",dense:"","indicator-color":"light-blue-4",class:"text-primary"},{default:w(()=>[v(jd,{default:"",name:"tab1",icon:"info",label:"Detalhes",class:"cinza"}),v(jd,{name:"tab2",icon:"account_balance",label:"Impostos",class:"cinza"}),v(jd,{name:"tab3",icon:"history",label:"Hist\xF3rico",class:"cinza"}),v(jd,{name:"tab4",icon:"compare_arrows",label:"Estoque",class:"cinza"})]),_:1},8,["modelValue"]),v(YF,{modelValue:a.abaSelecionada,"onUpdate:modelValue":t[5]||(t[5]=c=>a.abaSelecionada=c),animated:"",class:"text-tertiary"},{default:w(()=>[v(Gd,{name:"tab1",class:"q-px-none"},{default:w(()=>[v(s,null,{default:w(()=>[A("p",xPe,[v(n,{modelValue:a.documentoItem.descricaoAgrupamento,"onUpdate:modelValue":t[1]||(t[1]=c=>a.documentoItem.descricaoAgrupamento=c),modelModifiers:{trim:!0},tipo:"texto",rotulo:"Agrupamento",autogrow:""},null,8,["modelValue"])]),A("div",wPe,[IPe,A("div",EPe,de(a.item.observacao),1)]),A("div",SPe,[APe,A("div",TPe,de(a.item.aplicacao),1)])]),_:1})]),_:1}),v(Gd,{name:"tab2",class:"q-col-gutter-y-sm",style:{overflow:"hidden"}},{default:w(()=>[v(s,null,{default:w(()=>[!Object.keys(a.imposto).length||a.imposto.erro?($(),ue(EC,{key:0,"inline-actions":"",class:"text-white bg-red col-12"},JC({default:w(()=>[te(" N\xE3o foi poss\xEDvel encontrar par\xE2metros de imposto. ")]),_:2},[Object.keys(a.imposto).length?{name:"action",fn:w(()=>[v(pe,{flat:"",color:"white",label:"Conferir Figuras Fiscais",onClick:i.mostrarConfrontoFigurasFiscais},null,8,["onClick"])]),key:"0"}:void 0]),1024)):ce("",!0),Object.keys(a.imposto).length&&!a.imposto.erro?($(),ue(EC,{key:1,"inline-actions":"",class:"bg-grey-3 col-12"},{action:w(()=>[v(pe,{flat:"",color:"primary",label:"Conferir Figuras Fiscais",onClick:i.mostrarConfrontoFigurasFiscais},null,8,["onClick"])]),default:w(()=>[te(" Par\xE2metros de imposto encontrados na figura fiscal "),v(Bn,{color:"tertiary"},{default:w(()=>[te(" Ordem "+de(a.imposto.ordem),1)]),_:1})]),_:1})):ce("",!0)]),_:1}),v(s,null,{default:w(()=>{var c,d,m,f,p,g,b,x,_;return[A("div",OPe,[DPe,A("div",PPe,de((c=a.cfop)==null?void 0:c.cfop),1)]),(m=(d=a.imposto)==null?void 0:d.saida)!=null&&m.pIPI?($(),be("div",MPe,[NPe,A("div",FPe,de(e.$filters.numero(a.imposto.saida.pIPI,2))+"%",1)])):ce("",!0),(p=(f=a.imposto)==null?void 0:f.saida)!=null&&p.pMVAST?($(),be("div",RPe,[kPe,A("div",VPe,de(e.$filters.numero(a.imposto.saida.pMVAST,2))+"%",1)])):ce("",!0),(b=(g=a.imposto)==null?void 0:g.saida)!=null&&b.pICMS?($(),be("div",qPe,[BPe,A("div",LPe,de(e.$filters.numero(a.imposto.saida.pICMS,2))+"% ",1)])):ce("",!0),(_=(x=a.imposto)==null?void 0:x.saida)!=null&&_.pICMSST?($(),be("div",$Pe,[UPe,A("div",zPe,de(e.$filters.numero(a.imposto.saida.pICMSST,2))+"% ",1)])):ce("",!0)]}),_:1}),v(s,{class:"q-mt-md q-col-gutter-x-sm"},{default:w(()=>[v(l,{modelValue:a.documentoItem.ncm,"onUpdate:modelValue":t[2]||(t[2]=c=>a.documentoItem.ncm=c),class:"col-12 col-md-6","class-campo":"q-pb-lg"},null,8,["modelValue"]),v(u,{modelValue:a.documentoItem.cest,"onUpdate:modelValue":t[3]||(t[3]=c=>a.documentoItem.cest=c),class:"col-12 col-md-6","class-campo":"q-pb-lg",ncm:a.documentoItem.ncm},null,8,["modelValue","ncm"])]),_:1})]),_:1}),v(Gd,{name:"tab3",class:"q-px-none"},{default:w(()=>[a.historico.documentosItens&&a.historico.documentosItens.length?($(),ue(xD,{key:0,rows:a.historico.documentosItens,columns:a.tabelaHistorico.colunas,pagination:a.tabelaHistorico.paginacao,"onUpdate:pagination":t[4]||(t[4]=c=>a.tabelaHistorico.paginacao=c),class:"no-shadow text-left"},{body:w(c=>[v(_D,{props:c},{default:w(()=>[v(ql,{key:"documento",props:c},{default:w(()=>[te(de(a.historico.documentos[c.row.idDocumento].tipo)+" #"+de(parseInt(a.historico.documentos[c.row.idDocumento].numero)||(a.historico.documentos[c.row.idDocumento].id||"").slice(-6)),1),HPe,te(" "+de(a.historico.documentos[c.row.idDocumento].status),1),jPe,te(" "+de(e.$filters.dataHora(a.historico.documentos[c.row.idDocumento].dataHoraFinalizado||a.historico.documentos[c.row.idDocumento].dataHoraEmissao)),1)]),_:2},1032,["props"]),v(ql,{key:"valorUnitario",props:c},{default:w(()=>[c.row.valorReal!==c.row.valorItem?($(),be("span",GPe,de(e.$filters.numero(c.row.valorItem,2)),1)):ce("",!0),te(" "+de(e.$filters.numero(c.row.valorReal,2)),1)]),_:2},1032,["props"]),v(ql,{key:"quantidade",props:c},{default:w(()=>[te(de(c.row.quantidade*c.row.operacaoFator*-1),1)]),_:2},1032,["props"]),v(ql,{key:"valorTotal",props:c},{default:w(()=>[te(de(e.$filters.numero(c.row.valorRealTotal,2)),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])):ce("",!0)]),_:1}),v(Gd,{name:"tab4",class:"q-px-none"},{default:w(()=>[a.estoque&&a.estoque.length?($(),ue(xD,{key:0,rows:a.estoque,columns:a.tabelaEstoque.colunas,pagination:a.tabelaEstoque.paginacao,class:"no-shadow text-left"},{body:w(c=>[v(_D,{props:c},{default:w(()=>[v(ql,{key:"empresa",props:c},{default:w(()=>[te(de(c.row.apelidoEmpresa)+" ",1),WPe,te(" "+de(c.row.nomeEmpresa),1)]),_:2},1032,["props"]),v(ql,{key:"tipoEstoque",props:c},{default:w(()=>[te(de(c.row.tipoEstoque),1)]),_:2},1032,["props"]),v(ql,{key:"lote",props:c},{default:w(()=>[te(de(c.row.loteEmpresa),1)]),_:2},1032,["props"]),v(ql,{key:"quantidade",props:c},{default:w(()=>[te(de(c.row.saldo),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])):ce("",!0)]),_:1})]),_:1},8,["modelValue"])]),v(dl,null,{default:w(()=>[v(at,{class:"bg-light"},{default:w(()=>[Te(v(pe,{flat:"",size:"md","no-ripple":"",color:"tertiary",label:"Cancelar",class:"q-mr-sm"},null,512),[[lt]]),v(pe,{"no-ripple":"",label:"Salvar",color:"primary",unelevated:"",class:"no-shadow",onClick:i.salvar},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var YPe=ht(_Pe,[["render",XPe]]);const KPe={computed:{marcaModeloCor(){return["marca","modelo","cor"].map(e=>this.equipamento[e]).filter(e=>e).join(" - ")}},props:{equipamento:{required:!0,type:Object}}},QPe={class:"row q-col-gutter-xs"},JPe={key:0,class:"col-12"},ZPe={class:"col-12"},e4e={class:"col-12"},t4e=A("span",{class:"text-body2"},"Placa: ",-1),o4e={class:"q-pr-md"},a4e=A("span",{class:"text-body2"},"Chassi: ",-1),r4e={class:"q-pr-md"},i4e=A("span",{class:"text-body2"},"BTU: ",-1),n4e={class:"q-pr-md"},s4e=A("span",{class:"text-body2"},"N\xFAmero de s\xE9rie: ",-1),l4e={class:"q-pr-md"},c4e=A("span",{class:"text-body2"},"Validade: ",-1),u4e={class:"q-pr-md"},d4e=A("span",{class:"text-body2"}," Garantia: ",-1),f4e={class:"q-pr-md"},m4e={key:1,class:"col-12"},p4e=A("strong",{class:"text-body2"},"Observa\xE7\xE3o: ",-1);function h4e(e,t,o,r,a,i){return $(),be("div",QPe,[o.equipamento.descricao?($(),be("div",JPe,[A("strong",null,de(o.equipamento.descricao),1)])):ce("",!0),A("div",ZPe,de(i.marcaModeloCor),1),A("div",e4e,[o.equipamento.placa?($(),be(Qe,{key:0},[t4e,A("strong",o4e,de(o.equipamento.placa),1)],64)):ce("",!0),o.equipamento.chassi?($(),be(Qe,{key:1},[a4e,A("strong",r4e,de(o.equipamento.chassi),1)],64)):ce("",!0),o.equipamento.btu?($(),be(Qe,{key:2},[i4e,A("strong",n4e,de(o.equipamento.btu),1)],64)):ce("",!0),o.equipamento.numeroSerie?($(),be(Qe,{key:3},[s4e,A("strong",l4e,de(o.equipamento.numeroSerie),1)],64)):ce("",!0),o.equipamento.dataValidade?($(),be(Qe,{key:4},[c4e,A("strong",u4e,de(e.$filters.data(o.equipamento.dataValidade)),1)],64)):ce("",!0),o.equipamento.dataFinalGarantia?($(),be(Qe,{key:5},[d4e,A("strong",f4e,de(e.$filters.data(o.equipamento.dataFinalGarantia)),1)],64)):ce("",!0)]),o.equipamento.observacao?($(),be("div",m4e,[p4e,te(de(o.equipamento.observacao),1)])):ce("",!0)])}var o5=ht(KPe,[["render",h4e]]);const v4e={data(){return{id:"",valorExibirInterno:""}},emits:["update:modelValue","selecionar","selecionarItens"],methods:{async abrirPrompt(){try{if(this.somenteLeitura)return;const e=await $g.promptItem.show({filtro:this.filtro,placeholder:this.rotulo||"Selecione o item"});this.selecionar(e)}catch(e){this.$q.notifyError("Erro ao abrir itens",e)}},async atualizar(){try{if(this.valorExibir)this.valorExibirInterno=this.valorExibir,this.id=this.modelValue||"";else{const e=await $db.item.le({id:this.modelValue});this.valorExibirInterno=e.descricao||"",this.id=e.id||""}}catch(e){this.$q.notifyError("Erro ao consultar",e)}},selecionar(e){try{e.acao==="selecionarItens"&&(e=e.itensSelecionados);const t=Object.keys(e)[0],o=e[t].item;if(!o||!o.id)return;this.valorExibir||(this.valorExibirInterno=o.descricao||""),this.id=o.id||"",this.$emit("update:modelValue",o.id),this.$emit("selecionar",o),this.$emit("selecionarItens",e)}catch(t){this.$q.notifyError("Erro ao selecionar",t)}}},props:{modelValue:{default:"",type:String},after:{type:Object},filtro:{default:()=>({ativo:!0}),type:Object},rotulo:{default:"",type:String},somenteLeitura:{type:Boolean},valorExibir:{default:"",type:String}},watch:{modelValue(e){e!==this.id&&this.atualizar()},valorExibir(e){this.valorExibirInterno=e||""}},created(){this.atualizar()}};function g4e(e,t,o,r,a,i){const n=ke("campo");return $(),ue(n,ig({modelValue:a.valorExibirInterno,after:o.after,before:o.somenteLeitura?void 0:[{icon:"search",handler:i.abrirPrompt}],rotulo:o.rotulo},e.$attrs,{"somente-leitura":""}),null,16,["modelValue","after","before","rotulo"])}var _4e=ht(v4e,[["render",g4e]]);const b4e={components:{SeletorItem:_4e},data(){return{opcoesTipoEquipamento:[],campos:{},visivel:!1}},emits:["atualizar"],methods:{async atualizar(){try{const e=await $db.configuracoes.leValor("equipamento.tipos","Equipamento");this.opcoesTipoEquipamento=e.split(";").filter(t=>t).map(t=>({rotulo:t.trim(),valor:t.trim()})),this.campos.tipo||(this.campos.tipo=this.opcoesTipoEquipamento[0].valor)}catch(e){this.$q.notifyError("Erro ao carregar os dados",e)}},async salvarEquipamento(){const e=$utils.clonarV2(this.campos);$utils.gconsole.log("Equipamentos","salvarEquipamento",e),$utils.verificarErro(!e.tipo,"Tipo de equipamento n\xE3o selecionado"),e.id||(e.id=$utils.uuid()),e.dataCadastro||(e.dataCadastro=$utils.dataAtual()),e.idContato||(e.idContato=$db.contato.selecionado.id),e.tipo==="Ve\xEDculo"?(e.placa=(e.placa||"").replace(/ /g,""),e.numeroSerie="",e.dataValidade=""):(e.chassi="",e.placa=""),e.tipo!=="Ar condicionado"&&(e.btu=""),await $db.equipamento.grava({atual:e,original:this.original}),this.$q.notifyPositive("Equipamento salvo com sucesso"),this.visivel=!1,this.$emit("atualizar",e)}},mounted(){this.atualizar()}},y4e={class:"layout-padding q-px-none q-py-md"},C4e={class:"u-container"},x4e={class:"bg-white q-mx-md q-pa-md"},w4e={class:"col-12 col-sm-6"},I4e={class:"col-12 col-sm-6"},E4e={class:"col-12"},S4e={class:"col-12 col-md-4"},A4e={class:"col-12 col-md-4"},T4e={class:"col-12 col-md-4"},O4e={class:"col-12 col-md-4"},D4e={class:"col-12 col-md-4"},P4e={class:"col-12 col-md-4"},M4e={class:"col-12 col-md-3"},N4e={class:"col-12 col-md-3"},F4e={class:"col-12 col-md-3"},R4e={class:"col-12 col-md-3"},k4e={class:"col-12"},V4e={key:0};function q4e(e,t,o,r,a,i){const n=ke("campo"),s=ke("SeletorItem"),l=ke("row");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[16]||(t[16]=u=>a.visivel=u),maximized:""},{default:w(()=>[v(Jo,{container:"",class:"bg-light"},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:"",clikable:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[te("Equipamento")]),_:1}),v(pe,{class:"q-ml-sm no-shadow",color:"white",label:"Salvar",unelevated:"","text-color":"primary",onClick:t[0]||(t[0]=u=>e.tryLoading(i.salvarEquipamento,{erro:"Ocorreu erro ao salvar equipamento"}))})]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",y4e,[A("div",C4e,[A("div",x4e,[v(l,{class:"q-col-gutter-md"},{default:w(()=>[A("div",w4e,[v(n,{modelValue:a.campos.tipo,"onUpdate:modelValue":t[1]||(t[1]=u=>a.campos.tipo=u),rotulo:"Tipo",tipo:"seletor",opcoes:a.opcoesTipoEquipamento},null,8,["modelValue","opcoes"])]),A("div",I4e,[v(s,{modelValue:a.campos.idItem,"onUpdate:modelValue":t[2]||(t[2]=u=>a.campos.idItem=u),rotulo:"Produto"},null,8,["modelValue"])]),A("div",E4e,[v(n,{modelValue:a.campos.descricao,"onUpdate:modelValue":t[3]||(t[3]=u=>a.campos.descricao=u),rotulo:"Descri\xE7\xE3o"},null,8,["modelValue"])]),A("div",S4e,[v(n,{modelValue:a.campos.marca,"onUpdate:modelValue":t[4]||(t[4]=u=>a.campos.marca=u),rotulo:"Marca",class:"full-width"},null,8,["modelValue"])]),A("div",A4e,[v(n,{modelValue:a.campos.modelo,"onUpdate:modelValue":t[5]||(t[5]=u=>a.campos.modelo=u),rotulo:"Modelo",class:"full-width"},null,8,["modelValue"])]),A("div",T4e,[v(n,{modelValue:a.campos.cor,"onUpdate:modelValue":t[6]||(t[6]=u=>a.campos.cor=u),rotulo:"Cor",class:"full-width"},null,8,["modelValue"])]),a.campos.tipo==="Ve\xEDculo"?($(),be(Qe,{key:0},[A("div",O4e,[v(n,{modelValue:a.campos.placa,"onUpdate:modelValue":[t[7]||(t[7]=u=>a.campos.placa=u),t[8]||(t[8]=u=>a.campos.placa=a.campos.placa.toUpperCase())],rotulo:"Placa"},null,8,["modelValue"])]),A("div",D4e,[v(n,{modelValue:a.campos.chassi,"onUpdate:modelValue":t[9]||(t[9]=u=>a.campos.chassi=u),rotulo:"Chassi"},null,8,["modelValue"])]),A("div",P4e,[v(n,{modelValue:a.campos.dataFinalGarantia,"onUpdate:modelValue":t[10]||(t[10]=u=>a.campos.dataFinalGarantia=u),rotulo:"Data final garantia",tipo:"data"},null,8,["modelValue"])])],64)):($(),be(Qe,{key:1},[A("div",M4e,[v(n,{modelValue:a.campos.numeroSerie,"onUpdate:modelValue":t[11]||(t[11]=u=>a.campos.numeroSerie=u),rotulo:"N\xFAmero de s\xE9rie"},null,8,["modelValue"])]),A("div",N4e,[a.campos.tipo==="Ar condicionado"?($(),ue(n,{key:0,modelValue:a.campos.btu,"onUpdate:modelValue":t[12]||(t[12]=u=>a.campos.btu=u),rotulo:"BTU"},null,8,["modelValue"])):ce("",!0)]),A("div",F4e,[v(n,{modelValue:a.campos.dataValidade,"onUpdate:modelValue":t[13]||(t[13]=u=>a.campos.dataValidade=u),rotulo:"Data de validade",tipo:"data"},null,8,["modelValue"])]),A("div",R4e,[v(n,{modelValue:a.campos.dataFinalGarantia,"onUpdate:modelValue":t[14]||(t[14]=u=>a.campos.dataFinalGarantia=u),rotulo:"Data final garantia",tipo:"data"},null,8,["modelValue"])])],64)),A("div",k4e,[v(n,{modelValue:a.campos.observacao,"onUpdate:modelValue":t[15]||(t[15]=u=>a.campos.observacao=u),rotulo:"Observa\xE7\xE3o",tipo:"textoArea"},null,8,["modelValue"])])]),_:1})]),v(l,{class:"items-center justify-around q-my-lg"},{default:w(()=>[a.campos.dataCadastro?($(),be("small",V4e,"Data do cadastro: "+de(e.$filters.dataHora(a.campos.dataCadastro)),1)):ce("",!0)]),_:1})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var B4e=ht(b4e,[["render",q4e]]);const L4e={components:{EquipamentoCard:o5},data(){return{dados:[],visivel:!1,termo:""}},emits:["selecionar"],methods:{atualizar(){let e=this.termo.replace(/\s+/g," ");!e||(e=this.termo.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),this.dados=this.dados.filter(t=>{const o=[];o.push(t.descricao||""),o.push(t.placa||""),o.push(t.marca||""),o.push(t.modelo||""),o.push(t.cor||""),o.push(t.numeroSerie||""),o.push(t.chassi||""),o.push(t.tipo||""),o.push(t.btu||""),o.push(t.observacao||"");const r=o.join(" ").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(const a of e)if(!(r.search(a)>-1))return!1;return!0}))},fechar(){this.visivel=!1,this.dados=[]},async mostrar(e){const{filtro:t={}}=e;this.dados=await $db.equipamento.le(t),this.visivel=!0},selecionar(e){this.$emit("selecionar",e),this.fechar()}}},$4e={class:"layout-padding"},U4e={class:"q-py-xl"};function z4e(e,t,o,r,a,i){const n=ke("EquipamentoCard");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=s=>a.visivel=s),persistent:"",maximized:"",onKeyup:Zi(i.fechar,["esc"])},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=s=>a.termo=s),i.atualizar],modelModifiers:{trim:!0},color:"none",ref:"search",dark:"",dense:"",placeholder:"Buscar",debounce:"600"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),A("div",$4e,[A("div",U4e,[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.dados,s=>($(),ue(We,{key:s.id,clickable:"",style:{cursor:"pointer"},onClick:l=>i.selecionar(s)},{default:w(()=>[v(n,{equipamento:s},null,8,["equipamento"])]),_:2},1032,["onClick"]))),128))]),_:1})])])]),_:1})]),_:1},8,["modelValue","onKeyup"])}var H4e=ht(L4e,[["render",z4e]]);const j4e={components:{PromptEquipamento:H4e},data(){return{descricaoEquipamento:"",campos:{},modal:!1}},emits:["selecionar","update:modelValue"],methods:{abrirPromptEquipamento(){this.$refs.promptEquipamento.mostrar({filtro:this.filtro})},async atualizar(){try{this.campos=await $db.equipamento.le({id:this.modelValue})}catch(e){this.$q.notifyError("Erro ao consultar equipamento",e)}},selecionar(e){try{this.mostraDescricao&&(this.descricaoEquipamento=e.placa||e.descricao||e.marca+" - "+e.modelo||e.tipo||e.id),this.campos=e,this.$emit("update:modelValue",e.id),this.$emit("selecionar",e),this.modal=!1}catch(t){this.$q.notifyError("Erro ao selecionar",t)}}},props:{modelValue:{default:"",type:String},rotulo:{default:"",type:String},filtro:{type:Object},mostraDescricao:{default:!1,type:Boolean},apenasIcone:{default:!1,type:Boolean}},watch:{async modelValue(e){e!==this.campos.id&&this.atualizar()}},created(){this.atualizar()}};function G4e(e,t,o,r,a,i){const n=ke("campo"),s=ke("PromptEquipamento");return $(),be("div",null,[o.apenasIcone?($(),ue(pe,{key:0,color:"primary",flat:"",icon:"search",label:"Equipamento",onClick:i.abrirPromptEquipamento},null,8,["onClick"])):($(),ue(n,{key:1,modelValue:a.descricaoEquipamento,before:[{icon:"search",handler:()=>a.modal=!0}],rotulo:o.rotulo,onClick:t[0]||(t[0]=l=>a.modal=!0),"apenas-leitura":""},null,8,["modelValue","before","rotulo"])),v(s,{ref:"promptEquipamento",onSelecionar:i.selecionar},null,8,["onSelecionar"])])}var W4e=ht(j4e,[["render",G4e]]);const D2={documento:{},documentoItens:[],arquivo:[]},X4e={components:{Arquivo:N0,Avatar:Sc,Badge:vl,CodigoBarras:M0,EquipamentoCard:o5,EquipamentoModal:B4e,PromptItemV2:Kf,SeletorEquipamento:W4e},computed:{new(){for(const e of this.dataTmp.documentoItens)e.descricaoAgrupamento=this.descricaoAgrupamento,e.dataGarantiaFim=this.dataGarantiaFim;return{...this.data,...this.dataTmp,arquivo:this.$refs.arquivo.arquivo.map(e=>({...e,idTabelaMaster:this.dataTmp.documento.id,tabelaMaster:"os"}))}},readonly(){return this.dataTmp.documento.status!=="Or\xE7amento"}},data(){return{contato:{},dataGarantiaFim:"",data:{},dataTmp:{},descricaoAgrupamento:"",descricaoResponsavel:"",equipamento:{},modalItem:{},item:{},hintValorUnitario:{},rules:{},subTotal:{},visible:!1,valoresTabelaPreco:[],warningLabel:{},permissao:{}}},emits:["salvar"],methods:{abrirModalEquipamento(){this.$refs.modalEquipamento.campos={},this.$refs.modalEquipamento.visivel=!0},async abrirModalItem(e){let t={};for(const o of this.dataTmp.documentoItens){if(!o.idItem)continue;this.item||(this.item={}),this.item[o.idItem]||(this.item[o.idItem]=await $erp().item.get(o.idItem));let r=$utils.clonarV2(this.item[o.idItem]);r.novoValorVenda=o.valorReal,t[o.idItem]={item:r,quantidade:o.quantidade}}this.$refs.promptItem.itensSelecionados=t,this.modalItem.filtros={ativo:!0,bloquearVenda:!1,tipo:e,idEmpresa:this.dataTmp.documento.idEmpresa,idTabelaPreco:this.dataTmp.documento.idItemTabelaPreco},this.modalItem.visivel=!0},async abrirModalResponsavel(){if(!this.readonly){const e=await $g.promptContato.show({filtro:{ativo:!0,tecnicos:!0},placeholder:"Selecione o t\xE9cnico respons\xE1vel"});e&&this.selecionarResponsavel(e.id)}},adicionarItem(e){const t=this.dataTmp.documentoItens.find(a=>a.idItem===e.id);let o=1;e.novoValorVenda=e.valorVenda,t&&(e.novoValorVenda=t.valorReal,o=t.quantidade+1);const r={};r[e.id]={item:e,quantidade:o},this.selecionarItens(r)},async prepararItem(e,t={}){if(!!e&&!this.item[e]&&(t.id||(t=await $db.item.le({id:e})),t.id)){const o=$utils.clonarV2(this.item);o[t.id]={marca:t.marca||"",referencia:t.referencia||"",imagem:t.imagem||"",embalagem:t.embalagem||""},this.item=o}},calculaTotal(){const e=$utils.clonarV2(this.dataTmp.documento);let t=0;for(const o of this.dataTmp.documentoItens)t+=o.subTotal;e.subTotal=$utils.arredondar(t),e.totalDocumento=e.subTotal,this.dataTmp.documento=e},async calculaTotalItem(e,t){const o=$utils.clonarV2(this.dataTmp.documentoItens[e]);if(t==="quantidade"&&this.dataTmp.documento.idItemTabelaPreco){const n=await $erp().itemTabelaPreco.get(this.dataTmp.documento.idItemTabelaPreco);if(n){await this.configurarValoresTabelaPreco(n,o);let s=this.valoresTabelaPreco.find(l=>l.id===o.id);s.quantidadeMaiorQue&&(this.hintValorUnitario[o.id]=`>${s.quantidadeMaiorQue-1}un = ${$filters.numeroZerosDireita(s.valorVendaMaiorQue,4,2)}`),s.quantidadeMaiorQue&&o.quantidade>=s.quantidadeMaiorQue?(o.valorOriginal!==s.valorVendaMaiorQue&&(o.valorOriginal=o.valorItem=s.valorVendaMaiorQue,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="Valor Diferenciado"):(o.valorOriginal!==s.valorVenda&&(o.valorOriginal=o.valorItem=s.valorVenda,o.descontoItem=o.descontoPercentualItem=0),this.warningLabel[o.id]="")}}o.valorItem<o.valorOriginal&&(o.valorItem=o.valorOriginal),t==="descontoPercentualItem"&&(o.descontoItem=$utils.arredondar(o.descontoPercentualItem/100*o.valorItem,4)),["descontoItem","valorItem"].includes(t)&&(o.descontoPercentualItem=$utils.arredondar(o.descontoItem/o.valorItem*100)),o.descontoItem>o.valorItem&&(o.descontoPercentualItem=o.descontoItem=0),["subTotal"].includes(t)&&(this.subTotal[o.id]!==void 0?o.descontoItem=$utils.arredondar(o.valorItem-this.subTotal[o.id],4):o.descontoItem=$utils.arredondar(o.valorItem-o.subTotal,4),o.descontoPercentualItem=$utils.arredondar(o.descontoItem/o.valorItem*100),this.subTotal[o.id]>0&&this.subTotal[o.id]>o.valorItem&&(o.valorItem=this.subTotal[o.id]));let r=$utils.arredondar(o.valorItem-o.descontoItem,4);o.descontoItem=$utils.arredondar(o.valorItem-r,4),$utils.arredondar(r)>$utils.arredondar(o.valorItem)&&(r=o.valorItem,o.descontoPercentualItem=o.descontoItem=0);const a=$utils.clonarV2(this.subTotal);a[o.id]=r,this.subTotal=a,o.subTotal=$utils.arredondar(r*o.quantidade),o.total=o.subTotal,o.valorReal=$utils.arredondar(r),o.valorRealTotal=o.total;const i=$utils.clonarV2(this.dataTmp.documentoItens);t==="valorItem"?(i[e]={...o,valorItem:0},this.dataTmp.documentoItens=i,this.$nextTick(()=>{i[e]=o,this.dataTmp.documentoItens=i,this.calculaTotal()})):(i[e]=o,this.dataTmp.documentoItens=i),this.calculaTotal()},async configurarValoresTabelaPreco(e,t){let o=this.valoresTabelaPreco.find(a=>a.id===t.id);if(o)return;let r=await $erp().item.get(t.idItem);o=await $db.itemTabelaPreco.obterValores(e,r,4),this.valoresTabelaPreco.push({id:t.id,...o})},async fechar(e){if(e.stopPropagation(),this.isEqual()){this.visible=!1;return}$q.dialog({message:"Ao continuar voc\xEA ir\xE1 perder todas as modifica\xE7\xF5es.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{this.visible=!1})},isEqual(){const e={...D2,...$utils.clonarV2(this.data)},t=$utils.diferencaObjetos(e,this.new);return!Object.keys(t).length},async mostrar(){this.dataTmp={...D2,...$utils.clonarV2(this.data)},this.warningLabel={},this.valoresTabelaPreco=[],this.descricaoAgrupamento="",this.dataGarantiaFim="",this.descricaoAgrupamento=$lodash.get(this.dataTmp.documentoItens.find(e=>e.id),"descricaoAgrupamento",""),this.dataGarantiaFim=$lodash.get(this.dataTmp.documentoItens.find(e=>e.dataGarantiaFim),"dataGarantiaFim","");for(const e of this.dataTmp.documentoItens){this.prepararItem(e.idItem);const t=$utils.clonarV2(this.subTotal);t[e.id]=e.valorItem-e.descontoItem,this.subTotal=t}this.contato={codigo:"",descricao:"",imagem:""},await $db.contato.le({id:this.dataTmp.documento.idContato}).then(e=>{this.contato.codigo=e.codigoContato||e.id.slice(-6)||"",this.contato.descricao=e.nome||e.apelido||"",this.contato.imagem=e.imagem||""}),this.descricaoResponsavel="",this.dataTmp.documento.idContatoResponsavel&&this.selecionarResponsavel(this.dataTmp.documento.idContatoResponsavel),this.equipamento=await $db.equipamento.le({id:this.dataTmp.documento.idEquipamento}),this.visible=!0,await this.$nextTick()},async removerItem(e){const t=(this.dataTmp.documentoItens[e]||{}).id;this.dataTmp.documentoItens=this.dataTmp.documentoItens.filter(o=>o.id!==t),this.calculaTotal()},async salvar(){const e=new Date(new Date().toDateString());this.rules={descricao:[o=>!!o||"Preenchimento obrigat\xF3rio"],dataHoraPrevisto:[o=>!!o||"Preenchimento obrigat\xF3rio",()=>new Date(this.dataTmp.documento.dataHoraPrevisto)>=e?!0:"Previs\xE3o de entrega deve ser maior ou igual \xE0 data de hoje"],dataGarantiaFim:[()=>!(this.dataGarantiaFim||"").trim()||new Date(this.dataGarantiaFim)>=e?!0:"Data garantia deve ser maior ou igual \xE0 data de hoje"]},await this.$nextTick();let t=!1;if(this.$refs.form.getValidationComponents().forEach(o=>{!o.validate()&&!t&&(t=!0)}),t){this.$q.notifyError("Corrija os campos em destaque");return}if(!this.dataTmp.documentoItens.length){this.$q.notifyError("N\xE3o h\xE1 itens no carrinho");return}this.$emit("salvar",{dados:this.new}),this.visible=!1},async selecionarItens(e){for(const t in e){const o=e[t].item||{},r=e[t].quantidade||0;let a=this.dataTmp.documentoItens.findIndex(i=>i.idItem===t);await this.selecionarItem(t,o,r),a===-1&&(a=this.dataTmp.documentoItens.findIndex(i=>i.idItem===t),a!==-1&&this.calculaTotalItem(a,"quantidade"))}},async selecionarItem(e,t,o){let r=this.dataTmp.documentoItens.findIndex(u=>u.idItem===e);if(r!==-1){t.novoValorVenda!==this.dataTmp.documentoItens[r].valorOriginal&&(t.novoValorVenda<=this.dataTmp.documentoItens[r].valorOriginal?(this.dataTmp.documentoItens[r].valorItem=this.dataTmp.documentoItens[r].valorOriginal,this.dataTmp.documentoItens[r].descontoItem=$utils.arredondar(this.dataTmp.documentoItens[r].valorOriginal-t.novoValorVenda)):(this.dataTmp.documentoItens[r].valorItem=t.novoValorVenda,this.dataTmp.documentoItens[r].descontoItem=0),this.calculaTotalItem(r,"descontoItem")),this.dataTmp.documentoItens[r].quantidade!==o&&(this.dataTmp.documentoItens[r].quantidade=o||1,this.calculaTotalItem(r,"quantidade"));return}const a=await $utils.selecionarCfop({ncm:t.ncm,idItem:t.id,itemTipo:t.tipo,codigoDocumentoOperacao:this.dataTmp.documento.codigoDocumentoOperacao,idContatoDestinatario:this.dataTmp.documento.idContato,idContatoEmitente:this.dataTmp.documento.idEmpresa,operacaoFator:-1});if(!a){this.$q.notify("N\xE3o foi poss\xEDvel localizar o CFOP.");return}const i=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:t.id,idEmpresa:$lodash.get(this.dataTmp,"documento.idEmpresa",""),tipoEstoque:"Dispon\xEDvel"})).find(u=>u.idItem),n=$utils.uuid(),s=$utils.clonarV2(this.subTotal);s[n]=t.valorVenda,this.subTotal=s,this.prepararItem(e,t);const l={id:n,idItem:t.id,idDocumento:this.dataTmp.documento.documentoId,idDocumentoAdicional:this.dataTmp.documento.id,codigoPlanoContaDestino:139,codigoPlanoContaEstoque:146,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descricaoItem:t.descricaoConcatenada,operacao:t.tipo==="Servi\xE7o"?"Ordem de Servi\xE7o":a==null?void 0:a.operacao,operacaoFator:t.tipo==="Servi\xE7o"?"":a==null?void 0:a.fator,idCfop:a==null?void 0:a.id,quantidade:o||1,status:this.dataTmp.documento.status,subTotal:t.valorVenda,tipoItem:t.tipo,total:t.valorVenda,valorCusto:0,valorCustoMedio:$lodash.get(i,"valorCustoMedio",0),valorCustoReposicao:t.valorCustoReposicao||0,valorCustoUltimo:$lodash.get(i,"valorCusto",0),valorItem:t.valorVenda,valorItemUltimo:0,valorOriginal:t.valorVenda,valorReal:t.valorVenda,valorRealTotal:t.valorVenda};this.dataTmp.documentoItens.push(l),r=this.dataTmp.documentoItens.findIndex(u=>u.idItem===e),r!==-1&&t.novoValorVenda!==this.dataTmp.documentoItens[r].valorOriginal&&(t.novoValorVenda<=this.dataTmp.documentoItens[r].valorOriginal?(this.dataTmp.documentoItens[r].valorItem=this.dataTmp.documentoItens[r].valorOriginal,this.dataTmp.documentoItens[r].descontoItem=$utils.arredondar(this.dataTmp.documentoItens[r].valorOriginal-t.novoValorVenda)):(this.dataTmp.documentoItens[r].valorItem=t.novoValorVenda,this.dataTmp.documentoItens[r].descontoItem=0),this.calculaTotalItem(r,"descontoItem")),o||this.calculaTotal()},limparResponsavel(){this.dataTmp.documento.idContatoResponsavel="",this.descricaoResponsavel=""},async selecionarResponsavel(e){this.dataTmp.documento.idContatoResponsavel=e||"",this.descricaoResponsavel=(await $db.contato.le({id:e})).apelido||""}},created(){this.permissao={equipamento:!1},$db.permissao.objeto("atendimento//equipamento").then(e=>{this.permissao.equipamento=e}),this.dataTmp={...D2},this.modalItem={filtros:{},visivel:!1}}},Y4e={class:"layout-padding q-pa-none q-pb-md"},K4e={class:"u-container"},Q4e={class:"col q-ma-sm q-title"},J4e={class:"col-12 col-sm-6"},Z4e={class:"col-12 col-sm-6"},e9e={class:"col-12 col-md-3"},t9e={class:"col-12 col-md-3"},o9e={class:"col-12 col-md-3"},a9e={key:0,class:"bg-white q-mt-md"},r9e={class:"q-pa-md"},i9e={class:"bg-white q-mt-md"},n9e={class:"q-pa-md"},s9e={class:"bg-white q-mt-md"},l9e={class:"q-pa-md"},c9e={key:0,class:"q-pa-lg text-center"},u9e=A("p",null,"N\xE3o h\xE1 itens no carrinho",-1),d9e=A("p",{class:"text-caption"},"Para adicionar, utilize os bot\xF5es acima ou insira o c\xF3digo de barras",-1),f9e=[u9e,d9e],m9e={class:"col-12 q-mb-lg"},p9e=["warning","warning-label"],h9e={class:"col-4 col-md"},v9e={class:"col-4 col-md"},g9e={class:"col-6 col-md"},_9e={class:"col-6 col-md"},b9e={class:"col-12 col-md"},y9e={class:"u-container"},C9e={class:"q-ml-sm"};function x9e(e,t,o,r,a,i){const n=ke("avatar"),s=ke("badge"),l=ke("campo"),u=ke("row"),c=ke("EquipamentoModal"),d=ke("SeletorEquipamento"),m=ke("EquipamentoCard"),f=ke("Arquivo"),p=ke("CodigoBarras"),g=ke("PromptItemV2");return $(),be(Qe,null,[v(Qt,{modelValue:a.visible,"onUpdate:modelValue":t[13]||(t[13]=b=>a.visible=b),persistent:"",maximized:"",onKeyup:Zi(i.fechar,["esc"])},{default:w(()=>[v(Jo,{container:"",class:"bg-light"},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[v(pe,{icon:"arrow_back",flat:"",round:"",dense:"",onClick:i.fechar},null,8,["onClick"]),v(nt,null,{default:w(()=>[te("Ordem de Servi\xE7o")]),_:1}),v(pe,{class:"q-ml-sm no-shadow",color:"white","text-color":"primary",label:"Salvar",onClick:i.salvar,unelevated:""},null,8,["onClick"])]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",Y4e,[A("div",K4e,[v(Bt,{class:"q-pa-md q-pa-md q-mt-md bg-white no-shadow"},{default:w(()=>[v(at,{class:"q-pb-md text-tertiary"},{default:w(()=>[v(n,{imagem:a.contato.imagem,rotulo:a.contato.descricao,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"]),v(nt,{class:"q-px-none"},{default:w(()=>[A("div",Q4e,de(a.contato.descricao),1)]),_:1}),v(s,null,{default:w(()=>[te("#"+de(a.contato.codigo),1)]),_:1})]),_:1}),v(ku,{ref:"form"},{default:w(()=>[v(u,{class:"q-col-gutter-md"},{default:w(()=>[A("div",J4e,[v(l,{modelValue:a.dataTmp.documento.descricao,"onUpdate:modelValue":t[0]||(t[0]=b=>a.dataTmp.documento.descricao=b),modelModifiers:{trim:!0},rotuloFixo:"Problema",tipo:"textoArea","somente-leitura":i.readonly,rules:a.rules.descricao},null,8,["modelValue","somente-leitura","rules"])]),A("div",Z4e,[v(l,{modelValue:a.dataTmp.documento.observacao,"onUpdate:modelValue":t[1]||(t[1]=b=>a.dataTmp.documento.observacao=b),modelModifiers:{trim:!0},rotuloFixo:"Solu\xE7\xE3o",tipo:"textoArea","somente-leitura":i.readonly},null,8,["modelValue","somente-leitura"])]),v(Kn,{dense:"",rounded:"",modelValue:a.descricaoResponsavel,"onUpdate:modelValue":t[2]||(t[2]=b=>a.descricaoResponsavel=b),label:"T\xE9cnico",options:["a","b"],onFilter:i.abrirModalResponsavel,class:"col-12 col-md-3"},{append:w(()=>[a.descricaoResponsavel?($(),ue(Ve,{key:0,name:"close",onClick:st(i.limparResponsavel,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):ce("",!0),v(Ve,{name:"search",onClick:st(i.abrirModalResponsavel,["stop"]),class:"cursor-pointer"},null,8,["onClick"])]),_:1},8,["modelValue","onFilter"]),A("div",e9e,[v(l,{modelValue:a.dataTmp.documento.dataHoraPrevisto,"onUpdate:modelValue":t[3]||(t[3]=b=>a.dataTmp.documento.dataHoraPrevisto=b),maxlength:"10",rotulo:"Previs\xE3o de Entrega",tipo:"data",somenteLeitura:i.readonly,rules:a.rules.dataHoraPrevisto},null,8,["modelValue","somenteLeitura","rules"])]),A("div",t9e,[v(l,{modelValue:a.dataGarantiaFim,"onUpdate:modelValue":t[4]||(t[4]=b=>a.dataGarantiaFim=b),maxlength:"10",rotulo:"Garantia do(s) Servi\xE7o(s)",tipo:"data",somenteLeitura:i.readonly,rules:a.rules.dataGarantiaFim},null,8,["modelValue","somenteLeitura","rules"])]),A("div",o9e,[v(l,{modelValue:a.descricaoAgrupamento,"onUpdate:modelValue":t[5]||(t[5]=b=>a.descricaoAgrupamento=b),modelModifiers:{trim:!0},rotuloFixo:"Descri\xE7\xE3o Agrupamento",autogrow:"",somenteLeitura:i.readonly},null,8,["modelValue","somenteLeitura"])])]),_:1})]),_:1},512)]),_:1}),a.permissao.equipamento?($(),be("div",a9e,[v(at,null,{default:w(()=>[v(Ve,{name:"mdi-car",size:"24px",class:"text-tertiary"}),v(nt,{class:"text-tertiary"},{default:w(()=>[te("Equipamento")]),_:1}),i.readonly?ce("",!0):($(),ue(pe,{key:0,color:"primary",flat:"",icon:"add",label:"Equipamento",onClick:i.abrirModalEquipamento},null,8,["onClick"]))]),_:1}),A("div",r9e,[v(c,{ref:"modalEquipamento",onAtualizar:t[6]||(t[6]=b=>{a.equipamento=b,a.dataTmp.documento.idEquipamento=b.id})},null,512),v(d,{modelValue:a.dataTmp.documento.idEquipamento,"onUpdate:modelValue":t[7]||(t[7]=b=>a.dataTmp.documento.idEquipamento=b),apenasIcone:"",class:"col-auto",filtro:{idContato:a.dataTmp.documento.idContato},onSelecionar:t[8]||(t[8]=b=>a.equipamento=b)},null,8,["modelValue","filtro"]),v(m,{equipamento:a.equipamento},null,8,["equipamento"])])])):ce("",!0),A("div",i9e,[v(at,{class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"image",size:"24px"}),v(nt,null,{default:w(()=>[te("Imagens")]),_:1})]),_:1}),A("div",n9e,[v(f,{ref:"arquivo",enableChanges:!i.readonly,arquivo:a.data.arquivo,idTabelaMaster:a.data.id},null,8,["enableChanges","arquivo","idTabelaMaster"])])]),A("div",s9e,[v(at,null,{default:w(()=>[v(Ve,{name:"shopping_cart",size:"24px",class:"text-tertiary"}),v(nt,{class:"text-tertiary"},{default:w(()=>[te("Carrinho")]),_:1}),v(pe,{class:"hideondesktop",color:"primary",flat:"",round:"",icon:"add",size:"md"},{default:w(()=>[v(Xa,null,{default:w(()=>[Te(($(),ue(wt,{link:"","no-border":"",separator:""},{default:w(()=>[v(We,{clickable:"",onClick:t[9]||(t[9]=b=>i.abrirModalItem("Produto"))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Produto")]),_:1})]),_:1})]),_:1}),v(We,{clickable:"",onClick:t[10]||(t[10]=b=>i.abrirModalItem("Servi\xE7o"))},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Servi\xE7o")]),_:1})]),_:1})]),_:1})]),_:1})),[[lt]])]),_:1})]),_:1}),i.readonly?ce("",!0):($(),ue(pe,{key:0,color:"primary",flat:"",icon:"add",label:"Produto",class:"hideonmobile q-px-sm q-ml-sm",onClick:t[11]||(t[11]=b=>i.abrirModalItem("Produto"))})),i.readonly?ce("",!0):($(),ue(pe,{key:1,color:"primary",flat:"",icon:"add",label:"Servi\xE7o",class:"hideonmobile q-px-sm q-ml-sm",onClick:t[12]||(t[12]=b=>i.abrirModalItem("Servi\xE7o"))})),i.readonly?ce("",!0):($(),ue(p,{key:2,itemFiltros:{ativo:!0,bloquearVenda:!1,idEmpresa:a.dataTmp.documento.idEmpresa,idItemTabelaPreco:a.dataTmp.documento.idItemTabelaPreco},documentoItens:a.dataTmp.documentoItens,onAdicionar:i.adicionarItem,onAtualizar:i.selecionarItens},null,8,["itemFiltros","documentoItens","onAdicionar","onAtualizar"]))]),_:1}),A("div",l9e,[a.dataTmp.documentoItens.length?($(!0),be(Qe,{key:1},zt(a.dataTmp.documentoItens,(b,x)=>($(),ue(u,{key:x,class:"items-carrinho items-center q-px-sm q-pt-sm"},{default:w(()=>[v(wt,{class:"full-width"},{default:w(()=>[v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"col-auto"},{default:w(()=>[v(n,{imagem:a.item[b.idItem].imagem,rotulo:b.descricaoItem,tamanho:"40"},null,8,["imagem","rotulo"])]),_:2},1024),v(Ie,{class:"q-px-none"},{default:w(()=>[v(Be,null,{default:w(()=>[te(de(b.descricaoItem),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[te(de(a.item[b.idItem].marca),1)]),_:2},1024)]),_:2},1024),v(Ie,{avatar:""},{default:w(()=>[v(s,{denso:""},{default:w(()=>[te(de(b.tipoItem)+" "+de(a.item[b.idItem].referencia),1)]),_:2},1024)]),_:2},1024),v(Ie,{avatar:""},{default:w(()=>[v(pe,{color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:_=>i.removerItem(x)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Remover Item")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),A("div",m9e,[v(u,{class:"q-col-gutter-x-sm"},{default:w(()=>[A("div",{class:"col-4 col-md",warning:!!a.warningLabel[b.id],"warning-label":a.warningLabel[b.id]},[v(l,{"class-campo":"u-campoCompacto",align:"left",tipo:"decimal",decimals:"4",zerosDireita:"2",outlined:"",rotulo:"Valor do produto","somente-leitura":i.readonly,modelValue:b.valorItem,"onUpdate:modelValue":_=>b.valorItem=_,onBlur:_=>i.calculaTotalItem(x,"valorItem"),aviso:"",avisoRotulo:a.hintValorUnitario[b.id]},null,8,["somente-leitura","modelValue","onUpdate:modelValue","onBlur","avisoRotulo"])],8,p9e),A("div",h9e,[v(u,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-minus",color:"primary"}),v(l,{"class-campo":"u-campoCompacto ",opcoes:{maximumValue:100},tipo:"decimal",outlined:"",rotulo:"Desconto percentual",decimals:"2",suffix:"%",modelValue:b.descontoPercentualItem,"onUpdate:modelValue":_=>b.descontoPercentualItem=_,"somente-leitura":i.readonly,onBlur:_=>i.calculaTotalItem(x,"descontoPercentualItem")},null,8,["modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),_:2},1024)]),A("div",v9e,[v(l,{"class-campo":"u-campoCompacto",opcoes:{maximumValue:b.valorItem,minimumValue:0},rotulo:"Desconto em reais",tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:b.descontoItem,"onUpdate:modelValue":_=>b.descontoItem=_,"somente-leitura":i.readonly,outlined:"",onBlur:_=>i.calculaTotalItem(x,"descontoItem")},null,8,["opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),A("div",g9e,[v(u,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(l,{"class-campo":"u-campoCompacto text-weight-bold",rotulo:"Subtotal",align:e.$q.screen.lt.sm?"left":"right",opcoes:{maximumValue:b.valorItem,minimumValue:0},tipo:"decimal",outlined:"",decimals:"4",zerosDireita:"2",modelValue:a.subTotal[b.id],"onUpdate:modelValue":_=>a.subTotal[b.id]=_,"somente-leitura":i.readonly,onBlur:_=>i.calculaTotalItem(x,"subTotal")},null,8,["align","opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),_:2},1024)]),A("div",_9e,[v(u,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-close",color:"primary"}),v(l,{"class-campo":"u-campoCompacto",min:"0",modelValue:b.quantidade,"onUpdate:modelValue":[_=>b.quantidade=_,_=>i.calculaTotalItem(x,"quantidade")],outlined:"","somente-leitura":i.readonly,tipo:"quantidade",decimals:"4",zerosDireita:"0",aviso:"",avisoRotulo:a.item[b.idItem].embalagem},null,8,["modelValue","onUpdate:modelValue","somente-leitura","avisoRotulo"])]),_:2},1024)]),A("div",b9e,[v(u,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(l,{"class-campo":"u-campoCompacto text-weight-bold","somente-leitura":"",tipo:"decimal",outlined:"",rotulo:"Total",decimals:"2",modelValue:b.total,"onUpdate:modelValue":_=>b.total=_},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),_:2},1024)])]),_:2},1024))),128)):($(),be("div",c9e,f9e))])])])])]),_:1}),v(dl,{class:"bg-light"},{default:w(()=>[A("div",y9e,[v(at,{class:"text-tertiary bg-light"},{default:w(()=>[v(nt),te(" Total "),A("strong",C9e,de(e.$filters.numero(a.dataTmp.documento.totalDocumento,2)),1)]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),v(g,{modelValue:a.modalItem.visivel,"onUpdate:modelValue":t[14]||(t[14]=b=>a.modalItem.visivel=b),filtro:a.modalItem.filtros,onSelecionarItens:i.selecionarItens,habilitarQuantidade:!0,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"])],64)}var w9e=ht(X4e,[["render",x9e]]);const I9e={computed:{documentosEncontrados(){return this.documentos.length}},data(){return{carregando:!1,cfop:{},documentos:[],filtro:{},placeholder:"Buscar",termo:"",visivel:!1}},emits:["selecionar"],methods:{async filtrar(){let e;try{this.carregando=!0,e=setTimeout(()=>{$q.loading.show({message:"Carregando informa\xE7\xF5es...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})},500);let t=await $db.documentoOperacao.ler();t=t.filter(o=>{let r=[99,100];return this.classificacaoDestinatario!==1&&(r=[100]),~r.indexOf(o.finalidade)?o.ativo:!1});for(const o of t)if(o.codigoCfop&&!this.cfop[o.codigoCfop]){let r,a;r=await $erp().cfop.where({codigoCfop:o.codigoCfop}).toArray(),a=r.find(i=>i.codigoCfop)||{},a.codigoCfop&&(this.cfop[a.codigoCfop]={cfop:a.cfop,operacao:(a.operacao||"").trim()})}if(this.termo){let o=new Set(this.termo.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "));o=Array.from(o),o.sort((r,a)=>r<a?1:-1),t=t.filter(r=>{let a=(r.descricao||"")+" "+((this.cfop[r.codigoCfop]||{}).operacao||"")+" "+(r.codigoCfop||"");a=a.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(const i of o)if(a.indexOf(i)===-1)return!1;return!0})}t.sort((o,r)=>o.descricao>r.descricao?1:-1),this.documentos=t.slice(0,30)}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},descricaoFinalidade(e){return e===99?"Revenda":e===100?"Consumo":""},fechar(){this.limpar(),this.selecionar()},limpar(){this.carregando=!1,this.documentos=[],this.filtro={},this.placeholder="Buscar",this.termo=""},mostrar(e={}){this.classificacaoDestinatario=e.classificacaoDestinatario,this.filtrar(),this.visivel=!0},onShow(){this.$refs.search.focus()},selecionar(e={}){this.$emit("selecionar",$lodash.cloneDeep(e)),this.visivel=!1}}},E9e={class:"layout-padding",container:""},S9e={key:0},A9e=A("strong",null,"CFOP: ",-1),T9e={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"};function O9e(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=n=>a.visivel=n),persistent:"",maximized:"",onKeyup:Zi(i.fechar,["esc"]),onShow:i.onShow},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:i.fechar},null,8,["onClick"]),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=n=>a.termo=n),i.filtrar],color:"none",ref:"search",dark:"",placeholder:a.placeholder,debounce:"1000"},null,8,["modelValue","placeholder","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",E9e,[i.documentosEncontrados?($(),be("div",S9e,[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.documentos,n=>($(),be("div",{key:n.id,style:{cursor:"pointer"}},[v(We,{clickable:"",onClick:s=>i.selecionar(n)},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(de(n.descricao)+" ",1),i.descricaoFinalidade(n.finalidade)?($(),ue(Bn,{key:0,color:"tertiary",small:""},{default:w(()=>[te(de(i.descricaoFinalidade(n.finalidade)),1)]),_:2},1024)):ce("",!0)]),_:2},1024)]),_:2},1024),a.cfop[n.codigoCfop]&&!n.json?($(),ue(Ie,{key:0,caption:""},{default:w(()=>[A9e,te(de(a.cfop[n.codigoCfop].cfop)+" - "+de(a.cfop[n.codigoCfop].operacao),1)]),_:2},1024)):ce("",!0)]),_:2},1032,["onClick"]),v(Ho)]))),128))]),_:1})])):ce("",!0),!a.carregando&&!i.documentosEncontrados?($(),be("div",T9e," Nenhum resultado encontrado ")):ce("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup","onShow"])}var D9e=ht(I9e,[["render",O9e]]);const P9e={components:{},computed:{itensEncontrados(){return this.itens.length}},data(){return{carregando:!1,contato:{},itens:[],item:{},filtro:{},placeholder:"Buscar",termo:"",visivel:!1}},emits:["selecionar"],methods:{async filtrar(){let e;try{this.carregando=!0,e=setTimeout(()=>{$q.loading.show({message:"Carregando informa\xE7\xF5es...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})},500);let t;t=await $erp().itemTabelaPreco.filter(o=>o.tabelaMaster===1&&(!o.idEmpresa||o.idEmpresa===this.filtro.idContatoEmpresa)).toArray();for(const o of t){if(!o.idEmpresa||this.contato[o.idEmpresa])continue;const r=await $db.contato.le({id:o.idEmpresa});r.id&&(this.contato[r.id]=r)}if(this.termo){let o=new Set(this.termo.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "));o=Array.from(o),o.sort((r,a)=>r<a?1:-1),t=t.filter(r=>{let a=(r.descricao||"")+" "+((this.contato[r.idEmpresa]||{}).nome||"");a=a.toLowerCase().replace(/\s+/g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(const i of o)if(a.indexOf(i)===-1)return!1;return!0})}t.sort((o,r)=>o.descricao>r.descricao?1:-1),this.itens=t.slice(0,30)}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},limpar(){this.carregando=!1,this.itens=[],this.item={},this.filtro={},this.placeholder="Buscar",this.termo=""},mostrar(){this.filtrar(),this.visivel=!0},onHide(){this.$emit("selecionar",JSON.parse(JSON.stringify(this.item))),this.limpar()},selecionar(e={}){this.item=e,this.visivel=!1}},updated(){this.$nextTick(function(){this.$refs.search&&this.$refs.search.focus()})}},M9e={class:"layout-padding",container:""},N9e={key:0},F9e=A("strong",null,"Empresa: ",-1),R9e={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"};function k9e(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=n=>a.visivel=n),maximized:"",onHide:t[2]||(t[2]=n=>i.onHide())},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=n=>a.termo=n),i.filtrar],color:"none",ref:"search",dark:"",placeholder:a.placeholder,debounce:"1000"},null,8,["modelValue","placeholder","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",M9e,[i.itensEncontrados?($(),be("div",N9e,[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.itens,n=>($(),be("div",{key:n.id,style:{cursor:"pointer"}},[v(We,{clickable:"",onClick:s=>i.selecionar(n)},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(de(n.descricao),1)]),_:2},1024)]),_:2},1024),a.contato[n.idEmpresa]?($(),ue(Ie,{key:0,caption:""},{default:w(()=>[F9e,te(de(a.contato[n.idEmpresa].nome),1)]),_:2},1024)):ce("",!0)]),_:2},1032,["onClick"]),v(Ho)]))),128))]),_:1})])):ce("",!0),!a.carregando&&!i.itensEncontrados?($(),be("div",R9e," Nenhum resultado encontrado ")):ce("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var V9e=ht(P9e,[["render",k9e]]);const q9e={data(){return{contatoTransportadora:{},dataPrevistaEntrega:null,horaPrevistaEntrega:null,enderecoClienteOpts:[],idContatoEnderecoCliente:"",obsEntrega:"",promptContato:{visivel:!1,filtro:{}},transporte:"",transporteOpts:[]}},methods:{async selecionarContatoTransportadora(){const e=await $g.promptContato.show({filtro:{ativo:!0,transportadoras:!0},placeholder:"Selecione a transportadora"});e&&(this.contatoTransportadora=e)},async obterEnderecoClienteOpts(){const e=await $erp().contatoEndereco.where({idContato:this.idContatoCliente}).toArray();this.enderecoClienteOpts=e.map(t=>{let o="";return o+=t.logradouro||"",t.numero&&(o+=o?", ":"",o+=t.numero),t.complemento&&(o+=o?" ":"",o+=t.complemento),t.bairro&&(o+=o?" - ":"",o+=t.bairro),t.cep&&(o+=o?" - ":"",o+=t.cep),t.municipio&&(o+=o?" - ":"",o+=t.municipio),t.uf&&(o+=o?"/":"",o+=t.uf),{rotulo:o,valor:t.id}})},obterTransporteOpts(){this.transporteOpts=[{rotulo:"Transportadora",valor:1},{rotulo:"Entrega Pr\xF3pria",valor:2},{rotulo:"Entrega na Viagem",valor:3},{rotulo:"Retirar",valor:4}]},limparTransporte(){this.transporte=0,this.transporteOpts=[{rotulo:"Selecionar",valor:0}]},limparEnderecoCliente(){this.enderecoClienteOpts=[{rotulo:"Selecionar",valor:0}],this.idContatoEnderecoCliente=0},get(){let e="",t=null;if(this.idContatoEnderecoCliente&&(e=(this.enderecoClienteOpts.find(r=>r.valor===this.idContatoEnderecoCliente)||{}).rotulo||""),this.dataPrevistaEntrega){const o=`${this.dataPrevistaEntrega} ${this.horaPrevistaEntrega||"00:00:00"}`;t=Ba.formatDate(o)}return{tipoTransporte:this.transporte||"",dataHoraPrevisto:t||"",descricaoContatoEnderecoEntrega:e,idContatoTransportadora:this.contatoTransportadora.id||"",observacaoEntrega:this.obsEntrega}},async set(e){if(e.dataHoraPrevisto&&(this.dataPrevistaEntrega=e.dataHoraPrevisto.slice(0,10),this.horaPrevistaEntrega=e.dataHoraPrevisto.slice(11,16)),e.idContatoTransportadora){const t=await $db.contato.le({id:e.idContatoTransportadora});t.id&&(this.contatoTransportadora=t)}this.obsEntrega=e.observacaoEntrega||"",e.tipoTransporte&&(this.obterTransporteOpts(),this.transporteOpts.find(t=>t.valor===e.tipoTransporte)?this.transporte=e.tipoTransporte:this.limparTransporte()),e.descricaoContatoEnderecoEntrega&&this.obterEnderecoClienteOpts().then(()=>{const t=this.enderecoClienteOpts.find(o=>o.rotulo===e.descricaoContatoEnderecoEntrega)||{};this.idContatoEnderecoCliente=t.valor||0,this.idContatoEnderecoCliente||(this.enderecoClienteOpts=[{rotulo:e.descricaoContatoEnderecoEntrega||"Selecionar",valor:0}])})}},props:{idContatoCliente:{required:!0,type:String}},watch:{transporte(e,t){t&&!e&&this.limparTransporte()},idContatoEnderecoCliente(e,t){t&&!e&&this.limparEnderecoCliente()}},created(){this.limparTransporte(),this.limparEnderecoCliente()}},B9e={class:"q-pa-md q-pt-none"},L9e={class:"col-xs-12 col-sm-4"},$9e={class:"col-6 bg-transparent"},U9e={class:"col-6 bg-transparent"};function z9e(e,t,o,r,a,i){const n=ke("campo"),s=ke("row");return $(),be(Qe,null,[v(at,{class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"airplanemode_active",size:"24px"}),v(nt,null,{default:w(()=>[te("Transporte")]),_:1})]),_:1}),A("div",B9e,[v(s,{class:"q-col-gutter-x-md"},{default:w(()=>[v(n,{modelValue:a.transporte,"onUpdate:modelValue":t[0]||(t[0]=l=>a.transporte=l),after:[{icon:"cancel",handler(){a.transporte=""}}],opcoes:a.transporteOpts,rotulo:"Transporte",class:"col-xs-12 col-sm-4","class-campo":"q-mb-sm",onClick:i.obterTransporteOpts,tipo:"seletor"},null,8,["modelValue","after","opcoes","onClick"]),v(Kn,{dense:"",rounded:"",modelValue:a.contatoTransportadora.nome,"onUpdate:modelValue":t[2]||(t[2]=l=>a.contatoTransportadora.nome=l),label:"Transportadora",options:["a","b"],onFilter:i.selecionarContatoTransportadora,class:"col-12 col-sm-4"},{append:w(()=>[a.contatoTransportadora.nome?($(),ue(Ve,{key:0,name:"close",onClick:t[1]||(t[1]=st(l=>a.contatoTransportadora={},["stop"])),class:"cursor-pointer"})):ce("",!0),v(Ve,{name:"search",onClick:st(i.selecionarContatoTransportadora,["stop"]),class:"cursor-pointer"},null,8,["onClick"])]),_:1},8,["modelValue","onFilter"]),A("div",L9e,[v(s,null,{default:w(()=>[A("div",$9e,[v(Ca,{modelValue:a.dataPrevistaEntrega,"onUpdate:modelValue":t[3]||(t[3]=l=>a.dataPrevistaEntrega=l),type:"date",clearable:"",dense:"","stack-label":"",label:"Data Prevista Entrega"},null,8,["modelValue"])]),A("div",U9e,[v(Ca,{modelValue:a.horaPrevistaEntrega,"onUpdate:modelValue":t[4]||(t[4]=l=>a.horaPrevistaEntrega=l),type:"time",clearable:"",dense:"","stack-label":"",label:"Hora Prevista Entrega"},null,8,["modelValue"])])]),_:1})]),v(n,{modelValue:a.idContatoEnderecoCliente,"onUpdate:modelValue":t[5]||(t[5]=l=>a.idContatoEnderecoCliente=l),"class-campo":"q-my-sm",after:[{icon:"cancel",handler(){a.idContatoEnderecoCliente=""}}],filter:"",opcoes:a.enderecoClienteOpts,class:"col-xs-12",rotulo:"Endere\xE7o",onClick:i.obterEnderecoClienteOpts,tipo:"seletor"},null,8,["modelValue","after","opcoes","onClick"]),v(n,{modelValue:a.obsEntrega,"onUpdate:modelValue":t[6]||(t[6]=l=>a.obsEntrega=l),tipo:"textoArea",class:"col-xs-12","class-campo":"q-mt-sm",rotulo:"Obs. de Entrega"},null,8,["modelValue"])]),_:1})])],64)}var H9e=ht(q9e,[["render",z9e]]);const j9e={computed:{totalTitulosVencidosCorrigidos(){return this.model.titulosPendentesAtraso.reduce((e,t)=>e+t.valorARealizar,0)},totalTitulosVencidos(){return this.model.titulosPendentesAtraso.reduce((e,t)=>e+t.valor,0)}},data(){return{visivel:!1,mostrarBotaoAprovar:!1}},props:{model:{type:Object,required:!0}},watch:{model(){$db.permissao.objeto("Diretiva_Vendas_Inadimplencia").then(e=>{this.mostrarBotaoAprovar=e,this.visivel=!0})}}},G9e={class:"layout-padding"},W9e={class:"q-pa-sm"},X9e=A("br",null,null,-1),Y9e={class:"q-mt-lg text-right"};function K9e(e,t,o,r,a,i){return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[2]||(t[2]=n=>a.visivel=n),minimized:"",onHide:t[3]||(t[3]=n=>o.model.acao("cancelar"))},{default:w(()=>[v(Bt,{class:"q-dialog-plugin"},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("T\xEDtulo(s) pendente(s) em atraso!")]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",G9e,[A("form",W9e,[v(wt,{"no-border":"",dense:""},{default:w(()=>[v(We,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(" Total de t\xEDtulos vencidos: "+de(Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.totalTitulosVencidos))+" ",1),X9e,te(" Total corrigido: "+de(Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.totalTitulosVencidosCorrigidos)),1)]),_:1})]),_:1})]),_:1}),A("div",Y9e,[Te(v(pe,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[lt]]),Te(v(pe,{color:"primary",class:"q-ml-sm no-shadow",label:"Continuar",unelevated:"",onClick:t[0]||(t[0]=n=>o.model.acao("continuar"))},null,512),[[lt]]),a.mostrarBotaoAprovar?Te(($(),ue(pe,{key:0,color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Aprovar",onClick:t[1]||(t[1]=n=>o.model.acao("aprovar"))},null,512)),[[lt]]):ce("",!0)])])])]),_:1})]),_:1},8,["modelValue"])}var Q9e=ht(j9e,[["render",K9e]]);async function J9e(e){var s;const{idDocumento:t}=e!=null?e:{},o=await $db.documentoSat.ler({idDocumento:t}),r=o.filter(l=>l.cancelamento).map(l=>l.chaveCupomCancelado),i=o.filter(l=>!r.includes(l.chaveCupom)).filter(l=>!l.cancelamento),n=(s=await $db.documentoFiscalEletronico.ler({idDocumento:t}))==null?void 0:s[0];if(i.length||~["Emitido","Carta de Corre\xE7\xE3o"].indexOf(n==null?void 0:n.situacao))throw new Error("Documento fiscal emitido. Opera\xE7\xE3o n\xE3o permitida.")}const Z9e={components:{PromptItemV2:Kf},computed:{destino(){return this.model.documentosItem.find(e=>e.operacaoFator===this.model.operacaoFatorDestino&&e.operacao!=="Manipula\xE7\xE3o")},temDestino(){return this.model.documentosItem.some(e=>e.operacaoFator===this.model.operacaoFatorDestino&&e.operacao!=="Manipula\xE7\xE3o")},origem(){return this.model.documentosItem.filter(e=>e.operacaoFator===this.model.operacaoFatorOrigem&&e.operacao!=="Manipula\xE7\xE3o")},totalDestino(){const e=this.model.documentosItem.reduce((t,o)=>o.operacaoFator===this.model.operacaoFatorDestino&&o.operacao!=="Manipula\xE7\xE3o"?t+o.total:t,0);return $utils.arredondar(e)},totalOrigem(){const e=this.model.documentosItem.reduce((t,o)=>o.operacaoFator===this.model.operacaoFatorOrigem&&o.operacao!=="Manipula\xE7\xE3o"?t+o.total:t,0);return $utils.arredondar(e)},somenteLeitura(){return!!this.destino.dataHoraFinalizado}},data(){return{promptItem:{show:!1,filtro:{}},showKit:!1,item:{},descricaoAgrupamento:null,observacao:null}},emits:["destroy","salvar"],methods:{async adicionarItem(){const e={};await this.obterItens();for(const t of this.origem)e[t.idItem]={item:{...this.item[t.idItem],novoValorVenda:t.valorItem},quantidade:t.quantidade};this.$refs.promptItem.itensSelecionados=e,this.showPromptItem()},showPromptItem(){this.promptItem={show:!0,filtro:{ativo:!0,bloquearVenda:!1,idEmpresa:this.model.idEmpresa,idContato:this.model.idContato,idTabelaPreco:this.model.idItemTabelaPreco}}},promptItemFechar(e){!this.temDestino&&e&&this.$emit("destroy")},async modelChanged(){var e,t,o;this.observacao=(e=this.destino)==null?void 0:e.observacao,this.descricaoAgrupamento=(t=this.destino)==null?void 0:t.descricaoAgrupamento,this.quantidadeDestinoPrev=(o=this.destino)==null?void 0:o.quantidade,await this.obterItens(),this.documentosItemOriginal=$utils.clonarV2(this.model.documentosItem),this.destino&&(this.showKit=!0),this.destino||this.showPromptItem()},voltar(e){e.preventDefault(),e.stopPropagation();const t=this.houveAlteracao();if(!t){this.showKit=!1;return}t&&$q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},message:"Descartar as modifica\xE7\xF5es?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{this.showKit=!1})},houveAlteracao(){for(const e of this.model.documentosItem){const t=this.documentosItemOriginal.find(o=>o.id===e.id);if(!t)return!0;for(const o of Object.keys(t))if(e[o]!==t[o])return!0}return!1},async salvar(){if(this.totalDestino<this.totalOrigem){$q.notify({type:"negative",message:"Total do destino n\xE3o deve ser menor do que total da origem"});return}this.destino.observacao=this.observacao,this.destino.descricaoAgrupamento=this.descricaoAgrupamento,this.showKit=!1,await this.$nextTick(),this.$emit("salvar",$utils.clonarV2(this.model.documentosItem))},async obterItens(){const e=await $erp().item.where("id").anyOf(this.model.documentosItem.map(t=>t.idItem)).toArray();for(const t of e)this.item[t.id]=t},quantidadeDestinoAlterada(){this.recalcularQuantidadeOrigem(),this.recalcularTotal(this.destino),this.quantidadeDestinoPrev=this.destino.quantidade},recalcularQuantidadeOrigem(){if(this.quantidadeDestinoPrev!==0&&this.destino.quantidade!==this.quantidadeDestinoPrev)for(const e of this.origem)e.quantidade=e.quantidade*this.destino.quantidade/this.quantidadeDestinoPrev,this.recalcularTotal(e)},recalcularTotal(e){e.total=e.valorItem*e.quantidade,e.subTotal=e.total},recalcularQuantidade(e){e.valorItem>0&&(e.quantidade=e.total/e.valorItem)},async removerTodos(){try{await new Promise((e,t)=>{$q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},message:"Remover todos os itens?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(e).onCancel(t)})}catch{return}this.model.documentosItem=this.model.documentosItem.filter(e=>e.operacaoFator===this.model.operacaoFatorDestino&&e.operacao!=="Manipula\xE7\xE3o")},async remover(e){try{await new Promise((t,o)=>{$q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},message:"Remover este item?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(t).onCancel(o)})}catch{return}this.model.documentosItem=this.model.documentosItem.filter(t=>t.id!==e)},obterDocumentoItem(e,t,o){var i;const r=(i=e.novoValorVenda)!=null?i:e.valorVenda,a=t*r;return{id:$utils.uuid(),idItem:e.id,descricaoItem:e.descricaoConcatenada,tipoItem:e.tipo,operacaoFator:o,descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descontoTotalRateado:0,descontoFaturaRateado:0,valorCusto:0,valorCustoReposicao:e.valorCustoReposicao,valorItem:r,valorItemUltimo:r,valorOriginal:r,quantidade:t,unidade:e.unidade,subTotal:r,total:a,valorReal:r,valorRealTotal:a,ncm:e.ncm,cest:e.cest,dataHoraEmissao:$utils.dataAtual()}},async selecionarItens(e){var t;if(!this.temDestino){const o=(t=e[Object.keys(e!=null?e:{})[0]])==null?void 0:t.item,r=this.obterDocumentoItem(o,e[o.id].quantidade,this.model.operacaoFatorDestino);let a,i;this.model.documentosItem.push(r),this.quantidadeDestinoPrev=r.quantidade,a=await $erp().itemComposicao.where({idItem:o.id}).toArray(),a.sort((n,s)=>n.ordem<s.ordem?-1:1),i=await $erp().item.where("id").anyOf(a.map(n=>n.idItemUtilizado)).toArray();for(const n of i){const s=a.find(u=>u.idItemUtilizado===n.id),l=this.obterDocumentoItem(n,s.quantidade,this.model.operacaoFatorOrigem);this.model.documentosItem.push(l)}await this.obterItens(),this.showKit=!0;return}if(this.temDestino){for(const o of Object.keys(e)){const r=e[o].item,a=this.model.documentosItem.find(n=>n.idItem===o&&n.operacaoFator===this.model.operacaoFatorOrigem&&n.operacao!=="Manipula\xE7\xE3o"),i=this.obterDocumentoItem(r,e[o].quantidade,this.model.operacaoFatorOrigem);if(a||this.model.documentosItem.push(i),a){const n=this.model.documentosItem.findIndex(s=>s.id===a.id);this.model.documentosItem.splice(n,1,{...i,id:a.id,dataHoraEmissao:a.dataHoraEmissao})}}await this.obterItens()}}},props:{model:{type:Object,required:!0}},watch:{model(){this.modelChanged()}},async mounted(){await this.modelChanged()}},e8e={class:"col-6"},t8e={class:"col-6"},o8e={class:"col-12 col-md-6"},a8e={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},r8e=A("div",{class:"col-2 col-md"},"Ref/C\xF3d.",-1),i8e=A("div",{class:"col-10 col-md-4"},"Descri\xE7\xE3o",-1),n8e=A("div",{class:"col-6 col-md text-right"},"Quantidade",-1),s8e=A("div",{class:"col-6 col-md text-right"},"Valor",-1),l8e=A("div",{class:"col-6 col-md text-right"},"Total",-1),c8e={key:0,class:"col-6 col-md-1 text-right"},u8e={class:"col-2 col-md-2"},d8e={key:0},f8e={key:1},m8e={class:"col-10 col-md-4"},p8e={class:"col-6 col-md text-right"},h8e={class:"col-6 col-md text-right"},v8e={class:"col-6 col-md text-right"},g8e={key:0,class:"col-6 col-md-1 text-right"},_8e=A("div",{class:"col-2 col-md"},null,-1),b8e=A("div",{class:"col-10 col-md-4"},null,-1),y8e=A("div",{class:"col-6 col-md text-right"},null,-1),C8e=A("div",{class:"col-6 col-md text-right"},null,-1),x8e={class:"col-6 col-md text-right"},w8e={key:0,class:"col-6 col-md-1 text-right"},I8e={class:"col-12 col-md-6"},E8e={class:"q-item-label q-mb-none",style:{color:"#0c0c0c"}},S8e=A("div",{class:"col-2 col-md"},"Ref/C\xF3d.",-1),A8e=A("div",{class:"col-10 col-md-4"},"Descri\xE7\xE3o",-1),T8e=A("div",{class:"col-6 col-md text-right"},"Quantidade",-1),O8e=A("div",{class:"col-6 col-md text-right"},"Unidade",-1),D8e=A("div",{class:"col-6 col-md text-right"},"Valor",-1),P8e=A("div",{class:"col-6 col-md text-right"},"Total",-1),M8e={class:"col-2 col-md-2"},N8e={key:0},F8e={key:1},R8e={class:"col-10 col-md-4"},k8e={class:"col-6 col-md text-right"},V8e={class:"col-6 col-md text-right"},q8e={class:"col-6 col-md text-right"},B8e={class:"col-6 col-md text-right"},L8e=A("div",{class:"col-2 col-md"},null,-1),$8e=A("div",{class:"col-10 col-md-4"},null,-1),U8e=A("div",{class:"col-6 col-md text-right"},null,-1),z8e=A("div",{class:"col-6 col-md text-right"},null,-1),H8e={class:"col-6 col-md text-right"};function j8e(e,t,o,r,a,i){const n=ke("campo"),s=ke("row"),l=ke("PromptItemV2");return $(),be("div",null,[v(Qt,{modelValue:a.showKit,"onUpdate:modelValue":t[7]||(t[7]=u=>a.showKit=u),persistent:"",maximized:"",onKeyup:Zi(i.voltar,["esc"]),onHide:t[8]||(t[8]=()=>{e.$emit("destroy")})},{default:w(()=>[v(Jo,{class:"bg-light",container:""},{default:w(()=>[v(La,{class:"u-container"},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[v(pe,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:i.voltar},null,8,["onClick"]),v(nt,null,{default:w(()=>[te("Kit")]),_:1}),i.somenteLeitura?ce("",!0):($(),ue(pe,{key:0,class:"q-ml-sm no-shadow",color:"white",unelevated:"","text-color":"primary",label:"Salvar",onClick:i.salvar},null,8,["onClick"]))]),_:1})]),_:1}),v(Ru,null,{default:w(()=>[v(Bt,{class:"bg-white q-pa-md q-mt-md no-shadow"},{default:w(()=>[v(s,{class:"q-col-gutter-sm"},{default:w(()=>[A("div",e8e,[v(n,{modelValue:a.observacao,"onUpdate:modelValue":t[0]||(t[0]=u=>a.observacao=u),rotulo:"Observa\xE7\xE3o",tipo:"texto",somenteLeitura:i.somenteLeitura,counter:"",maxlength:"100"},null,8,["modelValue","somenteLeitura"])]),A("div",t8e,[v(n,{modelValue:a.descricaoAgrupamento,"onUpdate:modelValue":t[1]||(t[1]=u=>a.descricaoAgrupamento=u),rotulo:"Descri\xE7\xE3o Agrupamento",tipo:"texto",somenteLeitura:i.somenteLeitura,counter:"",maxlength:"100"},null,8,["modelValue","somenteLeitura"])])]),_:1})]),_:1}),v(s,{class:"q-col-gutter-x-sm q-mt-md"},{default:w(()=>[A("div",o8e,[v(Bt,{class:"no-shadow bg-white full-width fit q-pa-md"},{default:w(()=>[v(at,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:w(()=>[A("p",a8e,[v(Ve,{class:"q-mr-md",name:"shopping_cart",size:"24px",style:{color:"#737373"}}),te(" Origem ")]),v(nt,{class:"q-pa-none q-ma-none",style:{height:"0 !important","min-height":"auto"}}),i.somenteLeitura?ce("",!0):($(),ue(pe,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:i.removerTodos},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Remover todos")]),_:1})]),_:1},8,["onClick"])),i.somenteLeitura?ce("",!0):($(),ue(pe,{key:1,color:"positive",dense:"",flat:"",icon:"add",round:"",size:"md",onClick:i.adicionarItem},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Adicionar Item")]),_:1})]),_:1},8,["onClick"]))]),_:1}),v(wt,{class:"col-12 no-border q-mx-none q-pa-none"},{default:w(()=>[v(We,{class:"q-pa-none"},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(s,{class:"q-col-gutter-md text-weight-bold text-left justify-around"},{default:w(()=>[r8e,i8e,n8e,s8e,l8e,i.somenteLeitura?ce("",!0):($(),be("div",c8e,"A\xE7\xF5es"))]),_:1})]),_:1}),v(Ho,{class:"q-mt-sm q-mb-lg"}),($(!0),be(Qe,null,zt(i.origem,u=>($(),be("div",{key:u.id},[v(Be,{caption:""},{default:w(()=>[v(s,{class:"text-left justify-around"},{default:w(()=>{var c,d;return[A("div",u8e,[(c=a.item[u.idItem])!=null&&c.referencia?($(),be("span",d8e,de(a.item[u.idItem].referencia),1)):(d=a.item[u.idItem])!=null&&d.codigoItem?($(),be("span",f8e," #"+de(a.item[u.idItem].codigoItem),1)):ce("",!0)]),A("div",m8e,de(u.descricaoItem||"-"),1),A("div",p8e,[v(n,{modelValue:u.quantidade,"onUpdate:modelValue":m=>u.quantidade=m,decimals:"4",tipo:"decimal",onBlur:m=>i.recalcularTotal(u),somenteLeitura:i.somenteLeitura},null,8,["modelValue","onUpdate:modelValue","onBlur","somenteLeitura"])]),A("div",h8e,[v(n,{modelValue:u.valorItem,"onUpdate:modelValue":m=>u.valorItem=m,decimals:"4",disable:"",tipo:"decimal"},null,8,["modelValue","onUpdate:modelValue"])]),A("div",v8e,[v(n,{modelValue:u.total,"onUpdate:modelValue":m=>u.total=m,decimals:"4",tipo:"decimal",onBlur:m=>i.recalcularQuantidade(u),somenteLeitura:i.somenteLeitura},null,8,["modelValue","onUpdate:modelValue","onBlur","somenteLeitura"])]),i.somenteLeitura?ce("",!0):($(),be("div",g8e,[v(pe,{dense:"",flat:"",icon:"delete",round:"",size:"md",onClick:m=>i.remover(u.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Excluir")]),_:1})]),_:2},1032,["onClick"])]))]}),_:2},1024)]),_:2},1024),v(Be,{caption:""})]))),128))]),_:1})]),_:1}),v(We,{class:"q-pa-none"},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(s,{class:"text-weight-bold text-left justify-around"},{default:w(()=>[_8e,b8e,y8e,C8e,A("div",x8e,de(e.$filters.numero(i.totalOrigem,2)),1),i.somenteLeitura?ce("",!0):($(),be("div",w8e,"\xA0"))]),_:1})]),_:1})]),_:1})]),_:1}),i.somenteLeitura?ce("",!0):($(),ue(We,{key:0,class:"q-px-none"},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,{class:"text-center"},{default:w(()=>[v(pe,{class:"q-mx-auto",color:"positive",icon:"add",label:"Adicionar item",outline:"",size:"xs",onClick:i.adicionarItem},null,8,["onClick"])]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),A("div",I8e,[v(Bt,{class:"no-shadow bg-white full-width fit q-pa-md"},{default:w(()=>[v(at,{class:"q-pa-none q-ma-none q-mb-md",color:"none","text-color":"black",style:{"min-height":"auto"}},{default:w(()=>[A("p",E8e,[v(Ve,{class:"q-mr-md",name:"shopping_cart",size:"24px",style:{color:"#737373"}}),te(" Destino ")]),v(nt,{class:"q-pa-none q-ma-none",style:{height:"0 !important","min-height":"auto"}})]),_:1}),v(wt,{class:"col-12 no-border q-mx-none q-pa-none"},{default:w(()=>[v(We,{class:"q-pa-none"},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(s,{class:"q-col-gutter-md text-weight-bold text-left justify-around"},{default:w(()=>[S8e,A8e,T8e,O8e,D8e,P8e]),_:1})]),_:1}),v(Ho,{class:"q-mt-sm q-mb-lg"}),A("div",null,[v(Be,{caption:""},{default:w(()=>[v(s,{class:"text-left justify-around"},{default:w(()=>{var u,c;return[A("div",M8e,[(u=a.item[i.destino.idItem])!=null&&u.referencia?($(),be("span",N8e,de(a.item[i.destino.idItem].referencia),1)):(c=a.item[i.destino.idItem])!=null&&c.codigoItem?($(),be("span",F8e," #"+de(a.item[i.destino.idItem].codigoItem),1)):ce("",!0)]),A("div",R8e,de(i.destino.descricaoItem||"-"),1),A("div",k8e,[v(n,{modelValue:i.destino.quantidade,"onUpdate:modelValue":t[2]||(t[2]=d=>i.destino.quantidade=d),decimals:"4",tipo:"decimal",onBlur:i.quantidadeDestinoAlterada,somenteLeitura:i.somenteLeitura},null,8,["modelValue","onBlur","somenteLeitura"])]),A("div",V8e,de(i.destino.unidade),1),A("div",q8e,[v(n,{modelValue:i.destino.valorItem,"onUpdate:modelValue":t[3]||(t[3]=d=>i.destino.valorItem=d),decimals:"4",tipo:"decimal",onBlur:t[4]||(t[4]=d=>i.recalcularTotal(i.destino)),somenteLeitura:i.somenteLeitura},null,8,["modelValue","somenteLeitura"])]),A("div",B8e,[v(n,{modelValue:i.destino.total,"onUpdate:modelValue":t[5]||(t[5]=d=>i.destino.total=d),decimals:"4",tipo:"decimal",onBlur:t[6]||(t[6]=d=>i.recalcularQuantidade(i.destino)),somenteLeitura:i.somenteLeitura},null,8,["modelValue","somenteLeitura"])])]}),_:1})]),_:1}),v(Be,{caption:""})])]),_:1})]),_:1}),v(We,{class:"q-pa-none"},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(s,{class:"text-weight-bold text-left justify-around"},{default:w(()=>[L8e,$8e,U8e,z8e,A("div",H8e,de(e.$filters.numero(i.totalDestino,2)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),v(l,{modelValue:a.promptItem.show,"onUpdate:modelValue":t[9]||(t[9]=u=>a.promptItem.show=u),filtro:a.promptItem.filtro,habilitarQuantidade:i.temDestino,onSelecionarItens:i.selecionarItens,onFechar:i.promptItemFechar,ref:"promptItem"},null,8,["modelValue","filtro","habilitarQuantidade","onSelecionarItens","onFechar"])])}var G8e=ht(Z9e,[["render",j8e]]);const ei={};async function ED(){const e=new Date;if((ei==null?void 0:ei.timeout)&&!(e>new Date(ei.timeout)))return;const t=await $erp().configuracoes.toArray(),o=await $erp().financeiroPlanoConta.toArray();ei.configuracoes=t,ei.financeiroPlanoConta=o,ei.timeout=e.setSeconds(e.getSeconds()+3)}const W8e={components:{Avatar:Sc,Badge:vl,CodigoBarras:M0,Custom:Z_e,DocumentoCodigo:obe,DocumentoMetas:lbe,Envelope:aDe,Faturamento:VDe,ModalEditarProduto:YPe,VendaTransporte:H9e,TitulosPendentesEmAtraso:Q9e,OrdemServico:w9e,PromptDocumentoOperacao:D9e,PromptItemV2:Kf,PromptItemTabelaPrecoNovo:V9e,Arquivo:N0,Kit:G8e},computed:{descricaoClassificacaoDestinatario(){return this.classificacaoDestinatario===0?"PF N\xE3o Contribuinte":this.classificacaoDestinatario===1?"PJ Contribuinte":this.classificacaoDestinatario===2?"PJ N\xE3o Contribuinte":"Sem classifica\xE7\xE3o de destinat\xE1rio"},ehOrcamento(){return["AGUARDANDO LIBERA\xC7\xC3O","AGUARDANDO ESTOQUE","AGUARDANDO FINANCEIRO","OR\xC7AMENTO"].includes(((this.venda||{}).status||"").toUpperCase())&&((this.venda||{}).tipo||"").toUpperCase()==="VENDA"},temItens(){return this.carrinho.length>0},titulo(){return((this.venda||{}).operacao||"").toUpperCase()==="VENDA DE MERCADORIA"&&((this.venda||{}).status||"").toUpperCase()==="OR\xC7AMENTO"&&((this.venda||{}).tipo||"").toUpperCase()==="VENDA"?"Or\xE7amento":"Venda"}},data(){return{warningLabel:{},imposto:{},dbUsuario:$db.usuario,contatos:{},vendaOriginal:{},venda:{},geraFatura:0,pesoTotal:null,pesoBrutoTotal:null,metroCubicoTotal:null,hintValorUnitario:{},configImpressaoOrcamento:[],configImpressaoEnvelope:[],condicaoPagamento:[],condicaoPagamentoOriginal:[],calcularTributacao:!1,documentoEndereco:[],documentoEnderecoOriginal:[],documentoContato:[],documentoContatoOriginal:[],documentoStatus:[],exibirCarregando:!1,carrinhoOriginal:[],carrinho:[],item:{},envelopes:{},envelopesOriginal:{},envelope:{},itensEnvelopes:[],itensEnvelopesOriginal:[],permissaoMargem:!1,margem:{},classificacaoDestinatario:null,permissaoAlterarVendedor:!1,oss:[],permissaoOSs:!1,customs:[],permissaoCustoms:!1,permissaoKits:!1,kitModel:null,documentoItemKit:{},produtos:[],menuVenda:!1,modalContato:!1,modalDescontoMaximo:{},modalItemSemEstoque:{},modalProdutoControlado:{},modalCreditoDisponivel:{},modalItem:!1,mostrarDetalhes:!1,mostrarTitulosPendentesEmAtraso:{},arquivoOriginal:[],arquivo:[],erroCalculo:!1,sistemaPai:""}},emits:["adicionar","atualizar","cancelada","executar","fechar"],methods:{async calcularPesoTotal(){var a,i;const e={},t=[];let o=0,r=0;for(const n of this.carrinho)t.push(n);for(const n of this.itensEnvelopes)t.push(n);for(const n of this.customs)for(const s of n.documentoItens)t.push(s);for(const n of this.kits)t.push(n.documentosItem.find(s=>s.operacaoFator===-1&&s.operacao!=="Manipula\xE7\xE3o"));for(const n of this.oss)for(const s of n.documentoItens)t.push(s);for(const n of t)if(n.operacaoFator===-1){if(n.idItem&&!e[n.idItem]){const s=await $erp().item.get(n.idItem);s&&(e[n.idItem]=s)}o+=(((a=e[n.idItem])==null?void 0:a.peso)||0)*(n.quantidade||0),r+=(((i=e[n.idItem])==null?void 0:i.pesoBruto)||0)*(n.quantidade||0)}o=$utils.arredondar(o,4),r=$utils.arredondar(r,4),this.pesoTotal=o?$filters.numeroZerosDireita(o,4,2):null,this.pesoBrutoTotal=r?$filters.numeroZerosDireita(r,4,2):null},async calcularMetroCubicoTotal(){var r,a,i;const e={},t=[];let o=0;for(const n of this.carrinho)t.push(n);for(const n of this.itensEnvelopes)t.push(n);for(const n of this.customs)for(const s of n.documentoItens)t.push(s);for(const n of this.kits)t.push(n.documentosItem.find(s=>s.operacaoFator===-1&&s.operacao!=="Manipula\xE7\xE3o"));for(const n of this.oss)for(const s of n.documentoItens)t.push(s);for(const n of t){if(n.operacaoFator!==-1||n.tipoItem!=="Produto")continue;if(n.idItem&&!e[n.idItem]){const u=await $erp().item.get(n.idItem);u&&(e[n.idItem]=u)}const s=((r=e[n.idItem])==null?void 0:r.altura)*((a=e[n.idItem])==null?void 0:a.largura)*((i=e[n.idItem])==null?void 0:i.comprimento)||0,l=n.quantidade||0;o+=s>0?s*l:0}o=$utils.arredondar(o,4),this.metroCubicoTotal=o?$filters.numeroZerosDireita(o,4,2):null},async obterClassificacaoDestinatario(e){if(this.classificacaoDestinatario=null,!e)return;const t=await $erp().contato.get(e);if(!t)return;const o=(t.numeroDocumentoNacional||"").trim().replace(/\D/g,""),r=(t.numeroDocumentoEstadual||"").trim().replace(/\D/g,"");if(o.length===14){this.classificacaoDestinatario=2,r&&(r||"").toLowerCase()!=="isento"&&(this.classificacaoDestinatario=1);return}this.classificacaoDestinatario=0},async obterPermissaoAlterarVendedor(){await $db.contato.carregarMemoria();const e=($db.usuario.logado.cpf||"").replace(/\D/g,"");let t;if(e){for(const r of $db.contato.contatos)if((r.numeroDocumentoNacional||"").replace(/\D/g,"")===e){t=r.id;break}}(await $db.permissao.objeto("Diretiva_Vendas_TrocarVendedor")||t&&t===this.venda.idContatoVendedor)&&(this.permissaoAlterarVendedor=!0)},atualizarDocumentoMetas(){!this.$refs.documentoMetas||(this.$refs.documentoMetas.documento=$utils.clonarV2(this.venda),this.$refs.documentoMetas.documentoContato=$utils.clonarV2(this.documentoContato))},async alterarCliente(){const e=await this.selecionarContato({placeholder:"Selecione o cliente",filtro:{ativo:!0,somenteCarteira:!0}});if(!e.id)return;const t=e.id;this.exibirCarregando=!0;try{const o=await $db.contato.leCompleto(t),r=l=>l.grupo?l.grupo.toUpperCase()==="PRINCIPAL":!1,a=o.endereco.find(r)||o.endereco[0],i=o.telefone.find(r)||o.telefone[0];let n=[],s="";a&&(s="".concat((a==null?void 0:a.logradouro)||"",", ",(a==null?void 0:a.numero)||""," ",(a==null?void 0:a.complemento)||""," - ",(a==null?void 0:a.bairro)||""," - ",(a==null?void 0:a.cep)||""," - ",(a==null?void 0:a.municipio)||"","/",(a==null?void 0:a.uf)||""),n=[{id:$utils.uuid(),idContato:o.id,idContatoEndereco:a==null?void 0:a.id,idCidade:a==null?void 0:a.idCidade,idDocumento:this.venda.id,descricao:s,logradouro:a==null?void 0:a.logradouro,numero:a==null?void 0:a.numero,complemento:a==null?void 0:a.complemento,condominio:a==null?void 0:a.condominio,bairro:a==null?void 0:a.bairro,cep:a==null?void 0:a.cep,ibgeCod:a==null?void 0:a.ibgeCod,municipio:a==null?void 0:a.municipio,uf:a==null?void 0:a.uf,ufCod:a==null?void 0:a.ufCod,pais:a==null?void 0:a.pais,grupo:a==null?void 0:a.grupo,cidadeCodChave:a==null?void 0:a.cidadeCodChave,observacao:a==null?void 0:a.observacao}],this.documentoEndereco=n,this.venda.descricaoContatoEndereco=s),this.venda.idContato=t,this.venda.descricaoContato=o.nome,this.venda.telefoneContato=i?i.telefone:"",this.obterClassificacaoDestinatario(this.venda.idContato),this.atualizarDocumentoMetas()}catch(o){$q.notifyError("Erro ao alterar o contato do documento.",o)}this.exibirCarregando=!1},async alterarDocumentoOperacao(){try{const e=await this.selecionarDocumentoOperacaoViaPrompt();e.id&&(this.venda.operacao=e.descricao,this.venda.codigoDocumentoOperacao=e.codigoDocumentoOperacao,this.finalidadeDestinatario=e.finalidade,this.atualizarDocumentoMetas())}catch(e){console.log("alterarDocumentoOperacao: ",e)}},async selecionarDocumentoOperacaoViaPrompt(e){if(!e)return this.$refs.promptDocumentoOperacao.placeholder="Selecione a opera\xE7\xE3o",this.$refs.promptDocumentoOperacao.mostrar({classificacaoDestinatario:this.classificacaoDestinatario}),new Promise((t,o)=>{this.resolve=t,this.reject=o});if(!e.id){this.reject("Opera\xE7\xE3o n\xE3o selecionada");return}this.resolve(e)},async alterarVendedor(){const e=await this.selecionarContato({placeholder:"Selecione o vendedor",filtro:{ativo:!0,vendedores:!0}});e.id&&(this.venda.idContatoVendedor=e.id,this.atualizarDocumentoMetas())},async selecionarContatoIndicacao(){const e=await this.selecionarContato({placeholder:"Selecione a indica\xE7\xE3o",filtro:{ativo:!0}});e.id&&(this.venda.idContatoIndicacao=e.id,this.atualizarDocumentoMetas())},finalizar(){$db.venda.finalizar({tela:this,continueMesmaTela:this.continueMesmaTela})},subtotal2(e){return this.subTotal[e]},salvarEdicaoProduto(e){const t=this.carrinho.findIndex(o=>o.id===e.id);if(t!==-1){const o=$utils.clonarV2(this.carrinho);o.splice(t,1,e),this.carrinho=o}this.unirProdutos(),this.produtoEditandoVisivel=!1},editarProduto(e){this.$refs.modalEditarProduto.mostrar({documentoItem:e,documentoVenda:this.venda})},async calcularMargens(){const e=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.margem.alerta",this.venda.idEmpresa,0))||0,t=parseInt(await $db.configuracoes.leValorComFiltroEmpresa("vendas.margem.limite",this.venda.idEmpresa,0))||0;let o=0,r=0;for(const s of this.produtos.filter(l=>l.id)){let l=100;if(s.valorReal&&s.valorCustoReposicao&&s.quantidade){r+=s.valorCustoReposicao*s.quantidade;const c=s.valorCustoReposicao,d=s.valorReal,m=d-c;l=$utils.arredondar(m/d*100)}let u=$utils.clonarV2(this.margem);u||(u={}),u[s.id]={valor:l,alerta:l<=e,limite:l<t},this.margem=u}for(const s of this.produtos.filter(l=>l.documento)){const l=s.documento.tipo==="Venda Kit";let u=0,c=0;if(l){const p=s.documentosItem.find(g=>g.operacaoFator===-1);p.valorCustoReposicao&&p.quantidade&&(c+=p.valorCustoReposicao*p.quantidade)}if(!l)for(const p of s.documentoItens)p.valorCustoReposicao&&p.quantidade&&(c+=p.valorCustoReposicao*p.quantidade);r+=c;const d=s.documento.totalDocumento,m=d-c;u=$utils.arredondar(m/d*100);let f=$utils.clonarV2(this.margem);f||(f={}),f[s.documento.id]={valor:u,alerta:u<=e,limite:u<t},this.margem=f}for(const s in this.envelopes){let l=0,u=0;for(const f of this.itensEnvelopes.filter(p=>p.idDocumentoAdicional===s))f.valorCustoReposicao&&f.quantidade&&(u+=f.valorCustoReposicao*f.quantidade);r+=u;const c=this.envelopes[s].totalDocumento,d=c-u;l=$utils.arredondar(d/c*100);let m=$utils.clonarV2(this.margem);m||(m={}),m[s]={valor:l,alerta:l<=e,limite:l<t},this.margem=m}const a=this.venda.subTotal-this.venda.totalDesconto,i=a-r;o=$utils.arredondar(i/a*100);let n=$utils.clonarV2(this.margem);n||(n={}),n[this.venda.id]={valor:o,alerta:o<=e,limite:o<t},this.margem=n},async calcularImposto(){var i,n,s;const e={valorIpi:0,valorIcmsSt:0,valorDifal:0},t=this.venda,o=[];this.finalidadeDestinatario;let r,a;for(const l of this.carrinho)o.push(l);for(const l of this.itensEnvelopes)!l.idItem||o.push(l);for(const l of this.customs)for(const u of l.documentoItens)o.push(u);for(const l of this.kits)o.push(l.documentosItem.find(u=>u.operacaoFator===-1&&u.operacao!=="Manipula\xE7\xE3o"));for(const l of this.oss)for(const u of l.documentoItens)o.push(u);a=o.filter(l=>l.operacaoFator===1),r=o.filter(l=>l.operacaoFator!==1),r.length&&this.ehOrcamento&&await qfe({documento:t,documentosItens:r});for(const l of a){if(!l.idDocumentoItemVenda)continue;let u,c,d;const m=await $db.documentoItem.ler({id:l.idDocumentoItemVenda});m.quantidade>0&&(u=(m.valorIpi||0)/m.quantidade*-1,c=(m.valorIcmsSt||0)/m.quantidade*-1,d=(m.valorDifal||0)/m.quantidade*-1),l.valorIpi=u*l.quantidade||0,l.valorIcmsSt=c*l.quantidade||0,l.valorDifal=d*l.quantidade||0}for(const l of[...a,...r])e.valorIpi+=(i=l.valorIpi)!=null?i:0,e.valorIcmsSt+=(n=l.valorIcmsSt)!=null?n:0,e.valorDifal+=(s=l.valorDifal)!=null?s:0,t.calcularTributacao||(l.valorIpi=0,l.valorIcmsSt=0,l.valorDifal=0);e.valorIpi=$utils.arredondar(e.valorIpi),e.valorIcmsSt=$utils.arredondar(e.valorIcmsSt),e.valorDifal=$utils.arredondar(e.valorDifal),this.imposto=e},faturamentoAtualizar(e){this.condicaoPagamento=e},removerConvenio(){this.venda.idContatoResponsavel="",this.atualizarDocumentoMetas()},async selecionarConvenio(){const e=await this.selecionarContato({placeholder:"Selecione o convenio",filtro:{convenios:!0,idContato:this.venda.idContato}});e&&(this.venda.idContatoResponsavel=e.id,this.atualizarDocumentoMetas())},removerComprador(){this.documentoContato=this.documentoContato.filter(e=>(e.descricao||"").trim().toLowerCase()!=="comprador"),this.atualizarDocumentoMetas()},async selecionarComprador(){const e=await this.selecionarContato({placeholder:"Selecione o comprador",filtro:{compradores:!0,idContato:this.venda.idContato}});if(e){let t=$utils.clonarV2(this.documentoContato);t=t.filter(o=>(o.descricao||"").trim().toLowerCase()!=="comprador"),t.push({id:$utils.uuid(),idContato:e.id,descricao:"Comprador",idDocumento:this.venda.id}),this.documentoContato=t,this.atualizarDocumentoMetas()}},async salvarCustom(e={}){const{dados:t,reiniciarQtde:o}=e;let r=$utils.clonarV2(this.customs);const a=r.findIndex(i=>i.documento.id===t.documento.id);o&&(t.documento.numero=1),a===-1?r.push(t):r[a]=t,this.customs=r,this.unirProdutos(),await this.calcularTotais()},async salvarOS(e={}){const{dados:t}=e;let o=$utils.clonarV2(this.oss);const r=o.findIndex(a=>a.documento.id===t.documento.id);r===-1?o.push(t):o[r]=t,this.oss=o,this.unirProdutos(),await this.calcularTotais()},async removerKit(e){$q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},message:"Remover este item?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{$q.loading.show({message:"Removendo..."}),this.kits=this.kits.filter(t=>t.documento.id!==e),this.unirProdutos(),await this.calcularTotais()}finally{$q.loading.hide()}})},abrirKit(e){let t=[];e&&(t=$utils.clonarV2(this.kits.find(r=>r.documento.id===e)).documentosItem),this.kitModel={operacaoFatorDestino:-1,operacaoFatorOrigem:0,idEmpresa:this.venda.idEmpresa,idContato:this.venda.idContato,idItemTabelaPreco:this.venda.idItemTabelaPreco,documentosItem:t}},async salvarKit(e){var d,m,f,p;const t=e.find(g=>g.operacaoFator===-1),o=await $erp().item.get(t.idItem),r=await $utils.selecionarCfop({ncm:o.ncm,idItem:o.id,itemTipo:o.tipo,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao,idContatoDestinatario:this.venda.idContato,idContatoEmitente:this.venda.idEmpresa,operacaoFator:-1});if(!r){$q.notify("N\xE3o foi poss\xEDvel localizar o CFOP.");return}let a="",i="";const n=await $db.perfilContabilItem.le({idPerfilContabil:o.idPerfilContabil,idCfop:r.id,and:{idPerfilContabil:o.idPerfilContabil,idCfop:r.id}});if(n.length&&(a=n[0].idPlanoContaEstoque,i=n[0].idPlanoContaDestino),(!a||!i)&&(a=r.idPlanoContaEstoque,i=r.idPlanoContaDestino),!a||!i){await ED();let g,b,x,_;g=ei.configuracoes.find(y=>y.nome==="financeiro.planocontas.comprageral"),x=Number(g==null?void 0:g.valor),_=ei.financeiroPlanoConta.find(y=>y.codigoFinanceiroPlanoConta===x),a=_==null?void 0:_.id,b=ei.configuracoes.find(y=>y.nome==="financeiro.planocontas.faturamentogeral"),x=Number(b==null?void 0:b.valor),_=ei.financeiroPlanoConta.find(y=>y.codigoFinanceiroPlanoConta===x),i=_==null?void 0:_.id}const s=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:o.id,idEmpresa:this.venda.idEmpresa,tipoEstoque:"Dispon\xEDvel"})).find(g=>g.idItem);t.idDocumento=this.venda.id,t.status=this.venda.status,t.operacao=r.operacao,t.operacaoFator=r.fator,t.idCfop=r.id,t.idPlanoContaEstoque=a,t.idPlanoContaDestino=i,t.valorCustoMedio=(d=s==null?void 0:s.valorCustoMedio)!=null?d:0,t.valorCustoUltimo=(m=s==null?void 0:s.valorCusto)!=null?m:0;const l=t.quantidade,u=this.kits.findIndex(g=>g.documentosItem.some(b=>b.id===t.id));let c;if(u!==-1){c=this.kits[u];for(const g of e)g.idDocumentoAdicional=c.documento.id;c.quantidadeDestinoPrev=l,c.documento.totalDocumento=t.total,c.documentosItem=e,this.kits.splice(u,1,c)}if(u===-1){const g={id:$utils.uuid(),tipo:"Venda Kit",documentoId:this.venda.id,totalDocumento:t.total,subTotal:t.total,idEmpresa:this.venda.idEmpresa,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,idItemTabelaPreco:this.venda.idItemTabelaPreco,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao,dataHoraEmissao:$utils.dataAtual()};for(const b of e)if(b.idDocumentoAdicional=g.id,b.operacaoFator===0){const x=await $erp().item.get(b.idItem),_=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:x.id,idEmpresa:this.venda.idEmpresa,tipoEstoque:"Dispon\xEDvel"})).find(y=>y.idItem);b.operacao="Venda Kit",b.idDocumento=g.id,b.valorCustoMedio=(f=_==null?void 0:_.valorCustoMedio)!=null?f:0,b.valorCustoUltimo=(p=_==null?void 0:_.valorCusto)!=null?p:0}c={quantidadeDestinoPrev:l,documento:g,documentosItem:e},this.kits.push(c)}this.documentoItemKit[c.documento.id]=t,await this.carregarItens(),this.unirProdutos(),await this.calcularTotais(),this.kitModel=null},abrirModalCustom(e=null){if(e)this.custom=this.customs.find(t=>t.documento.id===e);else{let t={id:$utils.uuid(),numero:1,tipo:"Custom",descricao:"",documentoId:this.venda.id,documentoTipo:"Venda",status:"Or\xE7amento",dataHoraEmissao:$utils.dataAtual(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao};this.custom={documento:t,documentoItens:[],arquivo:[]}}this.$refs.modalCustom.data=$utils.clonarV2(this.custom),this.$refs.modalCustom.mostrar()},abrirModalOS(e=null){if(e)this.os=this.oss.find(t=>t.documento.id===e);else{let t={id:$utils.uuid(),tipo:"Ordem de Servi\xE7o",operacao:"Ordem de Servi\xE7o",descricao:"",documentoId:this.venda.id,documentoTipo:"Venda",status:"Or\xE7amento",dataHoraEmissao:$utils.dataAtual(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao};this.os={documento:t,documentoItens:[],arquivo:[]}}this.$refs.modalOS.data=$utils.clonarV2(this.os),this.$refs.modalOS.mostrar()},async abrirModalEnvelope(e=null){if(e){const t=this.itensEnvelopes.filter(o=>o.idDocumentoAdicional===e);this.envelope={documento:this.envelopes[e],documentoContato:this.envelopes[e].documentoContato,documentoItens:t,somenteLeitura:!this.ehOrcamento,arquivo:this.envelopes[e].arquivo}}else{let t={id:$utils.uuid(),tipo:"Envelope",documentoId:this.venda.id,documentoTipo:"Venda",status:"Or\xE7amento",dataHoraEmissao:$utils.dataAtual(),idEmpresa:this.venda.idEmpresa,idItemTabelaPreco:this.venda.idItemTabelaPreco,descricaoEmpresa:this.venda.descricaoEmpresa,idContato:this.venda.idContato,descricaoContato:this.venda.descricaoContato,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao};this.envelope={documento:t,documentoContato:[],documentoItens:[],somenteLeitura:!this.ehOrcamento,arquivo:[]}}this.$refs.modalEnvelope.envelope=$utils.clonarV2(this.envelope),this.$refs.modalEnvelope.mostrar()},abrirModalItem(){let e={};for(const t of this.carrinho.filter(o=>o.operacaoFator===-1)){let o=$utils.clonarV2(this.item[t.idItem]);o.novoValorVenda=t.valorReal,e[t.idItem]={item:o,quantidade:t.quantidade}}this.$refs.promptItem.itensSelecionados=e,this.modalItem=!0},async obterContatoUsuario(){const e=JSON.parse(localStorage.getItem("usuario"))||{};let t={};return e.codigoUsuario&&(t=(await $erp().contato.where({codigoUsuario:e.codigoUsuario}).toArray()).find(o=>o.id)||{}),t},removerRepresentando(){this.documentoContato=this.documentoContato.filter(e=>(e.descricao||"").trim().toLowerCase()!=="representando"),this.atualizarDocumentoMetas()},async selecionarRepresentando(){const e=await this.selecionarContato({placeholder:"Selecione o representando",filtro:{ativo:!0}});if(e){let t=$utils.clonarV2(this.documentoContato);t=t.filter(o=>(o.descricao||"").trim().toLowerCase()!=="representando"),t.push({id:$utils.uuid(),idContato:e.id,descricao:"Representando",idDocumento:this.venda.id}),this.documentoContato=t,this.atualizarDocumentoMetas()}},async alterarTabelaPreco(){const e=await this.selecionarItemTabelaPreco(null,this.venda.idEmpresa);e.id&&(this.venda.idItemTabelaPreco=e.id,this.atualizarDocumentoMetas())},async selecionarItemTabelaPreco(e,t){if(!e)return this.$refs.promptItemTabelaPreco.placeholder="Selecione a tabela de pre\xE7o",this.$refs.promptItemTabelaPreco.filtro={tabelaMaster:!0,idContatoEmpresa:t},this.$refs.promptItemTabelaPreco.mostrar(),new Promise((o,r)=>{this.resolve=o,this.reject=r});e.id||this.reject("Tabela de pre\xE7o n\xE3o selecionada"),this.resolve(e)},async obterContatoVendedor(e){const o=((await $erp().configuracoes.where({nome:"vendas.usaCarteira"}).toArray())[0]||{}).valor==="1",r=(e||{}).idContatoVendedor;if(r&&o){const n=await $erp().contato.get(r)||{};if(n.id)return n}const a=JSON.parse(localStorage.getItem("usuario"))||{};let i=(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data;if(i.length===1)return i[0];for(const n of i){if(!(n||{}).numeroDocumentoNacional)continue;const s=(n.numeroDocumentoNacional||"").replace(/\D/g,""),l=(a.numeroDocumentoNacional||"").replace(/\D/g,"");if(s===l)return n}return this.selecionarContato({placeholder:"Selecione o vendedor",filtro:{ativo:!0,vendedores:!0}})},async adicionar(){var F,M;let e={},t=this.idContato,o;if(t&&(e=await $db.contato.le({id:t})),e.id||(e=await this.selecionarContato({placeholder:"Selecione o cliente",filtro:{ativo:!0,somenteCarteira:!0}})),!e.id){this.$emit("fechar"),$q.notifyError("Cliente n\xE3o selecionado");return}o=await $db.venda.titulosPendentesAtraso({idContato:e.id}),o.length&&$q.notify({message:"O Cliente possui t\xEDtulo(s) pendente(s) em atraso!",timeout:0,type:"warning",closeBtn:!0}),this.obterClassificacaoDestinatario(e.id);let r="";e.idFormaPagamento&&(r=((await $erp().formaPagamento.get(e.idFormaPagamento)||{}).descricao||"").trim()),this.contatos={},this.contatos[e.id]=e;let a=[],i=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data;if(i.length&&await $erp().empresa.where("idContato").anyOf(i.map(E=>E.id)).each(E=>{a.push(E)}),!a.length){$q.notify({message:"N\xE3o h\xE1 empresa configurada",timeout:0,type:"negative",closeBtn:!0});return}if((e.condutaRestricao||"").trim()){this.$emit("fechar"),$q.notify({message:e.condutaRestricao,timeout:0,type:"negative",closeBtn:!0});return}let n=await $db.contatoTelefone.le({idContato:e.id});n.length?n=n[0].telefone:n="";const s=await $db.contatoEndereco.le({idContato:e.id}),l=s.filter(E=>E.grupo==="Principal");let u=[],c="";if(s.length){const E=[...l,...s][0];c="".concat((E==null?void 0:E.logradouro)||"",", ",(E==null?void 0:E.numero)||""," ",(E==null?void 0:E.complemento)||""," - ",(E==null?void 0:E.bairro)||""," - ",(E==null?void 0:E.cep)||""," - ",(E==null?void 0:E.municipio)||"","/",(E==null?void 0:E.uf)||""),u=[{id:$utils.uuid(),idContato:e.id,idContatoEndereco:E==null?void 0:E.id,idCidade:E==null?void 0:E.idCidade,descricao:c,logradouro:E==null?void 0:E.logradouro,numero:E==null?void 0:E.numero,complemento:E==null?void 0:E.complemento,condominio:E==null?void 0:E.condominio,bairro:E==null?void 0:E.bairro,cep:E==null?void 0:E.cep,ibgeCod:E==null?void 0:E.ibgeCod,municipio:E==null?void 0:E.municipio,uf:E==null?void 0:E.uf,ufCod:E==null?void 0:E.ufCod,pais:E==null?void 0:E.pais,grupo:E==null?void 0:E.grupo,cidadeCodChave:E==null?void 0:E.cidadeCodChave,observacao:E==null?void 0:E.observacao}]}let d;try{d=await this.selecionarEmpresa()}catch(E){this.$emit("fechar"),$q.notifyError(E.message,E);return}await this.configuraImpressaoEnvelope(d.idContato),await this.configuraImpressaoOrcamento(d.idContato);const m=await $db.contatoEndereco.le({idContato:d.idContato});if(!m.length){this.$emit("fechar"),$q.notifyError("Empresa sem endere\xE7o.");return}let f=m.find(E=>(E.grupo||"").toLowerCase()==="principal");f||(f=m[0]);let p="";if(e.idItemTabelaPreco){const E=await $db.itemTabelaPreco.le({id:e.idItemTabelaPreco});(E==null?void 0:E.id)&&(!E.idEmpresa||E.idEmpresa===d.idContato)&&(p=e.idItemTabelaPreco)}if(!p){const E=await $db.configuracoes.le({nome:"vendas.tabelapadrao"});let D,P;D=E.find(N=>N.idEmpresa===d.idContato),P=Number(D==null?void 0:D.valor),P||(D=E.find(N=>!N.idEmpresa),P=Number(D==null?void 0:D.valor)),P&&(p=(F=(await $erp().itemTabelaPreco.filter(R=>Number(R.codigoItemTabelaPreco)===P).toArray())[0])==null?void 0:F.id)}if(!p){const E=await $erp().itemTabelaPreco.filter(D=>D.tabelaMaster===1&&(!D.idEmpresa||D.idEmpresa===d.idContato)).toArray();if(E.length===1)p=E[0].id;else if(E.length>1)try{p=(await this.selecionarItemTabelaPreco(null,d.idContato)).id}catch(D){this.$emit("fechar"),$q.notifyError(D);return}}let g=await $db.documentoOperacao.ler();if(g=g.filter(E=>E.ativo),!g.length){this.$emit("fechar"),$q.notifyError("N\xE3o foi poss\xEDvel localizar a Opera\xE7\xE3o.");return}let b=await $erp().configuracoes.where({nome:"vendas.codigovenda"}).toArray(),x=b[0],_={},y=2;for(;y--;){if(x){const E=Number(x==null?void 0:x.valor);E&&Number.isInteger(E)&&(_=g.find(D=>D.codigoDocumentoOperacao===E))}if(!(_!=null&&_.json)&&f&&u[0]&&(f==null?void 0:f.uf)!==((M=u[0])==null?void 0:M.uf)){b=await $erp().configuracoes.where({nome:"vendas.codigovenda.foraestado"}).toArray(),x=b[0];continue}break}if((_==null?void 0:_.finalidade)===99&&this.classificacaoDestinatario!==1){_=null;const E=this.classificacaoDestinatario===1?99:100,D=g.filter(P=>P.finalidade===E);if(!D.length){this.$emit("fechar"),$q.notifyError("N\xE3o foi poss\xEDvel localizar a Opera\xE7\xE3o.");return}D.length===1&&(_=D[0])}if(!(_!=null&&_.idCfop)&&!(_!=null&&_.json))try{_=await this.selecionarDocumentoOperacaoViaPrompt()}catch(E){this.$emit("fechar"),$q.notifyError(E);return}this.finalidadeDestinatario=_.finalidade;const I=await this.obterContatoUsuario();let S;try{S=await this.obterContatoVendedor(e)}catch(E){this.$emit("fechar"),$q.notifyError(E.message,E);return}const O={id:this.id,idContato:e.id,idContatoTransportadora:e.idContatoTransportadora,idContatoResponsavel:"",descricaoEmpresa:d.nome,idEmpresa:d.idContato,idEmpresaEndereco:f.id,numeroDocumentoEmpresa:d.numeroDocumentoNacional,calcularAutomatico:"Sim",calcularTributacao:!0,dataHoraEmissao:$utils.dataAtual(),descricaoContato:e.nome,numeroDocumentoContato:e.numeroDocumentoNacional,freteSeparado:!0,status:"Or\xE7amento",tipo:"Venda",tipoFrete:"CIF",valorFrete:0,totalPercentualDesconto:0,totalDesconto:0,totalDocumento:0,subTotal:0,codigoDocumentoOperacao:_.codigoDocumentoOperacao,operacao:_.descricao,idContatoVendedor:S.id,idContatoDigitador:I.id,telefoneContato:n,descricaoContatoEndereco:c,idItemTabelaPreco:p,observacaoFaturamento:r};if(u.length&&(u[0].idDocumento=O.id),this.venda={},this.vendaOriginal={},this.envelopes={},this.envelopesOriginal={},this.carrinho=[],this.carrinhoOriginal=[],this.itensEnvelopes=[],this.itensEnvelopesOriginal=[],this.condicaoPagamento=[],this.condicaoPagamentoOriginal=[],this.documentoEndereco=[],this.documentoEnderecoOriginal=[],this.documentoStatus=[],this.documentoContato=[],this.kits=[],this.permissaoCustoms=await $db.permissao.objeto("atendimento//venda/custom"),this.permissaoKits=await $db.permissao.objeto("atendimento//venda/kit"),this.permissaoOSs=await $db.permissao.objeto("atendimento//venda/os"),await this.atualizaUsaFatura(d),this.venda=O,this.documentoEndereco=u,this.atualizarDocumentoMetas(),this.obterPermissaoAlterarVendedor(),await this.$nextTick(),this.$refs.transporte&&await this.$refs.transporte.set(this.venda),localStorage.documentoItemDevolucao)try{let E=JSON.parse(localStorage.getItem("documentoItemDevolucao"));localStorage.removeItem("documentoItemDevolucao"),E.idDocumento=this.venda.id,E.dataHoraEmissao=$utils.dataAtual(),this.carrinho.push(E),await this.carregarItens(),this.unirProdutos(),await this.calcularTotais(),$q.notify({message:"Item adicionado ao or\xE7amento.",type:"positive"})}catch{$q.notify("N\xE3o foi poss\xEDvel adicionar item ao or\xE7amento.")}this.$emit("adicionar")},async atualizaUsaFatura(e){let t=await $erp().configuracoes.where({nome:"vendas.gerafatura"}).toArray(),o=t.find(r=>r.idEmpresa===e.idContato);o||(o=t.find(r=>!r.idEmpresa)),this.geraFatura=o?parseInt(o.valor):0},async calcularQuantidadeCustom(e){const t=this.customs.find(a=>a.documento.id===e),o=$utils.arredondar(t.documento.numero,4),r=$utils.arredondar(t.documento.totalDocumento/t.documento.subTotal,4);t.documento.totalDocumento=$utils.arredondar(t.documento.subTotal*o,2);for(const a of t.documentoItens){const i=a.valorItem-a.descontoItem;a.quantidade=$utils.arredondar(a.quantidade/r*o,4),a.subTotal=$utils.arredondar(i*a.quantidade),a.total=a.subTotal,a.valorReal=$utils.arredondar(i),a.valorRealTotal=a.total}await this.calcularTotais()},async cancelar(){if(!this.ehOrcamento){try{await $q.dialog({message:"Cancelar a venda?",noRefocus:!0,preventClose:!0,cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}})}catch{return}try{this.logInfo("Cancelando..."),$q.loading.show({message:"Cancelando..."});const e=$utils.dataAtual();this.venda.status="Cancelado",this.venda.idFatura="",this.venda.dataHoraFinalizado=e;for(const t of this.carrinho)t.status=this.venda.status,t.dataHoraFinalizado=e;this.$refs.faturamento.condicaoPagamento=[],await this.salvarVenda(),this.$emit("cancelada"),$q.notifyPositive("Venda cancelada")}catch{$q.notify("N\xE3o foi poss\xEDvel cancelar a venda."),$q.loading.hide()}finally{this.logInfo("Cancelou"),$q.loading.hide()}}},async salvarEnvelope(e){this.envelopes[e.documento.id]=e.documento,this.envelopes[e.documento.id].documentoContato=e.documentoContato,this.envelopes[e.documento.id].armacao=e.armacao,this.envelopes[e.documento.id].pupilometro=e.pupilometro;let t=this.itensEnvelopes.filter(o=>o.idDocumentoAdicional!==e.documento.id);t=[...t,...e.documentoItens],this.itensEnvelopes=t,this.envelopes[e.documento.id].arquivo=e.arquivo,await this.calcularTotais()},descricaoEnvelope(e){let t="";for(const o of this.itensEnvelopes)o.idDocumentoAdicional===e&&o.descricaoItem.trim()&&(t+=o.descricaoItem.trim()+" | ");return t.slice(0,-3)},async removerEnvelope(e){const t=$utils.clonarV2(this.envelopes);let o=$utils.clonarV2(this.itensEnvelopes);delete t[e],this.envelopes=t,o=o.filter(r=>r.idDocumentoAdicional!==e),this.itensEnvelopes=o,await this.calcularTotais()},async removerCustom(e){this.$q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},message:"Remover este item?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{$q.loading.show({message:"Removendo..."}),this.customs=this.customs.filter(t=>t.documento.id!==e),this.unirProdutos(),await this.calcularTotais()}finally{$q.loading.hide()}})},async removerItem(e){this.$q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},message:"Remover este item?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{this.logInfo("Removendo..."),$q.loading.show({message:"Removendo..."});for(const t in this.carrinho)if(this.carrinho[t].id===e){this.carrinho.splice(t,1),this.unirProdutos(),await this.calcularTotais();return}}finally{this.logInfo("Removeu..."),$q.loading.hide()}})},async removerOS(e){this.$q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},message:"Remover este item?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{$q.loading.show({message:"Removendo..."}),this.oss=this.oss.filter(t=>t.documento.id!==e),this.unirProdutos(),await this.calcularTotais()}finally{$q.loading.hide()}})},async reprovarOrcamento(){try{const e=await new Promise((t,o)=>$q.dialog({message:"Especifique o motivo:",noRefocus:!0,preventClose:!0,prompt:{model:"",type:"text",class:"bg-light"},title:"Reprovar or\xE7amento?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(r=>{t(r.trim())}).onCancel(()=>{o()}));if(e)try{this.logInfo("Reprovando..."),$q.loading.show({message:"Reprovando..."});const t=$utils.dataAtual(),o="N\xE3o Aprovado",a=((await $db.contato.le({numeroDocumentoNacional:$db.usuario.logado.numeroDocumentoNacional}))[0]||{}).id||"";let i;i={id:$utils.uuid(),idDocumento:this.venda.id,dataHoraEmissao:t,operacao:this.venda.operacao,statusOriginal:this.venda.status,statusFinalizado:o,observacao:e,cpfUsuario:$db.usuario.logado.numeroDocumentoNacional},this.venda.motivoCancelamento=e,this.venda.status=o,this.venda.dataHoraFinalizado=t;for(const n of this.carrinho)n.status=o,n.dataHoraFinalizado=t;return this.$refs.faturamento.condicaoPagamento=[],this.documentoStatus.push(i),await this.salvarVenda(),$q.notifyPositive("Or\xE7amento reprovado"),!0}catch(t){return $q.notifyError("Ocorreu um erro ao reprovar o or\xE7amento.",t),$q.loading.hide(),!1}finally{this.logInfo("Reprovou"),$q.loading.hide()}else return $q.notifyError("Especifique o motivo"),!1}catch{return!1}},async retornarOrcamento(){try{$q.loading.show(),await J9e({idDocumento:this.venda.id})}catch(e){this.$q.notifyError(e.message);return}finally{$q.loading.hide()}this.$q.dialog({message:"Retornar para or\xE7amento?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{try{this.logInfo("Retornando..."),$q.loading.show({message:"Retornando..."});try{await $db.venda.checarConflitoStatus({id:this.venda.id,status:this.vendaOriginal.status})}catch(i){return $q.notifyError(i.message),!1}let e=await $db.documentoStatus.le({idDocumento:this.venda.id});if(e=$lodash.orderBy(e,"dataHoraEmissao","desc")[0],["Faturado","Aguardando Pagamento"].includes(this.venda.status))return $q.notifyError("N\xE3o \xE9 poss\xEDvel reabrir vendas de faturas j\xE1 pagas! Por favor, reabra a fatura."),!1;if(!await $db.permissao.objeto("Diretiva_Vendas_Reabertura")){const i=new Date,n=new Date(this.venda.dataHoraFinalizado);if(n.getFullYear()<i.getFullYear()||n.getMonth()<i.getMonth())return $q.notifyError("N\xE3o \xE9 poss\xEDvel reabrir vendas de meses passados!"),!1}this.documentoStatus=[];const t=$utils.dataAtual(),r=((await $db.contato.le({numeroDocumentoNacional:$db.usuario.logado.numeroDocumentoNacional}))[0]||{}).id||"";for(const i of this.carrinho)i.status="Or\xE7amento",i.tipoItem!=="Local"&&(i.dataHoraFinalizado="");for(const i in this.envelopes)this.documentoStatus.push({id:$utils.uuid(),idDocumento:this.envelopes[i].id,operacao:"Mudan\xE7a status envelope",statusOriginal:this.envelopes[i].status,statusFinalizado:"Or\xE7amento",dataHoraEmissao:t,cpfUsuario:$db.usuario.logado.numeroDocumentoNacional}),this.envelopes[i].status="Or\xE7amento",this.envelopes[i].dataHoraFinalizado="";for(const i of this.itensEnvelopes)i.status="Or\xE7amento",i.dataHoraFinalizado="";for(const i of this.customs)i.documento.status="Or\xE7amento",i.documento.dataHoraFinalizado="";for(const i of this.oss)i.documento.status="Or\xE7amento",i.documento.dataHoraFinalizado="";for(const i of this.customs.reduce((n,s)=>[...n,...s.documentoItens||[]],[]))i.status="Or\xE7amento",i.dataHoraFinalizado="";for(const i of this.oss.reduce((n,s)=>[...n,...s.documentoItens||[]],[]))i.status="Or\xE7amento",i.dataHoraFinalizado="";let a=!1;for(const i of this.kits){const n=i.documentosItem.find(s=>s.operacaoFator===-1&&s.operacao!=="Manipula\xE7\xE3o");if(i.documento.status="Or\xE7amento",i.documento.dataHoraFinalizado="",n.status="Or\xE7amento",n.dataHoraFinalizado="",!a&&i.documento.idDocumentoAdicional)try{$q.loading.hide(),await new Promise((s,l)=>{$q.dialog({cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},title:"Esta venda possui Kit amarrado com Produ\xE7\xE3o (PCP), estes documentos ser\xE3o removidos se reabrir a venda.",message:"Tem certeza que deseja prosseguir?",ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{a=!0,s()}).onCancel(l)})}catch(s){console.error(s);return}finally{$q.loading.show({message:"Retornando..."})}a&&(i.documento.idDocumentoAdicional="")}return this.venda.idFatura="",this.venda.idContatoFinalizado="",this.venda.status="Or\xE7amento",this.venda.dataHoraFinalizado="",this.venda.dataHoraRealizado="",this.venda.motivoCancelamento="",this.documentoStatus.push({id:$utils.uuid(),idDocumento:this.venda.id,dataHoraEmissao:t,operacao:this.venda.operacao,statusOriginal:(e||{}).statusFinalizado,statusFinalizado:"Or\xE7amento",cpfUsuario:$db.usuario.logado.numeroDocumentoNacional}),await this.salvarVenda(),this.atualizar(),this.$emit("executar","retornarOrcamento"),$q.notifyPositive("Venda retornada para or\xE7amento"),!0}catch(e){return $q.notifyError("N\xE3o foi poss\xEDvel retornar para or\xE7amento.",e),!1}finally{$q.loading.hide()}})},async selecionarEmpresa(){const e=await $erp().empresa.toArray();let t;if(!e.filter(r=>r.ativo).length)throw new Error("Empresa n\xE3o encontrada");if(e.filter(r=>r.ativo).length===1)return e.find(r=>r.ativo);const o=await $g.promptContato.show({filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa"});if((o||{}).id&&(t=(await $db.empresa.le({idContato:o.id})).find(a=>a.id)),!t)throw new Error("Empresa n\xE3o selecionada");return t},async selecionarContato(e){const{placeholder:t,filtro:o}={placeholder:"Selecione o contato",filtro:{ativo:!0},...e},r=await $g.promptContato.show({filtro:o,placeholder:t});if(!r)throw new Error("Contato n\xE3o selecionado");return r},async configurarValoresTabelaPreco(e,t){if(!t.idItem)return;let o=this.valoresTabelaPreco.find(a=>a.id===t.id);if(o)return;let r=await $erp().item.get(t.idItem);o=await $db.itemTabelaPreco.obterValores(e,r,4),this.valoresTabelaPreco.push({id:t.id,...o})},adicionarItem(e){const t=this.carrinho.find(a=>a.idItem===e.id);let o=1;e.novoValorVenda=e.valorVenda,t&&(e.novoValorVenda=t.valorReal,o=t.quantidade+1);const r={};r[e.id]={item:e,quantidade:o},this.selecionarItens(r)},async selecionarItens(e,t){let o,r;try{t&&(o=new Date),$q.loading.show({message:"Carregando itens no carrinho...",html:!0,boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"});for(const a in e){const i=e[a].item||{},n=e[a].quantidade||0;let s=this.carrinho.findIndex(l=>l.idItem===a&&l.operacaoFator===-1);s!==-1&&!n&&this.carrinho.splice(s,1),n&&(await this.selecionarItem(a,i,n),s===-1&&(s=this.carrinho.findIndex(l=>l.idItem===a),s!==-1&&this.carrinho[s].operacaoFator===-1&&await this.carrinhoCalcularTotais(this.carrinho[s].id,"quantidade",!1)))}await this.carregarItens(),this.unirProdutos(),await this.calcularTotais()}finally{if($q.loading.hide(),t){let a;r=new Date,a=(r.getTime()-o.getTime())/1e3,$q.dialog({title:"Dados estat\xEDsticos do teste",message:`Tempo para carregamento de itens no carrinho: <strong>${new Intl.NumberFormat("pt-BR").format(a)}s</strong>`,html:!0}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})}}},async selecionarItem(e,t,o){var c,d;this.modalItem=!1;let r=this.carrinho.findIndex(m=>m.idItem===e&&m.operacaoFator===-1);if(r!==-1){t.novoValorVenda!==this.carrinho[r].valorOriginal&&(t.novoValorVenda<=this.carrinho[r].valorOriginal?(this.carrinho[r].valorItem=this.carrinho[r].valorOriginal,this.carrinho[r].descontoItem=$utils.arredondar(this.carrinho[r].valorOriginal-t.novoValorVenda)):(this.carrinho[r].valorItem=t.novoValorVenda,this.carrinho[r].descontoItem=0),await this.carrinhoCalcularTotais(this.carrinho[r].id,"descontoItem",!1)),this.carrinho[r].quantidade!==o&&(this.carrinho[r].quantidade=o||1,await this.carrinhoCalcularTotais(this.carrinho[r].id,"quantidade",!1));return}const a=await $utils.selecionarCfop({ncm:t.ncm,idItem:t.id,itemTipo:t.tipo,codigoDocumentoOperacao:this.venda.codigoDocumentoOperacao,idContatoDestinatario:this.venda.idContato,idContatoEmitente:this.venda.idEmpresa,operacaoFator:-1});if(!a){$q.notify("N\xE3o foi poss\xEDvel localizar o CFOP.");return}let i="",n="";const s=await $db.perfilContabilItem.le({idPerfilContabil:t.idPerfilContabil,idCfop:a.id,and:{idPerfilContabil:t.idPerfilContabil,idCfop:a.id}});if(s.length&&(i=s[0].idPlanoContaEstoque,n=s[0].idPlanoContaDestino),(!i||!n)&&(i=a.idPlanoContaEstoque,n=a.idPlanoContaDestino),!i||!n){await ED();let m,f,p,g;m=ei.configuracoes.find(b=>b.nome==="financeiro.planocontas.comprageral"),p=Number(m==null?void 0:m.valor),g=ei.financeiroPlanoConta.find(b=>b.codigoFinanceiroPlanoConta===p),i=g==null?void 0:g.id,f=ei.configuracoes.find(b=>b.nome==="financeiro.planocontas.faturamentogeral"),p=Number(f==null?void 0:f.valor),g=ei.financeiroPlanoConta.find(b=>b.codigoFinanceiroPlanoConta===p),n=g==null?void 0:g.id}if(!i){$q.notify("N\xE3o foi poss\xEDvel localizar Conta de Estoque.");return}if(!n){$q.notify("N\xE3o foi poss\xEDvel localizar Conta de Destino.");return}const l=(await $db.estoqueSaldoProdutoEmpresa.le({idItem:t.id,idEmpresa:$lodash.get(this.venda,"idEmpresa",""),tipoEstoque:"Dispon\xEDvel"})).find(m=>m.idItem),u={id:$utils.uuid(),idItem:t.id,idDocumento:this.venda.id,dataHoraEmissao:$utils.dataAtual(),descontoItem:0,descontoPercentualItem:0,descontoSubTotal:0,descontoTotalRateado:0,descontoFaturaRateado:0,descricaoItem:t.descricaoConcatenada,operacao:a==null?void 0:a.operacao,operacaoFator:a==null?void 0:a.fator,idCfop:a==null?void 0:a.id,idPlanoContaEstoque:i,idPlanoContaDestino:n,quantidade:o||1,status:this.venda.status,tipoItem:t.tipo,subTotal:t.valorVenda,total:t.valorVenda,valorCusto:0,valorCustoMedio:(c=l==null?void 0:l.valorCustoMedio)!=null?c:0,valorCustoReposicao:t.valorCustoReposicao||0,valorCustoUltimo:(d=l==null?void 0:l.valorCusto)!=null?d:0,valorItem:t.valorVenda,valorItemUltimo:t.valorVenda,valorOriginal:t.valorVenda,valorReal:t.valorVenda,valorRealTotal:t.valorVenda,ncm:t.ncm,cest:t.cest};this.carrinho.push(u),r=this.carrinho.findIndex(m=>m.idItem===e&&m.operacaoFator===-1),r!==-1&&t.novoValorVenda!==this.carrinho[r].valorOriginal&&(t.novoValorVenda<=this.carrinho[r].valorOriginal?(this.carrinho[r].valorItem=this.carrinho[r].valorOriginal,this.carrinho[r].descontoItem=$utils.arredondar(this.carrinho[r].valorOriginal-t.novoValorVenda)):(this.carrinho[r].valorItem=t.novoValorVenda,this.carrinho[r].descontoItem=0),await this.carrinhoCalcularTotais(this.carrinho[r].id,"descontoItem",!1)),o||(await this.carregarItens(),this.unirProdutos(),await this.calcularTotais())},async salvarVenda(){try{$q.loading.show({message:"Salvando..."});try{await $db.venda.checarConflitoStatus({id:this.venda.id,status:this.vendaOriginal.status})}catch(n){return $q.notifyError(n.message),!1}for(const n of this.carrinho.map(s=>s.id))await this.carrinhoCalcularTotais(n,null,!1);await this.calcularTotais(),this.$refs.transporte&&(this.venda={...this.venda,...this.$refs.transporte.get()});let e=$utils.clonarV2((this.$refs.faturamento||{}).condicaoPagamento||[]);for(let n in e)delete e[n].idDocumentoCondicaoPagamento,delete e[n].parcelas,delete e[n].formaPagamento,delete e[n].edicao,delete e[n].codigoDocumento,delete e[n].codigoDocumentoCaixa;const t=[],o=[];for(const n in this.envelopes)t.push(this.envelopes[n]);for(const n in this.envelopesOriginal)o.push(this.envelopesOriginal[n]);const r={venda:this.vendaOriginal,envelopes:o,customs:this.customsOriginal,kits:this.kitsOriginal,oss:this.ossOriginal,carrinho:[...this.carrinhoOriginal,...this.itensEnvelopesOriginal],condicaoPagamento:this.condicaoPagamentoOriginal,documentoEndereco:this.documentoEnderecoOriginal,documentoContato:this.documentoContatoOriginal,arquivo:this.arquivoOriginal};this.venda.observacaoFaturamento=(this.$refs.faturamento||{}).observacaoFaturamento||"";const a={venda:this.venda,envelopes:t,customs:this.customs,kits:this.kits,oss:this.oss,carrinho:[...this.carrinho,...this.itensEnvelopes],condicaoPagamento:e,documentoEndereco:this.documentoEndereco,documentoContato:this.documentoContato,arquivo:this.arquivo};let i=Object.keys(this.envelopes);for(const n of i){this.envelopes[n].arquivoOriginal&&await $db.arquivo.remove(this.envelopes[n].arquivoOriginal.filter(s=>!this.envelopes[n].arquivo.find(l=>l.id===s.id)));for(const s of this.envelopes[n].arquivo){let l={};this.envelopes[n].arquivoOriginal?l={original:this.envelopes[n].arquivoOriginal.find(u=>u.id===s.id),atual:s}:l={atual:s},await $db.arquivo.gravar(l)}}return Object.keys($utils.diferencaObjetos(r,a)).length&&(await $db.venda.grava({venda:this.venda,vendaOriginal:this.vendaOriginal,customs:this.customs,customsOriginal:this.customsOriginal,kits:this.kits,kitsOriginal:this.kitsOriginal,oss:this.oss,ossOriginal:this.ossOriginal,envelopes:t,envelopesOriginal:o,carrinho:[...this.carrinho,...this.itensEnvelopes],carrinhoOriginal:[...this.carrinhoOriginal,...this.itensEnvelopesOriginal],condicaoPagamento:e,condicaoPagamentoOriginal:this.condicaoPagamentoOriginal,documentoEndereco:this.documentoEndereco,documentoEnderecoOriginal:this.documentoEnderecoOriginal,documentoContato:this.documentoContato,documentoContatoOriginal:this.documentoContatoOriginal,documentoStatus:this.documentoStatus,arquivoOriginal:this.arquivoOriginal,arquivo:this.arquivo}),this.logInfo("Salvou"),this.atualizar(),this.$emit("atualizar")),!0}catch(e){return $q.notifyError("Erro ao salvar.",e),!1}finally{$q.loading.hide()}},async configuraImpressaoEnvelope(e){const t=await $db.configuracoes.porNome("impressao.envelope",e);this.configImpressaoEnvelope=[...t.length?t.map(o=>({texto:"Imprimir Envelope",...o})):[{valor:"envelope",texto:"Imprimir Envelope"},{valor:"envelopeMini",texto:"Imprimir Envelope Mini"}]]},async configuraImpressaoOrcamento(e){const t=await $db.configuracoes.porNome("impressao.venda",e);this.configImpressaoOrcamento=[...t.length?t.map(o=>({texto:"Imprimir Or\xE7amento",...o})):[{valor:"invoice",texto:"Or\xE7amento/Venda (Invoice)"},this.sistemaPai==="optisoul"?{valor:"orcamento",texto:"Or\xE7amento (Antigo)"}:{},this.sistemaPai==="optisoul"?{valor:"termoGarantia",texto:"Termo de Garantia"}:{}]]},async atualizar(){try{this.logInfo("Atualizando..."),$q.loading.show({message:"Atualizando..."}),await this.atualizarNucleo(),await this.atualizarDocumentoMetas()}catch(e){$q.notifyError("Erro ao carregar venda",e)}finally{this.logInfo("Atualizou"),$q.loading.hide()}},async atualizarNucleo(){let e=[];if(this.erroCalculo=!1,this.valoresTabelaPreco=[],this.maximoDesconto=[],this.warningLabel={},this.modalDescontoMaximo={permiteDescontoMaximo:!1,titulo:"",msg:"",itens:[],resolve:void 0,reject:void 0,visivel:!1},this.modalItemSemEstoque={itens:[],resolve:void 0,reject:void 0,visivel:!1,opcao:"",opcoes:[]},this.modalProdutoControlado={permiteQuantidadeExcedida:!1,itens:[],resolve:void 0,reject:void 0,visivel:!1},this.modalCreditoDisponivel={permiteFinalizar:!1,resolve:void 0,reject:void 0,visivel:!1},this.vendaOriginal=await $db.hibrido.le({table:"documento",id:this.id}),this.permissaoMargem=await $db.permissao.objeto("Diretiva_Vendas_VerMargem"),!Object.keys(this.vendaOriginal).length){this.adicionar();return}this.venda=$utils.clonarV2(this.vendaOriginal),this.arquivoOriginal=await $db.arquivo.ler({filtros:{idTabelaMaster:this.venda.id}}),this.arquivo=$utils.clonarV2(this.arquivoOriginal),await this.obterClassificacaoDestinatario(this.venda.idContato),await this.obterPermissaoAlterarVendedor(),await this.atualizaUsaFatura({idContato:this.venda.idEmpresa}),await this.configuraImpressaoEnvelope(this.venda.idEmpresa),await this.configuraImpressaoOrcamento(this.venda.idEmpresa),e=await $db.hibrido.lista({table:"documentoItem",where:{idDocumento:this.venda.id}}),e.sort((n,s)=>new Date(n.dataHoraEmissao)<new Date(s.dataHoraEmissao)?-1:1),this.carrinho=e.filter(n=>!n.idDocumentoAdicional),this.carrinhoOriginal=$utils.clonarV2(this.carrinho),this.condicaoPagamentoOriginal=await $db.hibrido.lista({table:"documentoCondicaoPagamento",where:{idDocumento:this.venda.id}}),this.condicaoPagamento=$utils.clonarV2(this.condicaoPagamentoOriginal),this.$refs.faturamento&&(this.$refs.faturamento.condicaoPagamento=$utils.clonarV2(this.condicaoPagamentoOriginal)),this.documentoEnderecoOriginal=await $db.hibrido.lista({table:"documentoEndereco",where:{idDocumento:this.venda.id}}),this.documentoEndereco=$utils.clonarV2(this.documentoEnderecoOriginal),this.documentoContatoOriginal=await $db.hibrido.lista({table:"documentoContato",where:{idDocumento:this.venda.id}}),this.documentoContato=$utils.clonarV2(this.documentoContatoOriginal);const t=await $db.hibrido.lista({table:"documento",where:{tipo:"Envelope",documentoId:this.venda.id}});this.itensEnvelopesOriginal=[],this.envelopesOriginal={};for(const n of t){n.documentoContato=[];let s=await $db.hibrido.lista({table:"documentoContato",where:{idDocumento:n.id}});s=s.find(c=>c.descricao==="Laborat\xF3rio"),s&&n.documentoContato.push(s);let l=[],u=await $db.arquivo.ler({filtros:{idTabelaMaster:n.id}});l=$utils.clonarV2(u),n.arquivoOriginal=u,n.arquivo=l,this.envelopesOriginal[n.id]=n,this.itensEnvelopesOriginal=[...this.itensEnvelopesOriginal,...await $db.hibrido.lista({table:"documentoItem",where:{idDocumentoAdicional:n.id}})]}this.envelopes=$utils.clonarV2(this.envelopesOriginal),this.itensEnvelopes=$utils.clonarV2(this.itensEnvelopesOriginal),this.contatos={};for(const n in this.envelopes){const s=this.envelopes[n].idContato;this.contatos[s]||(this.contatos[s]=await $db.contato.le({id:s}))}if(this.venda.idContato){const n=this.venda.idContato;this.contatos[n]||(this.contatos[n]=await $db.contato.le({id:n}))}let o=(await $db.hibrido.lista({table:"documento",where:{tipo:"Custom",documentoId:this.venda.id}})).map(n=>({documento:{...n}}));for(const n of o)n.documentoItens=await $db.hibrido.lista({table:"documentoItem",where:{idDocumentoAdicional:n.documento.id}}),n.arquivo=await $db.arquivo.ler({filtros:{idTabelaMaster:n.documento.id}});this.customs=o,this.customsOriginal=$utils.clonarV2(o),this.permissaoCustoms=await $db.permissao.objeto("atendimento//venda/custom");let r=(await $db.hibrido.lista({table:"documento",where:{tipo:"Venda Kit",documentoId:this.venda.id}})).map(n=>({documento:{...n}}));for(const n of r){const s=await $db.hibrido.lista({table:"documentoItem",where:{idDocumentoAdicional:n.documento.id}}),l=s.find(u=>u.operacaoFator===-1&&u.operacao!=="Manipula\xE7\xE3o");n.documentosItem=s,n.quantidadeDestinoPrev=l.quantidade,this.documentoItemKit[n.documento.id]=l}this.kits=r,this.kitsOriginal=$utils.clonarV2(r),this.permissaoKits=await $db.permissao.objeto("atendimento//venda/kit");let a=(await $db.hibrido.lista({table:"documento",where:{tipo:"Ordem de Servi\xE7o",documentoId:this.venda.id}})).map(n=>({documento:{...n}}));for(const n of a)n.documentoItens=await $db.hibrido.lista({table:"documentoItem",where:{idDocumentoAdicional:n.documento.id}}),n.arquivo=await $db.arquivo.ler({filtros:{idTabelaMaster:n.documento.id}});this.oss=a,this.ossOriginal=$utils.clonarV2(a),this.permissaoOSs=await $db.permissao.objeto("atendimento//venda/os"),await this.carregarItens(),this.unirProdutos();let i=[];for(const n in this.envelopes){const s=await $db.arquivo.ler({filtros:{idTabelaMaster:n}});i=[...i,...s]}await this.calcularTotais(),await this.$nextTick(),this.$refs.transporte&&await this.$refs.transporte.set(this.venda),localStorage.documentoItemDevolucao&&(localStorage.removeItem("documentoItemDevolucao"),this.salvarVenda())},unirProdutos(){var r,a;let e=[],t=[];for(const i of this.carrinho)e.push({obj:i,dataHoraEmissao:new Date(i.dataHoraEmissao),descricao:(i.descricaoAgrupamento||"").toUpperCase()});for(const i of this.customs)e.push({obj:i,dataHoraEmissao:new Date(i.documento.dataHoraEmissao),descricao:(i.documentoItens.length&&i.documentoItens[0].descricaoAgrupamento||"").toUpperCase()});for(const i of this.oss)e.push({obj:i,dataHoraEmissao:new Date(i.documento.dataHoraEmissao),descricao:(i.documentoItens.length&&i.documentoItens[0].descricaoAgrupamento||"").toUpperCase()});for(const i of this.kits){const n=i.documentosItem.find(s=>s.operacaoFator===-1&&s.operacao!=="Manipula\xE7\xE3o");!i.documento||!n||e.push({obj:i,dataHoraEmissao:new Date(n.dataHoraEmissao),descricao:(a=(r=n.descricaoAgrupamento)==null?void 0:r.toUpperCase())!=null?a:""})}e.sort((i,n)=>i.descricao+i.dataHoraEmissao.getTime()<n.descricao+n.dataHoraEmissao.getTime()?-1:1);let o="";for(const i of e)o!==i.descricao&&(o=i.descricao,t.push({caption:o})),t.push(i.obj);this.produtos=t},async carregarItens(){let e={};const t=[];for(const o of this.kits)t.push(o.documentosItem.find(r=>r.operacaoFator===-1&&r.operacao!=="Manipula\xE7\xE3o"));for(const o of this.carrinho.concat(t)){{const r=o.valorItem-o.descontoItem;this.subTotal[o.id]=r}if(!(o.idItem in e)){let r=await $erp().item.get(o.idItem);r={...r,marca:r.marca||"",referencia:r.referencia||"",observacao:r.observacao||"",aplicacao:r.aplicacao||"",imagem:r.imagem||""},e[r.id]=r}}this.item={...this.item,...e}},async calcularTotais(e){await this.calcularImposto(),await $db.venda.calcularTotais({objsVenda:{venda:$utils.clonarV2(this.venda),carrinho:$utils.clonarV2(this.carrinho),envelopes:$utils.clonarV2(this.envelopes),itensEnvelopes:$utils.clonarV2(this.itensEnvelopes),customs:$utils.clonarV2(this.customs),oss:$utils.clonarV2(this.oss),kits:$utils.clonarV2(this.kits)},campoAlterado:e}).then(t=>{this.venda=t.venda}),this.calcularTributacao=this.venda.calcularTributacao,this.erroCalculo=!1,(this.venda.totalPercentualDesconto<0||this.venda.totalPercentualDesconto>100)&&(this.erroCalculo=!0),await this.calcularPesoTotal(),await this.calcularMetroCubicoTotal(),await this.calcularMargens()},async carrinhoCalcularTotais(e,t,o=!0){let r,a;for(const n of this.kits)if(a=n.documentosItem.find(s=>s.id===e),a){r=a;break}if(r||(r=this.carrinho.find(n=>n.id===e)),r=$utils.clonarV2(r),t==="quantidade"&&r.operacaoFator===-1&&this.venda.idItemTabelaPreco){const n=await $erp().itemTabelaPreco.get(this.venda.idItemTabelaPreco);if(n){await this.configurarValoresTabelaPreco(n,r);let s=this.valoresTabelaPreco.find(l=>l.id===r.id);s.quantidadeMaiorQue&&(this.hintValorUnitario[r.id]=`>${s.quantidadeMaiorQue-1}un = ${$filters.numeroZerosDireita(s.valorVendaMaiorQue,4,2)}`),s.quantidadeMaiorQue&&r.quantidade>=s.quantidadeMaiorQue?(r.valorOriginal!==s.valorVendaMaiorQue&&(r.valorOriginal=s.valorVendaMaiorQue,r.valorItem=s.valorVendaMaiorQue,r.descontoItem=r.descontoPercentualItem=0),this.warningLabel[r.id]="Valor Diferenciado"):(r.valorOriginal!==s.valorVenda&&(r.valorOriginal=s.valorVenda,r.valorItem=s.valorVenda,r.descontoItem=r.descontoPercentualItem=0),this.warningLabel[r.id]="")}}r.valorItem>0&&r.valorItem<r.valorOriginal&&(r.valorItem=r.valorOriginal),t==="descontoPercentualItem"&&(r.descontoItem=$utils.arredondar(r.descontoPercentualItem/100*r.valorItem,4)),["descontoItem","valorItem"].includes(t)&&(r.descontoPercentualItem=$utils.arredondar(r.descontoItem/r.valorItem*100)),r.descontoItem>r.valorItem&&r.operacaoFator===-1&&(r.descontoPercentualItem=r.descontoItem=0),["subTotal"].includes(t)&&(this.subTotal[r.id]!==void 0?r.descontoItem=$utils.arredondar(r.valorItem-this.subTotal[r.id],4):r.descontoItem=$utils.arredondar(r.valorItem-r.subTotal,4),r.descontoPercentualItem=$utils.arredondar(r.descontoItem/r.valorItem*100),this.subTotal[r.id]>0&&this.subTotal[r.id]>r.valorItem&&(r.valorItem=this.subTotal[r.id]));let i=$utils.arredondar(r.valorItem-r.descontoItem,4);if(r.descontoItem=$utils.arredondar(r.valorItem-i,4),$utils.arredondar(i)>$utils.arredondar(r.valorItem)&&r.operacaoFator===-1&&(i=r.valorItem,r.descontoPercentualItem=r.descontoItem=0),this.subTotal[r.id]=i,r.subTotal=$utils.arredondar(i*r.quantidade),r.total=r.subTotal,r.valorReal=i,r.valorRealTotal=r.total,!a){const n=this.carrinho.findIndex(s=>s.id===e);n!==-1&&this.carrinho.splice(n,1,r)}if(a)for(const n of this.kits){const s=n.documentosItem.findIndex(l=>l.id===e);if(s!==-1){if(n.quantidadeDestinoPrev!==0&&r.quantidade!==n.quantidadeDestinoPrev)for(const l of n.documentosItem.filter(u=>u.operacaoFator===0))l.quantidade=l.quantidade*r.quantidade/n.quantidadeDestinoPrev,l.total=l.valorItem*l.quantidade;this.documentoItemKit[n.documento.id]=r,n.quantidadeDestinoPrev=r.quantidade,n.documento.totalDocumento=r.total,n.documentosItem.splice(s,1,r);break}}o&&(this.unirProdutos(),await this.calcularTotais())}},props:{id:{default:"",required:!0,type:String},idContato:{type:String},continueMesmaTela:{type:Boolean,required:!1,default:!1},enableChanges:{type:Boolean,required:!1,default:!0}},watch:{id(){this.atualizar()}},async mounted(){await this.atualizar()},created(){this.sistemaPai=$utils.sistemaPai(),this.subTotal={}}},X8e={id:"Venda",class:"Venda round-borders"},Y8e={class:"bg-white round-borders q-py-md q-my-md"},K8e={class:"text-right"},Q8e=A("br",null,null,-1),J8e={class:"bg-white round-borders q-mt-md"},Z8e={key:0,class:"q-pa-lg text-center"},eMe=A("p",null,"Ainda n\xE3o h\xE1 itens adicionados.",-1),tMe=A("p",{class:"text-caption"},"Para adicionar, utilize os bot\xF5es acima ou insira o c\xF3digo de barras.",-1),oMe=[eMe,tMe],aMe={key:1,class:"q-pa-md"},rMe={key:0,class:"text-body1 text-weight-medium q-mt-xl"},iMe={class:"row items-center"},nMe={class:"col-auto"},sMe={class:"col-auto"},lMe={class:"row items-center"},cMe={class:"col-auto"},uMe={class:"col-auto"},dMe={class:"col-12"},fMe={class:"col-6 col-md"},mMe={class:"col-6 col-md"},pMe={class:"col-12 col-md"},hMe={key:1,class:"col-12 col-md"},vMe={class:"row items-center"},gMe={class:"col-auto"},_Me={class:"col-auto"},bMe={class:"col-12"},yMe=["warning","warning-label"],CMe={class:"col-4 col-md"},xMe={class:"col-4 col-md"},wMe={class:"col-6 col-md"},IMe={class:"col-6 col-md"},EMe={class:"col-12 col-md"},SMe={class:"row items-center"},AMe={class:"col-auto"},TMe={class:"col-auto"},OMe={class:"col-12"},DMe=["warning","warning-label"],PMe={class:"col-4 col-md"},MMe={class:"col-4 col-md"},NMe={key:2,class:"col-6 col-md"},FMe={key:3,class:"col-6 col-md"},RMe={class:"col-12 col-md"},kMe={class:"border-1"},VMe={class:"row items-center"},qMe={class:"col-auto"},BMe={class:"col-auto"},LMe={class:"col-12"},$Me={key:0,class:"row q-mt-md"},UMe={class:"col-12 col-md-4 offset-md-8"},zMe={class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},HMe=A("div",{class:"col-3"},"Subtotal",-1),jMe={class:"col text-right text-weight-bold"},GMe={class:"items-center row q-col-gutter-x-sm"},WMe=A("div",{class:"col-3"},"Desconto",-1),XMe={class:"col"},YMe={class:"col"},KMe={class:"items-center row q-col-gutter-x-sm"},QMe=A("div",{class:"col-3"},"Frete",-1),JMe={class:"col"},ZMe={class:"col"},eNe={class:"items-center row q-col-gutter-x-sm q-mt-md"},tNe=A("div",{class:"col-4 text-weight-bold"},"Total",-1),oNe={class:"col text-right text-weight-bold"},aNe={key:0},rNe={key:0,class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},iNe=A("div",{class:"col-3"}," IPI ",-1),nNe={key:1,class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},sNe=A("div",{class:"col-3"}," ICMS/ST ",-1),lNe={key:2,class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},cNe=A("div",{class:"col-3"}," DIFAL ",-1),uNe={class:"items-center row q-col-gutter-x-sm",style:{"min-height":"49px"}},dNe={class:"col-6 text-weight-bold"},fNe={class:"col text-right text-weight-bold"},mNe={key:1,class:"items-center row q-col-gutter-x-sm q-mt-md"},pNe=A("div",{class:"col-4"},"Peso Total",-1),hNe={class:"col text-right"},vNe={key:2,class:"items-center row q-col-gutter-x-sm q-mt-md"},gNe=A("div",{class:"col-4"},"Peso Bruto Total",-1),_Ne={class:"col text-right"},bNe={key:3,class:"items-center row q-col-gutter-x-sm q-mt-md"},yNe=A("div",{class:"col-4"},"Metro C\xFAbico Total",-1),CNe={class:"col text-right"},xNe={class:"Venda-faturamento bg-white round-borders q-my-md q-px-md q-pb-md"},wNe={key:0,class:"Venda-faturamento bg-white round-borders q-my-md"},INe={class:"q-pa-md bg-white"},ENe={class:"bg-white round-borders q-mt-md"},SNe={class:"q-pa-md q-pt-none"},ANe={class:"col-12 col-sm-4"},TNe={class:"col-12 col-sm-4"},ONe={class:"col-12 col-sm-4"},DNe={class:"layout-padding"},PNe={class:"q-mt-lg text-right"},MNe={class:"layout-padding"},NNe={class:"q-pa-sm"},FNe={key:0},RNe={class:"q-mt-lg text-right"},kNe={class:"layout-padding"},VNe={class:"q-pa-sm"},qNe={class:"q-mt-lg text-right"},BNe={class:"layout-padding"},LNe={class:"q-mt-lg text-right"};function $Ne(e,t,o,r,a,i){const n=ke("avatar"),s=ke("badge"),l=ke("documento-codigo"),u=ke("documento-metas"),c=ke("CodigoBarras"),d=ke("campo"),m=ke("row"),f=ke("faturamento"),p=ke("VendaTransporte"),g=ke("arquivo"),b=ke("envelope"),x=ke("Custom"),_=ke("OrdemServico"),y=ke("PromptItemV2"),I=ke("TitulosPendentesEmAtraso"),S=ke("ModalEditarProduto"),O=ke("prompt-item-tabela-preco-novo"),F=ke("prompt-documento-operacao"),M=ke("Kit");return $(),be("div",X8e,[A("div",Y8e,[v(at,{class:"Venda-barra bg-transparent q-px-md",color:"black",dark:""},{default:w(()=>[v(n,{imagem:(a.contatos[a.venda.idContato]||{}).imagem,rotulo:a.venda.descricaoContato,tamanho:"50"},null,8,["imagem","rotulo"]),v(nt,{class:"text-tertiary"},{default:w(()=>[A("div",null,de(a.venda.descricaoContato),1),A("div",null,[v(s,{denso:""},{default:w(()=>[te(de(i.descricaoClassificacaoDestinatario),1)]),_:1})])]),_:1}),A("div",K8e,[a.margem[a.venda.id]&&a.permissaoMargem?($(),ue(l,{key:0,documento:a.venda,prioridade:{tooltip:`| \xCDndice ${e.$filters.numero(a.margem[a.venda.id].valor,2)}%`,cor:a.margem[a.venda.id].limite?"negative":a.margem[a.venda.id].alerta?"warning":void 0}},null,8,["documento","prioridade"])):($(),ue(l,{key:1,documento:a.venda},null,8,["documento"])),Q8e,i.ehOrcamento?($(),ue(pe,{key:2,color:"tertiary",flat:"",icon:"more_vert",round:""},{default:w(()=>[v(Xa,{modelValue:a.menuVenda,"onUpdate:modelValue":t[6]||(t[6]=E=>a.menuVenda=E)},{default:w(()=>[Te(($(),ue(wt,{link:"",separator:""},{default:w(()=>[v(We,{clickable:"",onClick:i.alterarCliente},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"how_to_reg"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Alterar cliente")]),_:1})]),_:1})]),_:1},8,["onClick"]),a.permissaoAlterarVendedor?($(),ue(We,{key:0,clickable:"",onClick:i.alterarVendedor},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"how_to_reg"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Alterar vendedor")]),_:1})]),_:1})]),_:1},8,["onClick"])):ce("",!0),Object.keys(a.envelopes).length||a.produtos.length?ce("",!0):($(),ue(We,{key:1,clickable:"",onClick:i.alterarTabelaPreco},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"attach_money"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Alterar tabela de pre\xE7o")]),_:1})]),_:1})]),_:1},8,["onClick"])),Object.keys(a.envelopes).length||a.produtos.length?ce("",!0):($(),ue(We,{key:2,clickable:"",onClick:i.alterarDocumentoOperacao},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"attach_money"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Alterar Opera\xE7\xE3o")]),_:1})]),_:1})]),_:1},8,["onClick"])),v(We,{clickable:"",onClick:i.selecionarContatoIndicacao},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"how_to_reg"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Selecionar indica\xE7\xE3o")]),_:1})]),_:1})]),_:1},8,["onClick"]),a.documentoContato.find(E=>(E.descricao||"").trim().toLowerCase()==="comprador")?($(),ue(We,{key:3,clickable:"",onClick:t[0]||(t[0]=E=>i.removerComprador())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"assignment_ind"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Remover comprador")]),_:1})]),_:1})]),_:1})):($(),ue(We,{key:4,clickable:"",onClick:t[1]||(t[1]=E=>i.selecionarComprador())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"assignment_ind"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Selecionar comprador")]),_:1})]),_:1})]),_:1})),a.documentoContato.find(E=>(E.descricao||"").trim().toLowerCase()==="representando")?($(),ue(We,{key:5,clickable:"",onClick:t[2]||(t[2]=E=>i.removerRepresentando())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"how_to_reg"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Remover representando")]),_:1})]),_:1})]),_:1})):($(),ue(We,{key:6,clickable:"",onClick:t[3]||(t[3]=E=>i.selecionarRepresentando())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"how_to_reg"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Informar representando")]),_:1})]),_:1})]),_:1})),a.venda.idContatoResponsavel?($(),ue(We,{key:7,clickable:"",onClick:t[4]||(t[4]=E=>i.removerConvenio())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"input"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Remover conv\xEAnio")]),_:1})]),_:1})]),_:1})):($(),ue(We,{key:8,clickable:"",onClick:t[5]||(t[5]=E=>i.selecionarConvenio())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"input"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Alocar conv\xEAnio")]),_:1})]),_:1})]),_:1}))]),_:1})),[[lt]])]),_:1},8,["modelValue"])]),_:1})):ce("",!0),!i.ehOrcamento&&!a.venda.idFatura&&!~["Cancelado","N\xE3o Aprovado"].indexOf(a.venda.status)?($(),ue(pe,{key:3,icon:"undo",color:"primary",label:"Retornar para or\xE7amento",class:"hideonmobile",onClick:i.retornarOrcamento},null,8,["onClick"])):ce("",!0)])]),_:1}),!i.ehOrcamento&&!a.venda.idFatura&&!~["Cancelado","N\xE3o Aprovado"].indexOf(a.venda.status)?($(),ue(pe,{key:0,icon:"undo",color:"primary",label:"Retornar para or\xE7amento",class:"hideondesktop q-ma-md",onClick:i.retornarOrcamento},null,8,["onClick"])):ce("",!0),v(u,{ref:"documentoMetas"},null,512)]),A("div",J8e,[v(at,null,{default:w(()=>[v(Ve,{name:"shopping_cart",size:"24px",class:"text-tertiary"}),v(nt,{class:"text-tertiary"},{default:w(()=>[te("Carrinho")]),_:1}),v(pe,{class:"hideondesktop",color:"primary",flat:"",round:"",icon:"add",size:"md"},{default:w(()=>[v(Xa,null,{default:w(()=>[v(wt,{link:"","no-border":"",separator:""},{default:w(()=>[i.ehOrcamento?Te(($(),ue(We,{key:0,clickable:"",onClick:i.abrirModalItem},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Produtos")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[lt]]):ce("",!0),a.sistemaPai==="optisoul"&&i.ehOrcamento&&a.venda.idContato!=0?Te(($(),ue(We,{key:1,clickable:"",onClick:t[7]||(t[7]=E=>i.abrirModalEnvelope())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Envelope")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0),i.ehOrcamento&&a.permissaoOSs?Te(($(),ue(We,{key:2,clickable:"",onClick:t[8]||(t[8]=E=>i.abrirModalOS())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("OS")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0),i.ehOrcamento&&a.permissaoKits?Te(($(),ue(We,{key:3,clickable:"",onClick:t[9]||(t[9]=E=>i.abrirKit())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Kit")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0),i.ehOrcamento&&a.permissaoCustoms?Te(($(),ue(We,{key:4,clickable:"",onClick:t[10]||(t[10]=E=>i.abrirModalCustom())},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Custom")]),_:1})]),_:1})]),_:1})),[[lt]]):ce("",!0)]),_:1})]),_:1})]),_:1}),i.ehOrcamento?($(),ue(pe,{key:0,color:"primary",flat:"",icon:"add",label:"Produto",class:"hideonmobile q-px-sm",onClick:i.abrirModalItem},null,8,["onClick"])):ce("",!0),a.sistemaPai==="optisoul"&&i.ehOrcamento&&a.venda.idContato!=0?($(),ue(pe,{key:1,color:"primary",flat:"",icon:"add",label:"Envelope",class:"hideonmobile q-px-sm",onClick:t[11]||(t[11]=E=>i.abrirModalEnvelope())})):ce("",!0),i.ehOrcamento&&a.permissaoOSs?($(),ue(pe,{key:2,color:"primary",flat:"",icon:"add",label:"OS",class:"hideonmobile q-px-sm",onClick:t[12]||(t[12]=E=>i.abrirModalOS())})):ce("",!0),i.ehOrcamento&&a.permissaoKits?($(),ue(pe,{key:3,color:"primary",flat:"",icon:"add",label:"Kit",class:"hideonmobile q-px-sm",onClick:t[13]||(t[13]=E=>i.abrirKit())})):ce("",!0),i.ehOrcamento&&a.permissaoCustoms?($(),ue(pe,{key:4,color:"primary",flat:"",icon:"add",label:"Custom",class:"hideonmobile q-px-sm",onClick:t[14]||(t[14]=E=>i.abrirModalCustom())})):ce("",!0),i.ehOrcamento?($(),ue(c,{key:5,itemFiltros:{ativo:!0,bloquearVenda:!1,idEmpresa:a.venda.idEmpresa,idContato:a.venda.idContato,idItemTabelaPreco:a.venda.idItemTabelaPreco},documentoItens:a.carrinho,onAdicionar:i.adicionarItem,onAtualizar:i.selecionarItens},null,8,["itemFiltros","documentoItens","onAdicionar","onAtualizar"])):ce("",!0)]),_:1}),Object.keys(a.envelopes).length||a.produtos.length?($(),be("div",aMe,[($(!0),be(Qe,null,zt(a.produtos,(E,D)=>($(),be("div",{class:"items-carrinho items-center row q-py-sm",key:D},[E.caption?($(),be("div",rMe,de(E.caption),1)):ce("",!0),E.documento&&E.documento.tipo!=="Venda Kit"?($(),be(Qe,{key:1},[v(wt,{class:"full-width"},{default:w(()=>[v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(n,{imagem:E.arquivo.length?E.arquivo[0].arquivo:"",rotulo:E.documento.descricao,tamanho:"40"},null,8,["imagem","rotulo"])]),_:2},1024),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(de(E.documento.descricao),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[te(de(E.documento.observacao),1)]),_:2},1024)]),_:2},1024),a.margem[E.documento.id]&&a.permissaoMargem?($(),ue(Ie,{key:0,avatar:""},{default:w(()=>[a.margem[E.documento.id].limite?($(),ue(s,{key:0,cor:"negative",denso:"",escuro:""},{default:w(()=>[te(de(E.documento.tipo)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.documento.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024)):a.margem[E.documento.id].alerta?($(),ue(s,{key:1,cor:"warning",denso:""},{default:w(()=>[te(de(E.documento.tipo)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.documento.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024)):($(),ue(s,{key:2},{default:w(()=>[te(de(E.documento.tipo)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.documento.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024))]),_:2},1024)):($(),ue(Ie,{key:1,avatar:""},{default:w(()=>[v(s,{denso:""},{default:w(()=>[te(de(E.documento.tipo),1)]),_:2},1024)]),_:2},1024)),E.documento.tipo==="Custom"?($(),ue(Ie,{key:2,avatar:""},{default:w(()=>[A("div",iMe,[A("div",nMe,[i.ehOrcamento&&a.permissaoCustoms?($(),ue(pe,{key:0,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:P=>i.abrirModalCustom(E.documento.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Editar Custom")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)]),A("div",sMe,[i.ehOrcamento&&a.permissaoCustoms?($(),ue(pe,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:P=>i.removerCustom(E.documento.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Remover Custom")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)])])]),_:2},1024)):ce("",!0),E.documento.tipo==="Ordem de Servi\xE7o"?($(),ue(Ie,{key:3,avatar:""},{default:w(()=>[A("div",lMe,[A("div",cMe,[i.ehOrcamento&&a.permissaoOSs?($(),ue(pe,{key:0,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:P=>i.abrirModalOS(E.documento.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Editar Ordem de Servi\xE7o")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)]),A("div",uMe,[i.ehOrcamento&&a.permissaoOSs?($(),ue(pe,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:P=>i.removerOS(E.documento.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Remover Ordem de Servi\xE7o")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)])])]),_:2},1024)):ce("",!0)]),_:2},1024)]),_:2},1024),A("div",dMe,[v(m,{class:"q-col-gutter-sm row justify-end"},{default:w(()=>[E.documento.tipo==="Custom"?($(),be(Qe,{key:0},[A("div",fMe,[v(m,{class:"items-center"},{default:w(()=>[v(d,{dense:"",align:e.$q.screen.lt.sm?"left":"right",outlined:"",tipo:"decimal",decimals:"4",zerosDireita:"2",rotulo:"Subtotal",modelValue:E.documento.subTotal,"onUpdate:modelValue":P=>E.documento.subTotal=P,"somente-leitura":!0},null,8,["align","modelValue","onUpdate:modelValue"]),v(Ve,{name:"mdi-close",color:"primary"})]),_:2},1024)]),A("div",mMe,[v(d,{dense:"",min:"1",modelValue:E.documento.numero,"onUpdate:modelValue":P=>E.documento.numero=P,modelModifiers:{number:!0},outlined:"","somente-leitura":!i.ehOrcamento,tipo:i.ehOrcamento?"quantidade":"decimal",decimals:"4",zerosDireita:"0",onBlur:P=>i.calcularQuantidadeCustom(E.documento.id)},null,8,["modelValue","onUpdate:modelValue","somente-leitura","tipo","onBlur"]),v(Mt,null,{default:w(()=>[te("Quantidade")]),_:1})]),A("div",pMe,[v(m,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(d,{dense:"",tipo:"decimal",decimals:"2","somente-leitura":!0,rotulo:"Total",modelValue:E.documento.totalDocumento,"onUpdate:modelValue":P=>E.documento.totalDocumento=P,outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])],64)):ce("",!0),E.documento.tipo==="Ordem de Servi\xE7o"?($(),be("div",hMe,[v(d,{dense:"",tipo:"decimal",decimals:"2",modelValue:E.documento.totalDocumento,"onUpdate:modelValue":P=>E.documento.totalDocumento=P,outlined:"",rotulo:"Total","somente-leitura":!0},null,8,["modelValue","onUpdate:modelValue"])])):ce("",!0)]),_:2},1024)])],64)):ce("",!0),E.documento&&E.documento.tipo==="Venda Kit"?($(),be(Qe,{key:2},[v(wt,{class:"full-width"},{default:w(()=>[v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"col-auto"},{default:w(()=>{var P;return[v(n,{imagem:(P=a.item[a.documentoItemKit[E.documento.id].idItem])==null?void 0:P.imagem,rotulo:a.documentoItemKit[E.documento.id].descricaoItem,tamanho:"40"},null,8,["imagem","rotulo"])]}),_:2},1024),v(Ie,{class:"q-px-none"},{default:w(()=>[v(Be,null,{default:w(()=>[te(de(a.documentoItemKit[E.documento.id].descricaoItem),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>{var P;return[te(de((P=a.item[a.documentoItemKit[E.documento.id].idItem])==null?void 0:P.marca),1)]}),_:2},1024)]),_:2},1024),a.margem[E.documento.id]&&a.permissaoMargem?($(),ue(Ie,{key:0,avatar:""},{default:w(()=>[a.margem[E.documento.id].limite?($(),ue(s,{key:0,cor:"negative",denso:"",escuro:""},{default:w(()=>{var P;return[te(" Kit "+de((P=a.item[a.documentoItemKit[E.documento.id].idItem])==null?void 0:P.referencia)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.documento.id].valor,2))+"%",1)]),_:2},1024)]}),_:2},1024)):a.margem[E.documento.id].alerta?($(),ue(s,{key:1,cor:"warning",denso:""},{default:w(()=>{var P;return[te(" Kit "+de((P=a.item[a.documentoItemKit[E.documento.id].idItem])==null?void 0:P.referencia)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.documento.id].valor,2))+"%",1)]),_:2},1024)]}),_:2},1024)):($(),ue(s,{key:2,denso:""},{default:w(()=>{var P;return[te(" Kit "+de((P=a.item[a.documentoItemKit[E.documento.id].idItem])==null?void 0:P.referencia)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.documento.id].valor,2))+"%",1)]),_:2},1024)]}),_:2},1024))]),_:2},1024)):($(),ue(Ie,{key:1,avatar:""},{default:w(()=>[v(s,{denso:""},{default:w(()=>{var P;return[te(" Kit "+de((P=a.item[a.documentoItemKit[E.documento.id].idItem])==null?void 0:P.referencia),1)]}),_:2},1024)]),_:2},1024)),v(Ie,{avatar:""},{default:w(()=>[A("div",vMe,[A("div",gMe,[i.ehOrcamento?ce("",!0):($(),ue(pe,{key:0,color:"primary",dense:"",flat:"",icon:"mdi-eye",round:"",onClick:P=>i.abrirKit(E.documento.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Visualizar Kit")]),_:1})]),_:2},1032,["onClick"])),i.ehOrcamento?($(),ue(pe,{key:1,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:P=>i.abrirKit(E.documento.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Editar Kit")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)]),A("div",_Me,[i.ehOrcamento?($(),ue(pe,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:P=>i.removerKit(E.documento.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Remover Kit")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)])])]),_:2},1024)]),_:2},1024)]),_:2},1024),A("div",bMe,[v(m,{class:"q-col-gutter-sm"},{default:w(()=>[A("div",{class:"col-4 col-md",warning:!!a.warningLabel[a.documentoItemKit[E.documento.id].id],"warning-label":a.warningLabel[a.documentoItemKit[E.documento.id].id]},[v(m,{class:"items-center"},{default:w(()=>[v(d,{dense:"",align:"left",tipo:"decimal",decimals:"4",zerosDireita:"2",outlined:"","somente-leitura":a.documentoItemKit[E.documento.id].operacaoFator===1,modelValue:a.documentoItemKit[E.documento.id].valorItem,"onUpdate:modelValue":P=>a.documentoItemKit[E.documento.id].valorItem=P,rotulo:"Valor do produto",onBlur:P=>i.carrinhoCalcularTotais(a.documentoItemKit[E.documento.id].id,"valorItem"),aviso:"",avisoRotulo:a.hintValorUnitario[a.documentoItemKit[E.documento.id].id]},null,8,["somente-leitura","modelValue","onUpdate:modelValue","onBlur","avisoRotulo"])]),_:2},1024)],8,yMe),A("div",CMe,[v(m,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-minus",color:"primary"}),v(d,{dense:"",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",rotulo:"Desconto percentual",modelValue:a.documentoItemKit[E.documento.id].descontoPercentualItem,"onUpdate:modelValue":P=>a.documentoItemKit[E.documento.id].descontoPercentualItem=P,outlined:"","somente-leitura":!i.ehOrcamento||a.documentoItemKit[E.documento.id].operacaoFator===1,suffix:"%",onBlur:P=>i.carrinhoCalcularTotais(a.documentoItemKit[E.documento.id].id,"descontoPercentualItem")},null,8,["modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),_:2},1024)]),A("div",xMe,[v(d,{dense:"",opcoes:{maximumValue:a.documentoItemKit[E.documento.id].valorItem,minimumValue:0},tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:a.documentoItemKit[E.documento.id].descontoItem,"onUpdate:modelValue":P=>a.documentoItemKit[E.documento.id].descontoItem=P,outlined:"",rotulo:"Desconto em reais","somente-leitura":!i.ehOrcamento||a.documentoItemKit[E.documento.id].operacaoFator===1,prefix:"R$",onBlur:P=>i.carrinhoCalcularTotais(a.documentoItemKit[E.documento.id].id,"descontoItem")},null,8,["opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),A("div",wMe,[v(m,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(d,{dense:"",align:e.$q.screen.lt.sm?"left":"right",outlined:"",opcoes:{maximumValue:a.documentoItemKit[E.documento.id].valorItem,minimumValue:0},rotulo:"Subtotal",tipo:"decimal",decimals:"4",zerosDireita:"2","model-value":i.subtotal2(a.documentoItemKit[E.documento.id].id),"somente-leitura":!i.ehOrcamento||a.documentoItemKit[E.documento.id].operacaoFator===1,onBlur:P=>i.carrinhoCalcularTotais(a.documentoItemKit[E.documento.id].id,"subTotal"),"onUpdate:modelValue":P=>{e.subTotal[a.documentoItemKit[E.documento.id].id]=P}},null,8,["align","opcoes","model-value","somente-leitura","onBlur","onUpdate:modelValue"])]),_:2},1024)]),A("div",IMe,[v(m,{class:"items-center"},{default:w(()=>{var P;return[v(Ve,{name:"mdi-close",color:"primary"}),v(d,{dense:"",max:a.documentoItemKit[E.documento.id].quantidadeDisponivel,min:"0",outlined:"",modelValue:a.documentoItemKit[E.documento.id].quantidade,"onUpdate:modelValue":[N=>a.documentoItemKit[E.documento.id].quantidade=N,N=>i.carrinhoCalcularTotais(a.documentoItemKit[E.documento.id].id,"quantidade")],"somente-leitura":!i.ehOrcamento,tipo:i.ehOrcamento?"quantidade":"decimal",decimals:"4",zerosDireita:"0",aviso:"",avisoRotulo:(P=a.item[a.documentoItemKit[E.documento.id].idItem])==null?void 0:P.embalagem},null,8,["max","modelValue","onUpdate:modelValue","somente-leitura","tipo","avisoRotulo"]),v(Mt,null,{default:w(()=>[te("Quantidade")]),_:1})]}),_:2},1024)]),A("div",EMe,[v(m,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(d,{dense:"",tipo:"decimal",decimals:"2",rotulo:"Total","somente-leitura":!0,modelValue:a.documentoItemKit[E.documento.id].total,"onUpdate:modelValue":P=>a.documentoItemKit[E.documento.id].total=P,outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),_:2},1024)])],64)):ce("",!0),E.id?($(),be(Qe,{key:3},[v(wt,{class:"full-width"},{default:w(()=>[v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:"",class:"col-auto"},{default:w(()=>[v(n,{imagem:(a.item[E.idItem]||{}).imagem,rotulo:E.descricaoItem,tamanho:"40"},null,8,["imagem","rotulo"])]),_:2},1024),v(Ie,{class:"q-px-none"},{default:w(()=>[v(Be,null,{default:w(()=>[te(de(E.descricaoItem),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[te(de((a.item[E.idItem]||{}).marca),1)]),_:2},1024)]),_:2},1024),a.margem[E.id]&&a.permissaoMargem?($(),ue(Ie,{key:0,avatar:""},{default:w(()=>[a.margem[E.id].limite?($(),ue(s,{key:0,cor:"negative",denso:"",escuro:""},{default:w(()=>[te(de(E.tipoItem)+" "+de((a.item[E.idItem]||{}).referencia)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024)):a.margem[E.id].alerta?($(),ue(s,{key:1,cor:"warning",denso:""},{default:w(()=>[te(de(E.tipoItem)+" "+de((a.item[E.idItem]||{}).referencia)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024)):($(),ue(s,{key:2,denso:""},{default:w(()=>[te(de(E.tipoItem)+" "+de((a.item[E.idItem]||{}).referencia)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024))]),_:2},1024)):($(),ue(Ie,{key:1,avatar:""},{default:w(()=>[v(s,{denso:""},{default:w(()=>[te(de(E.tipoItem)+" "+de((a.item[E.idItem]||{}).referencia),1)]),_:2},1024)]),_:2},1024)),v(Ie,{avatar:""},{default:w(()=>[A("div",SMe,[A("div",AMe,[i.ehOrcamento?($(),ue(pe,{key:0,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:P=>i.editarProduto(E)},null,8,["onClick"])):ce("",!0)]),A("div",TMe,[i.ehOrcamento?($(),ue(pe,{key:0,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:P=>i.removerItem(E.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Remover Item")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)])])]),_:2},1024)]),_:2},1024)]),_:2},1024),A("div",OMe,[v(m,{class:"q-col-gutter-sm"},{default:w(()=>[E.tipoItem!=="Envelope"?($(),be("div",{key:0,class:"col-4 col-md",warning:!!a.warningLabel[E.id],"warning-label":a.warningLabel[E.id]},[v(m,{class:"items-center"},{default:w(()=>[v(d,{dense:"",align:"left",tipo:"decimal",decimals:"4",zerosDireita:"2",outlined:"","somente-leitura":E.operacaoFator===1,modelValue:E.valorItem,"onUpdate:modelValue":P=>E.valorItem=P,rotulo:"Valor do produto",onBlur:P=>i.carrinhoCalcularTotais(E.id,"valorItem"),aviso:"",avisoRotulo:a.hintValorUnitario[E.id]},null,8,["somente-leitura","modelValue","onUpdate:modelValue","onBlur","avisoRotulo"])]),_:2},1024)],8,DMe)):ce("",!0),E.tipoItem!=="Envelope"?($(),be(Qe,{key:1},[A("div",PMe,[v(m,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-minus",color:"primary"}),v(d,{dense:"",opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",rotulo:"Desconto percentual",modelValue:E.descontoPercentualItem,"onUpdate:modelValue":P=>E.descontoPercentualItem=P,outlined:"","somente-leitura":!i.ehOrcamento||E.operacaoFator===1,suffix:"%",onBlur:P=>i.carrinhoCalcularTotais(E.id,"descontoPercentualItem")},null,8,["modelValue","onUpdate:modelValue","somente-leitura","onBlur"])]),_:2},1024)]),A("div",MMe,[v(d,{dense:"",opcoes:{maximumValue:E.valorItem,minimumValue:0},tipo:"decimal",decimals:"4",zerosDireita:"2",modelValue:E.descontoItem,"onUpdate:modelValue":P=>E.descontoItem=P,outlined:"",rotulo:"Desconto em reais","somente-leitura":!i.ehOrcamento||E.operacaoFator===1,prefix:"R$",onBlur:P=>i.carrinhoCalcularTotais(E.id,"descontoItem")},null,8,["opcoes","modelValue","onUpdate:modelValue","somente-leitura","onBlur"])])],64)):ce("",!0),E.tipoItem!=="Envelope"?($(),be("div",NMe,[v(m,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(d,{dense:"",align:e.$q.screen.lt.sm?"left":"right",outlined:"",opcoes:{maximumValue:E.valorItem,minimumValue:0},rotulo:"Subtotal",tipo:"decimal",decimals:"4",zerosDireita:"2","model-value":i.subtotal2(E.id),"somente-leitura":!i.ehOrcamento||E.operacaoFator===1,onBlur:P=>i.carrinhoCalcularTotais(E.id,"subTotal"),"onUpdate:modelValue":P=>{e.subTotal[E.id]=P}},null,8,["align","opcoes","model-value","somente-leitura","onBlur","onUpdate:modelValue"])]),_:2},1024)])):ce("",!0),E.tipoItem!=="Envelope"?($(),be("div",FMe,[v(m,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-close",color:"primary"}),v(d,{dense:"",max:E.quantidadeDisponivel,min:"0",outlined:"",modelValue:E.quantidade,"onUpdate:modelValue":[P=>E.quantidade=P,P=>i.carrinhoCalcularTotais(E.id,"quantidade")],"somente-leitura":!i.ehOrcamento,tipo:i.ehOrcamento?"quantidade":"decimal",decimals:"4",zerosDireita:"0",aviso:"",avisoRotulo:(a.item[E.idItem]||{}).embalagem},null,8,["max","modelValue","onUpdate:modelValue","somente-leitura","tipo","avisoRotulo"]),v(Mt,null,{default:w(()=>[te("Quantidade")]),_:1})]),_:2},1024)])):ce("",!0),A("div",RMe,[v(m,{class:"items-center"},{default:w(()=>[v(Ve,{name:"mdi-equal",color:"primary",class:"hideonmobile"}),v(d,{dense:"",tipo:"decimal",decimals:"2",rotulo:"Total","somente-leitura":!0,modelValue:E.total,"onUpdate:modelValue":P=>E.total=P,outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),_:2},1024)])],64)):ce("",!0)]))),128)),A("div",kMe,[($(!0),be(Qe,null,zt(a.envelopes,E=>($(),be("div",{class:"items-carrinho items-center row q-py-sm",key:E.id},[v(wt,{class:"full-width"},{default:w(()=>[v(We,{class:"q-px-none"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(n,{imagem:(a.contatos[E.idContato]||{}).imagem,rotulo:E.tipo,tamanho:"40"},null,8,["imagem","rotulo"])]),_:2},1024),v(Ie,null,{default:w(()=>[v(Be,{class:"text-body1"},{default:w(()=>[te(de(i.descricaoEnvelope(E.id)),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[te(de(E.descricaoContato),1)]),_:2},1024)]),_:2},1024),v(Ie,{avatar:""},{default:w(()=>[a.margem[E.id]&&a.permissaoMargem?($(),be(Qe,{key:0},[a.margem[E.id].limite?($(),ue(s,{key:0,cor:"negative",denso:"",escuro:""},{default:w(()=>[te(de(E.tipo)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024)):a.margem[E.id].alerta?($(),ue(s,{key:1,cor:"warning",denso:""},{default:w(()=>[te(de(E.tipo)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024)):($(),ue(s,{key:2,denso:""},{default:w(()=>[te(de(E.tipo)+" ",1),v(Mt,null,{default:w(()=>[te("\xCDndice "+de(e.$filters.numero(a.margem[E.id].valor,2))+"%",1)]),_:2},1024)]),_:2},1024))],64)):($(),ue(s,{key:1,denso:""},{default:w(()=>[te(de(E.tipo),1)]),_:2},1024))]),_:2},1024),v(Ie,{avatar:""},{default:w(()=>[A("div",VMe,[A("div",qMe,[i.ehOrcamento?($(),ue(pe,{key:0,color:"primary",dense:"",flat:"",icon:"edit",round:"",onClick:D=>i.abrirModalEnvelope(E.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Editar Envelope")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)]),A("div",BMe,[i.ehOrcamento?ce("",!0):($(),ue(pe,{key:0,color:"primary",dense:"",flat:"",icon:"open_in_browser",round:"",onClick:D=>i.abrirModalEnvelope(E.id)},null,8,["onClick"])),i.ehOrcamento?($(),ue(pe,{key:1,color:"tertiary",dense:"",flat:"",icon:"delete",round:"",onClick:D=>i.removerEnvelope(E.id)},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Remover Envelope")]),_:1})]),_:2},1032,["onClick"])):ce("",!0)])])]),_:2},1024)]),_:2},1024)]),_:2},1024),A("div",LMe,[v(m,{class:"q-col-gutter-sm"},{default:w(()=>[v(d,{dense:"",tipo:"decimal",decimals:"2",modelValue:E.totalDocumento,"onUpdate:modelValue":D=>E.totalDocumento=D,outlined:"",rotulo:"Total","somente-leitura":!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]))),128))]),a.produtos.length||Object.keys(a.envelopes).length?($(),be("div",$Me,[A("div",UMe,[A("div",zMe,[HMe,A("strong",jMe,de(e.$filters.numero(a.venda.subTotal,2)),1)]),A("div",GMe,[WMe,A("div",XMe,[v(d,{"somente-leitura":!i.ehOrcamento,opcoes:{maximumValue:100},tipo:"decimal",decimals:"2",modelValue:a.venda.totalPercentualDesconto,"onUpdate:modelValue":[t[15]||(t[15]=E=>a.venda.totalPercentualDesconto=E),t[16]||(t[16]=E=>i.calcularTotais("totalPercentualDesconto"))],suffix:"%",error:a.erroCalculo},null,8,["somente-leitura","modelValue","error"])]),A("div",YMe,[v(d,{"somente-leitura":!i.ehOrcamento,opcoes:{maximumValue:a.venda.subTotal,minimumValue:0},tipo:"decimal",decimals:"2",modelValue:a.venda.totalDesconto,"onUpdate:modelValue":[t[17]||(t[17]=E=>a.venda.totalDesconto=E),t[18]||(t[18]=E=>i.calcularTotais("totalDesconto"))],error:a.erroCalculo},null,8,["somente-leitura","opcoes","modelValue","error"])])]),A("div",KMe,[QMe,A("div",JMe,[v(Zs,{class:"q-mr-md",label:"CIF",val:"CIF",modelValue:a.venda.tipoFrete,"onUpdate:modelValue":[t[19]||(t[19]=E=>a.venda.tipoFrete=E),i.calcularTotais],disable:!i.ehOrcamento,dense:""},null,8,["modelValue","disable","onUpdate:modelValue"]),v(Zs,{label:"FOB",val:"FOB",modelValue:a.venda.tipoFrete,"onUpdate:modelValue":[t[20]||(t[20]=E=>a.venda.tipoFrete=E),i.calcularTotais],disable:!i.ehOrcamento,dense:""},null,8,["modelValue","disable","onUpdate:modelValue"])]),A("div",ZMe,[v(d,{opcoes:{maximumValue:a.venda.subTotal,minimumValue:0},tipo:"decimal",decimals:"2","somente-leitura":!i.ehOrcamento,modelValue:a.venda.valorFrete,"onUpdate:modelValue":[t[21]||(t[21]=E=>a.venda.valorFrete=E),i.calcularTotais]},null,8,["opcoes","somente-leitura","modelValue","onUpdate:modelValue"])])]),A("div",eNe,[tNe,A("strong",oNe,de(e.$filters.numero(a.venda.totalDocumento-(a.calcularTributacao?(a.imposto.valorIpi||0)+(a.imposto.valorIcmsSt||0)+(a.imposto.valorDifal||0):0),2)),1)]),a.imposto.valorIpi||a.imposto.valorIcmsSt||a.imposto.valorDifal?($(),be("div",aNe,[a.imposto.valorIpi?($(),be("div",rNe,[iNe,A("div",{class:ii(["col text-right",{"text-strike":!a.calcularTributacao}])},de(e.$filters.numero(a.imposto.valorIpi,2)),3)])):ce("",!0),a.imposto.valorIcmsSt?($(),be("div",nNe,[sNe,A("div",{class:ii(["col text-right",{"text-strike":!a.calcularTributacao}])},de(e.$filters.numero(a.imposto.valorIcmsSt,2)),3)])):ce("",!0),a.imposto.valorDifal?($(),be("div",lNe,[cNe,A("div",{class:ii(["col text-right",{"text-strike":!a.calcularTributacao}])},de(e.$filters.numero(a.imposto.valorDifal,2)),3)])):ce("",!0),A("div",uNe,[A("div",dNe,[te(" Total c/ Impostos "),v(zF,{disable:!i.ehOrcamento,modelValue:a.venda.calcularTributacao,"onUpdate:modelValue":[t[22]||(t[22]=E=>a.venda.calcularTributacao=E),i.calcularTotais],"checked-icon":"check",color:"green","unchecked-icon":"clear"},null,8,["disable","modelValue","onUpdate:modelValue"])]),A("strong",fNe,de(e.$filters.numero(a.venda.totalDocumento,2)),1)])])):ce("",!0),a.pesoTotal?($(),be("div",mNe,[pNe,A("span",hNe,de(a.pesoTotal),1)])):ce("",!0),a.pesoBrutoTotal?($(),be("div",vNe,[gNe,A("span",_Ne,de(a.pesoBrutoTotal),1)])):ce("",!0),a.metroCubicoTotal?($(),be("div",bNe,[yNe,A("span",CNe,de(a.metroCubicoTotal),1)])):ce("",!0)])])):ce("",!0)])):($(),be("div",Z8e,oMe))]),A("div",xNe,[v(f,{documento:a.venda,onMudou:i.faturamentoAtualizar,ref:"faturamento"},null,8,["documento","onMudou"])]),a.venda.idContato&&a.sistemaPai!=="optisoul"?($(),be("div",wNe,[v(p,{idContatoCliente:a.venda.idContato,ref:"transporte"},null,8,["idContatoCliente"])])):ce("",!0),A("div",INe,[v(nt,{class:"q-pa-md"},{default:w(()=>[te("Arquivos")]),_:1}),v(g,{resize:{crop:!0,width:1e3,height:1e3},enableChanges:o.enableChanges,idTabelaMaster:a.venda.id,tipoArquivo:"vendaArquivo",arquivo:a.arquivo},null,8,["enableChanges","idTabelaMaster","arquivo"])]),A("div",ENe,[Object.keys(a.envelopes).length||a.produtos.length?($(),ue(at,{key:0,class:"text-tertiary"},{default:w(()=>[v(Ve,{name:"description",size:"24px"}),v(nt,null,{default:w(()=>[te("Observa\xE7\xF5es")]),_:1})]),_:1})):ce("",!0),A("div",SNe,[v(m,{class:"q-col-gutter-md"},{default:w(()=>[A("div",ANe,[v(d,{modelValue:a.venda.observacao,"onUpdate:modelValue":t[23]||(t[23]=E=>a.venda.observacao=E),tipo:"textoArea",rotulo:"Observa\xE7\xE3o","somente-leitura":!i.ehOrcamento},null,8,["modelValue","somente-leitura"])]),A("div",TNe,[v(d,{modelValue:a.venda.observacaoInterna,"onUpdate:modelValue":t[24]||(t[24]=E=>a.venda.observacaoInterna=E),tipo:"textoArea",rotulo:"Observa\xE7\xE3o interna","somente-leitura":!i.ehOrcamento},null,8,["modelValue","somente-leitura"])]),A("div",ONe,[v(d,{modelValue:a.venda.numeroOrdemCompra,"onUpdate:modelValue":t[25]||(t[25]=E=>a.venda.numeroOrdemCompra=E),autogrow:"",rotulo:"Ordem de Compra","somente-leitura":!i.ehOrcamento,maxlength:"50"},null,8,["modelValue","somente-leitura"])])]),_:1})])]),v(b,{ref:"modalEnvelope",onSalvarEnvelope:i.salvarEnvelope,enableChanges:o.enableChanges},null,8,["onSalvarEnvelope","enableChanges"]),v(x,{ref:"modalCustom",onSalvar:i.salvarCustom},null,8,["onSalvar"]),v(_,{ref:"modalOS",onSalvar:i.salvarOS},null,8,["onSalvar"]),v(y,{modelValue:a.modalItem,"onUpdate:modelValue":t[26]||(t[26]=E=>a.modalItem=E),filtro:{ativo:!0,bloquearVenda:!1,idTabelaPreco:a.venda.idItemTabelaPreco,idEmpresa:a.venda.idEmpresa,idContato:a.venda.idContato},onSelecionarItens:i.selecionarItens,habilitarQuantidade:!0,ref:"promptItem"},null,8,["modelValue","filtro","onSelecionarItens"]),v(Qt,{modelValue:a.modalDescontoMaximo.visivel,"onUpdate:modelValue":t[30]||(t[30]=E=>a.modalDescontoMaximo.visivel=E),minimized:"",onHide:t[31]||(t[31]=E=>a.modalDescontoMaximo.reject())},{default:w(()=>[v(Bt,{class:"q-dialog-plugin"},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te(de(a.modalDescontoMaximo.titulo),1)]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",DNe,[A("form",{class:"q-pa-sm",onSubmit:t[29]||(t[29]=st(E=>a.modalDescontoMaximo.resolve(),["prevent"]))},[v(wt,{"no-border":"",dense:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.modalDescontoMaximo.itens,(E,D)=>($(),be(Qe,{key:D+E.descricao},[D?($(),ue(Ho,{key:0})):ce("",!0),v(We,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(E.descricao)+" ",1),v(Mt,null,{default:w(()=>[te(" M\xE1ximo permitido: "+de(E.maximoDesconto)+"% ",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],64))),128)),a.modalDescontoMaximo.msg?($(),be(Qe,{key:0},[a.modalDescontoMaximo.itens.length?($(),ue(Ho,{key:0})):ce("",!0),v(We,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(a.modalDescontoMaximo.msg),1)]),_:1})]),_:1})]),_:1})],64)):ce("",!0)]),_:1}),A("div",PNe,[Te(v(pe,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[lt]]),v(pe,{color:"primary",class:"q-ml-sm no-shadow",label:"Continuar",unelevated:"",onClick:t[27]||(t[27]=E=>a.modalDescontoMaximo.resolve("continuar"))}),a.modalDescontoMaximo.permiteDescontoMaximo?($(),ue(pe,{key:0,color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Aprovar",onClick:t[28]||(t[28]=E=>a.modalDescontoMaximo.resolve("aprovar"))})):ce("",!0)])],32)])]),_:1})]),_:1},8,["modelValue"]),v(Qt,{modelValue:a.modalItemSemEstoque.visivel,"onUpdate:modelValue":t[34]||(t[34]=E=>a.modalItemSemEstoque.visivel=E),minimized:"",onShow:t[35]||(t[35]=E=>e.$q.loading.hide()),onHide:t[36]||(t[36]=E=>a.modalItemSemEstoque.reject())},{default:w(()=>[v(Bt,{class:"q-dialog-plugin"},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te(de((a.modalItemSemEstoque.itens||[]).length>1?"Itens":"Item")+" sem estoque ",1)]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",MNe,[A("form",NNe,[v(wt,{"no-border":"",dense:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.modalItemSemEstoque.itens,(E,D)=>($(),be(Qe,{key:D+E.descricao},[D?($(),ue(Ho,{key:0})):ce("",!0),v(We,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(E.descricao),1)]),_:2},1024),v(Be,{caption:""},{default:w(()=>[te(" Estoque: "+de(E.saldo)+" ",1),E.offline?($(),be("span",FNe,"(Offline)")):ce("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)],64))),128))]),_:1}),v(wt,{"no-border":"",dense:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.modalItemSemEstoque.opcoes,(E,D)=>($(),ue(We,{key:D},{default:w(()=>[v(Be,null,{default:w(()=>[v(Zs,{modelValue:a.modalItemSemEstoque.opcao,"onUpdate:modelValue":t[32]||(t[32]=P=>a.modalItemSemEstoque.opcao=P),class:"q-mr-sm",label:E.label,val:E.value},null,8,["modelValue","label","val"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),A("div",RNe,[Te(v(pe,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[lt]]),v(pe,{color:"primary",class:"q-ml-sm no-shadow",label:"Finalizar",unelevated:"",onClick:t[33]||(t[33]=E=>a.modalItemSemEstoque.resolve("finalizar"))})])])])]),_:1})]),_:1},8,["modelValue"]),v(Qt,{modelValue:a.modalCreditoDisponivel.visivel,"onUpdate:modelValue":t[39]||(t[39]=E=>a.modalCreditoDisponivel.visivel=E),minimized:"",onHide:t[40]||(t[40]=E=>a.modalCreditoDisponivel.reject())},{default:w(()=>[v(Bt,{class:"q-dialog-plugin"},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te(de(a.modalCreditoDisponivel.title),1)]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",kNe,[A("form",VNe,[v(wt,{"no-border":"",dense:""},{default:w(()=>[v(We,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(a.modalCreditoDisponivel.body),1)]),_:1})]),_:1})]),_:1})]),_:1}),A("div",qNe,[Te(v(pe,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[lt]]),v(pe,{color:"primary",class:"q-ml-sm no-shadow",label:"Continuar",unelevated:"",onClick:t[37]||(t[37]=E=>a.modalCreditoDisponivel.resolve("continuar"))}),a.modalCreditoDisponivel.permiteFinalizar?($(),ue(pe,{key:0,color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Aprovar",onClick:t[38]||(t[38]=E=>a.modalCreditoDisponivel.resolve("aprovar"))})):ce("",!0)])])])]),_:1})]),_:1},8,["modelValue"]),v(Qt,{modelValue:a.modalProdutoControlado.visivel,"onUpdate:modelValue":t[42]||(t[42]=E=>a.modalProdutoControlado.visivel=E),minimized:"",onHide:t[43]||(t[43]=E=>a.modalProdutoControlado.reject())},{default:w(()=>[v(Bt,{class:"q-dialog-plugin"},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Produto(s) Controlado(s) - Quantidade Excedida")]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",BNe,[A("form",{class:"q-pa-sm",onSubmit:t[41]||(t[41]=st(E=>a.modalProdutoControlado.resolve(),["prevent"]))},[v(wt,{"no-border":"",dense:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.modalProdutoControlado.itens,(E,D)=>($(),be(Qe,{key:D+E.descricao},[D?($(),ue(Ho,{key:0})):ce("",!0),v(We,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(Be,{header:""},{default:w(()=>[te(de(E.descricao)+" ",1),v(Mt,null,{default:w(()=>[te(de(E.tooltip),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],64))),128))]),_:1}),A("div",LNe,[Te(v(pe,{color:"tertiary",flat:"",label:"Cancelar"},null,512),[[lt]]),a.modalProdutoControlado.permiteQuantidadeExcedida?($(),ue(pe,{key:0,color:"primary",class:"q-ml-sm no-shadow",unelevated:"",label:"Continuar",type:"submit"})):ce("",!0)])],32)])]),_:1})]),_:1},8,["modelValue"]),v(I,{model:a.mostrarTitulosPendentesEmAtraso},null,8,["model"]),v(S,{ref:"modalEditarProduto",onSalvar:i.salvarEdicaoProduto},null,8,["onSalvar"]),v(O,{ref:"promptItemTabelaPreco",onSelecionar:i.selecionarItemTabelaPreco},null,8,["onSelecionar"]),v(F,{ref:"promptDocumentoOperacao",onSelecionar:i.selecionarDocumentoOperacaoViaPrompt},null,8,["onSelecionar"]),a.kitModel?($(),ue(M,{key:1,model:a.kitModel,onDestroy:t[44]||(t[44]=()=>{a.kitModel=null}),onSalvar:i.salvarKit},null,8,["model","onSalvar"])):ce("",!0),v(Uge,{color:"primary",size:"50px",visible:a.exibirCarregando},null,8,["visible"])])}var UNe=ht(W8e,[["render",$Ne]]);const zNe={components:{CodigoBarras:M0,Venda:UNe},data(){return{titulo:"",venda:{},vendaVisivel:!1,visivel:!1,id:"",idContato:"",itemFiltros:{},visibilidade:{botao:{cancelar:!1,finalizar:!1,naoAprovado:!1,salvar:!1}}}},emits:["executar","atualizarAtendimentoVenda"],methods:{configurarFiltroCodigoBarras(e){e||(e=this.$refs.venda.venda),this.itemFiltros={ativo:!0,bloquearVenda:!1,idEmpresa:e.idEmpresa,idContato:e.idContato,idItemTabelaPreco:e.idItemTabelaPreco}},voltar(e){e.stopPropagation(),$q.dialog({message:"Deseja descartar as modifica\xE7\xF5es?",title:"Aten\xE7\xE3o!",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Descartar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{this.fechar()})},async atualizar(){let e,t;e="Venda",t={id:$utils.uuid(),idContato:this.idContato,tipo:"Venda",status:"Or\xE7amento"},this.id&&(t=await $db.venda.ler({id:this.id}),$utils.verificarErro(!(t!=null&&t.id),"Erro ao obter dados"),this.configurarFiltroCodigoBarras(t)),e+=" - "+t.status,this.venda=t,this.titulo=e,this.visibilidade.botao.finalizar=!1,this.visibilidade.botao.naoAprovado=!1,this.visibilidade.botao.salvar=!1,["Aguardando Libera\xE7\xE3o","Aguardando Estoque","Aguardando Financeiro","Or\xE7amento"].includes(t.status)&&(this.visibilidade.botao.finalizar=!0,this.visibilidade.botao.naoAprovado=!0,this.visibilidade.botao.salvar=!0),await $db.contato.exibirCondutaObservacao(t.idContato,$q.notify)},async executar(e){switch(e){case"cancelar":await this.$refs.venda.cancelar();break;case"finalizar":if(await this.$refs.venda.finalizar()){let t=await $db.documento.ler({id:this.venda.id});t.idFatura&&localStorage.setItem("idFatura",t.idFatura)}else return;break;case"reprovar":if(!await this.$refs.venda.reprovarOrcamento())return;break}this.$emit("executar",e),this.fechar()},fechar(){this.visivel=!1},async mostrar(e={}){await $tryLoading(async()=>{this.id=e.id,this.idContato=e.idContato,await this.atualizar(),this.visivel=!0,await this.$nextTick(),this.vendaVisivel=!0})},onHide(){this.titulo="",this.venda={},this.vendaVisivel=!1,this.visibilidade={botao:{cancelar:!1,finalizar:!1,naoAprovado:!1,salvar:!1}}},async salvar(){!await this.$refs.venda.salvarVenda()||($utils.emitter.emit("atualizarAtendimentoVenda"),this.$emit("atualizarAtendimentoVenda"),this.fechar())}},props:{continueMesmaTela:{type:Boolean,required:!1,default:!1}}},HNe={class:"layout-padding q-pa-none q-pb-md"},jNe={class:"u-container"},GNe={class:"bg-white"},WNe={class:"u-container"},XNe={class:"u-container"};function YNe(e,t,o,r,a,i){const n=ke("venda"),s=ke("CodigoBarras");return $(),ue(Qt,{id:"VendaModal",modelValue:a.visivel,"onUpdate:modelValue":t[6]||(t[6]=l=>a.visivel=l),persistent:"",maximized:"",onHide:i.onHide,onKeyup:Zi(i.voltar,["esc"])},{default:w(()=>[v(Jo,{container:"",class:"bg-light"},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[v(pe,{dense:"",flat:"",icon:"arrow_back",round:"",clikable:"",onClick:i.voltar},null,8,["onClick"]),v(nt,null,{default:w(()=>[te(de(a.titulo),1)]),_:1}),a.visibilidade.botao.salvar?($(),ue(pe,{key:0,class:"q-ml-sm no-shadow",color:"white",label:"Salvar",unelevated:"","text-color":"primary",onClick:i.salvar},null,8,["onClick"])):ce("",!0)]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",HNe,[A("div",jNe,[a.venda.id?($(),ue(n,{key:0,ref:"venda",id:a.venda.id,idContato:a.venda.idContato,onExecutar:i.executar,onFechar:i.fechar,onAdicionar:i.configurarFiltroCodigoBarras,enableChanges:a.visibilidade.botao.salvar,continueMesmaTela:o.continueMesmaTela},null,8,["id","idContato","onExecutar","onFechar","onAdicionar","enableChanges","continueMesmaTela"])):ce("",!0)])])]),_:1}),v(dl,{bordered:"",class:"bg-light"},{default:w(()=>[A("div",GNe,[A("div",WNe,[a.vendaVisivel?($(),ue(at,{key:0,class:"bg-white"},{default:w(()=>[v(nt,null,{default:w(()=>[e.$refs.venda.ehOrcamento?($(),ue(s,{key:0,itemFiltros:a.itemFiltros,documentoItens:e.$refs.venda.carrinho,onAdicionar:e.$refs.venda.adicionarItem,onAtualizar:e.$refs.venda.selecionarItens},null,8,["itemFiltros","documentoItens","onAdicionar","onAtualizar"])):ce("",!0)]),_:1}),e.$refs.venda.ehOrcamento?($(),ue(pe,{key:0,class:"q-px-sm",color:"primary",icon:"add",label:"Produto",flat:"",onClick:e.$refs.venda.abrirModalItem},null,8,["onClick"])):ce("",!0),e.$refs.venda.sistemaPai==="optisoul"&&e.$refs.venda.ehOrcamento&&e.$refs.venda.venda.idContato!=0?($(),ue(pe,{key:1,class:"q-px-sm",color:"primary",flat:"",icon:"add",label:"Envelope",onClick:t[0]||(t[0]=l=>e.$refs.venda.abrirModalEnvelope())})):ce("",!0),e.$refs.venda.ehOrcamento&&e.$refs.venda.permissaoOSs?($(),ue(pe,{key:2,class:"q-px-sm",color:"primary",flat:"",icon:"add",label:"OS",onClick:t[1]||(t[1]=l=>e.$refs.venda.abrirModalOS())})):ce("",!0),e.$refs.venda.ehOrcamento&&e.$refs.venda.permissaoCustoms?($(),ue(pe,{key:3,class:"q-px-sm",color:"primary",icon:"add",label:"Custom",flat:"",onClick:t[2]||(t[2]=l=>e.$refs.venda.abrirModalCustom())})):ce("",!0),e.$refs.venda.ehOrcamento&&e.$refs.venda.permissaoKits?($(),ue(pe,{key:4,class:"q-px-sm",color:"primary",icon:"add",label:"Kit",flat:"",onClick:t[3]||(t[3]=l=>e.$refs.venda.abrirKit())})):ce("",!0)]),_:1})):ce("",!0)])]),A("div",XNe,[v(at,{class:"bg-light"},{default:w(()=>[v(nt,{class:"text-right"},{default:w(()=>[a.visibilidade.botao.naoAprovado?($(),ue(pe,{key:0,class:"q-mx-md",color:"negative",flat:"",label:"N\xE3o aprovado",onClick:t[4]||(t[4]=l=>i.executar("reprovar"))})):ce("",!0),a.visibilidade.botao.finalizar?($(),ue(pe,{key:1,color:"primary",label:"Finalizar",unelevated:"",onClick:t[5]||(t[5]=l=>i.executar("finalizar"))})):ce("",!0)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onKeyup"])}var KNe=ht(zNe,[["render",YNe]]);const QNe={components:{Badge:vl},computed:{dadosEncontrados(){return this.dados.length}},data(){return{carregando:!1,dados:[],dado:{},filtro:{},placeholder:"Buscar",termo:"",visivel:!1}},emits:["selecionar"],methods:{async filtrar(){if(!this.termo){this.dados=[];return}let e;try{let t=[],o,r,a,i=!1;if(i=!$db.usuario.logado.administrador&&await $db.permissao.objetoClienteSistema("Diretiva_Contatos_AcessaTodosContatos")&&!await $db.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos"),i){let n,s;n=await $erp().configuracoes.where({nome:"venda.codigoconsumidor"}).toArray(),s=Number(n[0].valor),s&&(r=(await $erp().contato.where({codigoContato:s}).toArray())[0]),$db.usuario.logado.numeroDocumentoNacional&&(a=(await $erp().contato.where({numeroDocumentoNacional:$db.usuario.logado.numeroDocumentoNacional}).toArray())[0])}this.carregando=!0,e=setTimeout(()=>{$q.loading.show({message:"Carregando informa\xE7\xF5es...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})},300);try{this.termo.length>2&&(o=await $utils.geeksApi({hibrido:{funcao:"741886FF-5D81-4687-8459-6E64258ED716",termoBusca:this.termo}}))}catch(n){$q.notifyError(n.message);return}o=((o||{}).data||{}).hibrido||[];for(const n of o){let s;!n.id||i&&(s=await $erp().contato.get(n.id),!s||!~[a==null?void 0:a.id,r==null?void 0:r.id].indexOf(s.id)&&!~[s.idContatoVendedor,s.idContatoAssistente].indexOf(a==null?void 0:a.id))||t.push(n)}this.dados=t}finally{this.carregando=!1,clearTimeout(e),$q.loading.hide()}},limpar(){this.carregando=!1,this.dados=[],this.dado={},this.filtro={},this.placeholder="Contato, documento, equipamento...",this.termo=""},mostrar(){this.filtrar(),this.visivel=!0},onHide(){this.dado.id&&this.$emit("selecionar",JSON.parse(JSON.stringify(this.dado))),this.limpar()},onShow(){this.$refs.search.focus()},selecionar(e={}){this.dado=e,this.visivel=!1}}},JNe={class:"layout-padding",container:""},ZNe={key:0},eFe={class:"col-12"},tFe={class:"col-12"},oFe={key:1,class:"bg-light q-pa-lg q-mt-lg round-borders text-black text-center"},aFe={key:0,class:"text-red-6"};function rFe(e,t,o,r,a,i){const n=ke("badge"),s=ke("row");return $(),ue(Qt,{modelValue:a.visivel,"onUpdate:modelValue":t[1]||(t[1]=l=>a.visivel=l),maximized:"",onHide:t[2]||(t[2]=l=>i.onHide()),onShow:t[3]||(t[3]=l=>i.onShow())},{default:w(()=>[v(Jo,{class:"bg-white",container:""},{default:w(()=>[v(xa,null,{default:w(()=>[v(at,null,{default:w(()=>[Te(v(pe,{dense:"",flat:"",icon:"arrow_back",round:""},null,512),[[lt]]),v(nt,null,{default:w(()=>[v(Ca,{modelValue:a.termo,"onUpdate:modelValue":[t[0]||(t[0]=l=>a.termo=l),i.filtrar],modelModifiers:{trim:!0},color:"none",ref:"search",dark:"",placeholder:a.placeholder,debounce:"1000",standout:"",filled:"",dense:"",clearable:"","clear-icon":"close"},null,8,["modelValue","placeholder","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),v(La,null,{default:w(()=>[A("div",JNe,[i.dadosEncontrados?($(),be("div",ZNe,[v(wt,{class:"rounded-borders"},{default:w(()=>[($(!0),be(Qe,null,zt(a.dados,l=>($(),be("div",{key:l.id+l.c3,style:{cursor:"pointer"}},[v(We,{clickable:"",onClick:u=>i.selecionar(l),class:"items-center d-flex q-py-xs"},{default:w(()=>[v(Ie,{avatar:"",class:"hideonmobile"},{default:w(()=>[v(n,{cor:"positive",escuro:""},{default:w(()=>[te(de(l.tipo),1)]),_:2},1024)]),_:2},1024),v(Ie,{class:"hideonmobile"},{default:w(()=>[v(Be,null,{default:w(()=>[te(de(l.c1),1)]),_:2},1024)]),_:2},1024),v(Ie,{class:"hideondesktop"},{default:w(()=>[v(Be,{caption:""},{default:w(()=>[v(n,{cor:"positive",escuro:""},{default:w(()=>[te(de(l.tipo),1)]),_:2},1024)]),_:2},1024),v(Be,{class:"text-tertiary"},{default:w(()=>[te(de(l.c1),1)]),_:2},1024),v(Be,{class:"text-tertiary"},{default:w(()=>[te(de(l.c2),1)]),_:2},1024),v(Be,{class:"q-my-xs",caption:""},{default:w(()=>[($(!0),be(Qe,null,zt(l.c3.split("%;%").filter(u=>(u||"").trim()&&u.split(":").filter(c=>c.trim()).length>1),u=>($(),ue(s,{key:u},{default:w(()=>[A("div",eFe,de(u),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),v(Ie,{class:"hideonmobile"},{default:w(()=>[v(Be,{class:"text-tertiary"},{default:w(()=>[te(de(l.c2),1)]),_:2},1024)]),_:2},1024),v(Ie,{class:"hideonmobile"},{default:w(()=>[v(Be,{caption:""},{default:w(()=>[($(!0),be(Qe,null,zt(l.c3.split("%;%").filter(u=>(u||"").trim()&&u.split(":").filter(c=>c.trim()).length>1),u=>($(),ue(s,{key:u},{default:w(()=>[A("div",tFe,de(u),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),v(Ho)]))),128))]),_:1})])):ce("",!0),!a.carregando&&!i.dadosEncontrados?($(),be("div",oFe,[te(" Nenhum resultado encontrado "),a.termo.length>0&&!(a.termo.length>2)?($(),be("div",aFe," Para melhor resultado digite pelo menos 3 caracteres ")):ce("",!0)])):ce("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var iFe=ht(QNe,[["render",rFe]]);const nFe={components:{},data(){return{form:{senhaAtual:"",senhaNova:"",senhaNovaRepetida:""},validationForm:{}}},methods:{async alterarSenha(){try{let e=!1;if(await this.validar().catch(o=>{e=!!o}),e)return;this.$q.loading.show();const t=await this.$utils.geeksApi({alterarSenha:{funcao:"6E4B10C1-548D-49F2-AEEA-64F53151D349",senhaAtual:this.form.senhaAtual,senhaNova:this.form.senhaNova}});this.$q.notify({type:"positive",message:t.data.alterarSenha.mensagem}),this.$refs.dialog.hide()}catch(e){this.$q.notifyError(e.message,e)}finally{this.$q.loading.hide()}},limpar(){this.form={senhaAtual:"",senhaNova:"",senhaNovaRepetida:""},this.validationForm={}},async validar(){const e=[n=>n.length||"Informe a senha atual"],t=[n=>n.length||"Informe a nova senha"],o=[n=>n.length||"Repetir a nova senha"];if(this.form.senhaAtual.length){let n=!0,s="N\xE3o foi poss\xEDvel verificar a validade da senha";await $utils.geeksApi({login:{funcao:"0F8E5067-A8B2-4C82-9275-25B114B9ED70",cpf:$db.usuario.logado.numeroDocumentoNacional,senha:this.form.senhaAtual}}).catch(l=>{n=!1,l.message==="Senha inv\xE1lida!"&&(s=l.message)}),e.push(()=>n||s),n&&this.form.senhaAtual===this.form.senhaNova&&t.push(()=>"A nova senha deve ser diferente da senha atual")}this.form.senhaNova.length&&this.form.senhaNovaRepetida.length&&this.form.senhaNova!==this.form.senhaNovaRepetida&&o.push(()=>"Novas senhas n\xE3o coincidem"),this.validationForm.senhaAtual=e,this.validationForm.senhaNova=t,this.validationForm.senhaNovaRepetida=o,this.$refs.senhaAtual.validate(),this.$refs.senhaNova.validate(),this.$refs.senhaNovaRepetida.validate(),await this.$nextTick();const r=this.$refs.senhaAtual.validate(),a=this.$refs.senhaNova.validate(),i=this.$refs.senhaNovaRepetida.validate();if(!(r&&a&&i))throw new Error("Erro no preenchimento dos campos")}}};function sFe(e,t,o,r,a,i){return $(),ue(Qt,{ref:"dialog",onHide:i.limpar},{default:w(()=>[v(Bt,{class:"card"},{default:w(()=>[v(Ja,{class:"text-h6"},{default:w(()=>[te(" Alterar Senha ")]),_:1}),v(ku,{onSubmit:i.alterarSenha},{default:w(()=>[v(Ja,{class:"q-pt-none q-mr-md q-col-gutter-md"},{default:w(()=>[v(Ca,{dense:"",modelValue:a.form.senhaAtual,"onUpdate:modelValue":t[0]||(t[0]=n=>a.form.senhaAtual=n),modelModifiers:{trim:!0},label:"Senha atual",type:"password",autofocus:"","lazy-rules":"",ref:"senhaAtual",rules:a.validationForm.senhaAtual},null,8,["modelValue","rules"]),v(Ca,{dense:"",modelValue:a.form.senhaNova,"onUpdate:modelValue":t[1]||(t[1]=n=>a.form.senhaNova=n),modelModifiers:{trim:!0},label:"Senha nova",type:"password","lazy-rules":"",ref:"senhaNova",rules:a.validationForm.senhaNova},null,8,["modelValue","rules"]),v(Ca,{dense:"",modelValue:a.form.senhaNovaRepetida,"onUpdate:modelValue":t[2]||(t[2]=n=>a.form.senhaNovaRepetida=n),modelModifiers:{trim:!0},label:"Confirme a nova senha",type:"password","lazy-rules":"",ref:"senhaNovaRepetida",rules:a.validationForm.senhaNovaRepetida},null,8,["modelValue","rules"])]),_:1}),v(JI,{class:"text-primary float-right"},{default:w(()=>[Te(v(pe,{flat:"",label:"Cancelar",color:"tertiary"},null,512),[[lt]]),v(pe,{unelevated:"",color:"primary",type:"submit",label:"Alterar"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"])}var lFe=ht(nFe,[["render",sFe],["__scopeId","data-v-3916ba61"]]);const cFe={data(){return{cor:"tertiary",botao:"",status:"",telDestino:"11999990000",clienteSistema:{},igmblank:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",imgsrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",urlapi:"https://whats.b15.com.br/",permissao:!1,socket:{conectado:!1,socket:{}}}},methods:{async btEnviarTeste_click(){const e=this.telDestino,t="Mensagem de teste!",o=this.clienteSistema.bancoDeDados;this.whatsEnvia({funcao:"enviar mensagem",telDestino:e,mensa:t,banco:o})},async conectar_click(){this.botao==="Conectar"&&this.whatsEnvia({funcao:"conectar",banco:this.clienteSistema.bancoDeDados}),this.botao==="Desconectar"&&this.whatsEnvia({funcao:"desconectar",banco:this.clienteSistema.bancoDeDados})},whatsInicializar(){const e=this.socket;if(e.conectado)return!0;e.socket=new WebSocket("wss://whats.b15.com.br/websockets"),e.socket.onopen=()=>{e.conectado=!0,this.cor="tertiary",this.status="aguardando status";const t=this.whatsTrataMensagem;e.socket.onmessage=t,this.whatsEnvia({funcao:"status",banco:this.clienteSistema.bancoDeDados}),$g.conexaoWpp=e},e.socket.onclose=()=>{e.conectado=!1,this.whatsSemRede(),setTimeout(()=>{this.whatsInicializar()},5e3)}},whatsSemRede(){this.cor="tertiary",this.status="sem rede",this.imgsrc=this.igmblank,this.botao=""},whatsTrataMensagem(e){if(e=JSON.parse(e.data),e.funcao==="qr"&&(this.imgsrc=e.qr||this.igmblank),e.funcao==="status"){this.status=e.status||"",["Conectado","Desconectado"].find(o=>o===e.status)&&(this.imgsrc=this.igmblank);let t="Desconectar";e.status==="Conectado"&&(this.cor="green"),e.status==="Desconectado"&&(this.cor="tertiary",t="Conectar"),this.botao=t}},whatsEnvia(e){this.socket.conectado&&this.socket.socket.send(JSON.stringify(e))}},mounted(){this.clienteSistema=JSON.parse(localStorage.getItem("clienteSistema"))||{},this.whatsSemRede(),this.whatsInicializar()},async created(){this.permissao=await $db.permissao.objeto("campanhas")}},uFe={class:"text-h6 text-tertiary text-weight-bold q-mx-md q-mt-md"},dFe=["src"],fFe={class:"text-h8 text-tertiary text-weight-bold q-mx-md q-mt-md"},mFe={class:"q-px-md q-pb-md"},pFe={key:1};function hFe(e,t,o,r,a,i){return a.permissao?($(),ue(pe,{key:0,flat:a.cor==="tertiary",unelevated:a.cor==="green",size:"md",icon:"mdi-whatsapp",round:"",dense:"",color:a.cor,class:"hideonmobile"},{default:w(()=>[v(Mt,{anchor:"bottom middle",self:"center middle"},{default:w(()=>[te("Whatsapp Beta")]),_:1}),v(Xa,{class:"BarraTopo-usuarioPopover"},{default:w(()=>[A("div",uFe,[v(Ve,{name:"mdi-whatsapp",size:"24px"}),te(" Whatsapp Beta ")]),A("img",{src:a.imgsrc,style:{"max-width":"100%","margin-left":"10px"},alt:""},null,8,dFe),A("div",fFe,de(a.status),1),A("div",mFe,[a.botao!==""?($(),ue(pe,{key:0,onClick:i.conectar_click,label:a.botao,color:"primary",unelevated:"",dense:"",class:"full-width"},null,8,["onClick","label"])):ce("",!0),a.status==="Conectado"?($(),be("div",pFe,[v(Ca,{modelValue:a.telDestino,"onUpdate:modelValue":t[0]||(t[0]=n=>a.telDestino=n),label:"telefone p/ teste"},null,8,["modelValue"]),v(pe,{onClick:i.btEnviarTeste_click,label:"Enviar teste!",color:"primary",unelevated:"",dense:"",class:"full-width"},null,8,["onClick"])])):ce("",!0)])]),_:1})]),_:1},8,["flat","unelevated","color"])):ce("",!0)}var vFe=ht(cFe,[["render",hFe]]);const gFe={data(){return{visivel:!1,titulo:"",descricao:"",file:"",json:{},btnDisable:!0}},methods:{voltar(e){e.stopPropagation(),$q.dialog({message:"Deseja descartar as modifica\xE7\xF5es?",title:"Aten\xE7\xE3o!",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Descartar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{this.fechar()})},fechar(){this.titulo="",this.descricao="",this.file="",this.json={},this.visivel=!1},mostrar(){this.visivel=!0},adicionarVideo(e){this.file=e[0]},async salvar(){const e=$utils.uuid();$q.loading.show({message:"Enviando v\xEDdeo...",html:!0,boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"});try{this.json={id:e,titulo:this.titulo,descricao:this.descricao,usuario:$db.usuario.logado,usuarioId:$db.usuario.logado.id,usuarioNome:$db.usuario.logado.nome,usuarioDocumento:$db.usuario.logado.numeroDocumentoNacional,dataHora:new Date};const t=new Headers;let o={};const r=new FormData;r.append("arquivo",this.file),r.append("json",JSON.stringify(this.json));let a=r.get("arquivo").name,i=a.substring(a.length-3);r.set("arquivo",this.file,`${e}.${i}`);try{o=await fetch("https://api.b15.com.br/videos/upload",{mode:"cors",method:"POST",headers:t,body:r});const n=await o.json();n.sucesso&&($q.notifyPositive(n.mensagem),this.titulo="",this.descricao="",this.file="",this.json={}),n.sucesso||$q.notifyError(n.mensagem)}catch(n){$q.notifyError(n.message)}this.fechar()}catch(t){$q.notifyError(t.message)}finally{$q.loading.hide()}},uploadClick(){this.$refs.Upload.click()},abrirVideo(e){const t=this.$refs.Upload.files;if(FileReader&&t&&t.length){var o=new FileReader;o.onload=()=>{this.file=t[0],this.botaoEnviar()},o.readAsDataURL(t[0])}},botaoEnviar(){this.btnDisable=!0,this.titulo&&this.file&&(this.btnDisable=!1)}}},_Fe={class:"q-pa-md"},bFe={class:"col-12"},yFe={class:"col-12"},CFe={class:"col-12"},xFe=A("br",null,null,-1),wFe=A("p",null,null,-1),IFe=A("p",null,null,-1);function EFe(e,t,o,r,a,i){const n=ke("campo"),s=ke("row");return $(),ue(Qt,{id:"GeeksTubeModal",modelValue:a.visivel,"onUpdate:modelValue":t[3]||(t[3]=l=>a.visivel=l),persistent:"",onKeyup:Zi(i.voltar,["esc"])},{default:w(()=>[v(Jo,{class:"q-layout-modal bg-white",style:{"max-width":"990px"}},{default:w(()=>[v(at,{class:"bg-primary text-white"},{default:w(()=>[v(nt,null,{default:w(()=>[te("Subir v\xEDdeo")]),_:1}),Te(v(pe,{dense:"",flat:"",icon:"close",round:""},null,512),[[lt]])]),_:1}),A("div",_Fe,[v(s,null,{default:w(()=>{var l;return[A("p",bFe,[v(n,{modelValue:a.titulo,"onUpdate:modelValue":t[0]||(t[0]=u=>a.titulo=u),tipo:"texto",rotulo:"Titulo do v\xEDdeo",rules:[u=>u&&u.length>0||"Titulo obrigat\xF3rio."],onChange:i.botaoEnviar},null,8,["modelValue","rules","onChange"])]),A("p",yFe,[v(n,{modelValue:a.descricao,"onUpdate:modelValue":t[1]||(t[1]=u=>a.descricao=u),tipo:"textoArea",rotulo:"Descri\xE7\xE3o do v\xEDdeo"},null,8,["modelValue"])]),A("p",CFe,[v(pe,{class:"BtUpload",onClick:i.uploadClick,color:"primary",size:"md",round:"",icon:"attachment"},null,8,["onClick"]),te(" "+de((l=a.file.name)!=null?l:"")+" ",1),A("input",{ref:"Upload",type:"file",id:"Upload",onChange:t[2]||(t[2]=(...u)=>i.abrirVideo&&i.abrirVideo(...u)),style:{visibility:"hidden"}},null,544)]),xFe]}),_:1}),wFe]),IFe,v(dl,null,{default:w(()=>[v(at,{class:"bg-light"},{default:w(()=>[Te(v(pe,{flat:"",size:"md","no-ripple":"",color:"tertiary",label:"Cancelar",class:"q-mr-sm"},null,512),[[lt]]),v(pe,{"no-ripple":"",label:"Salvar",color:"primary",unelevated:"",class:"no-shadow",onClick:i.salvar,disabled:a.btnDisable},null,8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"])}var SFe=ht(gFe,[["render",EFe]]);const AFe={components:{Avatar:Sc,Whats:vFe,PromptBuscaOnline:iFe,UsuarioAlterarSenha:lFe,MenuGerador:Jve,VendaModal:KNe,ModalGeeksTubeUpload:SFe},computed:{chatBotaoCor(){return this.chat?"primary":"tertiary"},config(){return je.configuracoes.valores},termoBuscaInLowerCase(){return(this.termoBusca||"").toLowerCase()},statusBanco(){return e=>{const t="";return!t||t==="100"?"":`${this.$filters.numero(t,2)}%`}},versao(){return lF.versao},iconeHibridoSinal(){return{1:"mdi-signal-cellular-outline",2:"mdi-signal-cellular-1",3:"mdi-signal-cellular-2",4:"mdi-signal-cellular-3"}[this.desempenhoGeeksApi.consolidado.qualidadeSinal]},iconeHibrido(){return this.hibrido==="local"?"mdi-database":this.hibrido==="remoto"?"mdi-cloud-outline":this.iconeHibridoSinal}},data(){return{navegadorCompativel:!0,dbContato:je.contato,dbUsuario:je.usuario,bancos:[],clienteSistema:{sistema:""},clienteSistemaBaixados:[],campos:{},dialogAlterarSenha:!1,chat:!1,menu:!1,permissoes:{},hibrido:null,desempenhoGeeksApi:je.qualidadeSinal.desempenhoGeeksApi,permissaoHibrido:!1,permissaoHibridoAutomatico:!1,sincronismoStatus:_o.status,sistemaPai:"",online:!0,termoBusca:"",notificacao:[],notificacaoPiscar:!1}},methods:{modoOffline(){this.hibrido="local",$db.hibrido.set("modoSelecionado",this.hibrido),$db.hibrido.set("mode",this.hibrido)},modoOnline(){this.hibrido="remoto",$db.hibrido.set("modoSelecionado",this.hibrido),$db.hibrido.set("mode",this.hibrido)},modoAutomatico(){this.hibrido="automatico",$db.hibrido.set("modoSelecionado",this.hibrido)},abrirValidCertificadora(){window.open("http://www.validcertificadora.com.br/P/B516DF35-5BC4-4D2D-8A62-CCF42F9BEF71/RD019446","_blank")},abrirEntidadeOnline(e){let t="AtendimentoContato";~this.$route.name.indexOf("Atendimento")&&(t=this.$route.name),this.$router.push({name:t,params:{id:e.id}})},async abrirPromptBuscaOnline(){try{await $utils.geeksApi({hibrido:{funcao:"3A5C566F-9D9C-4516-B049-7CEDA5034CD1"}})}catch(e){$q.notifyError(e.message);return}this.$refs.promptBuscaOnline.mostrar()},adicionarContato(){$utils.emitter.emit("adicionarContato")},adicionarOrcamento(){this.$refs.vendaModal.mostrar()},menu_click(e){this.$emit("menuClick",e)},irPara(e){const t=localStorage.getItem("contatoSelecionado");this.$router.push({name:e,params:{id:t||"0"}})},irParaAtendimento(){const e=localStorage.getItem("contatoSelecionado");this.$router.push({name:"Atendimento",params:{id:e||"0"}})},abrirZap(){window.open("https://api.whatsapp.com/send?phone=551621116161&text=Preciso%20de%20uma%20ajuda","_blank")},async sincronizar(){Tt.log("BarraTopo","sincronizar()"),_o.descarregarErp(),_o.descarregarPlataforma()},onClickAlterarSenha(){this.dialogAlterarSenha=!0},alternarChat(){this.chat=!this.chat},alternarMenu(){this.menu=!this.menu},desconectar(){je.usuario.desconecta(),window.location.reload()},fecharChat(){this.chat=!1},imprimir:Q9,async mostrarTabelas(){let e=await Mu.getDatabaseNames();e.splice(e.indexOf("plataforma"),1);const t={};for(const o of e){const r=(await Z(o).tables).sort((a,i)=>a.name.localeCompare(i.name));for(const a of r){const i=await a.count();t.hasOwnProperty(a.name)||(t[a.name]={}),t[a.name][o]=i}}return console.table(t),t},async restaurar(){if(await Pt.sincronismoFila.count()>0){this.$q.notifyError("N\xE3o pode restaurar! H\xE1 dados no dispositivo que n\xE3o foram sincronizados.");return}for(const e of this.bancos)if(await Z(e.bancoDeDados).sincronismoFila.count()>0){this.$q.notifyError(`N\xE3o pode restaurar! H\xE1 dados do banco '${e.bancoDeDados}' no dispositivo que n\xE3o foram sincronizados.`);return}try{await new Promise((e,t)=>{this.$q.dialog({title:"Tem certeza?",message:"Esta opera\xE7\xE3o vai apagar todos os dados de seu dispositivo! Para confirmar digite a palavra 'RESTAURAR'.",prompt:{model:"",isValid:o=>o.toUpperCase()==="RESTAURAR",type:"text",class:"bg-light"},cancel:{label:"CANCELAR",push:!0,color:"tertiary",flat:!0},ok:{label:"RESTAURAR",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(o=>{e()}).onCancel(()=>{t()})})}catch{return}this.$q.loading.show({message:"Restaurando"});try{const e=await Mu.getDatabaseNames();for(const o of e)await Z(o,"delete");const t=localStorage.getItem("dispositivoCliente");localStorage.clear(),t&&localStorage.setItem("dispositivoCliente",t),window.location.reload()}catch(e){this.$q.notifyError("Erro na opera\xE7\xE3o de restaurar",e)}finally{this.$q.loading.hide()}},async selecionaBancoDados(e){this.clienteSistema=e||{},je.cache.set("reload","1"),je.cache.set("bancoDeDados",e.bancoDeDados||""),je.cache.setJson("clienteSistema",e),this.$router.push({name:"Home"})},adicionarVideo(){this.$refs.geeksTubeModal.mostrar()},async notificacoes(){var o,r;const e=JSON.parse((o=localStorage.getItem("clienteSistema"))!=null?o:null);this.notificacaoPiscar=!1,this.notificacao=(await $utils.geeksApi({notific:{funcao:"3910BC12-5511-4517-8EB1-EFD4BBD354D9",usuarioCpf:(r=$db.usuario.logado.numeroDocumentoNacional)!=null?r:"",sistema:e==null?void 0:e.sistema}})).data.notific.sort((a,i)=>a.dataHora>i.dataHora?-1:1);const t=new Date;for(let a of this.notificacao){const i=new Date(a.dataHora),n=Math.abs(i-t)/36e5,s=Math.floor(n/24),l=Math.floor(n%24),u=Math.round(n%1*60);a.publicado=(s>0?s+"d ":"")+(l>0?l+":":"")+(u>0?u:"")+(u>0?"m":l>0?"h":"")}},mensagem_click(e){!e.link||(e.link[0]==="/"?this.$router.push(e.link):window.open(e.link,"_blank"))}},props:{restricao:Boolean},emits:["menuClick"],beforeMount(){this.hibrido=$db.hibrido.get("modoSelecionado"),$db.configuracoes.le({nome:"hibrido"}).then(e=>{var a,i;const t=(i=(a=e==null?void 0:e[0])==null?void 0:a.valor)!=null?i:"";let o=!1,r=!1;t==="offline"&&(o=!1,this.modoOffline()),t==="online"&&(o=!0,localStorage.getItem("hibridoModoSelecionado")||this.modoOnline()),(t==="automatico"||$db.usuario.logado.desenvolvedor())&&(o=!0,r=!0,localStorage.getItem("hibridoModoSelecionado")||this.modoAutomatico()),this.permissaoHibrido=o,this.permissaoHibridoAutomatico=r}),this.offlineEvent=e=>{this.online=!1,console.log("offline: ",!this.online)},this.onlineEvent=e=>{this.online=!0,console.log("online: ",this.online)},window.addEventListener("offline",this.offlineEvent),window.addEventListener("online",this.onlineEvent)},unmounted(){window.removeEventListener("offline",this.offlineEvent),window.removeEventListener("online",this.onlineEvent)},async mounted(){var e,t;$utils.temaAplicar(),~((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.toLowerCase())==null?void 0:t.indexOf("samsungbrowser"))&&(this.navegadorCompativel=!1),this.clienteSistemaBaixados=JSON.parse(localStorage.getItem("clienteSistemaBaixados")),this.clienteSistemaBaixados.sort((o,r)=>{const a=$utils.removerAcentos(o.bancoDeDados+o.sistema).toLowerCase(),i=$utils.removerAcentos(r.bancoDeDados+r.sistema).toLowerCase();return a<i?-1:1}),this.clienteSistema=JSON.parse(localStorage.getItem("clienteSistema"))||{},this.bancos=await Ka.sincronismo.le(),this.sistemaPai=Qx(),this.permissoes={atendimento:await je.permissao.objeto("atendimento"),admCustom:await je.permissao.objeto("admcustom"),admEnvelopes:await je.permissao.objeto("admenvelopes"),admOS:await je.permissao.objeto("admos"),funilVendas:await je.permissao.objeto("crmfunil"),item:await je.permissao.objeto("item"),importarReceita:await je.permissao.objeto("importarReceita"),caixa:await je.permissao.objeto("caixa"),cockpit:await je.permissao.objeto("cockpit"),nfe:await je.permissao.objeto("nfe")},this.notificacaoPiscar=(await $utils.geeksApi({mensagemPiscarLe:{funcao:"F4C89202-5422-456F-95AE-3A18B47FDBB2",usuarioCpf:$db.usuario.logado.numeroDocumentoNacional}})).data.mensagemPiscarLe.piscar}},TFe={class:"BarraTopo"},OFe=A("span",{class:"text-weight-bold"},"Navegador n\xE3o compat\xEDvel, acione o suporte!",-1),DFe=A("div",null,"Atendimento 4.0",-1),PFe=A("div",null,"Cockpit",-1),MFe=A("div",{class:"BarraTopo-separador hideonmobile"},null,-1),NFe={style:{"min-width":"320px","max-width":"460px"}},FFe={class:"q-pa-none q-my-none q-ml-sm items-center justify-center full-height column"},RFe={class:"q-mt-md q-mx-md"},kFe={key:0},VFe={class:"text-weight-bold"};function qFe(e,t,o,r,a,i){const n=ke("row"),s=ke("whats"),l=ke("avatar"),u=ke("menu-gerador"),c=ke("usuario-alterar-senha"),d=ke("PromptBuscaOnline"),m=ke("VendaModal"),f=ke("ModalGeeksTubeUpload");return $(),be("div",TFe,[v(xa,{elevated:""},{default:w(()=>[a.navegadorCompativel?ce("",!0):($(),ue(at,{key:0,class:"bg-negative text-white q-px-sm row justify-center"},{default:w(()=>[OFe]),_:1})),v(at,{class:"bg-white text-primary q-pa-sm"},{default:w(()=>[v(pe,{onClick:i.alternarMenu,icon:"menu",round:"",flat:"",dense:"",color:"tertiary",class:"q-mr-sm"},null,8,["onClick"]),a.sistemaPai==="optisoul"?($(),be("img",{key:0,onClick:t[0]||(t[0]=p=>i.irPara("Home")),src:"/assets/optidados.svg",alt:"B15",class:"q-mr-sm",style:{height:"30px",cursor:"pointer"}})):ce("",!0),a.sistemaPai==="b15"?($(),be("img",{key:1,onClick:t[1]||(t[1]=p=>i.irPara("Home")),src:"/assets/b15.svg",alt:"B15",class:"q-mr-sm",style:{height:"30px",cursor:"pointer"}})):ce("",!0),v(nt,{class:"q-px-sm"},{default:w(()=>[v(n,{class:"hideonmobile items-center busca-header"},{default:w(()=>[a.online?($(),ue(pe,{key:0,onClick:t[2]||(t[2]=p=>i.abrirPromptBuscaOnline()),icon:"search","no-caps":"",outline:"",dense:"",color:"white","text-color":"grey-7",label:"Contato, documento, equipamento...",class:"q-ml-sm q-pa-sm q-pr-sm",style:{"max-height":"40px"}})):ce("",!0),v(pe,{size:"16px",icon:"add",color:"tertiary",round:"",flat:"",dense:"",class:"q-ml-sm"},{default:w(()=>[v(Mt,{anchor:"bottom middle",self:"center middle"},{default:w(()=>[te("Novo")]),_:1}),v(Xa,null,{default:w(()=>[Te(($(),ue(wt,{link:"","no-border":"",separator:""},{default:w(()=>[v(We,{onClick:i.adicionarContato,clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"person_add",size:"sm"})]),_:1}),v(Ie,null,{default:w(()=>[te("Contato")]),_:1})]),_:1},8,["onClick"]),v(We,{onClick:i.adicionarOrcamento,clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add_shopping_cart",size:"sm"})]),_:1}),v(Ie,null,{default:w(()=>[te("Or\xE7amento/Venda")]),_:1})]),_:1},8,["onClick"])]),_:1})),[[lt]])]),_:1})]),_:1})]),_:1})]),_:1}),a.online?($(),ue(pe,{key:2,onClick:t[3]||(t[3]=p=>i.abrirPromptBuscaOnline()),icon:"search",round:"",flat:"",dense:"",color:"tertiary",class:"hideondesktop"})):ce("",!0),v(pe,{icon:"add",round:"",flat:"",dense:"",color:"tertiary",class:"hideondesktop"},{default:w(()=>[v(Xa,null,{default:w(()=>[Te(($(),ue(wt,{link:"","no-border":"",separator:""},{default:w(()=>[v(We,{onClick:i.adicionarContato,clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"person",size:"sm"})]),_:1}),v(Ie,null,{default:w(()=>[te(" Contato ")]),_:1})]),_:1},8,["onClick"]),v(We,{onClick:i.adicionarOrcamento,clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add_shopping_cart",size:"sm"})]),_:1}),v(Ie,null,{default:w(()=>[te(" Or\xE7amento/Venda ")]),_:1})]),_:1},8,["onClick"])]),_:1})),[[lt]])]),_:1})]),_:1}),o.restricao?ce("",!0):($(),ue(pe,{key:3,onClick:i.irParaAtendimento,flat:"",class:"hideonmobile"},{default:w(()=>[v(Ve,{name:"mdi-account-switch",left:""}),DFe]),_:1},8,["onClick"])),!o.restricao&&a.permissoes.cockpit?($(),ue(pe,{key:4,to:{name:"Cockpit"},flat:"",class:"hideonmobile"},{default:w(()=>[v(Ve,{name:"insert_chart",left:""}),PFe]),_:1})):ce("",!0),MFe,v(pe,{onClick:i.notificacoes,icon:a.notificacaoPiscar?"notifications_active":"notifications",color:a.notificacaoPiscar?"primary":"tertiary",round:"",flat:"",dense:""},{default:w(()=>[v(Xa,{class:"menu-notificacoes"},{default:w(()=>[A("div",NFe,[v(wt,null,{default:w(()=>[($(!0),be(Qe,null,zt(a.notificacao,(p,g)=>($(),be(Qe,{key:g},[v(We,{clickable:"",onClick:b=>i.mensagem_click(p)},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:p.icone!==""?p.icone:"info",color:p.iconeCor!==""?p.iconeCor:"tertiary"},null,8,["name","color"])]),_:2},1024),v(Ie,null,{default:w(()=>[v(Be,{lines:"2",class:"text-weight-medium"},{default:w(()=>[te(de(p.titulo),1)]),_:2},1024),v(Be,{caption:"",class:"text-weight-regular"},{default:w(()=>[te(de(p.mensagem),1)]),_:2},1024)]),_:2},1024),v(Ie,{side:"",top:""},{default:w(()=>[v(Be,{caption:""},{default:w(()=>[te(de(p.publicado),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),Te(v(Ho,{spaced:"",inset:""},null,512),[[Io,g!==a.notificacao.length-1]])],64))),128))]),_:1})])]),_:1})]),_:1},8,["onClick","icon","color"]),v(s),a.permissaoHibrido?($(),ue(pe,{key:5,round:"",flat:"",dense:"",color:"tertiary",icon:i.iconeHibrido},{default:w(()=>[v(Xa,null,{default:w(()=>[Te(($(),ue(wt,{separator:""},{default:w(()=>[v(We,{clickable:"",onClick:i.modoOffline},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"mdi-database"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Offline")]),_:1})]),_:1})]),_:1},8,["onClick"]),Te(($(),ue(We,{clickable:"",onClick:i.modoOnline},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"mdi-cloud-outline"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Online")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[lt]]),a.permissaoHibridoAutomatico?($(),be(Qe,{key:0},[Te(($(),ue(We,{clickable:"",onClick:i.modoAutomatico},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:i.iconeHibridoSinal},null,8,["name"])]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Autom\xE1tico")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[lt]]),v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Lat\xEAncia")]),_:1})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(de(a.desempenhoGeeksApi.consolidado.tempoMedio.toFixed(0))+" ms",1)]),_:1})]),_:1})]),_:1}),v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Velocidade")]),_:1})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,{"no-wrap":""},{default:w(()=>[te(de(a.desempenhoGeeksApi.consolidado.velocidade.toFixed(1))+" bytes/ms",1)]),_:1})]),_:1})]),_:1}),v(We,null,{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Sinal")]),_:1})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,{"no-wrap":""},{default:w(()=>[te(de(a.desempenhoGeeksApi.consolidado.qualidadeSinal)+" - "+de({1:"Sem internet",2:"Baixo",3:"M\xE9dio",4:"Alto"}[a.desempenhoGeeksApi.consolidado.qualidadeSinal]),1)]),_:1})]),_:1})]),_:1})],64)):ce("",!0)]),_:1})),[[lt]])]),_:1})]),_:1},8,["icon"])):ce("",!0),v(pe,{onClick:i.abrirZap,icon:"contact_support",size:"md",flat:"",rounded:"",color:"tertiary",class:"BarraTopo-botaoTopo hideonmobile"},{default:w(()=>[v(Mt,{anchor:"bottom middle",self:"center middle"},{default:w(()=>[te("Ajuste / Suporte")]),_:1})]),_:1},8,["onClick"]),A("div",FFe,[v(l,{imagem:a.dbUsuario.logado.img,color:"#eeeeee",tamanho:"40",onClick:i.sincronizar},null,8,["imagem","onClick"]),v(Xa,{class:"BarraTopo-usuarioPopover q-py-sm"},{default:w(()=>[v(wt,{"no-border":""},{default:w(()=>[v(We,null,{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(l,{imagem:a.dbUsuario.logado.img,color:"#eeeeee",tamanho:"38"},null,8,["imagem"])]),_:1}),v(Ie,{class:"q-pl-sm"},{default:w(()=>[v(Be,null,{default:w(()=>[te(de(a.dbUsuario.logado.nome),1)]),_:1}),v(Be,{caption:""},{default:w(()=>[te(de(a.dbUsuario.logado.cpf),1)]),_:1})]),_:1}),v(Ie,{side:""},{default:w(()=>[v(pe,{icon:"palette",color:"select-palette-color",round:"",flat:"",dense:""},{default:w(()=>[v(Mt,null,{default:w(()=>[te("Tema")]),_:1}),v(Xa,null,{default:w(()=>[v(wt,null,{default:w(()=>[Te(($(),ue(We,{onClick:t[4]||(t[4]=p=>e.$utils.temaAplicar("padrao")),clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"palette",style:{color:"#0098db!important"}})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Padr\xE3o")]),_:1})]),_:1})]),_:1})),[[lt]]),v(Ho),Te(($(),ue(We,{onClick:t[5]||(t[5]=p=>e.$utils.temaAplicar("rosa")),clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"palette",style:{color:"#e305ad!important"}})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Voc\xEA pode tudo")]),_:1})]),_:1})]),_:1})),[[lt]]),v(Ho),Te(($(),ue(We,{onClick:t[6]||(t[6]=p=>e.$utils.temaAplicar("brasil")),clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"palette",style:{color:"#65bd3c!important"}})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Brasil")]),_:1})]),_:1})]),_:1})),[[lt]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),v(wt,{class:"q-ma-md bordered",dense:""},{default:w(()=>[v(We,{dense:"",class:"text-tertiary",clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"storage"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(de(a.clienteSistema.bancoDeDados),1)]),_:1}),v(Be,{caption:"",class:"text-caption"},{default:w(()=>[te(de(a.clienteSistema.sistema),1)]),_:1})]),_:1}),v(Ie,{side:""},{default:w(()=>[te(de(i.statusBanco(a.clienteSistema.bancoDeDados)),1)]),_:1}),v(Mt,{anchor:"bottom middle",self:"center middle"},{default:w(()=>[te("Base")]),_:1}),v(Xa,null,{default:w(()=>[v(wt,{link:""},{default:w(()=>[($(!0),be(Qe,null,zt(a.clienteSistemaBaixados,p=>($(),be(Qe,{key:p.idClienteSistema},[Te(($(),ue(We,{clickable:"",class:"text-tertiary q-py-xs",onClick:g=>i.selecionaBancoDados(p),dense:""},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te(de(p.bancoDeDados),1)]),_:2},1024),v(Be,{caption:"",class:"text-caption"},{default:w(()=>[te(de(p.sistema),1)]),_:2},1024)]),_:2},1024),v(Ie,{side:""},{default:w(()=>[te(de(i.statusBanco(p.bancoDeDados)),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[lt]]),v(Ho)],64))),128)),Te(($(),ue(We,{to:{name:"AutenticacaoBancos",params:{operacao:"selecionar"}},class:"text-tertiary",clickable:"",dense:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"settings"})]),_:1}),v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[te("Selecionar bases")]),_:1})]),_:1})]),_:1})),[[lt]])]),_:1})]),_:1})]),_:1}),v(We,{onClick:i.mostrarTabelas,dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"data_usage"})]),_:1}),v(Ie,null,{default:w(()=>[te("0 gb")]),_:1}),v(Mt,{anchor:"bottom middle",self:"center middle"},{default:w(()=>[te("Espa\xE7o")]),_:1})]),_:1},8,["onClick"]),v(We,{to:{name:"PainelSincronismo"},dense:"",class:"text-tertiary",clickable:""},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"swap_calls"})]),_:1}),v(Ie,null,{default:w(()=>[te(de("Fila enviar: "+String(a.sincronismoStatus.tamanhoFila)),1)]),_:1}),v(Mt,{anchor:"bottom middle",self:"center middle"},{default:w(()=>[te("Fila de sincrinismo para enviar")]),_:1})]),_:1})]),_:1}),v(wt,null,{default:w(()=>[Te(($(),ue(We,{onClick:i.abrirZap,clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"contact_support"})]),_:1}),v(Ie,null,{default:w(()=>[te("Ajuda / Suporte")]),_:1})]),_:1},8,["onClick"])),[[lt]]),Te(($(),ue(We,{onClick:i.abrirValidCertificadora,clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"add_moderator"})]),_:1}),v(Ie,null,{default:w(()=>[te("Certificado Digital")]),_:1})]),_:1},8,["onClick"])),[[lt]]),o.restricao?ce("",!0):Te(($(),ue(We,{key:0,to:{name:"Configuracoes"},clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"settings"})]),_:1}),v(Ie,null,{default:w(()=>[te("Configura\xE7\xF5es")]),_:1})]),_:1})),[[lt]]),a.dbUsuario.logado.desenvolvedor()?Te(($(),ue(We,{key:1,onClick:i.adicionarVideo,clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"play_circle"})]),_:1}),v(Ie,null,{default:w(()=>[te("Subir V\xEDdeo")]),_:1})]),_:1},8,["onClick"])),[[lt]]):ce("",!0),Te(($(),ue(We,{onClick:i.restaurar,clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"warning"})]),_:1}),v(Ie,null,{default:w(()=>[te("Restaurar e sair")]),_:1})]),_:1},8,["onClick"])),[[lt]]),Te(($(),ue(We,{onClick:i.onClickAlterarSenha,clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"mdi-lock-open-outline"})]),_:1}),v(Ie,null,{default:w(()=>[te("Alterar senha")]),_:1})]),_:1},8,["onClick"])),[[lt]]),!!a.dbUsuario.logado.administrador&&[1,2].includes(a.dbUsuario.logado.grupoInterno)?Te(($(),ue(We,{key:2,to:{name:"CriarBanco"},clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"mdi-database-plus"})]),_:1}),v(Ie,null,{default:w(()=>[te("Criar banco")]),_:1})]),_:1})),[[lt]]):ce("",!0),a.sistemaPai==="b15"?Te(($(),ue(We,{key:3,to:{name:"FaturaB15"},clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"attach_money"})]),_:1}),v(Ie,null,{default:w(()=>[te("Fatura B-15")]),_:1})]),_:1})),[[lt]]):ce("",!0),a.sistemaPai==="optisoul"?Te(($(),ue(We,{key:4,to:{name:"FaturaOptisoul"},clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"attach_money"})]),_:1}),v(Ie,null,{default:w(()=>[te("Fatura Optidados")]),_:1})]),_:1})),[[lt]]):ce("",!0),Te(($(),ue(We,{onClick:i.desconectar,clickable:"",dense:"",class:"text-tertiary"},{default:w(()=>[v(Ie,{avatar:""},{default:w(()=>[v(Ve,{name:"exit_to_app"})]),_:1}),v(Ie,null,{default:w(()=>[te("Sair")]),_:1})]),_:1},8,["onClick"])),[[lt]])]),_:1})]),_:1})])]),_:1})]),_:1}),v(PF,{modelValue:a.menu,"onUpdate:modelValue":t[8]||(t[8]=p=>a.menu=p),behavior:"mobile",elevated:"",side:"left"},{default:w(()=>[A("div",RFe,[v(Ca,{modelValue:a.termoBusca,"onUpdate:modelValue":t[7]||(t[7]=p=>a.termoBusca=p),debounce:300,placeholder:"Filtrar",color:"none","clear-icon":"close",clearable:"",outlined:"",dense:""},{prepend:w(()=>[v(Ve,{name:"mdi-filter"})]),_:1},8,["modelValue"])]),v(u,{termoBusca:i.termoBuscaInLowerCase,onMenuClick:i.menu_click},null,8,["termoBusca","onMenuClick"]),!!a.dbUsuario.logado.desenvolvedor&&a.dbUsuario.logado.desenvolvedor()||a.dbUsuario.logado.grupoInterno===2?($(),ue(wt,{key:0,dense:"",link:"","no-border":""})):ce("",!0),v(wt,{"no-border":"",class:"q-mb-lg"},{default:w(()=>[v(We,{class:"text-body2 justify-between"},{default:w(()=>[A("small",null,[te("\xA9"+de(new Date().getFullYear())+" B15",1),a.sistemaPai==="optisoul"?($(),be("span",kFe," - Optidados")):ce("",!0)]),A("small",VFe,de(i.versao),1)]),_:1})]),_:1}),v(dl,null,{default:w(()=>[v(wt,null,{default:w(()=>[v(We,{onClick:i.abrirZap,clickable:"",dense:"",class:"text-white text-center q-pa-sm"},{default:w(()=>[v(Ie,null,{default:w(()=>[v(Be,null,{default:w(()=>[v(Ve,{name:"contact_support",size:"sm"}),te(" Ajuda / Suporte ")]),_:1})]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),v(c,{modelValue:a.dialogAlterarSenha,"onUpdate:modelValue":t[9]||(t[9]=p=>a.dialogAlterarSenha=p)},null,8,["modelValue"]),v(d,{ref:"promptBuscaOnline",onSelecionar:i.abrirEntidadeOnline},null,8,["onSelecionar"]),v(m,{ref:"vendaModal"},null,512),v(f,{ref:"geeksTubeModal"},null,512)])}var BFe=ht(AFe,[["render",qFe]]);const LFe={components:{BarraTopo:BFe},props:{msg:{type:String,required:!0}},methods:{irParaFatura(){if(~["FaturaOptisoul","FaturaB15"].indexOf(this.$route.name))return;let e;$utils.sistemaPai()==="optisoul"&&(e="FaturaOptisoul"),$utils.sistemaPai()==="b15"&&(e="FaturaB15"),e&&this.$router.push({name:e})}},watch:{"$route.name"(){this.irParaFatura()}},created(){this.irParaFatura()}};function $Fe(e,t,o,r,a,i){const n=ke("barra-topo");return $(),ue(Jo,{class:"Atendimento Layout"},{default:w(()=>[v(n,{restricao:""}),v(La,null,{default:w(()=>[v(Ru,{class:"u-container"},{default:w(()=>[v(EC,{"inline-actions":"",class:"text-white text-center bg-red"},{default:w(()=>[te(de(o.msg),1)]),_:1})]),_:1})]),_:1})]),_:1})}var UFe=ht(LFe,[["render",$Fe]]);const zFe={components:{ConfrontoFigurasFiscais:Ghe,modalAlerta:Yhe,modalSucesso:Jhe,promptCfop:_1e,PromptContato:$1e,PromptServicoIntegrador:j1e,PromptGrupoUnico:Y1e,PromptSegmentoUnico:Z1e,promptFormaPagamento:ive,promptItem:Ave,promptItemTabelaPreco:Rve,promptNcm:Lve,Restricao:UFe},computed:{rotaPermitida(){return!!~["FaturaOptisoul","FaturaB15"].indexOf(this.$route.name)}},data(){return{observacao:"",restricao:"",clienteSistema:{}}},methods:{exibirConduta(e){this.observacao!==e.observacao&&(this.observacao=e.observacao,this.observacao&&this.$q.notify({type:"warning",message:e.observacao})),this.restricao=e.restricao},async menu_click(e){this.$refs.Plataforma15.menu_click(e)}},created(){this.clienteSistema=JSON.parse(localStorage.getItem("clienteSistema"))||{};let e=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${e}px`),window.addEventListener("resize",()=>{let t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`)}),this.sincronismoInterval&&clearInterval(this.sincronismoInterval),localStorage.getItem("sincronismoAtivo")!=="false"&&(this.sincronismoInterval=setInterval(function(){_o.executar()},2e3)),gge(),$utils.limpeza(),$utils.emitter.on("exibirConduta",this.exibirConduta),$utils.emitter.on("notifyError",this.$q.notifyError)},async beforeMount(){await $db.usuario.verificaUsuarioClienteSistema()},beforeUnmount(){$utils.emitter.off("exibirConduta"),$utils.emitter.off("notifyError"),this.sincronismoInterval&&clearInterval(this.sincronismoInterval)}},HFe={id:"q-app"};function jFe(e,t,o,r,a,i){const n=ke("router-view"),s=ke("modalAlerta"),l=ke("modalSucesso"),u=ke("promptCfop"),c=ke("PromptContato"),d=ke("PromptServicoIntegrador"),m=ke("PromptGrupoUnico"),f=ke("PromptSegmentoUnico"),p=ke("promptFormaPagamento"),g=ke("promptItem"),b=ke("promptItemTabelaPreco"),x=ke("promptNcm"),_=ke("ConfrontoFigurasFiscais"),y=ke("Restricao");return $(),be("div",HFe,[v(Jo,{class:"Atendimento Layout",view:"hHh LpR lFr"},{default:w(()=>[a.restricao?ce("",!0):($(),be(Qe,{key:0},[v(n),v(s),v(l),v(u),v(c),v(d),v(m),v(f),v(p,{ref:"promptFormaPagamento"},null,512),v(g),v(b,{ref:"PromptItemTabelaPreco"},null,512),v(x),v(_)],64)),a.restricao?($(),be(Qe,{key:1},[i.rotaPermitida?ce("",!0):($(),ue(y,{key:0,msg:a.restricao},null,8,["msg"])),i.rotaPermitida?($(),ue(n,{key:1})):ce("",!0)],64)):ce("",!0)]),_:1})])}var GFe=ht(zFe,[["render",jFe]]);function y6e(e){return e}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Bd=typeof window!="undefined";function WFe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Uo=Object.assign;function P2(e,t){const o={};for(const r in t){const a=t[r];o[r]=rs(a)?a.map(e):e(a)}return o}const hp=()=>{},rs=Array.isArray,XFe=/\/$/,YFe=e=>e.replace(XFe,"");function M2(e,t,o="/"){let r,a={},i="",n="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,s>-1?s:t.length),a=e(i)),s>-1&&(r=r||t.slice(0,s),n=t.slice(s,t.length)),r=ZFe(r!=null?r:t,o),{fullPath:r+(i&&"?")+i+n,path:r,query:a,hash:n}}function KFe(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function SD(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function QFe(e,t,o){const r=t.matched.length-1,a=o.matched.length-1;return r>-1&&r===a&&Tf(t.matched[r],o.matched[a])&&a5(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Tf(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function a5(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!JFe(e[o],t[o]))return!1;return!0}function JFe(e,t){return rs(e)?AD(e,t):rs(t)?AD(t,e):e===t}function AD(e,t){return rs(t)?e.length===t.length&&e.every((o,r)=>o===t[r]):e.length===1&&e[0]===t}function ZFe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let i=o.length-1,n,s;for(n=0;n<r.length;n++)if(s=r[n],s!==".")if(s==="..")i>1&&i--;else break;return o.slice(0,i).join("/")+"/"+r.slice(n-(n===r.length?1:0)).join("/")}var Kp;(function(e){e.pop="pop",e.push="push"})(Kp||(Kp={}));var vp;(function(e){e.back="back",e.forward="forward",e.unknown=""})(vp||(vp={}));function e5e(e){if(!e)if(Bd){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),YFe(e)}const t5e=/^[^#]+#/;function o5e(e,t){return e.replace(t5e,"#")+t}function a5e(e,t){const o=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-o.left-(t.left||0),top:r.top-o.top-(t.top||0)}}const c_=()=>({left:window.pageXOffset,top:window.pageYOffset});function r5e(e){let t;if("el"in e){const o=e.el,r=typeof o=="string"&&o.startsWith("#"),a=typeof o=="string"?r?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!a)return;t=a5e(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function TD(e,t){return(history.state?history.state.position-t:-1)+e}const TC=new Map;function i5e(e,t){TC.set(e,t)}function n5e(e){const t=TC.get(e);return TC.delete(e),t}let s5e=()=>location.protocol+"//"+location.host;function r5(e,t){const{pathname:o,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let s=a.includes(e.slice(i))?e.slice(i).length:1,l=a.slice(s);return l[0]!=="/"&&(l="/"+l),SD(l,"")}return SD(o,e)+r+a}function l5e(e,t,o,r){let a=[],i=[],n=null;const s=({state:m})=>{const f=r5(e,location),p=o.value,g=t.value;let b=0;if(m){if(o.value=f,t.value=m,n&&n===p){n=null;return}b=g?m.position-g.position:0}else r(f);a.forEach(x=>{x(o.value,p,{delta:b,type:Kp.pop,direction:b?b>0?vp.forward:vp.back:vp.unknown})})};function l(){n=o.value}function u(m){a.push(m);const f=()=>{const p=a.indexOf(m);p>-1&&a.splice(p,1)};return i.push(f),f}function c(){const{history:m}=window;!m.state||m.replaceState(Uo({},m.state,{scroll:c_()}),"")}function d(){for(const m of i)m();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function OD(e,t,o,r=!1,a=!1){return{back:e,current:t,forward:o,replaced:r,position:window.history.length,scroll:a?c_():null}}function c5e(e){const{history:t,location:o}=window,r={value:r5(e,o)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=e.indexOf("#"),m=d>-1?(o.host&&document.querySelector("base")?e:e.slice(d))+l:s5e()+e+l;try{t[c?"replaceState":"pushState"](u,"",m),a.value=u}catch(f){console.error(f),o[c?"replace":"assign"](m)}}function n(l,u){const c=Uo({},t.state,OD(a.value.back,l,a.value.forward,!0),u,{position:a.value.position});i(l,c,!0),r.value=l}function s(l,u){const c=Uo({},a.value,t.state,{forward:l,scroll:c_()});i(c.current,c,!0);const d=Uo({},OD(r.value,l,null),{position:c.position+1},u);i(l,d,!1),r.value=l}return{location:r,state:a,push:s,replace:n}}function u5e(e){e=e5e(e);const t=c5e(e),o=l5e(e,t.state,t.location,t.replace);function r(i,n=!0){n||o.pauseListeners(),history.go(i)}const a=Uo({location:"",base:e,go:r,createHref:o5e.bind(null,e)},t,o);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function d5e(e){return typeof e=="string"||e&&typeof e=="object"}function i5(e){return typeof e=="string"||typeof e=="symbol"}const Bl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},n5=Symbol("");var DD;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(DD||(DD={}));function Of(e,t){return Uo(new Error,{type:e,[n5]:!0},t)}function Bs(e,t){return e instanceof Error&&n5 in e&&(t==null||!!(e.type&t))}const PD="[^/]+?",f5e={sensitive:!1,strict:!1,start:!0,end:!0},m5e=/[.+*?^${}()[\]/\\]/g;function p5e(e,t){const o=Uo({},f5e,t),r=[];let a=o.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];o.strict&&!u.length&&(a+="/");for(let d=0;d<u.length;d++){const m=u[d];let f=40+(o.sensitive?.25:0);if(m.type===0)d||(a+="/"),a+=m.value.replace(m5e,"\\$&"),f+=40;else if(m.type===1){const{value:p,repeatable:g,optional:b,regexp:x}=m;i.push({name:p,repeatable:g,optional:b});const _=x||PD;if(_!==PD){f+=10;try{new RegExp(`(${_})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+I.message)}}let y=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(y=b&&u.length<2?`(?:/${y})`:"/"+y),b&&(y+="?"),a+=y,f+=20,b&&(f+=-8),g&&(f+=-20),_===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(o.strict&&o.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}o.strict||(a+="/?"),o.end?a+="$":o.strict&&(a+="(?:/|$)");const n=new RegExp(a,o.sensitive?"":"i");function s(u){const c=u.match(n),d={};if(!c)return null;for(let m=1;m<c.length;m++){const f=c[m]||"",p=i[m-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const m of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of m)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:b}=f,x=p in u?u[p]:"";if(rs(x)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=rs(x)?x.join("/"):x;if(!_)if(b)m.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=_}}return c||"/"}return{re:n,score:r,keys:i,parse:s,stringify:l}}function h5e(e,t){let o=0;for(;o<e.length&&o<t.length;){const r=t[o]-e[o];if(r)return r;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function v5e(e,t){let o=0;const r=e.score,a=t.score;for(;o<r.length&&o<a.length;){const i=h5e(r[o],a[o]);if(i)return i;o++}if(Math.abs(a.length-r.length)===1){if(MD(r))return 1;if(MD(a))return-1}return a.length-r.length}function MD(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const g5e={type:0,value:""},_5e=/[a-zA-Z0-9_]/;function b5e(e){if(!e)return[[]];if(e==="/")return[[g5e]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${o})/"${u}": ${f}`)}let o=0,r=o;const a=[];let i;function n(){i&&a.push(i),i=[]}let s=0,l,u="",c="";function d(){!u||(o===0?i.push({type:0,value:u}):o===1||o===2||o===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function m(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&o!==2){r=o,o=4;continue}switch(o){case 0:l==="/"?(u&&d(),n()):l===":"?(d(),o=1):m();break;case 4:m(),o=r;break;case 1:l==="("?o=2:_5e.test(l)?m():(d(),o=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:o=3:c+=l;break;case 3:d(),o=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),n(),a}function y5e(e,t,o){const r=p5e(b5e(e.path),o),a=Uo(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function C5e(e,t){const o=[],r=new Map;t=RD({strict:!1,end:!0,sensitive:!1},t);function a(c){return r.get(c)}function i(c,d,m){const f=!m,p=x5e(c);p.aliasOf=m&&m.record;const g=RD(t,c),b=[p];if("alias"in c){const y=typeof c.alias=="string"?[c.alias]:c.alias;for(const I of y)b.push(Uo({},p,{components:m?m.record.components:p.components,path:I,aliasOf:m?m.record:p}))}let x,_;for(const y of b){const{path:I}=y;if(d&&I[0]!=="/"){const S=d.record.path,O=S[S.length-1]==="/"?"":"/";y.path=d.record.path+(I&&O+I)}if(x=y5e(y,d,g),m?m.alias.push(x):(_=_||x,_!==x&&_.alias.push(x),f&&c.name&&!FD(x)&&n(c.name)),p.children){const S=p.children;for(let O=0;O<S.length;O++)i(S[O],x,m&&m.children[O])}m=m||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&l(x)}return _?()=>{n(_)}:hp}function n(c){if(i5(c)){const d=r.get(c);d&&(r.delete(c),o.splice(o.indexOf(d),1),d.children.forEach(n),d.alias.forEach(n))}else{const d=o.indexOf(c);d>-1&&(o.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(n),c.alias.forEach(n))}}function s(){return o}function l(c){let d=0;for(;d<o.length&&v5e(c,o[d])>=0&&(c.record.path!==o[d].record.path||!s5(c,o[d]));)d++;o.splice(d,0,c),c.record.name&&!FD(c)&&r.set(c.record.name,c)}function u(c,d){let m,f={},p,g;if("name"in c&&c.name){if(m=r.get(c.name),!m)throw Of(1,{location:c});g=m.record.name,f=Uo(ND(d.params,m.keys.filter(_=>!_.optional).map(_=>_.name)),c.params&&ND(c.params,m.keys.map(_=>_.name))),p=m.stringify(f)}else if("path"in c)p=c.path,m=o.find(_=>_.re.test(p)),m&&(f=m.parse(p),g=m.record.name);else{if(m=d.name?r.get(d.name):o.find(_=>_.re.test(d.path)),!m)throw Of(1,{location:c,currentLocation:d});g=m.record.name,f=Uo({},d.params,c.params),p=m.stringify(f)}const b=[];let x=m;for(;x;)b.unshift(x.record),x=x.parent;return{name:g,path:p,params:f,matched:b,meta:I5e(b)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:n,getRoutes:s,getRecordMatcher:a}}function ND(e,t){const o={};for(const r of t)r in e&&(o[r]=e[r]);return o}function x5e(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:w5e(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function w5e(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const r in e.components)t[r]=typeof o=="object"?o[r]:o;return t}function FD(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function I5e(e){return e.reduce((t,o)=>Uo(t,o.meta),{})}function RD(e,t){const o={};for(const r in e)o[r]=r in t?t[r]:e[r];return o}function s5(e,t){return t.children.some(o=>o===e||s5(e,o))}const l5=/#/g,E5e=/&/g,S5e=/\//g,A5e=/=/g,T5e=/\?/g,c5=/\+/g,O5e=/%5B/g,D5e=/%5D/g,u5=/%5E/g,P5e=/%60/g,d5=/%7B/g,M5e=/%7C/g,f5=/%7D/g,N5e=/%20/g;function rE(e){return encodeURI(""+e).replace(M5e,"|").replace(O5e,"[").replace(D5e,"]")}function F5e(e){return rE(e).replace(d5,"{").replace(f5,"}").replace(u5,"^")}function OC(e){return rE(e).replace(c5,"%2B").replace(N5e,"+").replace(l5,"%23").replace(E5e,"%26").replace(P5e,"`").replace(d5,"{").replace(f5,"}").replace(u5,"^")}function R5e(e){return OC(e).replace(A5e,"%3D")}function k5e(e){return rE(e).replace(l5,"%23").replace(T5e,"%3F")}function V5e(e){return e==null?"":k5e(e).replace(S5e,"%2F")}function Hv(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function q5e(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const i=r[a].replace(c5," "),n=i.indexOf("="),s=Hv(n<0?i:i.slice(0,n)),l=n<0?null:Hv(i.slice(n+1));if(s in t){let u=t[s];rs(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function kD(e){let t="";for(let o in e){const r=e[o];if(o=R5e(o),r==null){r!==void 0&&(t+=(t.length?"&":"")+o);continue}(rs(r)?r.map(i=>i&&OC(i)):[r&&OC(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+o,i!=null&&(t+="="+i))})}return t}function B5e(e){const t={};for(const o in e){const r=e[o];r!==void 0&&(t[o]=rs(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const L5e=Symbol(""),VD=Symbol(""),iE=Symbol(""),m5=Symbol(""),DC=Symbol("");function Vm(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function o(){e=[]}return{add:t,list:()=>e.slice(),reset:o}}function Xl(e,t,o,r,a){const i=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((n,s)=>{const l=d=>{d===!1?s(Of(4,{from:o,to:t})):d instanceof Error?s(d):d5e(d)?s(Of(2,{from:t,to:d})):(i&&r.enterCallbacks[a]===i&&typeof d=="function"&&i.push(d),n())},u=e.call(r&&r.instances[a],t,o,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(d=>s(d))})}function N2(e,t,o,r){const a=[];for(const i of e)for(const n in i.components){let s=i.components[n];if(!(t!=="beforeRouteEnter"&&!i.instances[n]))if($5e(s)){const u=(s.__vccOpts||s)[t];u&&a.push(Xl(u,o,r,i,n))}else{let l=s();a.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${n}" at "${i.path}"`));const c=WFe(u)?u.default:u;i.components[n]=c;const m=(c.__vccOpts||c)[t];return m&&Xl(m,o,r,i,n)()}))}}return a}function $5e(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qD(e){const t=gr(iE),o=gr(m5),r=X(()=>t.resolve(tl(e.to))),a=X(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=o.matched;if(!c||!d.length)return-1;const m=d.findIndex(Tf.bind(null,c));if(m>-1)return m;const f=BD(l[u-2]);return u>1&&BD(c)===f&&d[d.length-1].path!==f?d.findIndex(Tf.bind(null,l[u-2])):m}),i=X(()=>a.value>-1&&j5e(o.params,r.value.params)),n=X(()=>a.value>-1&&a.value===o.matched.length-1&&a5(o.params,r.value.params));function s(l={}){return H5e(l)?t[tl(e.replace)?"replace":"push"](tl(e.to)).catch(hp):Promise.resolve()}return{route:r,href:X(()=>r.value.href),isActive:i,isExactActive:n,navigate:s}}const U5e=Ff({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qD,setup(e,{slots:t}){const o=Gn(qD(e)),{options:r}=gr(iE),a=X(()=>({[LD(e.activeClass,r.linkActiveClass,"router-link-active")]:o.isActive,[LD(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const i=t.default&&t.default(o);return e.custom?i:ee("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:a.value},i)}}}),z5e=U5e;function H5e(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function j5e(e,t){for(const o in t){const r=t[o],a=e[o];if(typeof r=="string"){if(r!==a)return!1}else if(!rs(a)||a.length!==r.length||r.some((i,n)=>i!==a[n]))return!1}return!0}function BD(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const LD=(e,t,o)=>e!=null?e:t!=null?t:o,G5e=Ff({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const r=gr(DC),a=X(()=>e.route||r.value),i=gr(VD,0),n=X(()=>{let u=tl(i);const{matched:c}=a.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),s=X(()=>a.value.matched[n.value]);_s(VD,X(()=>n.value+1)),_s(L5e,s),_s(DC,a);const l=$e();return rt(()=>[l.value,s.value,e.name],([u,c,d],[m,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===m&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Tf(c,f)||!m)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=a.value,c=e.name,d=s.value,m=d&&d.components[c];if(!m)return $D(o.default,{Component:m,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,b=ee(m,Uo({},p,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return $D(o.default,{Component:b,route:u})||b}}});function $D(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const W5e=G5e;function X5e(e){const t=C5e(e.routes,e),o=e.parseQuery||q5e,r=e.stringifyQuery||kD,a=e.history,i=Vm(),n=Vm(),s=Vm(),l=dP(Bl);let u=Bl;Bd&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=P2.bind(null,he=>""+he),d=P2.bind(null,V5e),m=P2.bind(null,Hv);function f(he,Me){let fe,G;return i5(he)?(fe=t.getRecordMatcher(he),G=Me):G=he,t.addRoute(G,fe)}function p(he){const Me=t.getRecordMatcher(he);Me&&t.removeRoute(Me)}function g(){return t.getRoutes().map(he=>he.record)}function b(he){return!!t.getRecordMatcher(he)}function x(he,Me){if(Me=Uo({},Me||l.value),typeof he=="string"){const ie=M2(o,he,Me.path),we=t.resolve({path:ie.path},Me),H=a.createHref(ie.fullPath);return Uo(ie,we,{params:m(we.params),hash:Hv(ie.hash),redirectedFrom:void 0,href:H})}let fe;if("path"in he)fe=Uo({},he,{path:M2(o,he.path,Me.path).path});else{const ie=Uo({},he.params);for(const we in ie)ie[we]==null&&delete ie[we];fe=Uo({},he,{params:d(ie)}),Me.params=d(Me.params)}const G=t.resolve(fe,Me),V=he.hash||"";G.params=c(m(G.params));const L=KFe(r,Uo({},he,{hash:F5e(V),path:G.path})),U=a.createHref(L);return Uo({fullPath:L,hash:V,query:r===kD?B5e(he.query):he.query||{}},G,{redirectedFrom:void 0,href:U})}function _(he){return typeof he=="string"?M2(o,he,l.value.path):Uo({},he)}function y(he,Me){if(u!==he)return Of(8,{from:Me,to:he})}function I(he){return F(he)}function S(he){return I(Uo(_(he),{replace:!0}))}function O(he){const Me=he.matched[he.matched.length-1];if(Me&&Me.redirect){const{redirect:fe}=Me;let G=typeof fe=="function"?fe(he):fe;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=_(G):{path:G},G.params={}),Uo({query:he.query,hash:he.hash,params:"path"in G?{}:he.params},G)}}function F(he,Me){const fe=u=x(he),G=l.value,V=he.state,L=he.force,U=he.replace===!0,ie=O(fe);if(ie)return F(Uo(_(ie),{state:typeof ie=="object"?Uo({},V,ie.state):V,force:L,replace:U}),Me||fe);const we=fe;we.redirectedFrom=Me;let H;return!L&&QFe(r,G,fe)&&(H=Of(16,{to:we,from:G}),J(G,G,!0,!1)),(H?Promise.resolve(H):D(we,G)).catch(q=>Bs(q)?Bs(q,2)?q:Ee(q):se(q,we,G)).then(q=>{if(q){if(Bs(q,2))return F(Uo({replace:U},_(q.to),{state:typeof q.to=="object"?Uo({},V,q.to.state):V,force:L}),Me||we)}else q=N(we,G,!0,U,V);return P(we,G,q),q})}function M(he,Me){const fe=y(he,Me);return fe?Promise.reject(fe):Promise.resolve()}function E(he){const Me=ge.values().next().value;return Me&&typeof Me.runWithContext=="function"?Me.runWithContext(he):he()}function D(he,Me){let fe;const[G,V,L]=Y5e(he,Me);fe=N2(G.reverse(),"beforeRouteLeave",he,Me);for(const ie of G)ie.leaveGuards.forEach(we=>{fe.push(Xl(we,he,Me))});const U=M.bind(null,he,Me);return fe.push(U),Oe(fe).then(()=>{fe=[];for(const ie of i.list())fe.push(Xl(ie,he,Me));return fe.push(U),Oe(fe)}).then(()=>{fe=N2(V,"beforeRouteUpdate",he,Me);for(const ie of V)ie.updateGuards.forEach(we=>{fe.push(Xl(we,he,Me))});return fe.push(U),Oe(fe)}).then(()=>{fe=[];for(const ie of L)if(ie.beforeEnter)if(rs(ie.beforeEnter))for(const we of ie.beforeEnter)fe.push(Xl(we,he,Me));else fe.push(Xl(ie.beforeEnter,he,Me));return fe.push(U),Oe(fe)}).then(()=>(he.matched.forEach(ie=>ie.enterCallbacks={}),fe=N2(L,"beforeRouteEnter",he,Me),fe.push(U),Oe(fe))).then(()=>{fe=[];for(const ie of n.list())fe.push(Xl(ie,he,Me));return fe.push(U),Oe(fe)}).catch(ie=>Bs(ie,8)?ie:Promise.reject(ie))}function P(he,Me,fe){s.list().forEach(G=>E(()=>G(he,Me,fe)))}function N(he,Me,fe,G,V){const L=y(he,Me);if(L)return L;const U=Me===Bl,ie=Bd?history.state:{};fe&&(G||U?a.replace(he.fullPath,Uo({scroll:U&&ie&&ie.scroll},V)):a.push(he.fullPath,V)),l.value=he,J(he,Me,fe,U),Ee()}let R;function z(){R||(R=a.listen((he,Me,fe)=>{if(!De.listening)return;const G=x(he),V=O(G);if(V){F(Uo(V,{replace:!0}),G).catch(hp);return}u=G;const L=l.value;Bd&&i5e(TD(L.fullPath,fe.delta),c_()),D(G,L).catch(U=>Bs(U,12)?U:Bs(U,2)?(F(U.to,G).then(ie=>{Bs(ie,20)&&!fe.delta&&fe.type===Kp.pop&&a.go(-1,!1)}).catch(hp),Promise.reject()):(fe.delta&&a.go(-fe.delta,!1),se(U,G,L))).then(U=>{U=U||N(G,L,!1),U&&(fe.delta&&!Bs(U,8)?a.go(-fe.delta,!1):fe.type===Kp.pop&&Bs(U,20)&&a.go(-1,!1)),P(G,L,U)}).catch(hp)}))}let W=Vm(),j=Vm(),Q;function se(he,Me,fe){Ee(he);const G=j.list();return G.length?G.forEach(V=>V(he,Me,fe)):console.error(he),Promise.reject(he)}function _e(){return Q&&l.value!==Bl?Promise.resolve():new Promise((he,Me)=>{W.add([he,Me])})}function Ee(he){return Q||(Q=!he,z(),W.list().forEach(([Me,fe])=>he?fe(he):Me()),W.reset()),he}function J(he,Me,fe,G){const{scrollBehavior:V}=e;if(!Bd||!V)return Promise.resolve();const L=!fe&&n5e(TD(he.fullPath,0))||(G||!fe)&&history.state&&history.state.scroll||null;return Do().then(()=>V(he,Me,L)).then(U=>U&&r5e(U)).catch(U=>se(U,he,Me))}const re=he=>a.go(he);let ye;const ge=new Set,De={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:b,getRoutes:g,resolve:x,options:e,push:I,replace:S,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:i.add,beforeResolve:n.add,afterEach:s.add,onError:j.add,isReady:_e,install(he){const Me=this;he.component("RouterLink",z5e),he.component("RouterView",W5e),he.config.globalProperties.$router=Me,Object.defineProperty(he.config.globalProperties,"$route",{enumerable:!0,get:()=>tl(l)}),Bd&&!ye&&l.value===Bl&&(ye=!0,I(a.location).catch(V=>{}));const fe={};for(const V in Bl)Object.defineProperty(fe,V,{get:()=>l.value[V],enumerable:!0});he.provide(iE,Me),he.provide(m5,Yv(fe)),he.provide(DC,l);const G=he.unmount;ge.add(he),he.unmount=function(){ge.delete(he),ge.size<1&&(u=Bl,R&&R(),R=null,l.value=Bl,ye=!1,Q=!1),G()}}};function Oe(he){return he.reduce((Me,fe)=>Me.then(()=>E(fe)),Promise.resolve())}return De}function Y5e(e,t){const o=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let n=0;n<i;n++){const s=t.matched[n];s&&(e.matched.find(u=>Tf(u,s))?r.push(s):o.push(s));const l=e.matched[n];l&&(t.matched.find(u=>Tf(u,l))||a.push(l))}return[o,r,a]}const F2=[{path:"/",meta:{requiresAuth:!1},redirect:{name:"Home"}},{name:"HomeDashboard",path:"/homedashboard",component:()=>ze(()=>import("./HomeDashboard.6296908d.js"),["assets/HomeDashboard.6296908d.js","assets/HomeDashboard.1adf5c79.css","assets/QScrollArea.3cba7114.js","assets/Grafico.67972a77.js","assets/Chart.6b8ca77d.js"]),meta:{requiresAuth:!0}},{path:"/branca",component:()=>ze(()=>import("./Branca.54034316.js"),[]),meta:{requiresAuth:!0}},{name:"NPS",path:"/nps",component:()=>ze(()=>import("./NPS.d075df5b.js"),["assets/NPS.d075df5b.js","assets/NPS.e0ac908f.css"]),meta:{requiresAuth:!0}},{path:"/testecomponente",component:()=>ze(()=>import("./testComponente.4afa2fbf.js"),["assets/testComponente.4afa2fbf.js","assets/ContatoFicha.d4cdae57.js","assets/Icone.c2cc6cca.js","assets/SeletorPais.29dd0af7.js","assets/open-url.d7f400ea.js","assets/ItensLista.f312db02.js","assets/ItensLista.537b7ee1.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/importarArquivoXlsx.16b8a997.js","assets/QScrollArea.3cba7114.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css","assets/BadgeCopiarUid.da65da18.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/codigosANP.a6c1a264.js","assets/QTime.41129518.js","assets/QBtnToggle.475eb05f.js","assets/SeletorCfop.836a052d.js","assets/JsonViewer.157b47cf.js","assets/Nfse.ff1e158b.js","assets/optionsNfse.22979934.js"]),meta:{requiresAuth:!1}},{name:"Backup",path:"/backup/:bancoDeDados?",component:()=>ze(()=>import("./Backup.1615f1d6.js"),[]),meta:{requiresAuth:!1}},{path:"/geeks",component:()=>ze(()=>import("./ClubSingle.df10b360.js"),["assets/ClubSingle.df10b360.js","assets/ClubSingle.c3897c46.css","assets/QSpinnerDots.4f74ce99.js","assets/QCarousel.3e689ef4.js","assets/RodapeSite.9a83e684.js","assets/RodapeSite.55342bdd.css","assets/open-url.d7f400ea.js","assets/QBtnGroup.87b41912.js"]),meta:{requiresAuth:!1}},{name:"LayoutBarraTopoHomeDash",component:()=>ze(()=>import("./LayoutBarraTopoHomeDash.98246894.js"),["assets/LayoutBarraTopoHomeDash.98246894.js","assets/Plataforma15.ccca0992.js"]),redirect:{name:"Home"},children:[{name:"HomeDashboard",path:"/homedashboard",component:()=>ze(()=>import("./HomeDashboard.6296908d.js"),["assets/HomeDashboard.6296908d.js","assets/HomeDashboard.1adf5c79.css","assets/QScrollArea.3cba7114.js","assets/Grafico.67972a77.js","assets/Chart.6b8ca77d.js"]),meta:{requiresAuth:!0}}]},{name:"DashboardVarejo",path:"/dashboardvarejo",component:()=>ze(()=>import("./Varejo.8bf5905a.js"),["assets/Varejo.8bf5905a.js","assets/Varejo.a592ef5d.css","assets/Grafico.67972a77.js","assets/Chart.6b8ca77d.js"]),meta:{requiresAuth:!0}},{name:"LayoutBarraTopoDashboards",component:()=>ze(()=>import("./LayoutBarraTopoDashboards.e43e892a.js"),["assets/LayoutBarraTopoDashboards.e43e892a.js","assets/LayoutBarraTopoDashboards.35903685.css","assets/Plataforma15.ccca0992.js"]),redirect:{name:"Home"},children:[{name:"Dashboards",path:"/dashboards/:id?",component:()=>ze(()=>import("./DashboardsLayout.83b9a04b.js"),["assets/DashboardsLayout.83b9a04b.js","assets/DashboardsLayout.cb5835da.css","assets/Grafico.67972a77.js","assets/Chart.6b8ca77d.js"]),meta:{requiresAuth:!0}}]},{name:"layoutBarraTopo",component:()=>ze(()=>import("./LayoutBarraTopo.b8387b51.js"),["assets/LayoutBarraTopo.b8387b51.js","assets/Plataforma15.ccca0992.js"]),redirect:{name:"Home"},children:[{name:"Home",path:"/home",component:()=>ze(()=>import("./Home.66faeb99.js"),[]),meta:{requiresAuth:!0}},{name:"Agenda",path:"/agenda",component:()=>ze(()=>import("./Agenda.c9f5a905.js"),["assets/Agenda.c9f5a905.js","assets/Agenda.d31e368b.css","assets/QCarousel.3e689ef4.js","assets/QBtnToggle.475eb05f.js","assets/QBtnGroup.87b41912.js","assets/QCalendarDay.5c30cb3b.js","assets/QBtnDropdown.206f84a8.js"]),meta:{requiresAuth:!0}},{name:"Registro",path:"/registros/:operacao/:id?",component:()=>ze(()=>import("./RegistroLista.36023ec2.js"),["assets/RegistroLista.36023ec2.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/xlsx.87d89ffe.js","assets/Campo.1b46de5f.js","assets/BadgeCopiarUid.da65da18.js","assets/PromptContatoV2.114bfbfe.js","assets/emitirNFe.de0f28dd.js","assets/nfePrincipal.27d29f19.js","assets/nfePrincipal.62b3b046.css","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js"]),meta:{requiresAuth:!0}},{name:"consultorotico",path:"/consultorotico/:id?",component:()=>ze(()=>import("./Jornada.685bf260.js"),["assets/Jornada.685bf260.js","assets/Jornada.2ad0184b.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js"]),meta:{requiresAuth:!0}},{name:"Site",path:"/site/:id?",component:()=>ze(()=>import("./Site.abedd18a.js"),[]),meta:{requiresAuth:!0}},{name:"Dev",path:"/dev",component:()=>ze(()=>import("./Dev.675ce2ad.js"),[]),meta:{requiresAuth:!1}},{name:"Dev",path:"/dev/campos",component:()=>ze(()=>import("./TesteCampos.64ad9ac8.js"),[]),meta:{requiresAuth:!1}},{name:"Caixa",path:"/caixa/:id?",component:()=>ze(()=>import("./CaixaLayout.0ffb03dd.js"),["assets/CaixaLayout.0ffb03dd.js","assets/QRouteTab.ab75a0b2.js"]),meta:{requiresAuth:!0},redirect:{name:"CaixaEmpresas"},children:[{name:"CaixaEmpresas",path:"empresas",component:()=>ze(()=>import("./CaixaEmpresas.1903ccb4.js"),["assets/CaixaEmpresas.1903ccb4.js","assets/CaixaFechar.ec39b209.js","assets/FaturaCard.219c9694.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/QSpinnerDots.4f74ce99.js","assets/DocumentosFiscais.6edacbfd.js","assets/Campo.1b46de5f.js","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js","assets/emitirNFe.de0f28dd.js","assets/FaturaModal.dacf471d.js","assets/VendaCard.851c781b.js","assets/ModalHistoricoStatus.e86bbe9b.js"])},{name:"CaixaTesouraria",path:"tesouraria",component:()=>ze(()=>import("./CaixaTesouraria.1576ab48.js"),["assets/CaixaTesouraria.1576ab48.js","assets/CaixaFechar.ec39b209.js","assets/GChipsV2.9d2eca0c.js","assets/GChipsV2.73e684f5.css"])}]},{name:"Configuracoes",path:"/configuracoes/:id?",component:()=>ze(()=>import("./Configuracoes.340d35fb.js"),["assets/Configuracoes.340d35fb.js","assets/MenuAbas.c8ce1e44.js"]),meta:{requiresAuth:!0},children:[{name:"ConfiguracoesEmpresas",path:"empresas",component:()=>ze(()=>import("./ConfiguracoesEmpresas.0c403cfb.js"),["assets/ConfiguracoesEmpresas.0c403cfb.js","assets/ConfiguracoesEmpresas.602b4385.css","assets/optionsNfse.22979934.js"])},{name:"ConfiguracoesECommerce",path:"ecommerce",component:()=>ze(()=>import("./ConfiguracoesECommerce.6f2bba1e.js"),["assets/ConfiguracoesECommerce.6f2bba1e.js","assets/QPopupEdit.012e2f8d.js"])},{name:"ConfiguracoesUsuarios",path:"usuarios",component:()=>ze(()=>import("./ConfiguracoesUsuarios.b94a5aa3.js"),["assets/ConfiguracoesUsuarios.b94a5aa3.js","assets/ConfiguracoesUsuarios.f4a928f7.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css"])},{name:"ConfiguracoesDocumentosFiscais",path:"documentos-fiscais",component:()=>ze(()=>import("./ConfiguracoesDocumentosFiscais.51aa8b85.js"),["assets/ConfiguracoesDocumentosFiscais.51aa8b85.js","assets/nfeInutilizacao.38cc3d3f.js","assets/compactarValidarNFe.0c2d0044.js"])},{name:"ConfiguracoesImpostos",path:"configuracoes-impostos",component:()=>ze(()=>import("./ConfiguracoesImpostos.bbba7b93.js"),["assets/ConfiguracoesImpostos.bbba7b93.js","assets/QBtnToggle.475eb05f.js","assets/QBtnGroup.87b41912.js","assets/Campo.1b46de5f.js","assets/SeletorCfop.836a052d.js"])},{name:"ConfiguracoesSped",path:"sped",component:()=>ze(()=>import("./ConfiguracoesSped.7065343a.js"),[])},{name:"ConfiguracoesVendas",path:"vendas",component:()=>ze(()=>import("./ConfiguracoesVendas.16b2f12d.js"),["assets/ConfiguracoesVendas.16b2f12d.js","assets/ConfiguracoesVendas.f5cea74a.css","assets/QBtnToggle.475eb05f.js","assets/QBtnGroup.87b41912.js","assets/SeletorCfop.836a052d.js"])},{name:"ConfiguracoesFinanceiro",path:"financeiro",component:()=>ze(()=>import("./ConfiguracoesFinanceiro.24549943.js"),[])},{name:"ConfiguracoesCampanhas",path:"campanhas",component:()=>ze(()=>import("./ConfiguracoesCampanhas.03ef0a76.js"),["assets/ConfiguracoesCampanhas.03ef0a76.js","assets/ConfiguracoesCampanhas.048414c7.css","assets/BadgeCopiarUid.da65da18.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css"])},{name:"ConfiguracoesMetas",path:"metas",component:()=>ze(()=>import("./ConfiguracoesMetas.501fbec3.js"),["assets/ConfiguracoesMetas.501fbec3.js","assets/ConfiguracoesMetas.f678260c.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js"])}]},{name:"Atendimento",path:"/atendimento/:id?",component:()=>ze(()=>import("./AtendimentoLayout.78b39347.js"),["assets/AtendimentoLayout.78b39347.js","assets/ContatoCombinar.736c0b1a.js","assets/importarArquivoXlsx.16b8a997.js","assets/xlsx.87d89ffe.js","assets/MenuAbas.c8ce1e44.js"]),meta:{requiresAuth:!0},beforeEnter(e,t,o){if(e.params.id)return o(!0);const r=localStorage.getItem("contatoSelecionado")||"0";o({name:"Atendimento",params:{id:r}})},children:[{name:"AtendimentoAnotacoes",path:"anotacoes",component:()=>ze(()=>import("./AtendimentoAnotacoes.02e100e5.js"),[])},{name:"AtendimentoContato",path:"contato",component:()=>ze(()=>import("./ContatoFicha.d4cdae57.js"),["assets/ContatoFicha.d4cdae57.js","assets/Icone.c2cc6cca.js","assets/SeletorPais.29dd0af7.js","assets/open-url.d7f400ea.js"])},{name:"AtendimentoFinanceiro",path:"financeiro",component:()=>ze(()=>import("./AtendimentoFinanceiro.e1a97164.js"),["assets/AtendimentoFinanceiro.e1a97164.js","assets/FaturaModal.dacf471d.js","assets/DocumentosFiscais.6edacbfd.js","assets/Campo.1b46de5f.js","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js","assets/emitirNFe.de0f28dd.js","assets/VendaCard.851c781b.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/Grafico.67972a77.js","assets/Chart.6b8ca77d.js"])},{name:"AtendimentoOticaReceita",path:"otica-receita",component:()=>ze(()=>import("./AtendimentoOticaReceita.eae524ff.js"),[])},{name:"AtendimentoVenda",path:"venda",component:()=>ze(()=>import("./AtendimentoVenda.959fda3f.js"),["assets/AtendimentoVenda.959fda3f.js","assets/nfePrincipal.27d29f19.js","assets/nfePrincipal.62b3b046.css","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js","assets/BadgeCopiarUid.da65da18.js","assets/VendaCard.851c781b.js","assets/DocumentosFiscais.6edacbfd.js","assets/Campo.1b46de5f.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/emitirNFe.de0f28dd.js","assets/GChipsV2.9d2eca0c.js","assets/GChipsV2.73e684f5.css","assets/open-url.d7f400ea.js"])},{name:"AtendimentoFatura",path:"fatura",component:()=>ze(()=>import("./AtendimentoFatura.bec8798d.js"),["assets/AtendimentoFatura.bec8798d.js","assets/FaturaCard.219c9694.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/QSpinnerDots.4f74ce99.js","assets/DocumentosFiscais.6edacbfd.js","assets/Campo.1b46de5f.js","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js","assets/emitirNFe.de0f28dd.js","assets/FaturaModal.dacf471d.js","assets/VendaCard.851c781b.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/GChipsV2.9d2eca0c.js","assets/GChipsV2.73e684f5.css","assets/nfePrincipal.27d29f19.js","assets/nfePrincipal.62b3b046.css","assets/BadgeCopiarUid.da65da18.js"])},{name:"AtendimentoEquipamentos",path:"equipamentos",component:()=>ze(()=>import("./Equipamentos.b9e8205b.js"),["assets/Equipamentos.b9e8205b.js","assets/BadgeCopiarUid.da65da18.js"])}]},{name:"ImprimirEtiquetas",path:"/imprimir-etiquetas/:id?",component:()=>ze(()=>import("./ImprimirEtiquetas.942f2f50.js"),["assets/ImprimirEtiquetas.942f2f50.js","assets/ImprimirEtiquetas.6bc0c0f3.css","assets/xlsx.87d89ffe.js"]),meta:{requiresAuth:!0}},{name:"Qg",path:"/qg/:id?",component:()=>ze(()=>import("./QgLayout.bb2aeb41.js"),["assets/QgLayout.bb2aeb41.js","assets/MenuAbas.c8ce1e44.js"]),meta:{requiresAuth:!0},children:[{name:"QgQg",path:"qg",component:()=>ze(()=>import("./QgQg.b141863e.js"),["assets/QgQg.b141863e.js","assets/Chart.6b8ca77d.js"])},{name:"QgEquipe",path:"equipe",component:()=>ze(()=>import("./QgEquipe.ba94af28.js"),[])},{name:"QgEstoque",path:"estoque",component:()=>ze(()=>import("./QgEstoque.6c5090a5.js"),[])}]},{name:"Cockpit",path:"/cockpit/:id?",component:()=>ze(()=>import("./CockpitLayout.a93d6e37.js"),["assets/CockpitLayout.a93d6e37.js","assets/MenuAbas.c8ce1e44.js","assets/JsonViewer.157b47cf.js"]),meta:{requiresAuth:!0},children:[{name:"CockpitVendedor",path:"vendedor",component:()=>ze(()=>import("./CockpitVendedor.9292ad7c.js"),["assets/CockpitVendedor.9292ad7c.js","assets/CockpitVendedor.67678c34.css","assets/Icone.c2cc6cca.js","assets/JsonViewer.157b47cf.js"])},{name:"CockpitEnvelopes",path:"envelopes",component:()=>ze(()=>import("./CockpitEnvelopes.89c9d791.js"),["assets/CockpitEnvelopes.89c9d791.js","assets/Icone.c2cc6cca.js","assets/open-url.d7f400ea.js","assets/JsonViewer.157b47cf.js"]),props:!0},{name:"CockpitPerformance",path:"performance",component:()=>ze(()=>import("./CockpitPerformance.fed8c9e1.js"),["assets/CockpitPerformance.fed8c9e1.js","assets/Grafico.67972a77.js","assets/Chart.6b8ca77d.js"])},{name:"CockpitVendas",path:"vendas",component:()=>ze(()=>import("./CockpitVendas.40141571.js"),["assets/CockpitVendas.40141571.js","assets/GChipsV2.9d2eca0c.js","assets/GChipsV2.73e684f5.css","assets/nfePrincipal.27d29f19.js","assets/nfePrincipal.62b3b046.css","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js","assets/BadgeCopiarUid.da65da18.js","assets/VendaCard.851c781b.js","assets/DocumentosFiscais.6edacbfd.js","assets/Campo.1b46de5f.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/emitirNFe.de0f28dd.js","assets/JsonViewer.157b47cf.js"]),props:!0},{name:"CockpitFaturas",path:"faturas",component:()=>ze(()=>import("./CockpitFaturas.97b97871.js"),["assets/CockpitFaturas.97b97871.js","assets/FaturaCard.219c9694.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/QSpinnerDots.4f74ce99.js","assets/DocumentosFiscais.6edacbfd.js","assets/Campo.1b46de5f.js","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js","assets/emitirNFe.de0f28dd.js","assets/FaturaModal.dacf471d.js","assets/VendaCard.851c781b.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/GChipsV2.9d2eca0c.js","assets/GChipsV2.73e684f5.css","assets/nfePrincipal.27d29f19.js","assets/nfePrincipal.62b3b046.css","assets/BadgeCopiarUid.da65da18.js","assets/JsonViewer.157b47cf.js"]),props:!0}]},{name:"pdv",path:"/pdv/:id?",component:()=>ze(()=>import("./Pdv.6a175ff8.js"),["assets/Pdv.6a175ff8.js","assets/QScrollArea.3cba7114.js","assets/Campo.1b46de5f.js"]),meta:{requiresAuth:!0}},{name:"NFSe",path:"/nfse/:id?",component:()=>ze(()=>import("./NfseLista.b5a1b90a.js"),["assets/NfseLista.b5a1b90a.js","assets/xlsx.87d89ffe.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/Nfse.ff1e158b.js","assets/optionsNfse.22979934.js","assets/JsonViewer.157b47cf.js"]),meta:{requiresAuth:!0}},{name:"Modelo",path:"/Modelo/:id?",component:()=>ze(()=>import("./Modelo.3b6b2c0b.js"),["assets/Modelo.3b6b2c0b.js","assets/Modelo.2cce805d.css","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/open-url.d7f400ea.js","assets/Campo.1b46de5f.js","assets/OSTrocarStatus.5bc4eef2.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/vuedraggable.umd.59ab8686.js"]),meta:{requiresAuth:!0}},{name:"Compras",path:"/compras",component:()=>ze(()=>import("./Lista.08519986.js"),["assets/Lista.08519986.js","assets/Lista.5ff64078.css","assets/xlsx.87d89ffe.js","assets/BadgeCopiarUid.da65da18.js","assets/SeletorCfop.836a052d.js","assets/Campo.1b46de5f.js","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js"]),meta:{requiresAuth:!0},redirect:{path:"/compras/pedidos"}},{name:"Pedido de Compra",path:"/compras/pedidos",component:()=>ze(()=>import("./Lista.08519986.js"),["assets/Lista.08519986.js","assets/Lista.5ff64078.css","assets/xlsx.87d89ffe.js","assets/BadgeCopiarUid.da65da18.js","assets/SeletorCfop.836a052d.js","assets/Campo.1b46de5f.js","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js"]),meta:{requiresAuth:!0}},{name:"Nota de Entrada",path:"/compras/notas/:id?",component:()=>ze(()=>import("./Lista.08519986.js"),["assets/Lista.08519986.js","assets/Lista.5ff64078.css","assets/xlsx.87d89ffe.js","assets/BadgeCopiarUid.da65da18.js","assets/SeletorCfop.836a052d.js","assets/Campo.1b46de5f.js","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js"]),meta:{requiresAuth:!0}},{name:"Nota no SEFAZ",path:"/compras/sefaz",component:()=>ze(()=>import("./Lista.08519986.js"),["assets/Lista.08519986.js","assets/Lista.5ff64078.css","assets/xlsx.87d89ffe.js","assets/BadgeCopiarUid.da65da18.js","assets/SeletorCfop.836a052d.js","assets/Campo.1b46de5f.js","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js"]),meta:{requiresAuth:!0}},{name:"Campanhas",path:"/campanhas/:id?",component:()=>ze(()=>import("./CampanhaLista.ae4e6ae4.js"),["assets/CampanhaLista.ae4e6ae4.js","assets/CampanhaLista.07d1cbc3.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/BadgeCopiarUid.da65da18.js","assets/GenericModal.07448e1a.js","assets/GenericModal.180a662a.css","assets/GChipsV2.9d2eca0c.js","assets/GChipsV2.73e684f5.css","assets/JsonViewer.157b47cf.js"]),meta:{requiresAuth:!0}},{name:"Contatos",path:"/contatos/:id?",component:()=>ze(()=>import("./ContatoLista.39b85916.js"),["assets/ContatoLista.39b85916.js","assets/ContatoLista.8b295593.css","assets/QBtnGroup.87b41912.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/xlsx.87d89ffe.js","assets/ContatoModalFicha.60dd996e.js","assets/ContatoFicha.d4cdae57.js","assets/Icone.c2cc6cca.js","assets/SeletorPais.29dd0af7.js","assets/open-url.d7f400ea.js","assets/ContatoCombinar.736c0b1a.js"]),meta:{requiresAuth:!0}},{name:"Itens",path:"/itens/:id?",component:()=>ze(()=>import("./ItensLista.f312db02.js").then(function(e){return e.I}),["assets/ItensLista.f312db02.js","assets/ItensLista.537b7ee1.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/importarArquivoXlsx.16b8a997.js","assets/QScrollArea.3cba7114.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css","assets/BadgeCopiarUid.da65da18.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/codigosANP.a6c1a264.js","assets/QTime.41129518.js","assets/QBtnToggle.475eb05f.js","assets/SeletorCfop.836a052d.js","assets/JsonViewer.157b47cf.js"]),meta:{requiresAuth:!0}},{name:"ListaPupilometros",path:"/pupilometros",component:()=>ze(()=>import("./Lista.42aaf544.js"),["assets/Lista.42aaf544.js","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js"]),meta:{requiresAuth:!0}},{name:"Item",path:"/item/:id?",component:()=>ze(()=>import("./ItensLista.f312db02.js").then(function(e){return e.I}),["assets/ItensLista.f312db02.js","assets/ItensLista.537b7ee1.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/importarArquivoXlsx.16b8a997.js","assets/QScrollArea.3cba7114.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css","assets/BadgeCopiarUid.da65da18.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/codigosANP.a6c1a264.js","assets/QTime.41129518.js","assets/QBtnToggle.475eb05f.js","assets/SeletorCfop.836a052d.js","assets/JsonViewer.157b47cf.js"]),meta:{requiresAuth:!0}},{name:"ItemFicha",path:"/item/:id?/ficha",component:()=>ze(()=>import("./ItensLista.f312db02.js").then(function(e){return e.I}),["assets/ItensLista.f312db02.js","assets/ItensLista.537b7ee1.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/importarArquivoXlsx.16b8a997.js","assets/QScrollArea.3cba7114.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css","assets/BadgeCopiarUid.da65da18.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/codigosANP.a6c1a264.js","assets/QTime.41129518.js","assets/QBtnToggle.475eb05f.js","assets/SeletorCfop.836a052d.js","assets/JsonViewer.157b47cf.js"]),meta:{requiresAuth:!0}},{name:"ItemEstoque",path:"/item/:id?/estoque",component:()=>ze(()=>import("./ItensLista.f312db02.js").then(function(e){return e.I}),["assets/ItensLista.f312db02.js","assets/ItensLista.537b7ee1.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/importarArquivoXlsx.16b8a997.js","assets/QScrollArea.3cba7114.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css","assets/BadgeCopiarUid.da65da18.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/codigosANP.a6c1a264.js","assets/QTime.41129518.js","assets/QBtnToggle.475eb05f.js","assets/SeletorCfop.836a052d.js","assets/JsonViewer.157b47cf.js"]),meta:{requiresAuth:!0}},{name:"ItemFicha2",path:"/itemFicha",component:()=>ze(()=>import("./ItensLista.f312db02.js").then(function(e){return e.I}),["assets/ItensLista.f312db02.js","assets/ItensLista.537b7ee1.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/importarArquivoXlsx.16b8a997.js","assets/QScrollArea.3cba7114.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css","assets/BadgeCopiarUid.da65da18.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/codigosANP.a6c1a264.js","assets/QTime.41129518.js","assets/QBtnToggle.475eb05f.js","assets/SeletorCfop.836a052d.js","assets/JsonViewer.157b47cf.js"]),meta:{requiresAuth:!0}},{name:"Financeiro",path:"/financeiro/:id?",component:()=>ze(()=>import("./ModeloFinanceiro.f38c0ec7.js"),["assets/ModeloFinanceiro.f38c0ec7.js","assets/ModeloFinanceiro.e0c45230.css","assets/QCarousel.3e689ef4.js","assets/listaV3.355f6ae7.js","assets/listaV3.e4066ddc.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/QPopupEdit.012e2f8d.js","assets/xlsx.87d89ffe.js","assets/Chart.6b8ca77d.js","assets/Campo.1b46de5f.js"]),meta:{requiresAuth:!0}},{name:"RelatoriosLayout",path:"/relatorios/:id?",component:()=>ze(()=>import("./Relatorios.815a004f.js"),[]),meta:{requiresAuth:!0},children:[{name:"RelatoriosFinanceiro",path:"financeiro",component:()=>ze(()=>import("./RelatoriosFinanceiro.b9cfc256.js"),["assets/RelatoriosFinanceiro.b9cfc256.js","assets/RelatoriosFinanceiro.b5880852.css","assets/QRouteTab.ab75a0b2.js"]),children:[{name:"FinanceiroDRE",path:"dre",component:()=>ze(()=>import("./FinanceiroDRE.493f6318.js"),[])},{name:"FinanceiroBalanco",path:"balanco",component:()=>ze(()=>import("./FinanceiroBalanco.f123155d.js"),[])},{name:"FinanceiroFluxo",path:"fluxo",component:()=>ze(()=>import("./FinanceiroFluxo.a27c47a9.js"),[])},{name:"FinanceiroResultado",path:"resultado",component:()=>ze(()=>import("./FinanceiroResultado.1f0cff2f.js"),[])}]},{name:"RelatoriosVendas",path:"vendas",component:()=>ze(()=>import("./RelatoriosVendas.4fa53e56.js"),[]),props:!0},{name:"RelatoriosEstoque",path:"estoque",component:()=>ze(()=>import("./RelatoriosEstoque.a9263f58.js"),[])},{name:"RelatoriosFaturamento",path:"faturamento",component:()=>ze(()=>import("./RelatoriosFaturamento.5974bb39.js"),[]),props:!0},{name:"RelatoriosFiscal",path:"fiscal",component:()=>ze(()=>import("./RelatoriosFiscal.3657d9c2.js"),[]),props:!0},{name:"RelatoriosCompras",path:"compras",component:()=>ze(()=>import("./RelatoriosCompras.7a56052c.js"),[]),props:!0}]},{name:"RelatorioUsoSistema",path:"/relatoriodinamico/sistemauso",component:()=>ze(()=>import("./RelatorioUsoSistema.e64d0983.js"),["assets/RelatorioUsoSistema.e64d0983.js","assets/RelatorioUsoSistema.6f5f0581.css","assets/QBreadcrumbs.03143369.js"]),meta:{requiresAuth:!0}},{name:"Desenvolvedor",path:"/desenvolvedor",component:()=>ze(()=>import("./Desenvolvedor.ac1c2338.js"),["assets/Desenvolvedor.ac1c2338.js","assets/MonacoEditor.969a3366.js","assets/MonacoEditor.3cd6fdad.css"]),meta:{requiresAuth:!0}},{name:"Desenvolvedor",path:"/desenvolvedor/docs/componentelayout",component:()=>ze(()=>import("./DocComponenteLayout.5280eca7.js"),["assets/DocComponenteLayout.5280eca7.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css"]),meta:{requiresAuth:!0}},{name:"Construtor",path:"/Construtor",component:()=>ze(()=>import("./construtor.a9a373e6.js"),["assets/construtor.a9a373e6.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css"]),meta:{requiresAuth:!0}},{name:"AdmEnvelopes",path:"/admenvelopes",component:()=>ze(()=>import("./AdmEnvelopes.a40fa243.js"),["assets/AdmEnvelopes.a40fa243.js","assets/AdmEnvelopes.c963004d.css","assets/GenericModal.07448e1a.js","assets/GenericModal.180a662a.css","assets/open-url.d7f400ea.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/vuedraggable.umd.59ab8686.js"]),meta:{requiresAuth:!0}},{name:"EnvelopeLista",path:"/envelopes",component:()=>ze(()=>import("./EnvelopeLista.a63ff7a1.js"),["assets/EnvelopeLista.a63ff7a1.js","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js"]),meta:{requiresAuth:!0}},{name:"AdmCustom",path:"/admcustom",component:()=>ze(()=>import("./AdmCustom.0749de06.js"),["assets/AdmCustom.0749de06.js","assets/Campo.1b46de5f.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/vuedraggable.umd.59ab8686.js"]),meta:{requiresAuth:!0}},{name:"AdmOS",path:"/admos",component:()=>ze(()=>import("./AdmOS.80bf5c11.js"),["assets/AdmOS.80bf5c11.js","assets/Campo.1b46de5f.js","assets/OSTrocarStatus.5bc4eef2.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/vuedraggable.umd.59ab8686.js"]),meta:{requiresAuth:!0}},{name:"Kanban",path:"/kanban",component:()=>ze(()=>import("./Kanban.c5407560.js"),["assets/Kanban.c5407560.js","assets/Campo.1b46de5f.js","assets/vuedraggable.umd.59ab8686.js"]),meta:{requiresAuth:!0}},{name:"FunilVendas",path:"/funilvendas",component:()=>ze(()=>import("./FunilVendas.ebfc3842.js"),["assets/FunilVendas.ebfc3842.js","assets/Campo.1b46de5f.js","assets/ModalHistoricoStatus.e86bbe9b.js","assets/vuedraggable.umd.59ab8686.js"]),meta:{requiresAuth:!0}},{name:"Tarefas",path:"/tarefas/:id?",component:()=>ze(()=>import("./Tarefas.7c628a0d.js"),["assets/Tarefas.7c628a0d.js","assets/Tarefas.3b91066d.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/open-url.d7f400ea.js","assets/QTime.41129518.js"]),meta:{requiresAuth:!0}},{name:"Tarefa",path:"/tarefa/:id?",component:()=>ze(()=>import("./Tarefas.7c628a0d.js"),["assets/Tarefas.7c628a0d.js","assets/Tarefas.3b91066d.css","assets/Lista.cf64dc22.js","assets/Lista.4c29b85a.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/xlsx.87d89ffe.js","assets/open-url.d7f400ea.js","assets/QTime.41129518.js"]),meta:{requiresAuth:!0}},{name:"NFe",path:"/nfe/:id?",component:()=>ze(()=>import("./nfeLayout.84e52f3b.js"),["assets/nfeLayout.84e52f3b.js","assets/nfeInutilizacao.38cc3d3f.js","assets/compactarValidarNFe.0c2d0044.js"]),meta:{requiresAuth:!0},redirect:{name:"nfeLista"},children:[{name:"nfeLista",path:"lista",component:()=>ze(()=>import("./nfeLista.8388992a.js"),["assets/nfeLista.8388992a.js","assets/BadgeCopiarUid.da65da18.js","assets/nfePrincipal.27d29f19.js","assets/nfePrincipal.62b3b046.css","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js"])}]},{name:"Plataforma15",path:"/plataforma15/:objeto/:id?",component:()=>ze(()=>import("./Branca.54034316.js"),[]),meta:{requiresAuth:!0}},{name:"CriarBanco",path:"/criar-banco",component:()=>ze(()=>import("./CriarBanco.ff3fdd74.js"),["assets/CriarBanco.ff3fdd74.js","assets/SeletorPais.29dd0af7.js"]),meta:{requiresAuth:!0}},{name:"PainelSincronismo",path:"/painel-sincronismo",component:()=>ze(()=>import("./PainelSincronismo.b4538446.js"),[]),meta:{requiresAuth:!0}},{name:"Producoes",path:"/producoes/:id?",component:()=>ze(()=>import("./ItensManipulacaoLista.68ba72bb.js"),["assets/ItensManipulacaoLista.68ba72bb.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/xlsx.87d89ffe.js","assets/BadgeCopiarUid.da65da18.js","assets/ItensManipulacaoApontamento.e02925d3.js"]),meta:{requiresAuth:!0}},{name:"Expedicao",path:"/expedicao/:id?",component:()=>ze(()=>import("./ItensLista.ef2c4231.js"),["assets/ItensLista.ef2c4231.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/xlsx.87d89ffe.js","assets/BadgeCopiarUid.da65da18.js","assets/ItensManipulacaoApontamento.e02925d3.js"]),meta:{requiresAuth:!0}},{name:"Contratos",path:"/contratos/:id?",component:()=>ze(()=>import("./ContratosLista.949a0f73.js"),["assets/ContratosLista.949a0f73.js","assets/ContratosLista.019190a9.css","assets/listaV3.355f6ae7.js","assets/listaV3.e4066ddc.css","assets/QBtnDropdown.206f84a8.js","assets/QBtnGroup.87b41912.js","assets/QDate.0b795d65.js","assets/QPopupEdit.012e2f8d.js","assets/xlsx.87d89ffe.js","assets/Campo.1b46de5f.js","assets/PromptContatoV2.114bfbfe.js"]),meta:{requiresAuth:!0}},{name:"FaturaB15",path:"/faturab15",component:()=>ze(()=>import("./Fatura15Lista.c39ec07d.js"),["assets/Fatura15Lista.c39ec07d.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/xlsx.87d89ffe.js","assets/ContatoModalFicha.60dd996e.js","assets/ContatoFicha.d4cdae57.js","assets/Icone.c2cc6cca.js","assets/SeletorPais.29dd0af7.js","assets/open-url.d7f400ea.js","assets/ContatoCombinar.736c0b1a.js"]),meta:{requiresAuth:!0}},{name:"FaturaOptisoul",path:"/faturaoptisoul",component:()=>ze(()=>import("./Fatura15Lista.c39ec07d.js"),["assets/Fatura15Lista.c39ec07d.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/xlsx.87d89ffe.js","assets/ContatoModalFicha.60dd996e.js","assets/ContatoFicha.d4cdae57.js","assets/Icone.c2cc6cca.js","assets/SeletorPais.29dd0af7.js","assets/open-url.d7f400ea.js","assets/ContatoCombinar.736c0b1a.js"]),meta:{requiresAuth:!0}},{name:"Vendas",path:"/vendas/:id?",component:()=>ze(()=>import("./VendaLista.766a5730.js"),["assets/VendaLista.766a5730.js","assets/xlsx.87d89ffe.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/DocumentosFiscais.6edacbfd.js","assets/Campo.1b46de5f.js","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js","assets/ModalHistoricoStatus.e86bbe9b.js"]),meta:{requiresAuth:!0}},{name:"Faturas",path:"/faturas/:id?",component:()=>ze(()=>import("./VendaFaturaLista.6dcff431.js"),["assets/VendaFaturaLista.6dcff431.js","assets/listaV2.5a829f74.js","assets/listaV2.d01d46ed.css","assets/QBreadcrumbs.03143369.js","assets/xlsx.87d89ffe.js","assets/QSpinnerHourglass.a1b7ea74.js","assets/QSpinnerDots.4f74ce99.js","assets/DocumentosFiscais.6edacbfd.js","assets/Campo.1b46de5f.js","assets/compactarValidarNFe.0c2d0044.js","assets/obterItens.fa427c96.js","assets/codigosANP.a6c1a264.js","assets/emitirNFe.de0f28dd.js","assets/FaturaModal.dacf471d.js","assets/VendaCard.851c781b.js","assets/ModalHistoricoStatus.e86bbe9b.js"]),meta:{requiresAuth:!0}}]},{name:"Editor",path:"/editor/:id?/:versao?",component:()=>ze(()=>import("./Editor.68c9502b.js"),["assets/Editor.68c9502b.js","assets/QBtnGroup.87b41912.js","assets/MonacoEditor.969a3366.js","assets/MonacoEditor.3cd6fdad.css","assets/Visualizador.1cc926f7.js"]),meta:{requiresAuth:!0}},{name:"Imprimir",path:"/imprimir/:nome/:parametro?",component:()=>ze(()=>import("./Imprimir.880936ae.js"),["assets/Imprimir.880936ae.js","assets/Visualizador.1cc926f7.js","assets/open-url.d7f400ea.js"]),meta:{requiresAuth:!0}},{name:"Autenticacao",path:"/autenticacao",component:()=>ze(()=>import("./AutenticacaoLayout.3d68e9c5.js"),[]),redirect:{name:"AutenticacaoEntrar"},children:[{name:"AutenticacaoBancos",path:"bancos-de-dados/:operacao?",component:()=>ze(()=>import("./AutenticacaoBancos.2d5d52e1.js"),[]),meta:{requiresAuth:!0}},{name:"AutenticacaoEntrar",path:"entrar",component:()=>ze(()=>import("./AutenticacaoEntrar.d846db96.js"),["assets/AutenticacaoEntrar.d846db96.js","assets/open-url.d7f400ea.js"])}]},{name:"ClubApp",path:"/clubapp/:id?",component:()=>ze(()=>import("./ClubApp.a5c1ec59.js"),["assets/ClubApp.a5c1ec59.js","assets/QCarousel.3e689ef4.js","assets/Campo.1b46de5f.js"]),meta:{requiresAuth:!0}},{name:"ClubApp2",path:"/clubapp2/:id?",component:()=>ze(()=>import("./ClubApp2.3e84d774.js"),["assets/ClubApp2.3e84d774.js","assets/Campo.1b46de5f.js","assets/ConfiguracoesEmpresas.0c403cfb.js","assets/ConfiguracoesEmpresas.602b4385.css","assets/optionsNfse.22979934.js"]),meta:{requiresAuth:!0}},{name:"ClubApp3",path:"/meub15/:id?",component:()=>ze(()=>import("./ClubApp3.efe8b937.js"),["assets/ClubApp3.efe8b937.js","assets/ConfiguracoesEmpresas.0c403cfb.js","assets/ConfiguracoesEmpresas.602b4385.css","assets/optionsNfse.22979934.js","assets/QDate.0b795d65.js"]),meta:{requiresAuth:!0}},{name:"Club",path:"/club/:id?",component:()=>ze(()=>import("./Club.afa7a881.js"),["assets/Club.afa7a881.js","assets/QCarousel.3e689ef4.js","assets/Campo.1b46de5f.js"]),meta:{requiresAuth:!0}},{name:"ClubProdutoSingle",path:"/clubprodutosingle/:id?",component:()=>ze(()=>import("./ClubProdutoSingle.56779ddd.js"),["assets/ClubProdutoSingle.56779ddd.js","assets/Campo.1b46de5f.js","assets/RodapeSite.9a83e684.js","assets/RodapeSite.55342bdd.css","assets/open-url.d7f400ea.js","assets/QBtnGroup.87b41912.js"]),meta:{requiresAuth:!0}},{name:"ClubSingle",path:"/clubsingle/:id?",component:()=>ze(()=>import("./ClubSingle.df10b360.js"),["assets/ClubSingle.df10b360.js","assets/ClubSingle.c3897c46.css","assets/QSpinnerDots.4f74ce99.js","assets/QCarousel.3e689ef4.js","assets/RodapeSite.9a83e684.js","assets/RodapeSite.55342bdd.css","assets/open-url.d7f400ea.js","assets/QBtnGroup.87b41912.js"]),meta:{requiresAuth:!0}},{name:"Pupilometro",path:"/pupilometro",component:()=>ze(()=>Promise.resolve().then(function(){return SOe}),void 0),meta:{requiresAuth:!0}},{path:"/:catchAll(.*)*",component:()=>ze(()=>import("./Erro404.7f567145.js"),[])}];var R2=async function(){const e=u5e,t=await je.vitrine.ler(),o=F2.find(a=>a.path==="/geeks").component;for(const a of t)F2.push({path:"/"+a.url,component:o,meta:{requiresAuth:!1}});const r=X5e({scrollBehavior:()=>({y:0}),routes:F2,history:e("/"),mode:"history",base:"/"});return r.beforeEach(async(a,i,n)=>{var f,p;window.location.href.search("http://app")!==-1&&(window.location.href=window.location.href.replace("http:","https:"));const s=a.matched.some(g=>g.meta.requiresAuth),l=JSON.parse(localStorage.getItem("usuario"))||!1,u=l&&typeof l.token=="string";if($utils.gconsole.log("router",`de:${i.name} para:${a.name} requerAutenticacao:${s} possuiToken:${u}`),~["Dev","Backup"].indexOf(a.name)||t.find(g=>a.path===`/${g.url}`))return n(!0);if(!s)return n(u?"/":!0);if(!u)return n({name:"AutenticacaoEntrar"});if($db.sistemaUsoLog.registrar({rota:a.path.replace((f=a==null?void 0:a.params)==null?void 0:f.id,"id"),chave:(p=a==null?void 0:a.params)==null?void 0:p.id}),a.matched.some(g=>g.name==="AutenticacaoBancos"))return n(!0);if(localStorage.getItem("sincronismoPlat")!=="ok")return n({name:"AutenticacaoBancos"});const c=new Date($db.cache.get("SincronismoUltimaDataHoraLocal"));return(new Date-c)/36e5>=100&&($db.cache.set("SincronismoBloqueadoPorFalta","1"),_o.status.concluidoErp=!1),(_o.status.carregou&&!_o.status.concluidoErp||$db.cache.get("SincronismoBloqueadoPorFalta")==="1")&&!["CriarBanco","Desenvolvedor","Home","Plataforma15"].includes(a.name)?($db.cache.get("SincronismoBloqueadoPorFalta")==="1"&&$db.app.evento("notifyError","Voce estava h\xE1 mais de 20 horas sem conex\xE3o, aguarde o final do sincronismo"),n({name:"Home"})):(a==null?void 0:a.name)!=="NPS"&&await $utils.verificarPesquisa()?n({name:"NPS"}):(await $utils.conduta.exibir(),n(!0))}),r};async function K5e(e,t){const o=e(GFe);o.use(oz,t);const r=Lu(typeof R2=="function"?await R2({}):R2);return{app:o,router:r}}var Q5e={isoName:"pt-BR",nativeName:"Portugu\xEAs (BR)",label:{clear:"Limpar",ok:"OK",cancel:"Cancelar",close:"Fechar",set:"Escolher",select:"Selecionar",reset:"Redefinir",remove:"Remover",update:"Atualizar",create:"Criar",search:"Buscar",filter:"Filtrar",refresh:"Recarregar",expand:e=>e?`Expandir "${e}"`:"Expandir",collapse:e=>e?`Recolher "${e}"`:"Colapso"},date:{days:"Domingo_Segunda-feira_Ter\xE7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xE1bado".split("_"),daysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xE1b".split("_"),months:"Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),firstDayOfWeek:0,format24h:!0,pluralDay:"dias"},table:{noData:"Sem dados dispon\xEDveis",noResults:"Nenhum dado correspondente encontrado",loading:"Carregando...",selectedRecords:e=>e>0?e+" registro"+(e===1?" selecionado":"s selecionados")+".":"Nenhum registro selecionado.",recordsPerPage:"Registros por p\xE1gina:",allRows:"Todos",pagination:(e,t,o)=>e+"-"+t+" de "+o,columns:"Colunas"},editor:{url:"URL",bold:"Negrito",italic:"It\xE1lico",strikethrough:"Riscado",underline:"Sublinhado",unorderedList:"Lista n\xE3o-ordenada",orderedList:"Lista ordenada",subscript:"Subscrito",superscript:"Sobrescrito",hyperlink:"Hyperlink",toggleFullscreen:"Tela cheia",quote:"Cita\xE7\xE3o",left:"Alinhado \xE0 esquerda",center:"Alinhado ao centro",right:"Alinhado \xE0 direita",justify:"Justificado",print:"Imprimir",outdent:"Diminuir indenta\xE7\xE3o",indent:"Aumentar indenta\xE7\xE3o",removeFormat:"Remover formata\xE7\xE3o",formatting:"Formata\xE7\xE3o",fontSize:"Tamanho de fonte",align:"Alinhar",hr:"Inserir divis\xF3ria horizontal",undo:"Desfazer",redo:"Refazer",heading1:"Cabe\xE7alho 1",heading2:"Cabe\xE7alho 2",heading3:"Cabe\xE7alho 3",heading4:"Cabe\xE7alho 4",heading5:"Cabe\xE7alho 5",heading6:"Cabe\xE7alho 6",paragraph:"Par\xE1grafo",code:"C\xF3digo",size1:"Muito pequeno",size2:"Pequeno",size3:"Normal",size4:"M\xE9dio",size5:"Grande",size6:"Enorme",size7:"M\xE1ximo",defaultFont:"Fonte padr\xE3o",viewSource:"Exibir fonte"},tree:{noNodes:"Sem n\xF3s dispon\xEDveis",noResults:"Nenhum n\xF3 correspondente encontrado"}},J5e=At({name:"BottomSheetPlugin",props:{...Sa,title:String,message:String,actions:Array,grid:Boolean,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:o}=Ct(),r=Aa(e,o.$q),a=$e(null);function i(){a.value.show()}function n(){a.value.hide()}function s(f){t("ok",f),n()}function l(){t("hide")}function u(){return e.actions.map(f=>{const p=f.avatar||f.img;return f.label===void 0?ee(Ho,{class:"col-all",dark:r.value}):ee("div",{class:["q-bottom-sheet__item q-hoverable q-focusable cursor-pointer relative-position",f.class],style:f.style,tabindex:0,role:"listitem",onClick(){s(f)},onKeyup(g){g.keyCode===13&&s(f)}},[ee("div",{class:"q-focus-helper"}),f.icon?ee(Ve,{name:f.icon,color:f.color}):p?ee("img",{class:f.avatar?"q-bottom-sheet__avatar":"",src:p}):ee("div",{class:"q-bottom-sheet__empty-icon"}),ee("div",f.label)])})}function c(){return e.actions.map(f=>{const p=f.avatar||f.img;return f.label===void 0?ee(Ho,{spaced:!0,dark:r.value}):ee(We,{class:["q-bottom-sheet__item",f.classes],style:f.style,tabindex:0,clickable:!0,dark:r.value,onClick(){s(f)}},()=>[ee(Ie,{avatar:!0},()=>f.icon?ee(Ve,{name:f.icon,color:f.color}):p?ee("img",{class:f.avatar?"q-bottom-sheet__avatar":"",src:p}):null),ee(Ie,()=>f.label)])})}function d(){const f=[];return e.title&&f.push(ee(Ja,{class:"q-dialog__title"},()=>e.title)),e.message&&f.push(ee(Ja,{class:"q-dialog__message"},()=>e.message)),f.push(e.grid===!0?ee("div",{class:"row items-stretch justify-start",role:"list"},u()):ee("div",{role:"list"},c())),f}function m(){return[ee(Bt,{class:[`q-bottom-sheet q-bottom-sheet--${e.grid===!0?"grid":"list"}`+(r.value===!0?" q-bottom-sheet--dark q-dark":""),e.cardClass],style:e.cardStyle},d)]}return Object.assign(o,{show:i,hide:n}),()=>ee(Qt,{ref:a,position:"bottom",onHide:l},m)}});function p5(e,t){for(const o in t)o!=="spinner"&&Object(t[o])===t[o]?(e[o]=Object(e[o])!==e[o]?{}:{...e[o]},p5(e[o],t[o])):e[o]=t[o]}function h5(e,t,o){return r=>{let a,i;const n=t===!0&&r.component!==void 0;if(n===!0){const{component:_,componentProps:y}=r;a=typeof _=="string"?o.component(_):_,i=y||{}}else{const{class:_,style:y,...I}=r;a=e,i=I,_!==void 0&&(I.cardClass=_),y!==void 0&&(I.cardStyle=y)}let s,l=!1;const u=$e(null),c=yg(!1,"dialog"),d=_=>{if(u.value!==null&&u.value[_]!==void 0){u.value[_]();return}const y=s.$.subTree;if(y&&y.component){if(y.component.proxy&&y.component.proxy[_]){y.component.proxy[_]();return}if(y.component.subTree&&y.component.subTree.component&&y.component.subTree.component.proxy&&y.component.subTree.component.proxy[_]){y.component.subTree.component.proxy[_]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},m=[],f=[],p={onOk(_){return m.push(_),p},onCancel(_){return f.push(_),p},onDismiss(_){return m.push(_),f.push(_),p},hide(){return d("hide"),p},update(_){if(s!==null){if(n===!0)Object.assign(i,_);else{const{class:y,style:I,...S}=_;y!==void 0&&(S.cardClass=y),I!==void 0&&(S.cardStyle=I),p5(i,S)}s.$forceUpdate()}return p}},g=_=>{l=!0,m.forEach(y=>{y(_)})},b=()=>{x.unmount(c),Hx(c),x=null,s=null,l!==!0&&f.forEach(_=>{_()})};let x=ux({name:"QGlobalDialog",setup:()=>()=>ee(a,{...i,ref:u,onOk:g,onHide:b,onVnodeMounted(..._){typeof i.onVnodeMounted=="function"&&i.onVnodeMounted(..._),Do(()=>d("show"))}})},o);return s=x.mount(c),p}}var Z5e={install({$q:e,parentApp:t}){e.bottomSheet=h5(J5e,!1,t),this.__installed!==!0&&(this.create=e.bottomSheet)}};const v5={radio:Zs,checkbox:pp,toggle:zF},e6e=Object.keys(v5);var t6e=At({name:"QOptionGroup",props:{...Sa,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>e6e.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:o}){const{proxy:{$q:r}}=Ct(),a=Array.isArray(e.modelValue);e.type==="radio"?a===!0&&console.error("q-option-group: model should not be array"):a===!1&&console.error("q-option-group: model should be array in your case");const i=Aa(e,r),n=X(()=>v5[e.type]),s=X(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),l=X(()=>{const c={role:"group"};return e.type==="radio"&&(c.role="radiogroup",e.disable===!0&&(c["aria-disabled"]="true")),c});function u(c){t("update:modelValue",c)}return()=>ee("div",{class:s.value,...l.value},e.options.map((c,d)=>{const m=o["label-"+d]!==void 0?()=>o["label-"+d](c):o.label!==void 0?()=>o.label(c):void 0;return ee("div",[ee(n.value,{modelValue:e.modelValue,val:c.value,name:c.name===void 0?e.name:c.name,disable:e.disable||c.disable,label:m===void 0?c.label:null,leftLabel:c.leftLabel===void 0?e.leftLabel:c.leftLabel,color:c.color===void 0?e.color:c.color,checkedIcon:c.checkedIcon,uncheckedIcon:c.uncheckedIcon,dark:c.dark||i.value,size:c.size===void 0?e.size:c.size,dense:e.dense,keepColor:c.keepColor===void 0?e.keepColor:c.keepColor,"onUpdate:modelValue":u},m)])}))}}),o6e=At({name:"DialogPlugin",props:{...Sa,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:o}=Ct(),{$q:r}=o,a=Aa(e,r),i=$e(null),n=$e(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),s=X(()=>"q-dialog-plugin"+(a.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),l=X(()=>e.color||(a.value===!0?"amber":"primary")),u=X(()=>e.progress===!1?null:Ar(e.progress)===!0?{component:e.progress.spinner||tn,props:{color:e.progress.color||l.value}}:{component:tn,props:{color:l.value}}),c=X(()=>e.prompt!==void 0||e.options!==void 0),d=X(()=>{if(c.value!==!0)return{};const{model:z,isValid:W,items:j,...Q}=e.prompt!==void 0?e.prompt:e.options;return Q}),m=X(()=>Ar(e.ok)===!0||e.ok===!0?r.lang.label.ok:e.ok),f=X(()=>Ar(e.cancel)===!0||e.cancel===!0?r.lang.label.cancel:e.cancel),p=X(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(n.value)!==!0:e.options!==void 0?e.options.isValid!==void 0&&e.options.isValid(n.value)!==!0:!1),g=X(()=>({color:l.value,label:m.value,ripple:!1,disable:p.value,...Ar(e.ok)===!0?e.ok:{flat:!0},"data-autofocus":e.focus==="ok"&&c.value!==!0||void 0,onClick:y})),b=X(()=>({color:l.value,label:f.value,ripple:!1,...Ar(e.cancel)===!0?e.cancel:{flat:!0},"data-autofocus":e.focus==="cancel"&&c.value!==!0||void 0,onClick:I}));rt(()=>e.prompt&&e.prompt.model,O),rt(()=>e.options&&e.options.model,O);function x(){i.value.show()}function _(){i.value.hide()}function y(){t("ok",oo(n.value)),_()}function I(){_()}function S(){t("hide")}function O(z){n.value=z}function F(z){p.value!==!0&&e.prompt.type!=="textarea"&&En(z,13)===!0&&y()}function M(z,W){return e.html===!0?ee(Ja,{class:z,innerHTML:W}):ee(Ja,{class:z},()=>W)}function E(){return[ee(Ca,{color:l.value,dense:!0,autofocus:!0,dark:a.value,...d.value,modelValue:n.value,"onUpdate:modelValue":O,onKeyup:F})]}function D(){return[ee(t6e,{color:l.value,options:e.options.items,dark:a.value,...d.value,modelValue:n.value,"onUpdate:modelValue":O})]}function P(){const z=[];return e.cancel&&z.push(ee(pe,b.value)),e.ok&&z.push(ee(pe,g.value)),ee(JI,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>z)}function N(){const z=[];return e.title&&z.push(M("q-dialog__title",e.title)),e.progress!==!1&&z.push(ee(Ja,{class:"q-dialog__progress"},()=>ee(u.value.component,u.value.props))),e.message&&z.push(M("q-dialog__message",e.message)),e.prompt!==void 0?z.push(ee(Ja,{class:"scroll q-dialog-plugin__form"},E)):e.options!==void 0&&z.push(ee(Ho,{dark:a.value}),ee(Ja,{class:"scroll q-dialog-plugin__form"},D),ee(Ho,{dark:a.value})),(e.ok||e.cancel)&&z.push(P()),z}function R(){return[ee(Bt,{class:[s.value,e.cardClass],style:e.cardStyle,dark:a.value},N)]}return Object.assign(o,{show:x,hide:_}),()=>ee(Qt,{ref:i,onHide:S},R)}}),a6e={install({$q:e,parentApp:t}){e.dialog=h5(o6e,!0,t),this.__installed!==!0&&(this.create=e.dialog)}},r6e={config:{notify:{position:"top"}},lang:Q5e,directives:{Ripple:Cg,TouchPan:_r},plugins:{BottomSheet:Z5e,Dialog:a6e,Loading:Li,Notify:f8,Screen:A4}},i6e=function(){return Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},PC;typeof window!="undefined"&&(typeof Promise!="undefined"?PC=new Promise(function(e){return window.addEventListener("load",e)}):PC={then:function(e){return window.addEventListener("load",e)}});function n6e(e,t){t===void 0&&(t={});var o=t.registrationOptions;o===void 0&&(o={}),delete t.registrationOptions;var r=function(a){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];t&&t[a]&&t[a].apply(t,i)};"serviceWorker"in navigator&&PC.then(function(){i6e()?(s6e(e,r,o),navigator.serviceWorker.ready.then(function(a){r("ready",a)}).catch(function(a){return Qp(r,a)})):(g5(e,r,o),navigator.serviceWorker.ready.then(function(a){r("ready",a)}).catch(function(a){return Qp(r,a)}))})}function Qp(e,t){navigator.onLine||e("offline"),e("error",t)}function g5(e,t,o){navigator.serviceWorker.register(e,o).then(function(r){if(t("registered",r),r.waiting){t("updated",r);return}r.onupdatefound=function(){t("updatefound",r);var a=r.installing;a.onstatechange=function(){a.state==="installed"&&(navigator.serviceWorker.controller?t("updated",r):t("cached",r))}}}).catch(function(r){return Qp(t,r)})}function s6e(e,t,o){fetch(e).then(function(r){r.status===404?(t("error",new Error("Service worker not found at "+e)),UD()):r.headers.get("content-type").indexOf("javascript")===-1?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+r.headers.get("content-type"))),UD()):g5(e,t,o)}).catch(function(r){return Qp(t,r)})}function UD(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return Qp(emit,e)})}n6e("/sw.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}});const l6e="/";async function c6e({app:e,router:t},o){let r=!1;const a=s=>{try{return t.resolve(s).href}catch{}return Object(s)===s?null:s},i=s=>{if(r=!0,typeof s=="string"&&/^https?:\/\//.test(s)){window.location.href=s;return}const l=a(s);l!==null&&(window.location.href=l)},n=window.location.href.replace(window.location.origin,"");for(let s=0;r===!1&&s<o.length;s++)try{await o[s]({app:e,router:t,ssrContext:null,redirect:i,urlPath:n,publicPath:l6e})}catch(l){if(l&&l.url){i(l.url);return}console.error("[Quasar] boot error:",l);return}r!==!0&&(e.use(t),e.mount("#q-app"))}K5e(lg,r6e).then(e=>{const[t,o]=Promise.allSettled!==void 0?["allSettled",r=>r.map(a=>{if(a.status==="rejected"){console.error("[Quasar] boot error:",a.reason);return}return a.value.default})]:["all",r=>r.map(a=>a.default)];return Promise[t]([ze(()=>import("./g.c3345448.js"),[]),ze(()=>import("./router.f6c233b9.js"),[]),ze(()=>import("./axios.9ff7652e.js"),[]),ze(()=>import("./components-global.93e0d543.js"),["assets/components-global.93e0d543.js","assets/components-global.1c63a4ca.css","assets/BadgeCopiarUid.da65da18.js","assets/Campo.1b46de5f.js","assets/SeletorCfop.836a052d.js","assets/g-label.b6cf3895.js","assets/g-label.e72d0989.css"]),ze(()=>import("./db.2fdeca8d.js"),[]),ze(()=>import("./filtros.f170e4e6.js"),[]),ze(()=>import("./imprimir.e96241fc.js"),[]),ze(()=>import("./lodash.2d92768d.js"),[]),ze(()=>import("./mixin-global.f8fb1be7.js"),[]),ze(()=>import("./quasar-extends.625119b1.js"),["assets/quasar-extends.625119b1.js","assets/quasar-extends.3b04a69d.css","assets/QCalendarDay.5c30cb3b.js"]),ze(()=>import("./utils.47522aa7.js"),[]),ze(()=>import("./api.bdb51648.js"),[]),ze(()=>import("./tryLoading.cd31f8c4.js"),[])]).then(r=>{const a=o(r).filter(i=>typeof i=="function");c6e(e,a)})});export{Pt as $,xa as A,at as B,Te as C,pe as D,nt as E,Qe as F,La as G,Ru as H,dl as I,Pf as J,Jo as K,lt as L,Sc as M,vl as N,_4e as O,gPe as P,Ca as Q,Ba as R,pPe as S,zF as T,Kn as U,st as V,WC as W,XD as X,je as Y,Z,ht as _,Nu as a,_ge as a$,wY as a0,lj as a1,p6e as a2,vd as a3,Gn as a4,$e as a5,X as a6,ee as a7,rt as a8,Ct as a9,bge as aA,Io as aB,An as aC,Tn as aD,pp as aE,Xa as aF,XF as aG,jd as aH,o8 as aI,vge as aJ,Ja as aK,PF as aL,UL as aM,$n as aN,Fl as aO,lY as aP,Zi as aQ,pD as aR,c_e as aS,Dge as aT,WF as aU,Y1e as aV,N0 as aW,ca as aX,ax as aY,YF as aZ,Gd as a_,wo as aa,Ff as ab,ag as ac,tr as ad,wi as ae,Do as af,_6e as ag,Be as ah,wt as ai,We as aj,Ie as ak,Cg as al,Ho as am,At as an,Sa as ao,Aa as ap,Cn as aq,cx as ar,d6e as as,fl as at,Uu as au,u6e as av,bi as aw,ni as ax,sz as ay,_r as az,y6e as b,_o as b$,t6e as b0,Kf as b1,Qx as b2,uu as b3,J1 as b4,uD as b5,EF as b6,SF as b7,Wi as b8,xD as b9,ybe as bA,es as bB,xg as bC,tK as bD,r_ as bE,_f as bF,v6e as bG,ti as bH,zs as bI,ej as bJ,ft as bK,j9 as bL,G9 as bM,ec as bN,Cbe as bO,xbe as bP,GDe as bQ,WDe as bR,wbe as bS,Ibe as bT,XDe as bU,Sp as bV,iFe as bW,lFe as bX,Jve as bY,KNe as bZ,lF as b_,_D as ba,ql as bb,Bn as bc,rSe as bd,Vy as be,EC as bf,Z1 as bg,Zn as bh,av as bi,JI as bj,ZH as bk,ffe as bl,Rf as bm,tl as bn,Ga as bo,f6e as bp,P0 as bq,s1e as br,Ar as bs,m6e as bt,xW as bu,q9 as bv,QG as bw,lW as bx,ho as by,QI as bz,Ht as c,b6e as c$,Tt as c0,Q9 as c1,Mu as c2,Ka as c3,BFe as c4,gr as c5,QU as c6,JH as c7,g6e as c8,oo as c9,s8 as cA,r8 as cB,i8 as cC,XY as cD,k1e as cE,gD as cF,Rt as cG,pbe as cH,mbe as cI,hbe as cJ,Aee as cK,uDe as cL,jh as cM,mo as cN,dDe as cO,Uge as cP,jee as cQ,uO as cR,Pee as cS,obe as cT,lbe as cU,VDe as cV,J9e as cW,w1e as cX,E2 as cY,yc as cZ,s_ as c_,ug as ca,oi as cb,a1e as cc,bo as cd,D0 as ce,br as cf,bbe as cg,Ft as ch,Qo as ci,ji as cj,hf as ck,Wa as cl,Li as cm,nY as cn,Da as co,$y as cp,m8 as cq,Zs as cr,J9 as cs,pK as ct,vf as cu,gf as cv,lp as cw,H9 as cx,tn as cy,wg as cz,be as d,ys as d$,C1e as d0,GY as d1,y1e as d2,IF as d3,jDe as d4,V9e as d5,D9e as d6,Ws as d7,Vfe as d8,ZF as d9,gp as dA,Lu as dB,GB as dC,zC as dD,BC as dE,Yv as dF,vL as dG,dP as dH,KB as dI,SL as dJ,wL as dK,bL as dL,_L as dM,Za as dN,Bu as dO,Yd as dP,IP as dQ,QC as dR,Hr as dS,SP as dT,vu as dU,HL as dV,jP as dW,Tu as dX,DL as dY,Ki as dZ,ol as d_,ZEe as da,qDe as db,o5 as dc,B4e as dd,n_ as de,Kge as df,XI as dg,Qge as dh,YI as di,xF as dj,Jge as dk,l1e as dl,Xp as dm,ZT as dn,KI as dp,mge as dq,kC as dr,cf as ds,xL as dt,YB as du,jB as dv,JD as dw,LC as dx,pu as dy,Su as dz,te as e,CU as e$,Q$ as e0,UP as e1,g$ as e2,$P as e3,B$ as e4,e$ as e5,n$ as e6,s$ as e7,u$ as e8,l$ as e9,o4 as eA,Y$ as eB,a$ as eC,V$ as eD,m$ as eE,p$ as eF,a4 as eG,f$ as eH,KC as eI,i4 as eJ,OL as eK,KL as eL,xP as eM,QL as eN,_$ as eO,d$ as eP,W$ as eQ,kL as eR,h4 as eS,sg as eT,lg as eU,MU as eV,d4 as eW,bU as eX,w4 as eY,NU as eZ,ey as e_,i$ as ea,c$ as eb,Fd as ec,tg as ed,$u as ee,S$ as ef,G$ as eg,r4 as eh,z$ as ei,pc as ej,h$ as ek,v$ as el,e0 as em,PP as en,DP as eo,OP as ep,TP as eq,t0 as er,_s as es,G1 as et,ZP as eu,K$ as ev,uf as ew,W2 as ex,gP as ey,Au as ez,v as f,iU as f0,Zr as f1,_4 as f2,sx as f3,v4 as f4,YPe as f5,Z1e as f6,GM as f7,qme as f8,kne as f9,kee as fA,qY as fB,cK as fC,Rp as fD,uK as fE,Ot as fF,dK as fG,fK as fH,Je as fI,Lp as fJ,jt as fK,yt as fL,p8 as fM,Gee as fN,bK as fO,See as fP,ze as fQ,a0 as fR,phe as fS,hK as fT,M0 as fU,LDe as fV,D1 as fW,h6e as fX,sM as fa,kd as fb,tj as fc,aj as fd,Oy as fe,ij as ff,cY as fg,uY as fh,dY as fi,Yl as fj,Fp as fk,Na as fl,fY as fm,Ly as fn,jx as fo,li as fp,ra as fq,xY as fr,Mee as fs,Nee as ft,IY as fu,qr as fv,DY as fw,NY as fx,zee as fy,FY as fz,QH as g,JC as h,ue as i,Ve as j,Mt as k,ce as l,Cge as m,ii as n,$ as o,ke as p,ig as q,zt as r,Bt as s,de as t,Vr as u,ZC as v,w,A as x,Qt as y,ku as z};
