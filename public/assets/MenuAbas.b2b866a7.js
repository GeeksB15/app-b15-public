import{_ as p,$ as l,Y as d,o as c,d as m,x as b,f as S,w as j,F as h,r as g,i as w,aH as v,aG as _,v as O}from"./index.de1453f2.js";const y={data(){return{abaSelecionada:"",abas:[]}},methods:{async atualizar(){this.abas=[],this.abaSelecionada=null;let o=JSON.parse(localStorage.getItem("clienteSistema"))||{};if(!(o||{}).idSistema)return;const r=(await l.objeto.where({nomeObjeto:this.objetoPai}).toArray()).find(e=>e.id);if(!(r||{}).id)return;let i=await l.sistemaObjeto.where({idPai:r.id,idSistema:o.idSistema}).toArray();if(!i.length)return;const s=await l.objeto.where("id").anyOf(i.map(e=>e.idObjeto)).toArray();if(!s.length)return;i=i.sort((e,a)=>(e.ordem||0)>(a.ordem||0)?1:-1);const t=[];for(const e of i){const a=s.find(f=>f.id===e.idObjeto),u=JSON.parse(a.rota||null)||{};!await d.permissao.objeto(a.nomeObjeto)||a.tipo==="componente"&&!a.menuPrincipal&&(a.menuDesenvolvimento&&!(d.usuario.logado.desenvolvedor&&d.usuario.logado.desenvolvedor())||t.push({icon:a.icone||"",label:a.descricao||"",to:{name:u.name||""}}))}if(!t.length)return;let n=t.find(e=>e.to.name===this.$route.name);n||(n=t[0]),this.irPara(n.to),this.abaSelecionada=n.to.name,this.abas=t},irPara(o){this.$router.push({...o,...this.$route.params.id?{params:{id:this.$route.params.id}}:{}}),this.abaSelecionada=o.name}},props:{objetoPai:{type:String,required:!0}},watch:{"$route.name"(){this.abaSelecionada=this.$route.name}},mounted(){this.atualizar()}},$={class:"bg-gradiente text-white"},P={class:"u-container"};function x(o,r,i,s,t,n){return c(),m(h,null,[b("div",$,[b("div",P,[S(_,{modelValue:t.abaSelecionada,"onUpdate:modelValue":r[0]||(r[0]=e=>t.abaSelecionada=e),align:"justify",dense:"","indicator-color":"light-blue-4",color:"transparent","text-color":"white",class:"text-white q-mb-md"},{default:j(()=>[(c(!0),m(h,null,g(t.abas,(e,a)=>(c(),w(v,{class:"Layout-aba",name:e.to.name,label:e.label,icon:e.icon,key:a,onClick:u=>n.irPara(e.to)},null,8,["name","label","icon","onClick"]))),128))]),_:1},8,["modelValue"])])]),O(o.$slots,"default")],64)}var V=p(y,[["render",x]]);export{V as M};
